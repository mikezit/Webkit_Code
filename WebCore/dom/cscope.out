cscope 15 /data/WebKit-r57509_back/WebKit-r57509/WebCore/dom               0001021133
	@ActiveDOMObject.cpp

27 
	~"cÚfig.h
"

28 
	~"AùiveDOMObjeù.h
"

30 
	~"SütExecutiÚCÚ‹xt.h
"

31 
	~"WÜk”CÚ‹xt.h
"

32 
	~"WÜk”Th»ad.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
	gAùiveDOMObjeù
::
AùiveDOMObjeù
(
SütExecutiÚCÚ‹xt
* 
sütExecutiÚCÚ‹xt
, * 
upÿ¡Poš‹r
)

37 : 
m_sütExecutiÚCÚ‹xt
(
sütExecutiÚCÚ‹xt
)

38 , 
m_³ndšgAùiv™yCouÁ
(0)

40 #ià
ENABLE
(
WORKERS
)

41 
ASSERT
((
m_sütExecutiÚCÚ‹xt
->
isDocum’t
(è&& 
isMašTh»ad
())

42 || (
m_sütExecutiÚCÚ‹xt
->
isWÜk”CÚ‹xt
(è&& 
cu¼’tTh»ad
(è=ğ
¡©ic_ÿ¡
<
WÜk”CÚ‹xt
*>(m_sütExecutiÚCÚ‹xt)->
th»ad
()->
th»adID
()));

45 
	gm_sütExecutiÚCÚ‹xt
->
ü—‹dAùiveDOMObjeù
(
this
, 
upÿ¡Poš‹r
);

48 
	gAùiveDOMObjeù
::~
AùiveDOMObjeù
()

50 ià(
m_sütExecutiÚCÚ‹xt
) {

51 #ià
ENABLE
(
WORKERS
)

52 
ASSERT
((
m_sütExecutiÚCÚ‹xt
->
isDocum’t
(è&& 
isMašTh»ad
())

53 || (
m_sütExecutiÚCÚ‹xt
->
isWÜk”CÚ‹xt
(è&& 
cu¼’tTh»ad
(è=ğ
¡©ic_ÿ¡
<
WÜk”CÚ‹xt
*>(m_sütExecutiÚCÚ‹xt)->
th»ad
()->
th»adID
()));

56 
	gm_sütExecutiÚCÚ‹xt
->
de¡royedAùiveDOMObjeù
(
this
);

60 
boŞ
 
	gAùiveDOMObjeù
::
hasP’dšgAùiv™y
() const

62  
m_³ndšgAùiv™yCouÁ
;

65 
	gAùiveDOMObjeù
::
cÚ‹xtDe¡royed
()

67 
m_sütExecutiÚCÚ‹xt
 = 0;

70 
boŞ
 
	gAùiveDOMObjeù
::
ÿnSu¥’d
() const

72  
çl£
;

75 
	gAùiveDOMObjeù
::
su¥’d
()

79 
AùiveDOMObjeù
::
»sume
()

83 
AùiveDOMObjeù
::
¡İ
()

	@ActiveDOMObject.h

27 #iâdeà
AùiveDOMObjeù_h


28 
	#AùiveDOMObjeù_h


	)

30 
	~<wtf/As£¹iÚs.h
>

32 
Çme¥aû
 
	gWebCÜe
 {

34 
şass
 
	gSütExecutiÚCÚ‹xt
;

36 şas 
	cAùiveDOMObjeù
 {

37 
	gpublic
:

38 
AùiveDOMObjeù
(
SütExecutiÚCÚ‹xt
*, * 
upÿ¡Poš‹r
);

40 
SütExecutiÚCÚ‹xt
* 
sütExecutiÚCÚ‹xt
(ècÚ¡ {  
	gm_sütExecutiÚCÚ‹xt
; }

41 
vœtu®
 
boŞ
 
hasP’dšgAùiv™y
() const;

43 
vœtu®
 
cÚ‹xtDe¡royed
();

51 
vœtu®
 
boŞ
 
ÿnSu¥’d
() const;

52 
vœtu®
 
su¥’d
();

53 
vœtu®
 
»sume
();

54 
vœtu®
 
¡İ
();

56 
	g‹m¶©e
<
şass
 
	gT
> 
£tP’dšgAùiv™y
(
T
* 
thisObjeù
)

58 
ASSERT
(
thisObjeù
 =ğ
this
);

59 
	gthisObjeù
->
»f
();

60 
	gm_³ndšgAùiv™yCouÁ
++;

63 
	g‹m¶©e
<
şass
 
	gT
> 
un£tP’dšgAùiv™y
(
T
* 
thisObjeù
)

65 
ASSERT
(
m_³ndšgAùiv™yCouÁ
 > 0);

66 --
	gm_³ndšgAùiv™yCouÁ
;

67 
	gthisObjeù
->
d”ef
();

70 
	g´Ùeùed
:

71 
vœtu®
 ~
AùiveDOMObjeù
();

73 
	g´iv©e
:

74 
SütExecutiÚCÚ‹xt
* 
m_sütExecutiÚCÚ‹xt
;

75 
	gm_³ndšgAùiv™yCouÁ
;

	@Attr.cpp

23 
	~"cÚfig.h
"

24 
	~"A‰r.h
"

26 
	~"Docum’t.h
"

27 
	~"EËm’t.h
"

28 
	~"Exû±iÚCode.h
"

29 
	~"Text.h
"

30 
	~"XMLNSNames.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 
usšg
 
Çme¥aû
 
	gHTMLNames
;

36 
šlše
 
	gA‰r
::
A‰r
(
EËm’t
* 
–em’t
, 
Docum’t
* 
docum’t
, 
PassRefPŒ
<
A‰ribu‹
> 
©Œibu‹
)

37 : 
CÚš”Node
(
docum’t
)

38 , 
m_–em’t
(
–em’t
)

39 , 
m_©Œibu‹
(
©Œibu‹
)

40 , 
m_ignÜeChd»nChªged
(0)

41 , 
m_¥ecif›d
(
Œue
)

43 
ASSERT
(!
m_©Œibu‹
->
©Œ
());

44 
	gm_©Œibu‹
->
	gm_im¶
 = 
this
;

47 
	gPassRefPŒ
<
	gA‰r
> A‰r::
ü—‹
(
EËm’t
* 
–em’t
, 
Docum’t
* 
docum’t
, 
PassRefPŒ
<
A‰ribu‹
> 
©Œibu‹
)

49 
	gRefPŒ
<
	gA‰r
> 
	g©Œ
 = 
adİtRef
(
Ãw
 
A‰r
(
–em’t
, 
docum’t
, 
©Œibu‹
));

50 
	g©Œ
->
ü—‹TextChd
();

51  
	g©Œ
.
»Ëa£
();

54 
	gA‰r
::~
A‰r
()

56 
ASSERT
(
m_©Œibu‹
->
©Œ
(è=ğ
this
);

57 
	gm_©Œibu‹
->
	gm_im¶
 = 0;

60 
	gA‰r
::
ü—‹TextChd
()

62 
ASSERT
(
»fCouÁ
());

63 ià(!
	gm_©Œibu‹
->
v®ue
().
isEm±y
()) {

64 
	gRefPŒ
<
	gText
> 
	g‹xtNode
 = 
docum’t
()->
ü—‹TextNode
(
m_©Œibu‹
->
v®ue
().
¡ršg
());

68 
	g‹xtNode
->
£tP¬’t
(
this
);

69 
£tFœ¡Chd
(
‹xtNode
.
g‘
());

70 
£tLa¡Chd
(
‹xtNode
.
g‘
());

74 
SŒšg
 
	gA‰r
::
nodeName
() const

76  
Çme
();

79 
	gNode
::
NodeTy³
 
A‰r
::
nodeTy³
() const

81  
ATTRIBUTE_NODE
;

84 cÚ¡ 
	gAtomicSŒšg
& 
	gA‰r
::
loÿlName
() const

86  
m_©Œibu‹
->
loÿlName
();

89 cÚ¡ 
	gAtomicSŒšg
& 
	gA‰r
::
Çme¥aûURI
() const

91  
m_©Œibu‹
->
Çme¥aûURI
();

94 cÚ¡ 
	gAtomicSŒšg
& 
	gA‰r
::
´efix
() const

96  
m_©Œibu‹
->
´efix
();

99 
	gA‰r
::
£tP»fix
(cÚ¡ 
AtomicSŒšg
& 
´efix
, 
Exû±iÚCode
& 
ec
)

101 
	gec
 = 0;

102 
checkS‘P»fix
(
´efix
, 
ec
);

103 ià(
	gec
)

106 ià((
	g´efix
 =ğ
xmÊsAtom
 && 
Çme¥aûURI
(è!ğ
XMLNSNames
::
xmÊsName¥aûURI
)

107 || 
¡©ic_ÿ¡
<
A‰r
*>(
this
)->
qu®if›dName
(è=ğ
xmÊsAtom
) {

108 
ec
 = 
NAMESPACE_ERR
;

112 
	gm_©Œibu‹
->
£tP»fix
(
´efix
.
isEm±y
(è? 
AtomicSŒšg
() :…refix);

115 
SŒšg
 
	gA‰r
::
nodeV®ue
() const

117  
v®ue
();

120 
	gA‰r
::
£tV®ue
(cÚ¡ 
AtomicSŒšg
& 
v®ue
, 
Exû±iÚCode
&)

122 
	gm_ignÜeChd»nChªged
++;

123 
»moveChd»n
();

124 
	gm_©Œibu‹
->
£tV®ue
(
v®ue
);

125 
ü—‹TextChd
();

126 
	gm_ignÜeChd»nChªged
--;

128 ià(
	gm_–em’t
)

129 
	gm_–em’t
->
©Œibu‹Chªged
(
m_©Œibu‹
.
g‘
());

132 
	gA‰r
::
£tNodeV®ue
(cÚ¡ 
SŒšg
& 
v
, 
Exû±iÚCode
& 
ec
)

134 
£tV®ue
(
v
, 
ec
);

137 
	gPassRefPŒ
<
	gNode
> 
	gA‰r
::
şÚeNode
(
boŞ
 )

139 
RefPŒ
<
A‰r
> 
şÚe
 = 
adİtRef
(
Ãw
 A‰r(0, 
docum’t
(), 
m_©Œibu‹
->clone()));

140 
şÚeChdNodes
(
şÚe
.
g‘
());

141  
	gşÚe
.
»Ëa£
();

145 
boŞ
 
	gA‰r
::
chdTy³AÎowed
(
NodeTy³
 
ty³
)

147 
ty³
) {

148 
TEXT_NODE
:

149 
ENTITY_REFERENCE_NODE
:

150  
Œue
;

152  
çl£
;

156 
	gA‰r
::
chd»nChªged
(
boŞ
 
chªgedByP¬£r
, 
Node
* 
befÜeChªge
, Node* 
aá”Chªge
, 
chdCouÁD–
)

158 ià(
	gm_ignÜeChd»nChªged
 > 0)

161 
	gNode
::
chd»nChªged
(
chªgedByP¬£r
, 
befÜeChªge
, 
aá”Chªge
, 
chdCouÁD–
);

165 
SŒšg
 
	gv®
 = "";

166 
Node
 *
	gn
 = 
fœ¡Chd
();‚;‚ = 
n
->
ÃxtSiblšg
()) {

167 ià(
n
->
isTextNode
())

168 
v®
 +ğ
¡©ic_ÿ¡
<
Text
 *>(
n
)->
d©a
();

171 
	gm_©Œibu‹
->
£tV®ue
(
v®
.
im¶
());

172 ià(
	gm_–em’t
)

173 
	gm_–em’t
->
©Œibu‹Chªged
(
m_©Œibu‹
.
g‘
());

176 
boŞ
 
	gA‰r
::
isId
() const

178  
qu®if›dName
().
m©ches
(
m_–em’t
 ? m_–em’t->
idA‰ribu‹Name
(è: 
idA‰r
);

	@Attr.h

25 #iâdeà
A‰r_h


26 
	#A‰r_h


	)

28 
	~"CÚš”Node.h
"

29 
	~"A‰ribu‹.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

39 şas 
	cA‰r
 : 
public
 
CÚš”Node
 {

40 
ä›nd
 
şass
 
NamedNodeM­
;

41 
	gpublic
:

42 
PassRefPŒ
<
A‰r
> 
ü—‹
(
EËm’t
*, 
Docum’t
*, PassRefPŒ<
A‰ribu‹
>);

43 
	gvœtu®
 ~
A‰r
();

45 
SŒšg
 
Çme
(ècÚ¡ {  
qu®if›dName
().
toSŒšg
(); }

46 
boŞ
 
¥ecif›d
(ècÚ¡ {  
	gm_¥ecif›d
; }

47 
EËm’t
* 
owÃrEËm’t
(ècÚ¡ {  
	gm_–em’t
; }

49 cÚ¡ 
	gAtomicSŒšg
& 
v®ue
(ècÚ¡ {  
	gm_©Œibu‹
->value(); }

50 
£tV®ue
(cÚ¡ 
AtomicSŒšg
&, 
Exû±iÚCode
&);

52 
A‰ribu‹
* 
©Œ
(ècÚ¡ {  
	gm_©Œibu‹
.
g‘
(); }

53 cÚ¡ 
	gQu®if›dName
& 
qu®if›dName
(ècÚ¡ {  
	gm_©Œibu‹
->
Çme
(); }

55 
boŞ
 
isId
() const;

58 
CSSStyËDeş¬©iÚ
* 
¡yË
(è{  
	gm_©Œibu‹
->style(); }

60 
£tS³cif›d
(
boŞ
 
¥ecif›d
è{ 
	gm_¥ecif›d
 = specified; }

62 
	g´iv©e
:

63 
A‰r
(
EËm’t
*, 
Docum’t
*, 
PassRefPŒ
<
A‰ribu‹
>);

65 
ü—‹TextChd
();

67 
vœtu®
 
SŒšg
 
nodeName
() const;

68 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

70 cÚ¡ 
	gAtomicSŒšg
& 
loÿlName
() const;

71 cÚ¡ 
	gAtomicSŒšg
& 
Çme¥aûURI
() const;

72 cÚ¡ 
	gAtomicSŒšg
& 
´efix
() const;

74 
vœtu®
 
£tP»fix
(cÚ¡ 
AtomicSŒšg
&, 
Exû±iÚCode
&);

76 
vœtu®
 
SŒšg
 
nodeV®ue
() const;

77 
vœtu®
 
£tNodeV®ue
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

78 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

80 
vœtu®
 
boŞ
 
isA‰ribu‹Node
(ècÚ¡ {  
	gŒue
; }

81 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
);

83 
vœtu®
 
chd»nChªged
(
boŞ
 
chªgedByP¬£r
 = 
çl£
, 
Node
* 
befÜeChªge
 = 0, Node* 
aá”Chªge
 = 0, 
chdCouÁD–
 = 0);

85 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
vœtu®P»fix
(ècÚ¡ {  
´efix
(); }

86 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
vœtu®LoÿlName
(ècÚ¡ {  
loÿlName
(); }

87 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
vœtu®Name¥aûURI
(ècÚ¡ {  
Çme¥aûURI
(); }

89 
EËm’t
* 
	gm_–em’t
;

90 
	gRefPŒ
<
	gA‰ribu‹
> 
	gm_©Œibu‹
;

91 
	gm_ignÜeChd»nChªged
 : 31;

92 
boŞ
 
	gm_¥ecif›d
 : 1;

	@Attribute.cpp

24 
	~"cÚfig.h
"

25 
	~"A‰ribu‹.h
"

27 
	~"A‰r.h
"

28 
	~"EËm’t.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 
	gPassRefPŒ
<
	gA‰ribu‹
> A‰ribu‹::
şÚe
() const

34  
adİtRef
(
Ãw
 
A‰ribu‹
(
m_Çme
, 
m_v®ue
));

37 
	gPassRefPŒ
<
	gA‰r
> 
	gA‰ribu‹
::
ü—‹A‰rIfN“ded
(
EËm’t
* 
e
)

39 
RefPŒ
<
A‰r
> 
r
 = 
m_im¶
;

40 ià(!
	gr
)

41 
	gr
 = 
A‰r
::
ü—‹
(
e
,ƒ->
docum’t
(), 
this
);

42  
	gr
.
»Ëa£
();

	@Attribute.h

25 #iâdeà
A‰ribu‹_h


26 
	#A‰ribu‹_h


	)

28 
	~"Qu®if›dName.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 
şass
 
	gA‰r
;

33 
şass
 
	gCSSStyËDeş¬©iÚ
;

34 
şass
 
	gEËm’t
;

35 
şass
 
	gNamedNodeM­
;

40 
şass
 
	gA‰ribu‹
 : 
public
 
RefCouÁed
<
A‰ribu‹
> {

41 
ä›nd
 
şass
 
A‰r
;

42 
ä›nd
 
şass
 
	gNamedNodeM­
;

43 
	gpublic
:

44 
PassRefPŒ
<
A‰ribu‹
> 
ü—‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
)

46  
adİtRef
(
Ãw
 
A‰ribu‹
(
Çme
, 
v®ue
));

48 
	gvœtu®
 ~
A‰ribu‹
() { }

50 cÚ¡ 
	gAtomicSŒšg
& 
v®ue
(ècÚ¡ {  
	gm_v®ue
; }

51 cÚ¡ 
	gAtomicSŒšg
& 
´efix
(ècÚ¡ {  
	gm_Çme
.prefix(); }

52 cÚ¡ 
	gAtomicSŒšg
& 
loÿlName
(ècÚ¡ {  
	gm_Çme
.localName(); }

53 cÚ¡ 
	gAtomicSŒšg
& 
Çme¥aûURI
(ècÚ¡ {  
	gm_Çme
.namespaceURI(); }

55 cÚ¡ 
	gQu®if›dName
& 
Çme
(ècÚ¡ {  
	gm_Çme
; }

57 
A‰r
* 
©Œ
(ècÚ¡ {  
	gm_im¶
; }

58 
	gPassRefPŒ
<
	gA‰r
> 
ü—‹A‰rIfN“ded
(
EËm’t
*);

60 
boŞ
 
isNuÎ
(ècÚ¡ {  
	gm_v®ue
.isNull(); }

61 
boŞ
 
isEm±y
(ècÚ¡ {  
	gm_v®ue
.isEmpty(); }

63 
vœtu®
 
	gPassRefPŒ
<
	gA‰ribu‹
> 
şÚe
() const;

66 
vœtu®
 
CSSStyËDeş¬©iÚ
* 
¡yË
() const {  0; }

68 
£tV®ue
(cÚ¡ 
AtomicSŒšg
& 
v®ue
è{ 
	gm_v®ue
 = value; }

69 
£tP»fix
(cÚ¡ 
AtomicSŒšg
& 
´efix
è{ 
	gm_Çme
.setPrefix(prefix); }

71 
vœtu®
 
boŞ
 
isM­³dA‰ribu‹
(è{  
	gçl£
; }

73 
	g´Ùeùed
:

74 
A‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
)

75 : 
m_Çme
(
Çme
), 
m_v®ue
(
v®ue
), 
m_im¶
(0)

78 
A‰ribu‹
(cÚ¡ 
AtomicSŒšg
& 
Çme
, cÚ¡ AtomicSŒšg& 
v®ue
)

79 : 
m_Çme
(
nuÎAtom
, 
Çme
,‚uÎAtom), 
m_v®ue
(
v®ue
), 
m_im¶
(0)

83 
	g´iv©e
:

84 
Qu®if›dName
 
m_Çme
;

85 
AtomicSŒšg
 
	gm_v®ue
;

86 
A‰r
* 
	gm_im¶
;

	@BeforeLoadEvent.h

27 #iâdeà
BefÜeLßdEv’t_h


28 
	#BefÜeLßdEv’t_h


	)

30 
	~"Ev’t.h
"

31 
	~"Ev’tNames.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 şas 
	cBefÜeLßdEv’t
 : 
public
 
Ev’t
 {

36 
public
:

37 
vœtu®
 
boŞ
 
isBefÜeLßdEv’t
(ècÚ¡ {  
Œue
; }

39 
	gPassRefPŒ
<
	gBefÜeLßdEv’t
> 
ü—‹
(cÚ¡ 
SŒšg
& 
u¾
)

41  
adİtRef
(
Ãw
 
BefÜeLßdEv’t
(
u¾
));

44 
š™BefÜeLßdEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, cÚ¡ 
SŒšg
& 
u¾
)

46 ià(
di¥©ched
())

49 
š™Ev’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
);

51 
	gm_u¾
 = 
u¾
;

54 cÚ¡ 
	gSŒšg
& 
u¾
(ècÚ¡ {  
	gm_u¾
; }

56 
	g´iv©e
:

57 
BefÜeLßdEv’t
(cÚ¡ 
SŒšg
& 
u¾
)

58 : 
Ev’t
(
ev’tNames
().
befÜ–ßdEv’t
, 
çl£
, 
Œue
)

59 , 
m_u¾
(
u¾
)

62 
SŒšg
 
	gm_u¾
;

	@BeforeTextInsertedEvent.cpp

26 
	~"cÚfig.h
"

27 
	~"BefÜeTextIn£¹edEv’t.h
"

29 
	~"Ev’tNames.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	gBefÜeTextIn£¹edEv’t
::
BefÜeTextIn£¹edEv’t
(cÚ¡ 
SŒšg
& 
‹xt
)

34 : 
Ev’t
(
ev’tNames
().
webk™BefÜeTextIn£¹edEv’t
, 
çl£
, 
Œue
), 
m_‹xt
(
‹xt
)

	@BeforeTextInsertedEvent.h

26 #iâdeà
BefÜeTextIn£¹edEv’t_h


27 
	#BefÜeTextIn£¹edEv’t_h


	)

29 
	~"Ev’t.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cBefÜeTextIn£¹edEv’t
 : 
public
 
Ev’t
 {

34 
public
:

35 
PassRefPŒ
<
BefÜeTextIn£¹edEv’t
> 
ü—‹
(cÚ¡ 
SŒšg
& 
‹xt
)

37  
adİtRef
(
Ãw
 
BefÜeTextIn£¹edEv’t
(
‹xt
));

40 
vœtu®
 
boŞ
 
isBefÜeTextIn£¹edEv’t
(ècÚ¡ {  
	gŒue
; }

42 cÚ¡ 
	gSŒšg
& 
‹xt
(ècÚ¡ {  
	gm_‹xt
; }

43 
£tText
(cÚ¡ 
SŒšg
& 
s
è{ 
	gm_‹xt
 = s; }

45 
	g´iv©e
:

46 
BefÜeTextIn£¹edEv’t
(cÚ¡ 
SŒšg
&);

48 
SŒšg
 
	gm_‹xt
;

	@BeforeUnloadEvent.cpp

23 
	~"cÚfig.h
"

24 
	~"BefÜeUÆßdEv’t.h
"

26 
	~"Ev’tNames.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 
	gBefÜeUÆßdEv’t
::
BefÜeUÆßdEv’t
()

31 : 
Ev’t
(
ev’tNames
().
befÜeuÆßdEv’t
, 
çl£
, 
Œue
)

35 
boŞ
 
	gBefÜeUÆßdEv’t
::
¡ÜesResuÉAsSŒšg
() const

37  
Œue
;

40 
	gBefÜeUÆßdEv’t
::
¡ÜeResuÉ
(cÚ¡ 
SŒšg
& 
s
)

42 
m_»suÉ
 = 
s
;

	@BeforeUnloadEvent.h

24 #iâdeà
BefÜeUÆßdEv’t_h


25 
	#BefÜeUÆßdEv’t_h


	)

27 
	~"Ev’t.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 şas 
	cBefÜeUÆßdEv’t
 : 
public
 
Ev’t
 {

32 
public
:

33 
PassRefPŒ
<
BefÜeUÆßdEv’t
> 
ü—‹
()

35  
adİtRef
(
Ãw
 
BefÜeUÆßdEv’t
);

38 
vœtu®
 
boŞ
 
¡ÜesResuÉAsSŒšg
() const;

39 
vœtu®
 
¡ÜeResuÉ
(cÚ¡ 
SŒšg
&);

41 
SŒšg
 
»suÉ
(ècÚ¡ {  
	gm_»suÉ
; }

43 
	g´iv©e
:

44 
BefÜeUÆßdEv’t
();

46 
SŒšg
 
	gm_»suÉ
;

	@CDATASection.cpp

22 
	~"cÚfig.h
"

23 
	~"CDATASeùiÚ.h
"

25 
	~"Docum’t.h
"

27 
Çme¥aû
 
	gWebCÜe
 {

29 
šlše
 
	gCDATASeùiÚ
::
CDATASeùiÚ
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
d©a
)

30 : 
Text
(
docum’t
, 
d©a
)

34 
	gPassRefPŒ
<
	gCDATASeùiÚ
> CDATASeùiÚ::
ü—‹
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
d©a
)

36  
adİtRef
(
Ãw
 
CDATASeùiÚ
(
docum’t
, 
d©a
));

39 
SŒšg
 
	gCDATASeùiÚ
::
nodeName
() const

44 
	gNode
::
NodeTy³
 
CDATASeùiÚ
::
nodeTy³
() const

46  
CDATA_SECTION_NODE
;

49 
	gPassRefPŒ
<
	gNode
> 
	gCDATASeùiÚ
::
şÚeNode
(
boŞ
 )

51  
ü—‹
(
docum’t
(), 
d©a
());

54 
boŞ
 
	gCDATASeùiÚ
::
chdTy³AÎowed
(
NodeTy³
)

56  
çl£
;

59 
	gPassRefPŒ
<
	gText
> 
	gCDATASeùiÚ
::
vœtu®C»©e
(cÚ¡ 
SŒšg
& 
d©a
)

61  
ü—‹
(
docum’t
(), 
d©a
);

	@CDATASection.h

23 #iâdeà
CDATASeùiÚ_h


24 
	#CDATASeùiÚ_h


	)

26 
	~"Text.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 şas 
	cCDATASeùiÚ
 : 
public
 
Text
 {

31 
public
:

32 
PassRefPŒ
<
CDATASeùiÚ
> 
ü—‹
(
Docum’t
*, cÚ¡ 
SŒšg
&);

34 
	g´iv©e
:

35 
CDATASeùiÚ
(
Docum’t
*, cÚ¡ 
SŒšg
&);

37 
vœtu®
 
SŒšg
 
nodeName
() const;

38 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

39 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

40 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
);

41 
vœtu®
 
	gPassRefPŒ
<
	gText
> 
vœtu®C»©e
(cÚ¡ 
SŒšg
&);

	@CSSMappedAttributeDeclaration.cpp

23 
	~"cÚfig.h
"

24 
	~"CSSM­³dA‰ribu‹Deş¬©iÚ.h
"

26 
	~"StyËdEËm’t.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 
	gCSSM­³dA‰ribu‹Deş¬©iÚ
::~
CSSM­³dA‰ribu‹Deş¬©iÚ
()

32 ià(
m_’ŒyTy³
 !ğ
eP”si¡’t
)

33 
StyËdEËm’t
::
»moveM­³dA‰ribu‹Deş
(
m_’ŒyTy³
, 
m_©ŒName
, 
m_©ŒV®ue
);

	@CSSMappedAttributeDeclaration.h

25 #iâdeà
CSSM­³dA‰ribu‹Deş¬©iÚ_h


26 
	#CSSM­³dA‰ribu‹Deş¬©iÚ_h


	)

28 
	~"CSSMubËStyËDeş¬©iÚ.h
"

29 
	~"M­³dA‰ribu‹EÁry.h
"

30 
	~"Qu®if›dName.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 şas 
	cCSSM­³dA‰ribu‹Deş¬©iÚ
 : 
public
 
CSSMubËStyËDeş¬©iÚ
 {

35 
public
:

36 
PassRefPŒ
<
CSSM­³dA‰ribu‹Deş¬©iÚ
> 
ü—‹
()

38  
adİtRef
(
Ãw
 
CSSM­³dA‰ribu‹Deş¬©iÚ
(0));

41 
	gvœtu®
 ~
CSSM­³dA‰ribu‹Deş¬©iÚ
();

43 
£tM­³dS‹
(
M­³dA‰ribu‹EÁry
 
ty³
, cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®
)

45 
	gm_’ŒyTy³
 = 
ty³
;

46 
	gm_©ŒName
 = 
Çme
;

47 
	gm_©ŒV®ue
 = 
v®
;

50 
	g´iv©e
:

51 
CSSM­³dA‰ribu‹Deş¬©iÚ
(
CSSRuË
* 
·»ÁRuË
)

52 : 
CSSMubËStyËDeş¬©iÚ
(
·»ÁRuË
)

53 , 
m_’ŒyTy³
(
eNÚe
)

54 , 
m_©ŒName
(
ªyQName
())

58 
M­³dA‰ribu‹EÁry
 
	gm_’ŒyTy³
;

59 
Qu®if›dName
 
	gm_©ŒName
;

60 
AtomicSŒšg
 
	gm_©ŒV®ue
;

	@CanvasSurface.cpp

26 
	~"cÚfig.h
"

27 
	~"CªvasSurçû.h
"

29 
	~"AffšeT¿nsfÜm.h
"

30 
	~"Exû±iÚCode.h
"

31 
	~"FlßtReù.h
"

32 
	~"G¿phicsCÚ‹xt.h
"

33 
	~"HTMLCªvasEËm’t.h
"

34 
	~"ImageBufãr.h
"

35 
	~"MIMETy³Regi¡ry.h
"

37 
Çme¥aû
 
	gWebCÜe
 {

40 cÚ¡ 
	gCªvasSurçû
::
DeçuÉWidth
 = 300;

41 cÚ¡ 
	gCªvasSurçû
::
DeçuÉHeight
 = 150;

46 cÚ¡ 
	gCªvasSurçû
::
MaxCªvasA»a
 = 32768 * 8192;

48 
	gCªvasSurçû
::
CªvasSurçû
(
·geSÿËFaùÜ
)

49 : 
m_size
(
DeçuÉWidth
, 
DeçuÉHeight
)

50 , 
m_·geSÿËFaùÜ
(
·geSÿËFaùÜ
)

51 , 
m_ÜigšCËª
(
Œue
)

52 , 
m_hasC»©edImageBufãr
(
çl£
)

56 
	gCªvasSurçû
::~
CªvasSurçû
()

60 
CªvasSurçû
::
£tSurçûSize
(cÚ¡ 
IÁSize
& 
size
)

62 
m_size
 = 
size
;

63 
	gm_hasC»©edImageBufãr
 = 
çl£
;

64 
	gm_imageBufãr
.
ş—r
();

67 
SŒšg
 
	gCªvasSurçû
::
toD©aURL
(cÚ¡ SŒšg& 
mimeTy³
, 
Exû±iÚCode
& 
ec
)

69 ià(!
	gm_ÜigšCËª
) {

70 
	gec
 = 
SECURITY_ERR
;

71  
SŒšg
();

74 ià(
	gm_size
.
isEm±y
(è|| !
bufãr
())

75  
SŒšg
("data:,");

78 ià(
	gmimeTy³
.
isNuÎ
(è|| !
	gMIMETy³Regi¡ry
::
isSuµÜ‹dImageMIMETy³FÜEncodšg
(
mimeTy³
))

79  
bufãr
()->
toD©aURL
("image/png");

81  
bufãr
()->
toD©aURL
(
mimeTy³
);

84 
	gCªvasSurçû
::
wlD¿w
(cÚ¡ 
FlßtReù
&)

86 ià(
m_imageBufãr
)

87 
m_imageBufãr
->
ş—rImage
();

90 
IÁReù
 
	gCªvasSurçû
::
cÚv”tLogiÿlToDeviû
(cÚ¡ 
FlßtReù
& 
logiÿlReù
) const

92  
IÁReù
(
cÚv”tLogiÿlToDeviû
(
logiÿlReù
.
loÿtiÚ
()), cÚv”tLogiÿlToDeviûÖogiÿlReù.
size
()));

95 
IÁSize
 
	gCªvasSurçû
::
cÚv”tLogiÿlToDeviû
(cÚ¡ 
FlßtSize
& 
logiÿlSize
) const

97 
wf
 = 
ûf
(
logiÿlSize
.
width
(è* 
m_·geSÿËFaùÜ
);

98 
	ghf
 = 
ûf
(
logiÿlSize
.
height
(è* 
m_·geSÿËFaùÜ
);

100 ià(!(
	gwf
 >ğ1 && 
hf
 >ğ1 && 
wf
 * hà<ğ
MaxCªvasA»a
))

101  
IÁSize
();

103  
IÁSize
(
¡©ic_ÿ¡
<>(
wf
), stic_ÿ¡<>(
hf
));

106 
IÁPošt
 
	gCªvasSurçû
::
cÚv”tLogiÿlToDeviû
(cÚ¡ 
FlßtPošt
& 
logiÿlPos
) const

108 
xf
 = 
logiÿlPos
.
x
(è* 
m_·geSÿËFaùÜ
;

109 
	gyf
 = 
logiÿlPos
.
y
(è* 
m_·geSÿËFaùÜ
;

111  
IÁPošt
(
¡©ic_ÿ¡
<>(
xf
), stic_ÿ¡<>(
yf
));

114 
	gCªvasSurçû
::
ü—‹ImageBufãr
() const

116 
ASSERT
(!
m_imageBufãr
);

118 
	gm_hasC»©edImageBufãr
 = 
Œue
;

120 
FlßtSize
 
unsÿËdSize
(
width
(), 
height
());

121 
IÁSize
 
	gsize
 = 
cÚv”tLogiÿlToDeviû
(
unsÿËdSize
);

122 ià(!
	gsize
.
width
(è|| !size.
height
())

125 
	gm_imageBufãr
 = 
ImageBufãr
::
ü—‹
(
size
);

128 ià(!
	gm_imageBufãr
)

130 
	gm_imageBufãr
->
cÚ‹xt
()->
sÿË
(
FlßtSize
(
size
.
width
(è/ 
unsÿËdSize
.width(), size.
height
() / unscaledSize.height()));

131 
	gm_imageBufãr
->
cÚ‹xt
()->
£tShadowsIgnÜeT¿nsfÜms
(
Œue
);

134 
G¿phicsCÚ‹xt
* 
	gCªvasSurçû
::
d¿wšgCÚ‹xt
() const

136  
bufãr
(è? 
m_imageBufãr
->
cÚ‹xt
() : 0;

139 
ImageBufãr
* 
	gCªvasSurçû
::
bufãr
() const

141 ià(!
m_hasC»©edImageBufãr
)

142 
ü—‹ImageBufãr
();

143  
	gm_imageBufãr
.
g‘
();

146 
AffšeT¿nsfÜm
 
	gCªvasSurçû
::
ba£T¿nsfÜm
() const

148 
ASSERT
(
m_hasC»©edImageBufãr
);

149 
FlßtSize
 
unsÿËdSize
(
width
(), 
height
());

150 
IÁSize
 
	gsize
 = 
cÚv”tLogiÿlToDeviû
(
unsÿËdSize
);

151 
AffšeT¿nsfÜm
 
	gŒªsfÜm
;

152 ià(
	gsize
.
width
(è&& size.
height
())

153 
	gŒªsfÜm
.
sÿËNÚUnifÜm
(
size
.
width
(è/ 
unsÿËdSize
.width(), size.
height
() / unscaledSize.height());

154 
	gŒªsfÜm
.
muÉly
(
m_imageBufãr
->
ba£T¿nsfÜm
());

155  
	gŒªsfÜm
;

160 cÚ¡ 
	gSecur™yOrigš
& 
	gCªvasSurçû
::
£cur™yOrigš
() const

162  *(
¡©ic_ÿ¡
<cÚ¡ 
HTMLCªvasEËm’t
*>(
this
)->
docum’t
()->
£cur™yOrigš
());

165 
R’d”Box
* 
	gCªvasSurçû
::
»nd”Box
() const

167  
¡©ic_ÿ¡
<cÚ¡ 
HTMLCªvasEËm’t
*>(
this
)->
»nd”Box
();

170 
R’d”StyË
* 
	gCªvasSurçû
::
compu‹dStyË
()

172  
¡©ic_ÿ¡
<
HTMLCªvasEËm’t
*>(
this
)->
compu‹dStyË
();

175 
CSSStyËS–eùÜ
* 
	gCªvasSurçû
::
¡yËS–eùÜ
()

177  
¡©ic_ÿ¡
<
HTMLCªvasEËm’t
*>(
this
)->
docum’t
()->
¡yËS–eùÜ
();

	@CanvasSurface.h

26 #iâdeà
CªvasSurçû_h


27 
	#CªvasSurçû_h


	)

29 
	~"AffšeT¿nsfÜm.h
"

30 
	~"IÁSize.h
"

32 
	~<wtf/OwnPŒ.h
>

33 
	~<wtf/NÚcİyabË.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gAffšeT¿nsfÜm
;

38 
şass
 
	gFlßtPošt
;

39 
şass
 
	gFlßtReù
;

40 
şass
 
	gFlßtSize
;

41 
şass
 
	gG¿phicsCÚ‹xt
;

42 
şass
 
	gImageBufãr
;

43 
şass
 
	gIÁPošt
;

44 
şass
 
	gSŒšg
;

46 
şass
 
	gCSSStyËS–eùÜ
;

47 
şass
 
	gR’d”Box
;

48 
şass
 
	gR’d”StyË
;

49 
şass
 
	gSecur™yOrigš
;

51 
	tExû±iÚCode
;

53 şas 
	cCªvasSurçû
 : 
public
 
NÚcİyabË
 {

54 
public
:

55 
CªvasSurçû
(
·geSÿËFaùÜ
);

56 
	gvœtu®
 ~
CªvasSurçû
();

58 
width
(ècÚ¡ {  
	gm_size
.width(); }

59 
height
(ècÚ¡ {  
	gm_size
.height(); }

61 
SŒšg
 
toD©aURL
(cÚ¡ SŒšg& 
mimeTy³
, 
Exû±iÚCode
&);

63 cÚ¡ 
	gIÁSize
& 
size
(ècÚ¡ {  
	gm_size
; }

65 
vœtu®
 
wlD¿w
(cÚ¡ 
FlßtReù
&);

67 
G¿phicsCÚ‹xt
* 
d¿wšgCÚ‹xt
() const;

69 
ImageBufãr
* 
bufãr
() const;

71 
IÁReù
 
cÚv”tLogiÿlToDeviû
(cÚ¡ 
FlßtReù
&) const;

72 
IÁSize
 
cÚv”tLogiÿlToDeviû
(cÚ¡ 
FlßtSize
&) const;

73 
IÁPošt
 
cÚv”tLogiÿlToDeviû
(cÚ¡ 
FlßtPošt
&) const;

75 
£tOrigšTaš‹d
(è{ 
	gm_ÜigšCËª
 = 
çl£
; }

76 
boŞ
 
ÜigšCËª
(ècÚ¡ {  
	gm_ÜigšCËª
; }

78 
AffšeT¿nsfÜm
 
ba£T¿nsfÜm
() const;

80 cÚ¡ 
	gSecur™yOrigš
& 
£cur™yOrigš
() const;

81 
R’d”Box
* 
»nd”Box
() const;

82 
R’d”StyË
* 
compu‹dStyË
();

83 
CSSStyËS–eùÜ
* 
¡yËS–eùÜ
();

85 
	g´Ùeùed
:

86 
£tSurçûSize
(cÚ¡ 
IÁSize
&);

87 
boŞ
 
hasC»©edImageBufãr
(ècÚ¡ {  
	gm_hasC»©edImageBufãr
; }

89 cÚ¡ 
	gDeçuÉWidth
;

90 cÚ¡ 
	gDeçuÉHeight
;

92 
	g´iv©e
:

93 
ü—‹ImageBufãr
() const;

95 cÚ¡ 
	gMaxCªvasA»a
;

97 
IÁSize
 
	gm_size
;

99 
	gm_·geSÿËFaùÜ
;

100 
boŞ
 
	gm_ÜigšCËª
;

103 
mubË
 
boŞ
 
	gm_hasC»©edImageBufãr
;

104 
mubË
 
	gOwnPŒ
<
	gImageBufãr
> 
	gm_imageBufãr
;

	@CharacterData.cpp

22 
	~"cÚfig.h
"

23 
	~"Ch¬aù”D©a.h
"

25 
	~"Ev’tNames.h
"

26 
	~"Exû±iÚCode.h
"

27 
	~"MutiÚEv’t.h
"

28 
	~"R’d”Text.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 
	gCh¬aù”D©a
::
Ch¬aù”D©a
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
‹xt
, 
CÚ¡ruùiÚTy³
 
ty³
)

33 : 
Node
(
docum’t
, 
ty³
)

34 , 
m_d©a
(
‹xt
.
im¶
(è?ext.im¶(è: 
SŒšgIm¶
::
em±y
())

36 
ASSERT
(
ty³
 =ğ
C»©eOth”
 ||y³ =ğ
C»©eText
);

39 
	gCh¬aù”D©a
::
£tD©a
(cÚ¡ 
SŒšg
& 
d©a
, 
Exû±iÚCode
&)

41 
SŒšgIm¶
* 
	gd©aIm¶
 = 
d©a
.
im¶
(è? d©a.im¶(è: SŒšgIm¶::
em±y
();

42 ià(
equ®
(
m_d©a
.
g‘
(), 
d©aIm¶
))

45 
	gŞdL’gth
 = 
Ëngth
();

46 
	gRefPŒ
<
	gSŒšgIm¶
> 
	gŞdSŒ
 = 
m_d©a
;

47 
	gm_d©a
 = 
d©aIm¶
;

49 ià((!
»nd””
(è|| !
»nd””IsN“ded
Ô’d””()->
¡yË
())è&& 
©ched
()) {

50 
d‘ach
();

51 
©ch
();

52 } ià(
»nd””
())

53 
toR’d”Text
(
»nd””
())->
£tText
(
m_d©a
);

55 
di¥©chModif›dEv’t
(
ŞdSŒ
.
g‘
());

57 
docum’t
()->
‹xtRemoved
(
this
, 0, 
ŞdL’gth
);

60 
SŒšg
 
	gCh¬aù”D©a
::
sub¡ršgD©a
(
off£t
, 
couÁ
, 
Exû±iÚCode
& 
ec
)

62 
checkCh¬D©aO³¿tiÚ
(
off£t
, 
ec
);

63 ià(
	gec
)

64  
SŒšg
();

66  
	gm_d©a
->
sub¡ršg
(
off£t
, 
couÁ
);

69 
	gCh¬aù”D©a
::
­³ndD©a
(cÚ¡ 
SŒšg
& 
¬g
, 
Exû±iÚCode
&)

71 
SŒšg
 
	gÃwSŒ
 = 
m_d©a
;

72 
	gÃwSŒ
.
­³nd
(
¬g
);

74 
	gRefPŒ
<
	gSŒšgIm¶
> 
	gŞdSŒ
 = 
m_d©a
;

75 
	gm_d©a
 = 
ÃwSŒ
.
im¶
();

77 ià((!
»nd””
(è|| !
»nd””IsN“ded
Ô’d””()->
¡yË
())è&& 
©ched
()) {

78 
d‘ach
();

79 
©ch
();

80 } ià(
»nd””
())

81 
toR’d”Text
(
»nd””
())->
£tTextW™hOff£t
(
m_d©a
, 
ŞdSŒ
->
Ëngth
(), 0);

83 
di¥©chModif›dEv’t
(
ŞdSŒ
.
g‘
());

86 
	gCh¬aù”D©a
::
š£¹D©a
(
off£t
, cÚ¡ 
SŒšg
& 
¬g
, 
Exû±iÚCode
& 
ec
)

88 
checkCh¬D©aO³¿tiÚ
(
off£t
, 
ec
);

89 ià(
	gec
)

92 
SŒšg
 
	gÃwSŒ
 = 
m_d©a
;

93 
	gÃwSŒ
.
š£¹
(
¬g
, 
off£t
);

95 
	gRefPŒ
<
	gSŒšgIm¶
> 
	gŞdSŒ
 = 
m_d©a
;

96 
	gm_d©a
 = 
ÃwSŒ
.
im¶
();

98 ià((!
»nd””
(è|| !
»nd””IsN“ded
Ô’d””()->
¡yË
())è&& 
©ched
()) {

99 
d‘ach
();

100 
©ch
();

101 } ià(
»nd””
())

102 
toR’d”Text
(
»nd””
())->
£tTextW™hOff£t
(
m_d©a
, 
off£t
, 0);

104 
di¥©chModif›dEv’t
(
ŞdSŒ
.
g‘
());

106 
docum’t
()->
‹xtIn£¹ed
(
this
, 
off£t
, 
¬g
.
Ëngth
());

109 
	gCh¬aù”D©a
::
d–‘eD©a
(
off£t
, 
couÁ
, 
Exû±iÚCode
& 
ec
)

111 
checkCh¬D©aO³¿tiÚ
(
off£t
, 
ec
);

112 ià(
	gec
)

115 
	g»®CouÁ
;

116 ià(
	goff£t
 + 
	gcouÁ
 > 
Ëngth
())

117 
	g»®CouÁ
 = 
Ëngth
(è- 
off£t
;

119 
	g»®CouÁ
 = 
couÁ
;

121 
SŒšg
 
	gÃwSŒ
 = 
m_d©a
;

122 
	gÃwSŒ
.
»move
(
off£t
, 
»®CouÁ
);

124 
	gRefPŒ
<
	gSŒšgIm¶
> 
	gŞdSŒ
 = 
m_d©a
;

125 
	gm_d©a
 = 
ÃwSŒ
.
im¶
();

127 ià((!
»nd””
(è|| !
»nd””IsN“ded
Ô’d””()->
¡yË
())è&& 
©ched
()) {

128 
d‘ach
();

129 
©ch
();

130 } ià(
»nd””
())

131 
toR’d”Text
(
»nd””
())->
£tTextW™hOff£t
(
m_d©a
, 
off£t
, 
couÁ
);

133 
di¥©chModif›dEv’t
(
ŞdSŒ
.
g‘
());

135 
docum’t
()->
‹xtRemoved
(
this
, 
off£t
, 
»®CouÁ
);

138 
	gCh¬aù”D©a
::
»¶aûD©a
(
off£t
, 
couÁ
, cÚ¡ 
SŒšg
& 
¬g
, 
Exû±iÚCode
& 
ec
)

140 
checkCh¬D©aO³¿tiÚ
(
off£t
, 
ec
);

141 ià(
	gec
)

144 
	g»®CouÁ
;

145 ià(
	goff£t
 + 
	gcouÁ
 > 
Ëngth
())

146 
	g»®CouÁ
 = 
Ëngth
(è- 
off£t
;

148 
	g»®CouÁ
 = 
couÁ
;

150 
SŒšg
 
	gÃwSŒ
 = 
m_d©a
;

151 
	gÃwSŒ
.
»move
(
off£t
, 
»®CouÁ
);

152 
	gÃwSŒ
.
š£¹
(
¬g
, 
off£t
);

154 
	gRefPŒ
<
	gSŒšgIm¶
> 
	gŞdSŒ
 = 
m_d©a
;

155 
	gm_d©a
 = 
ÃwSŒ
.
im¶
();

157 ià((!
»nd””
(è|| !
»nd””IsN“ded
Ô’d””()->
¡yË
())è&& 
©ched
()) {

158 
d‘ach
();

159 
©ch
();

160 } ià(
»nd””
())

161 
toR’d”Text
(
»nd””
())->
£tTextW™hOff£t
(
m_d©a
, 
off£t
, 
couÁ
);

163 
di¥©chModif›dEv’t
(
ŞdSŒ
.
g‘
());

166 
docum’t
()->
‹xtRemoved
(
this
, 
off£t
, 
»®CouÁ
);

167 
docum’t
()->
‹xtIn£¹ed
(
this
, 
off£t
, 
¬g
.
Ëngth
());

170 
SŒšg
 
	gCh¬aù”D©a
::
nodeV®ue
() const

172  
m_d©a
;

175 
boŞ
 
	gCh¬aù”D©a
::
cÚšsOÆyWh™e¥aû
() const

177  !
m_d©a
 || m_d©a->
cÚšsOÆyWh™e¥aû
();

180 
	gCh¬aù”D©a
::
£tNodeV®ue
(cÚ¡ 
SŒšg
& 
nodeV®ue
, 
Exû±iÚCode
& 
ec
)

182 
£tD©a
(
nodeV®ue
, 
ec
);

185 
	gCh¬aù”D©a
::
di¥©chModif›dEv’t
(
SŒšgIm¶
* 
´evV®ue
)

187 ià(
·»ÁNode
())

188 
·»ÁNode
()->
chd»nChªged
();

189 ià(
docum’t
()->
hasLi¡’”Ty³
(
Docum’t
::
DOMCHARACTERDATAMODIFIED_LISTENER
))

190 
di¥©chEv’t
(
MutiÚEv’t
::
ü—‹
(
ev’tNames
().
DOMCh¬aù”D©aModif›dEv’t
, 
Œue
, 0, 
´evV®ue
, 
m_d©a
));

191 
di¥©chSubŒ“Modif›dEv’t
();

194 
	gCh¬aù”D©a
::
checkCh¬D©aO³¿tiÚ
(
off£t
, 
Exû±iÚCode
& 
ec
)

196 
	gec
 = 0;

200 ià(
	goff£t
 > 
Ëngth
()) {

201 
	gec
 = 
INDEX_SIZE_ERR
;

206 
	gCh¬aù”D©a
::
maxCh¬aù”Off£t
() const

208  
¡©ic_ÿ¡
<>(
Ëngth
());

211 
boŞ
 
	gCh¬aù”D©a
::
»nd””IsN“ded
(
R’d”StyË
 *
¡yË
)

213 ià(!
m_d©a
 || !
Ëngth
())

214  
çl£
;

215  
	gNode
::
»nd””IsN“ded
(
¡yË
);

218 
boŞ
 
	gCh¬aù”D©a
::
off£tInCh¬aù”s
() const

220  
Œue
;

	@CharacterData.h

23 #iâdeà
Ch¬aù”D©a_h


24 
	#Ch¬aù”D©a_h


	)

26 
	~"Node.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 şas 
	cCh¬aù”D©a
 : 
public
 
Node
 {

31 
public
:

32 
SŒšg
 
d©a
(ècÚ¡ {  
m_d©a
; }

33 
£tD©a
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

34 
Ëngth
(ècÚ¡ {  
	gm_d©a
->length(); }

35 
SŒšg
 
sub¡ršgD©a
(
off£t
, 
couÁ
, 
Exû±iÚCode
&);

36 
­³ndD©a
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

37 
š£¹D©a
(
off£t
, cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

38 
d–‘eD©a
(
off£t
, 
couÁ
, 
Exû±iÚCode
&);

39 
»¶aûD©a
(
off£t
, 
couÁ
, cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

41 
boŞ
 
cÚšsOÆyWh™e¥aû
() const;

43 
SŒšgIm¶
* 
d©aIm¶
(è{  
	gm_d©a
.
g‘
(); }

45 
	g´Ùeùed
:

46 
Ch¬aù”D©a
(
Docum’t
*, cÚ¡ 
SŒšg
&, 
CÚ¡ruùiÚTy³
);

48 
vœtu®
 
boŞ
 
»nd””IsN“ded
(
R’d”StyË
*);

50 
£tD©aIm¶
(
PassRefPŒ
<
SŒšgIm¶
> 
im¶
è{ 
	gm_d©a
 = impl; }

51 
di¥©chModif›dEv’t
(
SŒšgIm¶
* 
ŞdV®ue
);

53 
	g´iv©e
:

54 
vœtu®
 
SŒšg
 
nodeV®ue
() const;

55 
vœtu®
 
£tNodeV®ue
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

56 
vœtu®
 
boŞ
 
isCh¬aù”D©aNode
(ècÚ¡ {  
	gŒue
; }

57 
vœtu®
 
maxCh¬aù”Off£t
() const;

58 
vœtu®
 
boŞ
 
off£tInCh¬aù”s
() const;

60 
checkCh¬D©aO³¿tiÚ
(
off£t
, 
Exû±iÚCode
&);

62 
	gRefPŒ
<
	gSŒšgIm¶
> 
	gm_d©a
;

	@CheckedRadioButtons.cpp

21 
	~"cÚfig.h
"

22 
	~"CheckedRadioBu‰Ús.h
"

24 
	~"HTMLIÅutEËm’t.h
"

26 
Çme¥aû
 
	gWebCÜe
 {

28 
	gCheckedRadioBu‰Ús
::
addBu‰Ú
(
HTMLFÜmCÚŒŞEËm’t
* 
–em’t
)

31 ià(!
–em’t
->
isRadioBu‰Ú
())

35 ià(
	g–em’t
->
Çme
().
isEm±y
())

38 
HTMLIÅutEËm’t
* 
	gšputEËm’t
 = 
¡©ic_ÿ¡
<HTMLIÅutEËm’t*>(
–em’t
);

41 ià(!
	gšputEËm’t
->
checked
())

44 ià(!
	gm_ÇmeToCheckedRadioBu‰ÚM­
)

45 
	gm_ÇmeToCheckedRadioBu‰ÚM­
.
£t
(
Ãw
 
NameToIÅutM­
);

47 
	g·œ
<
	gNameToIÅutM­
::
™”©Ü
, 
	gboŞ
> 
	g»suÉ
 = 
m_ÇmeToCheckedRadioBu‰ÚM­
->
add
(
–em’t
->
Çme
().
im¶
(), 
šputEËm’t
);

48 ià(
	g»suÉ
.
	g£cÚd
)

51 
HTMLIÅutEËm’t
* 
	gŞdCheckedBu‰Ú
 = 
»suÉ
.
fœ¡
->
£cÚd
;

52 ià(
	gŞdCheckedBu‰Ú
 =ğ
šputEËm’t
)

55 
	g»suÉ
.
	gfœ¡
->
	g£cÚd
 = 
šputEËm’t
;

56 
	gŞdCheckedBu‰Ú
->
£tChecked
(
çl£
);

59 
HTMLIÅutEËm’t
* 
	gCheckedRadioBu‰Ús
::
checkedBu‰ÚFÜGroup
(cÚ¡ 
AtomicSŒšg
& 
Çme
) const

61 ià(!
m_ÇmeToCheckedRadioBu‰ÚM­
)

64 
	gm_ÇmeToCheckedRadioBu‰ÚM­
->
checkCÚsi¡’cy
();

66  
	gm_ÇmeToCheckedRadioBu‰ÚM­
->
g‘
(
Çme
.
im¶
());

69 
	gCheckedRadioBu‰Ús
::
»moveBu‰Ú
(
HTMLFÜmCÚŒŞEËm’t
* 
–em’t
)

71 ià(
–em’t
->
Çme
().
isEm±y
(è|| !
m_ÇmeToCheckedRadioBu‰ÚM­
)

74 
	gm_ÇmeToCheckedRadioBu‰ÚM­
->
checkCÚsi¡’cy
();

76 
	gNameToIÅutM­
::
™”©Ü
 
™
 = 
m_ÇmeToCheckedRadioBu‰ÚM­
->
fšd
(
–em’t
->
Çme
().
im¶
());

77 ià(
	g™
 =ğ
m_ÇmeToCheckedRadioBu‰ÚM­
->
’d
(è|| 
™
->
£cÚd
 !ğ
–em’t
)

80 
IÅutEËm’t
* 
	gšputEËm’t
 = 
toIÅutEËm’t
(
–em’t
);

81 
ASSERT_UNUSED
(
šputEËm’t
, inputElement);

82 
ASSERT
(
šputEËm’t
->
isChecked
());

83 
ASSERT
(
–em’t
->
isRadioBu‰Ú
());

85 
	gm_ÇmeToCheckedRadioBu‰ÚM­
->
»move
(
™
);

86 ià(
	gm_ÇmeToCheckedRadioBu‰ÚM­
->
isEm±y
())

87 
	gm_ÇmeToCheckedRadioBu‰ÚM­
.
ş—r
();

	@CheckedRadioButtons.h

21 #iâdeà
CheckedRadioBu‰Ús_h


22 
	#CheckedRadioBu‰Ús_h


	)

24 
	~<wtf/HashM­.h
>

25 
	~<wtf/OwnPŒ.h
>

27 
Çme¥aû
 
	gWebCÜe
 {

29 
şass
 
	gAtomicSŒšg
;

30 
şass
 
	gAtomicSŒšgIm¶
;

31 
şass
 
	gHTMLIÅutEËm’t
;

32 
şass
 
	gHTMLFÜmCÚŒŞEËm’t
;

34 şas 
	cCheckedRadioBu‰Ús
 {

35 
	gpublic
:

36 
addBu‰Ú
(
HTMLFÜmCÚŒŞEËm’t
*);

37 
»moveBu‰Ú
(
HTMLFÜmCÚŒŞEËm’t
*);

38 
HTMLIÅutEËm’t
* 
checkedBu‰ÚFÜGroup
(cÚ¡ 
AtomicSŒšg
& 
groupName
) const;

40 
	g´iv©e
:

41 
HashM­
<
	tAtomicSŒšgIm¶
*, 
	tHTMLIÅutEËm’t
*> 
	tNameToIÅutM­
;

42 
	gOwnPŒ
<
	gNameToIÅutM­
> 
	gm_ÇmeToCheckedRadioBu‰ÚM­
;

	@ChildNodeList.cpp

23 
	~"cÚfig.h
"

24 
	~"ChdNodeLi¡.h
"

26 
	~"EËm’t.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 
	gChdNodeLi¡
::
ChdNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, 
DyÇmicNodeLi¡
::
Caches
* 
šfo
)

31 : 
DyÇmicNodeLi¡
(
roÙNode
, 
šfo
)

35 
	gChdNodeLi¡
::
Ëngth
() const

37 ià(
m_ÿches
->
isL’gthCacheV®id
)

38  
m_ÿches
->
ÿchedL’gth
;

40 
	gËn
 = 0;

41 
Node
* 
	gn
 = 
m_roÙNode
->
fœ¡Chd
();‚;‚ = 
n
->
ÃxtSiblšg
())

42 
Ën
++;

44 
	gm_ÿches
->
	gÿchedL’gth
 = 
Ën
;

45 
	gm_ÿches
->
	gisL’gthCacheV®id
 = 
Œue
;

47  
	gËn
;

50 
Node
* 
	gChdNodeLi¡
::
™em
(
šdex
) const

52 
pos
 = 0;

53 
Node
* 
	gn
 = 
m_roÙNode
->
fœ¡Chd
();

55 ià(
	gm_ÿches
->
	gisI‹mCacheV®id
) {

56 ià(
	gšdex
 =ğ
m_ÿches
->
Ï¡I‹mOff£t
)

57  
m_ÿches
->
Ï¡I‹m
;

59 
	gdiff
 = 
šdex
 - 
m_ÿches
->
Ï¡I‹mOff£t
;

60 
	gdi¡
 = 
abs
(
diff
);

61 ià(
	gdi¡
 < 
	gšdex
) {

62 
	gn
 = 
m_ÿches
->
Ï¡I‹m
;

63 
	gpos
 = 
m_ÿches
->
Ï¡I‹mOff£t
;

67 ià(
	gm_ÿches
->
	gisL’gthCacheV®id
) {

68 ià(
	gšdex
 >ğ
m_ÿches
->
ÿchedL’gth
)

71 
	gdiff
 = 
šdex
 - 
pos
;

72 
	gdi¡
 = 
abs
(
diff
);

73 ià(
	gdi¡
 > 
	gm_ÿches
->
	gÿchedL’gth
 - 1 - 
	gšdex
) {

74 
	gn
 = 
m_roÙNode
->
Ï¡Chd
();

75 
	gpos
 = 
m_ÿches
->
ÿchedL’gth
 - 1;

79 ià(
	gpos
 <ğ
šdex
) {

80 
n
 && 
pos
 < 
šdex
) {

81 
n
 =‚->
ÃxtSiblšg
();

82 ++
	gpos
;

85 
	gn
 && 
	gpos
 > 
	gšdex
) {

86 
	gn
 = 
n
->
´eviousSiblšg
();

87 --
	gpos
;

91 ià(
	gn
) {

92 
	gm_ÿches
->
	gÏ¡I‹m
 = 
n
;

93 
	gm_ÿches
->
	gÏ¡I‹mOff£t
 = 
pos
;

94 
	gm_ÿches
->
	gisI‹mCacheV®id
 = 
Œue
;

95  
	gn
;

101 
boŞ
 
	gChdNodeLi¡
::
nodeM©ches
(
EËm’t
* 
‹¡Node
) const

106  
‹¡Node
->
·»ÁNode
(è=ğ
m_roÙNode
;

	@ChildNodeList.h

24 #iâdeà
ChdNodeLi¡_h


25 
	#ChdNodeLi¡_h


	)

27 
	~"DyÇmicNodeLi¡.h
"

28 
	~<wtf/PassRefPŒ.h
>

30 
Çme¥aû
 
	gWebCÜe
 {

32 şas 
	cChdNodeLi¡
 : 
public
 
DyÇmicNodeLi¡
 {

33 
public
:

34 
PassRefPŒ
<
ChdNodeLi¡
> 
ü—‹
(PassRefPŒ<
Node
> 
roÙNode
, 
Caches
* 
ÿches
)

36  
adİtRef
(
Ãw
 
ChdNodeLi¡
(
roÙNode
, 
ÿches
));

39 
vœtu®
 
Ëngth
() const;

40 
vœtu®
 
Node
* 
™em
(
šdex
) const;

42 
	g´Ùeùed
:

43 
ChdNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, 
Caches
*);

45 
vœtu®
 
boŞ
 
nodeM©ches
(
EËm’t
*) const;

	@ClassNodeList.cpp

30 
	~"cÚfig.h
"

31 
	~"CÏssNodeLi¡.h
"

33 
	~"Docum’t.h
"

34 
	~"StyËdEËm’t.h
"

36 
Çme¥aû
 
	gWebCÜe
 {

38 
	gCÏssNodeLi¡
::
CÏssNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, cÚ¡ 
SŒšg
& 
şassNames
, 
DyÇmicNodeLi¡
::
Caches
* 
ÿches
)

39 : 
DyÇmicNodeLi¡
(
roÙNode
, 
ÿches
)

40 , 
m_şassNames
(
şassNames
, 
m_roÙNode
->
docum’t
()->
šCom·tMode
())

44 
boŞ
 
	gCÏssNodeLi¡
::
nodeM©ches
(
EËm’t
* 
‹¡Node
) const

46 ià(!
‹¡Node
->
hasCÏss
())

47  
çl£
;

48 ià(!
	gm_şassNames
.
size
())

49  
	gçl£
;

50 
ASSERT
(
‹¡Node
->
isStyËdEËm’t
());

51  
	g¡©ic_ÿ¡
<
	gStyËdEËm’t
*>(
	g‹¡Node
)->
şassNames
().
cÚšsAÎ
(
m_şassNames
);

	@ClassNodeList.h

30 #iâdeà
CÏssNodeLi¡_h


31 
	#CÏssNodeLi¡_h


	)

33 
	~"DyÇmicNodeLi¡.h
"

34 
	~"S·ûS¶™SŒšg.h
"

36 
Çme¥aû
 
	gWebCÜe
 {

38 şas 
	cCÏssNodeLi¡
 : 
public
 
DyÇmicNodeLi¡
 {

39 
public
:

40 
PassRefPŒ
<
CÏssNodeLi¡
> 
ü—‹
(PassRefPŒ<
Node
> 
roÙNode
, cÚ¡ 
SŒšg
& 
şassNames
, 
Caches
* 
ÿches
)

42  
adİtRef
(
Ãw
 
CÏssNodeLi¡
(
roÙNode
, 
şassNames
, 
ÿches
));

45 
	g´iv©e
:

46 
CÏssNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, cÚ¡ 
SŒšg
& 
şassNames
, 
Caches
*);

48 
vœtu®
 
boŞ
 
nodeM©ches
(
EËm’t
*) const;

50 
S·ûS¶™SŒšg
 
	gm_şassNames
;

	@ClientRect.cpp

27 
	~"cÚfig.h
"

28 
	~"Cl›ÁReù.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 
	gCl›ÁReù
::
Cl›ÁReù
()

36 
Cl›ÁReù
::Cl›ÁReù(cÚ¡ 
IÁReù
& 
»ù
)

37 : 
m_»ù
(
»ù
)

	@ClientRect.h

27 #iâdeà
Cl›ÁReù_h


28 
	#Cl›ÁReù_h


	)

30 
	~"FlßtReù.h
"

31 
	~<wtf/PassRefPŒ.h
>

32 
	~<wtf/RefCouÁed.h
>

34 
Çme¥aû
 
	gWebCÜe
 {

36 
şass
 
	gIÁReù
;

38 
şass
 
	gCl›ÁReù
 : 
public
 
RefCouÁed
<
Cl›ÁReù
> {

39 
public
:

40 
PassRefPŒ
<
Cl›ÁReù
> 
ü—‹
(è{  
adİtRef
(
Ãw
 ClientRect); }

41 
	gPassRefPŒ
<
	gCl›ÁReù
> 
ü—‹
(cÚ¡ 
IÁReù
& 
»ù
è{  
adİtRef
(
Ãw
 
Cl›ÁReù
(rect)); }

43 
tİ
(ècÚ¡ {  
	gm_»ù
.
y
(); }

44 
right
(ècÚ¡ {  
	gm_»ù
.right(); }

45 
bÙtom
(ècÚ¡ {  
	gm_»ù
.bottom(); }

46 
Ëá
(ècÚ¡ {  
	gm_»ù
.
x
(); }

47 
width
(ècÚ¡ {  
	gm_»ù
.width(); }

48 
height
(ècÚ¡ {  
	gm_»ù
.height(); }

50 
	g´iv©e
:

51 
Cl›ÁReù
();

52 
Cl›ÁReù
(cÚ¡ 
IÁReù
&);

54 
FlßtReù
 
	gm_»ù
;

	@ClientRectList.cpp

27 
	~"cÚfig.h
"

28 
	~"Cl›ÁReùLi¡.h
"

30 
	~"Exû±iÚCode.h
"

31 
	~"Cl›ÁReù.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	gCl›ÁReùLi¡
::
Cl›ÁReùLi¡
()

39 
Cl›ÁReùLi¡
::Cl›ÁReùLi¡(cÚ¡ 
VeùÜ
<
FlßtQuad
>& 
quads
)

41 
m_li¡
.
»£rveIn™ŸlC­ac™y
(
quads
.
size
());

42 
size_t
 
	gi
 = 0; i < 
	gquads
.
size
(); ++i)

43 
	gm_li¡
.
­³nd
(
Cl›ÁReù
::
ü—‹
(
quads
[
i
].
’şosšgBoundšgBox
()));

46 
	gCl›ÁReùLi¡
::~
Cl›ÁReùLi¡
()

50 
Cl›ÁReùLi¡
::
Ëngth
() const

52  
m_li¡
.
size
();

55 
Cl›ÁReù
* 
	gCl›ÁReùLi¡
::
™em
(
šdex
)

57 ià(
šdex
 >ğ
m_li¡
.
size
()) {

63  
	gm_li¡
[
šdex
].
g‘
();

	@ClientRectList.h

27 #iâdeà
Cl›ÁReùLi¡_h


28 
	#Cl›ÁReùLi¡_h


	)

30 
	~"FlßtQuad.h
"

31 
	~<wtf/PassRefPŒ.h
>

32 
	~<wtf/RefCouÁed.h
>

33 
	~<wtf/VeùÜ.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gCl›ÁReù
;

39 
şass
 
	gCl›ÁReùLi¡
 : 
public
 
RefCouÁed
<
Cl›ÁReùLi¡
> {

40 
public
:

41 
PassRefPŒ
<
Cl›ÁReùLi¡
> 
ü—‹
(è{  
adİtRef
(
Ãw
 ClientRectList); }

42 
	gPassRefPŒ
<
	gCl›ÁReùLi¡
> 
ü—‹
(cÚ¡ 
VeùÜ
<
FlßtQuad
>& 
quads
è{  
adİtRef
(
Ãw
 
Cl›ÁReùLi¡
(quads)); }

43 ~
Cl›ÁReùLi¡
();

45 
Ëngth
() const;

46 
Cl›ÁReù
* 
™em
(
šdex
);

48 
	g´iv©e
:

49 
Cl›ÁReùLi¡
();

50 
Cl›ÁReùLi¡
(cÚ¡ 
VeùÜ
<
FlßtQuad
>&);

52 
	gVeùÜ
<
	gRefPŒ
<
	gCl›ÁReù
> > 
	gm_li¡
;

	@Clipboard.cpp

26 
	~"cÚfig.h
"

27 
	~"Clbßrd.h
"

29 
	~"CachedImage.h
"

30 
	~"F¿me.h
"

31 
	~"F¿meLßd”.h
"

32 
	~"Image.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
	gClbßrd
::
Clbßrd
(
ClbßrdAcûssPŞicy
 
pŞicy
, 
boŞ
 
isFÜD¿ggšg
)

37 : 
m_pŞicy
(
pŞicy
)

38 , 
m_drİEfãù
("uninitialized")

39 , 
m_efãùAÎowed
("uninitialized")

40 , 
m_d¿gS¹ed
(
çl£
)

41 , 
m_fÜD¿ggšg
(
isFÜD¿ggšg
)

42 , 
m_d¿gImage
(0)

46 
	gClbßrd
::
£tAcûssPŞicy
(
ClbßrdAcûssPŞicy
 
pŞicy
)

49 
ASSERT
(
m_pŞicy
 !ğ
ClbßrdNumb
 || 
pŞicy
 == ClipboardNumb);

50 
	gm_pŞicy
 = 
pŞicy
;

56 
D¿gO³¿tiÚ
 
d¿gOpFromIEOp
(cÚ¡ 
SŒšg
& 
İ
)

59 ià(
	gİ
 == "uninitialized")

60  
D¿gO³¿tiÚEv”y
;

61 ià(
	gİ
 == "none")

62  
D¿gO³¿tiÚNÚe
;

63 ià(
	gİ
 == "copy")

64  
D¿gO³¿tiÚCİy
;

65 ià(
	gİ
 == "link")

66  
D¿gO³¿tiÚLšk
;

67 ià(
	gİ
 == "move")

68  (
D¿gO³¿tiÚ
)(
D¿gO³¿tiÚG’”ic
 | 
D¿gO³¿tiÚMove
);

69 ià(
	gİ
 == "copyLink")

70  (
D¿gO³¿tiÚ
)(
D¿gO³¿tiÚCİy
 | 
D¿gO³¿tiÚLšk
);

71 ià(
	gİ
 == "copyMove")

72  (
D¿gO³¿tiÚ
)(
D¿gO³¿tiÚCİy
 | 
D¿gO³¿tiÚG’”ic
 | 
D¿gO³¿tiÚMove
);

73 ià(
	gİ
 == "linkMove")

74  (
D¿gO³¿tiÚ
)(
D¿gO³¿tiÚLšk
 | 
D¿gO³¿tiÚG’”ic
 | 
D¿gO³¿tiÚMove
);

75 ià(
	gİ
 == "all")

76  
D¿gO³¿tiÚEv”y
;

77  
	gD¿gO³¿tiÚPriv©e
;

80 
SŒšg
 
IEOpFromD¿gOp
(
D¿gO³¿tiÚ
 
İ
)

82 
boŞ
 
	gmoveS‘
 = !!((
D¿gO³¿tiÚG’”ic
 | 
D¿gO³¿tiÚMove
è& 
İ
);

84 ià((
	gmoveS‘
 && (
	gİ
 & 
	gD¿gO³¿tiÚCİy
è&& (İ & 
	gD¿gO³¿tiÚLšk
))

85 || (
	gİ
 =ğ
D¿gO³¿tiÚEv”y
))

87 ià(
	gmoveS‘
 && (
	gİ
 & 
	gD¿gO³¿tiÚCİy
))

89 ià(
	gmoveS‘
 && (
	gİ
 & 
	gD¿gO³¿tiÚLšk
))

91 ià((
	gİ
 & 
	gD¿gO³¿tiÚCİy
è&& (İ & 
	gD¿gO³¿tiÚLšk
))

93 ià(
	gmoveS‘
)

95 ià(
	gİ
 & 
	gD¿gO³¿tiÚCİy
)

97 ià(
	gİ
 & 
	gD¿gO³¿tiÚLšk
)

102 
D¿gO³¿tiÚ
 
	gClbßrd
::
sourûO³¿tiÚ
() const

104 
D¿gO³¿tiÚ
 
İ
 = 
d¿gOpFromIEOp
(
m_efãùAÎowed
);

105 
ASSERT
(
İ
 !ğ
D¿gO³¿tiÚPriv©e
);

106  
	gİ
;

109 
D¿gO³¿tiÚ
 
	gClbßrd
::
de¡š©iÚO³¿tiÚ
() const

111 
D¿gO³¿tiÚ
 
İ
 = 
d¿gOpFromIEOp
(
m_drİEfãù
);

112 
ASSERT
(
İ
 =ğ
D¿gO³¿tiÚCİy
 || o°=ğ
D¿gO³¿tiÚNÚe
 || o°=ğ
D¿gO³¿tiÚLšk
 || o°=ğ(
D¿gO³¿tiÚ
)(
D¿gO³¿tiÚG’”ic
 | 
D¿gO³¿tiÚMove
è|| o°=ğ
D¿gO³¿tiÚEv”y
);

113  
	gİ
;

116 
	gClbßrd
::
£tSourûO³¿tiÚ
(
D¿gO³¿tiÚ
 
İ
)

118 
ASSERT_ARG
(
İ
, o°!ğ
D¿gO³¿tiÚPriv©e
);

119 
	gm_efãùAÎowed
 = 
IEOpFromD¿gOp
(
İ
);

122 
	gClbßrd
::
£tDe¡š©iÚO³¿tiÚ
(
D¿gO³¿tiÚ
 
İ
)

124 
ASSERT_ARG
(
İ
, o°=ğ
D¿gO³¿tiÚCİy
 || o°=ğ
D¿gO³¿tiÚNÚe
 || o°=ğ
D¿gO³¿tiÚLšk
 || o°=ğ
D¿gO³¿tiÚG’”ic
 || o°=ğ
D¿gO³¿tiÚMove
 || o°=ğ(
D¿gO³¿tiÚ
)(DragOperationGeneric | DragOperationMove));

125 
	gm_drİEfãù
 = 
IEOpFromD¿gOp
(
İ
);

128 
	gClbßrd
::
£tDrİEfãù
(cÚ¡ 
SŒšg
 &
efãù
)

130 ià(!
m_fÜD¿ggšg
)

134 ià(
	gefãù
 !ğ"nÚe" && 
efãù
 != "copy" &&ƒffect != "link" &&ƒffect != "move")

137 ià(
	gm_pŞicy
 =ğ
ClbßrdR—dabË
 || 
m_pŞicy
 =ğ
ClbßrdTy³sR—dabË
)

138 
m_drİEfãù
 = 
efãù
;

141 
	gClbßrd
::
£tEfãùAÎowed
(cÚ¡ 
SŒšg
 &
efãù
)

143 ià(!
m_fÜD¿ggšg
)

146 ià(
d¿gOpFromIEOp
(
efãù
è=ğ
D¿gO³¿tiÚPriv©e
) {

157 ià(
	gm_pŞicy
 =ğ
ClbßrdWr™abË
)

158 
m_efãùAÎowed
 = 
efãù
;

	@Clipboard.h

24 #iâdeà
Clbßrd_h


25 
	#Clbßrd_h


	)

27 
	~"CachedResourûHªdË.h
"

28 
	~"ClbßrdAcûssPŞicy.h
"

29 
	~"D¿gAùiÚs.h
"

30 
	~"D¿gImage.h
"

31 
	~"IÁPošt.h
"

32 
	~"Node.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
şass
 
	gFeLi¡
;

39 
şass
 
	gClbßrd
 : 
public
 
RefCouÁed
<
Clbßrd
> {

40 
public
:

41 
vœtu®
 ~
Clbßrd
() { }

44 
boŞ
 
isFÜD¿ggšg
(ècÚ¡ {  
m_fÜD¿ggšg
; }

46 
SŒšg
 
drİEfãù
(ècÚ¡ {  
drİEfãùIsUnš™Ÿlized
(è? "nÚe" : 
m_drİEfãù
; }

47 
£tDrİEfãù
(cÚ¡ 
SŒšg
&);

48 
boŞ
 
drİEfãùIsUnš™Ÿlized
(ècÚ¡ {  
	gm_drİEfãù
 == "uninitialized"; }

49 
SŒšg
 
efãùAÎowed
(ècÚ¡ {  
	gm_efãùAÎowed
; }

50 
£tEfãùAÎowed
(cÚ¡ 
SŒšg
&);

52 
vœtu®
 
ş—rD©a
(cÚ¡ 
SŒšg
& 
ty³
) = 0;

53 
vœtu®
 
ş—rAÎD©a
() = 0;

54 
vœtu®
 
SŒšg
 
g‘D©a
(cÚ¡ SŒšg& 
ty³
, 
boŞ
& 
sucûss
) const = 0;

55 
vœtu®
 
boŞ
 
£tD©a
(cÚ¡ 
SŒšg
& 
ty³
, cÚ¡ SŒšg& 
d©a
) = 0;

58 
vœtu®
 
	gHashS‘
<
	gSŒšg
> 
ty³s
() const = 0;

59 
vœtu®
 
	gPassRefPŒ
<
	gFeLi¡
> 
fes
() const = 0;

61 
IÁPošt
 
d¿gLoÿtiÚ
(ècÚ¡ {  
	gm_d¿gLoc
; }

62 
CachedImage
* 
d¿gImage
(ècÚ¡ {  
	gm_d¿gImage
.
g‘
(); }

63 
vœtu®
 
£tD¿gImage
(
CachedImage
*, cÚ¡ 
IÁPošt
&) = 0;

64 
Node
* 
d¿gImageEËm’t
(ècÚ¡ {  
	gm_d¿gImageEËm’t
.
g‘
(); }

65 
vœtu®
 
£tD¿gImageEËm’t
(
Node
*, cÚ¡ 
IÁPošt
&) = 0;

67 
vœtu®
 
D¿gImageRef
 
ü—‹D¿gImage
(
IÁPošt
& 
d¿gLoÿtiÚ
) const = 0;

68 #ià
ENABLE
(
DRAG_SUPPORT
)

69 
vœtu®
 
deş¬eAndWr™eD¿gImage
(
EËm’t
*, cÚ¡ 
KURL
&, cÚ¡ 
SŒšg
& 
t™Ë
, 
F¿me
*) = 0;

71 
vœtu®
 
wr™eURL
(cÚ¡ 
KURL
&, cÚ¡ 
SŒšg
&, 
F¿me
*) = 0;

72 
vœtu®
 
wr™eRªge
(
Rªge
*, 
F¿me
*) = 0;

73 
vœtu®
 
wr™ePÏšText
(cÚ¡ 
SŒšg
&) = 0;

75 
vœtu®
 
boŞ
 
hasD©a
() = 0;

77 
£tAcûssPŞicy
(
ClbßrdAcûssPŞicy
);

79 
D¿gO³¿tiÚ
 
sourûO³¿tiÚ
() const;

80 
D¿gO³¿tiÚ
 
de¡š©iÚO³¿tiÚ
() const;

81 
£tSourûO³¿tiÚ
(
D¿gO³¿tiÚ
);

82 
£tDe¡š©iÚO³¿tiÚ
(
D¿gO³¿tiÚ
);

84 
£tD¿gHasS¹ed
(è{ 
	gm_d¿gS¹ed
 = 
Œue
; }

86 
	g´Ùeùed
:

87 
Clbßrd
(
ClbßrdAcûssPŞicy
, 
boŞ
 
isFÜD¿ggšg
);

89 
ClbßrdAcûssPŞicy
 
pŞicy
(ècÚ¡ {  
	gm_pŞicy
; }

90 
boŞ
 
d¿gS¹ed
(ècÚ¡ {  
	gm_d¿gS¹ed
; }

92 
	g´iv©e
:

93 
ClbßrdAcûssPŞicy
 
m_pŞicy
;

94 
SŒšg
 
	gm_drİEfãù
;

95 
SŒšg
 
	gm_efãùAÎowed
;

96 
boŞ
 
	gm_d¿gS¹ed
;

98 
	g´Ùeùed
:

99 
boŞ
 
m_fÜD¿ggšg
;

100 
IÁPošt
 
	gm_d¿gLoc
;

101 
	gCachedResourûHªdË
<
	gCachedImage
> 
	gm_d¿gImage
;

102 
	gRefPŒ
<
	gNode
> 
	gm_d¿gImageEËm’t
;

	@ClipboardAccessPolicy.h

26 #iâdeà
ClbßrdAcûssPŞicy_h


27 
	#ClbßrdAcûssPŞicy_h


	)

29 
Çme¥aû
 
	gWebCÜe
 {

31 
	eClbßrdAcûssPŞicy
 {

32 
	gClbßrdNumb
, 
	gClbßrdImageWr™abË
, 
	gClbßrdWr™abË
, 
	gClbßrdTy³sR—dabË
, 
	gClbßrdR—dabË


	@ClipboardEvent.cpp

23 
	~"cÚfig.h
"

24 
	~"ClbßrdEv’t.h
"

26 
Çme¥aû
 
	gWebCÜe
 {

28 
	gClbßrdEv’t
::
ClbßrdEv’t
()

32 
ClbßrdEv’t
::ClbßrdEv’t(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Clbßrd
> 
şbßrd
)

33 : 
Ev’t
(
ev’tTy³
, 
ÿnBubbË
, 
ÿnûÏbË
), 
m_şbßrd
(
şbßrd
)

37 
boŞ
 
	gClbßrdEv’t
::
isClbßrdEv’t
() const

39  
Œue
;

	@ClipboardEvent.h

24 #iâdeà
ClbßrdEv’t_h


25 
	#ClbßrdEv’t_h


	)

27 
	~"Clbßrd.h
"

28 
	~"Ev’t.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 şas 
	cClbßrdEv’t
 : 
public
 
Ev’t
 {

33 
public
:

34 
PassRefPŒ
<
ClbßrdEv’t
> 
ü—‹
()

36  
adİtRef
(
Ãw
 
ClbßrdEv’t
);

38 
	gPassRefPŒ
<
	gClbßrdEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbËArg
, boŞ 
ÿnûÏbËArg
, 
PassRefPŒ
<
Clbßrd
> 
şbßrdArg
)

40  
adİtRef
(
Ãw
 
ClbßrdEv’t
(
ty³
, 
ÿnBubbËArg
, 
ÿnûÏbËArg
, 
şbßrdArg
));

43 
Clbßrd
* 
şbßrd
(ècÚ¡ {  
	gm_şbßrd
.
g‘
(); }

45 
vœtu®
 
boŞ
 
isClbßrdEv’t
() const;

47 
	g´iv©e
:

48 
ClbßrdEv’t
();

49 
ClbßrdEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbËArg
, boŞ 
ÿnûÏbËArg
, 
PassRefPŒ
<
Clbßrd
>);

51 
	gRefPŒ
<
	gClbßrd
> 
	gm_şbßrd
;

	@Comment.cpp

22 
	~"cÚfig.h
"

23 
	~"Comm’t.h
"

25 
Çme¥aû
 
	gWebCÜe
 {

27 
šlše
 
	gComm’t
::
Comm’t
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
‹xt
)

28 : 
Ch¬aù”D©a
(
docum’t
, 
‹xt
, 
C»©eOth”
)

32 
	gPassRefPŒ
<
	gComm’t
> Comm’t::
ü—‹
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
‹xt
)

34  
adİtRef
(
Ãw
 
Comm’t
(
docum’t
, 
‹xt
));

37 
SŒšg
 
	gComm’t
::
nodeName
() const

39  
comm’tAtom
.
¡ršg
();

42 
	gNode
::
NodeTy³
 
Comm’t
::
nodeTy³
() const

44  
COMMENT_NODE
;

47 
	gPassRefPŒ
<
	gNode
> 
	gComm’t
::
şÚeNode
(
boŞ
 )

49  
ü—‹
(
docum’t
(), 
d©a
());

52 
boŞ
 
	gComm’t
::
chdTy³AÎowed
(
NodeTy³
)

54  
çl£
;

	@Comment.h

23 #iâdeà
Comm’t_h


24 
	#Comm’t_h


	)

26 
	~"Ch¬aù”D©a.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 şas 
	cComm’t
 : 
public
 
Ch¬aù”D©a
 {

31 
public
:

32 
PassRefPŒ
<
Comm’t
> 
ü—‹
(
Docum’t
*, cÚ¡ 
SŒšg
&);

34 
	g´iv©e
:

35 
Comm’t
(
Docum’t
*, cÚ¡ 
SŒšg
&);

37 
vœtu®
 
SŒšg
 
nodeName
() const;

38 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

39 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

40 
vœtu®
 
boŞ
 
isComm’tNode
(ècÚ¡ {  
	gŒue
; }

41 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
);

	@CompositionEvent.cpp

27 
	~"cÚfig.h
"

28 
	~"Compos™iÚEv’t.h
"

30 
	~"Ev’tNames.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 
	gCompos™iÚEv’t
::
Compos™iÚEv’t
()

38 
Compos™iÚEv’t
::Compos™iÚEv’t(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, cÚ¡ 
SŒšg
& 
d©a
)

39 : 
UIEv’t
(
ty³
, 
Œue
,rue, 
v›w
, 0)

40 , 
m_d©a
(
d©a
)

44 
	gCompos™iÚEv’t
::~
Compos™iÚEv’t
()

48 
Compos™iÚEv’t
::
š™Compos™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, cÚ¡ 
SŒšg
& 
d©a
)

50 ià(
di¥©ched
())

53 
š™UIEv’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 0);

55 
	gm_d©a
 = 
d©a
;

58 
boŞ
 
	gCompos™iÚEv’t
::
isCompos™iÚEv’t
() const

60  
Œue
;

	@CompositionEvent.h

27 #iâdeà
Compos™iÚEv’t_h


28 
	#Compos™iÚEv’t_h


	)

30 
	~"UIEv’t.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 şas 
	cCompos™iÚEv’t
 : 
public
 
UIEv’t
 {

35 
public
:

36 
PassRefPŒ
<
Compos™iÚEv’t
> 
ü—‹
()

38  
adİtRef
(
Ãw
 
Compos™iÚEv’t
);

40 
	gPassRefPŒ
<
	gCompos™iÚEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, cÚ¡ 
SŒšg
& 
d©a
)

42  
adİtRef
(
Ãw
 
Compos™iÚEv’t
(
ty³
, 
v›w
, 
d©a
));

44 
	gvœtu®
 ~
Compos™iÚEv’t
();

46 
š™Compos™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
>, cÚ¡ 
SŒšg
& 
d©a
);

48 
SŒšg
 
d©a
(ècÚ¡ {  
	gm_d©a
; }

50 
vœtu®
 
boŞ
 
isCompos™iÚEv’t
() const;

52 
	g´iv©e
:

53 
Compos™iÚEv’t
();

54 
Compos™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, cÚ¡ 
SŒšg
& 
d©a
);

56 
SŒšg
 
	gm_d©a
;

	@ContainerNode.cpp

23 
	~"cÚfig.h
"

24 
	~"CÚš”Node.h
"

26 
	~"BefÜeLßdEv’t.h
"

27 
	~"Cache.h
"

28 
	~"CÚš”NodeAlgÜ™hms.h
"

29 
	~"D–‘eBu‰ÚCÚŒŞËr.h
"

30 
	~"Ev’tNames.h
"

31 
	~"Exû±iÚCode.h
"

32 
	~"FlßtReù.h
"

33 
	~"F¿me.h
"

34 
	~"F¿meV›w.h
"

35 
	~"IÆšeTextBox.h
"

36 
	~"In¥eùÜCÚŒŞËr.h
"

37 
	~"MutiÚEv’t.h
"

38 
	~"Page.h
"

39 
	~"R’d”Theme.h
"

40 
	~"RoÙIÆšeBox.h
"

41 
	~"lßd”.h
"

42 
	~<wtf/Cu¼’tTime.h
>

44 
Çme¥aû
 
	gWebCÜe
 {

46 
nÙifyChdIn£¹ed
(
Node
*);

47 
di¥©chChdIn£¹iÚEv’ts
(
Node
*);

48 
di¥©chChdRemov®Ev’ts
(
Node
*);

50 
	gVeùÜ
<
	t¡d
::
	t·œ
<
	tNodeC®lback
, 
	tRefPŒ
<
	tNode
> > > 
	tNodeC®lbackQueue
;

51 
NodeC®lbackQueue
* 
	gs_po¡A‰achC®lbackQueue
;

53 
size_t
 
	gs_©chD•th
;

54 
boŞ
 
	gs_shouldReEÇbËMemÜyCacheC®lsAá”A‰ach
;

56 
	gCÚš”Node
::
»moveAÎChd»n
()

58 
»moveAÎChd»nInCÚš”
<
Node
, 
	gCÚš”Node
>(
	gthis
);

61 
	gCÚš”Node
::~
CÚš”Node
()

63 
»moveAÎChd»n
();

66 
boŞ
 
	gCÚš”Node
::
š£¹BefÜe
(
PassRefPŒ
<
Node
> 
ÃwChd
, Node* 
»fChd
, 
Exû±iÚCode
& 
ec
, boŞ 
shouldLazyA‰ach
)

70 
ASSERT
(
»fCouÁ
(è|| 
·»Á
());

72 
	gec
 = 0;

75 ià(!
	g»fChd
)

76  
­³ndChd
(
ÃwChd
, 
ec
, 
shouldLazyA‰ach
);

79 
checkAddChd
(
ÃwChd
.
g‘
(), 
ec
);

80 ià(
	gec
)

81  
	gçl£
;

84 ià(
	g»fChd
->
·»ÁNode
(è!ğ
this
) {

85 
ec
 = 
NOT_FOUND_ERR
;

86  
	gçl£
;

89 
boŞ
 
	gisF¿gm’t
 = 
ÃwChd
->
nodeTy³
(è=ğ
DOCUMENT_FRAGMENT_NODE
;

93 ià(
	gisF¿gm’t
 && !
	gÃwChd
->
fœ¡Chd
())

94  
	gŒue
;

97 ià(
	g»fChd
->
´eviousSiblšg
(è=ğ
ÃwChd
 || 
»fChd
 ==‚ewChild)

98  
Œue
;

100 
	gRefPŒ
<
	gNode
> 
	gÃxt
 = 
»fChd
;

101 
	gRefPŒ
<
	gNode
> 
	g»fChdP»viousSiblšg
 = 
»fChd
->
´eviousSiblšg
();

103 
	gRefPŒ
<
	gNode
> 
	gchd
 = 
isF¿gm’t
 ? 
ÃwChd
->
fœ¡Chd
() :‚ewChild;

104 
	gchd
) {

105 
	gRefPŒ
<
	gNode
> 
	gÃxtChd
 = 
isF¿gm’t
 ? 
chd
->
ÃxtSiblšg
() : 0;

108 ià(
Node
* 
	gŞdP¬’t
 = 
chd
->
·»ÁNode
())

109 
ŞdP¬’t
->
»moveChd
(
chd
.
g‘
(), 
ec
);

110 ià(
	gec
)

122 ià(
	gÃxt
->
·»ÁNode
(è!ğ
this
)

124 ià(
	gchd
->
·»ÁNode
())

127 
ASSERT
(!
chd
->
ÃxtSiblšg
());

128 
ASSERT
(!
chd
->
´eviousSiblšg
());

131 
fÜbidEv’tDi¥©ch
();

132 
Node
* 
	g´ev
 = 
Ãxt
->
´eviousSiblšg
();

133 
ASSERT
(
m_Ï¡Chd
 !ğ
´ev
);

134 
	gÃxt
->
£tP»viousSiblšg
(
chd
.
g‘
());

135 ià(
	g´ev
) {

136 
ASSERT
(
m_fœ¡Chd
 !ğ
Ãxt
);

137 
ASSERT
(
´ev
->
ÃxtSiblšg
(è=ğ
Ãxt
);

138 
	g´ev
->
£tNextSiblšg
(
chd
.
g‘
());

140 
ASSERT
(
m_fœ¡Chd
 =ğ
Ãxt
);

141 
	gm_fœ¡Chd
 = 
chd
.
g‘
();

143 
	gchd
->
£tP¬’t
(
this
);

144 
	gchd
->
£tP»viousSiblšg
(
´ev
);

145 
	gchd
->
£tNextSiblšg
(
Ãxt
.
g‘
());

146 
®lowEv’tDi¥©ch
();

149 
chd»nChªged
(
çl£
, 
»fChdP»viousSiblšg
.
g‘
(), 
Ãxt
.get(), 1);

150 
nÙifyChdIn£¹ed
(
chd
.
g‘
());

153 ià(
©ched
(è&& !
	gchd
->©ched(è&& chd->
·»Á
(è=ğ
this
) {

154 ià(
shouldLazyA‰ach
)

155 
chd
->
ÏzyA‰ach
();

157 
	gchd
->
©ch
();

162 
di¥©chChdIn£¹iÚEv’ts
(
chd
.
g‘
());

164 
	gchd
 = 
ÃxtChd
.
»Ëa£
();

167 
di¥©chSubŒ“Modif›dEv’t
();

168  
	gŒue
;

171 
boŞ
 
	gCÚš”Node
::
»¶aûChd
(
PassRefPŒ
<
Node
> 
ÃwChd
, Node* 
ŞdChd
, 
Exû±iÚCode
& 
ec
, boŞ 
shouldLazyA‰ach
)

175 
ASSERT
(
»fCouÁ
(è|| 
·»Á
());

177 
	gec
 = 0;

179 ià(
	gŞdChd
 =ğ
ÃwChd
)

180  
Œue
;

183 
checkR•ÏûChd
(
ÃwChd
.
g‘
(), 
ŞdChd
, 
ec
);

184 ià(
	gec
)

185  
	gçl£
;

188 ià(!
	gŞdChd
 || oldChd->
·»ÁNode
(è!ğ
this
) {

189 
ec
 = 
NOT_FOUND_ERR
;

190  
	gçl£
;

193 
	gRefPŒ
<
	gNode
> 
	g´ev
 = 
ŞdChd
->
´eviousSiblšg
();

194 
	gRefPŒ
<
	gNode
> 
	gÃxt
 = 
ŞdChd
->
ÃxtSiblšg
();

197 
	gRefPŒ
<
	gNode
> 
	g»movedChd
 = 
ŞdChd
;

198 
»moveChd
(
ŞdChd
, 
ec
);

199 ià(
	gec
)

200  
	gçl£
;

207 
boŞ
 
	gisF¿gm’t
 = 
ÃwChd
->
nodeTy³
(è=ğ
DOCUMENT_FRAGMENT_NODE
;

210 
	gchdCouÁD–
 = 0;

211 
	gRefPŒ
<
	gNode
> 
	gchd
 = 
isF¿gm’t
 ? 
ÃwChd
->
fœ¡Chd
() :‚ewChild;

212 
	gchd
) {

214 ià(
	g´ev
 && (´ev =ğ
chd
 || 
´ev
 =ğchd->
´eviousSiblšg
()))

218 
	gRefPŒ
<
	gNode
> 
	gÃxtChd
 = 
isF¿gm’t
 ? 
chd
->
ÃxtSiblšg
() : 0;

221 ià(
Node
* 
	gŞdP¬’t
 = 
chd
->
·»ÁNode
())

222 
ŞdP¬’t
->
»moveChd
(
chd
.
g‘
(), 
ec
);

223 ià(
	gec
)

224  
	gçl£
;

230 ià(
	g´ev
 &&…»v->
·»ÁNode
(è!ğ
this
)

232 ià(
	gchd
->
·»ÁNode
())

235 
	gchdCouÁD–
++;

237 
ASSERT
(!
chd
->
ÃxtSiblšg
());

238 
ASSERT
(!
chd
->
´eviousSiblšg
());

241 
fÜbidEv’tDi¥©ch
();

242 
Node
* 
	gÃxt
;

243 ià(
	g´ev
) {

244 
	gÃxt
 = 
´ev
->
ÃxtSiblšg
();

245 
ASSERT
(
m_fœ¡Chd
 !ğ
Ãxt
);

246 
	g´ev
->
£tNextSiblšg
(
chd
.
g‘
());

248 
	gÃxt
 = 
m_fœ¡Chd
;

249 
	gm_fœ¡Chd
 = 
chd
.
g‘
();

251 ià(
	gÃxt
) {

252 
ASSERT
(
m_Ï¡Chd
 !ğ
´ev
);

253 
ASSERT
(
Ãxt
->
´eviousSiblšg
(è=ğ
´ev
);

254 
	gÃxt
->
£tP»viousSiblšg
(
chd
.
g‘
());

256 
ASSERT
(
m_Ï¡Chd
 =ğ
´ev
);

257 
	gm_Ï¡Chd
 = 
chd
.
g‘
();

259 
	gchd
->
£tP¬’t
(
this
);

260 
	gchd
->
£tP»viousSiblšg
(
´ev
.
g‘
());

261 
	gchd
->
£tNextSiblšg
(
Ãxt
);

262 
®lowEv’tDi¥©ch
();

264 
nÙifyChdIn£¹ed
(
chd
.
g‘
());

267 ià(
©ched
(è&& !
	gchd
->©ched(è&& chd->
·»Á
(è=ğ
this
) {

268 ià(
shouldLazyA‰ach
)

269 
chd
->
ÏzyA‰ach
();

271 
	gchd
->
©ch
();

276 
di¥©chChdIn£¹iÚEv’ts
(
chd
.
g‘
());

278 
	g´ev
 = 
chd
;

279 
	gchd
 = 
ÃxtChd
.
»Ëa£
();

282 ià(
	gchdCouÁD–
)

283 
chd»nChªged
(
çl£
, 
´ev
.
g‘
(), 
Ãxt
.g‘(), 
chdCouÁD–
);

284 
di¥©chSubŒ“Modif›dEv’t
();

285  
	gŒue
;

288 
	gCÚš”Node
::
wlRemove
()

290 
Node
 *
n
 = 
m_fœ¡Chd
; 
	gn
 !ğ0;‚ =‚->
ÃxtSiblšg
())

291 
n
->
wlRemove
();

292 
	gNode
::
wlRemove
();

295 
Exû±iÚCode
 
wlRemoveChd
(
Node
 *
chd
)

297 
Exû±iÚCode
 
	gec
 = 0;

300 
di¥©chChdRemov®Ev’ts
(
chd
);

301 ià(
	gec
)

302  
	gec
;

304 ià(
	gchd
->
©ched
())

305 
	gchd
->
wlRemove
();

310 
boŞ
 
	gCÚš”Node
::
»moveChd
(
Node
* 
ŞdChd
, 
Exû±iÚCode
& 
ec
)

314 
ASSERT
(
»fCouÁ
(è|| 
·»Á
());

316 
	gec
 = 0;

319 ià(
isR—dOÆyNode
()) {

320 
	gec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

321  
	gçl£
;

325 ià(!
	gŞdChd
 || oldChd->
·»ÁNode
(è!ğ
this
) {

326 
ec
 = 
NOT_FOUND_ERR
;

327  
	gçl£
;

330 
	gRefPŒ
<
	gNode
> 
	gchd
 = 
ŞdChd
;

332 
	gec
 = 
wlRemoveChd
(
chd
.
g‘
());

333 ià(
	gec
)

334  
	gçl£
;

337 ià(
	gchd
->
·»ÁNode
(è!ğ
this
) {

338 
ec
 = 
NOT_FOUND_ERR
;

339  
	gçl£
;

342 
docum’t
()->
»moveFocu£dNodeOfSubŒ“
(
chd
.
g‘
());

346 ià(
	gchd
->
·»ÁNode
(è!ğ
this
) {

347 
ec
 = 
NOT_FOUND_ERR
;

348  
	gçl£
;

356 
fÜbidEv’tDi¥©ch
();

359 ià(
	gchd
->
©ched
())

360 
	gchd
->
d‘ach
();

363 
Node
 *
	g´ev
, *
	gÃxt
;

364 
	g´ev
 = 
chd
->
´eviousSiblšg
();

365 
	gÃxt
 = 
chd
->
ÃxtSiblšg
();

367 ià(
	gÃxt
)

368 
	gÃxt
->
£tP»viousSiblšg
(
´ev
);

369 ià(
	g´ev
)

370 
	g´ev
->
£tNextSiblšg
(
Ãxt
);

371 ià(
	gm_fœ¡Chd
 =ğ
chd
)

372 
m_fœ¡Chd
 = 
Ãxt
;

373 ià(
	gm_Ï¡Chd
 =ğ
chd
)

374 
m_Ï¡Chd
 = 
´ev
;

376 
	gchd
->
£tP»viousSiblšg
(0);

377 
	gchd
->
£tNextSiblšg
(0);

378 
	gchd
->
£tP¬’t
(0);

380 
®lowEv’tDi¥©ch
();

383 
chd»nChªged
(
çl£
, 
´ev
, 
Ãxt
, -1);

384 
di¥©chSubŒ“Modif›dEv’t
();

386 ià(
	gchd
->
šDocum’t
())

387 
	gchd
->
»movedFromDocum’t
();

389 
	gchd
->
»movedFromT»e
(
Œue
);

391  
	gchd
;

396 
boŞ
 
	gCÚš”Node
::
»moveChd»n
()

398 ià(!
m_fœ¡Chd
)

399  
çl£
;

402 
	gRefPŒ
<
	gNode
> 
´Ùeù
(
this
);

407 
	gRefPŒ
<
	gNode
> 
	gn
 = 
m_fœ¡Chd
;‚;‚ = 
n
->
ÃxtSiblšg
())

408 
wlRemoveChd
(
n
.
g‘
());

411 
docum’t
()->
»moveFocu£dNodeOfSubŒ“
(
this
, 
Œue
);

413 
fÜbidEv’tDi¥©ch
();

414 
	gVeùÜ
<
	gRefPŒ
<
	gNode
> > 
	g»movedChd»n
;

415 
	gRefPŒ
<
	gNode
> 
	gn
 = 
m_fœ¡Chd
) {

416 
Node
* 
Ãxt
 = 
n
->
ÃxtSiblšg
();

421 
	gn
->
£tP»viousSiblšg
(0);

422 
	gn
->
£tNextSiblšg
(0);

423 
	gn
->
£tP¬’t
(0);

425 
	gm_fœ¡Chd
 = 
Ãxt
;

426 ià(
	gn
 =ğ
m_Ï¡Chd
)

427 
m_Ï¡Chd
 = 0;

429 ià(
	gn
->
©ched
())

430 
	gn
->
d‘ach
();

432 
	g»movedChd»n
.
­³nd
(
n
.
»Ëa£
());

434 
®lowEv’tDi¥©ch
();

436 
size_t
 
	g»movedChd»nCouÁ
 = 
»movedChd»n
.
size
();

439 
chd»nChªged
(
çl£
, 0, 0, -
¡©ic_ÿ¡
<>(
»movedChd»nCouÁ
));

440 
di¥©chSubŒ“Modif›dEv’t
();

442 
size_t
 
	gi
 = 0; i < 
	g»movedChd»nCouÁ
; ++i) {

443 
Node
* 
	g»movedChd
 = 
»movedChd»n
[
i
].
g‘
();

444 ià(
	g»movedChd
->
šDocum’t
())

445 
	g»movedChd
->
»movedFromDocum’t
();

451  
	gŒue
;

454 
boŞ
 
	gCÚš”Node
::
­³ndChd
(
PassRefPŒ
<
Node
> 
ÃwChd
, 
Exû±iÚCode
& 
ec
, boŞ 
shouldLazyA‰ach
)

458 
ASSERT
(
»fCouÁ
(è|| 
·»Á
());

460 
	gec
 = 0;

463 
checkAddChd
(
ÃwChd
.
g‘
(), 
ec
);

464 ià(
	gec
)

467 ià(
	gÃwChd
 =ğ
m_Ï¡Chd
)

468  
ÃwChd
;

470 
boŞ
 
	gisF¿gm’t
 = 
ÃwChd
->
nodeTy³
(è=ğ
DOCUMENT_FRAGMENT_NODE
;

474 ià(
	gisF¿gm’t
 && !
	gÃwChd
->
fœ¡Chd
())

475  
	gŒue
;

478 
	gRefPŒ
<
	gNode
> 
	g´ev
 = 
Ï¡Chd
();

479 
	gRefPŒ
<
	gNode
> 
	gchd
 = 
isF¿gm’t
 ? 
ÃwChd
->
fœ¡Chd
() :‚ewChild;

480 
	gchd
) {

482 
	gRefPŒ
<
	gNode
> 
	gÃxtChd
 = 
isF¿gm’t
 ? 
chd
->
ÃxtSiblšg
() : 0;

485 ià(
Node
* 
	gŞdP¬’t
 = 
chd
->
·»ÁNode
()) {

486 
ŞdP¬’t
->
»moveChd
(
chd
.
g‘
(), 
ec
);

487 ià(
	gec
)

493 ià(
	gchd
->
·»ÁNode
())

498 
fÜbidEv’tDi¥©ch
();

499 
	gchd
->
£tP¬’t
(
this
);

500 ià(
	gm_Ï¡Chd
) {

501 
	gchd
->
£tP»viousSiblšg
(
m_Ï¡Chd
);

502 
	gm_Ï¡Chd
->
£tNextSiblšg
(
chd
.
g‘
());

504 
	gm_fœ¡Chd
 = 
chd
.
g‘
();

505 
	gm_Ï¡Chd
 = 
chd
.
g‘
();

506 
®lowEv’tDi¥©ch
();

509 
chd»nChªged
(
çl£
, 
´ev
.
g‘
(), 0, 1);

510 
nÙifyChdIn£¹ed
(
chd
.
g‘
());

513 ià(
©ched
(è&& !
	gchd
->©ched(è&& chd->
·»Á
(è=ğ
this
) {

514 ià(
shouldLazyA‰ach
)

515 
chd
->
ÏzyA‰ach
();

517 
	gchd
->
©ch
();

522 
di¥©chChdIn£¹iÚEv’ts
(
chd
.
g‘
());

524 
	gchd
 = 
ÃxtChd
.
»Ëa£
();

527 
di¥©chSubŒ“Modif›dEv’t
();

528  
	gŒue
;

531 
CÚš”Node
* 
	gCÚš”Node
::
addChd
(
PassRefPŒ
<
Node
> 
ÃwChd
)

533 
ASSERT
(
ÃwChd
);

538 ià(
docum’t
()->
isHTMLDocum’t
(è&& !
chdAÎowed
(
ÃwChd
.
g‘
()))

541 
fÜbidEv’tDi¥©ch
();

542 
Node
* 
	gÏ¡
 = 
m_Ï¡Chd
;

543 
	g­³ndChdToCÚš”
<
	gNode
, 
	gCÚš”Node
>(
	gÃwChd
.
g‘
(), 
	gthis
);

544 
®lowEv’tDi¥©ch
();

546 
docum’t
()->
šcDOMT»eV”siÚ
();

547 ià(
šDocum’t
())

548 
	gÃwChd
->
š£¹edIÁoDocum’t
();

549 
chd»nChªged
(
Œue
, 
Ï¡
, 0, 1);

551 ià(
	gÃwChd
->
isEËm’tNode
())

552  
	g¡©ic_ÿ¡
<
	gCÚš”Node
*>(
	gÃwChd
.
g‘
());

553  
	gthis
;

556 
	gCÚš”Node
::
su¥’dPo¡A‰achC®lbacks
()

558 ià(!
s_©chD•th
) {

559 
ASSERT
(!
s_shouldReEÇbËMemÜyCacheC®lsAá”A‰ach
);

560 ià(
Page
* 
	g·ge
 = 
docum’t
()->
·ge
()) {

561 ià(
·ge
->
¬eMemÜyCacheCl›ÁC®lsEÇbËd
()) {

562 
·ge
->
£tMemÜyCacheCl›ÁC®lsEÇbËd
(
çl£
);

563 
	gs_shouldReEÇbËMemÜyCacheC®lsAá”A‰ach
 = 
Œue
;

566 
ÿche
()->
lßd”
()->
su¥’dP’dšgReque¡s
();

568 ++
	gs_©chD•th
;

571 
	gCÚš”Node
::
»sumePo¡A‰achC®lbacks
()

573 ià(
s_©chD•th
 == 1) {

574 ià(
s_po¡A‰achC®lbackQueue
)

575 
di¥©chPo¡A‰achC®lbacks
();

576 ià(
	gs_shouldReEÇbËMemÜyCacheC®lsAá”A‰ach
) {

577 
	gs_shouldReEÇbËMemÜyCacheC®lsAá”A‰ach
 = 
çl£
;

578 ià(
Page
* 
	g·ge
 = 
docum’t
()->
·ge
())

579 
·ge
->
£tMemÜyCacheCl›ÁC®lsEÇbËd
(
Œue
);

581 
ÿche
()->
lßd”
()->
»sumeP’dšgReque¡s
();

583 --
	gs_©chD•th
;

586 
	gCÚš”Node
::
queuePo¡A‰achC®lback
(
NodeC®lback
 
ÿÎback
, 
Node
* 
node
)

588 ià(!
	gs_po¡A‰achC®lbackQueue
)

589 
	gs_po¡A‰achC®lbackQueue
 = 
Ãw
 
NodeC®lbackQueue
;

591 
	gs_po¡A‰achC®lbackQueue
->
­³nd
(
¡d
::
·œ
<
NodeC®lback
, 
RefPŒ
<
Node
> >(
ÿÎback
, 
node
));

594 
	gCÚš”Node
::
di¥©chPo¡A‰achC®lbacks
()

598 
size_t
 
i
 = 0; 
	gi
 < 
	gs_po¡A‰achC®lbackQueue
->
size
(); ++i) {

599 
	g¡d
::
·œ
<
NodeC®lback
, 
	gRefPŒ
<
	gNode
> >& 
	g·œ
 = (*
s_po¡A‰achC®lbackQueue
)[
i
];

600 
NodeC®lback
 
	gÿÎback
 = 
·œ
.
fœ¡
;

601 
Node
* 
	gnode
 = 
·œ
.
£cÚd
.
g‘
();

603 
ÿÎback
(
node
);

605 
	gs_po¡A‰achC®lbackQueue
->
ş—r
();

608 
	gCÚš”Node
::
©ch
()

610 
Node
* 
chd
 = 
m_fœ¡Chd
; 
	gchd
; chd = chd->
ÃxtSiblšg
())

611 
chd
->
©ch
();

612 
	gNode
::
©ch
();

615 
	gCÚš”Node
::
d‘ach
()

617 
Node
* 
chd
 = 
m_fœ¡Chd
; 
	gchd
; chd = chd->
ÃxtSiblšg
())

618 
chd
->
d‘ach
();

619 
£tChdN“dsStyËReÿlc
(
çl£
);

620 
	gNode
::
d‘ach
();

623 
	gCÚš”Node
::
š£¹edIÁoDocum’t
()

625 
Node
::
š£¹edIÁoDocum’t
();

626 
š£¹edIÁoT»e
(
çl£
);

627 
Node
* 
	gchd
 = 
m_fœ¡Chd
; chd; chd = 
chd
->
ÃxtSiblšg
())

628 
chd
->
š£¹edIÁoDocum’t
();

631 
	gCÚš”Node
::
»movedFromDocum’t
()

633 
Node
::
»movedFromDocum’t
();

634 ià(
docum’t
()->
cssT¬g‘
(è=ğ
this
)

635 
docum’t
()->
£tCSST¬g‘
(0);

636 
£tInDocum’t
(
çl£
);

637 
»movedFromT»e
(
çl£
);

638 
Node
* 
	gchd
 = 
m_fœ¡Chd
; chd; chd = 
chd
->
ÃxtSiblšg
())

639 
chd
->
»movedFromDocum’t
();

642 
	gCÚš”Node
::
š£¹edIÁoT»e
(
boŞ
 
d“p
)

644 ià(!
d“p
)

646 
Node
* 
	gchd
 = 
m_fœ¡Chd
; chd; chd = 
chd
->
ÃxtSiblšg
())

647 
chd
->
š£¹edIÁoT»e
(
Œue
);

650 
	gCÚš”Node
::
»movedFromT»e
(
boŞ
 
d“p
)

652 ià(!
d“p
)

654 
Node
* 
	gchd
 = 
m_fœ¡Chd
; chd; chd = 
chd
->
ÃxtSiblšg
())

655 
chd
->
»movedFromT»e
(
Œue
);

658 
	gCÚš”Node
::
chd»nChªged
(
boŞ
 
chªgedByP¬£r
, 
Node
* 
befÜeChªge
, Node* 
aá”Chªge
, 
chdCouÁD–
)

660 
	gNode
::
chd»nChªged
(
chªgedByP¬£r
, 
befÜeChªge
, 
aá”Chªge
, 
chdCouÁD–
);

661 ià(!
	gchªgedByP¬£r
 && 
	gchdCouÁD–
)

662 
docum’t
()->
nodeChd»nChªged
(
this
);

663 ià(
docum’t
()->
hasNodeLi¡Caches
())

664 
nÙifyNodeLi¡sChd»nChªged
();

667 
	gCÚš”Node
::
şÚeChdNodes
(
CÚš”Node
 *
şÚe
)

670 ià(
docum’t
()->
äame
())

671 
docum’t
()->
äame
()->
ed™Ü
()->
d–‘eBu‰ÚCÚŒŞËr
()->
di§bË
();

672 
Exû±iÚCode
 
	gec
 = 0;

673 
Node
* 
	gn
 = 
fœ¡Chd
();‚ && !
	gec
;‚ = 
n
->
ÃxtSiblšg
())

674 
şÚe
->
­³ndChd
(
n
->
şÚeNode
(
Œue
), 
ec
);

675 ià(
docum’t
()->
äame
())

676 
docum’t
()->
äame
()->
ed™Ü
()->
d–‘eBu‰ÚCÚŒŞËr
()->
’abË
();

680 
boŞ
 
	gCÚš”Node
::
g‘Uµ”LeáCÜÃr
(
FlßtPošt
& 
pošt
) const

682 ià(!
»nd””
())

683  
çl£
;

685 
R’d”Objeù
 *
	go
 = 
»nd””
();

686 
R’d”Objeù
 *
	gp
 = 
o
;

688 ià(!
	go
->
isIÆše
(è|| o->
isR•Ïûd
()) {

689 
	gpošt
 = 
o
->
loÿlToAbsŞu‹
();

690  
	gŒue
;

694 
	go
) {

695 
	gp
 = 
o
;

696 ià(
	go
->
fœ¡Chd
())

697 
	go
 = 
o
->
fœ¡Chd
();

698 ià(
	go
->
ÃxtSiblšg
())

699 
	go
 = 
o
->
ÃxtSiblšg
();

701 
R’d”Objeù
 *
	gÃxt
 = 0;

702 !
	gÃxt
 && 
	go
->
·»Á
()) {

703 
	go
 = 
o
->
·»Á
();

704 
	gÃxt
 = 
o
->
ÃxtSiblšg
();

706 
	go
 = 
Ãxt
;

708 ià(!
	go
)

711 
ASSERT
(
o
);

713 ià(!
	go
->
isIÆše
(è|| o->
isR•Ïûd
()) {

714 
	gpošt
 = 
o
->
loÿlToAbsŞu‹
();

715  
	gŒue
;

718 ià(
	gp
->
node
(è&&…->node(è=ğ
this
 && 
o
->
isText
(è&& !o->
isBR
(è&& !
toR’d”Text
(o)->
fœ¡TextBox
()) {

720 } ià((
o
->
isText
(è&& !o->
isBR
()è|| o->
isR•Ïûd
()) {

721 
pošt
 = 
o
->
cÚš”
()->
loÿlToAbsŞu‹
();

722 ià(
	go
->
isText
(è&& 
toR’d”Text
(
o
)->
fœ¡TextBox
()) {

723 
	gpošt
.
move
(
toR’d”Text
(
o
)->
lšesBoundšgBox
().
x
(),

724 
toR’d”Text
(
o
)->
fœ¡TextBox
()->
roÙ
()->
lšeTİ
());

725 } ià(
	go
->
isBox
()) {

726 
R’d”Box
* 
	gbox
 = 
toR’d”Box
(
o
);

727 
	gpošt
.
move
(
box
->
x
(), box->
y
());

729  
	gŒue
;

735 ià(!
	go
 && 
docum’t
()->
v›w
()) {

736 
	gpošt
 = 
FlßtPošt
(0, 
docum’t
()->
v›w
()->
cÚ‹ÁsHeight
());

737  
	gŒue
;

739  
	gçl£
;

743 
boŞ
 
	gCÚš”Node
::
g‘Low”RightCÜÃr
(
FlßtPošt
& 
pošt
) const

745 ià(!
»nd””
())

746  
çl£
;

748 
R’d”Objeù
* 
	go
 = 
»nd””
();

749 ià(!
	go
->
isIÆše
(è|| o->
isR•Ïûd
()) {

750 
R’d”Box
* 
	gbox
 = 
toR’d”Box
(
o
);

751 
	gpošt
 = 
o
->
loÿlToAbsŞu‹
();

752 
	gpošt
.
move
(
box
->
width
(), box->
height
());

753  
	gŒue
;

757 
	go
) {

758 ià(
	go
->
Ï¡Chd
())

759 
	go
 = 
o
->
Ï¡Chd
();

760 ià(
	go
->
´eviousSiblšg
())

761 
	go
 = 
o
->
´eviousSiblšg
();

763 
R’d”Objeù
* 
	g´ev
 = 0;

764 !
	g´ev
) {

765 
	go
 = 
o
->
·»Á
();

766 ià(!
	go
)

767  
	gçl£
;

768 
	g´ev
 = 
o
->
´eviousSiblšg
();

770 
	go
 = 
´ev
;

772 
ASSERT
(
o
);

773 ià(
	go
->
isText
(è|| o->
isR•Ïûd
()) {

774 
	gpošt
 = 
o
->
cÚš”
()->
loÿlToAbsŞu‹
();

775 ià(
	go
->
isText
()) {

776 
R’d”Text
* 
	g‹xt
 = 
toR’d”Text
(
o
);

777 
IÁReù
 
	glšesBox
 = 
‹xt
->
lšesBoundšgBox
();

778 
	gpošt
.
move
(
lšesBox
.
x
(è+†šesBox.
width
(),†šesBox.
y
(è+†šesBox.
height
());

780 
R’d”Box
* 
	gbox
 = 
toR’d”Box
(
o
);

781 
	gpošt
.
move
(
box
->
x
(è+ box->
width
(), box->
y
(è+ box->
height
());

783  
	gŒue
;

786  
	gŒue
;

789 
IÁReù
 
	gCÚš”Node
::
g‘Reù
() const

791 
FlßtPošt
 
uµ”Leá
, 
	glow”Right
;

792 
boŞ
 
	gfoundUµ”Leá
 = 
g‘Uµ”LeáCÜÃr
(
uµ”Leá
);

793 
boŞ
 
	gfoundLow”Right
 = 
g‘Low”RightCÜÃr
(
low”Right
);

797 ià(
	gfoundUµ”Leá
 !ğ
foundLow”Right
) {

798 ià(
foundUµ”Leá
)

799 
low”Right
 = 
uµ”Leá
;

801 
	guµ”Leá
 = 
low”Right
;

804 
	glow”Right
.
£tX
(
max
(
uµ”Leá
.
x
(), 
low”Right
.x()));

805 
	glow”Right
.
£tY
(
max
(
uµ”Leá
.
y
(), 
low”Right
.y()));

807  
’şosšgIÁReù
(
FlßtReù
(
uµ”Leá
, 
low”Right
 - upperLeft));

810 
	gCÚš”Node
::
£tFocus
(
boŞ
 
»ûived
)

812 ià(
focu£d
(è=ğ
»ûived
)

815 
	gNode
::
£tFocus
(
»ûived
);

818 
£tN“dsStyËReÿlc
();

821 
	gCÚš”Node
::
£tAùive
(
boŞ
 
down
, boŞ 
·u£
)

823 ià(
	gdown
 =ğ
aùive
()) ;

825 
	gNode
::
£tAùive
(
down
);

829 ià(
»nd””
()) {

830 
boŞ
 
	g»aùsToP»ss
 = 
»nd””
()->
¡yË
()->
afãùedByAùiveRuËs
();

831 ià(
	g»aùsToP»ss
)

832 
£tN“dsStyËReÿlc
();

833 ià(
»nd””
(è&&„’d””()->
¡yË
()->
hasAµ—¿nû
()) {

834 ià(
»nd””
()->
theme
()->
¡©eChªged
Ô’d””(), 
P»s£dS‹
))

835 
	g»aùsToP»ss
 = 
Œue
;

837 ià(
	g»aùsToP»ss
 && 
	g·u£
) {

842 #ifdeà
HAVE_FUNC_USLEEP


843 
	g¡¬tTime
 = 
cu¼’tTime
();

847 
	gDocum’t
::
upd©eStyËFÜAÎDocum’ts
();

849 ià(
»nd””
())

850 
»nd””
()->
»·št
(
Œue
);

854 #ifdeà
HAVE_FUNC_USLEEP


856 
	g»maššgTime
 = 0.1 - (
cu¼’tTime
(è- 
¡¬tTime
);

857 ià(
	g»maššgTime
 > 0)

858 
u¦“p
(
¡©ic_ÿ¡
<
u£cÚds_t
>(
»maššgTime
 * 1000000.0));

864 
	gCÚš”Node
::
£tHov”ed
(
boŞ
 
ov”
)

866 ià(
ov”
 =ğ
hov”ed
()) ;

868 
	gNode
::
£tHov”ed
(
ov”
);

872 ià(
»nd””
()) {

873 ià(
»nd””
()->
¡yË
()->
afãùedByHov”RuËs
())

874 
£tN“dsStyËReÿlc
();

875 ià(
»nd””
(è&&„’d””()->
¡yË
()->
hasAµ—¿nû
())

876 
»nd””
()->
theme
()->
¡©eChªged
Ô’d””(), 
Hov”S‹
);

880 
	gCÚš”Node
::
chdNodeCouÁ
() const

882 
couÁ
 = 0;

883 
Node
 *
	gn
;

884 
	gn
 = 
fœ¡Chd
();‚;‚ = 
n
->
ÃxtSiblšg
())

885 
couÁ
++;

886  
	gcouÁ
;

889 
Node
 *
	gCÚš”Node
::
chdNode
(
šdex
) const

891 
i
;

892 
Node
 *
	gn
 = 
fœ¡Chd
();

893 
	gi
 = 0; 
	gn
 !ğ0 && 
i
 < 
šdex
; i++)

894 
	gn
 = 
n
->
ÃxtSiblšg
();

895  
	gn
;

898 
nÙifyChdIn£¹ed
(
Node
* 
chd
)

900 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

902 #ià
ENABLE
(
INSPECTOR
)

903 ià(
Page
* 
	g·ge
 = 
chd
->
docum’t
()->
·ge
()) {

904 ià(
In¥eùÜCÚŒŞËr
* 
š¥eùÜCÚŒŞËr
 = 
·ge
->inspectorController())

905 
š¥eùÜCÚŒŞËr
->
didIn£¹DOMNode
(
chd
);

909 
	gRefPŒ
<
	gNode
> 
	gc
 = 
chd
;

910 
	gRefPŒ
<
	gDocum’t
> 
	gdocum’t
 = 
chd
->
docum’t
();

912 ià(
	gc
->
·»ÁNode
(è&& c->·»ÁNode()->
šDocum’t
())

913 
	gc
->
š£¹edIÁoDocum’t
();

915 
	gc
->
š£¹edIÁoT»e
(
Œue
);

917 
	gdocum’t
->
šcDOMT»eV”siÚ
();

920 
di¥©chChdIn£¹iÚEv’ts
(
Node
* 
chd
)

922 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

924 
	gRefPŒ
<
	gNode
> 
	gc
 = 
chd
;

925 
	gRefPŒ
<
	gDocum’t
> 
	gdocum’t
 = 
chd
->
docum’t
();

927 ià(
	gc
->
·»ÁNode
(è&& 
	gdocum’t
->
hasLi¡’”Ty³
(
Docum’t
::
DOMNODEINSERTED_LISTENER
))

928 
c
->
di¥©chEv’t
(
MutiÚEv’t
::
ü—‹
(
ev’tNames
().
DOMNodeIn£¹edEv’t
, 
Œue
, c->
·»ÁNode
()));

931 ià(
	gc
->
šDocum’t
(è&& 
	gdocum’t
->
hasLi¡’”Ty³
(
Docum’t
::
DOMNODEINSERTEDINTODOCUMENT_LISTENER
)) {

932 ; 
	gc
; c = 
c
->
Œav”£NextNode
(
chd
))

933 
c
->
di¥©chEv’t
(
MutiÚEv’t
::
ü—‹
(
ev’tNames
().
DOMNodeIn£¹edIÁoDocum’tEv’t
, 
çl£
));

937 
di¥©chChdRemov®Ev’ts
(
Node
* 
chd
)

939 #ià
ENABLE
(
INSPECTOR
)

940 ià(
Page
* 
	g·ge
 = 
chd
->
docum’t
()->
·ge
()) {

941 ià(
In¥eùÜCÚŒŞËr
* 
š¥eùÜCÚŒŞËr
 = 
·ge
->inspectorController())

942 
š¥eùÜCÚŒŞËr
->
didRemoveDOMNode
(
chd
);

946 
	gRefPŒ
<
	gNode
> 
	gc
 = 
chd
;

947 
	gRefPŒ
<
	gDocum’t
> 
	gdocum’t
 = 
chd
->
docum’t
();

950 
	gdocum’t
->
nodeWlBeRemoved
(
chd
);

952 
	gdocum’t
->
šcDOMT»eV”siÚ
();

955 ià(
	gc
->
·»ÁNode
(è&& 
	gdocum’t
->
hasLi¡’”Ty³
(
Docum’t
::
DOMNODEREMOVED_LISTENER
))

956 
c
->
di¥©chEv’t
(
MutiÚEv’t
::
ü—‹
(
ev’tNames
().
DOMNodeRemovedEv’t
, 
Œue
, c->
·»ÁNode
()));

959 ià(
	gc
->
šDocum’t
(è&& 
	gdocum’t
->
hasLi¡’”Ty³
(
Docum’t
::
DOMNODEREMOVEDFROMDOCUMENT_LISTENER
)) {

960 ; 
	gc
; c = 
c
->
Œav”£NextNode
(
chd
))

961 
c
->
di¥©chEv’t
(
MutiÚEv’t
::
ü—‹
(
ev’tNames
().
DOMNodeRemovedFromDocum’tEv’t
, 
çl£
));

965 
boŞ
 
	gCÚš”Node
::
di¥©chBefÜeLßdEv’t
(cÚ¡ 
SŒšg
& 
sourûURL
)

967 ià(!
docum’t
()->
hasLi¡’”Ty³
(
Docum’t
::
BEFORELOAD_LISTENER
))

968  
Œue
;

970 
	gRefPŒ
<
	gCÚš”Node
> 
´ÙeùÜ
(
this
);

971 
	gRefPŒ
<
	gBefÜeLßdEv’t
> 
	gbefÜeLßdEv’t
 = 
BefÜeLßdEv’t
::
ü—‹
(
sourûURL
);

972 
di¥©chEv’t
(
befÜeLßdEv’t
.
g‘
());

973  !
	gbefÜeLßdEv’t
->
deçuÉP»v’‹d
();

	@ContainerNode.h

24 #iâdeà
CÚš”Node_h


25 
	#CÚš”Node_h


	)

27 
	~"Node.h
"

28 
	~"FlßtPošt.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 (*
	gNodeC®lback
)(
	tNode
*);

34 
Çme¥aû
 
	gPriv©e
 {

35 
	g‹m¶©e
<
şass
 
	gG’”icNode
, cÏs 
	gG’”icNodeCÚš”
>

36 
addChdNodesToD–‘iÚQueue
(
G’”icNode
*& 
h—d
, G’”icNode*& 

, 
G’”icNodeCÚš”
* 
cÚš”
);

39 şas 
	cCÚš”Node
 : 
public
 
Node
 {

40 
public
:

41 
vœtu®
 ~
CÚš”Node
();

43 
Node
* 
fœ¡Chd
(ècÚ¡ {  
	gm_fœ¡Chd
; }

44 
Node
* 
Ï¡Chd
(ècÚ¡ {  
	gm_Ï¡Chd
; }

46 
vœtu®
 
boŞ
 
š£¹BefÜe
(
PassRefPŒ
<
Node
> 
ÃwChd
, Node* 
»fChd
, 
Exû±iÚCode
&, boŞ 
shouldLazyA‰ach
 = 
çl£
);

47 
vœtu®
 
boŞ
 
»¶aûChd
(
PassRefPŒ
<
Node
> 
ÃwChd
, Node* 
ŞdChd
, 
Exû±iÚCode
&, boŞ 
shouldLazyA‰ach
 = 
çl£
);

48 
vœtu®
 
boŞ
 
»moveChd
(
Node
* 
chd
, 
Exû±iÚCode
&);

49 
vœtu®
 
boŞ
 
­³ndChd
(
PassRefPŒ
<
Node
> 
ÃwChd
, 
Exû±iÚCode
&, boŞ 
shouldLazyA‰ach
 = 
çl£
);

51 
vœtu®
 
CÚš”Node
* 
addChd
(
PassRefPŒ
<
Node
>);

52 
boŞ
 
hasChdNodes
(ècÚ¡ {  
	gm_fœ¡Chd
; }

53 
vœtu®
 
©ch
();

54 
vœtu®
 
d‘ach
();

55 
vœtu®
 
wlRemove
();

56 
vœtu®
 
IÁReù
 
g‘Reù
() const;

57 
vœtu®
 
£tFocus
(
boŞ
 = 
Œue
);

58 
vœtu®
 
£tAùive
(
boŞ
 
aùive
 = 
Œue
, boŞ 
·u£
 = 
çl£
);

59 
vœtu®
 
£tHov”ed
(
boŞ
 = 
Œue
);

60 
chdNodeCouÁ
() const;

61 
Node
* 
chdNode
(
šdex
) const;

63 
vœtu®
 
š£¹edIÁoDocum’t
();

64 
vœtu®
 
»movedFromDocum’t
();

65 
vœtu®
 
š£¹edIÁoT»e
(
boŞ
 
d“p
);

66 
vœtu®
 
»movedFromT»e
(
boŞ
 
d“p
);

67 
vœtu®
 
chd»nChªged
(
boŞ
 
ü—‹dByP¬£r
 = 
çl£
, 
Node
* 
befÜeChªge
 = 0, Node* 
aá”Chªge
 = 0, 
chdCouÁD–
 = 0);

69 
vœtu®
 
boŞ
 
»moveChd»n
();

71 
»moveAÎChd»n
();

73 
şÚeChdNodes
(
CÚš”Node
* 
şÚe
);

75 
boŞ
 
di¥©chBefÜeLßdEv’t
(cÚ¡ 
SŒšg
& 
sourûURL
);

77 
	g´Ùeùed
:

78 
CÚš”Node
(
Docum’t
*, 
CÚ¡ruùiÚTy³
 = 
C»©eCÚš”
);

80 
queuePo¡A‰achC®lback
(
NodeC®lback
, 
Node
*);

81 
su¥’dPo¡A‰achC®lbacks
();

82 
»sumePo¡A‰achC®lbacks
();

84 
	g‹m¶©e
<
şass
 
	gG’”icNode
, cÏs 
	gG’”icNodeCÚš”
>

85 
ä›nd
 
­³ndChdToCÚš”
(
G’”icNode
* 
chd
, 
G’”icNodeCÚš”
* 
cÚš”
);

87 
	g‹m¶©e
<
şass
 
	gG’”icNode
, cÏs 
	gG’”icNodeCÚš”
>

88 
ä›nd
 
	gPriv©e
::
addChdNodesToD–‘iÚQueue
(
G’”icNode
*& 
h—d
, G’”icNode*& 

, 
G’”icNodeCÚš”
* 
cÚš”
);

90 
£tFœ¡Chd
(
Node
* 
chd
è{ 
	gm_fœ¡Chd
 = child; }

91 
£tLa¡Chd
(
Node
* 
chd
è{ 
	gm_Ï¡Chd
 = child; }

93 
	g´iv©e
:

94 
di¥©chPo¡A‰achC®lbacks
();

96 
boŞ
 
g‘Uµ”LeáCÜÃr
(
FlßtPošt
&) const;

97 
boŞ
 
g‘Low”RightCÜÃr
(
FlßtPošt
&) const;

99 
Node
* 
	gm_fœ¡Chd
;

100 
Node
* 
	gm_Ï¡Chd
;

103 
šlše
 
	gCÚš”Node
::
	$CÚš”Node
(
Docum’t
* 
docum’t
, 
CÚ¡ruùiÚTy³
 
ty³
)

104 : 
	`Node
(
docum’t
, 
ty³
)

105 , 
	`m_fœ¡Chd
(0)

106 , 
	$m_Ï¡Chd
(0)

108 
	}
}

110 
šlše
 
	gNode
::
	$cÚš”ChdNodeCouÁ
() const

112 
	`ASSERT
(
	`isCÚš”Node
());

113  
¡©ic_ÿ¡
<cÚ¡ 
CÚš”Node
*>(
this
)->
	`chdNodeCouÁ
();

114 
	}
}

116 
šlše
 
Node
* 
	gNode
::
	$cÚš”ChdNode
(
šdex
) const

118 
	`ASSERT
(
	`isCÚš”Node
());

119  
¡©ic_ÿ¡
<cÚ¡ 
CÚš”Node
*>(
this
)->
	`chdNode
(
šdex
);

120 
	}
}

122 
šlše
 
Node
* 
	gNode
::
	$cÚš”Fœ¡Chd
() const

124 
	`ASSERT
(
	`isCÚš”Node
());

125  
¡©ic_ÿ¡
<cÚ¡ 
CÚš”Node
*>(
this
)->
	`fœ¡Chd
();

126 
	}
}

128 
šlše
 
Node
* 
	gNode
::
	$cÚš”La¡Chd
() const

130 
	`ASSERT
(
	`isCÚš”Node
());

131  
¡©ic_ÿ¡
<cÚ¡ 
CÚš”Node
*>(
this
)->
	`Ï¡Chd
();

132 
	}
}

	@ContainerNodeAlgorithms.h

22 #iâdeà
CÚš”NodeAlgÜ™hms_h


23 
	#CÚš”NodeAlgÜ™hms_h


	)

25 
	~<wtf/As£¹iÚs.h
>

27 
Çme¥aû
 
	gWebCÜe
 {

29 
şass
 
	gNode
;

31 
Çme¥aû
 
	gPriv©e
 {

33 
	g‹m¶©e
<
şass
 
	gG’”icNode
, cÏs 
	gG’”icNodeCÚš”
>

34 
addChdNodesToD–‘iÚQueue
(
G’”icNode
*& 
h—d
, G’”icNode*& 

, 
G’”icNodeCÚš”
* 
cÚš”
);

40 
	g‹m¶©e
<
şass
 
	gG’”icNode
, cÏs 
	gG’”icNodeCÚš”
>

41 
»moveAÎChd»nInCÚš”
(
G’”icNodeCÚš”
* 
cÚš”
)

44 
G’”icNode
* 
	gh—d
 = 0;

45 
G’”icNode
* 
	g
 = 0;

47 
	gPriv©e
::
addChdNodesToD–‘iÚQueue
<
G’”icNode
, 
	gG’”icNodeCÚš”
>(
	gh—d
, 
	g
, 
	gcÚš”
);

49 
G’”icNode
* 
	gn
;

50 
G’”icNode
* 
	gÃxt
;

51 (
	gn
 = 
h—d
) != 0) {

52 
ASSERT
(
n
->
m_d–‘iÚHasBegun
);

54 
	gÃxt
 = 
n
->
ÃxtSiblšg
();

55 
	gn
->
£tNextSiblšg
(0);

57 
	gh—d
 = 
Ãxt
;

58 ià(
	gÃxt
 == 0)

59 

 = 0;

61 ià(
	gn
->
hasChdNodes
())

62 
	gPriv©e
::
addChdNodesToD–‘iÚQueue
<
G’”icNode
, 
	gG’”icNodeCÚš”
>(
	gh—d
, 
	g
, 
	g¡©ic_ÿ¡
<G’”icNodeCÚš”*>(
	gn
));

64 
d–‘e
 
	gn
;

68 
	g‹m¶©e
<
şass
 
	gG’”icNode
, cÏs 
	gG’”icNodeCÚš”
>

69 
­³ndChdToCÚš”
(
G’”icNode
* 
chd
, 
G’”icNodeCÚš”
* 
cÚš”
)

71 
	gchd
->
£tP¬’t
(
cÚš”
);

73 
G’”icNode
* 
	gÏ¡Chd
 = 
cÚš”
->
Ï¡Chd
();

74 ià(
	gÏ¡Chd
) {

75 
	gchd
->
£tP»viousSiblšg
(
Ï¡Chd
);

76 
	gÏ¡Chd
->
£tNextSiblšg
(
chd
);

78 
	gcÚš”
->
£tFœ¡Chd
(
chd
);

80 
	gcÚš”
->
£tLa¡Chd
(
chd
);

84 
Çme¥aû
 
	gPriv©e
 {

86 
	g‹m¶©e
<
şass
 
	gG’”icNode
, 
boŞ
 
	gdi¥©chRemov®NÙifiÿtiÚ
>

87 
	sNodeRemov®Di¥©ch”
 {

88 
di¥©ch
(
G’”icNode
*)

94 
	g‹m¶©e
<
şass
 
	gG’”icNode
>

95 
	gNodeRemov®Di¥©ch”
<
	gG’”icNode
, 
	gŒue
> {

96 
di¥©ch
(
G’”icNode
* 
node
)

98 ià(
	gnode
->
šDocum’t
())

99 
	gnode
->
»movedFromDocum’t
();

103 
	g‹m¶©e
<
şass
 
	gG’”icNode
>

104 
	sShouldDi¥©chRemov®NÙifiÿtiÚ
 {

105 cÚ¡ 
boŞ
 
	gv®ue
 = 
çl£
;

108 
	g‹m¶©e
<>

109 
	gShouldDi¥©chRemov®NÙifiÿtiÚ
<
	gNode
> {

110 cÚ¡ 
boŞ
 
	gv®ue
 = 
Œue
;

113 
	g‹m¶©e
<
şass
 
	gG’”icNode
, cÏs 
	gG’”icNodeCÚš”
>

114 
addChdNodesToD–‘iÚQueue
(
G’”icNode
*& 
h—d
, G’”icNode*& 

, 
G’”icNodeCÚš”
* 
cÚš”
)

117 
G’”icNode
* 
	gÃxt
 = 0;

118 
G’”icNode
* 
	gn
 = 
cÚš”
->
fœ¡Chd
();‚ !ğ0;‚ = 
Ãxt
) {

119 
ASSERT
(!
n
->
m_d–‘iÚHasBegun
);

121 
	gÃxt
 = 
n
->
ÃxtSiblšg
();

122 
	gn
->
£tP»viousSiblšg
(0);

123 
	gn
->
£tNextSiblšg
(0);

124 
	gn
->
£tP¬’t
(0);

126 ià(!
	gn
->
»fCouÁ
()) {

127 #iâdeà
NDEBUG


128 
	gn
->
	gm_d–‘iÚHasBegun
 = 
Œue
;

132 ià(
	g
)

133 
	g
->
£tNextSiblšg
(
n
);

135 
	gh—d
 = 
n
;

137 
	g
 = 
n
;

139 
	gNodeRemov®Di¥©ch”
<
	gG’”icNode
, 
	gShouldDi¥©chRemov®NÙifiÿtiÚ
<G’”icNode>::
v®ue
>::
di¥©ch
(
n
);

142 
	gcÚš”
->
£tFœ¡Chd
(0);

143 
	gcÚš”
->
£tLa¡Chd
(0);

	@CustomEvent.cpp

26 
	~"cÚfig.h
"

27 
	~"Cu¡omEv’t.h
"

29 
	~"Ev’tNames.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	gCu¡omEv’t
::
Cu¡omEv’t
()

37 
Cu¡omEv’t
::
š™Cu¡omEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
SütV®ue
 
d‘a
)

39 ià(
di¥©ched
())

42 
š™Ev’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
);

44 
	gm_d‘a
 = 
d‘a
;

47 
boŞ
 
	gCu¡omEv’t
::
isCu¡omEv’t
() const

49  
Œue
;

	@CustomEvent.h

26 #iâdeà
Cu¡omEv’t_h


27 
	#Cu¡omEv’t_h


	)

29 
	~"AtomicSŒšg.h
"

30 
	~"Ev’t.h
"

31 
	~"SütV®ue.h
"

32 
	~<wtf/RefCouÁed.h
>

34 
Çme¥aû
 
	gWebCÜe
 {

36 şas 
	cCu¡omEv’t
 : 
public
 
Ev’t
 {

37 
public
:

38 
PassRefPŒ
<
Cu¡omEv’t
> 
ü—‹
()

40  
adİtRef
(
Ãw
 
Cu¡omEv’t
);

43 
š™Cu¡omEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
SütV®ue
 
d‘a
);

45 
vœtu®
 
boŞ
 
isCu¡omEv’t
() const;

47 
SütV®ue
 
d‘a
(ècÚ¡ {  
	gm_d‘a
; }

49 
	g´iv©e
:

50 
Cu¡omEv’t
();

52 
SütV®ue
 
	gm_d‘a
;

	@DOMCoreException.h

29 #iâdeà
DOMCÜeExû±iÚ_h


30 
	#DOMCÜeExû±iÚ_h


	)

32 
	~"Exû±iÚBa£.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 şas 
	cDOMCÜeExû±iÚ
 : 
public
 
Exû±iÚBa£
 {

37 
public
:

38 
PassRefPŒ
<
DOMCÜeExû±iÚ
> 
ü—‹
(cÚ¡ 
Exû±iÚCodeDesütiÚ
& 
desütiÚ
)

40  
adİtRef
(
Ãw
 
DOMCÜeExû±iÚ
(
desütiÚ
));

43 
	g´iv©e
:

44 
DOMCÜeExû±iÚ
(cÚ¡ 
Exû±iÚCodeDesütiÚ
& 
desütiÚ
)

45 : 
Exû±iÚBa£
(
desütiÚ
)

	@DOMImplementation.cpp

25 
	~"cÚfig.h
"

26 
	~"DOMIm¶em’tiÚ.h
"

28 
	~"CÚ‹ÁTy³.h
"

29 
	~"CSSStyËSh“t.h
"

30 
	~"Docum’tTy³.h
"

31 
	~"EËm’t.h
"

32 
	~"Exû±iÚCode.h
"

33 
	~"F¿me.h
"

34 
	~"F¿meLßd”Cl›Á.h
"

35 
	~"FTPDœeùÜyDocum’t.h
"

36 
	~"HTMLDocum’t.h
"

37 
	~"HTMLNames.h
"

38 
	~"HTMLV›wSourûDocum’t.h
"

39 
	~"Image.h
"

40 
	~"ImageDocum’t.h
"

41 
	~"MedŸDocum’t.h
"

42 
	~"MedŸLi¡.h
"

43 
	~"MedŸPÏy”.h
"

44 
	~"MIMETy³Regi¡ry.h
"

45 
	~"Page.h
"

46 
	~"PlugšD©a.h
"

47 
	~"PlugšDocum’t.h
"

48 
	~"ReguÏrEx´essiÚ.h
"

49 
	~"S‘tšgs.h
"

50 
	~"TextDocum’t.h
"

51 
	~"XMLNames.h
"

52 
	~<wtf/StdLibExŒas.h
>

54 #ià
ENABLE
(
SVG
)

55 
	~"SVGNames.h
"

56 
	~"SVGDocum’t.h
"

59 #ià
ENABLE
(
WML
)

60 
	~"WMLNames.h
"

61 
	~"WMLDocum’t.h
"

64 
Çme¥aû
 
	gWebCÜe
 {

66 #ià
ENABLE
(
SVG
)

68 
	gHashS‘
<
	tSŒšg
, 
	tCa£FŞdšgHash
> 
	tF—tu»S‘
;

70 
addSŒšg
(
F—tu»S‘
& 
£t
, cÚ¡ * 
¡ršg
)

72 
	g£t
.
add
(
¡ršg
);

75 
boŞ
 
isSVG10F—tu»
(cÚ¡ 
SŒšg
 &
ã©u»
)

77 
boŞ
 
	gš™Ÿlized
 = 
çl£
;

78 
DEFINE_STATIC_LOCAL
(
F—tu»S‘
, 
svgF—tu»s
, ());

79 ià(!
	gš™Ÿlized
) {

80 #ià
ENABLE
(
SVG_USE
è&& ENABLE(
SVG_FOREIGN_OBJECT
è&& ENABLE(
FILTERS
è&& ENABLE(
SVG_FONTS
)

81 
addSŒšg
(
svgF—tu»s
, "svg");

82 
addSŒšg
(
svgF—tu»s
, "svg.static");

88 #ià
ENABLE
(
SVG_USE
è&& ENABLE(
SVG_FOREIGN_OBJECT
è&& ENABLE(
FILTERS
è&& ENABLE(
SVG_FONTS
)

89 
addSŒšg
(
svgF—tu»s
, "dom");

90 
addSŒšg
(
svgF—tu»s
, "dom.svg");

91 
addSŒšg
(
svgF—tu»s
, "dom.svg.static");

95 
	gš™Ÿlized
 = 
Œue
;

97  
	gsvgF—tu»s
.
cÚšs
(
ã©u»
);

100 
boŞ
 
isSVG11F—tu»
(cÚ¡ 
SŒšg
 &
ã©u»
)

102 
boŞ
 
	gš™Ÿlized
 = 
çl£
;

103 
DEFINE_STATIC_LOCAL
(
F—tu»S‘
, 
svgF—tu»s
, ());

104 ià(!
	gš™Ÿlized
) {

108 #ià
ENABLE
(
SVG_USE
è&& ENABLE(
SVG_FOREIGN_OBJECT
è&& ENABLE(
FILTERS
è&& ENABLE(
SVG_FONTS
)

109 
addSŒšg
(
svgF—tu»s
, "SVG");

110 
addSŒšg
(
svgF—tu»s
, "SVGDOM");

111 
addSŒšg
(
svgF—tu»s
, "SVG-static");

112 
addSŒšg
(
svgF—tu»s
, "SVGDOM-static");

114 #ià
ENABLE
(
SVG_ANIMATION
)

115 
addSŒšg
(
svgF—tu»s
, "SVG-animation");

116 
addSŒšg
(
svgF—tu»s
, "SVGDOM-animation");

120 
addSŒšg
(
svgF—tu»s
, "CoreAttribute");

121 #ià
ENABLE
(
SVG_USE
)

122 
addSŒšg
(
svgF—tu»s
, "Structure");

123 
addSŒšg
(
svgF—tu»s
, "BasicStructure");

125 
addSŒšg
(
svgF—tu»s
, "ContainerAttribute");

126 
addSŒšg
(
svgF—tu»s
, "ConditionalProcessing");

127 
addSŒšg
(
svgF—tu»s
, "Image");

128 
addSŒšg
(
svgF—tu»s
, "Style");

129 
addSŒšg
(
svgF—tu»s
, "ViewportAttribute");

130 
addSŒšg
(
svgF—tu»s
, "Shape");

132 
addSŒšg
(
svgF—tu»s
, "BasicText");

133 
addSŒšg
(
svgF—tu»s
, "PaintAttribute");

134 
addSŒšg
(
svgF—tu»s
, "BasicPaintAttribute");

135 
addSŒšg
(
svgF—tu»s
, "OpacityAttribute");

136 
addSŒšg
(
svgF—tu»s
, "GraphicsAttribute");

137 
addSŒšg
(
svgF—tu»s
, "BaseGraphicsAttribute");

138 
addSŒšg
(
svgF—tu»s
, "Marker");

140 
addSŒšg
(
svgF—tu»s
, "Gradient");

141 
addSŒšg
(
svgF—tu»s
, "Pattern");

142 
addSŒšg
(
svgF—tu»s
, "Clip");

143 
addSŒšg
(
svgF—tu»s
, "BasicClip");

144 
addSŒšg
(
svgF—tu»s
, "Mask");

145 #ià
ENABLE
(
FILTERS
)

147 
addSŒšg
(
svgF—tu»s
, "BasicFilter");

149 
addSŒšg
(
svgF—tu»s
, "DocumentEventsAttribute");

150 
addSŒšg
(
svgF—tu»s
, "GraphicalEventsAttribute");

152 
addSŒšg
(
svgF—tu»s
, "Cursor");

153 
addSŒšg
(
svgF—tu»s
, "Hyperlinking");

154 
addSŒšg
(
svgF—tu»s
, "XlinkAttribute");

155 
addSŒšg
(
svgF—tu»s
, "ExternalResourcesRequired");

157 
addSŒšg
(
svgF—tu»s
, "Script");

158 #ià
ENABLE
(
SVG_ANIMATION
)

159 
addSŒšg
(
svgF—tu»s
, "Animation");

161 #ià
ENABLE
(
SVG_FONTS
)

162 
addSŒšg
(
svgF—tu»s
, "Font");

163 
addSŒšg
(
svgF—tu»s
, "BasicFont");

165 #ià
ENABLE
(
SVG_FOREIGN_OBJECT
)

166 
addSŒšg
(
svgF—tu»s
, "Extensibility");

168 
	gš™Ÿlized
 = 
Œue
;

170  
	gsvgF—tu»s
.
cÚšs
(
ã©u»
);

174 
boŞ
 
	gDOMIm¶em’tiÚ
::
hasF—tu»
(cÚ¡ 
SŒšg
& 
ã©u»
, cÚ¡ SŒšg& 
v”siÚ
)

176 
SŒšg
 
	glow”
 = 
ã©u»
.
low”
();

177 ià(
	glow”
 =ğ"cÜe" || 
low”
 == "html" ||†ower == "xml" ||†ower == "xhtml")

178  
v”siÚ
.
isEm±y
() || version == "1.0" || version == "2.0";

179 ià(
	glow”
 == "css"

180 || 
low”
 == "css2"

181 || 
low”
 == "events"

182 || 
low”
 == "htmlevents"

183 || 
low”
 == "mouseevents"

184 || 
low”
 == "mutationevents"

185 || 
low”
 == "range"

186 || 
low”
 == "stylesheets"

187 || 
low”
 == "traversal"

188 || 
low”
 == "uievents"

189 || 
low”
 == "views")

190  
v”siÚ
.
isEm±y
() || version == "2.0";

191 ià(
	glow”
 =ğ"x·th" || 
low”
 == "textevents")

192  
v”siÚ
.
isEm±y
() || version == "3.0";

194 #ià
ENABLE
(
SVG
)

195 ià((
	gv”siÚ
.
isEm±y
(è|| v”siÚ =ğ"1.1"è&& 
ã©u»
.
¡¬tsW™h
("h‰p://www.w3.Üg/Œ/svg11/ã©u»#", 
çl£
)) {

196 ià(
isSVG11F—tu»
(
ã©u»
.
right
(ã©u».
Ëngth
() - 35)))

197  
	gŒue
;

200 ià((
	gv”siÚ
.
isEm±y
(è|| v”siÚ =ğ"1.0"è&& 
ã©u»
.
¡¬tsW™h
("Üg.w3c.", 
çl£
)) {

201 ià(
isSVG10F—tu»
(
ã©u»
.
right
(ã©u».
Ëngth
() - 8)))

202  
	gŒue
;

206  
	gçl£
;

209 
	gPassRefPŒ
<
	gDocum’tTy³
> 
	gDOMIm¶em’tiÚ
::
ü—‹Docum’tTy³
(cÚ¡ 
SŒšg
& 
qu®if›dName
,

210 cÚ¡ 
SŒšg
& 
publicId
, cÚ¡ SŒšg& 
sy¡emId
, 
Exû±iÚCode
& 
ec
)

212 
SŒšg
 
	g´efix
, 
	gloÿlName
;

213 ià(!
	gDocum’t
::
·r£Qu®if›dName
(
qu®if›dName
, 
´efix
, 
loÿlName
, 
ec
))

216  
	gDocum’tTy³
::
ü—‹
(0, 
qu®if›dName
, 
publicId
, 
sy¡emId
);

219 
DOMIm¶em’tiÚ
* 
	gDOMIm¶em’tiÚ
::
g‘IÁ”çû
(cÚ¡ 
SŒšg
& )

224 
	gPassRefPŒ
<
	gDocum’t
> 
	gDOMIm¶em’tiÚ
::
ü—‹Docum’t
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
,

225 cÚ¡ 
SŒšg
& 
qu®if›dName
, 
Docum’tTy³
* 
doùy³
, 
Exû±iÚCode
& 
ec
)

227 
	gRefPŒ
<
	gDocum’t
> 
	gdoc
;

228 #ià
ENABLE
(
SVG
)

229 ià(
	gÇme¥aûURI
 =ğ
SVGNames
::
svgName¥aûURI
)

230 
doc
 = 
SVGDocum’t
::
ü—‹
(0);

233 #ià
ENABLE
(
WML
)

234 ià(
	gÇme¥aûURI
 =ğ
WMLNames
::
wmlName¥aûURI
)

235 
doc
 = 
WMLDocum’t
::
ü—‹
(0);

238 ià(
	gÇme¥aûURI
 =ğ
HTMLNames
::
xhtmlName¥aûURI
)

239 
doc
 = 
Docum’t
::
ü—‹XHTML
(0);

241 
	gdoc
 = 
Docum’t
::
ü—‹
(0);

243 
	gRefPŒ
<
	gNode
> 
	gdocum’tEËm’t
;

244 ià(!
	gqu®if›dName
.
isEm±y
()) {

245 
	gdocum’tEËm’t
 = 
doc
->
ü—‹EËm’tNS
(
Çme¥aûURI
, 
qu®if›dName
, 
ec
);

246 ià(
	gec
)

254 ià(
	gdoùy³
 && doùy³->
docum’t
()) {

255 
	gec
 = 
WRONG_DOCUMENT_ERR
;

259 ià(
	gdoùy³
)

260 
	gdoc
->
addChd
(
doùy³
);

261 ià(
	gdocum’tEËm’t
)

262 
	gdoc
->
addChd
(
docum’tEËm’t
.
»Ëa£
());

264  
	gdoc
.
»Ëa£
();

267 
	gPassRefPŒ
<
	gCSSStyËSh“t
> 
	gDOMIm¶em’tiÚ
::
ü—‹CSSStyËSh“t
(cÚ¡ 
SŒšg
&, cÚ¡ SŒšg& 
medŸ
, 
Exû±iÚCode
&)

271 
	gRefPŒ
<
	gCSSStyËSh“t
> 
	gsh“t
 = 
CSSStyËSh“t
::
ü—‹
();

272 
	gsh“t
->
£tMedŸ
(
MedŸLi¡
::
ü—‹AÎowšgDesütiÚSyÁax
(
sh“t
.
g‘
(), 
medŸ
));

273  
	gsh“t
.
»Ëa£
();

276 
boŞ
 
	gDOMIm¶em’tiÚ
::
isXMLMIMETy³
(cÚ¡ 
SŒšg
& 
mimeTy³
)

278 ià(
mimeTy³
 == "text/xml" || mimeType == "application/xml" || mimeType == "text/xsl")

279  
Œue
;

280 cÚ¡ * cÚ¡ 
	gv®idCh¬s
 = "[0-9a-zA-Z_\\-+~!$\\^{}|.%'`#&*]";

281 
DEFINE_STATIC_LOCAL
(
ReguÏrEx´essiÚ
, 
xmlTy³RegExp
, (
SŒšg
("^"è+ 
v®idCh¬s
 + "+/" + v®idCh¬ + "+\\+xml$", 
TextCa£S’s™ive
));

282  
	gxmlTy³RegExp
.
m©ch
(
mimeTy³
) > -1;

285 
boŞ
 
	gDOMIm¶em’tiÚ
::
isTextMIMETy³
(cÚ¡ 
SŒšg
& 
mimeTy³
)

287 ià(
MIMETy³Regi¡ry
::
isSuµÜ‹dJavaSütMIMETy³
(
mimeTy³
)

288 || 
mimeTy³
 == "application/json"

289 || (
mimeTy³
.
¡¬tsW™h
("text/") && mimeType != "text/html"

290 && 
mimeTy³
 != "text/xml" && mimeType != "text/xsl"))

291  
Œue
;

293  
	gçl£
;

296 
	gPassRefPŒ
<
	gHTMLDocum’t
> 
	gDOMIm¶em’tiÚ
::
ü—‹HTMLDocum’t
(cÚ¡ 
SŒšg
& 
t™Ë
)

298 
RefPŒ
<
HTMLDocum’t
> 
d
 = HTMLDocum’t::
ü—‹
(0);

299 
	gd
->
İ’
();

300 
	gd
->
wr™e
("<!doctype html><html><body></body></html>");

301 
	gd
->
£tT™Ë
(
t™Ë
);

302  
	gd
.
»Ëa£
();

305 
	gPassRefPŒ
<
	gDocum’t
> 
	gDOMIm¶em’tiÚ
::
ü—‹Docum’t
(cÚ¡ 
SŒšg
& 
ty³
, 
F¿me
* 
äame
, 
boŞ
 
šV›wSourûMode
)

307 ià(
	gšV›wSourûMode
)

308  
	gHTMLV›wSourûDocum’t
::
ü—‹
(
äame
, 
ty³
);

311 ià(
	gty³
 == "text/html")

312  
HTMLDocum’t
::
ü—‹
(
äame
);

313 ià(
	gty³
 == "application/xhtml+xml"

314 #ià
ENABLE
(
XHTMLMP
)

315 || 
ty³
 == "application/vnd.wap.xhtml+xml"

318  
Docum’t
::
ü—‹XHTML
(
äame
);

320 #ià
ENABLE
(
WML
)

321 ià(
	gty³
 =ğ"‹xt/vnd.w­.wml" || 
ty³
 == "application/vnd.wap.wmlc")

322  
WMLDocum’t
::
ü—‹
(
äame
);

325 #ià
ENABLE
(
FTPDIR
)

327 ià(
	gty³
 == "application/x-ftp-directory")

328  
FTPDœeùÜyDocum’t
::
ü—‹
(
äame
);

331 
PlugšD©a
* 
	g¶ugšD©a
 = 0;

332 ià(
	gäame
 && f¿me->
·ge
(è&& f¿me->
lßd”
()->
®lowPlugšs
(
NÙAboutToIn¡ªtŸ‹Plugš
))

333 
	g¶ugšD©a
 = 
äame
->
·ge
()->
¶ugšD©a
();

337 ià((
	gty³
 =ğ"­¶iÿtiÚ/pdf" || 
ty³
 =ğ"‹xt/pdf"è&& 
¶ugšD©a
 &&…lugšD©a->
suµÜtsMimeTy³
(type))

338  
PlugšDocum’t
::
ü—‹
(
äame
);

339 ià(
	gImage
::
suµÜtsTy³
(
ty³
))

340  
ImageDocum’t
::
ü—‹
(
äame
);

342 #ià
ENABLE
(
VIDEO
)

344 ià(
	gMedŸPÏy”
::
suµÜtsTy³
(
CÚ‹ÁTy³
(
ty³
)))

345  
MedŸDocum’t
::
ü—‹
(
äame
);

351 ià(
	gty³
 !ğ"‹xt/¶aš" && 
¶ugšD©a
 &&…lugšD©a->
suµÜtsMimeTy³
(
ty³
))

352  
PlugšDocum’t
::
ü—‹
(
äame
);

353 ià(
isTextMIMETy³
(
ty³
))

354  
	gTextDocum’t
::
ü—‹
(
äame
);

356 #ià
ENABLE
(
SVG
)

357 ià(
	gty³
 == "image/svg+xml") {

358 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

359 
S‘tšgs
* 
£‰šgs
 = 
äame
 ? frame->settings() : 0;

360 ià(!
	g£‰šgs
 || !£‰šgs->
u£sDashbßrdBackw¬dCom·tib™yMode
())

362  
	gSVGDocum’t
::
ü—‹
(
äame
);

365 ià(
isXMLMIMETy³
(
ty³
))

366  
	gDocum’t
::
ü—‹
(
äame
);

368  
	gHTMLDocum’t
::
ü—‹
(
äame
);

	@DOMImplementation.h

24 #iâdeà
DOMIm¶em’tiÚ_h


25 
	#DOMIm¶em’tiÚ_h


	)

27 
	~<wtf/PassRefPŒ.h
>

28 
	~<wtf/RefCouÁed.h
>

30 
Çme¥aû
 
	gWebCÜe
 {

32 
şass
 
	gCSSStyËSh“t
;

33 
şass
 
	gDocum’t
;

34 
şass
 
	gDocum’tTy³
;

35 
şass
 
	gF¿me
;

36 
şass
 
	gHTMLDocum’t
;

37 
şass
 
	gSŒšg
;

39 
	tExû±iÚCode
;

41 
şass
 
	gDOMIm¶em’tiÚ
 : 
public
 
RefCouÁed
<
DOMIm¶em’tiÚ
> {

42 
public
:

43 
PassRefPŒ
<
DOMIm¶em’tiÚ
> 
ü—‹
(è{  
adİtRef
(
Ãw
 DOMImplementation); }

46 
boŞ
 
hasF—tu»
(cÚ¡ 
SŒšg
& 
ã©u»
, cÚ¡ SŒšg& 
v”siÚ
);

47 
	gPassRefPŒ
<
	gDocum’tTy³
> 
ü—‹Docum’tTy³
(cÚ¡ 
SŒšg
& 
qu®if›dName
, cÚ¡ SŒšg& 
publicId
, cÚ¡ SŒšg &
sy¡emId
, 
Exû±iÚCode
&);

48 
	gPassRefPŒ
<
	gDocum’t
> 
ü—‹Docum’t
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
qu®if›dName
, 
Docum’tTy³
*, 
Exû±iÚCode
&);

50 
DOMIm¶em’tiÚ
* 
g‘IÁ”çû
(cÚ¡ 
SŒšg
& 
ã©u»
);

53 
	gPassRefPŒ
<
	gCSSStyËSh“t
> 
ü—‹CSSStyËSh“t
(cÚ¡ 
SŒšg
& 
t™Ë
, cÚ¡ SŒšg& 
medŸ
, 
Exû±iÚCode
&);

56 
	gPassRefPŒ
<
	gHTMLDocum’t
> 
ü—‹HTMLDocum’t
(cÚ¡ 
SŒšg
& 
t™Ë
);

59 
	gPassRefPŒ
<
	gDocum’t
> 
ü—‹Docum’t
(cÚ¡ 
SŒšg
& 
MIMETy³
, 
F¿me
*, 
boŞ
 
šV›wSourûMode
);

61 
boŞ
 
isXMLMIMETy³
(cÚ¡ 
SŒšg
& 
MIMETy³
);

62 
boŞ
 
isTextMIMETy³
(cÚ¡ 
SŒšg
& 
MIMETy³
);

64 
	g´iv©e
:

65 
DOMIm¶em’tiÚ
() { }

	@Document.cpp

26 
	~"cÚfig.h
"

27 
	~"Docum’t.h
"

29 
	~"AXObjeùCache.h
"

30 
	~"Anim©iÚCÚŒŞËr.h
"

31 
	~"A‰r.h
"

32 
	~"CDATASeùiÚ.h
"

33 
	~"CSSH–³r.h
"

34 
	~"CSSStyËS–eùÜ.h
"

35 
	~"CSSStyËSh“t.h
"

36 
	~"CSSV®ueKeywÜds.h
"

37 
	~"CachedCSSStyËSh“t.h
"

38 
	~"Chrome.h
"

39 
	~"ChromeCl›Á.h
"

40 
	~"Comm’t.h
"

41 
	~"CÚsŞe.h
"

42 
	~"Cook›J¬.h
"

43 
	~"Cu¡omEv’t.h
"

44 
	~"DOMIm¶em’tiÚ.h
"

45 
	~"DOMWšdow.h
"

46 
	~"DocLßd”.h
"

47 
	~"Docum’tF¿gm’t.h
"

48 
	~"Docum’tLßd”.h
"

49 
	~"Docum’tTy³.h
"

50 
	~"Ed™šgText.h
"

51 
	~"Ed™Ü.h
"

52 
	~"EÁ™yReã»nû.h
"

53 
	~"Ev’t.h
"

54 
	~"Ev’tHªdËr.h
"

55 
	~"Ev’tLi¡’”.h
"

56 
	~"Ev’tNames.h
"

57 
	~"Exû±iÚCode.h
"

58 
	~"FocusCÚŒŞËr.h
"

59 
	~"F¿me.h
"

60 
	~"F¿meLßd”.h
"

61 
	~"F¿meT»e.h
"

62 
	~"F¿meV›w.h
"

63 
	~"HTMLAÎCŞËùiÚ.h
"

64 
	~"HTMLAnchÜEËm’t.h
"

65 
	~"HTMLBodyEËm’t.h
"

66 
	~"HTMLCªvasEËm’t.h
"

67 
	~"HTMLCŞËùiÚ.h
"

68 
	~"HTMLDocum’t.h
"

69 
	~"HTMLEËm’tFaùÜy.h
"

70 
	~"HTMLF¿meOwÃrEËm’t.h
"

71 
	~"HTMLH—dEËm’t.h
"

72 
	~"HTMLIF¿meEËm’t.h
"

73 
	~"HTMLIÅutEËm’t.h
"

74 
	~"HTMLLškEËm’t.h
"

75 
	~"HTMLM­EËm’t.h
"

76 
	~"HTMLNameCŞËùiÚ.h
"

77 
	~"HTMLNames.h
"

78 
	~"HTMLP¬£r.h
"

79 
	~"HTMLStyËEËm’t.h
"

80 
	~"HTMLT™ËEËm’t.h
"

81 
	~"HTTPP¬£rs.h
"

82 
	~"Hi¡ÜyI‹m.h
"

83 
	~"H™Te¡Reque¡.h
"

84 
	~"H™Te¡ResuÉ.h
"

85 
	~"ImageLßd”.h
"

86 
	~"In¥eùÜCÚŒŞËr.h
"

87 
	~"In¥eùÜTim–šeAg’t.h
"

88 
	~"KeybßrdEv’t.h
"

89 
	~"Loggšg.h
"

90 
	~"M­³dA‰ribu‹.h
"

91 
	~"Mes§geEv’t.h
"

92 
	~"Mou£Ev’t.h
"

93 
	~"Mou£Ev’tW™hH™Te¡ResuÉs.h
"

94 
	~"MutiÚEv’t.h
"

95 
	~"NameNodeLi¡.h
"

96 
	~"NodeF‹r.h
"

97 
	~"NodeI‹¿tÜ.h
"

98 
	~"NodeW™hIndex.h
"

99 
	~"Ov”æowEv’t.h
"

100 
	~"Page.h
"

101 
	~"PageGroup.h
"

102 
	~"PageT¿ns™iÚEv’t.h
"

103 
	~"PÏtfÜmKeybßrdEv’t.h
"

104 
	~"PİS‹Ev’t.h
"

105 
	~"ProûssšgIn¡ruùiÚ.h
"

106 
	~"Prog»ssEv’t.h
"

107 
	~"Regi¡”edEv’tLi¡’”.h
"

108 
	~"R’d”A»Ç.h
"

109 
	~"R’d”TextCÚŒŞ.h
"

110 
	~"R’d”V›w.h
"

111 
	~"R’d”Widg‘.h
"

112 
	~"SütCÚŒŞËr.h
"

113 
	~"SütEËm’t.h
"

114 
	~"SütEv’tLi¡’”.h
"

115 
	~"Secur™yOrigš.h
"

116 
	~"Segm’‹dSŒšg.h
"

117 
	~"S–eùiÚCÚŒŞËr.h
"

118 
	~"S‘tšgs.h
"

119 
	~"SŒšgBufãr.h
"

120 
	~"StyËSh“tLi¡.h
"

121 
	~"TextEv’t.h
"

122 
	~"TextI‹¿tÜ.h
"

123 
	~"TextResourûDecod”.h
"

124 
	~"Tim”.h
"

125 
	~"T¿nsfÜmSourû.h
"

126 
	~"T»eW®k”.h
"

127 
	~"UIEv’t.h
"

128 
	~"U£rCÚ‹ÁURLP©‹º.h
"

129 
	~"WebK™Anim©iÚEv’t.h
"

130 
	~"WebK™T¿ns™iÚEv’t.h
"

131 
	~"Wh“lEv’t.h
"

132 
	~"XMLH‰pReque¡.h
"

133 
	~"XMLNSNames.h
"

134 
	~"XMLNames.h
"

135 
	~"XMLTok’iz”.h
"

136 
	~"htmËd™šg.h
"

137 
	~<wtf/Cu¼’tTime.h
>

138 
	~<wtf/HashFunùiÚs.h
>

139 
	~<wtf/MašTh»ad.h
>

140 
	~<wtf/PassRefPŒ.h
>

141 
	~<wtf/StdLibExŒas.h
>

143 #ià
ENABLE
(
SHARED_WORKERS
)

144 
	~"Sh¬edWÜk”R•os™Üy.h
"

147 #ià
ENABLE
(
DOM_STORAGE
)

148 
	~"StÜageEv’t.h
"

151 #ià
ENABLE
(
XPATH
)

152 
	~"XP©hEv®u©Ü.h
"

153 
	~"XP©hEx´essiÚ.h
"

154 
	~"XP©hNSResŞv”.h
"

155 
	~"XP©hResuÉ.h
"

158 #ià
ENABLE
(
XSLT
)

159 
	~"XSLTProûssÜ.h
"

162 #ià
ENABLE
(
XBL
)

163 
	~"XBLBšdšgMªag”.h
"

166 #ià
ENABLE
(
SVG
)

167 
	~"SVGDocum’tEx‹nsiÚs.h
"

168 
	~"SVGEËm’tFaùÜy.h
"

169 
	~"SVGNames.h
"

170 
	~"SVGZoomEv’t.h
"

171 
	~"SVGStyËEËm’t.h
"

174 #ià
ENABLE
(
TOUCH_EVENTS
)

175 
	~"TouchEv’t.h
"

178 #ià
ENABLE
(
WML
)

179 
	~"WMLDocum’t.h
"

180 
	~"WMLEËm’t.h
"

181 
	~"WMLEËm’tFaùÜy.h
"

182 
	~"WMLNames.h
"

185 #ià
ENABLE
(
MATHML
)

186 
	~"M©hMLEËm’t.h
"

187 
	~"M©hMLEËm’tFaùÜy.h
"

188 
	~"M©hMLNames.h
"

191 #ià
ENABLE
(
XHTMLMP
)

192 
	~"HTMLNoSütEËm’t.h
"

195 
usšg
 
Çme¥aû
 
	g¡d
;

196 
usšg
 
Çme¥aû
 
	gWTF
;

197 
usšg
 
Çme¥aû
 
	gUnicode
;

199 
Çme¥aû
 
	gWebCÜe
 {

201 
usšg
 
Çme¥aû
 
	gHTMLNames
;

208 cÚ¡ 
	gcLayoutScheduËTh»shŞd
 = 250;

211 
HTMLFÜmEËm’t
* cÚ¡ 
	gdeçuÉFÜm
 = 
»š‹½»t_ÿ¡
<HTMLFormElement*>(1);

228 
šlše
 
boŞ
 
isV®idNameS¹
(
UCh¬32
 
c
)

231 ià((
	gc
 >ğ0x02BB && 
c
 <= 0x02C1) || c == 0x559 || c == 0x6E5 || c == 0x6E6)

232  
Œue
;

235 ià(
	gc
 =ğ':' || 
c
 == '_')

236  
Œue
;

239 cÚ¡ 
ušt32_t
 
	gÇmeS¹Mask
 = 
L‘‹r_Low”ÿ£
 | 
L‘‹r_Uµ”ÿ£
 | 
L‘‹r_Oth”
 | 
L‘‹r_T™Ëÿ£
 | 
Numb”_L‘‹r
;

240 ià(!(
	gUnicode
::
ÿ‹gÜy
(
c
è& 
ÇmeS¹Mask
))

241  
çl£
;

244 ià(
	gc
 >ğ0xF900 && 
c
 < 0xFFFE)

245  
çl£
;

248 
Decompos™iÚTy³
 
	gdecompTy³
 = 
decompos™iÚTy³
(
c
);

249 ià(
	gdecompTy³
 =ğ
Decompos™iÚFÚt
 || 
decompTy³
 =ğ
Decompos™iÚCom·t
)

250  
çl£
;

252  
	gŒue
;

255 
šlše
 
boŞ
 
isV®idNameP¬t
(
UCh¬32
 
c
)

258 ià(
isV®idNameS¹
(
c
))

259  
	gŒue
;

262 ià(
	gc
 =ğ0x00B7 || 
c
 == 0x0387)

263  
Œue
;

266 ià(
	gc
 =ğ'-' || 
c
 == '.')

267  
Œue
;

270 cÚ¡ 
ušt32_t
 
	gÙh”NameP¬tMask
 = 
M¬k_NÚS·cšg
 | 
M¬k_Enşosšg
 | 
M¬k_S·cšgCombššg
 | 
L‘‹r_Modif›r
 | 
Numb”_Decim®Dig™
;

271 ià(!(
	gUnicode
::
ÿ‹gÜy
(
c
è& 
Ùh”NameP¬tMask
))

272  
çl£
;

275 ià(
	gc
 >ğ0xF900 && 
c
 < 0xFFFE)

276  
çl£
;

279 
Decompos™iÚTy³
 
	gdecompTy³
 = 
decompos™iÚTy³
(
c
);

280 ià(
	gdecompTy³
 =ğ
Decompos™iÚFÚt
 || 
decompTy³
 =ğ
Decompos™iÚCom·t
)

281  
çl£
;

283  
	gŒue
;

286 
Widg‘
* 
widg‘FÜNode
(
Node
* 
focu£dNode
)

288 ià(!
	gfocu£dNode
)

290 
R’d”Objeù
* 
	g»nd””
 = 
focu£dNode
->
»nd””
();

291 ià(!
	g»nd””
 || !»nd””->
isWidg‘
())

293  
toR’d”Widg‘
(
»nd””
)->
widg‘
();

296 
boŞ
 
acû±sEd™šgFocus
(
Node
 *
node
)

298 
ASSERT
(
node
);

299 
ASSERT
(
node
->
isCÚ‹ÁEd™abË
());

301 
Node
 *
	groÙ
 = 
node
->
roÙEd™abËEËm’t
();

302 
F¿me
* 
	gäame
 = 
node
->
docum’t
()->
äame
();

303 ià(!
	gäame
 || !
	groÙ
)

304  
	gçl£
;

306  
	gäame
->
ed™Ü
()->
shouldBegšEd™šg
(
¿ngeOfCÚ‹Ás
(
roÙ
).
g‘
());

309 
boŞ
 
di§bËRªgeMutiÚ
(
Page
* 
·ge
)

311 #ià
PLATFORM
(
MAC
)

314  
	g·ge
 && (·ge->
£‰šgs
()->
ÃedsLeİ¬dMaQuœks
(è||…age->£‰šgs()->
ÃedsTig”MaQuœks
());

316  
	gçl£
;

320 
	gHashS‘
<
	gDocum’t
*>* 
	gdocum’tsTh©N“dStyËReÿlc
 = 0;

322 
şass
 
	gDocum’tW—kReã»nû
 : 
public
 
Th»adSaãSh¬ed
<
Docum’tW—kReã»nû
> {

323 
public
:

324 
PassRefPŒ
<
Docum’tW—kReã»nû
> 
ü—‹
(
Docum’t
* 
docum’t
)

326  
adİtRef
(
Ãw
 
Docum’tW—kReã»nû
(
docum’t
));

329 
Docum’t
* 
docum’t
()

331 
ASSERT
(
isMašTh»ad
());

332  
	gm_docum’t
;

335 
ş—r
()

337 
ASSERT
(
isMašTh»ad
());

338 
	gm_docum’t
 = 0;

341 
	g´iv©e
:

342 
Docum’tW—kReã»nû
(
Docum’t
* 
docum’t
)

343 : 
m_docum’t
(
docum’t
)

345 
ASSERT
(
isMašTh»ad
());

348 
Docum’t
* 
	gm_docum’t
;

351 
	gDocum’t
::
Docum’t
(
F¿me
* 
äame
, 
boŞ
 
isXHTML
, boŞ 
isHTML
)

352 : 
CÚš”Node
(0)

353 , 
m_domŒ“_v”siÚ
(0)

354 , 
m_¡yËSh“ts
(
StyËSh“tLi¡
::
ü—‹
(
this
))

355 , 
m_¡yËReÿlcTim”
(
this
, &
Docum’t
::
¡yËReÿlcTim”Fœed
)

356 , 
m_äameEËm’tsShouldIgnÜeSüŞlšg
(
çl£
)

357 , 
m_cÚšsV®id™yStyËRuËs
(
çl£
)

358 , 
m_upd©eFocusAµ—¿nûRe¡ÜesS–eùiÚ
(
çl£
)

359 , 
m_t™Ë
("")

360 , 
m_¿wT™Ë
("")

361 , 
m_t™ËS‘Ex¶ic™ly
(
çl£
)

362 , 
m_upd©eFocusAµ—¿nûTim”
(
this
, &
Docum’t
::
upd©eFocusAµ—¿nûTim”Fœed
)

363 , 
m_¡¬tTime
(
cu¼’tTime
())

364 , 
m_ov”MšimumLayoutTh»shŞd
(
çl£
)

365 , 
m_exŒaLayoutD–ay
(0)

366 , 
m_execu‹SütSoÚTim”
(
this
, &
Docum’t
::
execu‹SütSoÚTim”Fœed
)

367 , 
m_xmlV”siÚ
("1.0")

368 , 
m_xmlSnd®Úe
(
çl£
)

369 #ià
ENABLE
(
XBL
)

370 , 
m_bšdšgMªag”
(
Ãw
 
XBLBšdšgMªag”
(
this
))

372 , 
m_§vedR’d””
(0)

373 , 
m_designMode
(
šh”™
)

374 , 
m_£lfOÆyRefCouÁ
(0)

375 #ià
ENABLE
(
SVG
)

376 , 
m_svgEx‹nsiÚs
(0)

378 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

379 , 
m_hasDashbßrdRegiÚs
(
çl£
)

380 , 
m_dashbßrdRegiÚsDœty
(
çl£
)

382 , 
m_acûssKeyM­V®id
(
çl£
)

383 , 
m_ü—‹R’d””s
(
Œue
)

384 , 
m_šPageCache
(
çl£
)

385 , 
m_u£Secu»KeybßrdEÁryWh’Aùive
(
çl£
)

386 , 
m_isXHTML
(
isXHTML
)

387 , 
m_isHTML
(
isHTML
)

388 , 
m_numNodeLi¡Caches
(0)

389 #ià
USE
(
JSC
)

390 , 
m_nÜm®WÜldW¿µ”Cache
(0)

392 , 
m_usšgGeŞoÿtiÚ
(
çl£
)

393 , 
m_³ndšgEv’tTim”
(
this
, &
Docum’t
::
³ndšgEv’tTim”Fœed
)

394 #ià
ENABLE
(
WML
)

395 , 
m_cÚšsWMLCÚ‹Á
(
çl£
)

397 , 
m_w—kReã»nû
(
Docum’tW—kReã»nû
::
ü—‹
(
this
))

399 
m_docum’t
 = 
this
;

401 
	gm_·geGroupU£rSh“tCacheV®id
 = 
çl£
;

403 
	gm_´štšg
 = 
çl£
;

405 
	gm_ignÜeAutofocus
 = 
çl£
;

407 
	gm_äame
 = 
äame
;

409 
	gm_axObjeùCache
 = 0;

411 
	gm_docLßd”
 = 
Ãw
 
DocLßd”
(
this
);

413 
	gm_visu®lyOrd”ed
 = 
çl£
;

414 
	gm_bP¬sšg
 = 
çl£
;

415 
	gm_w–lFÜmed
 = 
çl£
;

417 
£tP¬£Mode
(
SŒiù
);

419 
	gm_‹xtCŞÜ
 = 
CŞÜ
::
bÏck
;

420 
	gm_li¡’”Ty³s
 = 0;

421 
	gm_šDocum’t
 = 
Œue
;

422 
	gm_šStyËReÿlc
 = 
çl£
;

423 
	gm_şo£Aá”StyËReÿlc
 = 
çl£
;

425 
	gm_u£sDesûndªtRuËs
 = 
çl£
;

426 
	gm_u£sSiblšgRuËs
 = 
çl£
;

427 
	gm_u£sFœ¡LšeRuËs
 = 
çl£
;

428 
	gm_u£sFœ¡L‘‹rRuËs
 = 
çl£
;

429 
	gm_u£sBefÜeAá”RuËs
 = 
çl£
;

430 
	gm_u£sRemUn™s
 = 
çl£
;

431 
	gm_u£sLškRuËs
 = 
çl£
;

433 
	gm_gÙoAnchÜN“dedAá”StyËsh“tsLßd
 = 
çl£
;

435 
	gm_didC®cuÏ‹StyËS–eùÜ
 = 
çl£
;

436 
	gm_³ndšgStyËsh“ts
 = 0;

437 
	gm_ignÜeP’dšgStyËsh“ts
 = 
çl£
;

438 
	gm_hasNodesW™hPÏûhŞd”StyË
 = 
çl£
;

439 
	gm_³ndšgSh“tLayout
 = 
NoLayoutW™hP’dšgSh“ts
;

441 
	gm_cssT¬g‘
 = 0;

443 
»£tLškCŞÜ
();

444 
»£tVis™edLškCŞÜ
();

445 
»£tAùiveLškCŞÜ
();

447 
	gm_´oûssšgLßdEv’t
 = 
çl£
;

449 
š™Secur™yCÚ‹xt
();

450 
š™DNSP»ãtch
();

452 
	gdocID
 = 0;

453 
	gm_docID
 = 
docID
++;

454 #ià
ENABLE
(
XHTMLMP
)

455 
	gm_shouldProûssNoSütEËm’t
 = 
m_äame
->
süt
()->
ÿnExecu‹Süts
(
NÙAboutToExecu‹Süt
);

459 
	gDocum’t
::
»movedLa¡Ref
()

461 
ASSERT
(!
m_d–‘iÚHasBegun
);

462 ià(
	gm_£lfOÆyRefCouÁ
) {

467 
£lfOÆyRef
();

471 
	gm_docTy³
 = 0;

472 
	gm_focu£dNode
 = 0;

473 
	gm_hov”Node
 = 0;

474 
	gm_aùiveNode
 = 0;

475 
	gm_t™ËEËm’t
 = 0;

476 
	gm_docum’tEËm’t
 = 0;

479 
	gm_–em’tsById
.
ş—r
();

481 
»moveAÎChd»n
();

483 
d–‘eAÎV®ues
(
m_m¬k”s
);

484 
	gm_m¬k”s
.
ş—r
();

486 
	gm_tok’iz”
.
ş—r
();

488 
	gm_cssCªvasEËm’ts
.
ş—r
();

490 #iâdeà
NDEBUG


491 
	gm_šRemovedLa¡RefFunùiÚ
 = 
çl£
;

494 
£lfOÆyD”ef
();

496 #iâdeà
NDEBUG


497 
	gm_d–‘iÚHasBegun
 = 
Œue
;

499 
d–‘e
 
	gthis
;

503 
	gDocum’t
::~
Docum’t
()

505 
ASSERT
(!
»nd””
());

506 
ASSERT
(!
m_šPageCache
);

507 
ASSERT
(!
m_§vedR’d””
);

508 
ASSERT
(
m_¿nges
.
isEm±y
());

509 
ASSERT
(!
m_¡yËReÿlcTim”
.
isAùive
());

511 
size_t
 
	gi
 = 0; i < 
	gm_sütsToExecu‹SoÚ
.
size
(); ++i)

512 
	gm_sütsToExecu‹SoÚ
[
i
].
	gfœ¡
->
–em’t
()->
d”ef
();

514 
»moveAÎEv’tLi¡’”s
();

516 #ià
USE
(
JSC
)

517 
de¡royAÎW¿µ”Caches
();

520 
	gm_tok’iz”
.
ş—r
();

521 
	gm_docum’t
 = 0;

522 
	gm_docLßd”
.
ş—r
();

524 
	gm_»nd”A»Ç
.
ş—r
();

526 #ià
ENABLE
(
XBL
)

527 
	gm_bšdšgMªag”
.
ş—r
();

530 
d–‘eAÎV®ues
(
m_m¬k”s
);

532 
ş—rAXObjeùCache
();

534 
	gm_decod”
 = 0;

536 
	gcouÁ
 = (
m_ÇmeCŞËùiÚInfo
) / (m_nameCollectionInfo[0]);

537 
	gi
 = 0; i < 
	gcouÁ
; i++)

538 
d–‘eAÎV®ues
(
m_ÇmeCŞËùiÚInfo
[
i
]);

540 ià(
	gm_¡yËSh“ts
)

541 
	gm_¡yËSh“ts
->
docum’tDe¡royed
();

543 
	gm_w—kReã»nû
->
ş—r
();

546 #ià
USE
(
JSC
)

547 
	gDocum’t
::
JSW¿µ”Cache
* 
Docum’t
::
ü—‹W¿µ”Cache
(
DOMW¿µ”WÜld
* 
wÜld
)

549 
JSW¿µ”Cache
* 
w¿µ”Cache
 = 
Ãw
 JSWrapperCache;

550 
	gm_w¿µ”CacheM­
.
£t
(
wÜld
, 
w¿µ”Cache
);

551 ià(
	gwÜld
->
isNÜm®
()) {

552 
ASSERT
(!
m_nÜm®WÜldW¿µ”Cache
);

553 
	gm_nÜm®WÜldW¿µ”Cache
 = 
w¿µ”Cache
;

555 
	gwÜld
->
didC»©eW¿µ”Cache
(
this
);

556  
	gw¿µ”Cache
;

559 
	gDocum’t
::
de¡royW¿µ”Cache
(
DOMW¿µ”WÜld
* 
wÜld
)

561 
Docum’t
::
JSW¿µ”Cache
* 
w¿µ”s
 = 
w¿µ”CacheM­
().
ke
(
wÜld
);

562 
ASSERT
(
w¿µ”s
);

563 
d–‘e
 
	gw¿µ”s
;

564 
	gwÜld
->
didDe¡royW¿µ”Cache
(
this
);

567 
	gDocum’t
::
de¡royAÎW¿µ”Caches
()

569 
JSW¿µ”CacheM­
& 
w¿µ”CacheM­
 = 
this
->wrapperCacheMap();

570 
	gw¿µ”CacheM­
.
begš
(è!ğ
w¿µ”CacheM­
.
’d
())

571 
de¡royW¿µ”Cache
(
w¿µ”CacheM­
.
begš
()->
fœ¡
);

575 
	gDocum’t
::
»£tLškCŞÜ
()

577 
m_lškCŞÜ
 = 
CŞÜ
(0, 0, 238);

580 
	gDocum’t
::
»£tVis™edLškCŞÜ
()

582 
m_vis™edLškCŞÜ
 = 
CŞÜ
(85, 26, 139);

585 
	gDocum’t
::
»£tAùiveLškCŞÜ
()

587 
m_aùiveLškCŞÜ
.
£tNamedCŞÜ
("red");

590 
	gDocum’t
::
£tDocTy³
(
PassRefPŒ
<
Docum’tTy³
> 
docTy³
)

594 
ASSERT
(!
m_docTy³
 || !
docTy³
);

595 ià(
	gm_docTy³
 && 
	gdocTy³
)

597 
	gm_docTy³
 = 
docTy³
;

598 ià(
	gm_docTy³
)

599 
	gm_docTy³
->
£tDocum’t
(
this
);

600 
d‘”mšeP¬£Mode
();

603 
DOMIm¶em’tiÚ
* 
	gDocum’t
::
im¶em’tiÚ
() const

605 ià(!
m_im¶em’tiÚ
)

606 
m_im¶em’tiÚ
 = 
DOMIm¶em’tiÚ
::
ü—‹
();

607  
	gm_im¶em’tiÚ
.
g‘
();

610 
	gDocum’t
::
chd»nChªged
(
boŞ
 
chªgedByP¬£r
, 
Node
* 
befÜeChªge
, Node* 
aá”Chªge
, 
chdCouÁD–
)

612 
	gCÚš”Node
::
chd»nChªged
(
chªgedByP¬£r
, 
befÜeChªge
, 
aá”Chªge
, 
chdCouÁD–
);

615 
	gm_docum’tEËm’t
 = 0;

618 
	gDocum’t
::
ÿcheDocum’tEËm’t
() const

620 
ASSERT
(!
m_docum’tEËm’t
);

621 
Node
* 
	gn
 = 
fœ¡Chd
();

622 
	gn
 && !n->
isEËm’tNode
())

623 
	gn
 = 
n
->
ÃxtSiblšg
();

624 
	gm_docum’tEËm’t
 = 
¡©ic_ÿ¡
<
EËm’t
*>(
n
);

627 
	gPassRefPŒ
<
	gEËm’t
> 
	gDocum’t
::
ü—‹EËm’t
(cÚ¡ 
AtomicSŒšg
& 
Çme
, 
Exû±iÚCode
& 
ec
)

629 ià(!
isV®idName
(
Çme
)) {

630 
	gec
 = 
INVALID_CHARACTER_ERR
;

634 ià(
	gm_isXHTML
)

635  
	gHTMLEËm’tFaùÜy
::
ü—‹HTMLEËm’t
(
Qu®if›dName
(
nuÎAtom
, 
Çme
, 
xhtmlName¥aûURI
), 
this
, 0, 
çl£
);

637  
ü—‹EËm’t
(
Qu®if›dName
(
nuÎAtom
, 
Çme
,‚uÎAtom), 
çl£
);

640 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
	gDocum’t
::
ü—‹Docum’tF¿gm’t
()

642  
Docum’tF¿gm’t
::
ü—‹
(
docum’t
());

645 
	gPassRefPŒ
<
	gText
> 
	gDocum’t
::
ü—‹TextNode
(cÚ¡ 
SŒšg
& 
d©a
)

647  
Text
::
ü—‹
(
this
, 
d©a
);

650 
	gPassRefPŒ
<
	gComm’t
> 
	gDocum’t
::
ü—‹Comm’t
(cÚ¡ 
SŒšg
& 
d©a
)

652  
Comm’t
::
ü—‹
(
this
, 
d©a
);

655 
	gPassRefPŒ
<
	gCDATASeùiÚ
> 
	gDocum’t
::
ü—‹CDATASeùiÚ
(cÚ¡ 
SŒšg
& 
d©a
, 
Exû±iÚCode
& 
ec
)

657 ià(
isHTMLDocum’t
()) {

658 
	gec
 = 
NOT_SUPPORTED_ERR
;

661  
	gCDATASeùiÚ
::
ü—‹
(
this
, 
d©a
);

664 
	gPassRefPŒ
<
	gProûssšgIn¡ruùiÚ
> 
	gDocum’t
::
ü—‹ProûssšgIn¡ruùiÚ
(cÚ¡ 
SŒšg
& 
rg‘
, cÚ¡ SŒšg& 
d©a
, 
Exû±iÚCode
& 
ec
)

666 ià(!
isV®idName
(
rg‘
)) {

667 
	gec
 = 
INVALID_CHARACTER_ERR
;

670 ià(
isHTMLDocum’t
()) {

671 
	gec
 = 
NOT_SUPPORTED_ERR
;

674  
	gProûssšgIn¡ruùiÚ
::
ü—‹
(
this
, 
rg‘
, 
d©a
);

677 
	gPassRefPŒ
<
	gEÁ™yReã»nû
> 
	gDocum’t
::
ü—‹EÁ™yReã»nû
(cÚ¡ 
SŒšg
& 
Çme
, 
Exû±iÚCode
& 
ec
)

679 ià(!
isV®idName
(
Çme
)) {

680 
	gec
 = 
INVALID_CHARACTER_ERR
;

683 ià(
isHTMLDocum’t
()) {

684 
	gec
 = 
NOT_SUPPORTED_ERR
;

687  
	gEÁ™yReã»nû
::
ü—‹
(
this
, 
Çme
);

690 
	gPassRefPŒ
<
	gEd™šgText
> 
	gDocum’t
::
ü—‹Ed™šgTextNode
(cÚ¡ 
SŒšg
& 
‹xt
)

692  
Ed™šgText
::
ü—‹
(
this
, 
‹xt
);

695 
	gPassRefPŒ
<
	gCSSStyËDeş¬©iÚ
> 
	gDocum’t
::
ü—‹CSSStyËDeş¬©iÚ
()

697  
CSSMubËStyËDeş¬©iÚ
::
ü—‹
();

700 
	gPassRefPŒ
<
	gNode
> 
	gDocum’t
::
impÜtNode
(
Node
* 
impÜ‹dNode
, 
boŞ
 
d“p
, 
Exû±iÚCode
& 
ec
)

702 
	gec
 = 0;

704 ià(!
	gimpÜ‹dNode


705 #ià
ENABLE
(
SVG
è&& ENABLE(
DASHBOARD_SUPPORT
)

706 || (
	gimpÜ‹dNode
->
isSVGEËm’t
(è&& 
·ge
(è&&…age()->
£‰šgs
()->
u£sDashbßrdBackw¬dCom·tib™yMode
())

709 
	gec
 = 
NOT_SUPPORTED_ERR
;

713 
	gimpÜ‹dNode
->
nodeTy³
()) {

714 
	gTEXT_NODE
:

715  
ü—‹TextNode
(
impÜ‹dNode
->
nodeV®ue
());

716 
	gCDATA_SECTION_NODE
:

717  
ü—‹CDATASeùiÚ
(
impÜ‹dNode
->
nodeV®ue
(), 
ec
);

718 
	gENTITY_REFERENCE_NODE
:

719  
ü—‹EÁ™yReã»nû
(
impÜ‹dNode
->
nodeName
(), 
ec
);

720 
	gPROCESSING_INSTRUCTION_NODE
:

721  
ü—‹ProûssšgIn¡ruùiÚ
(
impÜ‹dNode
->
nodeName
(), impÜ‹dNode->
nodeV®ue
(), 
ec
);

722 
	gCOMMENT_NODE
:

723  
ü—‹Comm’t
(
impÜ‹dNode
->
nodeV®ue
());

724 
	gELEMENT_NODE
: {

725 
EËm’t
* 
ŞdEËm’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
impÜ‹dNode
);

726 
	gRefPŒ
<
	gEËm’t
> 
	gÃwEËm’t
 = 
ü—‹EËm’tNS
(
ŞdEËm’t
->
Çme¥aûURI
(), oldEËm’t->
gQName
().
toSŒšg
(), 
ec
);

728 ià(
	gec
)

731 
NamedNodeM­
* 
	g©Œs
 = 
ŞdEËm’t
->
©Œibu‹s
(
Œue
);

732 ià(
	g©Œs
) {

733 
	gËngth
 = 
©Œs
->
Ëngth
();

734 
	gi
 = 0; i < 
	gËngth
; i++) {

735 
A‰ribu‹
* 
	g©Œ
 = 
©Œs
->
©Œibu‹I‹m
(
i
);

736 
	gÃwEËm’t
->
£tA‰ribu‹
(
©Œ
->
Çme
(),‡‰r->
v®ue
().
im¶
(), 
ec
);

737 ià(
	gec
)

742 
	gÃwEËm’t
->
cİyNÚA‰ribu‹Prİ”t›s
(
ŞdEËm’t
);

744 ià(
	gd“p
) {

745 
Node
* 
	gŞdChd
 = 
ŞdEËm’t
->
fœ¡Chd
(); oldChd; oldChd = 
ŞdChd
->
ÃxtSiblšg
()) {

746 
RefPŒ
<
Node
> 
ÃwChd
 = 
impÜtNode
(
ŞdChd
, 
Œue
, 
ec
);

747 ià(
	gec
)

749 
	gÃwEËm’t
->
­³ndChd
(
ÃwChd
.
»Ëa£
(), 
ec
);

750 ià(
	gec
)

755  
	gÃwEËm’t
.
»Ëa£
();

757 
	gATTRIBUTE_NODE
:

758  
A‰r
::
ü—‹
(0, 
this
, 
¡©ic_ÿ¡
<A‰r*>(
impÜ‹dNode
)->
©Œ
()->
şÚe
());

759 
	gDOCUMENT_FRAGMENT_NODE
: {

760 
Docum’tF¿gm’t
* 
ŞdF¿gm’t
 = 
¡©ic_ÿ¡
<Docum’tF¿gm’t*>(
impÜ‹dNode
);

761 
	gRefPŒ
<
	gDocum’tF¿gm’t
> 
	gÃwF¿gm’t
 = 
ü—‹Docum’tF¿gm’t
();

762 ià(
	gd“p
) {

763 
Node
* 
	gŞdChd
 = 
ŞdF¿gm’t
->
fœ¡Chd
(); oldChd; oldChd = 
ŞdChd
->
ÃxtSiblšg
()) {

764 
RefPŒ
<
Node
> 
ÃwChd
 = 
impÜtNode
(
ŞdChd
, 
Œue
, 
ec
);

765 ià(
	gec
)

767 
	gÃwF¿gm’t
->
­³ndChd
(
ÃwChd
.
»Ëa£
(), 
ec
);

768 ià(
	gec
)

773  
	gÃwF¿gm’t
.
»Ëa£
();

775 
	gENTITY_NODE
:

776 
NOTATION_NODE
:

779 
DOCUMENT_NODE
:

780 
DOCUMENT_TYPE_NODE
:

781 
XPATH_NAMESPACE_NODE
:

785 
	gec
 = 
NOT_SUPPORTED_ERR
;

790 
	gPassRefPŒ
<
	gNode
> 
	gDocum’t
::
adİtNode
(
PassRefPŒ
<
Node
> 
sourû
, 
Exû±iÚCode
& 
ec
)

792 ià(!
	gsourû
) {

793 
	gec
 = 
NOT_SUPPORTED_ERR
;

797 ià(
	gsourû
->
isR—dOÆyNode
()) {

798 
	gec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

802 
	gsourû
->
nodeTy³
()) {

803 
	gENTITY_NODE
:

804 
NOTATION_NODE
:

805 
DOCUMENT_NODE
:

806 
DOCUMENT_TYPE_NODE
:

807 
XPATH_NAMESPACE_NODE
:

808 
ec
 = 
NOT_SUPPORTED_ERR
;

810 
	gATTRIBUTE_NODE
: {

811 
A‰r
* 
©Œ
 = 
¡©ic_ÿ¡
<A‰r*>(
sourû
.
g‘
());

812 ià(
	g©Œ
->
owÃrEËm’t
())

813 
	g©Œ
->
owÃrEËm’t
()->
»moveA‰ribu‹Node
(
©Œ
, 
ec
);

814 
	g©Œ
->
£tS³cif›d
(
Œue
);

818 ià(
sourû
->
hasTagName
(
iäameTag
))

819 
¡©ic_ÿ¡
<
HTMLIF¿meEËm’t
*>(
sourû
.
g‘
())->
£tRemašsAliveOnRemov®FromT»e
(
©ched
());

821 ià(
	gsourû
->
·»ÁNode
())

822 
	gsourû
->
·»ÁNode
()->
»moveChd
(
sourû
.
g‘
(), 
ec
);

825 
Node
* 
	gnode
 = 
sourû
.
g‘
();‚ode;‚odğ
node
->
Œav”£NextNode
(source.get()))

826 
node
->
£tDocum’t
(
this
);

828  
	gsourû
;

831 
boŞ
 
	gDocum’t
::
hasP»fixName¥aûMism©ch
(cÚ¡ 
Qu®if›dName
& 
qName
)

835 ià(!
qName
.
´efix
().
isEm±y
(è&& qName.
Çme¥aûURI
().
isNuÎ
())

836  
Œue
;

837 ià(
	gqName
.
´efix
(è=ğ
xmlAtom
 && 
qName
.
Çme¥aûURI
(è!ğ
XMLNames
::
xmlName¥aûURI
)

838  
Œue
;

843 ià((
	gqName
.
´efix
(è=ğ
xmÊsAtom
 && 
qName
.
Çme¥aûURI
(è!ğ
XMLNSNames
::
xmÊsName¥aûURI
) || (qName.prefix() != xmlnsAtom && qName.namespaceURI() == XMLNSNames::xmlnsNamespaceURI))

844  
Œue
;

846  
	gçl£
;

850 
	gPassRefPŒ
<
	gEËm’t
> 
	gDocum’t
::
ü—‹EËm’t
(cÚ¡ 
Qu®if›dName
& 
qName
, 
boŞ
 
ü—‹dByP¬£r
)

852 
	gRefPŒ
<
	gEËm’t
> 
	ge
;

855 ià(
	gqName
.
Çme¥aûURI
(è=ğ
xhtmlName¥aûURI
)

856 
e
 = 
HTMLEËm’tFaùÜy
::
ü—‹HTMLEËm’t
(
qName
, 
this
, 0, 
ü—‹dByP¬£r
);

857 #ià
ENABLE
(
SVG
)

858 ià(
	gqName
.
Çme¥aûURI
(è=ğ
SVGNames
::
svgName¥aûURI
)

859 
e
 = 
SVGEËm’tFaùÜy
::
ü—‹SVGEËm’t
(
qName
, 
this
, 
ü—‹dByP¬£r
);

861 #ià
ENABLE
(
WML
)

862 ià(
	gqName
.
Çme¥aûURI
(è=ğ
WMLNames
::
wmlName¥aûURI
)

863 
e
 = 
WMLEËm’tFaùÜy
::
ü—‹WMLEËm’t
(
qName
, 
this
, 
ü—‹dByP¬£r
);

864 ià(
isWMLDocum’t
())

865 
	ge
 = 
WMLEËm’tFaùÜy
::
ü—‹WMLEËm’t
(
Qu®if›dName
(
nuÎAtom
, 
qName
.
loÿlName
(), 
WMLNames
::
wmlName¥aûURI
), 
this
, 
ü—‹dByP¬£r
);

867 #ià
ENABLE
(
MATHML
)

868 ià(
	gqName
.
Çme¥aûURI
(è=ğ
M©hMLNames
::
m©hmlName¥aûURI
)

869 
e
 = 
M©hMLEËm’tFaùÜy
::
ü—‹M©hMLEËm’t
(
qName
, 
this
, 
ü—‹dByP¬£r
);

872 ià(!
	ge
)

873 
	ge
 = 
EËm’t
::
ü—‹
(
qName
, 
docum’t
());

876 #ià
ENABLE
(
WML
)

877 ià(!
isWMLDocum’t
())

879 
ASSERT
((
qName
.
m©ches
(
imageTag
è&& 
e
->
gQName
().m©ches(
imgTag
è&&ƒ->gQName().
´efix
() == qName.prefix()) || qName ==ƒ->tagQName());

881  
	ge
.
»Ëa£
();

884 
	gPassRefPŒ
<
	gEËm’t
> 
	gDocum’t
::
ü—‹EËm’tNS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
qu®if›dName
, 
Exû±iÚCode
& 
ec
)

886 
SŒšg
 
	g´efix
, 
	gloÿlName
;

887 ià(!
·r£Qu®if›dName
(
qu®if›dName
, 
´efix
, 
loÿlName
, 
ec
))

890 
Qu®if›dName
 
qName
(
´efix
, 
loÿlName
, 
Çme¥aûURI
);

891 ià(
hasP»fixName¥aûMism©ch
(
qName
)) {

892 
	gec
 = 
NAMESPACE_ERR
;

896  
ü—‹EËm’t
(
qName
, 
çl£
);

899 
EËm’t
* 
	gDocum’t
::
g‘EËm’tById
(cÚ¡ 
AtomicSŒšg
& 
–em’tId
) const

901 ià(
–em’tId
.
isEm±y
())

904 
	gm_–em’tsById
.
checkCÚsi¡’cy
();

906 
EËm’t
* 
	g–em’t
 = 
m_–em’tsById
.
g‘
(
–em’tId
.
im¶
());

907 ià(
	g–em’t
)

908  
	g–em’t
;

910 ià(
	gm_du¶iÿ‹Ids
.
cÚšs
(
–em’tId
.
im¶
())) {

912 
Node
 *
	gn
 = 
Œav”£NextNode
();‚ !ğ0;‚ = 
n
->traverseNextNode()) {

913 ià(
n
->
isEËm’tNode
()) {

914 
–em’t
 = 
¡©ic_ÿ¡
<
EËm’t
*>(
n
);

915 ià(
	g–em’t
->
hasID
(è&&ƒËm’t->
g‘A‰ribu‹
(
–em’t
->
idA‰ribu‹Name
()è=ğ
–em’tId
) {

916 
m_du¶iÿ‹Ids
.
»move
(
–em’tId
.
im¶
());

917 
	gm_–em’tsById
.
£t
(
–em’tId
.
im¶
(), 
–em’t
);

918  
	g–em’t
;

922 
ASSERT_NOT_REACHED
();

927 
SŒšg
 
	gDocum’t
::
»adyS‹
() const

929 ià(
F¿me
* 
f
 = 
äame
()) {

930 ià(
f
->
lßd”
()->
isCom¶‘e
())

932 ià(
·rsšg
())

938  
SŒšg
();

941 
SŒšg
 
	gDocum’t
::
’codšg
() const

943 ià(
TextResourûDecod”
* 
d
 = 
decod”
())

944  
d
->
’codšg
().
domName
();

945  
SŒšg
();

948 
SŒšg
 
	gDocum’t
::
deçuÉCh¬£t
() const

950 ià(
S‘tšgs
* 
£‰šgs
 = 
this
->settings())

951  
£‰šgs
->
deçuÉTextEncodšgName
();

952  
SŒšg
();

955 
	gDocum’t
::
£tCh¬£t
(cÚ¡ 
SŒšg
& 
ch¬£t
)

957 ià(!
decod”
())

959 
decod”
()->
£tEncodšg
(
ch¬£t
, 
TextResourûDecod”
::
U£rCho£nEncodšg
);

962 
	gDocum’t
::
£tXMLV”siÚ
(cÚ¡ 
SŒšg
& 
v”siÚ
, 
Exû±iÚCode
& 
ec
)

964 ià(!
im¶em’tiÚ
()->
hasF—tu»
("XML", 
SŒšg
())) {

965 
	gec
 = 
NOT_SUPPORTED_ERR
;

971 
	gm_xmlV”siÚ
 = 
v”siÚ
;

974 
	gDocum’t
::
£tXMLSnd®Úe
(
boŞ
 
¡ªd®Úe
, 
Exû±iÚCode
& 
ec
)

976 ià(!
im¶em’tiÚ
()->
hasF—tu»
("XML", 
SŒšg
())) {

977 
	gec
 = 
NOT_SUPPORTED_ERR
;

981 
	gm_xmlSnd®Úe
 = 
¡ªd®Úe
;

984 
	gDocum’t
::
£tDocum’tURI
(cÚ¡ 
SŒšg
& 
uri
)

986 
m_docum’tURI
 = 
uri
;

987 
upd©eBa£URL
();

990 
KURL
 
	gDocum’t
::
ba£URI
() const

992  
m_ba£URL
;

995 
EËm’t
* 
	gDocum’t
::
–em’tFromPošt
(
x
, 
y
) const

998 ià(!
»nd””
())

1000 
F¿me
* 
	gäame
 = 
this
->
äame
();

1001 ià(!
	gäame
)

1003 
F¿meV›w
* 
	gäameV›w
 = 
äame
->
v›w
();

1004 ià(!
	gäameV›w
)

1007 
	gzoomFaùÜ
 = 
äame
->
·geZoomFaùÜ
();

1008 
IÁPošt
 
	gpošt
 = 
roundedIÁPošt
(
FlßtPošt
(
x
 * 
zoomFaùÜ
 + 
v›w
()->
süŞlX
(), 
y
 * zoomFaùÜ + v›w()->
süŞlY
()));

1010 ià(!
	gäameV›w
->
visibËCÚ‹ÁReù
().
cÚšs
(
pošt
))

1013 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
 | H™Te¡Reque¡::
Aùive
);

1014 
H™Te¡ResuÉ
 
»suÉ
(
pošt
);

1015 
»nd”V›w
()->
Ïy”
()->
h™Te¡
(
»que¡
, 
»suÉ
);

1017 
Node
* 
	gn
 = 
»suÉ
.
šÃrNode
();

1018 
	gn
 && !n->
isEËm’tNode
())

1019 
	gn
 = 
n
->
·»ÁNode
();

1020 ià(
	gn
)

1021 
	gn
 = 
n
->
shadowAnû¡ÜNode
();

1022  
	g¡©ic_ÿ¡
<
	gEËm’t
*>(
	gn
);

1025 
	gPassRefPŒ
<
	gRªge
> 
	gDocum’t
::
ÿ»tRªgeFromPošt
(
x
, 
y
)

1028 ià(!
»nd””
())

1030 
F¿me
* 
	gäame
 = 
this
->
äame
();

1031 ià(!
	gäame
)

1033 
F¿meV›w
* 
	gäameV›w
 = 
äame
->
v›w
();

1034 ià(!
	gäameV›w
)

1037 
	gzoomFaùÜ
 = 
äame
->
·geZoomFaùÜ
();

1038 
IÁPošt
 
	gpošt
 = 
roundedIÁPošt
(
FlßtPošt
(
x
 * 
zoomFaùÜ
 + 
v›w
()->
süŞlX
(), 
y
 * zoomFaùÜ + v›w()->
süŞlY
()));

1040 ià(!
	gäameV›w
->
visibËCÚ‹ÁReù
().
cÚšs
(
pošt
))

1043 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
 | H™Te¡Reque¡::
Aùive
);

1044 
H™Te¡ResuÉ
 
»suÉ
(
pošt
);

1045 
»nd”V›w
()->
Ïy”
()->
h™Te¡
(
»que¡
, 
»suÉ
);

1047 
Node
* 
	gnode
 = 
»suÉ
.
šÃrNode
();

1048 ià(!
	gnode
)

1051 
Node
* 
	gshadowAnû¡ÜNode
 = 
node
->
shadowAnû¡ÜNode
();

1052 ià(
	gshadowAnû¡ÜNode
 !ğ
node
) {

1053 
off£t
 = 
shadowAnû¡ÜNode
->
nodeIndex
();

1054 
Node
* 
	gcÚš”
 = 
shadowAnû¡ÜNode
->
·»ÁNode
();

1055  
	gRªge
::
ü—‹
(
this
, 
cÚš”
, 
off£t
, container, offset);

1058 
R’d”Objeù
* 
	g»nd””
 = 
node
->
»nd””
();

1059 ià(!
	g»nd””
)

1061 
VisibËPos™iÚ
 
	gvisibËPos™iÚ
 = 
»nd””
->
pos™iÚFÜPošt
(
»suÉ
.
loÿlPošt
());

1062 ià(
	gvisibËPos™iÚ
.
isNuÎ
())

1065 
Pos™iÚ
 
	g¿ngeCom¶ŸÁPos™iÚ
 = 
¿ngeCom¶ŸÁEquiv®’t
(
visibËPos™iÚ
);

1066  
	gRªge
::
ü—‹
(
this
, 
¿ngeCom¶ŸÁPos™iÚ
,„angeCompliantPosition);

1069 
	gDocum’t
::
addEËm’tById
(cÚ¡ 
AtomicSŒšg
& 
–em’tId
, 
EËm’t
* 
–em’t
)

1071 
	gHashM­
<
	tAtomicSŒšgIm¶
*, 
	tEËm’t
*>::
	t™”©Ü
 iterator;

1072 ià(!
	gm_du¶iÿ‹Ids
.
cÚšs
(
–em’tId
.
im¶
())) {

1075 
	g·œ
<
	g™”©Ü
, 
	gboŞ
> 
	gaddResuÉ
 = 
m_–em’tsById
.
add
(
–em’tId
.
im¶
(), 
–em’t
);

1076 ià(
	gaddResuÉ
.
	g£cÚd
)

1081 
	gm_–em’tsById
.
»move
(
addResuÉ
.
fœ¡
);

1082 
	gm_du¶iÿ‹Ids
.
add
(
–em’tId
.
im¶
());

1086 
™”©Ü
 
	gÿchedI‹m
 = 
m_–em’tsById
.
fšd
(
–em’tId
.
im¶
());

1087 ià(
	gÿchedI‹m
 !ğ
m_–em’tsById
.
’d
()) {

1088 
m_–em’tsById
.
»move
(
ÿchedI‹m
);

1089 
	gm_du¶iÿ‹Ids
.
add
(
–em’tId
.
im¶
());

1092 
	gm_du¶iÿ‹Ids
.
add
(
–em’tId
.
im¶
());

1095 
	gDocum’t
::
»moveEËm’tById
(cÚ¡ 
AtomicSŒšg
& 
–em’tId
, 
EËm’t
* 
–em’t
)

1097 
	gm_–em’tsById
.
checkCÚsi¡’cy
();

1099 ià(
	gm_–em’tsById
.
g‘
(
–em’tId
.
im¶
()è=ğ
–em’t
)

1100 
m_–em’tsById
.
»move
(
–em’tId
.
im¶
());

1102 
	gm_du¶iÿ‹Ids
.
»move
(
–em’tId
.
im¶
());

1105 
EËm’t
* 
	gDocum’t
::
g‘EËm’tByAcûssKey
(cÚ¡ 
SŒšg
& 
key
) const

1107 ià(
key
.
isEm±y
())

1109 ià(!
	gm_acûssKeyM­V®id
) {

1110 
Node
* 
	gn
 = 
fœ¡Chd
();‚;‚ = 
n
->
Œav”£NextNode
()) {

1111 ià(!
n
->
isEËm’tNode
())

1113 
EËm’t
* 
	g–em’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
n
);

1114 cÚ¡ 
	gAtomicSŒšg
& 
	gacûssKey
 = 
–em’t
->
g‘A‰ribu‹
(
acûsskeyA‰r
);

1115 ià(!
	gacûssKey
.
isEm±y
())

1116 
	gm_–em’tsByAcûssKey
.
£t
(
acûssKey
.
im¶
(), 
–em’t
);

1118 
	gm_acûssKeyM­V®id
 = 
Œue
;

1120  
	gm_–em’tsByAcûssKey
.
g‘
(
key
.
im¶
());

1129 
šlše
 
SŒšg
 
ÿnÚiÿlizedT™Ë
(
Docum’t
* 
docum’t
, cÚ¡ SŒšg& 
t™Ë
)

1131 cÚ¡ 
UCh¬
* 
	gch¬aù”s
 = 
t™Ë
.
ch¬aù”s
();

1132 
	gËngth
 = 
t™Ë
.
Ëngth
();

1133 
	gi
;

1135 
SŒšgBufãr
 
bufãr
(
Ëngth
);

1136 
	gbud”Index
 = 0;

1139 
	gi
 = 0; i < 
	gËngth
; ++i) {

1140 
UCh¬
 
	gc
 = 
ch¬aù”s
[
i
];

1141 ià(!(
	gc
 <ğ0x20 || 
c
 == 0x7F))

1145 ià(
	gi
 =ğ
Ëngth
)

1149 
boŞ
 
	g´eviousCh¬WasWS
 = 
çl£
;

1150 ; 
	gi
 < 
	gËngth
; ++i) {

1151 
UCh¬
 
	gc
 = 
ch¬aù”s
[
i
];

1152 ià(
	gc
 <ğ0x20 || 
c
 =ğ0x7F || (
WTF
::
Unicode
::
ÿ‹gÜy
(cè& (WTF::Unicode::
S•¬©Ü_Lše
 | WTF::Unicode::
S•¬©Ü_P¬ag¿ph
))) {

1153 ià(
´eviousCh¬WasWS
)

1155 
	gbufãr
[
bud”Index
++] = ' ';

1156 
	g´eviousCh¬WasWS
 = 
Œue
;

1158 
	gbufãr
[
bud”Index
++] = 
c
;

1159 
	g´eviousCh¬WasWS
 = 
çl£
;

1164 
	gbud”Index
 > 0) {

1165 --
	gbud”Index
;

1166 ià(
	gbufãr
[
bud”Index
] != ' ')

1170 ià(!
	gbud”Index
 && 
	gbufãr
[
bud”Index
] == ' ')

1173 
	gbufãr
.
shršk
(
bud”Index
 + 1);

1176 
	gdocum’t
->
di¥ÏyBufãrModif›dByEncodšg
(
bufãr
.
ch¬aù”s
(), bufãr.
Ëngth
());

1178  
	gSŒšg
::
adİt
(
bufãr
);

1181 
	gDocum’t
::
upd©eT™Ë
()

1183 
m_t™Ë
 = 
ÿnÚiÿlizedT™Ë
(
this
, 
m_¿wT™Ë
);

1184 ià(
F¿me
* 
	gf
 = 
äame
())

1185 
f
->
lßd”
()->
£tT™Ë
(
m_t™Ë
);

1188 
	gDocum’t
::
£tT™Ë
(cÚ¡ 
SŒšg
& 
t™Ë
, 
EËm’t
* 
t™ËEËm’t
)

1190 ià(!
	gt™ËEËm’t
) {

1192 
	gm_t™ËS‘Ex¶ic™ly
 = 
Œue
;

1193 ià(!
isHTMLDocum’t
())

1194 
	gm_t™ËEËm’t
 = 0;

1195 ià(!
	gm_t™ËEËm’t
) {

1196 ià(
HTMLEËm’t
* 
	gh—dEËm’t
 = 
h—d
()) {

1197 
m_t™ËEËm’t
 = 
ü—‹EËm’t
(
t™ËTag
, 
çl£
);

1198 
Exû±iÚCode
 
	gec
 = 0;

1199 
	gh—dEËm’t
->
­³ndChd
(
m_t™ËEËm’t
, 
ec
);

1200 
ASSERT
(!
ec
);

1203 } ià(
	gt™ËEËm’t
 !ğ
m_t™ËEËm’t
) {

1204 ià(
m_t™ËEËm’t
 || 
m_t™ËS‘Ex¶ic™ly
)

1207 
	gm_t™ËEËm’t
 = 
t™ËEËm’t
;

1210 ià(
	gm_¿wT™Ë
 =ğ
t™Ë
)

1213 
	gm_¿wT™Ë
 = 
t™Ë
;

1214 
upd©eT™Ë
();

1216 ià(
	gm_t™ËS‘Ex¶ic™ly
 && 
	gm_t™ËEËm’t
 && m_t™ËEËm’t->
hasTagName
(
t™ËTag
è&& !
	gt™ËEËm’t
)

1217 
	g¡©ic_ÿ¡
<
	gHTMLT™ËEËm’t
*>(
	gm_t™ËEËm’t
.
g‘
())->
£tText
(
m_t™Ë
);

1220 
	gDocum’t
::
»moveT™Ë
(
EËm’t
* 
t™ËEËm’t
)

1222 ià(
m_t™ËEËm’t
 !ğ
t™ËEËm’t
)

1225 
	gm_t™ËEËm’t
 = 0;

1226 
	gm_t™ËS‘Ex¶ic™ly
 = 
çl£
;

1229 ià(
HTMLEËm’t
* 
	gh—dEËm’t
 = 
h—d
()) {

1230 
Node
* 
e
 = 
h—dEËm’t
->
fœ¡Chd
(); 
	ge
;ƒ =ƒ->
ÃxtSiblšg
())

1231 ià(
e
->
hasTagName
(
t™ËTag
)) {

1232 
HTMLT™ËEËm’t
* 
t™ËEËm’t
 = 
¡©ic_ÿ¡
<HTMLT™ËEËm’t*>(
e
);

1233 
£tT™Ë
(
t™ËEËm’t
->
‹xt
(),itleElement);

1238 ià(!
	gm_t™ËEËm’t
 && !
	gm_¿wT™Ë
.
isEm±y
()) {

1239 
	gm_¿wT™Ë
 = "";

1240 
upd©eT™Ë
();

1244 
SŒšg
 
	gDocum’t
::
nodeName
() const

1249 
	gNode
::
NodeTy³
 
Docum’t
::
nodeTy³
() const

1251  
DOCUMENT_NODE
;

1254 
F¿meV›w
* 
	gDocum’t
::
v›w
() const

1256  
m_äame
 ? m_äame->
v›w
() : 0;

1259 
Page
* 
	gDocum’t
::
·ge
() const

1261  
m_äame
 ? m_äame->
·ge
() : 0;

1264 
S‘tšgs
* 
	gDocum’t
::
£‰šgs
() const

1266  
m_äame
 ? m_äame->
£‰šgs
() : 0;

1269 
	gPassRefPŒ
<
	gRªge
> 
	gDocum’t
::
ü—‹Rªge
()

1271  
Rªge
::
ü—‹
(
this
);

1274 
	gPassRefPŒ
<
	gNodeI‹¿tÜ
> 
	gDocum’t
::
ü—‹NodeI‹¿tÜ
(
Node
* 
roÙ
, 
wh©ToShow
,

1275 
PassRefPŒ
<
NodeF‹r
> 
f‹r
, 
boŞ
 
ex·ndEÁ™yReã»nûs
, 
Exû±iÚCode
& 
ec
)

1277 ià(!
	groÙ
) {

1278 
	gec
 = 
NOT_SUPPORTED_ERR
;

1281  
	gNodeI‹¿tÜ
::
ü—‹
(
roÙ
, 
wh©ToShow
, 
f‹r
, 
ex·ndEÁ™yReã»nûs
);

1284 
	gPassRefPŒ
<
	gT»eW®k”
> 
	gDocum’t
::
ü—‹T»eW®k”
(
Node
 *
roÙ
, 
wh©ToShow
,

1285 
PassRefPŒ
<
NodeF‹r
> 
f‹r
, 
boŞ
 
ex·ndEÁ™yReã»nûs
, 
Exû±iÚCode
& 
ec
)

1287 ià(!
	groÙ
) {

1288 
	gec
 = 
NOT_SUPPORTED_ERR
;

1291  
	gT»eW®k”
::
ü—‹
(
roÙ
, 
wh©ToShow
, 
f‹r
, 
ex·ndEÁ™yReã»nûs
);

1294 
	gDocum’t
::
scheduËStyËReÿlc
()

1296 ià(
m_¡yËReÿlcTim”
.
isAùive
(è|| 
šPageCache
())

1299 
ASSERT
(
chdN“dsStyËReÿlc
());

1301 ià(!
	gdocum’tsTh©N“dStyËReÿlc
)

1302 
	gdocum’tsTh©N“dStyËReÿlc
 = 
Ãw
 
HashS‘
<
Docum’t
*>;

1303 
	gdocum’tsTh©N“dStyËReÿlc
->
add
(
this
);

1306 ià(
	gm_acûssKeyM­V®id
) {

1307 
	gm_acûssKeyM­V®id
 = 
çl£
;

1308 
	gm_–em’tsByAcûssKey
.
ş—r
();

1311 
	gm_¡yËReÿlcTim”
.
¡¬tOÃShÙ
(0);

1314 
	gDocum’t
::
unscheduËStyËReÿlc
()

1316 
ASSERT
(!
chdN“dsStyËReÿlc
());

1318 ià(
	gdocum’tsTh©N“dStyËReÿlc
)

1319 
	gdocum’tsTh©N“dStyËReÿlc
->
»move
(
this
);

1321 
	gm_¡yËReÿlcTim”
.
¡İ
();

1324 
	gDocum’t
::
¡yËReÿlcTim”Fœed
(
Tim”
<
Docum’t
>*)

1326 
upd©eStyËIfN“ded
();

1329 
boŞ
 
	gDocum’t
::
chdN“dsAndNÙInStyËReÿlc
()

1331  
chdN“dsStyËReÿlc
(è&& !
m_šStyËReÿlc
;

1334 
	gDocum’t
::
»ÿlcStyË
(
StyËChªge
 
chªge
)

1337 ià(
v›w
(è&& v›w()->
isPaštšg
()) {

1338 
ASSERT
(!
v›w
()->
isPaštšg
());

1342 ià(
	gm_šStyËReÿlc
)

1345 #ià
ENABLE
(
INSPECTOR
)

1346 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = 
š¥eùÜTim–šeAg’t
())

1347 
tim–šeAg’t
->
wlReÿlcuÏ‹StyË
();

1350 
	gm_šStyËReÿlc
 = 
Œue
;

1351 
su¥’dPo¡A‰achC®lbacks
();

1352 
	gR’d”Widg‘
::
su¥’dWidg‘H›¿rchyUpd©es
();

1353 ià(
v›w
())

1354 
v›w
()->
·u£ScheduËdEv’ts
();

1356 
ASSERT
(!
»nd””
(è|| 
»nd”A»Ç
());

1357 ià(!
»nd””
(è|| !
»nd”A»Ç
())

1358 
	gba_out
;

1360 ià(
	gchªge
 =ğ
FÜû
) {

1362 
m_hasNodesW™hPÏûhŞd”StyË
 = 
çl£
;

1364 
	gRefPŒ
<
	gR’d”StyË
> 
	gdocum’tStyË
 = 
CSSStyËS–eùÜ
::
¡yËFÜDocum’t
(
this
);

1365 
StyËChªge
 
	gch
 = 
diff
(
docum’tStyË
.
g‘
(), 
»nd””
()->
¡yË
());

1366 ià(
»nd””
(è&& 
	gch
 !ğ
NoChªge
)

1367 
»nd””
()->
£tStyË
(
docum’tStyË
.
»Ëa£
());

1370 
Node
* 
	gn
 = 
fœ¡Chd
();‚;‚ = 
n
->
ÃxtSiblšg
())

1371 ià(
chªge
 >ğ
Inh”™
 || 
n
->
chdN“dsStyËReÿlc
(è||‚->
ÃedsStyËReÿlc
())

1372 
n
->
»ÿlcStyË
(
chªge
);

1374 #ià
USE
(
ACCELERATED_COMPOSITING
)

1375 ià(
v›w
()) {

1376 
boŞ
 
	gÏyoutP’dšg
 = 
v›w
()->
ÏyoutP’dšg
(è|| 
»nd””
()->
ÃedsLayout
();

1378 ià(!
	gÏyoutP’dšg
)

1379 
v›w
()->
upd©eCompos™šgLay”s
();

1383 
	gba_out
:

1384 
£tN“dsStyËReÿlc
(
NoStyËChªge
);

1385 
£tChdN“dsStyËReÿlc
(
çl£
);

1386 
unscheduËStyËReÿlc
();

1388 ià(
v›w
())

1389 
v›w
()->
»sumeScheduËdEv’ts
();

1390 
	gR’d”Widg‘
::
»sumeWidg‘H›¿rchyUpd©es
();

1391 
»sumePo¡A‰achC®lbacks
();

1392 
	gm_šStyËReÿlc
 = 
çl£
;

1395 ià(
	gm_şo£Aá”StyËReÿlc
) {

1396 
	gm_şo£Aá”StyËReÿlc
 = 
çl£
;

1397 
im¶ic™Clo£
();

1400 #ià
ENABLE
(
INSPECTOR
)

1401 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = 
š¥eùÜTim–šeAg’t
())

1402 
tim–šeAg’t
->
didReÿlcuÏ‹StyË
();

1406 
	gDocum’t
::
upd©eStyËIfN“ded
()

1408 ià(!
chdN“dsStyËReÿlc
(è|| 
šPageCache
())

1411 ià(
	gm_äame
)

1412 
	gm_äame
->
ªim©iÚ
()->
begšAnim©iÚUpd©e
();

1414 
»ÿlcStyË
(
NoChªge
);

1417 ià(
	gm_äame
)

1418 
	gm_äame
->
ªim©iÚ
()->
’dAnim©iÚUpd©e
();

1421 
	gDocum’t
::
upd©eStyËFÜAÎDocum’ts
()

1423 ià(!
docum’tsTh©N“dStyËReÿlc
)

1426 
	gdocum’tsTh©N“dStyËReÿlc
->
size
()) {

1427 
	gHashS‘
<
	gDocum’t
*>::
™”©Ü
 
™
 = 
docum’tsTh©N“dStyËReÿlc
->
begš
();

1428 
Docum’t
* 
	gdoc
 = *
™
;

1429 
	gdocum’tsTh©N“dStyËReÿlc
->
»move
(
doc
);

1430 
ASSERT
(
doc
->
chdN“dsStyËReÿlc
(è&& !doc->
šPageCache
());

1431 
	gdoc
->
upd©eStyËIfN“ded
();

1435 
	gDocum’t
::
upd©eLayout
()

1437 ià(
EËm’t
* 
Û
 = 
owÃrEËm’t
())

1438 
Û
->
docum’t
()->
upd©eLayout
();

1440 
upd©eStyËIfN“ded
();

1443 
F¿meV›w
* 
	gv
 = 
v›w
();

1444 ià(
	gv
 && 
»nd””
(è&& (v->
ÏyoutP’dšg
(è||„’d””()->
ÃedsLayout
()))

1445 
	gv
->
Ïyout
();

1454 
	gDocum’t
::
upd©eLayoutIgnÜeP’dšgStyËsh“ts
()

1456 
boŞ
 
ŞdIgnÜe
 = 
m_ignÜeP’dšgStyËsh“ts
;

1458 ià(!
haveStyËsh“tsLßded
()) {

1459 
	gm_ignÜeP’dšgStyËsh“ts
 = 
Œue
;

1466 ià(
body
(è&& !body()->
»nd””
(è&& 
	gm_³ndšgSh“tLayout
 =ğ
NoLayoutW™hP’dšgSh“ts
) {

1467 
m_³ndšgSh“tLayout
 = 
DidLayoutW™hP’dšgSh“ts
;

1468 
upd©eStyËS–eùÜ
();

1469 } ià(
	gm_hasNodesW™hPÏûhŞd”StyË
)

1473 
»ÿlcStyË
(
FÜû
);

1476 
upd©eLayout
();

1478 
	gm_ignÜeP’dšgStyËsh“ts
 = 
ŞdIgnÜe
;

1481 
	gPassRefPŒ
<
	gR’d”StyË
> 
	gDocum’t
::
¡yËFÜEËm’tIgnÜšgP’dšgStyËsh“ts
(
EËm’t
* 
–em’t
)

1483 
ASSERT_ARG
(
–em’t
,ƒËm’t->
docum’t
(è=ğ
this
);

1485 
boŞ
 
	gŞdIgnÜe
 = 
m_ignÜeP’dšgStyËsh“ts
;

1486 
	gm_ignÜeP’dšgStyËsh“ts
 = 
Œue
;

1487 
	gRefPŒ
<
	gR’d”StyË
> 
	g¡yË
 = 
¡yËS–eùÜ
()->
¡yËFÜEËm’t
(
–em’t
,ƒËm’t->
·»Á
(è?ƒËm’t->·»Á()->
compu‹dStyË
() : 0);

1488 
	gm_ignÜeP’dšgStyËsh“ts
 = 
ŞdIgnÜe
;

1489  
	g¡yË
.
»Ëa£
();

1492 
	gDocum’t
::
ü—‹StyËS–eùÜ
()

1494 
boŞ
 
m©chAuthÜAndU£rStyËs
 = 
Œue
;

1495 ià(
S‘tšgs
* 
	gdocS‘tšgs
 = 
£‰šgs
())

1496 
m©chAuthÜAndU£rStyËs
 = 
docS‘tšgs
->
authÜAndU£rStyËsEÇbËd
();

1497 
	gm_¡yËS–eùÜ
.
£t
(
Ãw
 
CSSStyËS–eùÜ
(
this
, 
m_¡yËSh“ts
.
g‘
(), 
m_m­³dEËm’tSh“t
.g‘(), 
·geU£rSh“t
(), 
·geGroupU£rSh“ts
(),

1498 !
šCom·tMode
(), 
m©chAuthÜAndU£rStyËs
));

1501 
	gDocum’t
::
©ch
()

1503 
ASSERT
(!
©ched
());

1504 
ASSERT
(!
m_šPageCache
);

1505 
ASSERT
(!
m_axObjeùCache
);

1507 ià(!
	gm_»nd”A»Ç
)

1508 
	gm_»nd”A»Ç
 = 
Ãw
 
R’d”A»Ç
();

1511 
£tR’d””
(
Ãw
 (
m_»nd”A»Ç
.
g‘
()è
R’d”V›w
(
this
, 
v›w
()));

1512 #ià
USE
(
ACCELERATED_COMPOSITING
)

1513 
»nd”V›w
()->
didMoveOnsü“n
();

1516 
»ÿlcStyË
(
FÜû
);

1518 
R’d”Objeù
* 
	g»nd”
 = 
»nd””
();

1519 
£tR’d””
(0);

1521 
	gCÚš”Node
::
©ch
();

1523 
£tR’d””
(
»nd”
);

1526 
	gDocum’t
::
d‘ach
()

1528 
ASSERT
(
©ched
());

1529 
ASSERT
(!
m_šPageCache
);

1531 
ş—rAXObjeùCache
();

1532 
¡İAùiveDOMObjeùs
();

1534 
R’d”Objeù
* 
	g»nd”
 = 
»nd””
();

1538 
docum’tWlBecomeIÇùive
();

1540 #ià
ENABLE
(
SHARED_WORKERS
)

1541 
	gSh¬edWÜk”R•os™Üy
::
docum’tD‘ached
(
this
);

1544 ià(
	gm_äame
) {

1545 
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
();

1546 ià(
	gv›w
)

1547 
	gv›w
->
d‘achCu¡omSüŞlb¬s
();

1549 #ià
ENABLE
(
TOUCH_EVENTS
)

1550 
Page
* 
	gowÃrPage
 = 
·ge
();

1551 ià(
	gowÃrPage
 && (
	gm_äame
 =ğ
owÃrPage
->
mašF¿me
())) {

1556 
owÃrPage
->
chrome
()->
ş›Á
()->
ÃedTouchEv’ts
(
çl£
);

1562 
£tR’d””
(0);

1564 
	gm_hov”Node
 = 0;

1565 
	gm_focu£dNode
 = 0;

1566 
	gm_aùiveNode
 = 0;

1568 
	gCÚš”Node
::
d‘ach
();

1570 
unscheduËStyËReÿlc
();

1572 ià(
	g»nd”
)

1573 
	g»nd”
->
de¡roy
();

1580 
	gm_äame
 = 0;

1581 
	gm_»nd”A»Ç
.
ş—r
();

1584 
	gDocum’t
::
»moveAÎEv’tLi¡’”s
()

1586 
Ev’tT¬g‘
::
»moveAÎEv’tLi¡’”s
();

1588 ià(
DOMWšdow
* 
	gdomWšdow
 = 
this
->
domWšdow
())

1589 
domWšdow
->
»moveAÎEv’tLi¡’”s
();

1590 
Node
* 
	gnode
 = 
fœ¡Chd
();‚ode;‚odğ
node
->
Œav”£NextNode
())

1591 
node
->
»moveAÎEv’tLi¡’”s
();

1594 
R’d”V›w
* 
	gDocum’t
::
»nd”V›w
() const

1596  
toR’d”V›w
(
»nd””
());

1599 
	gDocum’t
::
ş—rAXObjeùCache
()

1602 ià(
m_axObjeùCache
) {

1603 
d–‘e
 
m_axObjeùCache
;

1604 
	gm_axObjeùCache
 = 0;

1609 
Docum’t
* 
	gdoc
 = 
tİDocum’t
();

1610 ià(
	gdoc
 !ğ
this
)

1611 
doc
->
ş—rAXObjeùCache
();

1614 
AXObjeùCache
* 
	gDocum’t
::
axObjeùCache
() const

1621 ià(
m_axObjeùCache
) {

1623 ià(!
owÃrEËm’t
())

1624  
m_axObjeùCache
;

1637 
d–‘e
 
	gm_axObjeùCache
;

1638 
	gm_axObjeùCache
 = 0;

1642 
Docum’t
* 
	gdoc
 = 
tİDocum’t
();

1643 ià(
	gdoc
 !ğ
this
)

1644  
doc
->
axObjeùCache
();

1647 
	gm_axObjeùCache
 = 
Ãw
 
AXObjeùCache
;

1648  
	gm_axObjeùCache
;

1651 
	gDocum’t
::
£tVisu®lyOrd”ed
()

1653 
m_visu®lyOrd”ed
 = 
Œue
;

1654 ià(
»nd””
())

1655 
»nd””
()->
¡yË
()->
£tVisu®lyOrd”ed
(
Œue
);

1658 
Tok’iz”
* 
	gDocum’t
::
ü—‹Tok’iz”
()

1661  
Ãw
 
XMLTok’iz”
(
this
, 
v›w
());

1664 
	gDocum’t
::
İ’
(
Docum’t
* 
owÃrDocum’t
)

1666 ià(
owÃrDocum’t
) {

1667 
£tURL
(
owÃrDocum’t
->
u¾
());

1668 
	gm_cook›URL
 = 
owÃrDocum’t
->
cook›URL
();

1669 
	gSütExecutiÚCÚ‹xt
::
£tSecur™yOrigš
(
owÃrDocum’t
->
£cur™yOrigš
());

1672 ià(
	gm_äame
) {

1673 ià(
	gm_äame
->
lßd”
()->
isLßdšgMašResourû
(è|| (
tok’iz”
(è&&ok’iz”()->
executšgSüt
()))

1676 ià(
	gm_äame
->
lßd”
()->
¡©e
(è=ğ
F¿meS‹ProvisiÚ®
)

1677 
m_äame
->
lßd”
()->
¡İAÎLßd”s
();

1680 
im¶ic™O³n
();

1682 ià(
DOMWšdow
* 
	gdomWšdow
 = 
this
->
domWšdow
())

1683 
domWšdow
->
»moveAÎEv’tLi¡’”s
();

1685 ià(
	gm_äame
)

1686 
	gm_äame
->
lßd”
()->
didEx¶ic™O³n
();

1689 
	gDocum’t
::
ÿnûlP¬sšg
()

1691 ià(
m_tok’iz”
) {

1696 
m_tok’iz”
.
ş—r
();

1697 
şo£
();

1701 
	gDocum’t
::
im¶ic™O³n
()

1703 
ÿnûlP¬sšg
();

1705 
	gm_tok’iz”
.
ş—r
();

1707 
»moveChd»n
();

1709 
	gm_tok’iz”
 = 
ü—‹Tok’iz”
();

1710 
£tP¬sšg
(
Œue
);

1712 ià(
	gm_äame
)

1713 
	gm_tok’iz”
->
£tXSSAud™Ü
(
m_äame
->
süt
()->
xssAud™Ü
());

1717 ià(
	gm_äame
 && m_äame->
ªim©iÚ
())

1718 
	gm_äame
->
ªim©iÚ
()->
begšAnim©iÚUpd©e
();

1721 
HTMLEËm’t
* 
	gDocum’t
::
body
() const

1723 
Node
* 
de
 = 
docum’tEËm’t
();

1724 ià(!
	gde
)

1728 
Node
* 
	gbody
 = 0;

1729 
Node
* 
	gi
 = 
de
->
fœ¡Chd
(); i; i = 
i
->
ÃxtSiblšg
()) {

1730 ià(
i
->
hasTagName
(
äame£tTag
))

1731  
¡©ic_ÿ¡
<
HTMLEËm’t
*>(
i
);

1733 ià(
	gi
->
hasTagName
(
bodyTag
è&& !
	gbody
)

1734 
	gbody
 = 
i
;

1736  
	g¡©ic_ÿ¡
<
	gHTMLEËm’t
*>(
	gbody
);

1739 
	gDocum’t
::
£tBody
(
PassRefPŒ
<
HTMLEËm’t
> 
ÃwBody
, 
Exû±iÚCode
& 
ec
)

1741 ià(!
	gÃwBody
 || !
docum’tEËm’t
()) {

1742 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

1746 
HTMLEËm’t
* 
	gb
 = 
body
();

1747 ià(!
	gb
)

1748 
docum’tEËm’t
()->
­³ndChd
(
ÃwBody
, 
ec
);

1750 
docum’tEËm’t
()->
»¶aûChd
(
ÃwBody
, 
b
, 
ec
);

1753 
HTMLH—dEËm’t
* 
	gDocum’t
::
h—d
()

1755 
Node
* 
de
 = 
docum’tEËm’t
();

1756 ià(!
	gde
)

1759 
Node
* 
	ge
 = 
de
->
fœ¡Chd
();ƒ;ƒ = 
e
->
ÃxtSiblšg
())

1760 ià(
e
->
hasTagName
(
h—dTag
))

1761  
¡©ic_ÿ¡
<
HTMLH—dEËm’t
*>(
e
);

1766 
	gDocum’t
::
şo£
()

1768 
F¿me
* 
äame
 = 
this
->frame();

1769 ià(
	gäame
) {

1771 
F¿meLßd”
* 
	gäameLßd”
 = 
äame
->
lßd”
();

1772 
	gäameLßd”
->
’dIfNÙLßdšgMašResourû
();

1773 
	gäameLßd”
->
checkCom¶‘ed
();

1778 
im¶ic™Clo£
();

1782 
	gDocum’t
::
im¶ic™Clo£
()

1785 ià(
m_šStyËReÿlc
) {

1786 
m_şo£Aá”StyËReÿlc
 = 
Œue
;

1790 
boŞ
 
	gwasLoÿtiÚChªgeP’dšg
 = 
äame
(è&& f¿me()->
»dœeùScheduËr
()->
loÿtiÚChªgeP’dšg
();

1791 
boŞ
 
	gdŞßd
 = !
·rsšg
(è&& 
m_tok’iz”
 && !
m_´oûssšgLßdEv’t
 && !
wasLoÿtiÚChªgeP’dšg
;

1793 ià(!
	gdŞßd
)

1796 
	gm_´oûssšgLßdEv’t
 = 
Œue
;

1798 
	gm_w–lFÜmed
 = 
m_tok’iz”
 && m_tok’iz”->
w–lFÜmed
();

1802 
	gm_tok’iz”
.
ş—r
();

1805 
	gm_docLßd”
->
ş—rP»lßds
();

1808 ià(!
	gthis
->
body
(è&& 
isHTMLDocum’t
()) {

1809 ià(
Node
* 
	gdocum’tEËm’t
 = 
this
->
docum’tEËm’t
()) {

1810 
Exû±iÚCode
 
ec
 = 0;

1813 ià(!
h—d
(è&& 
shouldC»©eIm¶ic™H—d
(
this
)) {

1814 
	gdocum’tEËm’t
->
­³ndChd
(
Ãw
 
HTMLH—dEËm’t
(
h—dTag
, 
this
), 
ec
);

1815 
ASSERT
(!
ec
);

1817 
	gdocum’tEËm’t
->
­³ndChd
(
Ãw
 
HTMLBodyEËm’t
(
bodyTag
, 
this
), 
ec
);

1818 
ASSERT
(!
ec
);

1828 
F¿me
* 
	gf
 = 
äame
();

1829 ià(
	gf
)

1830 
	gf
->
lßd”
()->
¡¬tIcÚLßd”
();

1833 ià(
	gf
)

1834 
	gf
->
ªim©iÚ
()->
»sumeAnim©iÚs
(
this
);

1836 
	gImageLßd”
::
di¥©chP’dšgBefÜeLßdEv’ts
();

1837 
	gImageLßd”
::
di¥©chP’dšgLßdEv’ts
();

1838 
di¥©chWšdowLßdEv’t
();

1839 
’queuePageshowEv’t
(
PageshowEv’tNÙP”si¡ed
);

1840 ià(
	gm_³ndšgS‹Objeù
)

1841 
’queuePİ¡©eEv’t
(
m_³ndšgS‹Objeù
.
»Ëa£
());

1843 ià(
	gf
)

1844 
	gf
->
lßd”
()->
hªdËdOÆßdEv’ts
();

1845 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


1846 ià(!
owÃrEËm’t
())

1847 
´štf
("Úlßd fœed‡ˆ%d\n", 
–­£dTime
());

1850 
	gm_´oûssšgLßdEv’t
 = 
çl£
;

1853 ià(!
äame
())

1860 ià(
äame
()->
»dœeùScheduËr
()->
loÿtiÚChªgeP’dšg
(è&& 
–­£dTime
(è< 
	gcLayoutScheduËTh»shŞd
) {

1863 
v›w
()->
unscheduËR–ayout
();

1867 
äame
()->
lßd”
()->
checkC®lIm¶ic™Clo£
();

1868 
R’d”Objeù
* 
	g»nd”Objeù
 = 
»nd””
();

1873 
	gm_ov”MšimumLayoutTh»shŞd
 = 
Œue
;

1874 ià(!
owÃrEËm’t
(è|| (owÃrEËm’t()->
»nd””
(è&& !owÃrEËm’t()->»nd””()->
ÃedsLayout
())) {

1875 
upd©eStyËIfN“ded
();

1878 ià(
v›w
(è&& 
	g»nd”Objeù
 && (!»nd”Objeù->
fœ¡Chd
(è||„’d”Objeù->
ÃedsLayout
()))

1879 
v›w
()->
Ïyout
();

1882 #ià
PLATFORM
(
MAC
)

1883 ià(
	gf
 && 
	g»nd”Objeù
 && 
	gthis
 =ğ
tİDocum’t
(è&& 
AXObjeùCache
::
acûssib™yEÇbËd
()) {

1888 
axObjeùCache
()->
g‘OrC»©e
(
»nd”Objeù
);

1889 
axObjeùCache
()->
po¡NÙifiÿtiÚ
(
»nd”Objeù
, 
AXObjeùCache
::
AXLßdCom¶‘e
, 
Œue
);

1893 #ià
ENABLE
(
SVG
)

1897 ià(
svgEx‹nsiÚs
())

1898 
acûssSVGEx‹nsiÚs
()->
¡¬tAnim©iÚs
();

1902 
	gDocum’t
::
£tP¬sšg
(
boŞ
 
b
)

1904 
m_bP¬sšg
 = 
b
;

1905 ià(!
	gm_bP¬sšg
 && 
v›w
())

1906 
v›w
()->
scheduËR–ayout
();

1908 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


1909 ià(!
owÃrEËm’t
(è&& !
	gm_bP¬sšg
)

1910 
´štf
("P¬sšg fšished‡ˆ%d\n", 
–­£dTime
());

1914 
boŞ
 
	gDocum’t
::
shouldScheduËLayout
()

1922  (
haveStyËsh“tsLßded
(è&& 
body
()) ||

1923 (
docum’tEËm’t
(è&& !docum’tEËm’t()->
hasTagName
(
htmlTag
));

1926 
	gDocum’t
::
mšimumLayoutD–ay
()

1928 ià(
m_ov”MšimumLayoutTh»shŞd
)

1929  
m_exŒaLayoutD–ay
;

1931 
	g–­£d
 = 
–­£dTime
();

1932 
	gm_ov”MšimumLayoutTh»shŞd
 = 
–­£d
 > 
cLayoutScheduËTh»shŞd
;

1935  
max
(0, 
cLayoutScheduËTh»shŞd
 - 
–­£d
è+ 
	gm_exŒaLayoutD–ay
;

1938 
	gDocum’t
::
–­£dTime
() const

1940  
¡©ic_ÿ¡
<>((
cu¼’tTime
(è- 
m_¡¬tTime
) * 1000);

1943 
	gDocum’t
::
wr™e
(cÚ¡ 
Segm’‹dSŒšg
& 
‹xt
, 
Docum’t
* 
owÃrDocum’t
)

1945 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


1946 ià(!
owÃrEËm’t
())

1947 
´štf
("Begšnšg‡ docum’t.wr™© %d\n", 
–­£dTime
());

1950 ià(!
	gm_tok’iz”
)

1951 
İ’
(
owÃrDocum’t
);

1953 
ASSERT
(
m_tok’iz”
);

1954 
	gm_tok’iz”
->
wr™e
(
‹xt
, 
çl£
);

1956 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


1957 ià(!
owÃrEËm’t
())

1958 
´štf
("Endšg‡ docum’t.wr™© %d\n", 
–­£dTime
());

1962 
	gDocum’t
::
wr™e
(cÚ¡ 
SŒšg
& 
‹xt
, 
Docum’t
* 
owÃrDocum’t
)

1964 
wr™e
(
Segm’‹dSŒšg
(
‹xt
), 
owÃrDocum’t
);

1967 
	gDocum’t
::
wr™–n
(cÚ¡ 
SŒšg
& 
‹xt
, 
Docum’t
* 
owÃrDocum’t
)

1969 
wr™e
(
‹xt
, 
owÃrDocum’t
);

1970 
wr™e
("\n", 
owÃrDocum’t
);

1973 
	gDocum’t
::
fšishP¬sšg
()

1975 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


1976 ià(!
owÃrEËm’t
())

1977 
´štf
("Reûived‡Î d©¨© %d\n", 
–­£dTime
());

1985 ià(
	gm_tok’iz”
)

1986 
	gm_tok’iz”
->
fšish
();

1989 cÚ¡ 
	gKURL
& 
	gDocum’t
::
vœtu®URL
() const

1991  
m_u¾
;

1994 
KURL
 
	gDocum’t
::
vœtu®Com¶‘eURL
(cÚ¡ 
SŒšg
& 
u¾
) const

1996  
com¶‘eURL
(
u¾
);

1999 
	gDocum’t
::
£tURL
(cÚ¡ 
KURL
& 
u¾
)

2001 cÚ¡ 
KURL
& 
ÃwURL
 = 
u¾
.
isEm±y
(è? 
bÏnkURL
() : url;

2002 ià(
	gÃwURL
 =ğ
m_u¾
)

2005 
	gm_u¾
 = 
ÃwURL
;

2006 
	gm_docum’tURI
 = 
m_u¾
.
¡ršg
();

2007 
upd©eBa£URL
();

2010 
	gDocum’t
::
£tBa£EËm’tURL
(cÚ¡ 
KURL
& 
ba£EËm’tURL
)

2012 
m_ba£EËm’tURL
 = 
ba£EËm’tURL
;

2013 
upd©eBa£URL
();

2016 
	gDocum’t
::
upd©eBa£URL
()

2021 ià(
m_ba£EËm’tURL
.
isEm±y
()) {

2024 
m_ba£URL
 = 
KURL
(KURL(), 
docum’tURI
());

2026 
	gm_ba£URL
 = 
m_ba£EËm’tURL
;

2027 ià(!
	gm_ba£URL
.
isV®id
())

2028 
	gm_ba£URL
 = 
KURL
();

2030 ià(
	gm_–emSh“t
)

2031 
	gm_–emSh“t
->
£tFš®URL
(
m_ba£URL
);

2032 ià(
	gm_m­³dEËm’tSh“t
)

2033 
	gm_m­³dEËm’tSh“t
->
£tFš®URL
(
m_ba£URL
);

2036 
SŒšg
 
	gDocum’t
::
u£rAg’t
(cÚ¡ 
KURL
& 
u¾
) const

2038  
äame
(è? f¿me()->
lßd”
()->
u£rAg’t
(
u¾
è: 
SŒšg
();

2041 
CSSStyËSh“t
* 
	gDocum’t
::
·geU£rSh“t
()

2043 ià(
m_·geU£rSh“t
)

2044  
m_·geU£rSh“t
.
g‘
();

2046 
Page
* 
	gownšgPage
 = 
·ge
();

2047 ià(!
	gownšgPage
)

2050 
SŒšg
 
	gu£rSh“tText
 = 
ownšgPage
->
u£rStyËSh“t
();

2051 ià(
	gu£rSh“tText
.
isEm±y
())

2055 
	gm_·geU£rSh“t
 = 
CSSStyËSh“t
::
ü—‹IÆše
(
this
, 
£‰šgs
()->
u£rStyËSh“tLoÿtiÚ
());

2056 
	gm_·geU£rSh“t
->
£tIsU£rStyËSh“t
(
Œue
);

2057 
	gm_·geU£rSh“t
->
·r£SŒšg
(
u£rSh“tText
, !
šCom·tMode
());

2058  
	gm_·geU£rSh“t
.
g‘
();

2061 
	gDocum’t
::
ş—rPageU£rSh“t
()

2063 
m_·geU£rSh“t
 = 0;

2064 
upd©eStyËS–eùÜ
();

2067 cÚ¡ 
	gVeùÜ
<
	gRefPŒ
<
	gCSSStyËSh“t
> >* 
	gDocum’t
::
·geGroupU£rSh“ts
() const

2069 ià(
m_·geGroupU£rSh“tCacheV®id
)

2070  
m_·geGroupU£rSh“ts
.
g‘
();

2072 
	gm_·geGroupU£rSh“tCacheV®id
 = 
Œue
;

2074 
Page
* 
	gownšgPage
 = 
·ge
();

2075 ià(!
	gownšgPage
)

2078 cÚ¡ 
	gPageGroup
& 
	g·geGroup
 = 
ownšgPage
->
group
();

2079 cÚ¡ 
U£rStyËSh“tM­
* 
	gsh“tsM­
 = 
·geGroup
.
u£rStyËSh“ts
();

2080 ià(!
	gsh“tsM­
)

2083 
	gU£rStyËSh“tM­
::
cÚ¡_™”©Ü
 
’d
 = 
sh“tsM­
->end();

2084 
	gU£rStyËSh“tM­
::
cÚ¡_™”©Ü
 
™
 = 
sh“tsM­
->
begš
(); 
	g™
 !ğ
’d
; ++it) {

2085 cÚ¡ 
U£rStyËSh“tVeùÜ
* 
	gsh“ts
 = 
™
->
£cÚd
;

2086 
	gi
 = 0; i < 
	gsh“ts
->
size
(); ++i) {

2087 cÚ¡ 
U£rStyËSh“t
* 
	gsh“t
 = 
sh“ts
->
©
(
i
).
g‘
();

2088 ià(!
	gU£rCÚ‹ÁURLP©‹º
::
m©chesP©‹ºs
(
u¾
(), 
sh“t
->
wh™–i¡
(), sh“t->
bÏckli¡
()))

2090 
	gRefPŒ
<
	gCSSStyËSh“t
> 
	g·r£dSh“t
 = 
CSSStyËSh“t
::
ü—‹IÆše
(
cÚ¡_ÿ¡
<
Docum’t
*>(
this
), 
sh“t
->
u¾
());

2091 
	g·r£dSh“t
->
£tIsU£rStyËSh“t
(
Œue
);

2092 
	g·r£dSh“t
->
·r£SŒšg
(
sh“t
->
sourû
(), !
šCom·tMode
());

2093 ià(!
	gm_·geGroupU£rSh“ts
)

2094 
	gm_·geGroupU£rSh“ts
.
£t
(
Ãw
 
VeùÜ
<
RefPŒ
<
CSSStyËSh“t
> >);

2095 
	gm_·geGroupU£rSh“ts
->
­³nd
(
·r£dSh“t
.
»Ëa£
());

2099  
	gm_·geGroupU£rSh“ts
.
g‘
();

2102 
	gDocum’t
::
ş—rPageGroupU£rSh“ts
()

2104 
m_·geGroupU£rSh“ts
.
ş—r
();

2105 
	gm_·geGroupU£rSh“tCacheV®id
 = 
çl£
;

2106 
upd©eStyËS–eùÜ
();

2109 
CSSStyËSh“t
* 
	gDocum’t
::
–em’tSh“t
()

2111 ià(!
m_–emSh“t
)

2112 
m_–emSh“t
 = 
CSSStyËSh“t
::
ü—‹IÆše
(
this
, 
m_ba£URL
);

2113  
	gm_–emSh“t
.
g‘
();

2116 
CSSStyËSh“t
* 
	gDocum’t
::
m­³dEËm’tSh“t
()

2118 ià(!
m_m­³dEËm’tSh“t
)

2119 
m_m­³dEËm’tSh“t
 = 
CSSStyËSh“t
::
ü—‹IÆše
(
this
, 
m_ba£URL
);

2120  
	gm_m­³dEËm’tSh“t
.
g‘
();

2123 
Node
* 
ÃxtNodeW™hExaùTabIndex
(Node* 
¡¬t
, 
bIndex
, 
KeybßrdEv’t
* 
ev’t
)

2126 
Node
* 
	gn
 = 
¡¬t
;‚;‚ = 
n
->
Œav”£NextNode
())

2127 ià(
n
->
isKeybßrdFocu§bË
(
ev’t
è&&‚->
bIndex
() ==abIndex)

2128  
n
;

2133 
Node
* 
´eviousNodeW™hExaùTabIndex
(Node* 
¡¬t
, 
bIndex
, 
KeybßrdEv’t
* 
ev’t
)

2136 
Node
* 
	gn
 = 
¡¬t
;‚;‚ = 
n
->
Œav”£P»viousNode
())

2137 ià(
n
->
isKeybßrdFocu§bË
(
ev’t
è&&‚->
bIndex
() ==abIndex)

2138  
n
;

2143 
Node
* 
ÃxtNodeW™hG»©”TabIndex
(Node* 
¡¬t
, 
bIndex
, 
KeybßrdEv’t
* 
ev’t
)

2146 
	gwšnšgTabIndex
 = 
SHRT_MAX
 + 1;

2147 
Node
* 
	gwšÃr
 = 0;

2148 
Node
* 
	gn
 = 
¡¬t
;‚;‚ = 
n
->
Œav”£NextNode
())

2149 ià(
n
->
isKeybßrdFocu§bË
(
ev’t
è&&‚->
bIndex
(è>abIndex &&‚->bIndex(è< 
wšnšgTabIndex
) {

2150 
wšÃr
 = 
n
;

2151 
	gwšnšgTabIndex
 = 
n
->
bIndex
();

2154  
	gwšÃr
;

2157 
Node
* 
´eviousNodeW™hLow”TabIndex
(Node* 
¡¬t
, 
bIndex
, 
KeybßrdEv’t
* 
ev’t
)

2160 
	gwšnšgTabIndex
 = 0;

2161 
Node
* 
	gwšÃr
 = 0;

2162 
Node
* 
	gn
 = 
¡¬t
;‚;‚ = 
n
->
Œav”£P»viousNode
())

2163 ià(
n
->
isKeybßrdFocu§bË
(
ev’t
è&&‚->
bIndex
(è<abIndex &&‚->bIndex(è> 
wšnšgTabIndex
) {

2164 
wšÃr
 = 
n
;

2165 
	gwšnšgTabIndex
 = 
n
->
bIndex
();

2168  
	gwšÃr
;

2171 
Node
* 
	gDocum’t
::
ÃxtFocu§bËNode
(Node* 
¡¬t
, 
KeybßrdEv’t
* 
ev’t
)

2173 ià(
	g¡¬t
) {

2175 ià(
	g¡¬t
->
bIndex
() < 0) {

2176 
Node
* 
	gn
 = 
¡¬t
->
Œav”£NextNode
();‚;‚ = 
n
->traverseNextNode())

2177 ià(
n
->
isKeybßrdFocu§bË
(
ev’t
è&&‚->
bIndex
() >= 0)

2178  
n
;

2182 ià(
Node
* 
	gwšÃr
 = 
ÃxtNodeW™hExaùTabIndex
(
¡¬t
->
Œav”£NextNode
(), s¹->
bIndex
(), 
ev’t
))

2183  
	gwšÃr
;

2185 ià(
	g¡¬t
->
bIndex
() == 0)

2193 ià(
Node
* 
	gwšÃr
 = 
ÃxtNodeW™hG»©”TabIndex
(
this
, 
¡¬t
 ? s¹->
bIndex
(è: 0, 
ev’t
))

2194  
	gwšÃr
;

2198  
ÃxtNodeW™hExaùTabIndex
(
this
, 0, 
ev’t
);

2201 
Node
* 
	gDocum’t
::
´eviousFocu§bËNode
(Node* 
¡¬t
, 
KeybßrdEv’t
* 
ev’t
)

2203 
Node
* 
	gÏ¡
;

2204 
	gÏ¡
 = 
this
;†a¡->
Ï¡Chd
();†a¡ = 
Ï¡
->lastChild())

2209 
Node
* 
	g¡¬tšgNode
;

2210 
	g¡¬tšgTabIndex
;

2211 ià(
	g¡¬t
) {

2212 
	g¡¬tšgNode
 = 
¡¬t
->
Œav”£P»viousNode
();

2213 
	g¡¬tšgTabIndex
 = 
¡¬t
->
bIndex
();

2215 
	g¡¬tšgNode
 = 
Ï¡
;

2216 
	g¡¬tšgTabIndex
 = 0;

2220 ià(
	g¡¬tšgTabIndex
 < 0) {

2221 
Node
* 
	gn
 = 
¡¬tšgNode
;‚;‚ = 
n
->
Œav”£P»viousNode
())

2222 ià(
n
->
isKeybßrdFocu§bË
(
ev’t
è&&‚->
bIndex
() >= 0)

2223  
n
;

2226 ià(
Node
* 
	gwšÃr
 = 
´eviousNodeW™hExaùTabIndex
(
¡¬tšgNode
, 
¡¬tšgTabIndex
, 
ev’t
))

2227  
	gwšÃr
;

2232 
	g¡¬tšgTabIndex
 = (
¡¬t
 && s¹->
bIndex
()è? s¹->bIndex(è: 
SHRT_MAX
;

2233  
´eviousNodeW™hLow”TabIndex
(
Ï¡
, 
¡¬tšgTabIndex
, 
ev’t
);

2236 
	gDocum’t
::
nodeAbsIndex
(
Node
 *
node
)

2238 
ASSERT
(
node
->
docum’t
(è=ğ
this
);

2240 
	gabsIndex
 = 0;

2241 
Node
 *
	gn
 = 
node
;‚ &&‚ !ğ
this
;‚ = 
n
->
Œav”£P»viousNode
())

2242 
absIndex
++;

2243  
	gabsIndex
;

2246 
Node
 *
	gDocum’t
::
nodeW™hAbsIndex
(
absIndex
)

2248 
Node
 *
n
 = 
this
;

2249 
	gi
 = 0; 
	gn
 && (˜< 
	gabsIndex
); i++) {

2250 
	gn
 = 
n
->
Œav”£NextNode
();

2252  
	gn
;

2255 
	gDocum’t
::
´oûssH‰pEquiv
(cÚ¡ 
SŒšg
& 
equiv
, cÚ¡ SŒšg& 
cÚ‹Á
)

2257 
ASSERT
(!
equiv
.
isNuÎ
(è&& !
cÚ‹Á
.isNull());

2259 
F¿me
* 
	gäame
 = 
this
->
äame
();

2261 ià(
equ®IgnÜšgCa£
(
equiv
, "default-style")) {

2268 
	gm_£ËùedStyËsh“tS‘
 = 
cÚ‹Á
;

2269 
	gm_´eã¼edStyËsh“tS‘
 = 
cÚ‹Á
;

2270 
upd©eStyËS–eùÜ
();

2271 } ià(
equ®IgnÜšgCa£
(
equiv
, "refresh")) {

2272 
	gd–ay
;

2273 
SŒšg
 
	gu¾
;

2274 ià(
	gäame
 && 
·r£HTTPReäesh
(
cÚ‹Á
, 
Œue
, 
d–ay
, 
u¾
)) {

2275 ià(
	gu¾
.
isEm±y
())

2276 
	gu¾
 = 
äame
->
lßd”
()->
u¾
().
¡ršg
();

2278 
	gu¾
 = 
com¶‘eURL
(
u¾
).
¡ršg
();

2279 
	gäame
->
»dœeùScheduËr
()->
scheduËRedœeù
(
d–ay
, 
u¾
);

2281 } ià(
equ®IgnÜšgCa£
(
equiv
, "set-cookie")) {

2283 ià(
isHTMLDocum’t
()) {

2284 
Exû±iÚCode
 
	gec
;

2285 
	g¡©ic_ÿ¡
<
	gHTMLDocum’t
*>(
	gthis
)->
£tCook›
(
cÚ‹Á
, 
ec
);

2287 } ià(
equ®IgnÜšgCa£
(
equiv
, "content-language"))

2288 
£tCÚ‹ÁLªguage
(
cÚ‹Á
);

2289 ià(
equ®IgnÜšgCa£
(
equiv
, "x-dns-prefetch-control"))

2290 
·r£DNSP»ãtchCÚŒŞH—d”
(
cÚ‹Á
);

2291 ià(
equ®IgnÜšgCa£
(
equiv
, "x-frame-options")) {

2292 
F¿meLßd”
* 
	gäameLßd”
 = 
äame
->
lßd”
();

2293 ià(
	gäameLßd”
->
shouldIÁ”ru±LßdFÜXF¿meO±iÚs
(
cÚ‹Á
, 
u¾
())) {

2294 
	gäameLßd”
->
¡İAÎLßd”s
();

2295 
	gäame
->
»dœeùScheduËr
()->
scheduËLoÿtiÚChªge
(
bÏnkURL
(), 
SŒšg
());

2300 
Mou£Ev’tW™hH™Te¡ResuÉs
 
	gDocum’t
::
´•¬eMou£Ev’t
(cÚ¡ 
H™Te¡Reque¡
& 
»que¡
, cÚ¡ 
IÁPošt
& 
docum’tPošt
, cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
)

2302 
ASSERT
(!
»nd””
(è||„’d””()->
isR’d”V›w
());

2304 ià(!
»nd””
())

2305  
Mou£Ev’tW™hH™Te¡ResuÉs
(
ev’t
, 
H™Te¡ResuÉ
(
IÁPošt
()));

2307 
H™Te¡ResuÉ
 
»suÉ
(
docum’tPošt
);

2308 
»nd”V›w
()->
Ïy”
()->
h™Te¡
(
»que¡
, 
»suÉ
);

2310 ià(!
	g»que¡
.
»adOÆy
())

2311 
upd©eStyËIfN“ded
();

2313  
Mou£Ev’tW™hH™Te¡ResuÉs
(
ev’t
, 
»suÉ
);

2317 
boŞ
 
	gDocum’t
::
chdTy³AÎowed
(
NodeTy³
 
ty³
)

2319 
ty³
) {

2320 
ATTRIBUTE_NODE
:

2321 
CDATA_SECTION_NODE
:

2322 
DOCUMENT_FRAGMENT_NODE
:

2323 
DOCUMENT_NODE
:

2324 
ENTITY_NODE
:

2325 
ENTITY_REFERENCE_NODE
:

2326 
NOTATION_NODE
:

2327 
TEXT_NODE
:

2328 
XPATH_NAMESPACE_NODE
:

2329  
çl£
;

2330 
	gCOMMENT_NODE
:

2331 
PROCESSING_INSTRUCTION_NODE
:

2332  
Œue
;

2333 
	gDOCUMENT_TYPE_NODE
:

2334 
ELEMENT_NODE
:

2337 
Node
* 
c
 = 
fœ¡Chd
(); 
	gc
; c = c->
ÃxtSiblšg
())

2338 ià(
c
->
nodeTy³
(è=ğ
ty³
)

2339  
çl£
;

2340  
	gŒue
;

2342  
	gçl£
;

2345 
boŞ
 
	gDocum’t
::
ÿnR•ÏûChd
(
Node
* 
ÃwChd
, Node* 
ŞdChd
)

2347 ià(!
	gŞdChd
)

2349  
	gŒue
;

2351 ià(
	gŞdChd
->
nodeTy³
(è=ğ
ÃwChd
->nodeType())

2352  
Œue
;

2354 
	gnumDoùy³s
 = 0;

2355 
	gnumEËm’ts
 = 0;

2359 
Node
* 
	gc
 = 
fœ¡Chd
(); c; c = 
c
->
ÃxtSiblšg
()) {

2360 ià(
c
 =ğ
ŞdChd
)

2363 
	gc
->
nodeTy³
()) {

2364 
	gDOCUMENT_TYPE_NODE
:

2365 
numDoùy³s
++;

2367 
	gELEMENT_NODE
:

2368 
numEËm’ts
++;

2376 ià(
	gÃwChd
->
nodeTy³
(è=ğ
DOCUMENT_FRAGMENT_NODE
) {

2377 
Node
* 
c
 = 
fœ¡Chd
(); 
	gc
; c = c->
ÃxtSiblšg
()) {

2378 
c
->
nodeTy³
()) {

2379 
ATTRIBUTE_NODE
:

2380 
CDATA_SECTION_NODE
:

2381 
DOCUMENT_FRAGMENT_NODE
:

2382 
DOCUMENT_NODE
:

2383 
ENTITY_NODE
:

2384 
ENTITY_REFERENCE_NODE
:

2385 
NOTATION_NODE
:

2386 
TEXT_NODE
:

2387 
XPATH_NAMESPACE_NODE
:

2388  
çl£
;

2389 
	gCOMMENT_NODE
:

2390 
PROCESSING_INSTRUCTION_NODE
:

2392 
	gDOCUMENT_TYPE_NODE
:

2393 
numDoùy³s
++;

2395 
	gELEMENT_NODE
:

2396 
numEËm’ts
++;

2401 
	gÃwChd
->
nodeTy³
()) {

2402 
	gATTRIBUTE_NODE
:

2403 
CDATA_SECTION_NODE
:

2404 
DOCUMENT_FRAGMENT_NODE
:

2405 
DOCUMENT_NODE
:

2406 
ENTITY_NODE
:

2407 
ENTITY_REFERENCE_NODE
:

2408 
NOTATION_NODE
:

2409 
TEXT_NODE
:

2410 
XPATH_NAMESPACE_NODE
:

2411  
çl£
;

2412 
	gCOMMENT_NODE
:

2413 
PROCESSING_INSTRUCTION_NODE
:

2414  
Œue
;

2415 
	gDOCUMENT_TYPE_NODE
:

2416 
numDoùy³s
++;

2418 
	gELEMENT_NODE
:

2419 
numEËm’ts
++;

2424 ià(
	gnumEËm’ts
 > 1 || 
	gnumDoùy³s
 > 1)

2425  
	gçl£
;

2427  
	gŒue
;

2430 
	gPassRefPŒ
<
	gNode
> 
	gDocum’t
::
şÚeNode
(
boŞ
 )

2437 
StyËSh“tLi¡
* 
	gDocum’t
::
¡yËSh“ts
()

2439  
m_¡yËSh“ts
.
g‘
();

2442 
SŒšg
 
	gDocum’t
::
´eã¼edStyËsh“tS‘
() const

2444  
m_´eã¼edStyËsh“tS‘
;

2447 
SŒšg
 
	gDocum’t
::
£ËùedStyËsh“tS‘
() const

2449  
m_£ËùedStyËsh“tS‘
;

2452 
	gDocum’t
::
£tS–eùedStyËsh“tS‘
(cÚ¡ 
SŒšg
& 
aSŒšg
)

2454 
m_£ËùedStyËsh“tS‘
 = 
aSŒšg
;

2455 
upd©eStyËS–eùÜ
();

2456 ià(
»nd””
())

2457 
»nd””
()->
»·št
();

2461 
	gDocum’t
::
»moveP’dšgSh“t
()

2464 
ASSERT
(
m_³ndšgStyËsh“ts
 > 0);

2466 
	gm_³ndšgStyËsh“ts
--;

2468 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


2469 ià(!
owÃrEËm’t
())

2470 
´štf
("StyËsh“ˆlßded‡ˆtim%d. %d styËsh“t ¡È»maš.\n", 
–­£dTime
(), 
m_³ndšgStyËsh“ts
);

2473 
upd©eStyËS–eùÜ
();

2475 ià(!
	gm_³ndšgStyËsh“ts
 && 
	gm_tok’iz”
)

2476 
	gm_tok’iz”
->
execu‹SütsWa™šgFÜStyËsh“ts
();

2478 ià(!
	gm_³ndšgStyËsh“ts
 && 
	gm_gÙoAnchÜN“dedAá”StyËsh“tsLßd
 && 
v›w
())

2479 
v›w
()->
süŞlToF¿gm’t
(
m_äame
->
lßd”
()->
u¾
());

2482 
	gDocum’t
::
upd©eStyËS–eùÜ
()

2486 ià(!
m_didC®cuÏ‹StyËS–eùÜ
 && !
haveStyËsh“tsLßded
())

2489 ià(
didLayoutW™hP’dšgStyËsh“ts
(è&& 
	gm_³ndšgStyËsh“ts
 <= 0) {

2490 
m_³ndšgSh“tLayout
 = 
IgnÜeLayoutW™hP’dšgSh“ts
;

2491 ià(
»nd””
())

2492 
»nd””
()->
»·št
();

2495 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


2496 ià(!
owÃrEËm’t
())

2497 
´štf
("Begšnšg upd©oà¡yË s–eùÜ‡ˆtim%d.\n", 
–­£dTime
());

2500 
»ÿlcStyËS–eùÜ
();

2503 ià(
	gm_äame
)

2504 
	gm_äame
->
ªim©iÚ
()->
begšAnim©iÚUpd©e
();

2505 
»ÿlcStyË
(
FÜû
);

2506 ià(
	gm_äame
)

2507 
	gm_äame
->
ªim©iÚ
()->
’dAnim©iÚUpd©e
();

2509 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


2510 ià(!
owÃrEËm’t
())

2511 
´štf
("Fšished upd©oà¡yË s–eùÜ‡ˆtim%d\n", 
–­£dTime
());

2514 ià(
»nd””
()) {

2515 
»nd””
()->
£tN“dsLayoutAndP»fWidthsReÿlc
();

2516 ià(
v›w
())

2517 
v›w
()->
scheduËR–ayout
();

2521 
	gDocum’t
::
addStyËSh“tCªdid©eNode
(
Node
* 
node
, 
boŞ
 
ü—‹dByP¬£r
)

2527 ià((
	gü—‹dByP¬£r
 && 
body
()è|| 
	gm_¡yËSh“tCªdid©eNodes
.
isEm±y
()) {

2528 
	gm_¡yËSh“tCªdid©eNodes
.
add
(
node
);

2533 
	gLi¡HashS‘
<
	gNode
*>::
™”©Ü
 
begš
 = 
m_¡yËSh“tCªdid©eNodes
.begin();

2534 
	gLi¡HashS‘
<
	gNode
*>::
™”©Ü
 
’d
 = 
m_¡yËSh“tCªdid©eNodes
.end();

2535 
	gLi¡HashS‘
<
	gNode
*>::
™”©Ü
 
™
 = 
’d
;

2536 
Node
* 
	gfŞlowšgNode
 = 0;

2538 --
	g™
;

2539 
Node
* 
	gn
 = *
™
;

2540 
	gpos™iÚ
 = 
n
->
com·»Docum’tPos™iÚ
(
node
);

2541 ià(
	gpos™iÚ
 =ğ
DOCUMENT_POSITION_FOLLOWING
) {

2542 
m_¡yËSh“tCªdid©eNodes
.
š£¹BefÜe
(
fŞlowšgNode
, 
node
);

2545 
	gfŞlowšgNode
 = 
n
;

2546 } 
	g™
 !ğ
begš
);

2548 
	gm_¡yËSh“tCªdid©eNodes
.
š£¹BefÜe
(
fŞlowšgNode
, 
node
);

2551 
	gDocum’t
::
»moveStyËSh“tCªdid©eNode
(
Node
* 
node
)

2553 
m_¡yËSh“tCªdid©eNodes
.
»move
(
node
);

2556 
	gDocum’t
::
»ÿlcStyËS–eùÜ
()

2558 ià(!
»nd””
(è|| !
©ched
())

2561 
StyËSh“tVeùÜ
 
	gsh“ts
;

2563 
boŞ
 
	gm©chAuthÜAndU£rStyËs
 = 
Œue
;

2564 ià(
S‘tšgs
* 
	g£‰šgs
 = 
this
->
£‰šgs
())

2565 
m©chAuthÜAndU£rStyËs
 = 
£‰šgs
->
authÜAndU£rStyËsEÇbËd
();

2567 
	gLi¡HashS‘
<
	gNode
*>::
™”©Ü
 
begš
 = 
m_¡yËSh“tCªdid©eNodes
.begin();

2568 
	gLi¡HashS‘
<
	gNode
*>::
™”©Ü
 
’d
 = 
m_¡yËSh“tCªdid©eNodes
.end();

2569 ià(!
	gm©chAuthÜAndU£rStyËs
)

2570 
	g’d
 = 
begš
;

2571 
	gLi¡HashS‘
<
	gNode
*>::
™”©Ü
 
™
 = 
begš
; 
	g™
 !ğ
’d
; ++it) {

2572 
Node
* 
	gn
 = *
™
;

2574 
StyËSh“t
* 
	gsh“t
 = 0;

2576 ià(
	gn
->
nodeTy³
(è=ğ
PROCESSING_INSTRUCTION_NODE
) {

2578 
ProûssšgIn¡ruùiÚ
* 
pi
 = 
¡©ic_ÿ¡
<ProûssšgIn¡ruùiÚ*>(
n
);

2579 
	gsh“t
 = 
pi
->
sh“t
();

2580 #ià
ENABLE
(
XSLT
)

2582 ià(
	gpi
->
isXSL
(è&& !
ŒªsfÜmSourûDocum’t
()) {

2584 ià(!
·rsšg
())

2585 
­¶yXSLT¿nsfÜm
(
pi
);

2589 ià(!
	gsh“t
 && !
	gpi
->
loÿlH»f
().
isEm±y
()) {

2594 
EËm’t
* 
	g–em
 = 
g‘EËm’tById
(
pi
->
loÿlH»f
().
im¶
());

2595 ià(
	g–em
) {

2596 
SŒšg
 
sh“tText
("");

2597 
Node
* 
	gc
 = 
–em
->
fœ¡Chd
(); c; c = 
c
->
ÃxtSiblšg
()) {

2598 ià(
c
->
nodeTy³
(è=ğ
TEXT_NODE
 || c->nodeTy³(è=ğ
CDATA_SECTION_NODE
)

2599 
sh“tText
 +ğ
c
->
nodeV®ue
();

2602 
	gRefPŒ
<
	gCSSStyËSh“t
> 
	gcssSh“t
 = 
CSSStyËSh“t
::
ü—‹
(
this
);

2603 
	gcssSh“t
->
·r£SŒšg
(
sh“tText
);

2604 
	gpi
->
£tCSSStyËSh“t
(
cssSh“t
);

2605 
	gsh“t
 = 
cssSh“t
.
g‘
();

2608 } ià((
	gn
->
isHTMLEËm’t
(è&& (n->
hasTagName
(
lškTag
è||‚->hasTagName(
¡yËTag
)))

2609 #ià
ENABLE
(
SVG
)

2610 || (
	gn
->
isSVGEËm’t
(è&&‚->
hasTagName
(
SVGNames
::
¡yËTag
))

2613 
EËm’t
* 
e
 = 
¡©ic_ÿ¡
<EËm’t*>(
n
);

2614 
AtomicSŒšg
 
	gt™Ë
 = 
e
->
g‘A‰ribu‹
(
t™ËA‰r
);

2615 
boŞ
 
	g’abËdVŸSüt
 = 
çl£
;

2616 ià(
	ge
->
hasLoÿlName
(
lškTag
)) {

2618 
HTMLLškEËm’t
* 
	gl
 = 
¡©ic_ÿ¡
<HTMLLškEËm’t*>(
n
);

2619 ià(
	gl
->
isDi§bËd
())

2621 
	g’abËdVŸSüt
 = 
l
->
isEÇbËdVŸSüt
();

2622 ià(
	gl
->
isLßdšg
()) {

2624 ià(!
	g’abËdVŸSüt
 && !
	gt™Ë
.
isEm±y
(è&& 
	gm_´eã¼edStyËsh“tS‘
.isEmpty()) {

2625 cÚ¡ 
	gAtomicSŒšg
& 
	g»l
 = 
e
->
g‘A‰ribu‹
(
»lA‰r
);

2626 ià(!
	g»l
.
cÚšs
("alternate")) {

2627 
	gm_´eã¼edStyËsh“tS‘
 = 
t™Ë
;

2628 
	gm_£ËùedStyËsh“tS‘
 = 
t™Ë
;

2633 ià(!
	gl
->
sh“t
())

2634 
	gt™Ë
 = 
nuÎAtom
;

2639 #ià
ENABLE
(
SVG
)

2640 ià(
	gn
->
isSVGEËm’t
(è&&‚->
hasTagName
(
SVGNames
::
¡yËTag
))

2641 
sh“t
 = 
¡©ic_ÿ¡
<
SVGStyËEËm’t
*>(
n
)->sheet();

2644 ià(
	ge
->
hasLoÿlName
(
lškTag
))

2645 
	gsh“t
 = 
¡©ic_ÿ¡
<
HTMLLškEËm’t
*>(
n
)->
sh“t
();

2648 
	gsh“t
 = 
¡©ic_ÿ¡
<
HTMLStyËEËm’t
*>(
n
)->
sh“t
();

2653 ià(!
	g’abËdVŸSüt
 && !
	gt™Ë
.
isEm±y
()) {

2655 ià(
	gm_´eã¼edStyËsh“tS‘
.
isEm±y
()) {

2660 
AtomicSŒšg
 
	g»l
 = 
e
->
g‘A‰ribu‹
(
»lA‰r
);

2661 ià(
	ge
->
hasLoÿlName
(
¡yËTag
è|| !
	g»l
.
cÚšs
("alternate"))

2662 
	gm_´eã¼edStyËsh“tS‘
 = 
m_£ËùedStyËsh“tS‘
 = 
t™Ë
;

2665 ià(
	gt™Ë
 !ğ
m_´eã¼edStyËsh“tS‘
)

2666 
sh“t
 = 0;

2670 ià(
	gsh“t
)

2671 
	gsh“ts
.
­³nd
(
sh“t
);

2674 
	gm_¡yËSh“ts
->
sw­
(
sh“ts
);

2676 
	gm_¡yËS–eùÜ
.
ş—r
();

2677 
	gm_didC®cuÏ‹StyËS–eùÜ
 = 
Œue
;

2680 
	gDocum’t
::
£tHov”Node
(
PassRefPŒ
<
Node
> 
ÃwHov”Node
)

2682 
m_hov”Node
 = 
ÃwHov”Node
;

2685 
	gDocum’t
::
£tAùiveNode
(
PassRefPŒ
<
Node
> 
ÃwAùiveNode
)

2687 
m_aùiveNode
 = 
ÃwAùiveNode
;

2690 
	gDocum’t
::
focu£dNodeRemoved
()

2692 
£tFocu£dNode
(0);

2695 
	gDocum’t
::
»moveFocu£dNodeOfSubŒ“
(
Node
* 
node
, 
boŞ
 
amÚgChd»nOÆy
)

2697 ià(!
	gm_focu£dNode
 || 
	gthis
->
šPageCache
())

2700 
boŞ
 
	gnodeInSubŒ“
 = 
çl£
;

2701 ià(
	gamÚgChd»nOÆy
)

2702 
	gnodeInSubŒ“
 = 
m_focu£dNode
->
isDesûndªtOf
(
node
);

2704 
	gnodeInSubŒ“
 = (
m_focu£dNode
 =ğ
node
è|| m_focu£dNode->
isDesûndªtOf
(node);

2706 ià(
	gnodeInSubŒ“
)

2707 
docum’t
()->
focu£dNodeRemoved
();

2710 
	gDocum’t
::
hov”edNodeD‘ached
(
Node
* 
node
)

2712 ià(!
m_hov”Node
 || (
node
 !ğm_hov”Nod&& (!m_hov”Node->
isTextNode
(è||‚od!ğm_hov”Node->
·»Á
())))

2715 
	gm_hov”Node
 = 
node
->
·»Á
();

2716 
	gm_hov”Node
 && !m_hov”Node->
»nd””
())

2717 
	gm_hov”Node
 = 
m_hov”Node
->
·»Á
();

2718 ià(
äame
())

2719 
äame
()->
ev’tHªdËr
()->
scheduËHov”S‹Upd©e
();

2722 
	gDocum’t
::
aùiveChašNodeD‘ached
(
Node
* 
node
)

2724 ià(!
m_aùiveNode
 || (
node
 !ğm_aùiveNod&& (!m_aùiveNode->
isTextNode
(è||‚od!ğm_aùiveNode->
·»Á
())))

2727 
	gm_aùiveNode
 = 
node
->
·»Á
();

2728 
	gm_aùiveNode
 && !m_aùiveNode->
»nd””
())

2729 
	gm_aùiveNode
 = 
m_aùiveNode
->
·»Á
();

2732 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

2733 cÚ¡ 
	gVeùÜ
<
	gDashbßrdRegiÚV®ue
>& 
	gDocum’t
::
dashbßrdRegiÚs
() const

2735  
m_dashbßrdRegiÚs
;

2738 
	gDocum’t
::
£tDashbßrdRegiÚs
(cÚ¡ 
VeùÜ
<
DashbßrdRegiÚV®ue
>& 
»giÚs
)

2740 
m_dashbßrdRegiÚs
 = 
»giÚs
;

2741 
£tDashbßrdRegiÚsDœty
(
çl£
);

2745 
boŞ
 
	gDocum’t
::
£tFocu£dNode
(
PassRefPŒ
<
Node
> 
ÃwFocu£dNode
)

2748 ià(
ÃwFocu£dNode
 && (ÃwFocu£dNode->
docum’t
(è!ğ
this
))

2749  
Œue
;

2751 ià(
	gm_focu£dNode
 =ğ
ÃwFocu£dNode
)

2752  
Œue
;

2754 ià(
	gm_šPageCache
)

2755  
	gçl£
;

2757 
boŞ
 
	gfocusChªgeBlocked
 = 
çl£
;

2758 
	gRefPŒ
<
	gNode
> 
	gŞdFocu£dNode
 = 
m_focu£dNode
;

2759 
	gm_focu£dNode
 = 0;

2762 ià(
	gŞdFocu£dNode
 && !ŞdFocu£dNode->
	gm_šD‘ach
) {

2763 ià(
	gŞdFocu£dNode
->
aùive
())

2764 
	gŞdFocu£dNode
->
£tAùive
(
çl£
);

2766 
	gŞdFocu£dNode
->
£tFocus
(
çl£
);

2769 
R’d”Objeù
* 
	gr
 = 
ŞdFocu£dNode
->
»nd””
();

2770 ià(
	gr
 &&„->
isTextCÚŒŞ
(è&& 
toR’d”TextCÚŒŞ
(
r
)->
wasChªgedSšûLa¡ChªgeEv’t
()) {

2771 
	g¡©ic_ÿ¡
<
	gEËm’t
*>(
	gŞdFocu£dNode
.
g‘
())->
di¥©chFÜmCÚŒŞChªgeEv’t
();

2772 
	gr
 = 
ŞdFocu£dNode
->
»nd””
();

2773 ià(
	gr
 &&„->
isTextCÚŒŞ
())

2774 
toR’d”TextCÚŒŞ
(
r
)->
£tChªgedSšûLa¡ChªgeEv’t
(
çl£
);

2778 
	gŞdFocu£dNode
->
di¥©chBlurEv’t
();

2780 ià(
	gm_focu£dNode
) {

2782 
	gfocusChªgeBlocked
 = 
Œue
;

2783 
	gÃwFocu£dNode
 = 0;

2786 
	gŞdFocu£dNode
->
di¥©chUIEv’t
(
ev’tNames
().
focusoutEv’t
, 0, 0);

2788 ià(
	gm_focu£dNode
) {

2790 
	gfocusChªgeBlocked
 = 
Œue
;

2791 
	gÃwFocu£dNode
 = 0;

2793 ià(
	gŞdFocu£dNode
 =ğ
this
 && 
ŞdFocu£dNode
->
hasOÃRef
())

2794  
Œue
;

2796 ià(
	gŞdFocu£dNode
 =ğ
ŞdFocu£dNode
->
roÙEd™abËEËm’t
())

2797 
äame
()->
ed™Ü
()->
didEndEd™šg
();

2800 ià(
	gÃwFocu£dNode
) {

2801 ià(
	gÃwFocu£dNode
 =ğ
ÃwFocu£dNode
->
roÙEd™abËEËm’t
(è&& !
acû±sEd™šgFocus
ÒewFocu£dNode.
g‘
())) {

2803 
focusChªgeBlocked
 = 
Œue
;

2804 
	gS‘Focu£dNodeDÚe
;

2807 
	gm_focu£dNode
 = 
ÃwFocu£dNode
.
g‘
();

2810 
	gm_focu£dNode
->
di¥©chFocusEv’t
();

2812 ià(
	gm_focu£dNode
 !ğ
ÃwFocu£dNode
) {

2814 
focusChªgeBlocked
 = 
Œue
;

2815 
	gS‘Focu£dNodeDÚe
;

2818 
	gm_focu£dNode
->
di¥©chUIEv’t
(
ev’tNames
().
focusšEv’t
, 0, 0);

2820 ià(
	gm_focu£dNode
 !ğ
ÃwFocu£dNode
) {

2822 
focusChªgeBlocked
 = 
Œue
;

2823 
	gS‘Focu£dNodeDÚe
;

2825 
	gm_focu£dNode
->
£tFocus
();

2827 ià(
	gm_focu£dNode
 =ğ
m_focu£dNode
->
roÙEd™abËEËm’t
())

2828 
äame
()->
ed™Ü
()->
didBegšEd™šg
();

2832 ià(
v›w
()) {

2833 
Widg‘
 *
	gfocusWidg‘
 = 
widg‘FÜNode
(
m_focu£dNode
.
g‘
());

2834 ià(
	gfocusWidg‘
) {

2838 
upd©eLayout
();

2840 
	gfocusWidg‘
 = 
widg‘FÜNode
(
m_focu£dNode
.
g‘
());

2842 ià(
	gfocusWidg‘
)

2843 
	gfocusWidg‘
->
£tFocus
();

2845 
v›w
()->
£tFocus
();

2849 #ià((
PLATFORM
(
MAC
è|| PLATFORM(
WIN
)è&& !PLATFORM(
CHROMIUM
)è|| PLATFORM(
GTK
)

2850 ià(!
	gfocusChªgeBlocked
 && 
	gm_focu£dNode
 && 
	gAXObjeùCache
::
acûssib™yEÇbËd
()) {

2851 
R’d”Objeù
* 
ŞdFocu£dR’d””
 = 0;

2852 
R’d”Objeù
* 
	gÃwFocu£dR’d””
 = 0;

2854 ià(
	gŞdFocu£dNode
)

2855 
	gŞdFocu£dR’d””
 = 
ŞdFocu£dNode
->
»nd””
();

2856 ià(
	gÃwFocu£dNode
)

2857 
	gÃwFocu£dR’d””
 = 
ÃwFocu£dNode
->
»nd””
();

2859 
axObjeùCache
()->
hªdËFocu£dUIEËm’tChªged
(
ŞdFocu£dR’d””
, 
ÃwFocu£dR’d””
);

2862 ià(!
	gfocusChªgeBlocked
)

2863 
·ge
()->
chrome
()->
focu£dNodeChªged
(
m_focu£dNode
.
g‘
());

2865 
	gS‘Focu£dNodeDÚe
:

2866 
upd©eStyËIfN“ded
();

2867  !
	gfocusChªgeBlocked
;

2870 
	gDocum’t
::
g‘Focu§bËNodes
(
VeùÜ
<
RefPŒ
<
Node
> >& 
nodes
)

2872 
upd©eLayout
();

2874 
Node
* 
	gnode
 = 
fœ¡Chd
();‚ode;‚odğ
node
->
Œav”£NextNode
()) {

2875 ià(
node
->
isFocu§bË
())

2876 
nodes
.
­³nd
(
node
);

2880 
	gDocum’t
::
£tCSST¬g‘
(
EËm’t
* 
n
)

2882 ià(
m_cssT¬g‘
)

2883 
m_cssT¬g‘
->
£tN“dsStyËReÿlc
();

2884 
	gm_cssT¬g‘
 = 
n
;

2885 ià(
	gn
)

2886 
	gn
->
£tN“dsStyËReÿlc
();

2889 
	gDocum’t
::
©chNodeI‹¿tÜ
(
NodeI‹¿tÜ
 *
ni
)

2891 
m_nodeI‹¿tÜs
.
add
(
ni
);

2894 
	gDocum’t
::
d‘achNodeI‹¿tÜ
(
NodeI‹¿tÜ
 *
ni
)

2896 
m_nodeI‹¿tÜs
.
»move
(
ni
);

2899 
	gDocum’t
::
nodeChd»nChªged
(
CÚš”Node
* 
cÚš”
)

2901 ià(!
di§bËRªgeMutiÚ
(
·ge
())) {

2902 
HashS‘
<
Rªge
*>::
cÚ¡_™”©Ü
 
’d
 = 
m_¿nges
.end();

2903 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
™
 = 
m_¿nges
.
begš
(); 
	g™
 !ğ
’d
; ++it)

2904 (*
	g™
)->
nodeChd»nChªged
(
cÚš”
);

2908 
	gDocum’t
::
nodeWlBeRemoved
(
Node
* 
n
)

2910 
HashS‘
<
NodeI‹¿tÜ
*>::
cÚ¡_™”©Ü
 
nodeI‹¿tÜsEnd
 = 
m_nodeI‹¿tÜs
.
’d
();

2911 
	gHashS‘
<
	gNodeI‹¿tÜ
*>::
cÚ¡_™”©Ü
 
™
 = 
m_nodeI‹¿tÜs
.
begš
(); 
	g™
 !ğ
nodeI‹¿tÜsEnd
; ++it)

2912 (*
	g™
)->
nodeWlBeRemoved
(
n
);

2914 ià(!
di§bËRªgeMutiÚ
(
·ge
())) {

2915 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
¿ngesEnd
 = 
m_¿nges
.
’d
();

2916 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
™
 = 
m_¿nges
.
begš
(); 
	g™
 !ğ
¿ngesEnd
; ++it)

2917 (*
	g™
)->
nodeWlBeRemoved
(
n
);

2920 ià(
F¿me
* 
	gäame
 = 
this
->
äame
()) {

2921 
äame
->
£ËùiÚ
()->
nodeWlBeRemoved
(
n
);

2922 
	gäame
->
d¿gC¬‘CÚŒŞËr
()->
nodeWlBeRemoved
(
n
);

2926 
	gDocum’t
::
‹xtIn£¹ed
(
Node
* 
‹xt
, 
off£t
, 
Ëngth
)

2928 ià(!
di§bËRªgeMutiÚ
(
·ge
())) {

2929 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
’d
 = 
m_¿nges
.end();

2930 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
™
 = 
m_¿nges
.
begš
(); 
	g™
 !ğ
’d
; ++it)

2931 (*
	g™
)->
‹xtIn£¹ed
(
‹xt
, 
off£t
, 
Ëngth
);

2935 
shiáM¬k”s
(
‹xt
, 
off£t
, 
Ëngth
);

2938 
	gDocum’t
::
‹xtRemoved
(
Node
* 
‹xt
, 
off£t
, 
Ëngth
)

2940 ià(!
di§bËRªgeMutiÚ
(
·ge
())) {

2941 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
’d
 = 
m_¿nges
.end();

2942 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
™
 = 
m_¿nges
.
begš
(); 
	g™
 !ğ
’d
; ++it)

2943 (*
	g™
)->
‹xtRemoved
(
‹xt
, 
off£t
, 
Ëngth
);

2947 
»moveM¬k”s
(
‹xt
, 
off£t
, 
Ëngth
);

2948 
shiáM¬k”s
(
‹xt
, 
off£t
 + 
Ëngth
, 0 -†ength);

2951 
	gDocum’t
::
‹xtNodesM”ged
(
Text
* 
ŞdNode
, 
off£t
)

2953 ià(!
di§bËRªgeMutiÚ
(
·ge
())) {

2954 
NodeW™hIndex
 
ŞdNodeW™hIndex
(
ŞdNode
);

2955 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
’d
 = 
m_¿nges
.end();

2956 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
™
 = 
m_¿nges
.
begš
(); 
	g™
 !ğ
’d
; ++it)

2957 (*
	g™
)->
‹xtNodesM”ged
(
ŞdNodeW™hIndex
, 
off£t
);

2963 
	gDocum’t
::
‹xtNodeS¶™
(
Text
* 
ŞdNode
)

2965 ià(!
di§bËRªgeMutiÚ
(
·ge
())) {

2966 
HashS‘
<
Rªge
*>::
cÚ¡_™”©Ü
 
’d
 = 
m_¿nges
.end();

2967 
	gHashS‘
<
	gRªge
*>::
cÚ¡_™”©Ü
 
™
 = 
m_¿nges
.
begš
(); 
	g™
 !ğ
’d
; ++it)

2968 (*
	g™
)->
‹xtNodeS¶™
(
ŞdNode
);

2975 
DOMWšdow
* 
	gDocum’t
::
domWšdow
() const

2977 ià(!
äame
())

2982 ià(
	gm_äame
->
docum’t
(è!ğ
this
)

2985  
äame
()->
domWšdow
();

2988 
	gDocum’t
::
£tWšdowA‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
)

2990 
DOMWšdow
* 
	gdomWšdow
 = 
this
->
domWšdow
();

2991 ià(!
	gdomWšdow
)

2993 
	gdomWšdow
->
£tA‰ribu‹Ev’tLi¡’”
(
ev’tTy³
, 
li¡’”
);

2996 
Ev’tLi¡’”
* 
	gDocum’t
::
g‘WšdowA‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
)

2998 
DOMWšdow
* 
domWšdow
 = 
this
->domWindow();

2999 ià(!
	gdomWšdow
)

3001  
	gdomWšdow
->
g‘A‰ribu‹Ev’tLi¡’”
(
ev’tTy³
);

3004 
	gDocum’t
::
di¥©chWšdowEv’t
(
PassRefPŒ
<
Ev’t
> 
ev’t
, PassRefPŒ<
Ev’tT¬g‘
> 
rg‘
)

3006 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

3007 
DOMWšdow
* 
	gdomWšdow
 = 
this
->
domWšdow
();

3008 ià(!
	gdomWšdow
)

3010 
	gdomWšdow
->
di¥©chEv’t
(
ev’t
, 
rg‘
);

3013 
	gDocum’t
::
di¥©chWšdowLßdEv’t
()

3015 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

3016 
DOMWšdow
* 
	gdomWšdow
 = 
this
->
domWšdow
();

3017 ià(!
	gdomWšdow
)

3019 
	gdomWšdow
->
di¥©chLßdEv’t
();

3022 
	gDocum’t
::
’queueEv’t
(
PassRefPŒ
<
Ev’t
> 
ev’t
)

3024 
m_³ndšgEv’tQueue
.
­³nd
(
ev’t
);

3025 ià(!
	gm_³ndšgEv’tTim”
.
isAùive
())

3026 
	gm_³ndšgEv’tTim”
.
¡¬tOÃShÙ
(0);

3029 
	gDocum’t
::
³ndšgEv’tTim”Fœed
(
Tim”
<
Docum’t
>*)

3031 
ASSERT
(!
m_³ndšgEv’tTim”
.
isAùive
());

3032 
	gVeùÜ
<
	gRefPŒ
<
	gEv’t
> > 
	gev’tQueue
;

3033 
	gev’tQueue
.
sw­
(
m_³ndšgEv’tQueue
);

3035 
	gVeùÜ
<
	tRefPŒ
<
	tEv’t
> >::
	tcÚ¡_™”©Ü
 
	tI‹¿tÜ
;

3036 
I‹¿tÜ
 
	g’d
 = 
ev’tQueue
.
’d
();

3037 
I‹¿tÜ
 
	g™
 = 
ev’tQueue
.
begš
(); iˆ!ğ
’d
; ++it)

3038 
di¥©chWšdowEv’t
(*
™
);

3041 
	gPassRefPŒ
<
	gEv’t
> 
	gDocum’t
::
ü—‹Ev’t
(cÚ¡ 
SŒšg
& 
ev’tTy³
, 
Exû±iÚCode
& 
ec
)

3043 
	gRefPŒ
<
	gEv’t
> 
	gev’t
;

3044 ià(
	gev’tTy³
 =ğ"Ev’t" || 
ev’tTy³
 == "Events" ||ƒventType == "HTMLEvents")

3045 
ev’t
 = 
Ev’t
::
ü—‹
();

3046 ià(
	gev’tTy³
 == "CustomEvent")

3047 
ev’t
 = 
Cu¡omEv’t
::
ü—‹
();

3048 ià(
	gev’tTy³
 =ğ"KeybßrdEv’t" || 
ev’tTy³
 == "KeyboardEvents")

3049 
ev’t
 = 
KeybßrdEv’t
::
ü—‹
();

3050 ià(
	gev’tTy³
 == "MessageEvent")

3051 
ev’t
 = 
Mes§geEv’t
::
ü—‹
();

3052 ià(
	gev’tTy³
 =ğ"Mou£Ev’t" || 
ev’tTy³
 == "MouseEvents")

3053 
ev’t
 = 
Mou£Ev’t
::
ü—‹
();

3054 ià(
	gev’tTy³
 =ğ"MutiÚEv’t" || 
ev’tTy³
 == "MutationEvents")

3055 
ev’t
 = 
MutiÚEv’t
::
ü—‹
();

3056 ià(
	gev’tTy³
 == "OverflowEvent")

3057 
ev’t
 = 
Ov”æowEv’t
::
ü—‹
();

3058 ià(
	gev’tTy³
 == "PageTransitionEvent")

3059 
ev’t
 = 
PageT¿ns™iÚEv’t
::
ü—‹
();

3060 ià(
	gev’tTy³
 == "ProgressEvent")

3061 
ev’t
 = 
Prog»ssEv’t
::
ü—‹
();

3062 #ià
ENABLE
(
DOM_STORAGE
)

3063 ià(
	gev’tTy³
 == "StorageEvent")

3064 
ev’t
 = 
StÜageEv’t
::
ü—‹
();

3066 ià(
	gev’tTy³
 == "TextEvent")

3067 
ev’t
 = 
TextEv’t
::
ü—‹
();

3068 ià(
	gev’tTy³
 =ğ"UIEv’t" || 
ev’tTy³
 == "UIEvents")

3069 
ev’t
 = 
UIEv’t
::
ü—‹
();

3070 ià(
	gev’tTy³
 == "WebKitAnimationEvent")

3071 
ev’t
 = 
WebK™Anim©iÚEv’t
::
ü—‹
();

3072 ià(
	gev’tTy³
 == "WebKitTransitionEvent")

3073 
ev’t
 = 
WebK™T¿ns™iÚEv’t
::
ü—‹
();

3074 ià(
	gev’tTy³
 == "WheelEvent")

3075 
ev’t
 = 
Wh“lEv’t
::
ü—‹
();

3076 #ià
ENABLE
(
SVG
)

3077 ià(
	gev’tTy³
 == "SVGEvents")

3078 
ev’t
 = 
Ev’t
::
ü—‹
();

3079 ià(
	gev’tTy³
 == "SVGZoomEvents")

3080 
ev’t
 = 
SVGZoomEv’t
::
ü—‹
();

3082 #ià
ENABLE
(
TOUCH_EVENTS
)

3083 ià(
	gev’tTy³
 == "TouchEvent")

3084 
ev’t
 = 
TouchEv’t
::
ü—‹
();

3086 ià(
	gev’t
)

3087  
	gev’t
.
»Ëa£
();

3089 
	gec
 = 
NOT_SUPPORTED_ERR
;

3093 
	gDocum’t
::
addLi¡’”Ty³IfN“ded
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
)

3095 ià(
ev’tTy³
 =ğ
ev’tNames
().
DOMSubŒ“Modif›dEv’t
)

3096 
addLi¡’”Ty³
(
DOMSUBTREEMODIFIED_LISTENER
);

3097 ià(
	gev’tTy³
 =ğ
ev’tNames
().
DOMNodeIn£¹edEv’t
)

3098 
addLi¡’”Ty³
(
DOMNODEINSERTED_LISTENER
);

3099 ià(
	gev’tTy³
 =ğ
ev’tNames
().
DOMNodeRemovedEv’t
)

3100 
addLi¡’”Ty³
(
DOMNODEREMOVED_LISTENER
);

3101 ià(
	gev’tTy³
 =ğ
ev’tNames
().
DOMNodeRemovedFromDocum’tEv’t
)

3102 
addLi¡’”Ty³
(
DOMNODEREMOVEDFROMDOCUMENT_LISTENER
);

3103 ià(
	gev’tTy³
 =ğ
ev’tNames
().
DOMNodeIn£¹edIÁoDocum’tEv’t
)

3104 
addLi¡’”Ty³
(
DOMNODEINSERTEDINTODOCUMENT_LISTENER
);

3105 ià(
	gev’tTy³
 =ğ
ev’tNames
().
DOMA‰rModif›dEv’t
)

3106 
addLi¡’”Ty³
(
DOMATTRMODIFIED_LISTENER
);

3107 ià(
	gev’tTy³
 =ğ
ev’tNames
().
DOMCh¬aù”D©aModif›dEv’t
)

3108 
addLi¡’”Ty³
(
DOMCHARACTERDATAMODIFIED_LISTENER
);

3109 ià(
	gev’tTy³
 =ğ
ev’tNames
().
ov”æowchªgedEv’t
)

3110 
addLi¡’”Ty³
(
OVERFLOWCHANGED_LISTENER
);

3111 ià(
	gev’tTy³
 =ğ
ev’tNames
().
webk™Anim©iÚS¹Ev’t
)

3112 
addLi¡’”Ty³
(
ANIMATIONSTART_LISTENER
);

3113 ià(
	gev’tTy³
 =ğ
ev’tNames
().
webk™Anim©iÚEndEv’t
)

3114 
addLi¡’”Ty³
(
ANIMATIONEND_LISTENER
);

3115 ià(
	gev’tTy³
 =ğ
ev’tNames
().
webk™Anim©iÚI‹¿tiÚEv’t
)

3116 
addLi¡’”Ty³
(
ANIMATIONITERATION_LISTENER
);

3117 ià(
	gev’tTy³
 =ğ
ev’tNames
().
webk™T¿ns™iÚEndEv’t
)

3118 
addLi¡’”Ty³
(
TRANSITIONEND_LISTENER
);

3119 ià(
	gev’tTy³
 =ğ
ev’tNames
().
befÜ–ßdEv’t
)

3120 
addLi¡’”Ty³
(
BEFORELOAD_LISTENER
);

3121 #ià
ENABLE
(
TOUCH_EVENTS
)

3122 ià(
	gev’tTy³
 =ğ
ev’tNames
().
touch¡¬tEv’t


3123 || 
ev’tTy³
 =ğ
ev’tNames
().
touchmoveEv’t


3124 || 
ev’tTy³
 =ğ
ev’tNames
().
touch’dEv’t


3125 || 
ev’tTy³
 =ğ
ev’tNames
().
touchÿnûlEv’t
) {

3126 
addLi¡’”Ty³
(
TOUCH_LISTENER
);

3127 ià(
Page
* 
	g·ge
 = 
this
->
·ge
())

3128 
·ge
->
chrome
()->
ş›Á
()->
ÃedTouchEv’ts
(
Œue
);

3133 
CSSStyËDeş¬©iÚ
* 
	gDocum’t
::
g‘Ov”rideStyË
(
EËm’t
*, cÚ¡ 
SŒšg
&)

3138 
EËm’t
* 
	gDocum’t
::
owÃrEËm’t
() const

3140 ià(!
äame
())

3142  
äame
()->
owÃrEËm’t
();

3145 
SŒšg
 
	gDocum’t
::
cook›
(
Exû±iÚCode
& 
ec
) const

3147 ià(
·ge
(è&& !·ge()->
cook›EÇbËd
())

3148  
SŒšg
();

3154 ià(!
£cur™yOrigš
()->
ÿnAcûssCook›s
()) {

3155 
	gec
 = 
SECURITY_ERR
;

3156  
SŒšg
();

3159 
KURL
 
	gcook›URL
 = 
this
->
cook›URL
();

3160 ià(
	gcook›URL
.
isEm±y
())

3161  
SŒšg
();

3163  
cook›s
(
this
, 
cook›URL
);

3166 
	gDocum’t
::
£tCook›
(cÚ¡ 
SŒšg
& 
v®ue
, 
Exû±iÚCode
& 
ec
)

3168 ià(
·ge
(è&& !·ge()->
cook›EÇbËd
())

3175 ià(!
£cur™yOrigš
()->
ÿnAcûssCook›s
()) {

3176 
	gec
 = 
SECURITY_ERR
;

3180 
KURL
 
	gcook›URL
 = 
this
->
cook›URL
();

3181 ià(
	gcook›URL
.
isEm±y
())

3184 
£tCook›s
(
this
, 
cook›URL
, 
v®ue
);

3187 
SŒšg
 
	gDocum’t
::
»ã¼”
() const

3189 ià(
äame
())

3190  
äame
()->
lßd”
()->
»ã¼”
();

3191  
SŒšg
();

3194 
SŒšg
 
	gDocum’t
::
domaš
() const

3196  
£cur™yOrigš
()->
domaš
();

3199 
	gDocum’t
::
£tDomaš
(cÚ¡ 
SŒšg
& 
ÃwDomaš
, 
Exû±iÚCode
& 
ec
)

3201 ià(
	gSecur™yOrigš
::
isDomašR–ax©iÚFÜbidd’FÜURLScheme
(
£cur™yOrigš
()->
´ÙocŞ
())) {

3202 
ec
 = 
SECURITY_ERR
;

3217 ià(
equ®IgnÜšgCa£
(
domaš
(), 
ÃwDomaš
)) {

3218 
£cur™yOrigš
()->
£tDomašFromDOM
(
ÃwDomaš
);

3219 ià(
	gm_äame
)

3220 
	gm_äame
->
süt
()->
upd©eSecur™yOrigš
();

3224 
	gŞdL’gth
 = 
domaš
().
Ëngth
();

3225 
	gÃwL’gth
 = 
ÃwDomaš
.
Ëngth
();

3227 ià(
	gÃwL’gth
 >ğ
ŞdL’gth
) {

3228 
ec
 = 
SECURITY_ERR
;

3232 
SŒšg
 
	g‹¡
 = 
domaš
();

3234 ià(
	g‹¡
[
ŞdL’gth
 - 
ÃwL’gth
 - 1] != '.') {

3235 
ec
 = 
SECURITY_ERR
;

3241 
	g‹¡
.
»move
(0, 
ŞdL’gth
 - 
ÃwL’gth
);

3242 ià(
	g‹¡
 !ğ
ÃwDomaš
) {

3243 
ec
 = 
SECURITY_ERR
;

3247 
£cur™yOrigš
()->
£tDomašFromDOM
(
ÃwDomaš
);

3248 ià(
	gm_äame
)

3249 
	gm_äame
->
süt
()->
upd©eSecur™yOrigš
();

3252 
SŒšg
 
	gDocum’t
::
Ï¡Modif›d
() const

3254 
F¿me
* 
f
 = 
äame
();

3255 ià(!
	gf
)

3256  
SŒšg
();

3257 
Docum’tLßd”
* 
	glßd”
 = 
f
->
lßd”
()->
docum’tLßd”
();

3258 ià(!
	glßd”
)

3259  
SŒšg
();

3260  
	glßd”
->
»¥Ú£
().
h‰pH—d”F›ld
("Last-Modified");

3263 
boŞ
 
isV®idNameNÚASCII
(cÚ¡ 
UCh¬
* 
ch¬aù”s
, 
Ëngth
)

3265 
	gi
 = 0;

3267 
UCh¬32
 
	gc
;

3268 
U16_NEXT
(
ch¬aù”s
, 
i
, 
Ëngth
, 
c
)

3269 ià(!
isV®idNameS¹
(
c
))

3270  
	gçl£
;

3272 
	gi
 < 
	gËngth
) {

3273 
U16_NEXT
(
ch¬aù”s
, 
i
, 
Ëngth
, 
c
)

3274 ià(!
isV®idNameP¬t
(
c
))

3275  
	gçl£
;

3278  
	gŒue
;

3281 
šlše
 
boŞ
 
isV®idNameASCII
(cÚ¡ 
UCh¬
* 
ch¬aù”s
, 
Ëngth
)

3283 
UCh¬
 
	gc
 = 
ch¬aù”s
[0];

3284 ià(!(
isASCIIAÍha
(
c
è|| 
	gc
 == ':' || c == '_'))

3285  
çl£
;

3287 
	gi
 = 1; i < 
	gËngth
; ++i) {

3288 
	gc
 = 
ch¬aù”s
[
i
];

3289 ià(!(
isASCIIAÍhªum”ic
(
c
è|| 
	gc
 == ':' || c == '_' || c == '-' || c == '.'))

3290  
çl£
;

3293  
	gŒue
;

3296 
boŞ
 
	gDocum’t
::
isV®idName
(cÚ¡ 
SŒšg
& 
Çme
)

3298 
Ëngth
 = 
Çme
.length();

3299 ià(!
	gËngth
)

3300  
	gçl£
;

3302 cÚ¡ 
UCh¬
* 
	gch¬aù”s
 = 
Çme
.
ch¬aù”s
();

3303  
isV®idNameASCII
(
ch¬aù”s
, 
Ëngth
è|| 
isV®idNameNÚASCII
(characters,†ength);

3306 
boŞ
 
	gDocum’t
::
·r£Qu®if›dName
(cÚ¡ 
SŒšg
& 
qu®if›dName
, SŒšg& 
´efix
, SŒšg& 
loÿlName
, 
Exû±iÚCode
& 
ec
)

3308 
	gËngth
 = 
qu®if›dName
.
Ëngth
();

3310 ià(
	gËngth
 == 0) {

3311 
ec
 = 
INVALID_CHARACTER_ERR
;

3312  
	gçl£
;

3315 
boŞ
 
	gÇmeS¹
 = 
Œue
;

3316 
boŞ
 
	g§wCŞÚ
 = 
çl£
;

3317 
	gcŞÚPos
 = 0;

3319 cÚ¡ 
UCh¬
* 
	gs
 = 
qu®if›dName
.
ch¬aù”s
();

3320 
	gi
 = 0; i < 
	gËngth
;) {

3321 
UCh¬32
 
	gc
;

3322 
U16_NEXT
(
s
, 
i
, 
Ëngth
, 
c
)

3323 ià(
	gc
 == ':') {

3324 ià(
§wCŞÚ
) {

3325 
ec
 = 
NAMESPACE_ERR
;

3326  
	gçl£
;

3328 
	gÇmeS¹
 = 
Œue
;

3329 
	g§wCŞÚ
 = 
Œue
;

3330 
	gcŞÚPos
 = 
i
 - 1;

3331 } ià(
	gÇmeS¹
) {

3332 ià(!
isV®idNameS¹
(
c
)) {

3333 
	gec
 = 
INVALID_CHARACTER_ERR
;

3334  
	gçl£
;

3336 
	gÇmeS¹
 = 
çl£
;

3338 ià(!
isV®idNameP¬t
(
c
)) {

3339 
	gec
 = 
INVALID_CHARACTER_ERR
;

3340  
	gçl£
;

3345 ià(!
	g§wCŞÚ
) {

3346 
	g´efix
 = 
SŒšg
();

3347 
	gloÿlName
 = 
qu®if›dName
;

3349 
	g´efix
 = 
qu®if›dName
.
sub¡ršg
(0, 
cŞÚPos
);

3350 ià(
	g´efix
.
isEm±y
()) {

3351 
	gec
 = 
NAMESPACE_ERR
;

3352  
	gçl£
;

3354 
	gloÿlName
 = 
qu®if›dName
.
sub¡ršg
(
cŞÚPos
 + 1);

3357 ià(
	gloÿlName
.
isEm±y
()) {

3358 
	gec
 = 
NAMESPACE_ERR
;

3359  
	gçl£
;

3362  
	gŒue
;

3365 
	gDocum’t
::
addImageM­
(
HTMLM­EËm’t
* 
imageM­
)

3367 cÚ¡ 
AtomicSŒšg
& 
Çme
 = 
imageM­
->
g‘Name
();

3368 ià(!
	gÇme
.
im¶
())

3373 
	gm_imageM­sByName
.
add
(
Çme
.
im¶
(), 
imageM­
);

3376 
	gDocum’t
::
»moveImageM­
(
HTMLM­EËm’t
* 
imageM­
)

3382 cÚ¡ 
AtomicSŒšg
& 
Çme
 = 
imageM­
->
g‘Name
();

3383 ià(!
	gÇme
.
im¶
())

3386 
	gm_imageM­sByName
.
checkCÚsi¡’cy
();

3388 
	gImageM­sByName
::
™”©Ü
 
™
 = 
m_imageM­sByName
.
fšd
(
Çme
.
im¶
());

3389 ià(
	g™
 !ğ
m_imageM­sByName
.
’d
(è&& 
™
->
£cÚd
 =ğ
imageM­
)

3390 
m_imageM­sByName
.
»move
(
™
);

3393 
HTMLM­EËm’t
 *
	gDocum’t
::
g‘ImageM­
(cÚ¡ 
SŒšg
& 
u¾
) const

3395 ià(
u¾
.
isNuÎ
())

3397 
	ghashPos
 = 
u¾
.
fšd
('#');

3398 
SŒšg
 
	gÇme
 = (
hashPos
 < 0 ? 
u¾
 : u¾.
sub¡ršg
(hashPo + 1)).
im¶
();

3399 
AtomicSŒšg
 
	gm­Name
 = 
isHTMLDocum’t
(è? 
Çme
.
low”
() :‚ame;

3400 
	gm_imageM­sByName
.
checkCÚsi¡’cy
();

3401  
	gm_imageM­sByName
.
g‘
(
m­Name
.
im¶
());

3404 
	gDocum’t
::
£tDecod”
(
PassRefPŒ
<
TextResourûDecod”
> 
decod”
)

3406 
m_decod”
 = 
decod”
;

3409 
KURL
 
	gDocum’t
::
com¶‘eURL
(cÚ¡ 
SŒšg
& 
u¾
) const

3414 ià(
u¾
.
isNuÎ
())

3415  
KURL
();

3416 cÚ¡ 
	gKURL
& 
	gba£URL
 = ((
m_ba£URL
.
isEm±y
(è|| m_ba£URL =ğ
bÏnkURL
()è&& 
·»ÁDocum’t
()è?…¬’tDocum’t()->
ba£URL
() : m_baseURL;

3417 ià(!
	gm_decod”
)

3418  
KURL
(
ba£URL
, 
u¾
);

3419  
KURL
(
ba£URL
, 
u¾
, 
m_decod”
->
’codšg
());

3422 
	gDocum’t
::
£tInPageCache
(
boŞ
 
æag
)

3424 ià(
m_šPageCache
 =ğ
æag
)

3427 
	gm_šPageCache
 = 
æag
;

3428 ià(
	gæag
) {

3429 
ASSERT
(
m_§vedR’d””
 == 0);

3430 
	gm_§vedR’d””
 = 
»nd””
();

3431 ià(
F¿meV›w
* 
	gv
 = 
v›w
())

3432 
v
->
»£tSüŞlb¬s
();

3433 
unscheduËStyËReÿlc
();

3435 
ASSERT
(
»nd””
(è=ğ0 ||„’d””(è=ğ
m_§vedR’d””
);

3436 
ASSERT
(
m_»nd”A»Ç
);

3437 
£tR’d””
(
m_§vedR’d””
);

3438 
	gm_§vedR’d””
 = 0;

3439 ià(
chdN“dsStyËReÿlc
())

3440 
scheduËStyËReÿlc
();

3444 
	gDocum’t
::
docum’tWlBecomeIÇùive
()

3446 #ià
USE
(
ACCELERATED_COMPOSITING
)

3447 ià(
»nd””
())

3448 
»nd”V›w
()->
wlMoveOffsü“n
();

3451 
	gHashS‘
<
	gEËm’t
*>::
™”©Ü
 
’d
 = 
m_docum’tAùiv©iÚC®lbackEËm’ts
.end();

3452 
	gHashS‘
<
	gEËm’t
*>::
™”©Ü
 
i
 = 
m_docum’tAùiv©iÚC®lbackEËm’ts
.
begš
(); 
	gi
 !ğ
’d
; ++i)

3453 (*
	gi
)->
docum’tWlBecomeIÇùive
();

3456 
	gDocum’t
::
docum’tDidBecomeAùive
()

3458 
HashS‘
<
EËm’t
*>::
™”©Ü
 
’d
 = 
m_docum’tAùiv©iÚC®lbackEËm’ts
.end();

3459 
	gHashS‘
<
	gEËm’t
*>::
™”©Ü
 
i
 = 
m_docum’tAùiv©iÚC®lbackEËm’ts
.
begš
(); 
	gi
 !ğ
’d
; ++i)

3460 (*
	gi
)->
docum’tDidBecomeAùive
();

3462 #ià
USE
(
ACCELERATED_COMPOSITING
)

3463 ià(
»nd””
())

3464 
»nd”V›w
()->
didMoveOnsü“n
();

3468 
	gDocum’t
::
»gi¡”FÜDocum’tAùiv©iÚC®lbacks
(
EËm’t
* 
e
)

3470 
m_docum’tAùiv©iÚC®lbackEËm’ts
.
add
(
e
);

3473 
	gDocum’t
::
uÄegi¡”FÜDocum’tAùiv©iÚC®lbacks
(
EËm’t
* 
e
)

3475 
m_docum’tAùiv©iÚC®lbackEËm’ts
.
»move
(
e
);

3478 
	gDocum’t
::
medŸVŞumeDidChªge
()

3480 
HashS‘
<
EËm’t
*>::
™”©Ü
 
’d
 = 
m_medŸVŞumeC®lbackEËm’ts
.end();

3481 
	gHashS‘
<
	gEËm’t
*>::
™”©Ü
 
i
 = 
m_medŸVŞumeC®lbackEËm’ts
.
begš
(); 
	gi
 !ğ
’d
; ++i)

3482 (*
	gi
)->
medŸVŞumeDidChªge
();

3485 
	gDocum’t
::
»gi¡”FÜMedŸVŞumeC®lbacks
(
EËm’t
* 
e
)

3487 
m_medŸVŞumeC®lbackEËm’ts
.
add
(
e
);

3490 
	gDocum’t
::
uÄegi¡”FÜMedŸVŞumeC®lbacks
(
EËm’t
* 
e
)

3492 
m_medŸVŞumeC®lbackEËm’ts
.
»move
(
e
);

3495 
	gDocum’t
::
£tShouldC»©eR’d””s
(
boŞ
 
f
)

3497 
m_ü—‹R’d””s
 = 
f
;

3500 
boŞ
 
	gDocum’t
::
shouldC»©eR’d””s
()

3502  
m_ü—‹R’d””s
;

3507 
	gEd™Ü
::
Commªd
 
commªd
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
commªdName
, 
boŞ
 
u£rIÁ”çû
 = 
çl£
)

3509 
F¿me
* 
äame
 = 
docum’t
->frame();

3510 ià(!
	gäame
 || f¿me->
docum’t
() != document)

3511  
Ed™Ü
::
Commªd
();

3512  
	gäame
->
ed™Ü
()->
commªd
(
commªdName
,

3513 
u£rIÁ”çû
 ? 
CommªdFromDOMW™hU£rIÁ”çû
 : 
CommªdFromDOM
);

3516 
boŞ
 
	gDocum’t
::
execCommªd
(cÚ¡ 
SŒšg
& 
commªdName
, boŞ 
u£rIÁ”çû
, cÚ¡ SŒšg& 
v®ue
)

3518  
commªd
(
this
, 
commªdName
, 
u£rIÁ”çû
).
execu‹
(
v®ue
);

3521 
boŞ
 
	gDocum’t
::
qu”yCommªdEÇbËd
(cÚ¡ 
SŒšg
& 
commªdName
)

3523  
commªd
(
this
, 
commªdName
).
isEÇbËd
();

3526 
boŞ
 
	gDocum’t
::
qu”yCommªdInd‘”m
(cÚ¡ 
SŒšg
& 
commªdName
)

3528  
commªd
(
this
, 
commªdName
).
¡©e
(è=ğ
MixedTriS‹
;

3531 
boŞ
 
	gDocum’t
::
qu”yCommªdS‹
(cÚ¡ 
SŒšg
& 
commªdName
)

3533  
commªd
(
this
, 
commªdName
).
¡©e
(è!ğ
F®£TriS‹
;

3536 
boŞ
 
	gDocum’t
::
qu”yCommªdSuµÜ‹d
(cÚ¡ 
SŒšg
& 
commªdName
)

3538  
commªd
(
this
, 
commªdName
).
isSuµÜ‹d
();

3541 
SŒšg
 
	gDocum’t
::
qu”yCommªdV®ue
(cÚ¡ SŒšg& 
commªdName
)

3543  
commªd
(
this
, 
commªdName
).
v®ue
();

3546 
IÁReù
 
¶aûhŞd”ReùFÜM¬k”
()

3548  
IÁReù
(-1, -1, -1, -1);

3551 
	gDocum’t
::
addM¬k”
(
Rªge
 *
¿nge
, 
Docum’tM¬k”
::
M¬k”Ty³
 
ty³
, 
SŒšg
 
desütiÚ
)

3554 
TextI‹¿tÜ
 
m¬kedText
(
¿nge
); !
	gm¬kedText
.
©End
(); m¬kedText.
advªû
()) {

3555 
	gRefPŒ
<
	gRªge
> 
	g‹xtP›û
 = 
m¬kedText
.
¿nge
();

3556 
	gexû±iÚ
 = 0;

3557 
Docum’tM¬k”
 
	gm¬k”
 = {
ty³
, 
‹xtP›û
->
¡¬tOff£t
(
exû±iÚ
),extP›û->
’dOff£t
Óxû±iÚ), 
desütiÚ
, 
çl£
};

3558 
addM¬k”
(
‹xtP›û
->
¡¬tCÚš”
(
exû±iÚ
), 
m¬k”
);

3562 
	gDocum’t
::
»moveM¬k”s
(
Rªge
* 
¿nge
, 
Docum’tM¬k”
::
M¬k”Ty³
 
m¬k”Ty³
)

3564 ià(
m_m¬k”s
.
isEm±y
())

3567 
Exû±iÚCode
 
	gec
 = 0;

3568 
Node
* 
	g¡¬tCÚš”
 = 
¿nge
->
¡¬tCÚš”
(
ec
);

3569 
Node
* 
	g’dCÚš”
 = 
¿nge
->
’dCÚš”
(
ec
);

3571 
Node
* 
	g·¡La¡Node
 = 
¿nge
->
·¡La¡Node
();

3572 
Node
* 
	gnode
 = 
¿nge
->
fœ¡Node
();‚od!ğ
·¡La¡Node
;‚odğ
node
->
Œav”£NextNode
()) {

3573 
¡¬tOff£t
 = 
node
 =ğ
¡¬tCÚš”
 ? 
¿nge
->¡¬tOff£t(
ec
) : 0;

3574 
	g’dOff£t
 = 
node
 =ğ
’dCÚš”
 ? 
¿nge
->
’dOff£t
(
ec
è: 
INT_MAX
;

3575 
	gËngth
 = 
’dOff£t
 - 
¡¬tOff£t
;

3576 
»moveM¬k”s
(
node
, 
¡¬tOff£t
, 
Ëngth
, 
m¬k”Ty³
);

3583 
	gDocum’t
::
addM¬k”
(
Node
* 
node
, 
Docum’tM¬k”
 
ÃwM¬k”
)

3585 
ASSERT
(
ÃwM¬k”
.
’dOff£t
 >ğÃwM¬k”.
¡¬tOff£t
);

3586 ià(
	gÃwM¬k”
.
	g’dOff£t
 =ğ
ÃwM¬k”
.
¡¬tOff£t
)

3589 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
m_m¬k”s
.
g‘
(
node
);

3591 ià(!
	gveùÜPaœ
) {

3592 
	gveùÜPaœ
 = 
Ãw
 
M¬k”M­VeùÜPaœ
;

3593 
	gveùÜPaœ
->
	gfœ¡
.
­³nd
(
ÃwM¬k”
);

3594 
	gveùÜPaœ
->
	g£cÚd
.
­³nd
(
¶aûhŞd”ReùFÜM¬k”
());

3595 
	gm_m¬k”s
.
£t
(
node
, 
veùÜPaœ
);

3597 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

3598 
	gVeùÜ
<
	gIÁReù
>& 
	g»ùs
 = 
veùÜPaœ
->
£cÚd
;

3599 
size_t
 
	gnumM¬k”s
 = 
m¬k”s
.
size
();

3600 
ASSERT
(
numM¬k”s
 =ğ
»ùs
.
size
());

3601 
size_t
 
	gi
;

3605 
	gi
 = 0; i < 
	gnumM¬k”s
; ++i) {

3606 
Docum’tM¬k”
 
	gm¬k”
 = 
m¬k”s
[
i
];

3607 ià(
	gm¬k”
.
	g¡¬tOff£t
 > 
	gÃwM¬k”
.startOffset)

3609 ià(
	gm¬k”
.
	gty³
 =ğ
ÃwM¬k”
.
ty³
 && 
m¬k”
.
’dOff£t
 >ğÃwM¬k”.
¡¬tOff£t
) {

3610 
ÃwM¬k”
.
¡¬tOff£t
 = 
m¬k”
.startOffset;

3611 
	gm¬k”s
.
»move
(
i
);

3612 
	g»ùs
.
»move
(
i
);

3613 
	gnumM¬k”s
--;

3617 
size_t
 
	gj
 = 
i
;

3621 
	gj
 < 
	gnumM¬k”s
) {

3622 
Docum’tM¬k”
 
	gm¬k”
 = 
m¬k”s
[
j
];

3623 ià(
	gm¬k”
.
	g¡¬tOff£t
 > 
	gÃwM¬k”
.
	g’dOff£t
)

3625 ià(
	gm¬k”
.
	gty³
 =ğ
ÃwM¬k”
.
ty³
) {

3626 
m¬k”s
.
»move
(
j
);

3627 
	g»ùs
.
»move
(
j
);

3628 ià(
	gÃwM¬k”
.
	g’dOff£t
 <ğ
m¬k”
.
’dOff£t
) {

3629 
ÃwM¬k”
.
’dOff£t
 = 
m¬k”
.endOffset;

3632 
	gnumM¬k”s
--;

3634 
	gj
++;

3637 
	gm¬k”s
.
š£¹
(
i
, 
ÃwM¬k”
);

3638 
	g»ùs
.
š£¹
(
i
, 
¶aûhŞd”ReùFÜM¬k”
());

3642 ià(
	gnode
->
»nd””
())

3643 
	gnode
->
»nd””
()->
»·št
();

3648 
	gDocum’t
::
cİyM¬k”s
(
Node
 *
¤cNode
, 
¡¬tOff£t
, 
Ëngth
, Nod*
d¡Node
, 
d–
, 
Docum’tM¬k”
::
M¬k”Ty³
 
m¬k”Ty³
)

3650 ià(
Ëngth
 <= 0)

3653 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
m_m¬k”s
.
g‘
(
¤cNode
);

3654 ià(!
	gveùÜPaœ
)

3657 
ASSERT
(
veùÜPaœ
->
fœ¡
.
size
(è=ğveùÜPaœ->
£cÚd
.size());

3659 
boŞ
 
	gdocDœty
 = 
çl£
;

3660 
	g’dOff£t
 = 
¡¬tOff£t
 + 
Ëngth
 - 1;

3661 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

3662 
size_t
 
	gi
 = 0; i !ğ
m¬k”s
.
size
(); ++i) {

3663 
Docum’tM¬k”
 
	gm¬k”
 = 
m¬k”s
[
i
];

3666 ià(
	gm¬k”
.
	g¡¬tOff£t
 > 
	g’dOff£t
)

3670 ià(
	gm¬k”
.
	g’dOff£t
 < 
	g¡¬tOff£t
 || (m¬k”.
	gty³
 !ğ
m¬k”Ty³
 && m¬k”Ty³ !ğ
Docum’tM¬k”
::
AÎM¬k”s
))

3674 
	gdocDœty
 = 
Œue
;

3675 ià(
	gm¬k”
.
	g¡¬tOff£t
 < startOffset)

3676 
	gm¬k”
.
	g¡¬tOff£t
 = 
¡¬tOff£t
;

3677 ià(
	gm¬k”
.
	g’dOff£t
 >ƒndOffset)

3678 
	gm¬k”
.
	g’dOff£t
 = 
’dOff£t
;

3679 
	gm¬k”
.
	g¡¬tOff£t
 +ğ
d–
;

3680 
	gm¬k”
.
	g’dOff£t
 +ğ
d–
;

3682 
addM¬k”
(
d¡Node
, 
m¬k”
);

3686 ià(
	gdocDœty
 && 
	gd¡Node
->
»nd””
())

3687 
	gd¡Node
->
»nd””
()->
»·št
();

3690 
	gDocum’t
::
»moveM¬k”s
(
Node
* 
node
, 
¡¬tOff£t
, 
Ëngth
, 
Docum’tM¬k”
::
M¬k”Ty³
 
m¬k”Ty³
)

3692 ià(
Ëngth
 <= 0)

3695 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
m_m¬k”s
.
g‘
(
node
);

3696 ià(!
	gveùÜPaœ
)

3699 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

3700 
	gVeùÜ
<
	gIÁReù
>& 
	g»ùs
 = 
veùÜPaœ
->
£cÚd
;

3701 
ASSERT
(
m¬k”s
.
size
(è=ğ
»ùs
.size());

3702 
boŞ
 
	gdocDœty
 = 
çl£
;

3703 
	g’dOff£t
 = 
¡¬tOff£t
 + 
Ëngth
;

3704 
size_t
 
	gi
 = 0; i < 
	gm¬k”s
.
size
();) {

3705 
Docum’tM¬k”
 
	gm¬k”
 = 
m¬k”s
[
i
];

3708 ià(
	gm¬k”
.
	g¡¬tOff£t
 >ğ
’dOff£t
)

3712 ià(
	gm¬k”
.
	g’dOff£t
 < 
	g¡¬tOff£t
 || (m¬k”.
	gty³
 !ğ
m¬k”Ty³
 && m¬k”Ty³ !ğ
Docum’tM¬k”
::
AÎM¬k”s
)) {

3713 
i
++;

3718 
	gdocDœty
 = 
Œue
;

3721 
	gm¬k”s
.
»move
(
i
);

3722 
	g»ùs
.
»move
(
i
);

3725 ià(
	g¡¬tOff£t
 > 
	gm¬k”
.startOffset) {

3726 
Docum’tM¬k”
 
	gÃwLeá
 = 
m¬k”
;

3727 
	gÃwLeá
.
	g’dOff£t
 = 
¡¬tOff£t
;

3728 
	gm¬k”s
.
š£¹
(
i
, 
ÃwLeá
);

3729 
	g»ùs
.
š£¹
(
i
, 
¶aûhŞd”ReùFÜM¬k”
());

3731 
	gi
++;

3733 ià(
	gm¬k”
.
	g’dOff£t
 >ƒndOffset) {

3734 
Docum’tM¬k”
 
	gÃwRight
 = 
m¬k”
;

3735 
	gÃwRight
.
	g¡¬tOff£t
 = 
’dOff£t
;

3736 
	gm¬k”s
.
š£¹
(
i
, 
ÃwRight
);

3737 
	g»ùs
.
š£¹
(
i
, 
¶aûhŞd”ReùFÜM¬k”
());

3739 
	gi
++;

3743 ià(
	gm¬k”s
.
isEm±y
()) {

3744 
ASSERT
(
»ùs
.
isEm±y
());

3745 
	gm_m¬k”s
.
»move
(
node
);

3746 
d–‘e
 
	gveùÜPaœ
;

3750 ià(
	gdocDœty
 && 
	gnode
->
»nd””
())

3751 
	gnode
->
»nd””
()->
»·št
();

3754 
Docum’tM¬k”
* 
	gDocum’t
::
m¬k”CÚššgPošt
(cÚ¡ 
IÁPošt
& 
pošt
, Docum’tM¬k”::
M¬k”Ty³
 
m¬k”Ty³
)

3757 
M¬k”M­
::
™”©Ü
 
’d
 = 
m_m¬k”s
.end();

3758 
	gM¬k”M­
::
™”©Ü
 
nodeI‹¿tÜ
 = 
m_m¬k”s
.
begš
(); 
	gnodeI‹¿tÜ
 !ğ
’d
; ++nodeIterator) {

3760 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
nodeI‹¿tÜ
->
£cÚd
;

3761 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

3762 
	gVeùÜ
<
	gIÁReù
>& 
	g»ùs
 = 
veùÜPaœ
->
£cÚd
;

3763 
ASSERT
(
m¬k”s
.
size
(è=ğ
»ùs
.size());

3764 
	gm¬k”CouÁ
 = 
m¬k”s
.
size
();

3765 
	gm¬k”Index
 = 0; m¬k”Index < 
	gm¬k”CouÁ
; ++markerIndex) {

3766 
	gDocum’tM¬k”
& 
	gm¬k”
 = 
m¬k”s
[
m¬k”Index
];

3769 ià(
	gm¬k”
.
	gty³
 !ğ
m¬k”Ty³
 && m¬k”Ty³ !ğ
Docum’tM¬k”
::
AÎM¬k”s
)

3772 
	gIÁReù
& 
	gr
 = 
»ùs
[
m¬k”Index
];

3775 ià(
	gr
 =ğ
¶aûhŞd”ReùFÜM¬k”
())

3778 ià(
	gr
.
cÚšs
(
pošt
))

3779  &
	gm¬k”
;

3786 
	gVeùÜ
<
	gDocum’tM¬k”
> 
	gDocum’t
::
m¬k”sFÜNode
(
Node
* 
node
)

3788 
M¬k”M­VeùÜPaœ
* 
veùÜPaœ
 = 
m_m¬k”s
.
g‘
(
node
);

3789 ià(
	gveùÜPaœ
)

3790  
	gveùÜPaœ
->
	gfœ¡
;

3791  
	gVeùÜ
<
	gDocum’tM¬k”
>();

3794 
	gVeùÜ
<
	gIÁReù
> 
	gDocum’t
::
»nd”edReùsFÜM¬k”s
(
Docum’tM¬k”
::
M¬k”Ty³
 
m¬k”Ty³
)

3796 
VeùÜ
<
IÁReù
> 
»suÉ
;

3799 
	gM¬k”M­
::
™”©Ü
 
’d
 = 
m_m¬k”s
.end();

3800 
	gM¬k”M­
::
™”©Ü
 
nodeI‹¿tÜ
 = 
m_m¬k”s
.
begš
(); 
	gnodeI‹¿tÜ
 !ğ
’d
; ++nodeIterator) {

3802 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
nodeI‹¿tÜ
->
£cÚd
;

3803 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

3804 
	gVeùÜ
<
	gIÁReù
>& 
	g»ùs
 = 
veùÜPaœ
->
£cÚd
;

3805 
ASSERT
(
m¬k”s
.
size
(è=ğ
»ùs
.size());

3806 
	gm¬k”CouÁ
 = 
m¬k”s
.
size
();

3807 
	gm¬k”Index
 = 0; m¬k”Index < 
	gm¬k”CouÁ
; ++markerIndex) {

3808 
Docum’tM¬k”
 
	gm¬k”
 = 
m¬k”s
[
m¬k”Index
];

3811 ià(
	gm¬k”
.
	gty³
 !ğ
m¬k”Ty³
 && m¬k”Ty³ !ğ
Docum’tM¬k”
::
AÎM¬k”s
)

3814 
IÁReù
 
	gr
 = 
»ùs
[
m¬k”Index
];

3816 ià(
	gr
 =ğ
¶aûhŞd”ReùFÜM¬k”
())

3819 
	g»suÉ
.
­³nd
(
r
);

3823  
	g»suÉ
;

3826 
	gDocum’t
::
»moveM¬k”s
(
Node
* 
node
)

3828 
M¬k”M­
::
™”©Ü
 
i
 = 
m_m¬k”s
.
fšd
(
node
);

3829 ià(
	gi
 !ğ
m_m¬k”s
.
’d
()) {

3830 
d–‘e
 
i
->
£cÚd
;

3831 
	gm_m¬k”s
.
»move
(
i
);

3832 ià(
R’d”Objeù
* 
	g»nd””
 = 
node
->
»nd””
())

3833 
»nd””
->
»·št
();

3837 
	gDocum’t
::
»moveM¬k”s
(
Docum’tM¬k”
::
M¬k”Ty³
 
m¬k”Ty³
)

3840 
M¬k”M­
 
m¬k”M­Cİy
 = 
m_m¬k”s
;

3841 
	gM¬k”M­
::
™”©Ü
 
’d
 = 
m¬k”M­Cİy
.end();

3842 
	gM¬k”M­
::
™”©Ü
 
i
 = 
m¬k”M­Cİy
.
begš
(); 
	gi
 !ğ
’d
; ++i) {

3843 
Node
* 
	gnode
 = 
i
->
fœ¡
.
g‘
();

3844 
boŞ
 
	gnodeN“dsR•ašt
 = 
çl£
;

3847 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
i
->
£cÚd
;

3848 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

3849 
	gVeùÜ
<
	gIÁReù
>& 
	g»ùs
 = 
veùÜPaœ
->
£cÚd
;

3850 
ASSERT
(
m¬k”s
.
size
(è=ğ
»ùs
.size());

3851 
size_t
 
	gi
 = 0; i !ğ
m¬k”s
.
size
();) {

3852 
Docum’tM¬k”
 
	gm¬k”
 = 
m¬k”s
[
i
];

3855 ià(
	gm¬k”
.
	gty³
 !ğ
m¬k”Ty³
 && m¬k”Ty³ !ğ
Docum’tM¬k”
::
AÎM¬k”s
) {

3856 ++
i
;

3861 
	gm¬k”s
.
»move
(
i
);

3862 
	g»ùs
.
»move
(
i
);

3863 
	gnodeN“dsR•ašt
 = 
Œue
;

3869 ià(
	gnodeN“dsR•ašt
) {

3870 
R’d”Objeù
* 
	g»nd””
 = 
node
->
»nd””
();

3871 ià(
	g»nd””
)

3872 
	g»nd””
->
»·št
();

3876 ià(
	gm¬k”s
.
isEm±y
()) {

3877 
ASSERT
(
»ùs
.
isEm±y
());

3878 
	gm_m¬k”s
.
»move
(
node
);

3879 
d–‘e
 
	gveùÜPaœ
;

3884 
	gDocum’t
::
»·štM¬k”s
(
Docum’tM¬k”
::
M¬k”Ty³
 
m¬k”Ty³
)

3887 
M¬k”M­
::
™”©Ü
 
’d
 = 
m_m¬k”s
.end();

3888 
	gM¬k”M­
::
™”©Ü
 
i
 = 
m_m¬k”s
.
begš
(); 
	gi
 !ğ
’d
; ++i) {

3889 
Node
* 
	gnode
 = 
i
->
fœ¡
.
g‘
();

3892 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
i
->
£cÚd
;

3893 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

3894 
boŞ
 
	gnodeN“dsR•ašt
 = 
çl£
;

3895 
size_t
 
	gi
 = 0; i !ğ
m¬k”s
.
size
(); ++i) {

3896 
Docum’tM¬k”
 
	gm¬k”
 = 
m¬k”s
[
i
];

3899 ià(
	gm¬k”
.
	gty³
 =ğ
m¬k”Ty³
 || m¬k”Ty³ =ğ
Docum’tM¬k”
::
AÎM¬k”s
) {

3900 
nodeN“dsR•ašt
 = 
Œue
;

3905 ià(!
	gnodeN“dsR•ašt
)

3909 ià(
R’d”Objeù
* 
	g»nd””
 = 
node
->
»nd””
())

3910 
»nd””
->
»·št
();

3914 
	gDocum’t
::
£tR’d”edReùFÜM¬k”
(
Node
* 
node
, cÚ¡ 
Docum’tM¬k”
& 
m¬k”
, cÚ¡ 
IÁReù
& 
r
)

3916 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
m_m¬k”s
.
g‘
(
node
);

3917 ià(!
	gveùÜPaœ
) {

3918 
ASSERT_NOT_REACHED
();

3922 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

3923 
ASSERT
(
m¬k”s
.
size
(è=ğ
veùÜPaœ
->
£cÚd
.size());

3924 
	gm¬k”CouÁ
 = 
m¬k”s
.
size
();

3925 
	gm¬k”Index
 = 0; m¬k”Index < 
	gm¬k”CouÁ
; ++markerIndex) {

3926 
Docum’tM¬k”
 
	gm
 = 
m¬k”s
[
m¬k”Index
];

3927 ià(
	gm
 =ğ
m¬k”
) {

3928 
veùÜPaœ
->
£cÚd
[
m¬k”Index
] = 
r
;

3933 
ASSERT_NOT_REACHED
();

3936 
	gDocum’t
::
šv®id©eR’d”edReùsFÜM¬k”sInReù
(cÚ¡ 
IÁReù
& 
r
)

3939 
M¬k”M­
::
™”©Ü
 
’d
 = 
m_m¬k”s
.end();

3940 
	gM¬k”M­
::
™”©Ü
 
i
 = 
m_m¬k”s
.
begš
(); 
	gi
 !ğ
’d
; ++i) {

3943 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
i
->
£cÚd
;

3944 
	gVeùÜ
<
	gIÁReù
>& 
	g»ùs
 = 
veùÜPaœ
->
£cÚd
;

3946 
	g»ùCouÁ
 = 
»ùs
.
size
();

3947 
	g»ùIndex
 = 0;„eùIndex < 
	g»ùCouÁ
; ++rectIndex)

3948 ià(
	g»ùs
[
»ùIndex
].
š‹r£ùs
(
r
))

3949 
	g»ùs
[
»ùIndex
] = 
¶aûhŞd”ReùFÜM¬k”
();

3953 
	gDocum’t
::
shiáM¬k”s
(
Node
 *
node
, 
¡¬tOff£t
, 
d–
, 
Docum’tM¬k”
::
M¬k”Ty³
 
m¬k”Ty³
)

3955 
M¬k”M­VeùÜPaœ
* 
veùÜPaœ
 = 
m_m¬k”s
.
g‘
(
node
);

3956 ià(!
	gveùÜPaœ
)

3959 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

3960 
	gVeùÜ
<
	gIÁReù
>& 
	g»ùs
 = 
veùÜPaœ
->
£cÚd
;

3961 
ASSERT
(
m¬k”s
.
size
(è=ğ
»ùs
.size());

3963 
boŞ
 
	gdocDœty
 = 
çl£
;

3964 
size_t
 
	gi
 = 0; i !ğ
m¬k”s
.
size
(); ++i) {

3965 
	gDocum’tM¬k”
 &
	gm¬k”
 = 
m¬k”s
[
i
];

3966 ià(
	gm¬k”
.
	g¡¬tOff£t
 >ğ
¡¬tOff£t
 && (
m¬k”Ty³
 =ğ
Docum’tM¬k”
::
AÎM¬k”s
 || 
m¬k”
.
ty³
 == markerType)) {

3967 
ASSERT
(()
m¬k”
.
¡¬tOff£t
 + 
d–
 >= 0);

3968 
	gm¬k”
.
	g¡¬tOff£t
 +ğ
d–
;

3969 
	gm¬k”
.
	g’dOff£t
 +ğ
d–
;

3970 
	gdocDœty
 = 
Œue
;

3973 
	g»ùs
[
i
] = 
¶aûhŞd”ReùFÜM¬k”
();

3978 ià(
	gdocDœty
 && 
	gnode
->
»nd””
())

3979 
	gnode
->
»nd””
()->
»·št
();

3982 
	gDocum’t
::
£tM¬k”sAùive
(
Rªge
* 
¿nge
, 
boŞ
 
aùive
)

3984 ià(
	gm_m¬k”s
.
isEm±y
())

3987 
Exû±iÚCode
 
	gec
 = 0;

3988 
Node
* 
	g¡¬tCÚš”
 = 
¿nge
->
¡¬tCÚš”
(
ec
);

3989 
Node
* 
	g’dCÚš”
 = 
¿nge
->
’dCÚš”
(
ec
);

3991 
Node
* 
	g·¡La¡Node
 = 
¿nge
->
·¡La¡Node
();

3992 
Node
* 
	gnode
 = 
¿nge
->
fœ¡Node
();‚od!ğ
·¡La¡Node
;‚odğ
node
->
Œav”£NextNode
()) {

3993 
¡¬tOff£t
 = 
node
 =ğ
¡¬tCÚš”
 ? 
¿nge
->¡¬tOff£t(
ec
) : 0;

3994 
	g’dOff£t
 = 
node
 =ğ
’dCÚš”
 ? 
¿nge
->
’dOff£t
(
ec
è: 
INT_MAX
;

3995 
£tM¬k”sAùive
(
node
, 
¡¬tOff£t
, 
’dOff£t
, 
aùive
);

3999 
	gDocum’t
::
£tM¬k”sAùive
(
Node
* 
node
, 
¡¬tOff£t
, 
’dOff£t
, 
boŞ
 
aùive
)

4001 
M¬k”M­VeùÜPaœ
* 
	gveùÜPaœ
 = 
m_m¬k”s
.
g‘
(
node
);

4002 ià(!
	gveùÜPaœ
)

4005 
	gVeùÜ
<
	gDocum’tM¬k”
>& 
	gm¬k”s
 = 
veùÜPaœ
->
fœ¡
;

4006 
ASSERT
(
m¬k”s
.
size
(è=ğ
veùÜPaœ
->
£cÚd
.size());

4008 
boŞ
 
	gdocDœty
 = 
çl£
;

4009 
size_t
 
	gi
 = 0; i !ğ
m¬k”s
.
size
(); ++i) {

4010 
	gDocum’tM¬k”
 &
	gm¬k”
 = 
m¬k”s
[
i
];

4013 ià(
	gm¬k”
.
	g¡¬tOff£t
 >ğ
’dOff£t
)

4017 ià(
	gm¬k”
.
	g’dOff£t
 < 
	g¡¬tOff£t
 || m¬k”.
	gty³
 !ğ
Docum’tM¬k”
::
TextM©ch
)

4020 
	gm¬k”
.
	gaùiveM©ch
 = 
aùive
;

4021 
	gdocDœty
 = 
Œue
;

4025 ià(
	gdocDœty
 && 
	gnode
->
»nd””
())

4026 
	gnode
->
»nd””
()->
»·št
();

4029 #ià
ENABLE
(
XSLT
)

4031 
	gDocum’t
::
­¶yXSLT¿nsfÜm
(
ProûssšgIn¡ruùiÚ
* 
pi
)

4033 
RefPŒ
<
XSLTProûssÜ
> 
´oûssÜ
 = XSLTProûssÜ::
ü—‹
();

4034 
	g´oûssÜ
->
£tXSLStyËSh“t
(
¡©ic_ÿ¡
<
XSLStyËSh“t
*>(
pi
->
sh“t
()));

4035 
SŒšg
 
	g»suÉMIMETy³
;

4036 
SŒšg
 
	gÃwSourû
;

4037 
SŒšg
 
	g»suÉEncodšg
;

4038 ià(!
	g´oûssÜ
->
ŒªsfÜmToSŒšg
(
this
, 
»suÉMIMETy³
, 
ÃwSourû
, 
»suÉEncodšg
))

4041 
	g´oûssÜ
->
ü—‹Docum’tFromSourû
(
ÃwSourû
, 
»suÉEncodšg
, 
»suÉMIMETy³
, 
this
, 
äame
());

4044 
	gDocum’t
::
£tT¿nsfÜmSourû
(
PassOwnPŒ
<
T¿nsfÜmSourû
> 
sourû
)

4046 ià(
m_ŒªsfÜmSourû
 =ğ
sourû
)

4048 
	gm_ŒªsfÜmSourû
 = 
sourû
;

4053 
	gDocum’t
::
£tDesignMode
(
Inh”™edBoŞ
 
v®ue
)

4055 
m_designMode
 = 
v®ue
;

4058 
	gDocum’t
::
Inh”™edBoŞ
 
Docum’t
::
g‘DesignMode
() const

4060  
m_designMode
;

4063 
boŞ
 
	gDocum’t
::
šDesignMode
() const

4065 cÚ¡ 
Docum’t
* 
d
 = 
this
; 
	gd
; d = d->
·»ÁDocum’t
()) {

4066 ià(
d
->
m_designMode
 !ğ
šh”™
)

4067  
d
->
m_designMode
;

4069  
	gçl£
;

4072 
Docum’t
 *
	gDocum’t
::
·»ÁDocum’t
() const

4074 
F¿me
 *
chdP¬t
 = 
äame
();

4075 ià(!
	gchdP¬t
)

4077 
F¿me
 *
	g·»Á
 = 
chdP¬t
->
Œ“
()->
·»Á
();

4078 ià(!
	g·»Á
)

4080  
	g·»Á
->
docum’t
();

4083 
Docum’t
 *
	gDocum’t
::
tİDocum’t
() const

4085 
Docum’t
 *
doc
 = 
cÚ¡_ÿ¡
<Docum’ˆ*>(
this
);

4086 
EËm’t
 *
	g–em’t
;

4087 (
	g–em’t
 = 
doc
->
owÃrEËm’t
()))

4088 
doc
 = 
–em’t
->
docum’t
();

4090  
	gdoc
;

4093 
	gPassRefPŒ
<
	gA‰r
> 
	gDocum’t
::
ü—‹A‰ribu‹
(cÚ¡ 
SŒšg
& 
Çme
, 
Exû±iÚCode
& 
ec
)

4095  
ü—‹A‰ribu‹NS
(
SŒšg
(), 
Çme
, 
ec
, 
Œue
);

4098 
	gPassRefPŒ
<
	gA‰r
> 
	gDocum’t
::
ü—‹A‰ribu‹NS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
qu®if›dName
, 
Exû±iÚCode
& 
ec
, 
boŞ
 
shouldIgnÜeName¥aûChecks
)

4100 
SŒšg
 
	g´efix
, 
	gloÿlName
;

4101 ià(!
·r£Qu®if›dName
(
qu®if›dName
, 
´efix
, 
loÿlName
, 
ec
))

4104 
Qu®if›dName
 
qName
(
´efix
, 
loÿlName
, 
Çme¥aûURI
);

4105 ià(!
	gshouldIgnÜeName¥aûChecks
 && 
hasP»fixName¥aûMism©ch
(
qName
)) {

4106 
	gec
 = 
NAMESPACE_ERR
;

4111 ià(!
	gshouldIgnÜeName¥aûChecks
 && 
	gqName
.
loÿlName
(è=ğ
xmÊsAtom
 && 
qName
.
Çme¥aûURI
(è!ğ
XMLNSNames
::
xmÊsName¥aûURI
) {

4112 
ec
 = 
NAMESPACE_ERR
;

4118  
	gA‰r
::
ü—‹
(0, 
this
, 
M­³dA‰ribu‹
::ü—‹(
qName
, 
SŒšgIm¶
::
em±y
()));

4121 #ià
ENABLE
(
SVG
)

4122 cÚ¡ 
SVGDocum’tEx‹nsiÚs
* 
	gDocum’t
::
svgEx‹nsiÚs
()

4124  
m_svgEx‹nsiÚs
.
g‘
();

4127 
SVGDocum’tEx‹nsiÚs
* 
	gDocum’t
::
acûssSVGEx‹nsiÚs
()

4129 ià(!
m_svgEx‹nsiÚs
)

4130 
m_svgEx‹nsiÚs
.
£t
(
Ãw
 
SVGDocum’tEx‹nsiÚs
(
this
));

4131  
	gm_svgEx‹nsiÚs
.
g‘
();

4135 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
images
()

4137  
HTMLCŞËùiÚ
::
ü—‹
(
this
, 
DocImages
);

4140 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
­¶‘s
()

4142  
HTMLCŞËùiÚ
::
ü—‹
(
this
, 
DocAµËts
);

4145 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
embeds
()

4147  
HTMLCŞËùiÚ
::
ü—‹
(
this
, 
DocEmbeds
);

4150 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
¶ugšs
()

4153  
HTMLCŞËùiÚ
::
ü—‹
(
this
, 
DocEmbeds
);

4156 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
objeùs
()

4158  
HTMLCŞËùiÚ
::
ü—‹
(
this
, 
DocObjeùs
);

4161 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
süts
()

4163  
HTMLCŞËùiÚ
::
ü—‹
(
this
, 
DocSüts
);

4166 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
lšks
()

4168  
HTMLCŞËùiÚ
::
ü—‹
(
this
, 
DocLšks
);

4171 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
fÜms
()

4173  
HTMLCŞËùiÚ
::
ü—‹
(
this
, 
DocFÜms
);

4176 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
ªchÜs
()

4178  
HTMLCŞËùiÚ
::
ü—‹
(
this
, 
DocAnchÜs
);

4181 
	gPassRefPŒ
<
	gHTMLAÎCŞËùiÚ
> 
	gDocum’t
::
®l
()

4183  
HTMLAÎCŞËùiÚ
::
ü—‹
(
this
);

4186 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
wšdowNamedI‹ms
(cÚ¡ 
SŒšg
 &
Çme
)

4188  
HTMLNameCŞËùiÚ
::
ü—‹
(
this
, 
WšdowNamedI‹ms
, 
Çme
);

4191 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
	gDocum’t
::
docum’tNamedI‹ms
(cÚ¡ 
SŒšg
 &
Çme
)

4193  
HTMLNameCŞËùiÚ
::
ü—‹
(
this
, 
Docum’tNamedI‹ms
, 
Çme
);

4196 
CŞËùiÚCache
* 
	gDocum’t
::
ÇmeCŞËùiÚInfo
(
CŞËùiÚTy³
 
ty³
, cÚ¡ 
AtomicSŒšg
& 
Çme
)

4198 
ASSERT
(
ty³
 >ğ
Fœ¡NamedDocum’tCachedTy³
);

4199 
	gšdex
 = 
ty³
 - 
Fœ¡NamedDocum’tCachedTy³
;

4200 
ASSERT
(
šdex
 < 
NumNamedDocum’tCachedTy³s
);

4202 
	gNamedCŞËùiÚM­
& 
	gm­
 = 
m_ÇmeCŞËùiÚInfo
[
šdex
];

4203 
	gNamedCŞËùiÚM­
::
™”©Ü
 
™”
 = 
m­
.
fšd
(
Çme
.
im¶
());

4204 ià(
	g™”
 =ğ
m­
.
’d
())

4205 
™”
 = 
m­
.
add
(
Çme
.
im¶
(), 
Ãw
 
CŞËùiÚCache
).
	gfœ¡
;

4206 
	g™”
->
	g£cÚd
->
checkCÚsi¡’cy
();

4207  
	g™”
->
	g£cÚd
;

4210 
	gDocum’t
::
fšishedP¬sšg
()

4212 
£tP¬sšg
(
çl£
);

4213 
di¥©chEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
DOMCÚ‹ÁLßdedEv’t
, 
Œue
, 
çl£
));

4215 ià(
F¿me
* 
	gf
 = 
äame
()) {

4223 
upd©eStyËIfN“ded
();

4225 
	gf
->
lßd”
()->
fšishedP¬sšg
();

4227 #ià
ENABLE
(
INSPECTOR
)

4228 ià(!
·ge
())

4231 ià(
In¥eùÜCÚŒŞËr
* 
	gcÚŒŞËr
 = 
·ge
()->
š¥eùÜCÚŒŞËr
())

4232 
cÚŒŞËr
->
mašResourûFœedDOMCÚ‹ÁEv’t
(
f
->
lßd”
()->
docum’tLßd”
(), 
u¾
());

4237 
	gVeùÜ
<
	gSŒšg
> 
	gDocum’t
::
fÜmEËm’tsS‹
() const

4239 
VeùÜ
<
SŒšg
> 
¡©eVeùÜ
;

4240 
	g¡©eVeùÜ
.
»£rveIn™ŸlC­ac™y
(
m_fÜmEËm’tsW™hS‹
.
size
() * 3);

4241 
	gLi¡HashS‘
<
	tEËm’t
*>::
	tcÚ¡_™”©Ü
 
	tI‹¿tÜ
;

4242 
I‹¿tÜ
 
	g’d
 = 
m_fÜmEËm’tsW™hS‹
.
’d
();

4243 
I‹¿tÜ
 
	g™
 = 
m_fÜmEËm’tsW™hS‹
.
begš
(); iˆ!ğ
’d
; ++it) {

4244 
EËm’t
* 
	g–em’tW™hS‹
 = *
™
;

4245 
SŒšg
 
	gv®ue
;

4246 ià(!
	g–em’tW™hS‹
->
shouldSaveAndRe¡ÜeFÜmCÚŒŞS‹
())

4248 ià(!
	g–em’tW™hS‹
->
§veFÜmCÚŒŞS‹
(
v®ue
))

4250 
	g¡©eVeùÜ
.
­³nd
(
–em’tW™hS‹
->
fÜmCÚŒŞName
().
¡ršg
());

4251 
	g¡©eVeùÜ
.
­³nd
(
–em’tW™hS‹
->
fÜmCÚŒŞTy³
().
¡ršg
());

4252 
	g¡©eVeùÜ
.
­³nd
(
v®ue
);

4254  
	g¡©eVeùÜ
;

4257 #ià
ENABLE
(
XPATH
)

4259 
	gPassRefPŒ
<
	gXP©hEx´essiÚ
> 
	gDocum’t
::
ü—‹Ex´essiÚ
(cÚ¡ 
SŒšg
& 
ex´essiÚ
,

4260 
XP©hNSResŞv”
* 
»sŞv”
,

4261 
Exû±iÚCode
& 
ec
)

4263 ià(!
	gm_x·thEv®u©Ü
)

4264 
	gm_x·thEv®u©Ü
 = 
XP©hEv®u©Ü
::
ü—‹
();

4265  
	gm_x·thEv®u©Ü
->
ü—‹Ex´essiÚ
(
ex´essiÚ
, 
»sŞv”
, 
ec
);

4268 
	gPassRefPŒ
<
	gXP©hNSResŞv”
> 
	gDocum’t
::
ü—‹NSResŞv”
(
Node
* 
nodeResŞv”
)

4270 ià(!
m_x·thEv®u©Ü
)

4271 
m_x·thEv®u©Ü
 = 
XP©hEv®u©Ü
::
ü—‹
();

4272  
	gm_x·thEv®u©Ü
->
ü—‹NSResŞv”
(
nodeResŞv”
);

4275 
	gPassRefPŒ
<
	gXP©hResuÉ
> 
	gDocum’t
::
ev®u©e
(cÚ¡ 
SŒšg
& 
ex´essiÚ
,

4276 
Node
* 
cÚ‹xtNode
,

4277 
XP©hNSResŞv”
* 
»sŞv”
,

4278 
ty³
,

4279 
XP©hResuÉ
* 
»suÉ
,

4280 
Exû±iÚCode
& 
ec
)

4282 ià(!
	gm_x·thEv®u©Ü
)

4283 
	gm_x·thEv®u©Ü
 = 
XP©hEv®u©Ü
::
ü—‹
();

4284  
	gm_x·thEv®u©Ü
->
ev®u©e
(
ex´essiÚ
, 
cÚ‹xtNode
, 
»sŞv”
, 
ty³
, 
»suÉ
, 
ec
);

4289 
	gDocum’t
::
£tS‹FÜNewFÜmEËm’ts
(cÚ¡ 
VeùÜ
<
SŒšg
>& 
¡©eVeùÜ
)

4294 
FÜmEËm’tS‹M­
::
	t™”©Ü
 
	tI‹¿tÜ
;

4295 
	gm_fÜmEËm’tsW™hS‹
.
ş—r
();

4296 
size_t
 
	gi
 = 
¡©eVeùÜ
.
size
() / 3 * 3; i; i -= 3) {

4297 
AtomicSŒšg
 
a
 = 
¡©eVeùÜ
[
i
 - 3];

4298 
AtomicSŒšg
 
	gb
 = 
¡©eVeùÜ
[
i
 - 2];

4299 cÚ¡ 
	gSŒšg
& 
	gc
 = 
¡©eVeùÜ
[
i
 - 1];

4300 
FÜmEËm’tKey
 
key
(
a
.
im¶
(), 
b
.impl());

4301 
I‹¿tÜ
 
	g™
 = 
m_¡©eFÜNewFÜmEËm’ts
.
fšd
(
key
);

4302 ià(
	g™
 !ğ
m_¡©eFÜNewFÜmEËm’ts
.
’d
())

4303 
™
->
£cÚd
.
­³nd
(
c
);

4305 
	gVeùÜ
<
	gSŒšg
> 
v
(1);

4306 
	gv
[0] = 
c
;

4307 
	gm_¡©eFÜNewFÜmEËm’ts
.
£t
(
key
, 
v
);

4312 
boŞ
 
	gDocum’t
::
hasS‹FÜNewFÜmEËm’ts
() const

4314  !
m_¡©eFÜNewFÜmEËm’ts
.
isEm±y
();

4317 
boŞ
 
	gDocum’t
::
keS‹FÜFÜmEËm’t
(
AtomicSŒšgIm¶
* 
Çme
, AtomicSŒšgIm¶* 
ty³
, 
SŒšg
& 
¡©e
)

4319 
	gFÜmEËm’tS‹M­
::
	t™”©Ü
 
	tI‹¿tÜ
;

4320 
I‹¿tÜ
 
	g™
 = 
m_¡©eFÜNewFÜmEËm’ts
.
fšd
(
FÜmEËm’tKey
(
Çme
, 
ty³
));

4321 ià(
	g™
 =ğ
m_¡©eFÜNewFÜmEËm’ts
.
’d
())

4322  
çl£
;

4323 
ASSERT
(
™
->
£cÚd
.
size
());

4324 
	g¡©e
 = 
™
->
£cÚd
.
Ï¡
();

4325 ià(
	g™
->
	g£cÚd
.
size
() > 1)

4326 
	g™
->
	g£cÚd
.
»moveLa¡
();

4328 
	gm_¡©eFÜNewFÜmEËm’ts
.
»move
(
™
);

4329  
	gŒue
;

4332 
	gFÜmEËm’tKey
::
FÜmEËm’tKey
(
AtomicSŒšgIm¶
* 
Çme
, AtomicSŒšgIm¶* 
ty³
)

4333 : 
m_Çme
(
Çme
), 
m_ty³
(
ty³
)

4335 
»f
();

4338 
	gFÜmEËm’tKey
::~
FÜmEËm’tKey
()

4340 
d”ef
();

4343 
	gFÜmEËm’tKey
::
FÜmEËm’tKey
(cÚ¡ FÜmEËm’tKey& 
Ùh”
)

4344 : 
m_Çme
(
Ùh”
.
Çme
()), 
m_ty³
(Ùh”.
ty³
())

4346 
»f
();

4349 
	gFÜmEËm’tKey
& FÜmEËm’tKey::
İ”©Ü
=(cÚ¡ 
FÜmEËm’tKey
& 
Ùh”
)

4351 
Ùh”
.
»f
();

4352 
d”ef
();

4353 
	gm_Çme
 = 
Ùh”
.
Çme
();

4354 
	gm_ty³
 = 
Ùh”
.
ty³
();

4355  *
	gthis
;

4358 
	gFÜmEËm’tKey
::
»f
() const

4360 ià(
Çme
())

4361 
Çme
()->
»f
();

4362 ià(
ty³
())

4363 
ty³
()->
»f
();

4366 
	gFÜmEËm’tKey
::
d”ef
() const

4368 ià(
Çme
())

4369 
Çme
()->
d”ef
();

4370 ià(
ty³
())

4371 
ty³
()->
d”ef
();

4374 
	gFÜmEËm’tKeyHash
::
hash
(cÚ¡ 
FÜmEËm’tKey
& 
k
)

4376 
ASSERT
((
k
è% ((
ušt16_t
) * 2) == 0);

4378 
	gl
 = (
k
è/ ((
ušt16_t
) * 2);

4379 cÚ¡ 
ušt16_t
* 
	gs
 = 
»š‹½»t_ÿ¡
<cÚ¡ ušt16_t*>(&
k
);

4380 
ušt32_t
 
	ghash
 = 
WTF
::
¡ršgHashšgS¹V®ue
;

4383 ; 
	gl
 > 0;†--) {

4384 
	ghash
 +ğ
s
[0];

4385 
ušt32_t
 
	gtmp
 = (
s
[1] << 11è^ 
hash
;

4386 
	ghash
 = (
hash
 << 16è^ 
tmp
;

4387 
	gs
 += 2;

4388 
	ghash
 +ğ
hash
 >> 11;

4392 
	ghash
 ^ğ
hash
 << 3;

4393 
	ghash
 +ğ
hash
 >> 5;

4394 
	ghash
 ^ğ
hash
 << 2;

4395 
	ghash
 +ğ
hash
 >> 15;

4396 
	ghash
 ^ğ
hash
 << 10;

4401 ià(
	ghash
 == 0)

4402 
hash
 = 0x80000000;

4404  
	ghash
;

4407 
	gDocum’t
::
£tIcÚURL
(cÚ¡ 
SŒšg
& 
icÚURL
, cÚ¡ SŒšg& 
ty³
)

4410 ià(
	gm_icÚURL
.
isEm±y
())

4411 
	gm_icÚURL
 = 
icÚURL
;

4412 ià(!
	gty³
.
isEm±y
())

4413 
	gm_icÚURL
 = 
icÚURL
;

4416 
	gDocum’t
::
£tU£Secu»KeybßrdEÁryWh’Aùive
(
boŞ
 
u£sSecu»Keybßrd
)

4418 ià(
m_u£Secu»KeybßrdEÁryWh’Aùive
 =ğ
u£sSecu»Keybßrd
)

4421 
	gm_u£Secu»KeybßrdEÁryWh’Aùive
 = 
u£sSecu»Keybßrd
;

4422 
	gm_äame
->
£ËùiÚ
()->
upd©eSecu»KeybßrdEÁryIfAùive
();

4425 
boŞ
 
	gDocum’t
::
u£Secu»KeybßrdEÁryWh’Aùive
() const

4427  
m_u£Secu»KeybßrdEÁryWh’Aùive
;

4430 
	gDocum’t
::
š™Secur™yCÚ‹xt
()

4432 ià(
£cur™yOrigš
(è&& !£cur™yOrigš()->
isEm±y
())

4435 ià(!
	gm_äame
) {

4438 
	gm_cook›URL
 = 
KURL
(
P¬£dURLSŒšg
, "");

4439 
	gSütExecutiÚCÚ‹xt
::
£tSecur™yOrigš
(
Secur™yOrigš
::
ü—‹Em±y
());

4445 cÚ¡ 
	gKURL
& 
	gu¾
 = 
m_äame
->
lßd”
()->
u¾
();

4446 
	gm_cook›URL
 = 
u¾
;

4447 
	gSütExecutiÚCÚ‹xt
::
£tSecur™yOrigš
(
Secur™yOrigš
::
ü—‹
(
u¾
, 
m_äame
->
lßd”
()->
§ndboxFÏgs
()));

4449 ià(
	gSecur™yOrigš
::
®lowSub¡™u‹D©aAcûssToLoÿl
()) {

4454 
Docum’tLßd”
* 
docum’tLßd”
 = 
m_äame
->
lßd”
()->documentLoader();

4455 ià(
	gdocum’tLßd”
 && docum’tLßd”->
sub¡™u‹D©a
().
isV®id
())

4456 
£cur™yOrigš
()->
g¿ÁLßdLoÿlResourûs
();

4459 ià(
S‘tšgs
* 
	g£‰šgs
 = 
this
->
£‰šgs
()) {

4460 ià(!
£‰šgs
->
isWebSecur™yEÇbËd
()) {

4464 
£cur™yOrigš
()->
g¿ÁUniv”§lAcûss
();

4466 } ià(
	g£‰šgs
->
®lowUniv”§lAcûssFromFeURLs
(è&& 
£cur™yOrigš
()->
isLoÿl
()) {

4469 
£cur™yOrigš
()->
g¿ÁUniv”§lAcûss
();

4470 } ià(!
	g£‰šgs
->
®lowFeAcûssFromFeURLs
(è&& 
£cur™yOrigš
()->
isLoÿl
()) {

4473 
£cur™yOrigš
()->
’fÜûFeP©hS•¬©iÚ
();

4477 ià(!
£cur™yOrigš
()->
isEm±y
())

4483 
F¿me
* 
	gowÃrF¿me
 = 
m_äame
->
Œ“
()->
·»Á
();

4484 ià(!
	gowÃrF¿me
)

4485 
	gowÃrF¿me
 = 
m_äame
->
lßd”
()->
İ’”
();

4487 ià(
	gowÃrF¿me
) {

4488 
	gm_cook›URL
 = 
owÃrF¿me
->
docum’t
()->
cook›URL
();

4491 
	gSütExecutiÚCÚ‹xt
::
£tSecur™yOrigš
(
owÃrF¿me
->
docum’t
()->
£cur™yOrigš
());

4495 
	gDocum’t
::
£tSecur™yOrigš
(
Secur™yOrigš
* 
£cur™yOrigš
)

4497 
SütExecutiÚCÚ‹xt
::
£tSecur™yOrigš
(
£cur™yOrigš
);

4500 
š™DNSP»ãtch
();

4503 #ià
ENABLE
(
DATABASE
)

4505 
boŞ
 
	gDocum’t
::
isD©aba£R—dOÆy
() const

4507 ià(!
·ge
(è||…age()->
£‰šgs
()->
´iv©eBrowsšgEÇbËd
())

4508  
Œue
;

4509  
	gçl£
;

4512 
	gDocum’t
::
d©aba£ExûededQuÙa
(cÚ¡ 
SŒšg
& 
Çme
)

4514 
Page
* 
cu¼’tPage
 = 
·ge
();

4515 ià(
	gcu¼’tPage
)

4516 
	gcu¼’tPage
->
chrome
()->
ş›Á
()->
exûededD©aba£QuÙa
(
docum’t
()->
äame
(), 
Çme
);

4521 
boŞ
 
	gDocum’t
::
isCÚ‹xtTh»ad
() const

4523  
isMašTh»ad
();

4526 
	gDocum’t
::
upd©eURLFÜPushOrR•ÏûS‹
(cÚ¡ 
KURL
& 
u¾
)

4528 
F¿me
* 
f
 = 
äame
();

4529 ià(!
	gf
)

4532 
£tURL
(
u¾
);

4533 
	gf
->
lßd”
()->
docum’tLßd”
()->
»¶aûReque¡URLFÜSameDocum’tNavig©iÚ
(
u¾
);

4536 
	gDocum’t
::
¡©ePİ³d
(
S”ŸlizedSütV®ue
* 
¡©eObjeù
)

4538 
F¿me
* 
f
 = 
äame
();

4539 ià(!
	gf
)

4542 ià(
	gf
->
lßd”
()->
isCom¶‘e
())

4543 
’queuePİ¡©eEv’t
(
¡©eObjeù
);

4545 
	gm_³ndšgS‹Objeù
 = 
¡©eObjeù
;

4548 
	gDocum’t
::
upd©eFocusAµ—¿nûSoÚ
(
boŞ
 
»¡ÜeP»viousS–eùiÚ
)

4550 
m_upd©eFocusAµ—¿nûRe¡ÜesS–eùiÚ
 = 
»¡ÜeP»viousS–eùiÚ
;

4551 ià(!
	gm_upd©eFocusAµ—¿nûTim”
.
isAùive
())

4552 
	gm_upd©eFocusAµ—¿nûTim”
.
¡¬tOÃShÙ
(0);

4555 
	gDocum’t
::
ÿnûlFocusAµ—¿nûUpd©e
()

4557 
m_upd©eFocusAµ—¿nûTim”
.
¡İ
();

4560 
	gDocum’t
::
upd©eFocusAµ—¿nûTim”Fœed
(
Tim”
<
Docum’t
>*)

4562 
Node
* 
node
 = 
focu£dNode
();

4563 ià(!
	gnode
)

4565 ià(!
	gnode
->
isEËm’tNode
())

4568 
upd©eLayout
();

4570 
EËm’t
* 
	g–em’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
node
);

4571 ià(
	g–em’t
->
isFocu§bË
())

4572 
	g–em’t
->
upd©eFocusAµ—¿nû
(
m_upd©eFocusAµ—¿nûRe¡ÜesS–eùiÚ
);

4575 
	gDocum’t
::
execu‹SütSoÚTim”Fœed
(
Tim”
<
Docum’t
>* 
tim”
)

4577 
ASSERT_UNUSED
(
tim”
,im” =ğ&
m_execu‹SütSoÚTim”
);

4579 
	gVeùÜ
<
	g·œ
<
	gSütEËm’tD©a
*, 
	gCachedResourûHªdË
<
	gCachedSüt
> > > 
	gsüts
;

4580 
	gsüts
.
sw­
(
m_sütsToExecu‹SoÚ
);

4581 
size_t
 
	gsize
 = 
süts
.
size
();

4582 
size_t
 
	gi
 = 0; i < 
	gsize
; ++i) {

4583 
	gsüts
[
i
].
	gfœ¡
->
execu‹
(
süts
[i].
£cÚd
.
g‘
());

4584 
	gsüts
[
i
].
	gfœ¡
->
–em’t
()->
d”ef
();

4588 
	gDocum’t
::
execu‹SütSoÚ
(
SütEËm’tD©a
* 
d©a
, 
CachedResourûHªdË
<
CachedSüt
> 
ÿchedSüt
)

4590 
ASSERT_ARG
(
d©a
, data);

4592 
EËm’t
* 
	g–em’t
 = 
d©a
->
–em’t
();

4593 
ASSERT
(
–em’t
);

4594 
ASSERT
(
–em’t
->
docum’t
(è=ğ
this
);

4595 
ASSERT
(
–em’t
->
šDocum’t
());

4597 
	gm_sütsToExecu‹SoÚ
.
­³nd
(
make_·œ
(
d©a
, 
ÿchedSüt
));

4598 
	g–em’t
->
»f
();

4599 ià(!
	gm_execu‹SütSoÚTim”
.
isAùive
())

4600 
	gm_execu‹SütSoÚTim”
.
¡¬tOÃShÙ
(0);

4604 
DOMS–eùiÚ
* 
	gDocum’t
::
g‘S–eùiÚ
() const

4606  
äame
(è? f¿me()->
domWšdow
()->
g‘S–eùiÚ
() : 0;

4609 #ià
ENABLE
(
WML
)

4610 
	gDocum’t
::
»£tWMLPageS‹
()

4612 ià(
WMLPageS‹
* 
·geS‹
 = 
wmlPageS‹FÜDocum’t
(
this
))

4613 
·geS‹
->
»£t
();

4616 
	gDocum’t
::
š™ŸlizeWMLPageS‹
()

4618 ià(!
isWMLDocum’t
())

4621 
	g¡©ic_ÿ¡
<
	gWMLDocum’t
*>(
	gthis
)->
š™Ÿlize
();

4625 
	gDocum’t
::
©chRªge
(
Rªge
* 
¿nge
)

4627 
ASSERT
(!
m_¿nges
.
cÚšs
(
¿nge
));

4628 
	gm_¿nges
.
add
(
¿nge
);

4631 
	gDocum’t
::
d‘achRªge
(
Rªge
* 
¿nge
)

4635 
m_¿nges
.
»move
(
¿nge
);

4638 
CªvasR’d”šgCÚ‹xt
* 
	gDocum’t
::
g‘CSSCªvasCÚ‹xt
(cÚ¡ 
SŒšg
& 
ty³
, cÚ¡ SŒšg& 
Çme
, 
width
, 
height
)

4640 
HTMLCªvasEËm’t
* 
	g»suÉ
 = 
g‘CSSCªvasEËm’t
(
Çme
);

4641 ià(!
	g»suÉ
)

4643 
	g»suÉ
->
£tSize
(
IÁSize
(
width
, 
height
));

4644  
	g»suÉ
->
g‘CÚ‹xt
(
ty³
);

4647 
HTMLCªvasEËm’t
* 
	gDocum’t
::
g‘CSSCªvasEËm’t
(cÚ¡ 
SŒšg
& 
Çme
)

4649 
RefPŒ
<
HTMLCªvasEËm’t
> 
»suÉ
 = 
m_cssCªvasEËm’ts
.
g‘
(
Çme
).get();

4650 ià(!
	g»suÉ
) {

4651 
	g»suÉ
 = 
Ãw
 
HTMLCªvasEËm’t
(
ÿnvasTag
, 
this
);

4652 
	gm_cssCªvasEËm’ts
.
£t
(
Çme
, 
»suÉ
);

4654  
	g»suÉ
.
g‘
();

4657 
	gDocum’t
::
š™DNSP»ãtch
()

4659 
m_haveEx¶ic™lyDi§bËdDNSP»ãtch
 = 
çl£
;

4660 
	gm_isDNSP»ãtchEÇbËd
 = 
£cur™yOrigš
()->
´ÙocŞ
() == "http";

4663 ià(
Docum’t
* 
	g·»Á
 = 
·»ÁDocum’t
()) {

4664 ià(!
·»Á
->
isDNSP»ãtchEÇbËd
())

4665 
m_isDNSP»ãtchEÇbËd
 = 
çl£
;

4669 
	gDocum’t
::
·r£DNSP»ãtchCÚŒŞH—d”
(cÚ¡ 
SŒšg
& 
dnsP»ãtchCÚŒŞ
)

4671 ià(
equ®IgnÜšgCa£
(
dnsP»ãtchCÚŒŞ
, "Ú"è&& !
	gm_haveEx¶ic™lyDi§bËdDNSP»ãtch
) {

4672 
	gm_isDNSP»ãtchEÇbËd
 = 
Œue
;

4676 
	gm_isDNSP»ãtchEÇbËd
 = 
çl£
;

4677 
	gm_haveEx¶ic™lyDi§bËdDNSP»ãtch
 = 
Œue
;

4680 
	gDocum’t
::
»pÜtExû±iÚ
(cÚ¡ 
SŒšg
& 
”rÜMes§ge
, 
lšeNumb”
, cÚ¡ SŒšg& 
sourûURL
)

4682 
addMes§ge
(
JSMes§geSourû
, 
LogMes§geTy³
, 
E¼ÜMes§geLev–
, 
”rÜMes§ge
, 
lšeNumb”
, 
sourûURL
);

4685 
	gDocum’t
::
addMes§ge
(
Mes§geSourû
 
sourû
, 
Mes§geTy³
 
ty³
, 
Mes§geLev–
 
Ëv–
, cÚ¡ 
SŒšg
& 
mes§ge
, 
lšeNumb”
, cÚ¡ SŒšg& 
sourûURL
)

4687 ià(
DOMWšdow
* 
	gwšdow
 = 
domWšdow
())

4688 
wšdow
->
cÚsŞe
()->
addMes§ge
(
sourû
, 
ty³
, 
Ëv–
, 
mes§ge
, 
lšeNumb”
, 
sourûURL
);

4691 
	gP”fÜmTaskCÚ‹xt
 : 
NÚcİyabË
 {

4692 
P”fÜmTaskCÚ‹xt
(
PassRefPŒ
<
Docum’tW—kReã»nû
> 
docum’tReã»nû
, 
PassOwnPŒ
<
SütExecutiÚCÚ‹xt
::
Task
> 
sk
)

4693 : 
docum’tReã»nû
(documentReference)

4694 , 
sk
(task)

4698 
	gRefPŒ
<
	gDocum’tW—kReã»nû
> 
	gdocum’tReã»nû
;

4699 
	gOwnPŒ
<
	gSütExecutiÚCÚ‹xt
::
Task
> 
sk
;

4702 
³rfÜmTask
(* 
ùx
)

4704 
ASSERT
(
isMašTh»ad
());

4706 
P”fÜmTaskCÚ‹xt
* 
	gcÚ‹xt
 = 
»š‹½»t_ÿ¡
<P”fÜmTaskCÚ‹xt*>(
ùx
);

4707 
ASSERT
(
cÚ‹xt
);

4709 ià(
Docum’t
* 
	gdocum’t
 = 
cÚ‹xt
->
docum’tReã»nû
->
docum’t
())

4710 
cÚ‹xt
->
sk
->
³rfÜmTask
(
docum’t
);

4712 
d–‘e
 
	gcÚ‹xt
;

4715 
	gDocum’t
::
po¡Task
(
PassOwnPŒ
<
Task
> 
sk
)

4717 
ÿÎOnMašTh»ad
(
³rfÜmTask
, 
Ãw
 
P”fÜmTaskCÚ‹xt
(
m_w—kReã»nû
, 
sk
));

4720 
EËm’t
* 
	gDocum’t
::
fšdAnchÜ
(cÚ¡ 
SŒšg
& 
Çme
)

4722 ià(
Çme
.
isEm±y
())

4724 ià(
EËm’t
* 
	g–em’t
 = 
g‘EËm’tById
(
Çme
))

4725  
–em’t
;

4726 
Node
* 
	gnode
 = 
this
;‚ode;‚odğ
node
->
Œav”£NextNode
()) {

4727 ià(
node
->
hasTagName
(
aTag
)) {

4728 
HTMLAnchÜEËm’t
* 
ªchÜ
 = 
¡©ic_ÿ¡
<HTMLAnchÜEËm’t*>(
node
);

4729 ià(
šCom·tMode
()) {

4731 ià(
equ®IgnÜšgCa£
(
ªchÜ
->
Çme
(),‚ame))

4732  
	gªchÜ
;

4735 ià(
	gªchÜ
->
Çme
() ==‚ame)

4736  
ªchÜ
;

4743 
SŒšg
 
	gDocum’t
::
di¥ÏySŒšgModif›dByEncodšg
(cÚ¡ SŒšg& 
¡r
) const

4745 ià(
m_decod”
)

4746  
m_decod”
->
’codšg
().
di¥ÏySŒšg
(
¡r
.
im¶
());

4747  
	g¡r
;

4750 
	gPassRefPŒ
<
	gSŒšgIm¶
> 
	gDocum’t
::
di¥ÏySŒšgModif›dByEncodšg
(
PassRefPŒ
<
SŒšgIm¶
> 
¡r
) const

4752 ià(
m_decod”
)

4753  
m_decod”
->
’codšg
().
di¥ÏySŒšg
(
¡r
);

4754  
	g¡r
;

4757 
	gDocum’t
::
di¥ÏyBufãrModif›dByEncodšg
(
UCh¬
* 
bufãr
, 
Ën
) const

4759 ià(
	gm_decod”
)

4760 
	gm_decod”
->
’codšg
().
di¥ÏyBufãr
(
bufãr
, 
Ën
);

4763 
	gDocum’t
::
’queuePageshowEv’t
(
PageshowEv’tP”si¡’û
 
³rsi¡ed
)

4766 
di¥©chWšdowEv’t
(
PageT¿ns™iÚEv’t
::
ü—‹
(
ev’tNames
().
·geshowEv’t
, 
³rsi¡ed
), 
this
);

4769 
	gDocum’t
::
’queueHashchªgeEv’t
(cÚ¡ 
SŒšg
& , const String& )

4774 
di¥©chWšdowEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
hashchªgeEv’t
, 
çl£
, false));

4777 
	gDocum’t
::
’queuePİ¡©eEv’t
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
¡©eObjeù
)

4780 
di¥©chWšdowEv’t
(
PİS‹Ev’t
::
ü—‹
(
¡©eObjeù
));

4783 #ià
ENABLE
(
XHTMLMP
)

4784 
boŞ
 
	gDocum’t
::
isXHTMLMPDocum’t
() const

4786 ià(!
äame
(è|| !äame()->
lßd”
())

4787  
çl£
;

4792  
äame
()->
lßd”
()->
»¥Ú£MIMETy³
() == "application/vnd.wap.xhtml+xml";

4796 #ià
ENABLE
(
INSPECTOR
)

4797 
In¥eùÜTim–šeAg’t
* 
	gDocum’t
::
š¥eùÜTim–šeAg’t
() const

4799  
·ge
(è?…age()->
š¥eùÜTim–šeAg’t
() : 0;

4802 
In¥eùÜCÚŒŞËr
* 
	gDocum’t
::
š¥eùÜCÚŒŞËr
() const

4804  
·ge
(è?…age()->
š¥eùÜCÚŒŞËr
() : 0;

	@Document.h

26 #iâdeà
Docum’t_h


27 
	#Docum’t_h


	)

29 
	~"CachedResourûHªdË.h
"

30 
	~"CheckedRadioBu‰Ús.h
"

31 
	~"CÚš”Node.h
"

32 
	~"CŞËùiÚCache.h
"

33 
	~"CŞËùiÚTy³.h
"

34 
	~"CŞÜ.h
"

35 
	~"Docum’t.h
"

36 
	~"Docum’tM¬k”.h
"

37 
	~"SütExecutiÚCÚ‹xt.h
"

38 
	~"Tim”.h
"

39 #ià
USE
(
JSC
)

40 
	~<ruÁime/W—kGCM­.h
>

42 
	~<wtf/HashCouÁedS‘.h
>

43 
	~<wtf/OwnPŒ.h
>

44 
	~<wtf/PassOwnPŒ.h
>

46 
Çme¥aû
 
	gWebCÜe
 {

48 
şass
 
	gA‰r
;

49 
şass
 
	gAXObjeùCache
;

50 
şass
 
	gCDATASeùiÚ
;

51 
şass
 
	gCachedCSSStyËSh“t
;

52 
şass
 
	gCachedSüt
;

53 
şass
 
	gCªvasR’d”šgCÚ‹xt
;

54 
şass
 
	gCh¬aù”D©a
;

55 
şass
 
	gCSSStyËDeş¬©iÚ
;

56 
şass
 
	gCSSStyËS–eùÜ
;

57 
şass
 
	gCSSStyËSh“t
;

58 
şass
 
	gComm’t
;

59 
şass
 
	gD©aba£
;

60 
şass
 
	gDOMIm¶em’tiÚ
;

61 
şass
 
	gDOMS–eùiÚ
;

62 
şass
 
	gDOMWšdow
;

63 
şass
 
	gD©aba£Th»ad
;

64 
şass
 
	gDocLßd”
;

65 
şass
 
	gDocum’tF¿gm’t
;

66 
şass
 
	gDocum’tTy³
;

67 
şass
 
	gDocum’tW—kReã»nû
;

68 
şass
 
	gEd™šgText
;

69 
şass
 
	gEËm’t
;

70 
şass
 
	gEÁ™yReã»nû
;

71 
şass
 
	gEv’t
;

72 
şass
 
	gEv’tLi¡’”
;

73 
şass
 
	gF¿me
;

74 
şass
 
	gF¿meV›w
;

75 
şass
 
	gHTMLCªvasEËm’t
;

76 
şass
 
	gHTMLCŞËùiÚ
;

77 
şass
 
	gHTMLAÎCŞËùiÚ
;

78 
şass
 
	gHTMLDocum’t
;

79 
şass
 
	gHTMLEËm’t
;

80 
şass
 
	gHTMLFÜmEËm’t
;

81 
şass
 
	gHTMLH—dEËm’t
;

82 
şass
 
	gHTMLIÅutEËm’t
;

83 
şass
 
	gHTMLM­EËm’t
;

84 
şass
 
	gHi¡ÜyI‹m
;

85 
şass
 
	gH™Te¡Reque¡
;

86 
şass
 
	gIn¥eùÜTim–šeAg’t
;

87 
şass
 
	gIÁPošt
;

88 
şass
 
	gDOMW¿µ”WÜld
;

89 
şass
 
	gJSNode
;

90 
şass
 
	gMou£Ev’tW™hH™Te¡ResuÉs
;

91 
şass
 
	gNodeF‹r
;

92 
şass
 
	gNodeI‹¿tÜ
;

93 
şass
 
	gPage
;

94 
şass
 
	gPÏtfÜmMou£Ev’t
;

95 
şass
 
	gProûssšgIn¡ruùiÚ
;

96 
şass
 
	gRªge
;

97 
şass
 
	gRegi¡”edEv’tLi¡’”
;

98 
şass
 
	gR’d”A»Ç
;

99 
şass
 
	gR’d”V›w
;

100 
şass
 
	gSütEËm’tD©a
;

101 
şass
 
	gSecur™yOrigš
;

102 
şass
 
	gS”ŸlizedSütV®ue
;

103 
şass
 
	gSegm’‹dSŒšg
;

104 
şass
 
	gS‘tšgs
;

105 
şass
 
	gStyËSh“t
;

106 
şass
 
	gStyËSh“tLi¡
;

107 
şass
 
	gText
;

108 
şass
 
	gTextResourûDecod”
;

109 
şass
 
	gTok’iz”
;

110 
şass
 
	gT»eW®k”
;

111 
şass
 
	gXMLH‰pReque¡
;

113 #ià
ENABLE
(
SVG
)

114 
şass
 
	gSVGDocum’tEx‹nsiÚs
;

117 #ià
ENABLE
(
XSLT
)

118 
şass
 
	gT¿nsfÜmSourû
;

121 #ià
ENABLE
(
XBL
)

122 
şass
 
	gXBLBšdšgMªag”
;

125 #ià
ENABLE
(
XPATH
)

126 
şass
 
	gXP©hEv®u©Ü
;

127 
şass
 
	gXP©hEx´essiÚ
;

128 
şass
 
	gXP©hNSResŞv”
;

129 
şass
 
	gXP©hResuÉ
;

132 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

133 
	gDashbßrdRegiÚV®ue
;

136 
	tExû±iÚCode
;

138 şas 
	cFÜmEËm’tKey
 {

139 
	gpublic
:

140 
FÜmEËm’tKey
(
AtomicSŒšgIm¶
* = 0, AtomicStringImpl* = 0);

141 ~
FÜmEËm’tKey
();

142 
FÜmEËm’tKey
(const FormElementKey&);

143 
	gFÜmEËm’tKey
& 
	gİ”©Ü
=(cÚ¡ 
FÜmEËm’tKey
&);

145 
AtomicSŒšgIm¶
* 
Çme
(ècÚ¡ {  
	gm_Çme
; }

146 
AtomicSŒšgIm¶
* 
ty³
(ècÚ¡ {  
	gm_ty³
; }

149 
FÜmEËm’tKey
(
WTF
::
HashTabËD–‘edV®ueTy³
è: 
m_Çme
(
hashTabËD–‘edV®ue
()) { }

150 
boŞ
 
isHashTabËD–‘edV®ue
(ècÚ¡ {  
m_Çme
 =ğ
hashTabËD–‘edV®ue
(); }

152 
	g´iv©e
:

153 
»f
() const;

154 
d”ef
() const;

156 
AtomicSŒšgIm¶
* 
hashTabËD–‘edV®ue
(è{  
	g»š‹½»t_ÿ¡
<
	gAtomicSŒšgIm¶
*>(-1); }

158 
AtomicSŒšgIm¶
* 
	gm_Çme
;

159 
AtomicSŒšgIm¶
* 
	gm_ty³
;

162 
šlše
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
FÜmEËm’tKey
& 
a
, cÚ¡ 
	gFÜmEËm’tKey
& 
	gb
)

164  
	ga
.
Çme
(è=ğ
b
.Çme(è&& 
a
.
ty³
() == b.type();

167 
	sFÜmEËm’tKeyHash
 {

168 
hash
(cÚ¡ 
FÜmEËm’tKey
&);

169 
boŞ
 
equ®
(cÚ¡ 
FÜmEËm’tKey
& 
a
, cÚ¡ FÜmEËm’tKey& 
b
è{  
	ga
 == b; }

170 cÚ¡ 
boŞ
 
	g§ãToCom·»ToEm±yOrD–‘ed
 = 
Œue
;

173 
	gFÜmEËm’tKeyHashT¿™s
 : 
WTF
::
G’”icHashT¿™s
<
FÜmEËm’tKey
> {

174 
cÚ¡ruùD–‘edV®ue
(
FÜmEËm’tKey
& 
¦Ù
è{ 
Ãw
 (&¦ÙèFÜmEËm’tKey(
WTF
::
HashTabËD–‘edV®ue
); }

175 
boŞ
 
isD–‘edV®ue
(cÚ¡ 
FÜmEËm’tKey
& 
v®ue
è{  
	gv®ue
.
isHashTabËD–‘edV®ue
(); }

178 
	ePageshowEv’tP”si¡’û
 {

179 
	gPageshowEv’tNÙP”si¡ed
 = 0,

180 
	gPageshowEv’tP”si¡ed
 = 1

183 
şass
 
	gDocum’t
 : 
public
 
CÚš”Node
,…ubliø
	gSütExecutiÚCÚ‹xt
 {

184 
	gpublic
:

185 
PassRefPŒ
<
Docum’t
> 
ü—‹
(
F¿me
* 
äame
)

187  
adİtRef
(
Ãw
 
Docum’t
(
äame
, 
çl£
, false));

189 
	gPassRefPŒ
<
	gDocum’t
> 
ü—‹XHTML
(
F¿me
* 
äame
)

191  
adİtRef
(
Ãw
 
Docum’t
(
äame
, 
Œue
, 
çl£
));

193 
	gvœtu®
 ~
Docum’t
();

195 
usšg
 
	gCÚš”Node
::
»f
;

196 
usšg
 
	gCÚš”Node
::
d”ef
;

204 
£lfOÆyRef
()

206 
ASSERT
(!
m_d–‘iÚHasBegun
);

207 ++
	gm_£lfOÆyRefCouÁ
;

209 
£lfOÆyD”ef
()

211 
ASSERT
(!
m_d–‘iÚHasBegun
);

212 --
	gm_£lfOÆyRefCouÁ
;

213 ià(!
	gm_£lfOÆyRefCouÁ
 && !
»fCouÁ
()) {

214 #iâdeà
NDEBUG


215 
	gm_d–‘iÚHasBegun
 = 
Œue
;

217 
d–‘e
 
	gthis
;

223 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
abÜt
);

224 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
chªge
);

225 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
şick
);

226 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
cÚ‹xtm’u
);

227 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
dblşick
);

228 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g’‹r
);

229 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿gov”
);

230 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿gËave
);

231 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
drİ
);

232 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g¡¬t
);

233 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g
);

234 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g’d
);

235 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
šput
);

236 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
šv®id
);

237 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
keydown
);

238 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
key´ess
);

239 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
keyup
);

240 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£down
);

241 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£move
);

242 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£out
);

243 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£ov”
);

244 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£up
);

245 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£wh“l
);

246 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
süŞl
);

247 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£Ëù
);

248 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
subm™
);

250 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
blur
);

251 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
”rÜ
);

252 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
focus
);

253 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
lßd
);

256 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
befÜecut
);

257 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
cut
);

258 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
befÜecİy
);

259 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
cİy
);

260 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
befÜ•a¡e
);

261 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
·¡e
);

262 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
»£t
);

263 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£¬ch
);

264 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£Ëù¡¬t
);

265 #ià
ENABLE
(
TOUCH_EVENTS
)

266 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touch¡¬t
);

267 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touchmove
);

268 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touch’d
);

269 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touchÿnûl
);

272 
Docum’tTy³
* 
doùy³
(ècÚ¡ {  
	gm_docTy³
.
g‘
(); }

274 
DOMIm¶em’tiÚ
* 
im¶em’tiÚ
() const;

276 
EËm’t
* 
docum’tEËm’t
() const

278 ià(!
	gm_docum’tEËm’t
)

279 
ÿcheDocum’tEËm’t
();

280  
	gm_docum’tEËm’t
.
g‘
();

283 
vœtu®
 
	gPassRefPŒ
<
	gEËm’t
> 
ü—‹EËm’t
(cÚ¡ 
AtomicSŒšg
& 
gName
, 
Exû±iÚCode
&);

284 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
ü—‹Docum’tF¿gm’t
();

285 
	gPassRefPŒ
<
	gText
> 
ü—‹TextNode
(cÚ¡ 
SŒšg
& 
d©a
);

286 
	gPassRefPŒ
<
	gComm’t
> 
ü—‹Comm’t
(cÚ¡ 
SŒšg
& 
d©a
);

287 
	gPassRefPŒ
<
	gCDATASeùiÚ
> 
ü—‹CDATASeùiÚ
(cÚ¡ 
SŒšg
& 
d©a
, 
Exû±iÚCode
&);

288 
	gPassRefPŒ
<
	gProûssšgIn¡ruùiÚ
> 
ü—‹ProûssšgIn¡ruùiÚ
(cÚ¡ 
SŒšg
& 
rg‘
, cÚ¡ SŒšg& 
d©a
, 
Exû±iÚCode
&);

289 
	gPassRefPŒ
<
	gA‰r
> 
ü—‹A‰ribu‹
(cÚ¡ 
SŒšg
& 
Çme
, 
Exû±iÚCode
&);

290 
	gPassRefPŒ
<
	gA‰r
> 
ü—‹A‰ribu‹NS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
qu®if›dName
, 
Exû±iÚCode
&, 
boŞ
 
shouldIgnÜeName¥aûChecks
 = 
çl£
);

291 
	gPassRefPŒ
<
	gEÁ™yReã»nû
> 
ü—‹EÁ™yReã»nû
(cÚ¡ 
SŒšg
& 
Çme
, 
Exû±iÚCode
&);

292 
	gPassRefPŒ
<
	gNode
> 
impÜtNode
(
Node
* 
impÜ‹dNode
, 
boŞ
 
d“p
, 
Exû±iÚCode
&);

293 
vœtu®
 
	gPassRefPŒ
<
	gEËm’t
> 
ü—‹EËm’tNS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
qu®if›dName
, 
Exû±iÚCode
&);

294 
	gPassRefPŒ
<
	gEËm’t
> 
ü—‹EËm’t
(cÚ¡ 
Qu®if›dName
&, 
boŞ
 
ü—‹dByP¬£r
);

295 
EËm’t
* 
g‘EËm’tById
(cÚ¡ 
AtomicSŒšg
&) const;

296 
boŞ
 
hasEËm’tW™hId
(
AtomicSŒšgIm¶
* 
id
) const;

297 
boŞ
 
cÚšsMuÉËEËm’tsW™hId
(cÚ¡ 
AtomicSŒšg
& 
–em’tId
è{  
	gm_du¶iÿ‹Ids
.
cÚšs
ÓËm’tId.
im¶
()); }

299 
EËm’t
* 
–em’tFromPošt
(
x
, 
y
) const;

300 
	gPassRefPŒ
<
	gRªge
> 
ÿ»tRªgeFromPošt
(
x
, 
y
);

302 
SŒšg
 
»adyS‹
() const;

304 
SŒšg
 
deçuÉCh¬£t
() const;

307 
SŒšg
 
šputEncodšg
(ècÚ¡ {  
	gDocum’t
::
’codšg
(); }

308 
SŒšg
 
ch¬£t
(ècÚ¡ {  
	gDocum’t
::
’codšg
(); }

309 
SŒšg
 
ch¬aù”S‘
(ècÚ¡ {  
	gDocum’t
::
’codšg
(); }

311 
£tCh¬£t
(cÚ¡ 
SŒšg
&);

313 
SŒšg
 
cÚ‹ÁLªguage
(ècÚ¡ {  
	gm_cÚ‹ÁLªguage
; }

314 
£tCÚ‹ÁLªguage
(cÚ¡ 
SŒšg
& 
Ïng
è{ 
	gm_cÚ‹ÁLªguage
 =†ang; }

316 
SŒšg
 
xmlEncodšg
(ècÚ¡ {  
	gm_xmlEncodšg
; }

317 
SŒšg
 
xmlV”siÚ
(ècÚ¡ {  
	gm_xmlV”siÚ
; }

318 
boŞ
 
xmlSnd®Úe
(ècÚ¡ {  
	gm_xmlSnd®Úe
; }

320 
£tXMLEncodšg
(cÚ¡ 
SŒšg
& 
’codšg
è{ 
	gm_xmlEncodšg
 =ƒncoding; }

321 
£tXMLV”siÚ
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

322 
£tXMLSnd®Úe
(
boŞ
, 
Exû±iÚCode
&);

324 
SŒšg
 
docum’tURI
(ècÚ¡ {  
	gm_docum’tURI
; }

325 
£tDocum’tURI
(cÚ¡ 
SŒšg
&);

327 
vœtu®
 
KURL
 
ba£URI
() const;

329 
	gPassRefPŒ
<
	gNode
> 
adİtNode
(
PassRefPŒ
<
Node
> 
sourû
, 
Exû±iÚCode
&);

331 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
images
();

332 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
embeds
();

333 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
¶ugšs
();

334 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
­¶‘s
();

335 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
lšks
();

336 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
fÜms
();

337 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
ªchÜs
();

338 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
objeùs
();

339 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
süts
();

340 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
wšdowNamedI‹ms
(cÚ¡ 
SŒšg
& 
Çme
);

341 
	gPassRefPŒ
<
	gHTMLCŞËùiÚ
> 
docum’tNamedI‹ms
(cÚ¡ 
SŒšg
& 
Çme
);

343 
	gPassRefPŒ
<
	gHTMLAÎCŞËùiÚ
> 
®l
();

350 
EËm’t
* 
fšdAnchÜ
(cÚ¡ 
SŒšg
& 
Çme
);

352 
CŞËùiÚCache
* 
cŞËùiÚInfo
(
CŞËùiÚTy³
 
ty³
)

354 
ASSERT
(
ty³
 >ğ
Fœ¡UÂamedDocum’tCachedTy³
);

355 
	gšdex
 = 
ty³
 - 
Fœ¡UÂamedDocum’tCachedTy³
;

356 
ASSERT
(
šdex
 < 
NumUÂamedDocum’tCachedTy³s
);

357 
	gm_cŞËùiÚInfo
[
šdex
].
checkCÚsi¡’cy
();

358  &
	gm_cŞËùiÚInfo
[
šdex
];

361 
CŞËùiÚCache
* 
ÇmeCŞËùiÚInfo
(
CŞËùiÚTy³
, cÚ¡ 
AtomicSŒšg
& 
Çme
);

364 
boŞ
 
isHTMLDocum’t
(ècÚ¡ {  
	gm_isHTML
; }

365 
vœtu®
 
boŞ
 
isImageDocum’t
(ècÚ¡ {  
	gçl£
; }

366 #ià
ENABLE
(
SVG
)

367 
vœtu®
 
boŞ
 
isSVGDocum’t
(ècÚ¡ {  
	gçl£
; }

369 
boŞ
 
isSVGDocum’t
(è{  
	gçl£
; }

371 
vœtu®
 
boŞ
 
isPlugšDocum’t
(ècÚ¡ {  
	gçl£
; }

372 
vœtu®
 
boŞ
 
isMedŸDocum’t
(ècÚ¡ {  
	gçl£
; }

373 #ià
ENABLE
(
WML
)

374 
vœtu®
 
boŞ
 
isWMLDocum’t
(ècÚ¡ {  
	gçl£
; }

376 #ià
ENABLE
(
XHTMLMP
)

377 
boŞ
 
isXHTMLMPDocum’t
() const;

378 
boŞ
 
shouldProûssNosütEËm’t
(ècÚ¡ {  
	gm_shouldProûssNoSütEËm’t
; }

379 
£tShouldProûssNosütEËm’t
(
boŞ
 
shouldDo
è{ 
	gm_shouldProûssNoSütEËm’t
 = shouldDo; }

381 
vœtu®
 
boŞ
 
isF¿meS‘
(ècÚ¡ {  
	gçl£
; }

383 
CSSStyËS–eùÜ
* 
¡yËS–eùÜ
()

385 ià(!
	gm_¡yËS–eùÜ
)

386 
ü—‹StyËS–eùÜ
();

387  
	gm_¡yËS–eùÜ
.
g‘
();

390 
EËm’t
* 
g‘EËm’tByAcûssKey
(cÚ¡ 
SŒšg
& 
key
) const;

395 
»moveP’dšgSh“t
();

401 
boŞ
 
haveStyËsh“tsLßded
() const

403  
	gm_³ndšgStyËsh“ts
 <ğ0 || 
m_ignÜeP’dšgStyËsh“ts
;

410 
addP’dšgSh“t
(è{ 
	gm_³ndšgStyËsh“ts
++; }

412 
addStyËSh“tCªdid©eNode
(
Node
*, 
boŞ
 
ü—‹dByP¬£r
);

413 
»moveStyËSh“tCªdid©eNode
(
Node
*);

415 
boŞ
 
gÙoAnchÜN“dedAá”StyËsh“tsLßd
(è{  
	gm_gÙoAnchÜN“dedAá”StyËsh“tsLßd
; }

416 
£tGÙoAnchÜN“dedAá”StyËsh“tsLßd
(
boŞ
 
b
è{ 
	gm_gÙoAnchÜN“dedAá”StyËsh“tsLßd
 = b; }

427 
upd©eStyËS–eùÜ
();

429 
»ÿlcStyËS–eùÜ
();

431 
boŞ
 
u£sDesûndªtRuËs
(ècÚ¡ {  
	gm_u£sDesûndªtRuËs
; }

432 
£tU£sDesûndªtRuËs
(
boŞ
 
b
è{ 
	gm_u£sDesûndªtRuËs
 = b; }

433 
boŞ
 
u£sSiblšgRuËs
(ècÚ¡ {  
	gm_u£sSiblšgRuËs
; }

434 
£tU£sSiblšgRuËs
(
boŞ
 
b
è{ 
	gm_u£sSiblšgRuËs
 = b; }

435 
boŞ
 
u£sFœ¡LšeRuËs
(ècÚ¡ {  
	gm_u£sFœ¡LšeRuËs
; }

436 
£tU£sFœ¡LšeRuËs
(
boŞ
 
b
è{ 
	gm_u£sFœ¡LšeRuËs
 = b; }

437 
boŞ
 
u£sFœ¡L‘‹rRuËs
(ècÚ¡ {  
	gm_u£sFœ¡L‘‹rRuËs
; }

438 
£tU£sFœ¡L‘‹rRuËs
(
boŞ
 
b
è{ 
	gm_u£sFœ¡L‘‹rRuËs
 = b; }

439 
boŞ
 
u£sBefÜeAá”RuËs
(ècÚ¡ {  
	gm_u£sBefÜeAá”RuËs
; }

440 
£tU£sBefÜeAá”RuËs
(
boŞ
 
b
è{ 
	gm_u£sBefÜeAá”RuËs
 = b; }

441 
boŞ
 
u£sRemUn™s
(ècÚ¡ {  
	gm_u£sRemUn™s
; }

442 
£tU£sRemUn™s
(
boŞ
 
b
è{ 
	gm_u£sRemUn™s
 = b; }

443 
boŞ
 
u£sLškRuËs
(ècÚ¡ {  
lškCŞÜ
(è!ğ
vis™edLškCŞÜ
(è|| 
m_u£sLškRuËs
; }

444 
£tU£sLškRuËs
(
boŞ
 
b
è{ 
	gm_u£sLškRuËs
 = b; }

447 
»gi¡”FÜmEËm’tW™hS‹
(
EËm’t
* 
e
è{ 
	gm_fÜmEËm’tsW™hS‹
.
add
(e); }

448 
uÄegi¡”FÜmEËm’tW™hS‹
(
EËm’t
* 
e
è{ 
	gm_fÜmEËm’tsW™hS‹
.
»move
(e); }

449 
	gVeùÜ
<
	gSŒšg
> 
fÜmEËm’tsS‹
() const;

450 
£tS‹FÜNewFÜmEËm’ts
(cÚ¡ 
VeùÜ
<
SŒšg
>&);

451 
boŞ
 
hasS‹FÜNewFÜmEËm’ts
() const;

452 
boŞ
 
keS‹FÜFÜmEËm’t
(
AtomicSŒšgIm¶
* 
Çme
, AtomicSŒšgIm¶* 
ty³
, 
SŒšg
& 
¡©e
);

454 
F¿meV›w
* 
v›w
() const;

455 
F¿me
* 
äame
(ècÚ¡ {  
	gm_äame
; }

456 
Page
* 
·ge
() const;

457 
S‘tšgs
* 
£‰šgs
() const;

458 #ià
ENABLE
(
INSPECTOR
)

459 
In¥eùÜTim–šeAg’t
* 
š¥eùÜTim–šeAg’t
() const;

460 
vœtu®
 
In¥eùÜCÚŒŞËr
* 
š¥eùÜCÚŒŞËr
() const;

463 
	gPassRefPŒ
<
	gRªge
> 
ü—‹Rªge
();

465 
	gPassRefPŒ
<
	gNodeI‹¿tÜ
> 
ü—‹NodeI‹¿tÜ
(
Node
* 
roÙ
, 
wh©ToShow
,

466 
PassRefPŒ
<
NodeF‹r
>, 
boŞ
 
ex·ndEÁ™yReã»nûs
, 
Exû±iÚCode
&);

468 
	gPassRefPŒ
<
	gT»eW®k”
> 
ü—‹T»eW®k”
(
Node
* 
roÙ
, 
wh©ToShow
,

469 
PassRefPŒ
<
NodeF‹r
>, 
boŞ
 
ex·ndEÁ™yReã»nûs
, 
Exû±iÚCode
&);

472 
	gPassRefPŒ
<
	gCSSStyËDeş¬©iÚ
> 
ü—‹CSSStyËDeş¬©iÚ
();

473 
	gPassRefPŒ
<
	gEd™šgText
> 
ü—‹Ed™šgTextNode
(cÚ¡ 
SŒšg
&);

475 
vœtu®
 
»ÿlcStyË
(
StyËChªge
 = 
NoChªge
);

476 
boŞ
 
chdN“dsAndNÙInStyËReÿlc
();

477 
vœtu®
 
upd©eStyËIfN“ded
();

478 
upd©eLayout
();

479 
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

480 
	gPassRefPŒ
<
	gR’d”StyË
> 
¡yËFÜEËm’tIgnÜšgP’dšgStyËsh“ts
(
EËm’t
*);

481 
upd©eStyËFÜAÎDocum’ts
();

482 
DocLßd”
* 
docLßd”
(è{  
	gm_docLßd”
.
g‘
(); }

484 
vœtu®
 
©ch
();

485 
vœtu®
 
d‘ach
();

487 
R’d”A»Ç
* 
»nd”A»Ç
(è{  
	gm_»nd”A»Ç
.
g‘
(); }

489 
R’d”V›w
* 
»nd”V›w
() const;

491 
ş—rAXObjeùCache
();

492 
AXObjeùCache
* 
axObjeùCache
() const;

495 
£tVisu®lyOrd”ed
();

496 
boŞ
 
visu®lyOrd”ed
(ècÚ¡ {  
	gm_visu®lyOrd”ed
; }

498 
İ’
(
Docum’t
* 
owÃrDocum’t
 = 0);

499 
im¶ic™O³n
();

500 
şo£
();

501 
im¶ic™Clo£
();

502 
ÿnûlP¬sšg
();

504 
wr™e
(cÚ¡ 
Segm’‹dSŒšg
& 
‹xt
, 
Docum’t
* 
owÃrDocum’t
 = 0);

505 
wr™e
(cÚ¡ 
SŒšg
& 
‹xt
, 
Docum’t
* 
owÃrDocum’t
 = 0);

506 
wr™–n
(cÚ¡ 
SŒšg
& 
‹xt
, 
Docum’t
* 
owÃrDocum’t
 = 0);

507 
fšishP¬sšg
();

509 
boŞ
 
w–lFÜmed
(ècÚ¡ {  
	gm_w–lFÜmed
; }

511 cÚ¡ 
	gKURL
& 
u¾
(ècÚ¡ {  
	gm_u¾
; }

512 
£tURL
(cÚ¡ 
KURL
&);

514 cÚ¡ 
	gKURL
& 
ba£URL
(ècÚ¡ {  
	gm_ba£URL
; }

516 
£tBa£EËm’tURL
(cÚ¡ 
KURL
&);

518 cÚ¡ 
	gSŒšg
& 
ba£T¬g‘
(ècÚ¡ {  
	gm_ba£T¬g‘
; }

520 
£tBa£EËm’tT¬g‘
(cÚ¡ 
SŒšg
& 
ba£T¬g‘
è{ 
	gm_ba£T¬g‘
 = baseTarget; }

522 
KURL
 
com¶‘eURL
(cÚ¡ 
SŒšg
&) const;

524 
vœtu®
 
SŒšg
 
u£rAg’t
(cÚ¡ 
KURL
&) const;

526 
CSSStyËSh“t
* 
·geU£rSh“t
();

527 
ş—rPageU£rSh“t
();

529 cÚ¡ 
	gVeùÜ
<
	gRefPŒ
<
	gCSSStyËSh“t
> >* 
·geGroupU£rSh“ts
() const;

530 
ş—rPageGroupU£rSh“ts
();

532 
CSSStyËSh“t
* 
–em’tSh“t
();

533 
CSSStyËSh“t
* 
m­³dEËm’tSh“t
();

535 
vœtu®
 
Tok’iz”
* 
ü—‹Tok’iz”
();

536 
Tok’iz”
* 
tok’iz”
(è{  
	gm_tok’iz”
.
g‘
(); }

538 
boŞ
 
´štšg
(ècÚ¡ {  
	gm_´štšg
; }

539 
£tPrštšg
(
boŞ
 
p
è{ 
	gm_´štšg
 =…; }

541 
	eP¬£Mode
 { 
	gCom·t
, 
	gAlmo¡SŒiù
, 
	gSŒiù
 };

543 
£tP¬£Mode
(
P¬£Mode
 
m
è{ 
	gm_·r£Mode
 = m; }

544 
P¬£Mode
 
·r£Mode
(ècÚ¡ {  
	gm_·r£Mode
; }

546 
boŞ
 
šCom·tMode
(ècÚ¡ {  
	gm_·r£Mode
 =ğ
Com·t
; }

547 
boŞ
 
šAlmo¡SŒiùMode
(ècÚ¡ {  
	gm_·r£Mode
 =ğ
Almo¡SŒiù
; }

548 
boŞ
 
šSŒiùMode
(ècÚ¡ {  
	gm_·r£Mode
 =ğ
SŒiù
; }

550 
£tP¬sšg
(
boŞ
);

551 
boŞ
 
·rsšg
(ècÚ¡ {  
	gm_bP¬sšg
; }

552 
mšimumLayoutD–ay
();

555 
£tExŒaLayoutD–ay
(
d–ay
è{ 
	gm_exŒaLayoutD–ay
 = delay; }

557 
boŞ
 
shouldScheduËLayout
();

558 
–­£dTime
() const;

560 
£tTextCŞÜ
(cÚ¡ 
CŞÜ
& 
cŞÜ
è{ 
	gm_‹xtCŞÜ
 = color; }

561 
CŞÜ
 
‹xtCŞÜ
(ècÚ¡ {  
	gm_‹xtCŞÜ
; }

563 cÚ¡ 
	gCŞÜ
& 
lškCŞÜ
(ècÚ¡ {  
	gm_lškCŞÜ
; }

564 cÚ¡ 
	gCŞÜ
& 
vis™edLškCŞÜ
(ècÚ¡ {  
	gm_vis™edLškCŞÜ
; }

565 cÚ¡ 
	gCŞÜ
& 
aùiveLškCŞÜ
(ècÚ¡ {  
	gm_aùiveLškCŞÜ
; }

566 
£tLškCŞÜ
(cÚ¡ 
CŞÜ
& 
c
è{ 
	gm_lškCŞÜ
 = c; }

567 
£tVis™edLškCŞÜ
(cÚ¡ 
CŞÜ
& 
c
è{ 
	gm_vis™edLškCŞÜ
 = c; }

568 
£tAùiveLškCŞÜ
(cÚ¡ 
CŞÜ
& 
c
è{ 
	gm_aùiveLškCŞÜ
 = c; }

569 
»£tLškCŞÜ
();

570 
»£tVis™edLškCŞÜ
();

571 
»£tAùiveLškCŞÜ
();

573 
Mou£Ev’tW™hH™Te¡ResuÉs
 
´•¬eMou£Ev’t
(cÚ¡ 
H™Te¡Reque¡
&, cÚ¡ 
IÁPošt
&, cÚ¡ 
PÏtfÜmMou£Ev’t
&);

575 
StyËSh“tLi¡
* 
¡yËSh“ts
();

581 
SŒšg
 
´eã¼edStyËsh“tS‘
() const;

582 
SŒšg
 
£ËùedStyËsh“tS‘
() const;

583 
£tS–eùedStyËsh“tS‘
(cÚ¡ 
SŒšg
&);

585 
boŞ
 
£tFocu£dNode
(
PassRefPŒ
<
Node
>);

586 
Node
* 
focu£dNode
(ècÚ¡ {  
	gm_focu£dNode
.
g‘
(); }

588 
g‘Focu§bËNodes
(
VeùÜ
<
RefPŒ
<
Node
> >&);

592 
boŞ
 
ignÜeAutofocus
(ècÚ¡ {  
	gm_ignÜeAutofocus
; };

593 
£tIgnÜeAutofocus
(
boŞ
 
shouldIgnÜe
 = 
Œue
è{ 
m_ignÜeAutofocus
 = shouldIgnore; };

595 
£tHov”Node
(
PassRefPŒ
<
Node
>);

596 
Node
* 
hov”Node
(ècÚ¡ {  
	gm_hov”Node
.
g‘
(); }

598 
£tAùiveNode
(
PassRefPŒ
<
Node
>);

599 
Node
* 
aùiveNode
(ècÚ¡ {  
	gm_aùiveNode
.
g‘
(); }

601 
focu£dNodeRemoved
();

602 
»moveFocu£dNodeOfSubŒ“
(
Node
*, 
boŞ
 
amÚgChd»nOÆy
 = 
çl£
);

603 
hov”edNodeD‘ached
(
Node
*);

604 
aùiveChašNodeD‘ached
(
Node
*);

607 
£tCSST¬g‘
(
EËm’t
*);

608 
EËm’t
* 
cssT¬g‘
(ècÚ¡ {  
	gm_cssT¬g‘
; }

610 
scheduËStyËReÿlc
();

611 
unscheduËStyËReÿlc
();

612 
¡yËReÿlcTim”Fœed
(
Tim”
<
Docum’t
>*);

614 
©chNodeI‹¿tÜ
(
NodeI‹¿tÜ
*);

615 
d‘achNodeI‹¿tÜ
(
NodeI‹¿tÜ
*);

617 
©chRªge
(
Rªge
*);

618 
d‘achRªge
(
Rªge
*);

620 
nodeChd»nChªged
(
CÚš”Node
*);

621 
nodeWlBeRemoved
(
Node
*);

623 
‹xtIn£¹ed
(
Node
*, 
off£t
, 
Ëngth
);

624 
‹xtRemoved
(
Node
*, 
off£t
, 
Ëngth
);

625 
‹xtNodesM”ged
(
Text
* 
ŞdNode
, 
off£t
);

626 
‹xtNodeS¶™
(
Text
* 
ŞdNode
);

628 
DOMWšdow
* 
deçuÉV›w
(ècÚ¡ {  
domWšdow
(); }

629 
DOMWšdow
* 
domWšdow
() const;

632 
£tWšdowA‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
>);

633 
Ev’tLi¡’”
* 
g‘WšdowA‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
);

634 
di¥©chWšdowEv’t
(
PassRefPŒ
<
Ev’t
>, PassRefPŒ<
Ev’tT¬g‘
> = 0);

635 
di¥©chWšdowLßdEv’t
();

637 
	gPassRefPŒ
<
	gEv’t
> 
ü—‹Ev’t
(cÚ¡ 
SŒšg
& 
ev’tTy³
, 
Exû±iÚCode
&);

641 
	eLi¡’”Ty³
 {

642 
	gDOMSUBTREEMODIFIED_LISTENER
 = 0x01,

643 
	gDOMNODEINSERTED_LISTENER
 = 0x02,

644 
	gDOMNODEREMOVED_LISTENER
 = 0x04,

645 
	gDOMNODEREMOVEDFROMDOCUMENT_LISTENER
 = 0x08,

646 
	gDOMNODEINSERTEDINTODOCUMENT_LISTENER
 = 0x10,

647 
	gDOMATTRMODIFIED_LISTENER
 = 0x20,

648 
	gDOMCHARACTERDATAMODIFIED_LISTENER
 = 0x40,

649 
	gOVERFLOWCHANGED_LISTENER
 = 0x80,

650 
	gANIMATIONEND_LISTENER
 = 0x100,

651 
	gANIMATIONSTART_LISTENER
 = 0x200,

652 
	gANIMATIONITERATION_LISTENER
 = 0x400,

653 
	gTRANSITIONEND_LISTENER
 = 0x800,

654 
	gBEFORELOAD_LISTENER
 = 0x1000,

655 
	gTOUCH_LISTENER
 = 0x2000

658 
boŞ
 
hasLi¡’”Ty³
(
Li¡’”Ty³
 
li¡’”Ty³
ècÚ¡ {  (
	gm_li¡’”Ty³s
 & 
	gli¡’”Ty³
); }

659 
addLi¡’”Ty³
(
Li¡’”Ty³
 
li¡’”Ty³
è{ 
	gm_li¡’”Ty³s
 = 
m_li¡’”Ty³s
 |†istenerType; }

660 
addLi¡’”Ty³IfN“ded
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
);

662 
CSSStyËDeş¬©iÚ
* 
g‘Ov”rideStyË
(
EËm’t
*, cÚ¡ 
SŒšg
& 
p£udoEÉ
);

675 
Node
* 
ÃxtFocu§bËNode
(Node* 
¡¬t
, 
KeybßrdEv’t
*);

688 
Node
* 
´eviousFocu§bËNode
(Node* 
¡¬t
, 
KeybßrdEv’t
*);

690 
nodeAbsIndex
(
Node
*);

691 
Node
* 
nodeW™hAbsIndex
(
absIndex
);

702 
´oûssH‰pEquiv
(cÚ¡ 
SŒšg
& 
equiv
, cÚ¡ SŒšg& 
cÚ‹Á
);

706 
EËm’t
* 
owÃrEËm’t
() const;

708 
SŒšg
 
t™Ë
(ècÚ¡ {  
	gm_t™Ë
; }

709 
£tT™Ë
(cÚ¡ 
SŒšg
&, 
EËm’t
* 
t™ËEËm’t
 = 0);

710 
»moveT™Ë
(
EËm’t
* 
t™ËEËm’t
);

712 
SŒšg
 
cook›
(
Exû±iÚCode
&) const;

713 
£tCook›
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

715 
SŒšg
 
»ã¼”
() const;

717 
SŒšg
 
domaš
() const;

718 
£tDomaš
(cÚ¡ 
SŒšg
& 
ÃwDomaš
, 
Exû±iÚCode
&);

720 
SŒšg
 
Ï¡Modif›d
() const;

732 cÚ¡ 
	gKURL
& 
cook›URL
(ècÚ¡ {  
	gm_cook›URL
; }

744 cÚ¡ 
	gKURL
& 
fœ¡P¬tyFÜCook›s
(ècÚ¡ {  
	gm_fœ¡P¬tyFÜCook›s
; }

745 
£tFœ¡P¬tyFÜCook›s
(cÚ¡ 
KURL
& 
u¾
è{ 
	gm_fœ¡P¬tyFÜCook›s
 = url; }

750 
boŞ
 
isV®idName
(cÚ¡ 
SŒšg
&);

755 
boŞ
 
·r£Qu®if›dName
(cÚ¡ 
SŒšg
& 
qu®if›dName
, SŒšg& 
´efix
, SŒšg& 
loÿlName
, 
Exû±iÚCode
&);

758 
boŞ
 
hasP»fixName¥aûMism©ch
(cÚ¡ 
Qu®if›dName
&);

760 
addEËm’tById
(cÚ¡ 
AtomicSŒšg
& 
–em’tId
, 
EËm’t
 *
–em’t
);

761 
»moveEËm’tById
(cÚ¡ 
AtomicSŒšg
& 
–em’tId
, 
EËm’t
 *
–em’t
);

763 
addImageM­
(
HTMLM­EËm’t
*);

764 
»moveImageM­
(
HTMLM­EËm’t
*);

765 
HTMLM­EËm’t
* 
g‘ImageM­
(cÚ¡ 
SŒšg
& 
u¾
) const;

767 
HTMLEËm’t
* 
body
() const;

768 
£tBody
(
PassRefPŒ
<
HTMLEËm’t
>, 
Exû±iÚCode
&);

770 
HTMLH—dEËm’t
* 
h—d
();

772 
boŞ
 
execCommªd
(cÚ¡ 
SŒšg
& 
commªd
, boŞ 
u£rIÁ”çû
 = 
çl£
, cÚ¡ SŒšg& 
v®ue
 = String());

773 
boŞ
 
qu”yCommªdEÇbËd
(cÚ¡ 
SŒšg
& 
commªd
);

774 
boŞ
 
qu”yCommªdInd‘”m
(cÚ¡ 
SŒšg
& 
commªd
);

775 
boŞ
 
qu”yCommªdS‹
(cÚ¡ 
SŒšg
& 
commªd
);

776 
boŞ
 
qu”yCommªdSuµÜ‹d
(cÚ¡ 
SŒšg
& 
commªd
);

777 
SŒšg
 
qu”yCommªdV®ue
(cÚ¡ SŒšg& 
commªd
);

779 
addM¬k”
(
Rªge
*, 
Docum’tM¬k”
::
M¬k”Ty³
, 
SŒšg
 
desütiÚ
 = String());

780 
addM¬k”
(
Node
*, 
Docum’tM¬k”
);

781 
cİyM¬k”s
(
Node
 *
¤cNode
, 
¡¬tOff£t
, 
Ëngth
, Nod*
d¡Node
, 
d–
, 
Docum’tM¬k”
::
M¬k”Ty³
 = Docum’tM¬k”::
AÎM¬k”s
);

782 
»moveM¬k”s
(
Rªge
*, 
Docum’tM¬k”
::
M¬k”Ty³
 = Docum’tM¬k”::
AÎM¬k”s
);

783 
»moveM¬k”s
(
Node
*, 
¡¬tOff£t
, 
Ëngth
, 
Docum’tM¬k”
::
M¬k”Ty³
 = Docum’tM¬k”::
AÎM¬k”s
);

784 
»moveM¬k”s
(
Docum’tM¬k”
::
M¬k”Ty³
 = Docum’tM¬k”::
AÎM¬k”s
);

785 
»moveM¬k”s
(
Node
*);

786 
»·štM¬k”s
(
Docum’tM¬k”
::
M¬k”Ty³
 = Docum’tM¬k”::
AÎM¬k”s
);

787 
£tR’d”edReùFÜM¬k”
(
Node
*, cÚ¡ 
Docum’tM¬k”
&, cÚ¡ 
IÁReù
&);

788 
šv®id©eR’d”edReùsFÜM¬k”sInReù
(cÚ¡ 
IÁReù
&);

789 
shiáM¬k”s
(
Node
*, 
¡¬tOff£t
, 
d–
, 
Docum’tM¬k”
::
M¬k”Ty³
 = Docum’tM¬k”::
AÎM¬k”s
);

790 
£tM¬k”sAùive
(
Rªge
*, 
boŞ
);

791 
£tM¬k”sAùive
(
Node
*, 
¡¬tOff£t
, 
’dOff£t
, 
boŞ
);

793 
Docum’tM¬k”
* 
m¬k”CÚššgPošt
(cÚ¡ 
IÁPošt
&, Docum’tM¬k”::
M¬k”Ty³
 = Docum’tM¬k”::
AÎM¬k”s
);

794 
	gVeùÜ
<
	gDocum’tM¬k”
> 
m¬k”sFÜNode
(
Node
*);

795 
	gVeùÜ
<
	gIÁReù
> 
»nd”edReùsFÜM¬k”s
(
Docum’tM¬k”
::
M¬k”Ty³
 = Docum’tM¬k”::
AÎM¬k”s
);

798 
	eInh”™edBoŞ
 { 
	goff
 = 
çl£
, 
	gÚ
 = 
Œue
, 
	gšh”™
 };

799 
£tDesignMode
(
Inh”™edBoŞ
 
v®ue
);

800 
Inh”™edBoŞ
 
g‘DesignMode
() const;

801 
boŞ
 
šDesignMode
() const;

803 
Docum’t
* 
·»ÁDocum’t
() const;

804 
Docum’t
* 
tİDocum’t
() const;

806 
docID
(ècÚ¡ {  
	gm_docID
; }

808 
execu‹SütSoÚ
(
SütEËm’tD©a
*, 
CachedResourûHªdË
<
CachedSüt
>);

810 #ià
ENABLE
(
XSLT
)

811 
­¶yXSLT¿nsfÜm
(
ProûssšgIn¡ruùiÚ
* 
pi
);

812 
	gPassRefPŒ
<
	gDocum’t
> 
ŒªsfÜmSourûDocum’t
(è{  
	gm_ŒªsfÜmSourûDocum’t
; }

813 
£tT¿nsfÜmSourûDocum’t
(
Docum’t
* 
doc
è{ 
	gm_ŒªsfÜmSourûDocum’t
 = doc; }

815 
£tT¿nsfÜmSourû
(
PassOwnPŒ
<
T¿nsfÜmSourû
>);

816 
T¿nsfÜmSourû
* 
ŒªsfÜmSourû
(ècÚ¡ {  
	gm_ŒªsfÜmSourû
.
g‘
(); }

819 #ià
ENABLE
(
XBL
)

821 
XBLBšdšgMªag”
* 
bšdšgMªag”
(ècÚ¡ {  
	gm_bšdšgMªag”
.
g‘
(); }

824 
šcDOMT»eV”siÚ
(è{ ++
	gm_domŒ“_v”siÚ
; }

825 
domT»eV”siÚ
(ècÚ¡ {  
	gm_domŒ“_v”siÚ
; }

827 
£tDocTy³
(
PassRefPŒ
<
Docum’tTy³
>);

829 #ià
ENABLE
(
XPATH
)

831 
	gPassRefPŒ
<
	gXP©hEx´essiÚ
> 
ü—‹Ex´essiÚ
(cÚ¡ 
SŒšg
& 
ex´essiÚ
,

832 
XP©hNSResŞv”
* 
»sŞv”
,

833 
Exû±iÚCode
& 
ec
);

834 
	gPassRefPŒ
<
	gXP©hNSResŞv”
> 
ü—‹NSResŞv”
(
Node
 *
nodeResŞv”
);

835 
	gPassRefPŒ
<
	gXP©hResuÉ
> 
ev®u©e
(cÚ¡ 
SŒšg
& 
ex´essiÚ
,

836 
Node
* 
cÚ‹xtNode
,

837 
XP©hNSResŞv”
* 
»sŞv”
,

838 
ty³
,

839 
XP©hResuÉ
* 
»suÉ
,

840 
Exû±iÚCode
& 
ec
);

843 
	eP’dšgSh“tLayout
 { 
	gNoLayoutW™hP’dšgSh“ts
, 
	gDidLayoutW™hP’dšgSh“ts
, 
	gIgnÜeLayoutW™hP’dšgSh“ts
 };

845 
boŞ
 
didLayoutW™hP’dšgStyËsh“ts
(ècÚ¡ {  
	gm_³ndšgSh“tLayout
 =ğ
DidLayoutW™hP’dšgSh“ts
; }

847 
£tHasNodesW™hPÏûhŞd”StyË
(è{ 
	gm_hasNodesW™hPÏûhŞd”StyË
 = 
Œue
; }

849 cÚ¡ 
	gSŒšg
& 
icÚURL
(ècÚ¡ {  
	gm_icÚURL
; }

850 
£tIcÚURL
(cÚ¡ 
SŒšg
& 
icÚURL
, cÚ¡ SŒšg& 
ty³
);

852 
£tU£Secu»KeybßrdEÁryWh’Aùive
(
boŞ
);

853 
boŞ
 
u£Secu»KeybßrdEÁryWh’Aùive
() const;

855 
addNodeLi¡Cache
(è{ ++
	gm_numNodeLi¡Caches
; }

856 
»moveNodeLi¡Cache
(è{ 
ASSERT
(
m_numNodeLi¡Caches
 > 0); --
	gm_numNodeLi¡Caches
; }

857 
boŞ
 
hasNodeLi¡Caches
(ècÚ¡ {  
	gm_numNodeLi¡Caches
; }

859 
upd©eFocusAµ—¿nûSoÚ
(
boŞ
 
»¡ÜeP»viousS–eùiÚ
);

860 
ÿnûlFocusAµ—¿nûUpd©e
();

863 
DOMS–eùiÚ
* 
g‘S–eùiÚ
() const;

866 
CªvasR’d”šgCÚ‹xt
* 
g‘CSSCªvasCÚ‹xt
(cÚ¡ 
SŒšg
& 
ty³
, cÚ¡ SŒšg& 
Çme
, 
width
, 
height
);

867 
HTMLCªvasEËm’t
* 
g‘CSSCªvasEËm’t
(cÚ¡ 
SŒšg
& 
Çme
);

869 
boŞ
 
isDNSP»ãtchEÇbËd
(ècÚ¡ {  
	gm_isDNSP»ãtchEÇbËd
; }

870 
·r£DNSP»ãtchCÚŒŞH—d”
(cÚ¡ 
SŒšg
&);

872 
vœtu®
 
»pÜtExû±iÚ
(cÚ¡ 
SŒšg
& 
”rÜMes§ge
, 
lšeNumb”
, cÚ¡ SŒšg& 
sourûURL
);

873 
vœtu®
 
addMes§ge
(
Mes§geSourû
, 
Mes§geTy³
, 
Mes§geLev–
, cÚ¡ 
SŒšg
& 
mes§ge
, 
lšeNumb”
, cÚ¡ SŒšg& 
sourûURL
);

874 
vœtu®
 
po¡Task
(
PassOwnPŒ
<
Task
>);

876 #ià
USE
(
JSC
)

877 
	gJSC
::
	tW—kGCM­
<
	tWebCÜe
::
	tNode
*, 
	tJSNode
*> 
	tJSW¿µ”Cache
;

878 
	gHashM­
<
	tDOMW¿µ”WÜld
*, 
	tJSW¿µ”Cache
*> 
	tJSW¿µ”CacheM­
;

879 
	gJSW¿µ”CacheM­
& 
w¿µ”CacheM­
(è{  
	gm_w¿µ”CacheM­
; }

880 
JSW¿µ”Cache
* 
g‘W¿µ”Cache
(
DOMW¿µ”WÜld
* 
wÜld
);

881 
JSW¿µ”Cache
* 
ü—‹W¿µ”Cache
(
DOMW¿µ”WÜld
*);

882 
de¡royW¿µ”Cache
(
DOMW¿µ”WÜld
*);

883 
de¡royAÎW¿µ”Caches
();

886 
vœtu®
 
fšishedP¬sšg
();

888 
boŞ
 
šPageCache
(ècÚ¡ {  
	gm_šPageCache
; }

889 
£tInPageCache
(
boŞ
 
æag
);

893 
»gi¡”FÜDocum’tAùiv©iÚC®lbacks
(
EËm’t
*);

894 
uÄegi¡”FÜDocum’tAùiv©iÚC®lbacks
(
EËm’t
*);

895 
docum’tWlBecomeIÇùive
();

896 
docum’tDidBecomeAùive
();

898 
»gi¡”FÜMedŸVŞumeC®lbacks
(
EËm’t
*);

899 
uÄegi¡”FÜMedŸVŞumeC®lbacks
(
EËm’t
*);

900 
medŸVŞumeDidChªge
();

902 
£tShouldC»©eR’d””s
(
boŞ
);

903 
boŞ
 
shouldC»©eR’d””s
();

905 
£tDecod”
(
PassRefPŒ
<
TextResourûDecod”
>);

906 
TextResourûDecod”
* 
decod”
(ècÚ¡ {  
	gm_decod”
.
g‘
(); }

908 
SŒšg
 
di¥ÏySŒšgModif›dByEncodšg
(const String&) const;

909 
	gPassRefPŒ
<
	gSŒšgIm¶
> 
di¥ÏySŒšgModif›dByEncodšg
(
PassRefPŒ
<
SŒšgIm¶
>) const;

910 
di¥ÏyBufãrModif›dByEncodšg
(
UCh¬
* 
bufãr
, 
Ën
) const;

913 
£tF¿meEËm’tsShouldIgnÜeSüŞlšg
(
boŞ
 
ignÜe
è{ 
	gm_äameEËm’tsShouldIgnÜeSüŞlšg
 = ignore; }

914 
boŞ
 
äameEËm’tsShouldIgnÜeSüŞlšg
(ècÚ¡ {  
	gm_äameEËm’tsShouldIgnÜeSüŞlšg
; }

916 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

917 
£tDashbßrdRegiÚsDœty
(
boŞ
 
f
è{ 
	gm_dashbßrdRegiÚsDœty
 = f; }

918 
boŞ
 
dashbßrdRegiÚsDœty
(ècÚ¡ {  
	gm_dashbßrdRegiÚsDœty
; }

919 
boŞ
 
hasDashbßrdRegiÚs
 (ècÚ¡ {  
	gm_hasDashbßrdRegiÚs
; }

920 
£tHasDashbßrdRegiÚs
(
boŞ
 
f
è{ 
	gm_hasDashbßrdRegiÚs
 = f; }

921 cÚ¡ 
	gVeùÜ
<
	gDashbßrdRegiÚV®ue
>& 
dashbßrdRegiÚs
() const;

922 
£tDashbßrdRegiÚs
(cÚ¡ 
VeùÜ
<
DashbßrdRegiÚV®ue
>&);

925 
vœtu®
 
»moveAÎEv’tLi¡’”s
();

927 
	gCheckedRadioBu‰Ús
& 
checkedRadioBu‰Ús
(è{  
	gm_checkedRadioBu‰Ús
; }

929 #ià
ENABLE
(
SVG
)

930 cÚ¡ 
SVGDocum’tEx‹nsiÚs
* 
svgEx‹nsiÚs
();

931 
SVGDocum’tEx‹nsiÚs
* 
acûssSVGEx‹nsiÚs
();

934 
š™Secur™yCÚ‹xt
();

939 
£tSecur™yOrigš
(
Secur™yOrigš
*);

941 
upd©eURLFÜPushOrR•ÏûS‹
(cÚ¡ 
KURL
&);

942 
¡©ePİ³d
(
S”ŸlizedSütV®ue
*);

944 
boŞ
 
´oûssšgLßdEv’t
(ècÚ¡ {  
	gm_´oûssšgLßdEv’t
; }

946 #ià
ENABLE
(
DATABASE
)

947 
vœtu®
 
boŞ
 
isD©aba£R—dOÆy
() const;

948 
vœtu®
 
d©aba£ExûededQuÙa
(cÚ¡ 
SŒšg
& 
Çme
);

951 
vœtu®
 
boŞ
 
isCÚ‹xtTh»ad
() const;

953 
£tUsšgGeŞoÿtiÚ
(
boŞ
 
f
è{ 
	gm_usšgGeŞoÿtiÚ
 = f; }

954 
boŞ
 
usšgGeŞoÿtiÚ
(ècÚ¡ {  
	gm_usšgGeŞoÿtiÚ
; };

956 #ià
ENABLE
(
WML
)

957 
£tCÚšsWMLCÚ‹Á
(
boŞ
 
v®ue
è{ 
	gm_cÚšsWMLCÚ‹Á
 = value; }

958 
boŞ
 
cÚšsWMLCÚ‹Á
(ècÚ¡ {  
	gm_cÚšsWMLCÚ‹Á
; }

960 
»£tWMLPageS‹
();

961 
š™ŸlizeWMLPageS‹
();

964 
boŞ
 
cÚšsV®id™yStyËRuËs
(ècÚ¡ {  
	gm_cÚšsV®id™yStyËRuËs
; }

965 
£tCÚšsV®id™yStyËRuËs
(è{ 
	gm_cÚšsV®id™yStyËRuËs
 = 
Œue
; }

967 
’queueEv’t
(
PassRefPŒ
<
Ev’t
>);

968 
’queuePageshowEv’t
(
PageshowEv’tP”si¡’û
);

969 
’queueHashchªgeEv’t
(cÚ¡ 
SŒšg
& 
ŞdURL
, cÚ¡ SŒšg& 
ÃwURL
);

971 
	g´Ùeùed
:

972 
Docum’t
(
F¿me
*, 
boŞ
 
isXHTML
, boŞ 
isHTML
);

974 
ş—rXMLV”siÚ
(è{ 
	gm_xmlV”siÚ
 = 
SŒšg
(); }

976 
	g´iv©e
:

977 
vœtu®
 
boŞ
 
isDocum’t
(ècÚ¡ {  
Œue
; }

978 
vœtu®
 
»movedLa¡Ref
();

979 
vœtu®
 
d‘”mšeP¬£Mode
() { }

981 
vœtu®
 
chd»nChªged
(
boŞ
 
chªgedByP¬£r
 = 
çl£
, 
Node
* 
befÜeChªge
 = 0, Node* 
aá”Chªge
 = 0, 
chdCouÁD–
 = 0);

983 
vœtu®
 
SŒšg
 
nodeName
() const;

984 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

985 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
);

986 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

987 
vœtu®
 
boŞ
 
ÿnR•ÏûChd
(
Node
* 
ÃwChd
, Node* 
ŞdChd
);

989 
vœtu®
 
»fSütExecutiÚCÚ‹xt
(è{ 
»f
(); }

990 
vœtu®
 
d”efSütExecutiÚCÚ‹xt
(è{ 
d”ef
(); }

992 
vœtu®
 cÚ¡ 
	gKURL
& 
vœtu®URL
() const;

993 
vœtu®
 
KURL
 
vœtu®Com¶‘eURL
(cÚ¡ 
SŒšg
&) const;

995 
š™DNSP»ãtch
();

997 
SŒšg
 
’codšg
() const;

999 
execu‹SütSoÚTim”Fœed
(
Tim”
<
Docum’t
>*);

1001 
upd©eT™Ë
();

1002 
upd©eFocusAµ—¿nûTim”Fœed
(
Tim”
<
Docum’t
>*);

1003 
upd©eBa£URL
();

1005 
ÿcheDocum’tEËm’t
() const;

1007 
ü—‹StyËS–eùÜ
();

1009 
’queuePİ¡©eEv’t
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
¡©eObjeù
);

1010 
³ndšgEv’tTim”Fœed
(
Tim”
<
Docum’t
>*);

1012 
	gOwnPŒ
<
	gCSSStyËS–eùÜ
> 
	gm_¡yËS–eùÜ
;

1013 
boŞ
 
	gm_didC®cuÏ‹StyËS–eùÜ
;

1015 
F¿me
* 
	gm_äame
;

1016 
	gOwnPŒ
<
	gDocLßd”
> 
	gm_docLßd”
;

1017 
	gOwnPŒ
<
	gTok’iz”
> 
	gm_tok’iz”
;

1018 
boŞ
 
	gm_w–lFÜmed
;

1021 
KURL
 
	gm_u¾
;

1022 
KURL
 
	gm_ba£URL
;

1023 
KURL
 
	gm_ba£EËm’tURL
;

1024 
KURL
 
	gm_cook›URL
;

1025 
KURL
 
	gm_fœ¡P¬tyFÜCook›s
;

1032 
SŒšg
 
	gm_docum’tURI
;

1034 
SŒšg
 
	gm_ba£T¬g‘
;

1036 
	gRefPŒ
<
	gDocum’tTy³
> 
	gm_docTy³
;

1037 
mubË
 
	gRefPŒ
<
	gDOMIm¶em’tiÚ
> 
	gm_im¶em’tiÚ
;

1043 
	gm_³ndšgStyËsh“ts
;

1047 
boŞ
 
	gm_ignÜeP’dšgStyËsh“ts
;

1052 
P’dšgSh“tLayout
 
	gm_³ndšgSh“tLayout
;

1054 
boŞ
 
	gm_hasNodesW™hPÏûhŞd”StyË
;

1056 
	gRefPŒ
<
	gCSSStyËSh“t
> 
	gm_–emSh“t
;

1057 
	gRefPŒ
<
	gCSSStyËSh“t
> 
	gm_m­³dEËm’tSh“t
;

1058 
	gRefPŒ
<
	gCSSStyËSh“t
> 
	gm_·geU£rSh“t
;

1059 
mubË
 
	gOwnPŒ
<
	gVeùÜ
<
	gRefPŒ
<
	gCSSStyËSh“t
> > > 
	gm_·geGroupU£rSh“ts
;

1060 
mubË
 
boŞ
 
	gm_·geGroupU£rSh“tCacheV®id
;

1062 
boŞ
 
	gm_´štšg
;

1064 
boŞ
 
	gm_ignÜeAutofocus
;

1066 
P¬£Mode
 
	gm_·r£Mode
;

1068 
CŞÜ
 
	gm_‹xtCŞÜ
;

1070 
	gRefPŒ
<
	gNode
> 
	gm_focu£dNode
;

1071 
	gRefPŒ
<
	gNode
> 
	gm_hov”Node
;

1072 
	gRefPŒ
<
	gNode
> 
	gm_aùiveNode
;

1073 
mubË
 
	gRefPŒ
<
	gEËm’t
> 
	gm_docum’tEËm’t
;

1075 
	gm_domŒ“_v”siÚ
;

1077 
	gHashS‘
<
	gNodeI‹¿tÜ
*> 
	gm_nodeI‹¿tÜs
;

1078 
	gHashS‘
<
	gRªge
*> 
	gm_¿nges
;

1080 
	gm_li¡’”Ty³s
;

1082 
	gRefPŒ
<
	gStyËSh“tLi¡
> 
	gm_¡yËSh“ts
;

1083 
	gLi¡HashS‘
<
	gNode
*> 
	gm_¡yËSh“tCªdid©eNodes
;

1085 
	gHashM­
<
	tFÜmEËm’tKey
, 
	tVeùÜ
<
	tSŒšg
>, 
	tFÜmEËm’tKeyHash
, 
	tFÜmEËm’tKeyHashT¿™s
> 
	tFÜmEËm’tS‹M­
;

1086 
	gLi¡HashS‘
<
	gEËm’t
*> 
	gm_fÜmEËm’tsW™hS‹
;

1087 
FÜmEËm’tS‹M­
 
	gm_¡©eFÜNewFÜmEËm’ts
;

1089 
CŞÜ
 
	gm_lškCŞÜ
;

1090 
CŞÜ
 
	gm_vis™edLškCŞÜ
;

1091 
CŞÜ
 
	gm_aùiveLškCŞÜ
;

1093 
SŒšg
 
	gm_´eã¼edStyËsh“tS‘
;

1094 
SŒšg
 
	gm_£ËùedStyËsh“tS‘
;

1096 
boŞ
 
	gm_lßdšgSh“t
;

1097 
boŞ
 
	gm_visu®lyOrd”ed
;

1098 
boŞ
 
	gm_bP¬sšg
;

1099 
	gTim”
<
	gDocum’t
> 
	gm_¡yËReÿlcTim”
;

1100 
boŞ
 
	gm_šStyËReÿlc
;

1101 
boŞ
 
	gm_şo£Aá”StyËReÿlc
;

1102 
boŞ
 
	gm_u£sDesûndªtRuËs
;

1103 
boŞ
 
	gm_u£sSiblšgRuËs
;

1104 
boŞ
 
	gm_u£sFœ¡LšeRuËs
;

1105 
boŞ
 
	gm_u£sFœ¡L‘‹rRuËs
;

1106 
boŞ
 
	gm_u£sBefÜeAá”RuËs
;

1107 
boŞ
 
	gm_u£sRemUn™s
;

1108 
boŞ
 
	gm_u£sLškRuËs
;

1109 
boŞ
 
	gm_gÙoAnchÜN“dedAá”StyËsh“tsLßd
;

1110 
boŞ
 
	gm_isDNSP»ãtchEÇbËd
;

1111 
boŞ
 
	gm_haveEx¶ic™lyDi§bËdDNSP»ãtch
;

1112 
boŞ
 
	gm_äameEËm’tsShouldIgnÜeSüŞlšg
;

1113 
boŞ
 
	gm_cÚšsV®id™yStyËRuËs
;

1114 
boŞ
 
	gm_upd©eFocusAµ—¿nûRe¡ÜesS–eùiÚ
;

1116 
SŒšg
 
	gm_t™Ë
;

1117 
SŒšg
 
	gm_¿wT™Ë
;

1118 
boŞ
 
	gm_t™ËS‘Ex¶ic™ly
;

1119 
	gRefPŒ
<
	gEËm’t
> 
	gm_t™ËEËm’t
;

1121 
	gOwnPŒ
<
	gR’d”A»Ç
> 
	gm_»nd”A»Ç
;

1123 
	g¡d
::
	t·œ
<
	tVeùÜ
<
	tDocum’tM¬k”
>, VeùÜ<
	tIÁReù
> > 
	tM¬k”M­VeùÜPaœ
;

1124 
	gHashM­
<
	tRefPŒ
<
	tNode
>, 
	tM¬k”M­VeùÜPaœ
*> 
	tM¬k”M­
;

1125 
M¬k”M­
 
	gm_m¬k”s
;

1127 
mubË
 
AXObjeùCache
* 
	gm_axObjeùCache
;

1129 
	gTim”
<
	gDocum’t
> 
	gm_upd©eFocusAµ—¿nûTim”
;

1131 
EËm’t
* 
	gm_cssT¬g‘
;

1133 
boŞ
 
	gm_´oûssšgLßdEv’t
;

1134 
	gRefPŒ
<
	gS”ŸlizedSütV®ue
> 
	gm_³ndšgS‹Objeù
;

1135 
	gHashS‘
<
	gRefPŒ
<
	gHi¡ÜyI‹m
> > 
	gm_assocŸ‹dHi¡ÜyI‹ms
;

1136 
	gm_¡¬tTime
;

1137 
boŞ
 
	gm_ov”MšimumLayoutTh»shŞd
;

1141 
	gm_exŒaLayoutD–ay
;

1143 
	gVeùÜ
<
	g¡d
::
·œ
<
SütEËm’tD©a
*, 
	gCachedResourûHªdË
<
	gCachedSüt
> > > 
	gm_sütsToExecu‹SoÚ
;

1144 
	gTim”
<
	gDocum’t
> 
	gm_execu‹SütSoÚTim”
;

1146 #ià
ENABLE
(
XSLT
)

1147 
	gOwnPŒ
<
	gT¿nsfÜmSourû
> 
	gm_ŒªsfÜmSourû
;

1148 
	gRefPŒ
<
	gDocum’t
> 
	gm_ŒªsfÜmSourûDocum’t
;

1151 #ià
ENABLE
(
XBL
)

1152 
	gOwnPŒ
<
	gXBLBšdšgMªag”
> 
	gm_bšdšgMªag”
;

1155 
	gHashM­
<
	tAtomicSŒšgIm¶
*, 
	tHTMLM­EËm’t
*> 
	tImageM­sByName
;

1156 
ImageM­sByName
 
	gm_imageM­sByName
;

1158 
	gm_docID
;

1160 
SŒšg
 
	gm_xmlEncodšg
;

1161 
SŒšg
 
	gm_xmlV”siÚ
;

1162 
boŞ
 
	gm_xmlSnd®Úe
;

1164 
SŒšg
 
	gm_cÚ‹ÁLªguage
;

1166 #ià
ENABLE
(
XHTMLMP
)

1167 
boŞ
 
	gm_shouldProûssNoSütEËm’t
;

1170 
R’d”Objeù
* 
	gm_§vedR’d””
;

1172 
	gRefPŒ
<
	gTextResourûDecod”
> 
	gm_decod”
;

1177 
mubË
 
	gHashM­
<
	gAtomicSŒšgIm¶
*, 
	gEËm’t
*> 
	gm_–em’tsById
;

1178 
mubË
 
	gHashCouÁedS‘
<
	gAtomicSŒšgIm¶
*> 
	gm_du¶iÿ‹Ids
;

1180 
mubË
 
	gHashM­
<
	gSŒšgIm¶
*, 
	gEËm’t
*, 
	gCa£FŞdšgHash
> 
	gm_–em’tsByAcûssKey
;

1182 
Inh”™edBoŞ
 
	gm_designMode
;

1184 
	gm_£lfOÆyRefCouÁ
;

1186 
CheckedRadioBu‰Ús
 
	gm_checkedRadioBu‰Ús
;

1188 
	gHashM­
<
	tAtomicSŒšgIm¶
*, 
	tCŞËùiÚCache
*> 
	tNamedCŞËùiÚM­
;

1189 
CŞËùiÚCache
 
	gm_cŞËùiÚInfo
[
NumUÂamedDocum’tCachedTy³s
];

1190 
NamedCŞËùiÚM­
 
	gm_ÇmeCŞËùiÚInfo
[
NumNamedDocum’tCachedTy³s
];

1192 #ià
ENABLE
(
XPATH
)

1193 
	gRefPŒ
<
	gXP©hEv®u©Ü
> 
	gm_x·thEv®u©Ü
;

1196 #ià
ENABLE
(
SVG
)

1197 
	gOwnPŒ
<
	gSVGDocum’tEx‹nsiÚs
> 
	gm_svgEx‹nsiÚs
;

1200 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

1201 
	gVeùÜ
<
	gDashbßrdRegiÚV®ue
> 
	gm_dashbßrdRegiÚs
;

1202 
boŞ
 
	gm_hasDashbßrdRegiÚs
;

1203 
boŞ
 
	gm_dashbßrdRegiÚsDœty
;

1206 
	gHashM­
<
	gSŒšg
, 
	gRefPŒ
<
	gHTMLCªvasEËm’t
> > 
	gm_cssCªvasEËm’ts
;

1208 
mubË
 
boŞ
 
	gm_acûssKeyM­V®id
;

1209 
boŞ
 
	gm_ü—‹R’d””s
;

1210 
boŞ
 
	gm_šPageCache
;

1211 
SŒšg
 
	gm_icÚURL
;

1213 
	gHashS‘
<
	gEËm’t
*> 
	gm_docum’tAùiv©iÚC®lbackEËm’ts
;

1214 
	gHashS‘
<
	gEËm’t
*> 
	gm_medŸVŞumeC®lbackEËm’ts
;

1216 
boŞ
 
	gm_u£Secu»KeybßrdEÁryWh’Aùive
;

1218 
boŞ
 
	gm_isXHTML
;

1219 
boŞ
 
	gm_isHTML
;

1221 
	gm_numNodeLi¡Caches
;

1223 #ià
USE
(
JSC
)

1224 
JSW¿µ”CacheM­
 
	gm_w¿µ”CacheM­
;

1225 
JSW¿µ”Cache
* 
	gm_nÜm®WÜldW¿µ”Cache
;

1228 
boŞ
 
	gm_usšgGeŞoÿtiÚ
;

1230 
	gTim”
<
	gDocum’t
> 
	gm_³ndšgEv’tTim”
;

1231 
	gVeùÜ
<
	gRefPŒ
<
	gEv’t
> > 
	gm_³ndšgEv’tQueue
;

1233 #ià
ENABLE
(
WML
)

1234 
boŞ
 
	gm_cÚšsWMLCÚ‹Á
;

1237 
	gRefPŒ
<
	gDocum’tW—kReã»nû
> 
	gm_w—kReã»nû
;

1240 
šlše
 
boŞ
 
	gDocum’t
::
	$hasEËm’tW™hId
(
AtomicSŒšgIm¶
* 
id
) const

1242 
	`ASSERT
(
id
);

1243  
m_–em’tsById
.
	`cÚšs
(
id
è|| 
m_du¶iÿ‹Ids
.contains(id);

1244 
	}
}

1246 
šlše
 
boŞ
 
	gNode
::
	$isDocum’tNode
() const

1248  
this
 =ğ
m_docum’t
;

1249 
	}
}

	@DocumentFragment.cpp

23 
	~"cÚfig.h
"

24 
	~"Docum’tF¿gm’t.h
"

26 
Çme¥aû
 
	gWebCÜe
 {

28 
šlše
 
	gDocum’tF¿gm’t
::
Docum’tF¿gm’t
(
Docum’t
* 
docum’t
)

29 : 
CÚš”Node
(
docum’t
)

33 
PassRefPŒ
<
Docum’tF¿gm’t
> Docum’tF¿gm’t::
ü—‹
(
Docum’t
* 
docum’t
)

35  
adİtRef
(
Ãw
 
Docum’tF¿gm’t
(
docum’t
));

38 
SŒšg
 
	gDocum’tF¿gm’t
::
nodeName
() const

43 
	gNode
::
NodeTy³
 
Docum’tF¿gm’t
::
nodeTy³
() const

45  
DOCUMENT_FRAGMENT_NODE
;

48 
boŞ
 
	gDocum’tF¿gm’t
::
chdTy³AÎowed
(
NodeTy³
 
ty³
)

50 
ty³
) {

51 
ELEMENT_NODE
:

52 
PROCESSING_INSTRUCTION_NODE
:

53 
COMMENT_NODE
:

54 
TEXT_NODE
:

55 
CDATA_SECTION_NODE
:

56 
ENTITY_REFERENCE_NODE
:

57  
Œue
;

59  
çl£
;

63 
	gPassRefPŒ
<
	gNode
> 
	gDocum’tF¿gm’t
::
şÚeNode
(
boŞ
 
d“p
)

65 
RefPŒ
<
Docum’tF¿gm’t
> 
şÚe
 = 
ü—‹
(
docum’t
());

66 ià(
	gd“p
)

67 
şÚeChdNodes
(
şÚe
.
g‘
());

68  
	gşÚe
.
»Ëa£
();

	@DocumentFragment.h

24 #iâdeà
Docum’tF¿gm’t_h


25 
	#Docum’tF¿gm’t_h


	)

27 
	~"CÚš”Node.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 şas 
	cDocum’tF¿gm’t
 : 
public
 
CÚš”Node
 {

32 
public
:

33 
PassRefPŒ
<
Docum’tF¿gm’t
> 
ü—‹
(
Docum’t
*);

35 
	g´iv©e
:

36 
Docum’tF¿gm’t
(
Docum’t
*);

38 
vœtu®
 
SŒšg
 
nodeName
() const;

39 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

40 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

41 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
);

	@DocumentMarker.h

23 #iâdeà
Docum’tM¬k”_h


24 
	#Docum’tM¬k”_h


	)

26 
	~"PÏtfÜmSŒšg.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

29 
şass
 
	gSŒšg
;

35 
	sDocum’tM¬k”
 {

37 
	eM¬k”Ty³
 {

38 
	gAÎM¬k”s
 = -1,

39 
	gS³Îšg
,

40 
	gG¿mm¬
,

41 
	gTextM©ch
,

42 
	gR•Ïûm’t


45 
M¬k”Ty³
 
	gty³
;

46 
	g¡¬tOff£t
;

47 
	g’dOff£t
;

48 
SŒšg
 
	gdesütiÚ
;

49 
boŞ
 
	gaùiveM©ch
;

51 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Docum’tM¬k”
& 
o
) const

53  
ty³
 =ğ
o
.ty³ && 
¡¬tOff£t
 =ğo.¡¬tOff£ˆ&& 
’dOff£t
 == o.endOffset;

56 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Docum’tM¬k”
& 
o
) const

58  !(*
this
 =ğ
o
);

	@DocumentType.cpp

23 
	~"cÚfig.h
"

24 
	~"Docum’tTy³.h
"

26 
	~"Docum’t.h
"

27 
	~"NamedNodeM­.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 
	gDocum’tTy³
::
Docum’tTy³
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
Çme
, cÚ¡ SŒšg& 
publicId
, cÚ¡ SŒšg& 
sy¡emId
)

32 : 
Node
(
docum’t
, 
C»©eOth”
)

33 , 
m_Çme
(
Çme
)

34 , 
m_publicId
(
publicId
)

35 , 
m_sy¡emId
(
sy¡emId
)

39 
KURL
 
	gDocum’tTy³
::
ba£URI
() const

41  
KURL
();

44 
SŒšg
 
	gDocum’tTy³
::
nodeName
() const

46  
Çme
();

49 
	gNode
::
NodeTy³
 
Docum’tTy³
::
nodeTy³
() const

51  
DOCUMENT_TYPE_NODE
;

54 
	gPassRefPŒ
<
	gNode
> 
	gDocum’tTy³
::
şÚeNode
(
boŞ
 )

56  
ü—‹
(
docum’t
(), 
m_Çme
, 
m_publicId
, 
m_sy¡emId
);

59 
	gDocum’tTy³
::
š£¹edIÁoDocum’t
()

62 
ASSERT
(
·»Á
(è&&…¬’t()->
isDocum’tNode
());

63 ià(
·»Á
(è&&…¬’t()->
isDocum’tNode
()) {

64 
Docum’t
* 
	gdoc
 = 
¡©ic_ÿ¡
<Docum’t*>(
·»Á
());

65 ià(!
	gdoc
->
doùy³
())

66 
	gdoc
->
£tDocTy³
(
this
);

68 
	gNode
::
š£¹edIÁoDocum’t
();

71 
	gDocum’tTy³
::
»movedFromDocum’t
()

73 ià(
docum’t
(è&& docum’t()->
doùy³
(è=ğ
this
)

74 
docum’t
()->
£tDocTy³
(0);

75 
	gNode
::
»movedFromDocum’t
();

	@DocumentType.h

24 #iâdeà
Docum’tTy³_h


25 
	#Docum’tTy³_h


	)

27 
	~"Node.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 
şass
 
	gNamedNodeM­
;

33 şas 
	cDocum’tTy³
 : 
public
 
Node
 {

34 
public
:

35 
PassRefPŒ
<
Docum’tTy³
> 
ü—‹
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
Çme
, cÚ¡ SŒšg& 
publicId
, cÚ¡ SŒšg& 
sy¡emId
)

37  
adİtRef
(
Ãw
 
Docum’tTy³
(
docum’t
, 
Çme
, 
publicId
, 
sy¡emId
));

40 
NamedNodeM­
* 
’t™›s
(ècÚ¡ {  
	gm_’t™›s
.
g‘
(); }

41 
NamedNodeM­
* 
nÙ©iÚs
(ècÚ¡ {  
	gm_nÙ©iÚs
.
g‘
(); }

43 cÚ¡ 
	gSŒšg
& 
Çme
(ècÚ¡ {  
	gm_Çme
; }

44 cÚ¡ 
	gSŒšg
& 
publicId
(ècÚ¡ {  
	gm_publicId
; }

45 cÚ¡ 
	gSŒšg
& 
sy¡emId
(ècÚ¡ {  
	gm_sy¡emId
; }

46 cÚ¡ 
	gSŒšg
& 
š‹º®Sub£t
(ècÚ¡ {  
	gm_sub£t
; }

48 
	g´iv©e
:

49 
Docum’tTy³
(
Docum’t
*, cÚ¡ 
SŒšg
& 
Çme
, cÚ¡ SŒšg& 
publicId
, cÚ¡ SŒšg& 
sy¡emId
);

51 
vœtu®
 
KURL
 
ba£URI
() const;

52 
vœtu®
 
SŒšg
 
nodeName
() const;

53 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

54 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

56 
vœtu®
 
š£¹edIÁoDocum’t
();

57 
vœtu®
 
»movedFromDocum’t
();

59 
	gRefPŒ
<
	gNamedNodeM­
> 
	gm_’t™›s
;

60 
	gRefPŒ
<
	gNamedNodeM­
> 
	gm_nÙ©iÚs
;

62 
SŒšg
 
	gm_Çme
;

63 
SŒšg
 
	gm_publicId
;

64 
SŒšg
 
	gm_sy¡emId
;

65 
SŒšg
 
	gm_sub£t
;

	@DynamicNodeList.cpp

23 
	~"cÚfig.h
"

24 
	~"DyÇmicNodeLi¡.h
"

26 
	~"Docum’t.h
"

27 
	~"EËm’t.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 
	gDyÇmicNodeLi¡
::
DyÇmicNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
)

32 : 
m_roÙNode
(
roÙNode
)

33 , 
m_ÿches
(
Caches
::
ü—‹
())

34 , 
m_ownsCaches
(
Œue
)

36 
	gm_roÙNode
->
»gi¡”DyÇmicNodeLi¡
(
this
);

39 
	gDyÇmicNodeLi¡
::
DyÇmicNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, DyÇmicNodeLi¡::
Caches
* 
ÿches
)

40 : 
m_roÙNode
(
roÙNode
)

41 , 
m_ÿches
(
ÿches
)

42 , 
m_ownsCaches
(
çl£
)

44 
	gm_roÙNode
->
»gi¡”DyÇmicNodeLi¡
(
this
);

47 
	gDyÇmicNodeLi¡
::~
DyÇmicNodeLi¡
()

49 
m_roÙNode
->
uÄegi¡”DyÇmicNodeLi¡
(
this
);

52 
	gDyÇmicNodeLi¡
::
Ëngth
() const

54 ià(
m_ÿches
->
isL’gthCacheV®id
)

55  
m_ÿches
->
ÿchedL’gth
;

57 
	gËngth
 = 0;

59 
Node
* 
	gn
 = 
m_roÙNode
->
fœ¡Chd
();‚;‚ = 
n
->
Œav”£NextNode
(m_roÙNode.
g‘
()))

60 
Ëngth
 +ğ
n
->
isEËm’tNode
(è&& 
nodeM©ches
(
¡©ic_ÿ¡
<
EËm’t
*>(n));

62 
	gm_ÿches
->
	gÿchedL’gth
 = 
Ëngth
;

63 
	gm_ÿches
->
	gisL’gthCacheV®id
 = 
Œue
;

65  
	gËngth
;

68 
Node
* 
	gDyÇmicNodeLi¡
::
™emFÜw¬dsFromCu¼’t
(Node* 
¡¬t
, 
off£t
, 
»maššgOff£t
) const

70 
ASSERT
(
»maššgOff£t
 >= 0);

71 
Node
* 
	gn
 = 
¡¬t
;‚;‚ = 
n
->
Œav”£NextNode
(
m_roÙNode
.
g‘
())) {

72 ià(
n
->
isEËm’tNode
(è&& 
nodeM©ches
(
¡©ic_ÿ¡
<
EËm’t
*>(n))) {

73 ià(!
»maššgOff£t
) {

74 
m_ÿches
->
Ï¡I‹m
 = 
n
;

75 
	gm_ÿches
->
	gÏ¡I‹mOff£t
 = 
off£t
;

76 
	gm_ÿches
->
	gisI‹mCacheV®id
 = 
Œue
;

77  
	gn
;

79 --
	g»maššgOff£t
;

86 
Node
* 
	gDyÇmicNodeLi¡
::
™emBackw¬dsFromCu¼’t
(Node* 
¡¬t
, 
off£t
, 
»maššgOff£t
) const

88 
ASSERT
(
»maššgOff£t
 < 0);

89 
Node
* 
	gn
 = 
¡¬t
;‚;‚ = 
n
->
Œav”£P»viousNode
(
m_roÙNode
.
g‘
())) {

90 ià(
n
->
isEËm’tNode
(è&& 
nodeM©ches
(
¡©ic_ÿ¡
<
EËm’t
*>(n))) {

91 ià(!
»maššgOff£t
) {

92 
m_ÿches
->
Ï¡I‹m
 = 
n
;

93 
	gm_ÿches
->
	gÏ¡I‹mOff£t
 = 
off£t
;

94 
	gm_ÿches
->
	gisI‹mCacheV®id
 = 
Œue
;

95  
	gn
;

97 ++
	g»maššgOff£t
;

104 
Node
* 
	gDyÇmicNodeLi¡
::
™em
(
off£t
) const

106 
»maššgOff£t
 = 
off£t
;

107 
Node
* 
	g¡¬t
 = 
m_roÙNode
->
fœ¡Chd
();

108 ià(
	gm_ÿches
->
	gisI‹mCacheV®id
) {

109 ià(
	goff£t
 =ğ
m_ÿches
->
Ï¡I‹mOff£t
)

110  
m_ÿches
->
Ï¡I‹m
;

111 ià(
	goff£t
 > 
	gm_ÿches
->
	gÏ¡I‹mOff£t
 || m_caches->lastItemOffset - offset < offset) {

112 
	g¡¬t
 = 
m_ÿches
->
Ï¡I‹m
;

113 
	g»maššgOff£t
 -ğ
m_ÿches
->
Ï¡I‹mOff£t
;

117 ià(
	g»maššgOff£t
 < 0)

118  
™emBackw¬dsFromCu¼’t
(
¡¬t
, 
off£t
, 
»maššgOff£t
);

119  
™emFÜw¬dsFromCu¼’t
(
¡¬t
, 
off£t
, 
»maššgOff£t
);

122 
Node
* 
	gDyÇmicNodeLi¡
::
™emW™hName
(cÚ¡ 
AtomicSŒšg
& 
–em’tId
) const

124 ià(
m_roÙNode
->
isDocum’tNode
(è|| m_roÙNode->
šDocum’t
()) {

125 
EËm’t
* 
node
 = 
m_roÙNode
->
docum’t
()->
g‘EËm’tById
(
–em’tId
);

126 ià(
	gnode
 && 
nodeM©ches
(
node
)) {

127 
Node
* 
	gp
 = 
node
->
·»ÁNode
();…;… = 
p
->parentNode()) {

128 ià(
p
 =ğ
m_roÙNode
)

129  
node
;

132 ià(!
	gnode
)

137 
	gËngth
 = 
this
->
Ëngth
();

138 
	gi
 = 0; i < 
	gËngth
; i++) {

139 
Node
* 
	gnode
 = 
™em
(
i
);

140 ià(
	gnode
->
isEËm’tNode
(è&& 
	g¡©ic_ÿ¡
<
	gEËm’t
*>Òode)->
g‘IDA‰ribu‹
(è=ğ
–em’tId
)

141  
node
;

147 
	gDyÇmicNodeLi¡
::
šv®id©eCache
()

150 
ASSERT
(
m_ownsCaches
);

151 
	gm_ÿches
->
»£t
();

154 
	gDyÇmicNodeLi¡
::
Caches
::Caches()

155 : 
Ï¡I‹m
(0)

156 , 
isL’gthCacheV®id
(
çl£
)

157 , 
isI‹mCacheV®id
(
çl£
)

161 
	gPassRefPŒ
<
	gDyÇmicNodeLi¡
::
Caches
> 
DyÇmicNodeLi¡
::Caches::
ü—‹
()

163  
adİtRef
(
Ãw
 
Caches
());

166 
	gDyÇmicNodeLi¡
::
Caches
::
»£t
()

168 
Ï¡I‹m
 = 0;

169 
	gisL’gthCacheV®id
 = 
çl£
;

170 
	gisI‹mCacheV®id
 = 
çl£
;

	@DynamicNodeList.h

24 #iâdeà
DyÇmicNodeLi¡_h


25 
	#DyÇmicNodeLi¡_h


	)

27 
	~"NodeLi¡.h
"

28 
	~<wtf/RefCouÁed.h
>

29 
	~<wtf/FÜw¬d.h
>

30 
	~<wtf/RefPŒ.h
>

32 
Çme¥aû
 
	gWebCÜe
 {

34 
şass
 
	gAtomicSŒšg
;

35 
şass
 
	gEËm’t
;

36 
şass
 
	gNode
;

38 şas 
	cDyÇmicNodeLi¡
 : 
public
 
NodeLi¡
 {

39 
public
:

40 
Caches
 : 
RefCouÁed
<Caches> {

41 
PassRefPŒ
<
Caches
> 
ü—‹
();

42 
»£t
();

44 
	gÿchedL’gth
;

45 
Node
* 
	gÏ¡I‹m
;

46 
	gÏ¡I‹mOff£t
;

47 
boŞ
 
	gisL’gthCacheV®id
 : 1;

48 
boŞ
 
	gisI‹mCacheV®id
 : 1;

49 
	g´Ùeùed
:

50 
Caches
();

53 
	gvœtu®
 ~
DyÇmicNodeLi¡
();

55 
boŞ
 
hasOwnCaches
(ècÚ¡ {  
	gm_ownsCaches
; }

58 
vœtu®
 
Ëngth
() const;

59 
vœtu®
 
Node
* 
™em
(
šdex
) const;

60 
vœtu®
 
Node
* 
™emW™hName
(cÚ¡ 
AtomicSŒšg
&) const;

63 
šv®id©eCache
();

65 
	g´Ùeùed
:

66 
DyÇmicNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
);

67 
DyÇmicNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, 
Caches
*);

69 
vœtu®
 
boŞ
 
nodeM©ches
(
EËm’t
*) const = 0;

71 
	gRefPŒ
<
	gNode
> 
	gm_roÙNode
;

72 
mubË
 
	gRefPŒ
<
	gCaches
> 
	gm_ÿches
;

73 
boŞ
 
	gm_ownsCaches
;

75 
	g´iv©e
:

76 
Node
* 
™emFÜw¬dsFromCu¼’t
(Node* 
¡¬t
, 
off£t
, 
»maššgOff£t
) const;

77 
Node
* 
™emBackw¬dsFromCu¼’t
(Node* 
¡¬t
, 
off£t
, 
»maššgOff£t
) const;

	@EditingText.cpp

20 
	~"cÚfig.h
"

21 
	~"Ed™šgText.h
"

26 
Çme¥aû
 
	gWebCÜe
 {

28 
šlše
 
	gEd™šgText
::
Ed™šgText
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
d©a
)

29 : 
Text
(
docum’t
, 
d©a
)

33 
	gPassRefPŒ
<
	gEd™šgText
> Ed™šgText::
ü—‹
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
d©a
)

35  
adİtRef
(
Ãw
 
Ed™šgText
(
docum’t
, 
d©a
));

38 
boŞ
 
	gEd™šgText
::
»nd””IsN“ded
(
R’d”StyË
*)

40  
Œue
;

	@EditingText.h

21 #iâdeà
Ed™šgText_h


22 
	#Ed™šgText_h


	)

24 
	~"Text.h
"

26 
Çme¥aû
 
	gWebCÜe
 {

28 şas 
	cEd™šgText
 : 
public
 
Text
 {

29 
public
:

30 
PassRefPŒ
<
Ed™šgText
> 
ü—‹
(
Docum’t
*, cÚ¡ 
SŒšg
&);

32 
	g´iv©e
:

33 
vœtu®
 
boŞ
 
»nd””IsN“ded
(
R’d”StyË
 *);

35 
Ed™šgText
(
Docum’t
*, cÚ¡ 
SŒšg
&);

	@Element.cpp

26 
	~"cÚfig.h
"

27 
	~"EËm’t.h
"

29 
	~"AXObjeùCache.h
"

30 
	~"A‰r.h
"

31 
	~"CSSP¬£r.h
"

32 
	~"CSSS–eùÜLi¡.h
"

33 
	~"CSSStyËS–eùÜ.h
"

34 
	~"Cl›ÁReù.h
"

35 
	~"Cl›ÁReùLi¡.h
"

36 
	~"Docum’t.h
"

37 
	~"Docum’tF¿gm’t.h
"

38 
	~"EËm’tR¬eD©a.h
"

39 
	~"Exû±iÚCode.h
"

40 
	~"FocusCÚŒŞËr.h
"

41 
	~"F¿me.h
"

42 
	~"F¿meV›w.h
"

43 
	~"HTMLEËm’t.h
"

44 
	~"HTMLNames.h
"

45 
	~"HTMLTok’iz”.h
"

46 
	~"In¥eùÜCÚŒŞËr.h
"

47 
	~"NamedNodeM­.h
"

48 
	~"NodeLi¡.h
"

49 
	~"NodeR’d”StyË.h
"

50 
	~"Page.h
"

51 
	~"R’d”V›w.h
"

52 
	~"R’d”Widg‘.h
"

53 
	~"TextI‹¿tÜ.h
"

54 
	~"XMLNames.h
"

55 
	~"XMLTok’iz”.h
"

56 
	~<wtf/‹xt/CSŒšg.h
>

58 #ià
ENABLE
(
SVG
)

59 
	~"SVGNames.h
"

62 
Çme¥aû
 
	gWebCÜe
 {

64 
usšg
 
Çme¥aû
 
	gHTMLNames
;

65 
usšg
 
Çme¥aû
 
	gXMLNames
;

67 
	gEËm’t
::
EËm’t
(cÚ¡ 
Qu®if›dName
& 
gName
, 
Docum’t
* 
docum’t
, 
CÚ¡ruùiÚTy³
 
ty³
)

68 : 
CÚš”Node
(
docum’t
, 
ty³
)

69 , 
m_gName
(
gName
)

73 
	gPassRefPŒ
<
	gEËm’t
> EËm’t::
ü—‹
(cÚ¡ 
Qu®if›dName
& 
gName
, 
Docum’t
* 
docum’t
)

75  
adİtRef
(
Ãw
 
EËm’t
(
gName
, 
docum’t
, 
C»©eEËm’t
));

78 
	gEËm’t
::~
EËm’t
()

80 ià(
ÇmedA‰rM­
)

81 
ÇmedA‰rM­
->
d‘achFromEËm’t
();

84 
šlše
 
EËm’tR¬eD©a
* 
	gEËm’t
::
¿»D©a
() const

86 
ASSERT
(
hasR¬eD©a
());

87  
	g¡©ic_ÿ¡
<
	gEËm’tR¬eD©a
*>(
	gNodeR¬eD©a
::
¿»D©aFromM­
(
this
));

90 
šlše
 
EËm’tR¬eD©a
* 
	gEËm’t
::
’su»R¬eD©a
()

92  
¡©ic_ÿ¡
<
EËm’tR¬eD©a
*>(
Node
::
’su»R¬eD©a
());

95 
NodeR¬eD©a
* 
	gEËm’t
::
ü—‹R¬eD©a
()

97  
Ãw
 
EËm’tR¬eD©a
;

100 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
	gEËm’t
::
ü—‹CÚ‹xtu®F¿gm’t
(cÚ¡ 
SŒšg
& 
m¬kup
, 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

102 
	gRefPŒ
<
	gDocum’tF¿gm’t
> 
	gäagm’t
 = 
Docum’tF¿gm’t
::
ü—‹
(
docum’t
());

104 ià(
docum’t
()->
isHTMLDocum’t
())

105 
·r£HTMLDocum’tF¿gm’t
(
m¬kup
, 
äagm’t
.
g‘
(), 
sütšgP”missiÚ
);

107 ià(!
·r£XMLDocum’tF¿gm’t
(
m¬kup
, 
äagm’t
.
g‘
(), 
this
, 
sütšgP”missiÚ
))

113 
Exû±iÚCode
 
	gignÜedExû±iÚCode
;

119 
	gRefPŒ
<
	gNode
> 
	gÃxtNode
;

120 
	gRefPŒ
<
	gNode
> 
	gnode
 = 
äagm’t
->
fœ¡Chd
();‚ode;‚odğ
ÃxtNode
) {

121 
ÃxtNode
 = 
node
->
ÃxtSiblšg
();

122 ià(
	gnode
->
hasTagName
(
htmlTag
è||‚ode->hasTagName(
bodyTag
)) {

123 
Node
* 
	gfœ¡Chd
 = 
node
->
fœ¡Chd
();

124 ià(
	gfœ¡Chd
)

125 
	gÃxtNode
 = 
fœ¡Chd
;

126 
	gRefPŒ
<
	gNode
> 
	gÃxtChd
;

127 
	gRefPŒ
<
	gNode
> 
	gchd
 = 
fœ¡Chd
; chd; chd = 
ÃxtChd
) {

128 
ÃxtChd
 = 
chd
->
ÃxtSiblšg
();

129 
	gnode
->
»moveChd
(
chd
.
g‘
(), 
ignÜedExû±iÚCode
);

130 
ASSERT
(!
ignÜedExû±iÚCode
);

131 
	gäagm’t
->
š£¹BefÜe
(
chd
, 
node
.
g‘
(), 
ignÜedExû±iÚCode
);

132 
ASSERT
(!
ignÜedExû±iÚCode
);

134 
	gäagm’t
->
»moveChd
(
node
.
g‘
(), 
ignÜedExû±iÚCode
);

135 
ASSERT
(!
ignÜedExû±iÚCode
);

136 } ià(
	gnode
->
hasTagName
(
h—dTag
)) {

137 
	gäagm’t
->
»moveChd
(
node
.
g‘
(), 
ignÜedExû±iÚCode
);

138 
ASSERT
(!
ignÜedExû±iÚCode
);

142  
	gäagm’t
.
»Ëa£
();

145 
	gPassRefPŒ
<
	gNode
> 
	gEËm’t
::
şÚeNode
(
boŞ
 
d“p
)

147  
d“p
 ? 
şÚeEËm’tW™hChd»n
(è: 
şÚeEËm’tW™houtChd»n
();

150 
	gPassRefPŒ
<
	gEËm’t
> EËm’t::
şÚeEËm’tW™hChd»n
()

152 
RefPŒ
<
EËm’t
> 
şÚe
 = 
şÚeEËm’tW™houtChd»n
();

153 
şÚeChdNodes
(
şÚe
.
g‘
());

154  
	gşÚe
.
»Ëa£
();

157 
	gPassRefPŒ
<
	gEËm’t
> EËm’t::
şÚeEËm’tW™houtChd»n
()

159 
RefPŒ
<
EËm’t
> 
şÚe
 = 
docum’t
()->
ü—‹EËm’t
(
gQName
(), 
çl£
);

162 
ASSERT
(
isHTMLEËm’t
(è=ğ
şÚe
->isHTMLElement());

164 
	gşÚe
->
cİyNÚA‰ribu‹Prİ”t›s
(
this
);

167 ià(
	gÇmedA‰rM­
)

168 
	gşÚe
->
©Œibu‹s
()->
£tA‰ribu‹s
(*©Œibu‹s(
Œue
));

170  
	gşÚe
.
»Ëa£
();

173 
	gEËm’t
::
»moveA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, 
Exû±iÚCode
& 
ec
)

175 ià(
	gÇmedA‰rM­
) {

176 
	gec
 = 0;

177 
	gÇmedA‰rM­
->
»moveNamedI‹m
(
Çme
, 
ec
);

178 ià(
	gec
 =ğ
NOT_FOUND_ERR
)

179 
ec
 = 0;

183 
	gEËm’t
::
£tA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
)

185 
Exû±iÚCode
 
	gec
;

186 
£tA‰ribu‹
(
Çme
, 
v®ue
, 
ec
);

189 
	gEËm’t
::
£tCSŒšgA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ * 
cSŒšgV®ue
)

191 
Exû±iÚCode
 
	gec
;

192 
£tA‰ribu‹
(
Çme
, 
AtomicSŒšg
(
cSŒšgV®ue
), 
ec
);

195 
	gEËm’t
::
£tBoŞ—nA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, 
boŞ
 
b
)

197 ià(
	gb
)

198 
£tA‰ribu‹
(
Çme
,‚ame.
loÿlName
());

200 
Exû±iÚCode
 
	gex
;

201 
»moveA‰ribu‹
(
Çme
, 
ex
);

206 
NamedNodeM­
* 
	gEËm’t
::
©Œibu‹s
() const

208  
©Œibu‹s
(
çl£
);

211 
	gNode
::
NodeTy³
 
EËm’t
::
nodeTy³
() const

213  
ELEMENT_NODE
;

216 cÚ¡ 
	gAtomicSŒšg
& 
	gEËm’t
::
g‘IDA‰ribu‹
() const

218  
ÇmedA‰rM­
 ?‚amedA‰rM­->
id
(è: 
nuÎAtom
;

221 
boŞ
 
	gEËm’t
::
hasA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
) const

223  
hasA‰ribu‹NS
(
Çme
.
Çme¥aûURI
(),‚ame.
loÿlName
());

226 cÚ¡ 
	gAtomicSŒšg
& 
	gEËm’t
::
g‘A‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
) const

228 ià(
Çme
 =ğ
¡yËA‰r
 && !
m_isStyËA‰ribu‹V®id
)

229 
upd©eStyËA‰ribu‹
();

231 #ià
ENABLE
(
SVG
)

232 ià(!
	gm_¬eSVGA‰ribu‹sV®id
)

233 
upd©eAnim©edSVGA‰ribu‹
(
Çme
);

236 ià(
	gÇmedA‰rM­
)

237 ià(
A‰ribu‹
* 
	ga
 = 
ÇmedA‰rM­
->
g‘A‰ribu‹I‹m
(
Çme
))

238  
a
->
v®ue
();

240  
	gnuÎAtom
;

243 
	gEËm’t
::
süŞlIÁoV›w
(
boŞ
 
®ignToTİ
)

245 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

246 
IÁReù
 
	gbounds
 = 
g‘Reù
();

247 ià(
»nd””
()) {

249 ià(
	g®ignToTİ
)

250 
»nd””
()->
’şosšgLay”
()->
süŞlReùToVisibË
(
bounds
, 
çl£
, 
SüŞlAlignm’t
::
®ignToEdgeIfN“ded
, SüŞlAlignm’t::
®ignTİAlways
);

252 
»nd””
()->
’şosšgLay”
()->
süŞlReùToVisibË
(
bounds
, 
çl£
, 
SüŞlAlignm’t
::
®ignToEdgeIfN“ded
, SüŞlAlignm’t::
®ignBÙtomAlways
);

256 
	gEËm’t
::
süŞlIÁoV›wIfN“ded
(
boŞ
 
ûÁ”IfN“ded
)

258 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

259 
IÁReù
 
	gbounds
 = 
g‘Reù
();

260 ià(
»nd””
()) {

261 ià(
	gûÁ”IfN“ded
)

262 
»nd””
()->
’şosšgLay”
()->
süŞlReùToVisibË
(
bounds
, 
çl£
, 
SüŞlAlignm’t
::
®ignC’‹rIfN“ded
, ScrollAlignment::alignCenterIfNeeded);

264 
»nd””
()->
’şosšgLay”
()->
süŞlReùToVisibË
(
bounds
, 
çl£
, 
SüŞlAlignm’t
::
®ignToEdgeIfN“ded
, ScrollAlignment::alignToEdgeIfNeeded);

268 
	gEËm’t
::
süŞlByUn™s
(
un™s
, 
SüŞlG¿nuÏr™y
 
g¿nuÏr™y
)

270 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

271 ià(
R’d”Objeù
 *
	g»nd
 = 
»nd””
()) {

272 ià(
»nd
->
hasOv”æowCl
()) {

273 
SüŞlDœeùiÚ
 
dœeùiÚ
 = 
SüŞlDown
;

274 ià(
	gun™s
 < 0) {

275 
	gdœeùiÚ
 = 
SüŞlUp
;

276 
	gun™s
 = -
un™s
;

278 
toR’d”Box
(
»nd
)->
Ïy”
()->
süŞl
(
dœeùiÚ
, 
g¿nuÏr™y
, 
un™s
);

283 
	gEËm’t
::
süŞlByLšes
(
lšes
)

285 
süŞlByUn™s
(
lšes
, 
SüŞlByLše
);

288 
	gEËm’t
::
süŞlByPages
(
·ges
)

290 
süŞlByUn™s
(
·ges
, 
SüŞlByPage
);

293 
loÿlZoomFÜR’d””
(
R’d”Objeù
* 
»nd””
)

298 
	gzoomFaùÜ
 = 1.0f;

299 ià(
	g»nd””
->
¡yË
()->
efãùiveZoom
() != 1.0f) {

302 
R’d”Objeù
* 
´ev
 = 
»nd””
;

303 
R’d”Objeù
* 
	gcu¼
 = 
´ev
->
·»Á
(); cu¼; cu¼ = 
cu¼
->parent()) {

304 ià(
cu¼
->
¡yË
()->
efãùiveZoom
(è!ğ
´ev
->style()->effectiveZoom()) {

305 
zoomFaùÜ
 = 
´ev
->
¡yË
()->
zoom
();

308 
	g´ev
 = 
cu¼
;

310 ià(
	g´ev
->
isR’d”V›w
())

311 
	gzoomFaùÜ
 = 
´ev
->
¡yË
()->
zoom
();

313  
	gzoomFaùÜ
;

316 
adju¡FÜLoÿlZoom
(
v®ue
, 
R’d”Objeù
* 
»nd””
)

318 
	gzoomFaùÜ
 = 
loÿlZoomFÜR’d””
(
»nd””
);

319 ià(
	gzoomFaùÜ
 == 1)

320  
v®ue
;

322 ià(
	gzoomFaùÜ
 > 1)

323 
	gv®ue
++;

324  
	g¡©ic_ÿ¡
<>(
	gv®ue
 / 
	gzoomFaùÜ
);

327 
	gEËm’t
::
off£tLeá
()

329 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

330 ià(
R’d”BoxMod–Objeù
* 
	g»nd
 = 
»nd”BoxMod–Objeù
())

331  
adju¡FÜLoÿlZoom
(
»nd
->
off£tLeá
(),„end);

335 
	gEËm’t
::
off£tTİ
()

337 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

338 ià(
R’d”BoxMod–Objeù
* 
	g»nd
 = 
»nd”BoxMod–Objeù
())

339  
adju¡FÜLoÿlZoom
(
»nd
->
off£tTİ
(),„end);

343 
	gEËm’t
::
off£tWidth
()

345 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

346 ià(
R’d”BoxMod–Objeù
* 
	g»nd
 = 
»nd”BoxMod–Objeù
())

347  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
off£tWidth
(),„end);

351 
	gEËm’t
::
off£tHeight
()

353 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

354 ià(
R’d”BoxMod–Objeù
* 
	g»nd
 = 
»nd”BoxMod–Objeù
())

355  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
off£tHeight
(),„end);

359 
EËm’t
* 
	gEËm’t
::
off£tP¬’t
()

361 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

362 ià(
R’d”Objeù
* 
	g»nd
 = 
»nd””
())

363 ià(
R’d”Objeù
* 
off£tP¬’t
 = 
»nd
->offsetParent())

364  
¡©ic_ÿ¡
<
EËm’t
*>(
off£tP¬’t
->
node
());

368 
	gEËm’t
::
ş›ÁLeá
()

370 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

372 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

373  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
ş›ÁLeá
(),„end);

377 
	gEËm’t
::
ş›ÁTİ
()

379 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

381 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

382  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
ş›ÁTİ
(),„end);

386 
	gEËm’t
::
ş›ÁWidth
()

388 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

392 
boŞ
 
	gšCom·tMode
 = 
docum’t
()->
šCom·tMode
();

393 ià((!
	gšCom·tMode
 && 
docum’t
()->
docum’tEËm’t
(è=ğ
this
) ||

394 (
šCom·tMode
 && 
isHTMLEËm’t
(è&& 
docum’t
()->
body
(è=ğ
this
)) {

395 ià(
F¿meV›w
* 
v›w
 = 
docum’t
()->view()) {

396 ià(
R’d”V›w
* 
»nd”V›w
 = 
docum’t
()->renderView())

397  
adju¡FÜAbsŞu‹Zoom
(
v›w
->
ÏyoutWidth
(), 
»nd”V›w
);

401 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

402  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
ş›ÁWidth
(),„end);

406 
	gEËm’t
::
ş›ÁHeight
()

408 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

412 
boŞ
 
	gšCom·tMode
 = 
docum’t
()->
šCom·tMode
();

414 ià((!
	gšCom·tMode
 && 
docum’t
()->
docum’tEËm’t
(è=ğ
this
) ||

415 (
šCom·tMode
 && 
isHTMLEËm’t
(è&& 
docum’t
()->
body
(è=ğ
this
)) {

416 ià(
F¿meV›w
* 
v›w
 = 
docum’t
()->view()) {

417 ià(
R’d”V›w
* 
»nd”V›w
 = 
docum’t
()->renderView())

418  
adju¡FÜAbsŞu‹Zoom
(
v›w
->
ÏyoutHeight
(), 
»nd”V›w
);

422 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

423  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
ş›ÁHeight
(),„end);

427 
	gEËm’t
::
süŞlLeá
() const

429 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

430 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

431  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
süŞlLeá
(),„end);

435 
	gEËm’t
::
süŞlTİ
() const

437 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

438 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

439  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
süŞlTİ
(),„end);

443 
	gEËm’t
::
£tSüŞlLeá
(
ÃwLeá
)

445 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

446 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

447 
»nd
->
£tSüŞlLeá
(
¡©ic_ÿ¡
<>(
ÃwLeá
 *„’d->
¡yË
()->
efãùiveZoom
()));

450 
	gEËm’t
::
£tSüŞlTİ
(
ÃwTİ
)

452 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

453 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

454 
»nd
->
£tSüŞlTİ
(
¡©ic_ÿ¡
<>(
ÃwTİ
 *„’d->
¡yË
()->
efãùiveZoom
()));

457 
	gEËm’t
::
süŞlWidth
() const

459 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

460 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

461  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
süŞlWidth
(),„end);

465 
	gEËm’t
::
süŞlHeight
() const

467 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

468 ià(
R’d”Box
* 
	g»nd
 = 
»nd”Box
())

469  
adju¡FÜAbsŞu‹Zoom
(
»nd
->
süŞlHeight
(),„end);

473 
	gPassRefPŒ
<
	gCl›ÁReùLi¡
> 
	gEËm’t
::
g‘Cl›ÁReùs
() const

475 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

477 
R’d”BoxMod–Objeù
* 
	g»nd”BoxMod–Objeù
 = 
this
->
»nd”BoxMod–Objeù
();

478 ià(!
	g»nd”BoxMod–Objeù
)

479  
	gCl›ÁReùLi¡
::
ü—‹
();

484 
	gVeùÜ
<
	gFlßtQuad
> 
	gquads
;

485 
	g»nd”BoxMod–Objeù
->
absŞu‹Quads
(
quads
);

487 ià(
F¿meV›w
* 
	gv›w
 = 
docum’t
()->
v›w
()) {

488 
IÁReù
 
visibËCÚ‹ÁReù
 = 
v›w
->visibleContentRect();

489 
size_t
 
	gi
 = 0; i < 
	gquads
.
size
(); ++i) {

490 
	gquads
[
i
].
move
(-
visibËCÚ‹ÁReù
.
x
(), -visibËCÚ‹ÁReù.
y
());

491 
adju¡FlßtQuadFÜAbsŞu‹Zoom
(
quads
[
i
], 
»nd”BoxMod–Objeù
);

495  
	gCl›ÁReùLi¡
::
ü—‹
(
quads
);

498 
	gPassRefPŒ
<
	gCl›ÁReù
> 
	gEËm’t
::
g‘BoundšgCl›ÁReù
() const

500 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

501 
R’d”BoxMod–Objeù
* 
	g»nd”BoxMod–Objeù
 = 
this
->
»nd”BoxMod–Objeù
();

502 ià(!
	g»nd”BoxMod–Objeù
)

503  
	gCl›ÁReù
::
ü—‹
();

505 
	gVeùÜ
<
	gFlßtQuad
> 
	gquads
;

506 
	g»nd”BoxMod–Objeù
->
absŞu‹Quads
(
quads
);

508 ià(
	gquads
.
isEm±y
())

509  
	gCl›ÁReù
::
ü—‹
();

511 
IÁReù
 
	g»suÉ
 = 
quads
[0].
’şosšgBoundšgBox
();

512 
size_t
 
	gi
 = 1; i < 
	gquads
.
size
(); ++i)

513 
	g»suÉ
.
un™e
(
quads
[
i
].
’şosšgBoundšgBox
());

515 ià(
F¿meV›w
* 
	gv›w
 = 
docum’t
()->
v›w
()) {

516 
IÁReù
 
visibËCÚ‹ÁReù
 = 
v›w
->visibleContentRect();

517 
	g»suÉ
.
move
(-
visibËCÚ‹ÁReù
.
x
(), -visibËCÚ‹ÁReù.
y
());

520 
adju¡IÁReùFÜAbsŞu‹Zoom
(
»suÉ
, 
»nd”BoxMod–Objeù
);

522  
	gCl›ÁReù
::
ü—‹
(
»suÉ
);

525 
šlše
 
boŞ
 
shouldIgnÜeA‰ribu‹Ca£
(cÚ¡ 
EËm’t
* 
e
)

527  
	ge
 &&ƒ->
docum’t
()->
isHTMLDocum’t
(è&&ƒ->
isHTMLEËm’t
();

530 cÚ¡ 
	gAtomicSŒšg
& 
	gEËm’t
::
g‘A‰ribu‹
(cÚ¡ 
SŒšg
& 
Çme
) const

532 
boŞ
 
ignÜeCa£
 = 
shouldIgnÜeA‰ribu‹Ca£
(
this
);

535 ià(!
	gm_isStyËA‰ribu‹V®id
 && 
equ®PossiblyIgnÜšgCa£
(
Çme
, 
¡yËA‰r
.
loÿlName
(), 
ignÜeCa£
))

536 
upd©eStyËA‰ribu‹
();

538 #ià
ENABLE
(
SVG
)

539 ià(!
	gm_¬eSVGA‰ribu‹sV®id
) {

541 
upd©eAnim©edSVGA‰ribu‹
(
Qu®if›dName
(
nuÎAtom
, 
Çme
,‚ullAtom));

545 ià(
	gÇmedA‰rM­
)

546 ià(
A‰ribu‹
* 
	g©Œibu‹
 = 
ÇmedA‰rM­
->
g‘A‰ribu‹I‹m
(
Çme
, 
ignÜeCa£
))

547  
	g©Œibu‹
->
v®ue
();

549  
	gnuÎAtom
;

552 cÚ¡ 
	gAtomicSŒšg
& 
	gEËm’t
::
g‘A‰ribu‹NS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
) const

554  
g‘A‰ribu‹
(
Qu®if›dName
(
nuÎAtom
, 
loÿlName
, 
Çme¥aûURI
));

557 
	gEËm’t
::
£tA‰ribu‹
(cÚ¡ 
AtomicSŒšg
& 
Çme
, cÚ¡ AtomicSŒšg& 
v®ue
, 
Exû±iÚCode
& 
ec
)

559 ià(!
	gDocum’t
::
isV®idName
(
Çme
)) {

560 
ec
 = 
INVALID_CHARACTER_ERR
;

564 cÚ¡ 
	gAtomicSŒšg
& 
	gloÿlName
 = 
shouldIgnÜeA‰ribu‹Ca£
(
this
è? 
Çme
.
low”
() :‚ame;

567 
A‰ribu‹
* 
	gŞd
 = 
©Œibu‹s
(
çl£
)->
g‘A‰ribu‹I‹m
(
loÿlName
, false);

569 
docum’t
()->
šcDOMT»eV”siÚ
();

571 ià(
	gloÿlName
 =ğ
idA‰ribu‹Name
().
loÿlName
())

572 
upd©eId
(
Şd
 ? old->
v®ue
(è: 
nuÎAtom
, value);

574 ià(
	gŞd
 && 
	gv®ue
.
isNuÎ
())

575 
	gÇmedA‰rM­
->
»moveA‰ribu‹
(
Şd
->
Çme
());

576 ià(!
	gŞd
 && !
	gv®ue
.
isNuÎ
())

577 
	gÇmedA‰rM­
->
addA‰ribu‹
(
ü—‹A‰ribu‹
(
Qu®if›dName
(
nuÎAtom
, 
loÿlName
,‚uÎAtom), 
v®ue
));

578 ià(
	gŞd
 && !
	gv®ue
.
isNuÎ
()) {

579 
	gŞd
->
£tV®ue
(
v®ue
);

580 
©Œibu‹Chªged
(
Şd
);

583 #ià
ENABLE
(
INSPECTOR
)

584 ià(
Page
* 
	g·ge
 = 
docum’t
()->
·ge
()) {

585 ià(
In¥eùÜCÚŒŞËr
* 
š¥eùÜCÚŒŞËr
 = 
·ge
->inspectorController()) {

586 ià(!
m_synchrÚizšgStyËA‰ribu‹
)

587 
š¥eùÜCÚŒŞËr
->
didModifyDOMA‰r
(
this
);

593 
	gEËm’t
::
£tA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
, 
Exû±iÚCode
&)

595 
docum’t
()->
šcDOMT»eV”siÚ
();

598 
A‰ribu‹
* 
	gŞd
 = 
©Œibu‹s
(
çl£
)->
g‘A‰ribu‹I‹m
(
Çme
);

600 ià(
	gÇme
 =ğ
idA‰ribu‹Name
())

601 
upd©eId
(
Şd
 ? old->
v®ue
(è: 
nuÎAtom
, value);

603 ià(
	gŞd
 && 
	gv®ue
.
isNuÎ
())

604 
	gÇmedA‰rM­
->
»moveA‰ribu‹
(
Çme
);

605 ià(!
	gŞd
 && !
	gv®ue
.
isNuÎ
())

606 
	gÇmedA‰rM­
->
addA‰ribu‹
(
ü—‹A‰ribu‹
(
Çme
, 
v®ue
));

607 ià(
	gŞd
) {

608 
	gŞd
->
£tV®ue
(
v®ue
);

609 
©Œibu‹Chªged
(
Şd
);

612 #ià
ENABLE
(
INSPECTOR
)

613 ià(
Page
* 
	g·ge
 = 
docum’t
()->
·ge
()) {

614 ià(
In¥eùÜCÚŒŞËr
* 
š¥eùÜCÚŒŞËr
 = 
·ge
->inspectorController()) {

615 ià(!
m_synchrÚizšgStyËA‰ribu‹
)

616 
š¥eùÜCÚŒŞËr
->
didModifyDOMA‰r
(
this
);

622 
	gPassRefPŒ
<
	gA‰ribu‹
> 
	gEËm’t
::
ü—‹A‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
)

624  
	gA‰ribu‹
::
ü—‹
(
Çme
, 
v®ue
);

627 
	gEËm’t
::
©Œibu‹Chªged
(
A‰ribu‹
* 
©Œ
, 
boŞ
)

629 
»ÿlcStyËIfN“dedAá”A‰ribu‹Chªged
(
©Œ
);

630 
upd©eAá”A‰ribu‹Chªged
(
©Œ
);

633 
	gEËm’t
::
upd©eAá”A‰ribu‹Chªged
(
A‰ribu‹
* 
©Œ
)

635 ià(!
AXObjeùCache
::
acûssib™yEÇbËd
())

638 cÚ¡ 
	gQu®if›dName
& 
	g©ŒName
 = 
©Œ
->
Çme
();

639 ià(
	g©ŒName
 =ğ
¬Ÿ_aùivedesûndªtA‰r
) {

641 
docum’t
()->
axObjeùCache
()->
hªdËAùiveDesûndªtChªged
(
»nd””
());

642 } ià(
	g©ŒName
 =ğ
rŞeA‰r
) {

644 
docum’t
()->
axObjeùCache
()->
hªdËArŸRŞeChªged
(
»nd””
());

645 } ià(
	g©ŒName
 =ğ
¬Ÿ_v®u’owA‰r
) {

647 
docum’t
()->
axObjeùCache
()->
po¡NÙifiÿtiÚ
(
»nd””
(), 
AXObjeùCache
::
AXV®ueChªged
, 
Œue
);

648 } ià(
	g©ŒName
 =ğ
¬Ÿ_Ïb–A‰r
 || 
©ŒName
 =ğ
¬Ÿ_Ïb–edbyA‰r
 ||‡‰rNam=ğ
®tA‰r
 ||‡‰rNam=ğ
t™ËA‰r
) {

650 
docum’t
()->
axObjeùCache
()->
cÚ‹ÁChªged
(
»nd””
());

651 } ià(
	g©ŒName
 =ğ
¬Ÿ_£ËùedA‰r
)

652 
docum’t
()->
axObjeùCache
()->
£ËùedChd»nChªged
(
»nd””
());

655 
	gEËm’t
::
»ÿlcStyËIfN“dedAá”A‰ribu‹Chªged
(
A‰ribu‹
* 
©Œ
)

657 ià(
docum’t
()->
©ched
(è&& docum’t()->
¡yËS–eùÜ
()->
hasS–eùÜFÜA‰ribu‹
(
©Œ
->
Çme
().
loÿlName
()))

658 
£tN“dsStyËReÿlc
();

666 
boŞ
 
isEv’tHªdËrA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
)

668  
	gÇme
.
Çme¥aûURI
().
isNuÎ
(è&&‚ame.
loÿlName
().
¡¬tsW™h
("on");

671 
boŞ
 
isA‰ribu‹ToRemove
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
)

673  (
	gÇme
.
loÿlName
().
’dsW™h
(
h»fA‰r
.loÿlName()è||‚am=ğ
¤cA‰r
 || 
Çme
 =ğ
aùiÚA‰r
è&& 
´ÙocŞIsJavaSüt
(
d•»ÿ‹dP¬£URL
(
v®ue
));

676 
	gEËm’t
::
£tA‰ribu‹M­
(
PassRefPŒ
<
NamedNodeM­
> 
li¡
, 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

678 
docum’t
()->
šcDOMT»eV”siÚ
();

682 cÚ¡ 
	gQu®if›dName
& 
	gidName
 = 
idA‰ribu‹Name
();

683 
A‰ribu‹
* 
	gŞdId
 = 
ÇmedA‰rM­
 ?‚amedA‰rM­->
g‘A‰ribu‹I‹m
(
idName
) : 0;

684 
A‰ribu‹
* 
	gÃwId
 = 
li¡
 ?†i¡->
g‘A‰ribu‹I‹m
(
idName
) : 0;

686 ià(
	gŞdId
 || 
	gÃwId
)

687 
upd©eId
(
ŞdId
 ? oldId->
v®ue
(è: 
nuÎAtom
, 
ÃwId
 ?‚ewId->value() :‚ullAtom);

689 ià(
	gÇmedA‰rM­
)

690 
	gÇmedA‰rM­
->
	gm_–em’t
 = 0;

692 
	gÇmedA‰rM­
 = 
li¡
;

694 ià(
	gÇmedA‰rM­
) {

695 
	gÇmedA‰rM­
->
	gm_–em’t
 = 
this
;

698 ià(
	gsütšgP”missiÚ
 =ğ
F¿gm’tSütšgNÙAÎowed
) {

699 
i
 = 0;

700 
	gi
 < 
	gÇmedA‰rM­
->
Ëngth
()) {

701 cÚ¡ 
	gQu®if›dName
& 
	g©Œibu‹Name
 = 
ÇmedA‰rM­
->
m_©Œibu‹s
[
i
]->
Çme
();

702 ià(
isEv’tHªdËrA‰ribu‹
(
©Œibu‹Name
)) {

703 
	gÇmedA‰rM­
->
	gm_©Œibu‹s
.
»move
(
i
);

707 ià(
isA‰ribu‹ToRemove
(
©Œibu‹Name
, 
ÇmedA‰rM­
->
m_©Œibu‹s
[
i
]->
v®ue
()))

708 
	gÇmedA‰rM­
->
	gm_©Œibu‹s
[
i
]->
£tV®ue
(
nuÎAtom
);

709 
	gi
++;

712 
	gËn
 = 
ÇmedA‰rM­
->
Ëngth
();

713 
	gi
 = 0; i < 
	gËn
; i++)

714 
©Œibu‹Chªged
(
ÇmedA‰rM­
->
m_©Œibu‹s
[
i
].
g‘
());

719 
boŞ
 
	gEËm’t
::
hasA‰ribu‹s
() const

721 ià(!
m_isStyËA‰ribu‹V®id
)

722 
upd©eStyËA‰ribu‹
();

724 #ià
ENABLE
(
SVG
)

725 ià(!
	gm_¬eSVGA‰ribu‹sV®id
)

726 
upd©eAnim©edSVGA‰ribu‹
(
ªyQName
());

729  
	gÇmedA‰rM­
 &&‚amedA‰rM­->
Ëngth
() > 0;

732 
SŒšg
 
	gEËm’t
::
nodeName
() const

734  
m_gName
.
toSŒšg
();

737 
SŒšg
 
	gEËm’t
::
nodeNameP»£rvšgCa£
() const

739  
m_gName
.
toSŒšg
();

742 
	gEËm’t
::
£tP»fix
(cÚ¡ 
AtomicSŒšg
& 
´efix
, 
Exû±iÚCode
& 
ec
)

744 
	gec
 = 0;

745 
checkS‘P»fix
(
´efix
, 
ec
);

746 ià(
	gec
)

749 
	gm_gName
.
£tP»fix
(
´efix
.
isEm±y
(è? 
AtomicSŒšg
() :…refix);

752 
KURL
 
	gEËm’t
::
ba£URI
() const

754 cÚ¡ 
AtomicSŒšg
& 
ba£A‰ribu‹
 = 
g‘A‰ribu‹
(
ba£A‰r
);

755 
KURL
 
ba£
(KURL(), 
ba£A‰ribu‹
);

756 ià(!
	gba£
.
´ÙocŞ
().
isEm±y
())

757  
	gba£
;

759 
Node
* 
	g·»Á
 = 
·»ÁNode
();

760 ià(!
	g·»Á
)

761  
	gba£
;

763 cÚ¡ 
	gKURL
& 
	g·»ÁBa£
 = 
·»Á
->
ba£URI
();

764 ià(
	g·»ÁBa£
.
isNuÎ
())

765  
	gba£
;

767  
KURL
(
·»ÁBa£
, 
ba£A‰ribu‹
);

770 
	gEËm’t
::
ü—‹A‰ribu‹M­
() const

772 
ÇmedA‰rM­
 = 
NamedNodeM­
::
ü—‹
(
cÚ¡_ÿ¡
<
EËm’t
*>(
this
));

775 
boŞ
 
	gEËm’t
::
isURLA‰ribu‹
(
A‰ribu‹
*) const

777  
çl£
;

780 cÚ¡ 
	gQu®if›dName
& 
	gEËm’t
::
imageSourûA‰ribu‹Name
() const

782  
¤cA‰r
;

785 
R’d”Objeù
* 
	gEËm’t
::
ü—‹R’d””
(
R’d”A»Ç
* 
¬’a
, 
R’d”StyË
* 
¡yË
)

787 ià(
docum’t
()->
docum’tEËm’t
(è=ğ
this
 && 
¡yË
->
di¥Ïy
(è=ğ
NONE
) {

789 
R’d”Block
* 
»suÉ
 = 
Ãw
 (
¬’a
èR’d”Block(
this
);

790 ià(
	g»suÉ
)

791 
	g»suÉ
->
£tAnim©abËStyË
(
¡yË
);

792  
	g»suÉ
;

794  
	gR’d”Objeù
::
ü—‹Objeù
(
this
, 
¡yË
);

798 
	gEËm’t
::
š£¹edIÁoDocum’t
()

802 
CÚš”Node
::
š£¹edIÁoDocum’t
();

804 ià(
hasID
()) {

805 ià(
NamedNodeM­
* 
	g©Œs
 = 
ÇmedA‰rM­
.
g‘
()) {

806 
A‰ribu‹
* 
idI‹m
 = 
©Œs
->
g‘A‰ribu‹I‹m
(
idA‰ribu‹Name
());

807 ià(
	gidI‹m
 && !idI‹m->
isNuÎ
())

808 
upd©eId
(
nuÎAtom
, 
idI‹m
->
v®ue
());

813 
	gEËm’t
::
»movedFromDocum’t
()

815 ià(
hasID
()) {

816 ià(
NamedNodeM­
* 
©Œs
 = 
ÇmedA‰rM­
.
g‘
()) {

817 
A‰ribu‹
* 
idI‹m
 = 
©Œs
->
g‘A‰ribu‹I‹m
(
idA‰ribu‹Name
());

818 ià(
	gidI‹m
 && !idI‹m->
isNuÎ
())

819 
upd©eId
(
idI‹m
->
v®ue
(), 
nuÎAtom
);

823 
	gCÚš”Node
::
»movedFromDocum’t
();

826 
	gEËm’t
::
©ch
()

828 
su¥’dPo¡A‰achC®lbacks
();

829 
	gR’d”Widg‘
::
su¥’dWidg‘H›¿rchyUpd©es
();

831 
ü—‹R’d””IfN“ded
();

832 
	gCÚš”Node
::
©ch
();

833 ià(
hasR¬eD©a
()) {

834 
EËm’tR¬eD©a
* 
	gd©a
 = 
¿»D©a
();

835 ià(
	gd©a
->
ÃedsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
()) {

836 ià(
isFocu§bË
(è&& 
docum’t
()->
focu£dNode
(è=ğ
this
)

837 
docum’t
()->
upd©eFocusAµ—¿nûSoÚ
(
çl£
 );

838 
	gd©a
->
£tN“dsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
(
çl£
);

842 
	gR’d”Widg‘
::
»sumeWidg‘H›¿rchyUpd©es
();

843 
»sumePo¡A‰achC®lbacks
();

846 
	gEËm’t
::
d‘ach
()

848 
R’d”Widg‘
::
su¥’dWidg‘H›¿rchyUpd©es
();

850 
ÿnûlFocusAµ—¿nûUpd©e
();

851 ià(
hasR¬eD©a
())

852 
¿»D©a
()->
»£tCompu‹dStyË
();

853 
	gCÚš”Node
::
d‘ach
();

855 
	gR’d”Widg‘
::
»sumeWidg‘H›¿rchyUpd©es
();

858 
boŞ
 
	gEËm’t
::
p£udoStyËCacheIsInv®id
(cÚ¡ 
R’d”StyË
* 
cu¼’tStyË
, R’d”StyË* 
ÃwStyË
)

860 
ASSERT
(
cu¼’tStyË
 =ğ
»nd”StyË
());

862 ià(!
»nd””
(è|| !
	gcu¼’tStyË
)

863  
	gçl£
;

865 
	gR’d”StyË
::
P£udoStyËCache
 
p£udoStyËCache
;

866 
	gcu¼’tStyË
->
g‘P£udoStyËCache
(
p£udoStyËCache
);

867 
size_t
 
	gÿcheSize
 = 
p£udoStyËCache
.
size
();

868 
size_t
 
	gi
 = 0; i < 
	gÿcheSize
; ++i) {

869 
	gRefPŒ
<
	gR’d”StyË
> 
	gÃwP£udoStyË
;

870 
P£udoId
 
	gp£udoId
 = 
p£udoStyËCache
[
i
]->
¡yËTy³
();

871 ià(
	gp£udoId
 =ğ
VISITED_LINK
) {

872 
ÃwP£udoStyË
 = 
ÃwStyË
->
g‘CachedP£udoStyË
(
VISITED_LINK
);

873 ià(!
	gÃwP£udoStyË
 || *ÃwP£udoStyË !ğ*
p£udoStyËCache
[
i
])

874  
Œue
;

875 } ià(
	gp£udoId
 =ğ
FIRST_LINE
 || 
p£udoId
 =ğ
FIRST_LINE_INHERITED
)

876 
ÃwP£udoStyË
 = 
»nd””
()->
unÿchedFœ¡LšeStyË
(
ÃwStyË
);

878 
	gÃwP£udoStyË
 = 
»nd””
()->
g‘UnÿchedP£udoStyË
(
p£udoId
, 
ÃwStyË
,‚ewStyle);

879 ià(!
	gÃwP£udoStyË
)

880  
	gŒue
;

881 ià(*
	gÃwP£udoStyË
 !ğ*
p£udoStyËCache
[
i
]) {

882 ià(
p£udoId
 < 
FIRST_INTERNAL_PSEUDOID
)

883 
ÃwStyË
->
£tHasP£udoStyË
(
p£udoId
);

884 
	gÃwStyË
->
addCachedP£udoStyË
(
ÃwP£udoStyË
);

885  
	gŒue
;

888  
	gçl£
;

891 
	gEËm’t
::
»ÿlcStyË
(
StyËChªge
 
chªge
)

894 
RefPŒ
<
R’d”StyË
> 
cu¼’tStyË
(
»nd”StyË
());

895 
boŞ
 
	ghasP¬’tStyË
 = 
·»ÁNode
(è?…¬’tNode()->
»nd”StyË
(è: 
çl£
;

896 
boŞ
 
	ghasPos™iÚ®RuËs
 = 
ÃedsStyËReÿlc
(è&& 
cu¼’tStyË
 && cu¼’tStyË->
chd»nAfãùedByPos™iÚ®RuËs
();

897 
boŞ
 
	ghasDœeùAdjaûÁRuËs
 = 
cu¼’tStyË
 && cu¼’tStyË->
chd»nAfãùedByDœeùAdjaûÁRuËs
();

899 #ià
ENABLE
(
SVG
)

900 ià(!
	ghasP¬’tStyË
 && 
isShadowNode
(è&& 
isSVGEËm’t
())

901 
	ghasP¬’tStyË
 = 
Œue
;

904 ià((
	gchªge
 > 
	gNoChªge
 || 
ÃedsStyËReÿlc
())) {

905 ià(
hasR¬eD©a
())

906 
¿»D©a
()->
»£tCompu‹dStyË
();

908 ià(
	ghasP¬’tStyË
 && (
	gchªge
 >ğ
Inh”™
 || 
ÃedsStyËReÿlc
())) {

909 
RefPŒ
<
R’d”StyË
> 
ÃwStyË
 = 
docum’t
()->
¡yËS–eùÜ
()->
¡yËFÜEËm’t
(
this
);

910 
StyËChªge
 
	gch
 = 
diff
(
cu¼’tStyË
.
g‘
(), 
ÃwStyË
.get());

911 ià(
	gch
 =ğ
D‘ach
 || !
cu¼’tStyË
) {

912 ià(
©ched
())

913 
d‘ach
();

914 
©ch
();

916 
£tN“dsStyËReÿlc
(
NoStyËChªge
);

917 
£tChdN“dsStyËReÿlc
(
çl£
);

921 ià(
	gcu¼’tStyË
) {

924 ià(
	gcu¼’tStyË
->
afãùedByHov”RuËs
())

925 
	gÃwStyË
->
£tAfãùedByHov”RuËs
(
Œue
);

926 ià(
	gcu¼’tStyË
->
afãùedByAùiveRuËs
())

927 
	gÃwStyË
->
£tAfãùedByAùiveRuËs
(
Œue
);

928 ià(
	gcu¼’tStyË
->
afãùedByD¿gRuËs
())

929 
	gÃwStyË
->
£tAfãùedByD¿gRuËs
(
Œue
);

930 ià(
	gcu¼’tStyË
->
chd»nAfãùedByFÜw¬dPos™iÚ®RuËs
())

931 
	gÃwStyË
->
£tChd»nAfãùedByFÜw¬dPos™iÚ®RuËs
();

932 ià(
	gcu¼’tStyË
->
chd»nAfãùedByBackw¬dPos™iÚ®RuËs
())

933 
	gÃwStyË
->
£tChd»nAfãùedByBackw¬dPos™iÚ®RuËs
();

934 ià(
	gcu¼’tStyË
->
chd»nAfãùedByFœ¡ChdRuËs
())

935 
	gÃwStyË
->
£tChd»nAfãùedByFœ¡ChdRuËs
();

936 ià(
	gcu¼’tStyË
->
chd»nAfãùedByLa¡ChdRuËs
())

937 
	gÃwStyË
->
£tChd»nAfãùedByLa¡ChdRuËs
();

938 ià(
	gcu¼’tStyË
->
chd»nAfãùedByDœeùAdjaûÁRuËs
())

939 
	gÃwStyË
->
£tChd»nAfãùedByDœeùAdjaûÁRuËs
();

942 ià(
	gch
 !ğ
NoChªge
 || 
p£udoStyËCacheIsInv®id
(
cu¼’tStyË
.
g‘
(), 
ÃwStyË
.get())) {

943 
£tR’d”StyË
(
ÃwStyË
);

944 } ià(
ÃedsStyËReÿlc
(è&& (
¡yËChªgeTy³
(è!ğ
SyÁh‘icStyËChªge
è&& (
docum’t
()->
u£sSiblšgRuËs
(è|| docum’t()->
u£sDesûndªtRuËs
())) {

949 ià(
»nd””
())

950 
»nd””
()->
£tStyËIÁ”Çl
(
ÃwStyË
.
g‘
());

952 
£tR’d”StyË
(
ÃwStyË
);

953 } ià(
¡yËChªgeTy³
(è=ğ
SyÁh‘icStyËChªge
)

954 
£tR’d”StyË
(
ÃwStyË
);

956 ià(
	gchªge
 !ğ
FÜû
) {

959 ià(
docum’t
()->
u£sRemUn™s
(è&& 
ch
 !ğ
NoChªge
 && 
cu¼’tStyË
 && 
ÃwStyË
 && cu¼’tStyË->
fÚtSize
(è!ğÃwStyË->fÚtSize(è&& docum’t()->
docum’tEËm’t
(è=ğ
this
)

960 
chªge
 = 
FÜû
;

961 ià((
docum’t
()->
u£sDesûndªtRuËs
(è|| 
	ghasPos™iÚ®RuËs
è&& 
¡yËChªgeTy³
(è>ğ
FuÎStyËChªge
)

962 
chªge
 = 
FÜû
;

964 
	gchªge
 = 
ch
;

971 
boŞ
 
	gfÜûCheckOfNextEËm’tSiblšg
 = 
çl£
;

972 
Node
 *
	gn
 = 
fœ¡Chd
();‚;‚ = 
n
->
ÃxtSiblšg
()) {

973 
boŞ
 
chdRuËsChªged
 = 
n
->
ÃedsStyËReÿlc
(è&&‚->
¡yËChªgeTy³
(è=ğ
FuÎStyËChªge
;

974 ià(
	gfÜûCheckOfNextEËm’tSiblšg
 && 
	gn
->
isEËm’tNode
())

975 
	gn
->
£tN“dsStyËReÿlc
();

976 ià(
	gchªge
 >ğ
Inh”™
 || 
n
->
isTextNode
(è||‚->
chdN“dsStyËReÿlc
(è||‚->
ÃedsStyËReÿlc
())

977 
n
->
»ÿlcStyË
(
chªge
);

978 ià(
	gn
->
isEËm’tNode
())

979 
	gfÜûCheckOfNextEËm’tSiblšg
 = 
chdRuËsChªged
 && 
hasDœeùAdjaûÁRuËs
;

982 
£tN“dsStyËReÿlc
(
NoStyËChªge
);

983 
£tChdN“dsStyËReÿlc
(
çl£
);

986 
boŞ
 
	gEËm’t
::
chdTy³AÎowed
(
NodeTy³
 
ty³
)

988 
ty³
) {

989 
ELEMENT_NODE
:

990 
TEXT_NODE
:

991 
COMMENT_NODE
:

992 
PROCESSING_INSTRUCTION_NODE
:

993 
CDATA_SECTION_NODE
:

994 
ENTITY_REFERENCE_NODE
:

995  
Œue
;

998  
çl£
;

1002 
checkFÜSiblšgStyËChªges
(
EËm’t
* 
e
, 
R’d”StyË
* 
¡yË
, 
boŞ
 
fšishedP¬sšgC®lback
,

1003 
Node
* 
befÜeChªge
, Node* 
aá”Chªge
, 
chdCouÁD–
)

1005 ià(!
	g¡yË
 || (
	ge
->
ÃedsStyËReÿlc
(è&& styË->
chd»nAfãùedByPos™iÚ®RuËs
()))

1011 ià(
	g¡yË
->
chd»nAfãùedByFœ¡ChdRuËs
(è&& 
	gaá”Chªge
) {

1013 
Node
* 
	gÃwFœ¡Chd
 = 0;

1014 
	gÃwFœ¡Chd
 = 
e
->
fœ¡Chd
();‚ewFœ¡Chd && !ÃwFœ¡Chd->
isEËm’tNode
();‚ewFœ¡Chd = 
ÃwFœ¡Chd
->
ÃxtSiblšg
()) {};

1017 
Node
* 
	gfœ¡EËm’tAá”In£¹iÚ
 = 0;

1018 
	gfœ¡EËm’tAá”In£¹iÚ
 = 
aá”Chªge
;

1019 
	gfœ¡EËm’tAá”In£¹iÚ
 && !fœ¡EËm’tAá”In£¹iÚ->
isEËm’tNode
();

1020 
	gfœ¡EËm’tAá”In£¹iÚ
 = 
fœ¡EËm’tAá”In£¹iÚ
->
ÃxtSiblšg
()) {};

1023 ià(
	gÃwFœ¡Chd
 !ğ
fœ¡EËm’tAá”In£¹iÚ
 && fœ¡EËm’tAá”In£¹iÚ && fœ¡EËm’tAá”In£¹iÚ->
©ched
() &&

1024 
fœ¡EËm’tAá”In£¹iÚ
->
»nd”StyË
(è&& fœ¡EËm’tAá”In£¹iÚ->»nd”StyË()->
fœ¡ChdS‹
())

1025 
fœ¡EËm’tAá”In£¹iÚ
->
£tN“dsStyËReÿlc
();

1028 ià(
	gchdCouÁD–
 < 0 && 
	gÃwFœ¡Chd
 =ğ
fœ¡EËm’tAá”In£¹iÚ
 && 
ÃwFœ¡Chd
 &&‚ewFœ¡Chd->
»nd”StyË
(è&& !ÃwFœ¡Chd->»nd”StyË()->
fœ¡ChdS‹
())

1029 
ÃwFœ¡Chd
->
£tN“dsStyËReÿlc
();

1034 ià(
	g¡yË
->
chd»nAfãùedByLa¡ChdRuËs
(è&& 
	gbefÜeChªge
) {

1036 
Node
* 
	gÃwLa¡Chd
 = 0;

1037 
	gÃwLa¡Chd
 = 
e
->
Ï¡Chd
();‚ewLa¡Chd && !ÃwLa¡Chd->
isEËm’tNode
();‚ewLa¡Chd = 
ÃwLa¡Chd
->
´eviousSiblšg
()) {};

1040 
Node
* 
	gÏ¡EËm’tBefÜeIn£¹iÚ
 = 0;

1041 
	gÏ¡EËm’tBefÜeIn£¹iÚ
 = 
befÜeChªge
;

1042 
	gÏ¡EËm’tBefÜeIn£¹iÚ
 && !Ï¡EËm’tBefÜeIn£¹iÚ->
isEËm’tNode
();

1043 
	gÏ¡EËm’tBefÜeIn£¹iÚ
 = 
Ï¡EËm’tBefÜeIn£¹iÚ
->
´eviousSiblšg
()) {};

1045 ià(
	gÃwLa¡Chd
 !ğ
Ï¡EËm’tBefÜeIn£¹iÚ
 &&†a¡EËm’tBefÜeIn£¹iÚ &&†a¡EËm’tBefÜeIn£¹iÚ->
©ched
() &&

1046 
Ï¡EËm’tBefÜeIn£¹iÚ
->
»nd”StyË
(è&&†a¡EËm’tBefÜeIn£¹iÚ->»nd”StyË()->
Ï¡ChdS‹
())

1047 
Ï¡EËm’tBefÜeIn£¹iÚ
->
£tN“dsStyËReÿlc
();

1051 ià((
	gchdCouÁD–
 < 0 || 
	gfšishedP¬sšgC®lback
è&& 
	gÃwLa¡Chd
 =ğ
Ï¡EËm’tBefÜeIn£¹iÚ
 && 
ÃwLa¡Chd
 &&‚ewLa¡Chd->
»nd”StyË
(è&& !ÃwLa¡Chd->»nd”StyË()->
Ï¡ChdS‹
())

1052 
ÃwLa¡Chd
->
£tN“dsStyËReÿlc
();

1057 ià(
	g¡yË
->
chd»nAfãùedByDœeùAdjaûÁRuËs
(è&& 
	gaá”Chªge
) {

1058 
Node
* 
	gfœ¡EËm’tAá”In£¹iÚ
 = 0;

1059 
	gfœ¡EËm’tAá”In£¹iÚ
 = 
aá”Chªge
;

1060 
	gfœ¡EËm’tAá”In£¹iÚ
 && !fœ¡EËm’tAá”In£¹iÚ->
isEËm’tNode
();

1061 
	gfœ¡EËm’tAá”In£¹iÚ
 = 
fœ¡EËm’tAá”In£¹iÚ
->
ÃxtSiblšg
()) {};

1062 ià(
	gfœ¡EËm’tAá”In£¹iÚ
 && fœ¡EËm’tAá”In£¹iÚ->
©ched
())

1063 
	gfœ¡EËm’tAá”In£¹iÚ
->
£tN“dsStyËReÿlc
();

1073 ià((
	g¡yË
->
chd»nAfãùedByFÜw¬dPos™iÚ®RuËs
(è&& 
	gaá”Chªge
) ||

1074 (
	g¡yË
->
chd»nAfãùedByBackw¬dPos™iÚ®RuËs
(è&& 
	gbefÜeChªge
))

1075 
	ge
->
£tN“dsStyËReÿlc
();

1078 ià(
	g¡yË
->
afãùedByEm±y
(è&& (!¡yË->
em±yS‹
(è|| 
	ge
->
hasChdNodes
()))

1079 
	ge
->
£tN“dsStyËReÿlc
();

1082 
	gEËm’t
::
chd»nChªged
(
boŞ
 
chªgedByP¬£r
, 
Node
* 
befÜeChªge
, Node* 
aá”Chªge
, 
chdCouÁD–
)

1084 
	gCÚš”Node
::
chd»nChªged
(
chªgedByP¬£r
, 
befÜeChªge
, 
aá”Chªge
, 
chdCouÁD–
);

1085 ià(!
	gchªgedByP¬£r
)

1086 
checkFÜSiblšgStyËChªges
(
this
, 
»nd”StyË
(), 
çl£
, 
befÜeChªge
, 
aá”Chªge
, 
chdCouÁD–
);

1089 
	gEËm’t
::
fšishP¬sšgChd»n
()

1091 
CÚš”Node
::
fšishP¬sšgChd»n
();

1092 
	gm_·rsšgChd»nFšished
 = 
Œue
;

1093 
checkFÜSiblšgStyËChªges
(
this
, 
»nd”StyË
(), 
Œue
, 
Ï¡Chd
(), 0, 0);

1096 
	gEËm’t
::
di¥©chA‰rRemov®Ev’t
(
A‰ribu‹
*)

1098 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

1101 ià(!
docum’t
()->
hasLi¡’”Ty³
(
Docum’t
::
DOMATTRMODIFIED_LISTENER
))

1103 
Exû±iÚCode
 
	gec
 = 0;

1104 
di¥©chEv’t
(
Ãw
 
MutiÚEv’t
(
DOMA‰rModif›dEv’t
, 
Œue
, 
çl£
, 
©Œ
,‡‰r->
v®ue
(),

1105 
©Œ
->
v®ue
(), 
docum’t
()->
©ŒName
×‰r->
id
()), 
MutiÚEv’t
::
REMOVAL
), 
ec
);

1109 
	gEËm’t
::
di¥©chA‰rAdd™iÚEv’t
(
A‰ribu‹
*)

1111 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

1114 ià(!
docum’t
()->
hasLi¡’”Ty³
(
Docum’t
::
DOMATTRMODIFIED_LISTENER
))

1116 
Exû±iÚCode
 
	gec
 = 0;

1117 
di¥©chEv’t
(
Ãw
 
MutiÚEv’t
(
DOMA‰rModif›dEv’t
, 
Œue
, 
çl£
, 
©Œ
,‡‰r->
v®ue
(),

1118 
©Œ
->
v®ue
(), 
docum’t
()->
©ŒName
×‰r->
id
()), 
MutiÚEv’t
::
ADDITION
), 
ec
);

1122 
SŒšg
 
	gEËm’t
::
İ’TagS¹ToSŒšg
() const

1124 
SŒšg
 
»suÉ
 = "<" + 
nodeName
();

1126 
NamedNodeM­
* 
	g©ŒM­
 = 
©Œibu‹s
(
Œue
);

1128 ià(
	g©ŒM­
) {

1129 
	gnumA‰rs
 = 
©ŒM­
->
Ëngth
();

1130 
	gi
 = 0; i < 
	gnumA‰rs
; i++) {

1131 
	g»suÉ
 += " ";

1133 
A‰ribu‹
 *
	g©Œibu‹
 = 
©ŒM­
->
©Œibu‹I‹m
(
i
);

1134 
	g»suÉ
 +ğ
©Œibu‹
->
Çme
().
toSŒšg
();

1135 ià(!
	g©Œibu‹
->
v®ue
().
isNuÎ
()) {

1136 
	g»suÉ
 += "=\"";

1138 
	g»suÉ
 +ğ
©Œibu‹
->
v®ue
();

1139 
	g»suÉ
 += "\"";

1144  
	g»suÉ
;

1147 #iâdeà
NDEBUG


1148 
	gEËm’t
::
fÜm©FÜDebugg”
(* 
bufãr
, 
Ëngth
) const

1150 
SŒšg
 
	g»suÉ
;

1151 
SŒšg
 
	gs
;

1153 
	gs
 = 
nodeName
();

1154 ià(
	gs
.
Ëngth
() > 0) {

1155 
	g»suÉ
 +ğ
s
;

1158 
	gs
 = 
g‘A‰ribu‹
(
idA‰ribu‹Name
());

1159 ià(
	gs
.
Ëngth
() > 0) {

1160 ià(
	g»suÉ
.
Ëngth
() > 0)

1161 
	g»suÉ
 += "; ";

1162 
	g»suÉ
 += "id=";

1163 
	g»suÉ
 +ğ
s
;

1166 
	gs
 = 
g‘A‰ribu‹
(
şassA‰r
);

1167 ià(
	gs
.
Ëngth
() > 0) {

1168 ià(
	g»suÉ
.
Ëngth
() > 0)

1169 
	g»suÉ
 += "; ";

1170 
	g»suÉ
 += "class=";

1171 
	g»suÉ
 +ğ
s
;

1174 
¡ºıy
(
bufãr
, 
»suÉ
.
utf8
().
d©a
(), 
Ëngth
 - 1);

1178 
	gPassRefPŒ
<
	gA‰r
> 
	gEËm’t
::
£tA‰ribu‹Node
(
A‰r
* 
©Œ
, 
Exû±iÚCode
& 
ec
)

1180 ià(!
	g©Œ
) {

1181 
	gec
 = 
TYPE_MISMATCH_ERR
;

1184  
	g¡©ic_poš‹r_ÿ¡
<
	gA‰r
>(
©Œibu‹s
(
çl£
)->
£tNamedI‹m
(
©Œ
, 
ec
));

1187 
	gPassRefPŒ
<
	gA‰r
> 
	gEËm’t
::
£tA‰ribu‹NodeNS
(
A‰r
* 
©Œ
, 
Exû±iÚCode
& 
ec
)

1189 ià(!
	g©Œ
) {

1190 
	gec
 = 
TYPE_MISMATCH_ERR
;

1193  
	g¡©ic_poš‹r_ÿ¡
<
	gA‰r
>(
©Œibu‹s
(
çl£
)->
£tNamedI‹m
(
©Œ
, 
ec
));

1196 
	gPassRefPŒ
<
	gA‰r
> 
	gEËm’t
::
»moveA‰ribu‹Node
(
A‰r
* 
©Œ
, 
Exû±iÚCode
& 
ec
)

1198 ià(!
	g©Œ
) {

1199 
	gec
 = 
TYPE_MISMATCH_ERR
;

1202 ià(
	g©Œ
->
owÃrEËm’t
(è!ğ
this
) {

1203 
ec
 = 
NOT_FOUND_ERR
;

1206 ià(
docum’t
(è!ğ
©Œ
->document()) {

1207 
ec
 = 
WRONG_DOCUMENT_ERR
;

1211 
NamedNodeM­
* 
	g©Œs
 = 
©Œibu‹s
(
Œue
);

1212 ià(!
	g©Œs
)

1215  
	g¡©ic_poš‹r_ÿ¡
<
	gA‰r
>(
	g©Œs
->
»moveNamedI‹m
(
©Œ
->
qu®if›dName
(), 
ec
));

1218 
	gEËm’t
::
£tA‰ribu‹NS
(cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
, cÚ¡ AtomicSŒšg& 
qu®if›dName
, cÚ¡ AtomicSŒšg& 
v®ue
, 
Exû±iÚCode
& 
ec
, 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

1220 
SŒšg
 
	g´efix
, 
	gloÿlName
;

1221 ià(!
	gDocum’t
::
·r£Qu®if›dName
(
qu®if›dName
, 
´efix
, 
loÿlName
, 
ec
))

1224 
Qu®if›dName
 
qName
(
´efix
, 
loÿlName
, 
Çme¥aûURI
);

1226 ià(
	gsütšgP”missiÚ
 =ğ
F¿gm’tSütšgNÙAÎowed
 && (
isEv’tHªdËrA‰ribu‹
(
qName
è|| 
isA‰ribu‹ToRemove
(qName, 
v®ue
)))

1229 
£tA‰ribu‹
(
qName
, 
v®ue
, 
ec
);

1232 
	gEËm’t
::
»moveA‰ribu‹
(cÚ¡ 
SŒšg
& 
Çme
, 
Exû±iÚCode
& 
ec
)

1234 
SŒšg
 
	gloÿlName
 = 
shouldIgnÜeA‰ribu‹Ca£
(
this
è? 
Çme
.
low”
() :‚ame;

1236 ià(
	gÇmedA‰rM­
) {

1237 
	gÇmedA‰rM­
->
»moveNamedI‹m
(
loÿlName
, 
ec
);

1238 ià(
	gec
 =ğ
NOT_FOUND_ERR
)

1239 
ec
 = 0;

1242 #ià
ENABLE
(
INSPECTOR
)

1243 ià(
Page
* 
	g·ge
 = 
docum’t
()->
·ge
()) {

1244 ià(
In¥eùÜCÚŒŞËr
* 
š¥eùÜCÚŒŞËr
 = 
·ge
->inspectorController())

1245 
š¥eùÜCÚŒŞËr
->
didModifyDOMA‰r
(
this
);

1251 
	gEËm’t
::
»moveA‰ribu‹NS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
, 
Exû±iÚCode
& 
ec
)

1253 
»moveA‰ribu‹
(
Qu®if›dName
(
nuÎAtom
, 
loÿlName
, 
Çme¥aûURI
), 
ec
);

1256 
	gPassRefPŒ
<
	gA‰r
> 
	gEËm’t
::
g‘A‰ribu‹Node
(cÚ¡ 
SŒšg
& 
Çme
)

1258 
NamedNodeM­
* 
©Œs
 = 
©Œibu‹s
(
Œue
);

1259 ià(!
	g©Œs
)

1261 
SŒšg
 
	gloÿlName
 = 
shouldIgnÜeA‰ribu‹Ca£
(
this
è? 
Çme
.
low”
() :‚ame;

1262  
	g¡©ic_poš‹r_ÿ¡
<
	gA‰r
>(
	g©Œs
->
g‘NamedI‹m
(
loÿlName
));

1265 
	gPassRefPŒ
<
	gA‰r
> 
	gEËm’t
::
g‘A‰ribu‹NodeNS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
)

1267 
NamedNodeM­
* 
	g©Œs
 = 
©Œibu‹s
(
Œue
);

1268 ià(!
	g©Œs
)

1270  
	g¡©ic_poš‹r_ÿ¡
<
	gA‰r
>(
	g©Œs
->
g‘NamedI‹m
(
Qu®if›dName
(
nuÎAtom
, 
loÿlName
, 
Çme¥aûURI
)));

1273 
boŞ
 
	gEËm’t
::
hasA‰ribu‹
(cÚ¡ 
SŒšg
& 
Çme
) const

1275 
NamedNodeM­
* 
©Œs
 = 
©Œibu‹s
(
Œue
);

1276 ià(!
	g©Œs
)

1277  
	gçl£
;

1281 
SŒšg
 
	gloÿlName
 = 
shouldIgnÜeA‰ribu‹Ca£
(
this
è? 
Çme
.
low”
() :‚ame;

1282  
	g©Œs
->
g‘A‰ribu‹I‹m
(
loÿlName
, 
çl£
);

1285 
boŞ
 
	gEËm’t
::
hasA‰ribu‹NS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
) const

1287 
NamedNodeM­
* 
	g©Œs
 = 
©Œibu‹s
(
Œue
);

1288 ià(!
	g©Œs
)

1289  
	gçl£
;

1290  
	g©Œs
->
g‘A‰ribu‹I‹m
(
Qu®if›dName
(
nuÎAtom
, 
loÿlName
, 
Çme¥aûURI
));

1293 
CSSStyËDeş¬©iÚ
 *
	gEËm’t
::
¡yË
()

1298 
	gEËm’t
::
focus
(
boŞ
 
»¡ÜeP»viousS–eùiÚ
)

1300 
Docum’t
* 
doc
 = 
docum’t
();

1301 ià(
	gdoc
->
focu£dNode
(è=ğ
this
)

1304 ià(!
suµÜtsFocus
())

1310 ià(
	gdoc
->
haveStyËsh“tsLßded
()) {

1311 
	gdoc
->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1312 ià(!
isFocu§bË
())

1316 ià(
Page
* 
	g·ge
 = 
doc
->
·ge
())

1317 
·ge
->
focusCÚŒŞËr
()->
£tFocu£dNode
(
this
, 
doc
->
äame
());

1320 
	gdoc
->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1322 ià(!
isFocu§bË
()) {

1323 
’su»R¬eD©a
()->
£tN“dsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
(
Œue
);

1327 
ÿnûlFocusAµ—¿nûUpd©e
();

1328 
upd©eFocusAµ—¿nû
(
»¡ÜeP»viousS–eùiÚ
);

1331 
	gEËm’t
::
upd©eFocusAµ—¿nû
(
boŞ
 )

1333 ià(
this
 =ğ
roÙEd™abËEËm’t
()) {

1334 
F¿me
* 
äame
 = 
docum’t
()->frame();

1335 ià(!
	gäame
)

1339 
VisibËS–eùiÚ
 
	gÃwS–eùiÚ
 = 
hasTagName
(
htmlTag
è|| hasTagName(
bodyTag
è? VisibËS–eùiÚ(
Pos™iÚ
(
this
, 0), 
DOWNSTREAM
è: VisibËS–eùiÚ::
£ËùiÚFromCÚ‹ÁsOfNode
(this);

1341 ià(
	gäame
->
shouldChªgeS–eùiÚ
(
ÃwS–eùiÚ
)) {

1342 
	gäame
->
£ËùiÚ
()->
£tS–eùiÚ
(
ÃwS–eùiÚ
);

1343 
	gäame
->
»v—lS–eùiÚ
();

1345 } ià(
»nd””
(è&& !»nd””()->
isWidg‘
())

1346 
»nd””
()->
’şosšgLay”
()->
süŞlReùToVisibË
(
g‘Reù
());

1349 
	gEËm’t
::
blur
()

1351 
ÿnûlFocusAµ—¿nûUpd©e
();

1352 
Docum’t
* 
	gdoc
 = 
docum’t
();

1353 ià(
	gdoc
->
focu£dNode
(è=ğ
this
) {

1354 ià(
doc
->
äame
())

1355 
doc
->
äame
()->
·ge
()->
focusCÚŒŞËr
()->
£tFocu£dNode
(0, doc->frame());

1357 
	gdoc
->
£tFocu£dNode
(0);

1361 
SŒšg
 
	gEËm’t
::
šÃrText
() const

1364 
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1366 ià(!
»nd””
())

1367  
‹xtCÚ‹Á
(
Œue
);

1369  
¶ašText
(
¿ngeOfCÚ‹Ás
(
cÚ¡_ÿ¡
<
EËm’t
*>(
this
)).
g‘
());

1372 
SŒšg
 
	gEËm’t
::
ou‹rText
() const

1379  
šÃrText
();

1382 
SŒšg
 
	gEËm’t
::
t™Ë
() const

1384  
SŒšg
();

1387 
IÁSize
 
	gEËm’t
::
mšimumSizeFÜResizšg
() const

1389  
hasR¬eD©a
(è? 
¿»D©a
()->
m_mšimumSizeFÜResizšg
 : 
deçuÉMšimumSizeFÜResizšg
();

1392 
	gEËm’t
::
£tMšimumSizeFÜResizšg
(cÚ¡ 
IÁSize
& 
size
)

1394 ià(
size
 =ğ
deçuÉMšimumSizeFÜResizšg
(è&& !
hasR¬eD©a
())

1396 
’su»R¬eD©a
()->
	gm_mšimumSizeFÜResizšg
 = 
size
;

1399 
R’d”StyË
* 
	gEËm’t
::
compu‹dStyË
()

1401 ià(
R’d”StyË
* 
u£dStyË
 = 
»nd”StyË
())

1402  
u£dStyË
;

1404 ià(!
©ched
())

1409 
EËm’tR¬eD©a
* 
	gd©a
 = 
’su»R¬eD©a
();

1410 ià(!
	gd©a
->
	gm_compu‹dStyË
)

1411 
	gd©a
->
	gm_compu‹dStyË
 = 
docum’t
()->
¡yËFÜEËm’tIgnÜšgP’dšgStyËsh“ts
(
this
);

1412  
	gd©a
->
	gm_compu‹dStyË
.
g‘
();

1415 
	gEËm’t
::
ÿnûlFocusAµ—¿nûUpd©e
()

1417 ià(
hasR¬eD©a
())

1418 
¿»D©a
()->
£tN“dsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
(
çl£
);

1419 ià(
docum’t
()->
focu£dNode
(è=ğ
this
)

1420 
docum’t
()->
ÿnûlFocusAµ—¿nûUpd©e
();

1423 
	gEËm’t
::
nÜm®izeA‰ribu‹s
()

1426 
NamedNodeM­
* 
©Œs
 = 
©Œibu‹s
(
Œue
);

1427 ià(!
	g©Œs
)

1429 
	gnumA‰rs
 = 
©Œs
->
Ëngth
();

1430 
	gi
 = 0; i < 
	gnumA‰rs
; i++) {

1431 ià(
A‰r
* 
	g©Œ
 = 
©Œs
->
©Œibu‹I‹m
(
i
)->
©Œ
())

1432 
©Œ
->
nÜm®ize
();

1437 
EËm’t
* 
	gEËm’t
::
fœ¡EËm’tChd
() const

1439 
Node
* 
n
 = 
fœ¡Chd
();

1440 
	gn
 && !n->
isEËm’tNode
())

1441 
	gn
 = 
n
->
ÃxtSiblšg
();

1442  
	g¡©ic_ÿ¡
<
	gEËm’t
*>(
	gn
);

1445 
EËm’t
* 
	gEËm’t
::
Ï¡EËm’tChd
() const

1447 
Node
* 
n
 = 
Ï¡Chd
();

1448 
	gn
 && !n->
isEËm’tNode
())

1449 
	gn
 = 
n
->
´eviousSiblšg
();

1450  
	g¡©ic_ÿ¡
<
	gEËm’t
*>(
	gn
);

1453 
EËm’t
* 
	gEËm’t
::
´eviousEËm’tSiblšg
() const

1455 
Node
* 
n
 = 
´eviousSiblšg
();

1456 
	gn
 && !n->
isEËm’tNode
())

1457 
	gn
 = 
n
->
´eviousSiblšg
();

1458  
	g¡©ic_ÿ¡
<
	gEËm’t
*>(
	gn
);

1461 
EËm’t
* 
	gEËm’t
::
ÃxtEËm’tSiblšg
() const

1463 
Node
* 
n
 = 
ÃxtSiblšg
();

1464 
	gn
 && !n->
isEËm’tNode
())

1465 
	gn
 = 
n
->
ÃxtSiblšg
();

1466  
	g¡©ic_ÿ¡
<
	gEËm’t
*>(
	gn
);

1469 
	gEËm’t
::
chdEËm’tCouÁ
() const

1471 
couÁ
 = 0;

1472 
Node
* 
	gn
 = 
fœ¡Chd
();

1473 
	gn
) {

1474 
	gcouÁ
 +ğ
n
->
isEËm’tNode
();

1475 
	gn
 = 
n
->
ÃxtSiblšg
();

1477  
	gcouÁ
;

1480 
boŞ
 
	gEËm’t
::
webk™M©chesS–eùÜ
(cÚ¡ 
SŒšg
& 
£ËùÜ
, 
Exû±iÚCode
& 
ec
)

1482 ià(
	g£ËùÜ
.
isEm±y
()) {

1483 
	gec
 = 
SYNTAX_ERR
;

1484  
	gçl£
;

1487 
boŞ
 
	g¡riùP¬sšg
 = !
docum’t
()->
šCom·tMode
();

1488 
CSSP¬£r
 
p
(
¡riùP¬sšg
);

1490 
CSSS–eùÜLi¡
 
	g£ËùÜLi¡
;

1491 
	gp
.
·r£S–eùÜ
(
£ËùÜ
, 
docum’t
(), 
£ËùÜLi¡
);

1493 ià(!
	g£ËùÜLi¡
.
fœ¡
()) {

1494 
	gec
 = 
SYNTAX_ERR
;

1495  
	gçl£
;

1499 ià(
	g£ËùÜLi¡
.
£ËùÜsN“dName¥aûResŞutiÚ
()) {

1500 
	gec
 = 
NAMESPACE_ERR
;

1501  
	gçl£
;

1504 
	gCSSStyËS–eùÜ
::
S–eùÜCheck”
 
£ËùÜCheck”
(
docum’t
(), 
¡riùP¬sšg
);

1505 
CSSS–eùÜ
* 
	g£ËùÜ
 = 
£ËùÜLi¡
.
fœ¡
(); s–eùÜ; s–eùÜ = 
CSSS–eùÜLi¡
::
Ãxt
(
£ËùÜ
)) {

1506 ià(
£ËùÜCheck”
.
checkS–eùÜ
(
£ËùÜ
, 
this
))

1507  
Œue
;

1510  
	gçl£
;

1513 
KURL
 
	gEËm’t
::
g‘URLA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
) const

1515 #ià!
ASSERT_DISABLED


1516 ià(
ÇmedA‰rM­
) {

1517 ià(
A‰ribu‹
* 
©Œibu‹
 = 
ÇmedA‰rM­
->
g‘A‰ribu‹I‹m
(
Çme
))

1518 
ASSERT
(
isURLA‰ribu‹
(
©Œibu‹
));

1521  
docum’t
()->
com¶‘eURL
(
d•»ÿ‹dP¬£URL
(
g‘A‰ribu‹
(
Çme
)));

1524 cÚ¡ 
	gQu®if›dName
& 
	gEËm’t
::
¿»IDA‰ribu‹Name
() const

1526  
¿»D©a
()->
m_idA‰ribu‹Name
;

	@Element.h

25 #iâdeà
EËm’t_h


26 
	#EËm’t_h


	)

28 
	~"CÚš”Node.h
"

29 
	~"Docum’t.h
"

30 
	~"HTMLNames.h
"

31 
	~"M­³dA‰ribu‹EÁry.h
"

32 
	~"Qu®if›dName.h
"

33 
	~"SüŞlTy³s.h
"

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gA‰r
;

38 
şass
 
	gA‰ribu‹
;

39 
şass
 
	gCSSStyËDeş¬©iÚ
;

40 
şass
 
	gCl›ÁReù
;

41 
şass
 
	gCl›ÁReùLi¡
;

42 
şass
 
	gEËm’tR¬eD©a
;

43 
şass
 
	gIÁSize
;

45 şas 
	cEËm’t
 : 
public
 
CÚš”Node
 {

46 
public
:

47 
PassRefPŒ
<
EËm’t
> 
ü—‹
(cÚ¡ 
Qu®if›dName
&, 
Docum’t
*);

48 
	gvœtu®
 ~
EËm’t
();

50 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
abÜt
);

51 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
chªge
);

52 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
şick
);

53 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
cÚ‹xtm’u
);

54 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
dblşick
);

55 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g’‹r
);

56 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿gov”
);

57 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿gËave
);

58 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
drİ
);

59 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g¡¬t
);

60 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g
);

61 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g’d
);

62 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
šput
);

63 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
šv®id
);

64 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
keydown
);

65 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
key´ess
);

66 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
keyup
);

67 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£down
);

68 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£move
);

69 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£out
);

70 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£ov”
);

71 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£up
);

72 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£wh“l
);

73 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
süŞl
);

74 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£Ëù
);

75 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
subm™
);

79 
DEFINE_VIRTUAL_ATTRIBUTE_EVENT_LISTENER
(
blur
);

80 
DEFINE_VIRTUAL_ATTRIBUTE_EVENT_LISTENER
(
”rÜ
);

81 
DEFINE_VIRTUAL_ATTRIBUTE_EVENT_LISTENER
(
focus
);

82 
DEFINE_VIRTUAL_ATTRIBUTE_EVENT_LISTENER
(
lßd
);

85 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
befÜecut
);

86 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
cut
);

87 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
befÜecİy
);

88 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
cİy
);

89 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
befÜ•a¡e
);

90 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
·¡e
);

91 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
»£t
);

92 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£¬ch
);

93 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£Ëù¡¬t
);

94 #ià
ENABLE
(
TOUCH_EVENTS
)

95 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touch¡¬t
);

96 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touchmove
);

97 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touch’d
);

98 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touchÿnûl
);

101 
vœtu®
 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
ü—‹CÚ‹xtu®F¿gm’t
(cÚ¡ 
SŒšg
&, 
F¿gm’tSütšgP”missiÚ
 = 
F¿gm’tSütšgAÎowed
);

103 cÚ¡ 
	gAtomicSŒšg
& 
g‘IDA‰ribu‹
() const;

104 
boŞ
 
hasA‰ribu‹
(cÚ¡ 
Qu®if›dName
&) const;

105 cÚ¡ 
	gAtomicSŒšg
& 
g‘A‰ribu‹
(cÚ¡ 
Qu®if›dName
&) const;

106 
£tA‰ribu‹
(cÚ¡ 
Qu®if›dName
&, cÚ¡ 
AtomicSŒšg
& 
v®ue
, 
Exû±iÚCode
&);

107 
»moveA‰ribu‹
(cÚ¡ 
Qu®if›dName
&, 
Exû±iÚCode
&);

109 
boŞ
 
hasA‰ribu‹s
() const;

111 
boŞ
 
hasA‰ribu‹
(cÚ¡ 
SŒšg
& 
Çme
) const;

112 
boŞ
 
hasA‰ribu‹NS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
) const;

114 cÚ¡ 
	gAtomicSŒšg
& 
g‘A‰ribu‹
(cÚ¡ 
SŒšg
& 
Çme
) const;

115 cÚ¡ 
	gAtomicSŒšg
& 
g‘A‰ribu‹NS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
) const;

117 
£tA‰ribu‹
(cÚ¡ 
AtomicSŒšg
& 
Çme
, cÚ¡ AtomicSŒšg& 
v®ue
, 
Exû±iÚCode
&);

118 
£tA‰ribu‹NS
(cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
, cÚ¡ AtomicSŒšg& 
qu®if›dName
, cÚ¡ AtomicSŒšg& 
v®ue
, 
Exû±iÚCode
&, 
F¿gm’tSütšgP”missiÚ
 = 
F¿gm’tSütšgAÎowed
);

120 cÚ¡ 
	gQu®if›dName
& 
idA‰ribu‹Name
() const;

122 
süŞlIÁoV›w
(
boŞ
 
®ignToTİ
 = 
Œue
);

123 
süŞlIÁoV›wIfN“ded
(
boŞ
 
ûÁ”IfN“ded
 = 
Œue
);

125 
süŞlByLšes
(
lšes
);

126 
süŞlByPages
(
·ges
);

128 
off£tLeá
();

129 
off£tTİ
();

130 
off£tWidth
();

131 
off£tHeight
();

132 
EËm’t
* 
off£tP¬’t
();

133 
ş›ÁLeá
();

134 
ş›ÁTİ
();

135 
ş›ÁWidth
();

136 
ş›ÁHeight
();

137 
vœtu®
 
süŞlLeá
() const;

138 
vœtu®
 
süŞlTİ
() const;

139 
vœtu®
 
£tSüŞlLeá
();

140 
vœtu®
 
£tSüŞlTİ
();

141 
vœtu®
 
süŞlWidth
() const;

142 
vœtu®
 
süŞlHeight
() const;

144 
	gPassRefPŒ
<
	gCl›ÁReùLi¡
> 
g‘Cl›ÁReùs
() const;

145 
	gPassRefPŒ
<
	gCl›ÁReù
> 
g‘BoundšgCl›ÁReù
() const;

147 
»moveA‰ribu‹
(cÚ¡ 
SŒšg
& 
Çme
, 
Exû±iÚCode
&);

148 
»moveA‰ribu‹NS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
, 
Exû±iÚCode
&);

150 
	gPassRefPŒ
<
	gA‰r
> 
g‘A‰ribu‹Node
(cÚ¡ 
SŒšg
& 
Çme
);

151 
	gPassRefPŒ
<
	gA‰r
> 
g‘A‰ribu‹NodeNS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
);

152 
	gPassRefPŒ
<
	gA‰r
> 
£tA‰ribu‹Node
(
A‰r
*, 
Exû±iÚCode
&);

153 
	gPassRefPŒ
<
	gA‰r
> 
£tA‰ribu‹NodeNS
(
A‰r
*, 
Exû±iÚCode
&);

154 
	gPassRefPŒ
<
	gA‰r
> 
»moveA‰ribu‹Node
(
A‰r
*, 
Exû±iÚCode
&);

156 
vœtu®
 
CSSStyËDeş¬©iÚ
* 
¡yË
();

158 cÚ¡ 
	gQu®if›dName
& 
gQName
(ècÚ¡ {  
	gm_gName
; }

159 
SŒšg
 
gName
(ècÚ¡ {  
nodeName
(); }

160 
boŞ
 
hasTagName
(cÚ¡ 
Qu®if›dName
& 
gName
ècÚ¡ {  
	gm_gName
.
m©ches
(tagName); }

163 
boŞ
 
hasLoÿlName
(cÚ¡ 
AtomicSŒšg
& 
Ùh”
ècÚ¡ {  
	gm_gName
.
loÿlName
() == other; }

164 
boŞ
 
hasLoÿlName
(cÚ¡ 
Qu®if›dName
& 
Ùh”
ècÚ¡ {  
	gm_gName
.
loÿlName
() == other.localName(); }

166 cÚ¡ 
	gAtomicSŒšg
& 
loÿlName
(ècÚ¡ {  
	gm_gName
.localName(); }

167 cÚ¡ 
	gAtomicSŒšg
& 
´efix
(ècÚ¡ {  
	gm_gName
.prefix(); }

168 cÚ¡ 
	gAtomicSŒšg
& 
Çme¥aûURI
(ècÚ¡ {  
	gm_gName
.namespaceURI(); }

170 
vœtu®
 
KURL
 
ba£URI
() const;

172 
vœtu®
 
SŒšg
 
nodeName
() const;

174 
	gPassRefPŒ
<
	gEËm’t
> 
şÚeEËm’tW™hChd»n
();

175 
	gPassRefPŒ
<
	gEËm’t
> 
şÚeEËm’tW™houtChd»n
();

177 
nÜm®izeA‰ribu‹s
();

178 
SŒšg
 
nodeNameP»£rvšgCa£
() const;

181 
£tA‰ribu‹
(cÚ¡ 
Qu®if›dName
&, cÚ¡ 
AtomicSŒšg
& 
v®ue
);

182 
£tBoŞ—nA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, 
boŞ
);

185 
£tCSŒšgA‰ribu‹
(cÚ¡ 
Qu®if›dName
&, cÚ¡ * 
cSŒšgV®ue
);

187 
vœtu®
 
NamedNodeM­
* 
©Œibu‹s
() const;

188 
NamedNodeM­
* 
©Œibu‹s
(
boŞ
 
»adÚly
) const;

191 
vœtu®
 
©Œibu‹Chªged
(
A‰ribu‹
*, 
boŞ
 
´e£rveDeşs
 = 
çl£
);

194 
£tA‰ribu‹M­
(
PassRefPŒ
<
NamedNodeM­
>, 
F¿gm’tSütšgP”missiÚ
 = 
F¿gm’tSütšgAÎowed
);

195 
NamedNodeM­
* 
©Œibu‹M­
(ècÚ¡ {  
	gÇmedA‰rM­
.
g‘
(); }

197 
vœtu®
 
cİyNÚA‰ribu‹Prİ”t›s
(cÚ¡ 
EËm’t
* ) { }

199 
vœtu®
 
©ch
();

200 
vœtu®
 
d‘ach
();

201 
vœtu®
 
R’d”Objeù
* 
ü—‹R’d””
(
R’d”A»Ç
*, 
R’d”StyË
*);

202 
vœtu®
 
»ÿlcStyË
(
StyËChªge
 = 
NoChªge
);

204 
vœtu®
 
R’d”StyË
* 
compu‹dStyË
();

206 
di¥©chA‰rRemov®Ev’t
(
A‰ribu‹
*);

207 
di¥©chA‰rAdd™iÚEv’t
(
A‰ribu‹
*);

209 
vœtu®
 
acûssKeyAùiÚ
(
boŞ
 ) { }

211 
vœtu®
 
boŞ
 
isURLA‰ribu‹
(
A‰ribu‹
*) const;

212 
KURL
 
g‘URLA‰ribu‹
(cÚ¡ 
Qu®if›dName
&) const;

213 
vœtu®
 cÚ¡ 
	gQu®if›dName
& 
imageSourûA‰ribu‹Name
() const;

214 
vœtu®
 
SŒšg
 
rg‘
() const {  String(); }

216 
vœtu®
 
focus
(
boŞ
 
»¡ÜeP»viousS–eùiÚ
 = 
Œue
);

217 
vœtu®
 
upd©eFocusAµ—¿nû
(
boŞ
 
»¡ÜeP»viousS–eùiÚ
);

218 
blur
();

220 
SŒšg
 
šÃrText
() const;

221 
SŒšg
 
ou‹rText
() const;

223 
vœtu®
 
SŒšg
 
t™Ë
() const;

225 
SŒšg
 
İ’TagS¹ToSŒšg
() const;

227 
upd©eId
(cÚ¡ 
AtomicSŒšg
& 
ŞdId
, cÚ¡ AtomicSŒšg& 
ÃwId
);

229 
IÁSize
 
mšimumSizeFÜResizšg
() const;

230 
£tMšimumSizeFÜResizšg
(cÚ¡ 
IÁSize
&);

233 
vœtu®
 
docum’tWlBecomeIÇùive
() { }

234 
vœtu®
 
docum’tDidBecomeAùive
() { }

237 
vœtu®
 
medŸVŞumeDidChªge
() { }

239 
boŞ
 
isFšishedP¬sšgChd»n
(ècÚ¡ {  
	gm_·rsšgChd»nFšished
; }

240 
vœtu®
 
fšishP¬sšgChd»n
();

241 
vœtu®
 
begšP¬sšgChd»n
(è{ 
	gm_·rsšgChd»nFšished
 = 
çl£
; }

244 
EËm’t
* 
fœ¡EËm’tChd
() const;

245 
EËm’t
* 
Ï¡EËm’tChd
() const;

246 
EËm’t
* 
´eviousEËm’tSiblšg
() const;

247 
EËm’t
* 
ÃxtEËm’tSiblšg
() const;

248 
chdEËm’tCouÁ
() const;

250 
boŞ
 
webk™M©chesS–eùÜ
(cÚ¡ 
SŒšg
& 
£ËùÜs
, 
Exû±iÚCode
&);

252 
vœtu®
 
boŞ
 
isFÜmCÚŒŞEËm’t
(ècÚ¡ {  
	gçl£
; }

253 
vœtu®
 
boŞ
 
isEÇbËdFÜmCÚŒŞ
(ècÚ¡ {  
	gŒue
; }

254 
vœtu®
 
boŞ
 
isR—dOÆyFÜmCÚŒŞ
(ècÚ¡ {  
	gçl£
; }

255 
vœtu®
 
boŞ
 
isTextFÜmCÚŒŞ
(ècÚ¡ {  
	gçl£
; }

256 
vœtu®
 
boŞ
 
isO±iÚ®FÜmCÚŒŞ
(ècÚ¡ {  
	gçl£
; }

257 
vœtu®
 
boŞ
 
isRequœedFÜmCÚŒŞ
(ècÚ¡ {  
	gçl£
; }

258 
vœtu®
 
boŞ
 
isDeçuÉBu‰ÚFÜFÜm
(ècÚ¡ {  
	gçl£
; }

259 
vœtu®
 
boŞ
 
wlV®id©e
(ècÚ¡ {  
	gçl£
; }

260 
vœtu®
 
boŞ
 
isV®idFÜmCÚŒŞEËm’t
(è{  
	gçl£
; }

262 
vœtu®
 
boŞ
 
fÜmCÚŒŞV®ueM©chesR’d””
(ècÚ¡ {  
	gçl£
; }

263 
vœtu®
 
£tFÜmCÚŒŞV®ueM©chesR’d””
(
boŞ
) { }

265 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
fÜmCÚŒŞName
(ècÚ¡ {  
	gnuÎAtom
; }

266 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
fÜmCÚŒŞTy³
(ècÚ¡ {  
	gnuÎAtom
; }

268 
vœtu®
 
boŞ
 
shouldSaveAndRe¡ÜeFÜmCÚŒŞS‹
(ècÚ¡ {  
	gŒue
; }

269 
vœtu®
 
boŞ
 
§veFÜmCÚŒŞS‹
(
SŒšg
&ècÚ¡ {  
	gçl£
; }

270 
vœtu®
 
»¡ÜeFÜmCÚŒŞS‹
(cÚ¡ 
SŒšg
&) { }

272 
vœtu®
 
di¥©chFÜmCÚŒŞChªgeEv’t
() { }

274 
	g´Ùeùed
:

275 
EËm’t
(cÚ¡ 
Qu®if›dName
&, 
Docum’t
*, 
CÚ¡ruùiÚTy³
);

277 
vœtu®
 
š£¹edIÁoDocum’t
();

278 
vœtu®
 
»movedFromDocum’t
();

279 
vœtu®
 
chd»nChªged
(
boŞ
 
chªgedByP¬£r
 = 
çl£
, 
Node
* 
befÜeChªge
 = 0, Node* 
aá”Chªge
 = 0, 
chdCouÁD–
 = 0);

283 
»ÿlcStyËIfN“dedAá”A‰ribu‹Chªged
(
A‰ribu‹
*);

284 
upd©eAá”A‰ribu‹Chªged
(
A‰ribu‹
*);

286 
	g´iv©e
:

287 
süŞlByUn™s
(
un™s
, 
SüŞlG¿nuÏr™y
);

289 
vœtu®
 
£tP»fix
(cÚ¡ 
AtomicSŒšg
&, 
Exû±iÚCode
&);

290 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

291 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
);

293 
vœtu®
 
	gPassRefPŒ
<
	gA‰ribu‹
> 
ü—‹A‰ribu‹
(cÚ¡ 
Qu®if›dName
&, cÚ¡ 
AtomicSŒšg
& 
v®ue
);

294 cÚ¡ 
	gQu®if›dName
& 
¿»IDA‰ribu‹Name
() const;

296 #iâdeà
NDEBUG


297 
vœtu®
 
fÜm©FÜDebugg”
(* 
bufãr
, 
Ëngth
) const;

300 
boŞ
 
p£udoStyËCacheIsInv®id
(cÚ¡ 
R’d”StyË
* 
cu¼’tStyË
, R’d”StyË* 
ÃwStyË
);

302 
vœtu®
 
ü—‹A‰ribu‹M­
() const;

304 
vœtu®
 
upd©eStyËA‰ribu‹
() const { }

306 #ià
ENABLE
(
SVG
)

307 
vœtu®
 
upd©eAnim©edSVGA‰ribu‹
(cÚ¡ 
Qu®if›dName
&) const { }

310 
ÿnûlFocusAµ—¿nûUpd©e
();

312 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
vœtu®P»fix
(ècÚ¡ {  
´efix
(); }

313 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
vœtu®LoÿlName
(ècÚ¡ {  
loÿlName
(); }

314 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
vœtu®Name¥aûURI
(ècÚ¡ {  
Çme¥aûURI
(); }

318 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

320 
Qu®if›dName
 
	gm_gName
;

321 
vœtu®
 
NodeR¬eD©a
* 
ü—‹R¬eD©a
();

323 
EËm’tR¬eD©a
* 
¿»D©a
() const;

324 
EËm’tR¬eD©a
* 
’su»R¬eD©a
();

326 
	g´Ùeùed
:

327 
mubË
 
RefPŒ
<
NamedNodeM­
> 
ÇmedA‰rM­
;

330 
šlše
 
boŞ
 
	gNode
::
	$hasTagName
(cÚ¡ 
Qu®if›dName
& 
Çme
) const

332  
	`isEËm’tNode
(è&& 
¡©ic_ÿ¡
<cÚ¡ 
EËm’t
*>(
this
)->
	`hasTagName
(
Çme
);

333 
	}
}

335 
šlše
 
boŞ
 
	gNode
::
	$hasA‰ribu‹s
() const

337  
	`isEËm’tNode
(è&& 
¡©ic_ÿ¡
<cÚ¡ 
EËm’t
*>(
this
)->
	`hasA‰ribu‹s
();

338 
	}
}

340 
šlše
 
NamedNodeM­
* 
	gNode
::
	$©Œibu‹s
() const

342  
	`isEËm’tNode
(è? 
¡©ic_ÿ¡
<cÚ¡ 
EËm’t
*>(
this
)->
	`©Œibu‹s
() : 0;

343 
	}
}

345 
šlše
 
EËm’t
* 
	gNode
::
	$·»ÁEËm’t
() const

347 
Node
* 
·»Á
 = 
	`·»ÁNode
();

348  
·»Á
 &&…¬’t->
	`isEËm’tNode
(è? 
¡©ic_ÿ¡
<
EËm’t
*>(parent) : 0;

349 
	}
}

351 
šlše
 cÚ¡ 
	gQu®if›dName
& 
	gEËm’t
::
	$idA‰ribu‹Name
() const

353  
	`hasR¬eD©a
(è? 
	`¿»IDA‰ribu‹Name
(è: 
HTMLNames
::
idA‰r
;

354 
	}
}

356 
šlše
 
NamedNodeM­
* 
	gEËm’t
::
	$©Œibu‹s
(
boŞ
 
»adÚly
) const

358 ià(!
m_isStyËA‰ribu‹V®id
)

359 
	`upd©eStyËA‰ribu‹
();

361 #ià
	`ENABLE
(
SVG
)

362 ià(!
m_¬eSVGA‰ribu‹sV®id
)

363 
	`upd©eAnim©edSVGA‰ribu‹
(
	`ªyQName
());

366 ià(!
»adÚly
 && !
ÇmedA‰rM­
)

367 
	`ü—‹A‰ribu‹M­
();

368  
ÇmedA‰rM­
.
	`g‘
();

369 
	}
}

371 
šlše
 
	gEËm’t
::
	$upd©eId
(cÚ¡ 
AtomicSŒšg
& 
ŞdId
, cÚ¡ AtomicSŒšg& 
ÃwId
)

373 ià(!
	`šDocum’t
())

376 ià(
ŞdId
 =ğ
ÃwId
)

379 
Docum’t
* 
doc
 = 
	`docum’t
();

380 ià(!
ŞdId
.
	`isEm±y
())

381 
doc
->
	`»moveEËm’tById
(
ŞdId
, 
this
);

382 ià(!
ÃwId
.
	`isEm±y
())

383 
doc
->
	`addEËm’tById
(
ÃwId
, 
this
);

384 
	}
}

	@ElementRareData.h

22 #iâdeà
EËm’tR¬eD©a_h


23 
	#EËm’tR¬eD©a_h


	)

25 
	~"EËm’t.h
"

26 
	~"NodeR¬eD©a.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 
usšg
 
Çme¥aû
 
	gHTMLNames
;

32 şas 
	cEËm’tR¬eD©a
 : 
public
 
NodeR¬eD©a
 {

33 
public
:

34 
EËm’tR¬eD©a
();

36 
»£tCompu‹dStyË
();

38 
usšg
 
	gNodeR¬eD©a
::
ÃedsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
;

39 
usšg
 
	gNodeR¬eD©a
::
£tN“dsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
;

41 
IÁSize
 
	gm_mšimumSizeFÜResizšg
;

42 
	gRefPŒ
<
	gR’d”StyË
> 
	gm_compu‹dStyË
;

43 
Qu®if›dName
 
	gm_idA‰ribu‹Name
;

46 
šlše
 
IÁSize
 
	$deçuÉMšimumSizeFÜResizšg
()

48  
	`IÁSize
(
INT_MAX
, INT_MAX);

49 
	}
}

51 
šlše
 
	gEËm’tR¬eD©a
::
	$EËm’tR¬eD©a
()

52 : 
	`m_mšimumSizeFÜResizšg
(
	`deçuÉMšimumSizeFÜResizšg
())

53 , 
	$m_idA‰ribu‹Name
(
idA‰r
)

55 
	}
}

57 
šlše
 
	gEËm’tR¬eD©a
::
	$»£tCompu‹dStyË
()

59 
m_compu‹dStyË
.
	`ş—r
();

60 
	}
}

	@Entity.cpp

	@Entity.h

22 #iâdeà
EÁ™y_h


23 
	#EÁ™y_h


	)

25 
	~"CÚš”Node.h
"

27 
Çme¥aû
 
	gWebCÜe
 {

31 şas 
	cEÁ™y
 : 
public
 
CÚš”Node
 {

32 
public
:

33 
SŒšg
 
publicId
(ècÚ¡ { 
ASSERT_NOT_REACHED
();  String(); }

34 
SŒšg
 
sy¡emId
(ècÚ¡ { 
ASSERT_NOT_REACHED
();  String(); }

35 
SŒšg
 
nÙ©iÚName
(ècÚ¡ { 
ASSERT_NOT_REACHED
();  String(); }

37 
	g´iv©e
:

38 
EÁ™y
(è: 
CÚš”Node
(0) {}

	@EntityReference.cpp

21 
	~"cÚfig.h
"

22 
	~"EÁ™yReã»nû.h
"

24 
Çme¥aû
 
	gWebCÜe
 {

26 
šlše
 
	gEÁ™yReã»nû
::
EÁ™yReã»nû
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
’t™yName
)

27 : 
CÚš”Node
(
docum’t
)

28 , 
m_’t™yName
(
’t™yName
)

32 
	gPassRefPŒ
<
	gEÁ™yReã»nû
> EÁ™yReã»nû::
ü—‹
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
’t™yName
)

34  
adİtRef
(
Ãw
 
EÁ™yReã»nû
(
docum’t
, 
’t™yName
));

37 
SŒšg
 
	gEÁ™yReã»nû
::
nodeName
() const

39  
m_’t™yName
;

42 
	gNode
::
NodeTy³
 
EÁ™yReã»nû
::
nodeTy³
() const

44  
ENTITY_REFERENCE_NODE
;

47 
	gPassRefPŒ
<
	gNode
> 
	gEÁ™yReã»nû
::
şÚeNode
(
boŞ
)

49  
ü—‹
(
docum’t
(), 
m_’t™yName
);

	@EntityReference.h

22 #iâdeà
EÁ™yReã»nû_h


23 
	#EÁ™yReã»nû_h


	)

25 
	~"CÚš”Node.h
"

27 
Çme¥aû
 
	gWebCÜe
 {

29 şas 
	cEÁ™yReã»nû
 : 
public
 
CÚš”Node
 {

30 
public
:

31 
PassRefPŒ
<
EÁ™yReã»nû
> 
ü—‹
(
Docum’t
*, cÚ¡ 
SŒšg
& 
’t™yName
);

33 
	g´iv©e
:

34 
EÁ™yReã»nû
(
Docum’t
*, cÚ¡ 
SŒšg
& 
’t™yName
);

36 
vœtu®
 
SŒšg
 
nodeName
() const;

37 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

38 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

40 
SŒšg
 
	gm_’t™yName
;

	@ErrorEvent.cpp

31 
	~"cÚfig.h
"

33 #ià
ENABLE
(
WORKERS
)

35 
	~"E¼ÜEv’t.h
"

37 
	~"Ev’tNames.h
"

39 
Çme¥aû
 
	gWebCÜe
 {

41 
	gE¼ÜEv’t
::
E¼ÜEv’t
()

45 
E¼ÜEv’t
::E¼ÜEv’t(cÚ¡ 
SŒšg
& 
mes§ge
, cÚ¡ SŒšg& 
feName
, 
lšeNumb”
)

46 : 
Ev’t
(
ev’tNames
().
”rÜEv’t
, 
çl£
, 
Œue
)

47 , 
m_mes§ge
(
mes§ge
)

48 , 
m_feName
(
feName
)

49 , 
m_lšeNumb”
(
lšeNumb”
)

53 
	gE¼ÜEv’t
::~
E¼ÜEv’t
()

57 
E¼ÜEv’t
::
š™E¼ÜEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, cÚ¡ 
SŒšg
& 
mes§ge
, cÚ¡ SŒšg& 
feName
, 
lšeNumb”
)

59 ià(
di¥©ched
())

62 
š™Ev’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
);

64 
	gm_mes§ge
 = 
mes§ge
;

65 
	gm_feName
 = 
feName
;

66 
	gm_lšeNumb”
 = 
lšeNumb”
;

69 
boŞ
 
	gE¼ÜEv’t
::
isE¼ÜEv’t
() const

71  
Œue
;

	@ErrorEvent.h

31 #iâdeà
E¼ÜEv’t_h


32 
	#E¼ÜEv’t_h


	)

34 #ià
ENABLE
(
WORKERS
)

36 
	~"Ev’t.h
"

37 
	~"PÏtfÜmSŒšg.h
"

39 
Çme¥aû
 
	gWebCÜe
 {

41 şas 
	cE¼ÜEv’t
 : 
public
 
Ev’t
 {

42 
public
:

43 
PassRefPŒ
<
E¼ÜEv’t
> 
ü—‹
()

45  
adİtRef
(
Ãw
 
E¼ÜEv’t
);

47 
	gPassRefPŒ
<
	gE¼ÜEv’t
> 
ü—‹
(cÚ¡ 
SŒšg
& 
mes§ge
, cÚ¡ SŒšg& 
feName
, 
lšeNumb”
)

49  
adİtRef
(
Ãw
 
E¼ÜEv’t
(
mes§ge
, 
feName
, 
lšeNumb”
));

51 
	gvœtu®
 ~
E¼ÜEv’t
();

53 
š™E¼ÜEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, cÚ¡ 
SŒšg
& 
mes§ge
, cÚ¡ SŒšg& 
feName
, 
lšeNumb”
);

55 cÚ¡ 
	gSŒšg
& 
mes§ge
(ècÚ¡ {  
	gm_mes§ge
; }

56 cÚ¡ 
	gSŒšg
& 
f’ame
(ècÚ¡ {  
	gm_feName
; }

57 
lš’o
(ècÚ¡ {  
	gm_lšeNumb”
; }

59 
vœtu®
 
boŞ
 
isE¼ÜEv’t
() const;

61 
	g´iv©e
:

62 
E¼ÜEv’t
();

63 
E¼ÜEv’t
(cÚ¡ 
SŒšg
& 
mes§ge
, cÚ¡ SŒšg& 
feName
, 
lšeNumb”
);

65 
SŒšg
 
	gm_mes§ge
;

66 
SŒšg
 
	gm_feName
;

67 
	gm_lšeNumb”
;

	@Event.cpp

23 
	~"cÚfig.h
"

24 
	~"Ev’t.h
"

26 
	~"AtomicSŒšg.h
"

27 
	~"U£rGe¡u»IndiÿtÜ.h
"

28 
	~<wtf/Cu¼’tTime.h
>

30 
Çme¥aû
 
	gWebCÜe
 {

32 
	gEv’t
::
Ev’t
()

33 : 
m_ÿnBubbË
(
çl£
)

34 , 
m_ÿnûÏbË
(
çl£
)

35 , 
m_´İag©iÚStİ³d
(
çl£
)

36 , 
m_immedŸ‹Prİag©iÚStİ³d
(
çl£
)

37 , 
m_deçuÉP»v’‹d
(
çl£
)

38 , 
m_deçuÉHªdËd
(
çl£
)

39 , 
m_ÿnûlBubbË
(
çl£
)

40 , 
m_ev’tPha£
(0)

41 , 
m_cu¼’tT¬g‘
(0)

42 , 
m_ü—‹Time
(
¡©ic_ÿ¡
<
DOMTimeSmp
>(
cu¼’tTime
() * 1000.0))

46 
	gEv’t
::
Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
boŞ
 
ÿnBubbËArg
, boŞ 
ÿnûÏbËArg
)

47 : 
m_ty³
(
ev’tTy³
)

48 , 
m_ÿnBubbË
(
ÿnBubbËArg
)

49 , 
m_ÿnûÏbË
(
ÿnûÏbËArg
)

50 , 
m_´İag©iÚStİ³d
(
çl£
)

51 , 
m_immedŸ‹Prİag©iÚStİ³d
(
çl£
)

52 , 
m_deçuÉP»v’‹d
(
çl£
)

53 , 
m_deçuÉHªdËd
(
çl£
)

54 , 
m_ÿnûlBubbË
(
çl£
)

55 , 
m_ev’tPha£
(0)

56 , 
m_cu¼’tT¬g‘
(0)

57 , 
m_ü—‹Time
(
¡©ic_ÿ¡
<
DOMTimeSmp
>(
cu¼’tTime
() * 1000.0))

61 
	gEv’t
::~
Ev’t
()

65 
Ev’t
::
š™Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³Arg
, 
boŞ
 
ÿnBubbËArg
, boŞ 
ÿnûÏbËArg
)

67 ià(
di¥©ched
())

70 
	gm_ty³
 = 
ev’tTy³Arg
;

71 
	gm_ÿnBubbË
 = 
ÿnBubbËArg
;

72 
	gm_ÿnûÏbË
 = 
ÿnûÏbËArg
;

75 
boŞ
 
	gEv’t
::
isCu¡omEv’t
() const

77  
çl£
;

80 
boŞ
 
	gEv’t
::
isUIEv’t
() const

82  
çl£
;

85 
boŞ
 
	gEv’t
::
isMou£Ev’t
() const

87  
çl£
;

90 
boŞ
 
	gEv’t
::
isMutiÚEv’t
() const

92  
çl£
;

95 
boŞ
 
	gEv’t
::
isKeybßrdEv’t
() const

97  
çl£
;

100 
boŞ
 
	gEv’t
::
isTextEv’t
() const

102  
çl£
;

105 
boŞ
 
	gEv’t
::
isCompos™iÚEv’t
() const

107  
çl£
;

110 
boŞ
 
	gEv’t
::
isD¿gEv’t
() const

112  
çl£
;

115 
boŞ
 
	gEv’t
::
isClbßrdEv’t
() const

117  
çl£
;

120 
boŞ
 
	gEv’t
::
isWh“lEv’t
() const

122  
çl£
;

125 
boŞ
 
	gEv’t
::
isMes§geEv’t
() const

127  
çl£
;

130 
boŞ
 
	gEv’t
::
isBefÜeTextIn£¹edEv’t
() const

132  
çl£
;

135 
boŞ
 
	gEv’t
::
isOv”æowEv’t
() const

137  
çl£
;

140 
boŞ
 
	gEv’t
::
isPageT¿ns™iÚEv’t
() const

142  
çl£
;

145 
boŞ
 
	gEv’t
::
isPİS‹Ev’t
() const

147  
çl£
;

150 
boŞ
 
	gEv’t
::
isProg»ssEv’t
() const

152  
çl£
;

155 
boŞ
 
	gEv’t
::
isWebK™Anim©iÚEv’t
() const

157  
çl£
;

160 
boŞ
 
	gEv’t
::
isWebK™T¿ns™iÚEv’t
() const

162  
çl£
;

165 
boŞ
 
	gEv’t
::
isXMLH‰pReque¡Prog»ssEv’t
() const

167  
çl£
;

170 
boŞ
 
	gEv’t
::
isBefÜeLßdEv’t
() const

172  
çl£
;

175 #ià
ENABLE
(
SVG
)

176 
boŞ
 
	gEv’t
::
isSVGZoomEv’t
() const

178  
çl£
;

182 #ià
ENABLE
(
DOM_STORAGE
)

183 
boŞ
 
	gEv’t
::
isStÜageEv’t
() const

185  
çl£
;

189 #ià
ENABLE
(
WORKERS
)

190 
boŞ
 
	gEv’t
::
isE¼ÜEv’t
() const

192  
çl£
;

196 #ià
ENABLE
(
TOUCH_EVENTS
)

197 
boŞ
 
	gEv’t
::
isTouchEv’t
() const

199  
çl£
;

203 
boŞ
 
	gEv’t
::
äomU£rGe¡u»
()

205 ià(!
U£rGe¡u»IndiÿtÜ
::
´oûssšgU£rGe¡u»
())

206  
çl£
;

208 cÚ¡ 
	gAtomicSŒšg
& 
	gty³
 = 
this
->
ty³
();

211 
	gty³
 =ğ
ev’tNames
().
şickEv’t
 || 
ty³
 =ğev’tNames().
mou£downEv’t


212 || 
ty³
 =ğ
ev’tNames
().
mou£upEv’t
 ||y³ =ğev’tNames().
dblşickEv’t


214 || 
ty³
 =ğ
ev’tNames
().
keydownEv’t
 ||y³ =ğev’tNames().
key´essEv’t


215 || 
ty³
 =ğ
ev’tNames
().
keyupEv’t


216 #ià
ENABLE
(
TOUCH_EVENTS
)

218 || 
ty³
 =ğ
ev’tNames
().
touch¡¬tEv’t
 ||y³ =ğev’tNames().
touchmoveEv’t


219 || 
ty³
 =ğ
ev’tNames
().
touch’dEv’t
 ||y³ =ğev’tNames().
touchÿnûlEv’t


222 || 
ty³
 =ğ
ev’tNames
().
£ËùEv’t
 ||y³ =ğev’tNames().
chªgeEv’t


223 || 
ty³
 =ğ
ev’tNames
().
focusEv’t
 ||y³ =ğev’tNames().
blurEv’t


224 || 
ty³
 =ğ
ev’tNames
().
subm™Ev’t
;

227 
boŞ
 
	gEv’t
::
¡ÜesResuÉAsSŒšg
() const

229  
çl£
;

232 
	gEv’t
::
¡ÜeResuÉ
(cÚ¡ 
SŒšg
&)

236 
Ev’t
::
£tT¬g‘
(
PassRefPŒ
<
Ev’tT¬g‘
> 
rg‘
)

238 
m_rg‘
 = 
rg‘
;

239 ià(
	gm_rg‘
)

240 
»ûivedT¬g‘
();

243 
	gEv’t
::
»ûivedT¬g‘
()

247 
Ev’t
::
£tUnd”lyšgEv’t
(
PassRefPŒ
<Ev’t> 
ue
)

250 
Ev’t
* 
e
 = 
ue
.
g‘
(); 
	ge
;ƒ =ƒ->
und”lyšgEv’t
())

251 ià(
e
 =ğ
this
)

253 
	gm_und”lyšgEv’t
 = 
ue
;

256 cÚ¡ 
	gAtomicSŒšg
& 
	gEv’t
::
®Ÿ£dTy³
() const

258 ià(
ty³
(è=ğ
ev’tNames
().
focusšEv’t
)

259  
ev’tNames
().
DOMFocusInEv’t
;

260 ià(
ty³
(è=ğ
ev’tNames
().
focusoutEv’t
)

261  
ev’tNames
().
DOMFocusOutEv’t
;

262 ià(
ty³
(è=ğ
ev’tNames
().
DOMFocusInEv’t
)

263  
ev’tNames
().
focusšEv’t
;

264 ià(
ty³
(è=ğ
ev’tNames
().
DOMFocusOutEv’t
)

265  
ev’tNames
().
focusoutEv’t
;

267 
ASSERT_NOT_REACHED
();

268  
ty³
();

271 
boŞ
 
	gEv’t
::
hasAlŸ£dTy³
() const

273  
ty³
(è=ğ
ev’tNames
().
focusšEv’t
 ||y³(è=ğev’tNames().
focusoutEv’t
 ||

274 
ty³
(è=ğ
ev’tNames
().
DOMFocusInEv’t
 ||y³(è=ğev’tNames().
DOMFocusOutEv’t
;

	@Event.h

24 #iâdeà
Ev’t_h


25 
	#Ev’t_h


	)

27 
	~"AtomicSŒšg.h
"

28 
	~"Ev’tT¬g‘.h
"

29 
	~<wtf/RefCouÁed.h
>

31 
Çme¥aû
 
	gWebCÜe
 {

33 
şass
 
	gClbßrd
;

36 
	tDOMTimeSmp
;

38 
şass
 
	gEv’t
 : 
public
 
RefCouÁed
<
Ev’t
> {

39 
public
:

40 
	ePha£Ty³
 {

41 
CAPTURING_PHASE
 = 1,

42 
	gAT_TARGET
 = 2,

43 
	gBUBBLING_PHASE
 = 3

46 
	eEv’tTy³
 {

47 
	gMOUSEDOWN
 = 1,

48 
	gMOUSEUP
 = 2,

49 
	gMOUSEOVER
 = 4,

50 
	gMOUSEOUT
 = 8,

51 
	gMOUSEMOVE
 = 16,

52 
	gMOUSEDRAG
 = 32,

53 
	gCLICK
 = 64,

54 
	gDBLCLICK
 = 128,

55 
	gKEYDOWN
 = 256,

56 
	gKEYUP
 = 512,

57 
	gKEYPRESS
 = 1024,

58 
	gDRAGDROP
 = 2048,

59 
	gFOCUS
 = 4096,

60 
	gBLUR
 = 8192,

61 
	gSELECT
 = 16384,

62 
	gCHANGE
 = 32768

65 
	gPassRefPŒ
<
	gEv’t
> 
ü—‹
()

67  
adİtRef
(
Ãw
 
Ev’t
);

69 
	gPassRefPŒ
<
	gEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
)

71  
adİtRef
(
Ãw
 
Ev’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
));

73 
	gvœtu®
 ~
Ev’t
();

75 
š™Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
);

77 cÚ¡ 
	gAtomicSŒšg
& 
ty³
(ècÚ¡ {  
	gm_ty³
; }

79 cÚ¡ 
	gAtomicSŒšg
& 
®Ÿ£dTy³
() const;

80 
boŞ
 
hasAlŸ£dTy³
() const;

82 
Ev’tT¬g‘
* 
rg‘
(ècÚ¡ {  
	gm_rg‘
.
g‘
(); }

83 
£tT¬g‘
(
PassRefPŒ
<
Ev’tT¬g‘
>);

85 
Ev’tT¬g‘
* 
cu¼’tT¬g‘
(ècÚ¡ {  
	gm_cu¼’tT¬g‘
; }

86 
£tCu¼’tT¬g‘
(
Ev’tT¬g‘
* 
cu¼’tT¬g‘
è{ 
	gm_cu¼’tT¬g‘
 = currentTarget; }

88 
ev’tPha£
(ècÚ¡ {  
	gm_ev’tPha£
; }

89 
£tEv’tPha£
(
ev’tPha£
è{ 
	gm_ev’tPha£
 =ƒventPhase; }

91 
boŞ
 
bubbËs
(ècÚ¡ {  
	gm_ÿnBubbË
; }

92 
boŞ
 
ÿnûÏbË
(ècÚ¡ {  
	gm_ÿnûÏbË
; }

93 
DOMTimeSmp
 
timeSmp
(ècÚ¡ {  
	gm_ü—‹Time
; }

95 
¡İPrİag©iÚ
(è{ 
	gm_´İag©iÚStİ³d
 = 
Œue
; }

96 
¡İImmedŸ‹Prİag©iÚ
(è{ 
	gm_immedŸ‹Prİag©iÚStİ³d
 = 
Œue
; }

99 
Ev’tT¬g‘
* 
¤cEËm’t
(ècÚ¡ {  
rg‘
(); }

101 
boŞ
 
»tuºV®ue
(ècÚ¡ {  !
deçuÉP»v’‹d
(); }

102 
£tR‘uºV®ue
(
boŞ
 
»tuºV®ue
è{ 
£tDeçuÉP»v’‹d
(!returnValue); }

104 
Clbßrd
* 
şbßrdD©a
(ècÚ¡ {  
isClbßrdEv’t
(è? 
şbßrd
() : 0; }

106 
vœtu®
 
boŞ
 
isCu¡omEv’t
() const;

107 
vœtu®
 
boŞ
 
isUIEv’t
() const;

108 
vœtu®
 
boŞ
 
isMou£Ev’t
() const;

109 
vœtu®
 
boŞ
 
isMutiÚEv’t
() const;

110 
vœtu®
 
boŞ
 
isKeybßrdEv’t
() const;

111 
vœtu®
 
boŞ
 
isTextEv’t
() const;

112 
vœtu®
 
boŞ
 
isCompos™iÚEv’t
() const;

113 
vœtu®
 
boŞ
 
isD¿gEv’t
() const;

114 
vœtu®
 
boŞ
 
isClbßrdEv’t
() const;

115 
vœtu®
 
boŞ
 
isMes§geEv’t
() const;

116 
vœtu®
 
boŞ
 
isWh“lEv’t
() const;

117 
vœtu®
 
boŞ
 
isBefÜeTextIn£¹edEv’t
() const;

118 
vœtu®
 
boŞ
 
isOv”æowEv’t
() const;

119 
vœtu®
 
boŞ
 
isPageT¿ns™iÚEv’t
() const;

120 
vœtu®
 
boŞ
 
isPİS‹Ev’t
() const;

121 
vœtu®
 
boŞ
 
isProg»ssEv’t
() const;

122 
vœtu®
 
boŞ
 
isXMLH‰pReque¡Prog»ssEv’t
() const;

123 
vœtu®
 
boŞ
 
isWebK™Anim©iÚEv’t
() const;

124 
vœtu®
 
boŞ
 
isWebK™T¿ns™iÚEv’t
() const;

125 
vœtu®
 
boŞ
 
isBefÜeLßdEv’t
() const;

126 #ià
ENABLE
(
SVG
)

127 
vœtu®
 
boŞ
 
isSVGZoomEv’t
() const;

129 #ià
ENABLE
(
DOM_STORAGE
)

130 
vœtu®
 
boŞ
 
isStÜageEv’t
() const;

132 #ià
ENABLE
(
WORKERS
)

133 
vœtu®
 
boŞ
 
isE¼ÜEv’t
() const;

135 #ià
ENABLE
(
TOUCH_EVENTS
)

136 
vœtu®
 
boŞ
 
isTouchEv’t
() const;

138 
boŞ
 
äomU£rGe¡u»
();

140 
boŞ
 
´İag©iÚStİ³d
(ècÚ¡ {  
	gm_´İag©iÚStİ³d
 || 
	gm_immedŸ‹Prİag©iÚStİ³d
; }

141 
boŞ
 
immedŸ‹Prİag©iÚStİ³d
(ècÚ¡ {  
	gm_immedŸ‹Prİag©iÚStİ³d
; }

143 
boŞ
 
deçuÉP»v’‹d
(ècÚ¡ {  
	gm_deçuÉP»v’‹d
; }

144 
´ev’tDeçuÉ
(è{ ià(
	gm_ÿnûÏbË
è
	gm_deçuÉP»v’‹d
 = 
Œue
; }

145 
£tDeçuÉP»v’‹d
(
boŞ
 
deçuÉP»v’‹d
è{ 
	gm_deçuÉP»v’‹d
 = defaultPrevented; }

147 
boŞ
 
deçuÉHªdËd
(ècÚ¡ {  
	gm_deçuÉHªdËd
; }

148 
£tDeçuÉHªdËd
(è{ 
	gm_deçuÉHªdËd
 = 
Œue
; }

150 
boŞ
 
ÿnûlBubbË
(ècÚ¡ {  
	gm_ÿnûlBubbË
; }

151 
£tCªûlBubbË
(
boŞ
 
ÿnûl
è{ 
	gm_ÿnûlBubbË
 = cancel; }

153 
Ev’t
* 
und”lyšgEv’t
(ècÚ¡ {  
	gm_und”lyšgEv’t
.
g‘
(); }

154 
£tUnd”lyšgEv’t
(
PassRefPŒ
<
Ev’t
>);

156 
vœtu®
 
boŞ
 
¡ÜesResuÉAsSŒšg
() const;

157 
vœtu®
 
¡ÜeResuÉ
(cÚ¡ 
SŒšg
&);

159 
vœtu®
 
Clbßrd
* 
şbßrd
() const {  0; }

161 
	g´Ùeùed
:

162 
Ev’t
();

163 
Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
);

165 
vœtu®
 
»ûivedT¬g‘
();

166 
boŞ
 
di¥©ched
(ècÚ¡ {  
	gm_rg‘
; }

168 
	g´iv©e
:

169 
AtomicSŒšg
 
m_ty³
;

170 
boŞ
 
	gm_ÿnBubbË
;

171 
boŞ
 
	gm_ÿnûÏbË
;

173 
boŞ
 
	gm_´İag©iÚStİ³d
;

174 
boŞ
 
	gm_immedŸ‹Prİag©iÚStİ³d
;

175 
boŞ
 
	gm_deçuÉP»v’‹d
;

176 
boŞ
 
	gm_deçuÉHªdËd
;

177 
boŞ
 
	gm_ÿnûlBubbË
;

179 
	gm_ev’tPha£
;

180 
Ev’tT¬g‘
* 
	gm_cu¼’tT¬g‘
;

181 
	gRefPŒ
<
	gEv’tT¬g‘
> 
	gm_rg‘
;

182 
DOMTimeSmp
 
	gm_ü—‹Time
;

184 
	gRefPŒ
<
	gEv’t
> 
	gm_und”lyšgEv’t
;

	@EventException.h

29 #iâdeà
Ev’tExû±iÚ_h


30 
	#Ev’tExû±iÚ_h


	)

32 
	~"Exû±iÚBa£.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 şas 
	cEv’tExû±iÚ
 : 
public
 
Exû±iÚBa£
 {

37 
public
:

38 
PassRefPŒ
<
Ev’tExû±iÚ
> 
ü—‹
(cÚ¡ 
Exû±iÚCodeDesütiÚ
& 
desütiÚ
)

40  
adİtRef
(
Ãw
 
Ev’tExû±iÚ
(
desütiÚ
));

43 cÚ¡ 
	gEv’tExû±iÚOff£t
 = 100;

44 cÚ¡ 
	gEv’tExû±iÚMax
 = 199;

46 
	eEv’tExû±iÚCode
 {

47 
	gUNSPECIFIED_EVENT_TYPE_ERR
 = 
Ev’tExû±iÚOff£t


50 
	g´iv©e
:

51 
Ev’tExû±iÚ
(cÚ¡ 
Exû±iÚCodeDesütiÚ
& 
desütiÚ
)

52 : 
Exû±iÚBa£
(
desütiÚ
)

	@EventListener.h

21 #iâdeà
Ev’tLi¡’”_h


22 
	#Ev’tLi¡’”_h


	)

24 
	~"PÏtfÜmSŒšg.h
"

25 
	~<wtf/RefCouÁed.h
>

27 
Çme¥aû
 
	gJSC
 {

28 
şass
 
	gJSObjeù
;

29 
şass
 
	gM¬kSck
;

32 
Çme¥aû
 
	gWebCÜe
 {

34 
şass
 
	gSütExecutiÚCÚ‹xt
;

35 
şass
 
	gEv’t
;

37 
şass
 
	gEv’tLi¡’”
 : 
public
 
RefCouÁed
<
Ev’tLi¡’”
> {

38 
public
:

39 
	eTy³
 { 
JSEv’tLi¡’”Ty³
,

40 
	gImageEv’tLi¡’”Ty³
,

41 
	gIn¥eùÜDOMAg’tTy³
,

42 
	gIn¥eùÜDOMStÜageResourûTy³
,

43 
	gObjCEv’tLi¡’”Ty³
,

44 
	gCÚd™iÚEv’tLi¡’”Ty³
 };

46 
	gvœtu®
 ~
Ev’tLi¡’”
() { }

47 
vœtu®
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Ev’tLi¡’”
&) = 0;

48 
vœtu®
 
hªdËEv’t
(
SütExecutiÚCÚ‹xt
*, 
Ev’t
*) = 0;

49 
vœtu®
 
boŞ
 
wasC»©edFromM¬kup
(ècÚ¡ {  
	gçl£
; }

51 #ià
USE
(
JSC
)

52 
vœtu®
 
m¬kJSFunùiÚ
(
JSC
::
M¬kSck
&) { }

53 
vœtu®
 
šv®id©eJSFunùiÚ
(
JSC
::
JSObjeù
*) { }

56 
boŞ
 
isA‰ribu‹
(ècÚ¡ {  
vœtu®isA‰ribu‹
(); }

57 
Ty³
 
ty³
(ècÚ¡ {  
	gm_ty³
; }

59 
	g´Ùeùed
:

60 
Ev’tLi¡’”
(
Ty³
 
ty³
)

61 : 
m_ty³
(
ty³
)

65 
´iv©e
:

66 
vœtu®
 
boŞ
 
vœtu®isA‰ribu‹
(ècÚ¡ {  
çl£
; }

68 
Ty³
 
	gm_ty³
;

	@EventNames.cpp

21 
	~"cÚfig.h
"

22 
	~"Ev’tNames.h
"

24 
Çme¥aû
 
	gWebCÜe
 {

26 
	#INITIALIZE_EVENT_NAME
(
Çme
) \

27 , 
Çme
##
	`Ev’t
(#Çme)

	)

28 
	gEv’tNames
::
Ev’tNames
()

29 : 
dummy
(0)

30 
DOM_EVENT_NAMES_FOR_EACH
(
INITIALIZE_EVENT_NAME
)

	@EventNames.h

22 #iâdeà
Ev’tNames_h


23 
	#Ev’tNames_h


	)

25 
	~"AtomicSŒšg.h
"

26 
	~"Th»adGlob®D©a.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 
	#DOM_EVENT_NAMES_FOR_EACH
(
maüo
) \

32 
	`maüo
(
abÜt
) \

33 
	`maüo
(
befÜecİy
) \

34 
	`maüo
(
befÜecut
) \

35 
	`maüo
(
befÜ–ßd
) \

36 
	`maüo
(
befÜ•a¡e
) \

37 
	`maüo
(
befÜeuÆßd
) \

38 
	`maüo
(
blur
) \

39 
	`maüo
(
ÿched
) \

40 
	`maüo
(
chªge
) \

41 
	`maüo
(
checkšg
) \

42 
	`maüo
(
şick
) \

43 
	`maüo
(
şo£
) \

44 
	`maüo
(
compos™iÚ’d
) \

45 
	`maüo
(
compos™iÚ¡¬t
) \

46 
	`maüo
(
compos™iÚupd©e
) \

47 
	`maüo
(
cÚÃù
) \

48 
	`maüo
(
cÚ‹xtm’u
) \

49 
	`maüo
(
cİy
) \

50 
	`maüo
(
cut
) \

51 
	`maüo
(
dblşick
) \

52 
	`maüo
(
di¥Ïy
) \

53 
	`maüo
(
dowÆßdšg
) \

54 
	`maüo
(
d¿g
) \

55 
	`maüo
(
d¿g’d
) \

56 
	`maüo
(
d¿g’‹r
) \

57 
	`maüo
(
d¿gËave
) \

58 
	`maüo
(
d¿gov”
) \

59 
	`maüo
(
d¿g¡¬t
) \

60 
	`maüo
(
drİ
) \

61 
	`maüo
(
”rÜ
) \

62 
	`maüo
(
focus
) \

63 
	`maüo
(
focusš
) \

64 
	`maüo
(
focusout
) \

65 
	`maüo
(
hashchªge
) \

66 
	`maüo
(
šput
) \

67 
	`maüo
(
šv®id
) \

68 
	`maüo
(
keydown
) \

69 
	`maüo
(
key´ess
) \

70 
	`maüo
(
keyup
) \

71 
	`maüo
(
lßd
) \

72 
	`maüo
(
lßd¡¬t
) \

73 
	`maüo
(
mes§ge
) \

74 
	`maüo
(
mou£down
) \

75 
	`maüo
(
mou£move
) \

76 
	`maüo
(
mou£out
) \

77 
	`maüo
(
mou£ov”
) \

78 
	`maüo
(
mou£up
) \

79 
	`maüo
(
mou£wh“l
) \

80 
	`maüo
(
noupd©e
) \

81 
	`maüo
(
obsŞ‘e
) \

82 
	`maüo
(
ofæše
) \

83 
	`maüo
(
Úlše
) \

84 
	`maüo
(
İ’
) \

85 
	`maüo
(
ov”æowchªged
) \

86 
	`maüo
(
·gehide
) \

87 
	`maüo
(
·geshow
) \

88 
	`maüo
(
·¡e
) \

89 
	`maüo
(
pİ¡©e
) \

90 
	`maüo
(
»ady¡©echªge
) \

91 
	`maüo
(
»£t
) \

92 
	`maüo
(
»size
) \

93 
	`maüo
(
süŞl
) \

94 
	`maüo
(
£¬ch
) \

95 
	`maüo
(
£Ëù
) \

96 
	`maüo
(
£Ëù¡¬t
) \

97 
	`maüo
(
¡Üage
) \

98 
	`maüo
(
subm™
) \

99 
	`maüo
(
‹xtIÅut
) \

100 
	`maüo
(
uÆßd
) \

101 
	`maüo
(
upd©”—dy
) \

102 
	`maüo
(
zoom
) \

104 
	`maüo
(
DOMAùiv©e
) \

105 
	`maüo
(
DOMFocusIn
) \

106 
	`maüo
(
DOMFocusOut
) \

107 
	`maüo
(
DOMA‰rModif›d
) \

108 
	`maüo
(
DOMCh¬aù”D©aModif›d
) \

109 
	`maüo
(
DOMNodeIn£¹ed
) \

110 
	`maüo
(
DOMNodeIn£¹edIÁoDocum’t
) \

111 
	`maüo
(
DOMNodeRemoved
) \

112 
	`maüo
(
DOMNodeRemovedFromDocum’t
) \

113 
	`maüo
(
DOMSubŒ“Modif›d
) \

114 
	`maüo
(
DOMCÚ‹ÁLßded
) \

116 
	`maüo
(
webk™BefÜeTextIn£¹ed
) \

117 
	`maüo
(
webk™Ed™abËCÚ‹ÁChªged
) \

119 
	`maüo
(
ÿÅÏy
) \

120 
	`maüo
(
ÿÅÏythrough
) \

121 
	`maüo
(
du¿tiÚchªge
) \

122 
	`maüo
(
em±›d
) \

123 
	`maüo
(
’ded
) \

124 
	`maüo
(
lßdedd©a
) \

125 
	`maüo
(
lßdedm‘ad©a
) \

126 
	`maüo
(
·u£
) \

127 
	`maüo
(
¶ay
) \

128 
	`maüo
(
¶ayšg
) \

129 
	`maüo
(
¿‹chªge
) \

130 
	`maüo
(
£eked
) \

131 
	`maüo
(
£ekšg
) \

132 
	`maüo
(
timeupd©e
) \

133 
	`maüo
(
vŞumechªge
) \

134 
	`maüo
(
wa™šg
) \

136 
	`maüo
(
webk™begšfuÎsü“n
) \

137 
	`maüo
(
webk™’dfuÎsü“n
) \

139 
	`maüo
(
´og»ss
) \

140 
	`maüo
(
¡®Ëd
) \

141 
	`maüo
(
su¥’d
) \

143 
	`maüo
(
webk™Anim©iÚEnd
) \

144 
	`maüo
(
webk™Anim©iÚS¹
) \

145 
	`maüo
(
webk™Anim©iÚI‹¿tiÚ
) \

147 
	`maüo
(
webk™T¿ns™iÚEnd
) \

149 
	`maüo
(
Ü›Á©iÚchªge
) \

151 
	`maüo
(
touch¡¬t
) \

152 
	`maüo
(
touchmove
) \

153 
	`maüo
(
touch’d
) \

154 
	`maüo
(
touchÿnûl
) \

156 
	`maüo
(
sucûss
) \

159 

	)

160 şas 
	cEv’tNames
 : 
public
 
NÚcİyabË
 {

161 
dummy
;

163 
Ev’tNames
();

164 
ä›nd
 
şass
 
	gTh»adGlob®D©a
;

166 
	gpublic
:

167 
	#DOM_EVENT_NAMES_DECLARE
(
Çme
è
AtomicSŒšg
‚ame##
Ev’t
;

	)

168 
DOM_EVENT_NAMES_FOR_EACH
(
DOM_EVENT_NAMES_DECLARE
)

169 #undeà
DOM_EVENT_NAMES_DECLARE


172 
šlše
 
	gEv’tNames
& 
	$ev’tNames
()

174  
	`th»adGlob®D©a
().
	`ev’tNames
();

175 
	}
}

	@EventTarget.cpp

32 
	~"cÚfig.h
"

33 
	~"Ev’tT¬g‘.h
"

35 
	~"Ev’t.h
"

36 
	~"Ev’tExû±iÚ.h
"

37 
	~<wtf/StdLibExŒas.h
>

39 
usšg
 
Çme¥aû
 
	gWTF
;

41 
Çme¥aû
 
	gWebCÜe
 {

43 #iâdeà
NDEBUG


44 
	ggEv’tDi¥©chFÜbidd’
 = 0;

46 
fÜbidEv’tDi¥©ch
()

48 ià(!
isMašTh»ad
())

50 ++
	ggEv’tDi¥©chFÜbidd’
;

53 
®lowEv’tDi¥©ch
()

55 ià(!
isMašTh»ad
())

57 ià(
	ggEv’tDi¥©chFÜbidd’
 > 0)

58 --
	ggEv’tDi¥©chFÜbidd’
;

61 
boŞ
 
ev’tDi¥©chFÜbidd’
()

63 ià(!
isMašTh»ad
())

64  
	gçl£
;

65  
	ggEv’tDi¥©chFÜbidd’
 > 0;

69 
	gEv’tT¬g‘D©a
::~
Ev’tT¬g‘D©a
()

71 
d–‘eAÎV®ues
(
ev’tLi¡’”M­
);

74 
	gEv’tT¬g‘
::~
Ev’tT¬g‘
()

78 
Ev’tSourû
* 
Ev’tT¬g‘
::
toEv’tSourû
()

83 
Node
* 
	gEv’tT¬g‘
::
toNode
()

88 
DOMWšdow
* 
	gEv’tT¬g‘
::
toDOMWšdow
()

93 
XMLH‰pReque¡
* 
	gEv’tT¬g‘
::
toXMLH‰pReque¡
()

98 
XMLH‰pReque¡U¶ßd
* 
	gEv’tT¬g‘
::
toXMLH‰pReque¡U¶ßd
()

103 #ià
ENABLE
(
OFFLINE_WEB_APPLICATIONS
)

104 
DOMAµliÿtiÚCache
* 
	gEv’tT¬g‘
::
toDOMAµliÿtiÚCache
()

110 #ià
ENABLE
(
SVG
)

111 
SVGEËm’tIn¡ªû
* 
	gEv’tT¬g‘
::
toSVGEËm’tIn¡ªû
()

117 #ià
ENABLE
(
WEB_SOCKETS
)

118 
WebSock‘
* 
	gEv’tT¬g‘
::
toWebSock‘
()

124 
Mes§gePÜt
* 
	gEv’tT¬g‘
::
toMes§gePÜt
()

129 #ià
ENABLE
(
WORKERS
)

130 
WÜk”
* 
	gEv’tT¬g‘
::
toWÜk”
()

135 
Dediÿ‹dWÜk”CÚ‹xt
* 
	gEv’tT¬g‘
::
toDediÿ‹dWÜk”CÚ‹xt
()

141 #ià
ENABLE
(
SHARED_WORKERS
)

142 
Sh¬edWÜk”
* 
	gEv’tT¬g‘
::
toSh¬edWÜk”
()

146 
Sh¬edWÜk”CÚ‹xt
* 
	gEv’tT¬g‘
::
toSh¬edWÜk”CÚ‹xt
()

152 #ià
ENABLE
(
NOTIFICATIONS
)

153 
NÙifiÿtiÚ
* 
	gEv’tT¬g‘
::
toNÙifiÿtiÚ
()

159 
boŞ
 
	gEv’tT¬g‘
::
addEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
, boŞ 
u£C­tu»
)

161 
Ev’tT¬g‘D©a
* 
	gd
 = 
’su»Ev’tT¬g‘D©a
();

163 
	g·œ
<
	gEv’tLi¡’”M­
::
™”©Ü
, 
	gboŞ
> 
	g»suÉ
 = 
d
->
ev’tLi¡’”M­
.
add
(
ev’tTy³
, 0);

164 
	gEv’tLi¡’”VeùÜ
*& 
	g’Œy
 = 
»suÉ
.
fœ¡
->
£cÚd
;

165 cÚ¡ 
boŞ
 
	gisNewEÁry
 = 
»suÉ
.
£cÚd
;

166 ià(
	gisNewEÁry
)

167 
	g’Œy
 = 
Ãw
 
Ev’tLi¡’”VeùÜ
();

169 
Regi¡”edEv’tLi¡’”
 
»gi¡”edLi¡’”
(
li¡’”
, 
u£C­tu»
);

170 ià(!
	gisNewEÁry
) {

171 ià(
	g’Œy
->
fšd
(
»gi¡”edLi¡’”
è!ğ
nÙFound
)

172  
çl£
;

175 
	g’Œy
->
­³nd
(
»gi¡”edLi¡’”
);

176  
	gŒue
;

179 
boŞ
 
	gEv’tT¬g‘
::
»moveEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Ev’tLi¡’”
* 
li¡’”
, boŞ 
u£C­tu»
)

181 
Ev’tT¬g‘D©a
* 
	gd
 = 
ev’tT¬g‘D©a
();

182 ià(!
	gd
)

183  
	gçl£
;

185 
	gEv’tLi¡’”M­
::
™”©Ü
 
»suÉ
 = 
d
->
ev’tLi¡’”M­
.
fšd
(
ev’tTy³
);

186 ià(
	g»suÉ
 =ğ
d
->
ev’tLi¡’”M­
.
’d
())

187  
çl£
;

188 
Ev’tLi¡’”VeùÜ
* 
	g’Œy
 = 
»suÉ
->
£cÚd
;

190 
Regi¡”edEv’tLi¡’”
 
»gi¡”edLi¡’”
(
li¡’”
, 
u£C­tu»
);

191 
size_t
 
	gšdex
 = 
’Œy
->
fšd
(
»gi¡”edLi¡’”
);

192 ià(
	gšdex
 =ğ
nÙFound
)

193  
çl£
;

195 
	g’Œy
->
»move
(
šdex
);

196 ià(
	g’Œy
->
isEm±y
()) {

197 
d–‘e
 
	g’Œy
;

198 
	gd
->
	gev’tLi¡’”M­
.
»move
(
»suÉ
);

203 
size_t
 
	gi
 = 0; i < 
	gd
->
	gfœšgEv’tI‹¿tÜs
.
size
(); ++i) {

204 ià(
	gev’tTy³
 !ğ
d
->
fœšgEv’tI‹¿tÜs
[
i
].
ev’tTy³
)

207 ià(
	gšdex
 >ğ
d
->
fœšgEv’tI‹¿tÜs
[
i
].
’d
)

210 --
	gd
->
	gfœšgEv’tI‹¿tÜs
[
i
].
	g’d
;

211 ià(
	gšdex
 <ğ
d
->
fœšgEv’tI‹¿tÜs
[
i
].
™”©Ü
)

212 --
d
->
fœšgEv’tI‹¿tÜs
[
i
].
™”©Ü
;

215  
	gŒue
;

218 
boŞ
 
	gEv’tT¬g‘
::
£tA‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
)

220 
ş—rA‰ribu‹Ev’tLi¡’”
(
ev’tTy³
);

221 ià(!
	gli¡’”
)

222  
	gçl£
;

223  
addEv’tLi¡’”
(
ev’tTy³
, 
li¡’”
, 
çl£
);

226 
Ev’tLi¡’”
* 
	gEv’tT¬g‘
::
g‘A‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
)

228 cÚ¡ 
Ev’tLi¡’”VeùÜ
& 
’Œy
 = 
g‘Ev’tLi¡’”s
(
ev’tTy³
);

229 
size_t
 
	gi
 = 0; i < 
	g’Œy
.
size
(); ++i) {

230 ià(
	g’Œy
[
i
].
	gli¡’”
->
isA‰ribu‹
())

231  
	g’Œy
[
i
].
	gli¡’”
.
g‘
();

236 
boŞ
 
	gEv’tT¬g‘
::
ş—rA‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
)

238 
Ev’tLi¡’”
* 
li¡’”
 = 
g‘A‰ribu‹Ev’tLi¡’”
(
ev’tTy³
);

239 ià(!
	gli¡’”
)

240  
	gçl£
;

241  
»moveEv’tLi¡’”
(
ev’tTy³
, 
li¡’”
, 
çl£
);

244 
boŞ
 
	gEv’tT¬g‘
::
di¥©chEv’t
(
PassRefPŒ
<
Ev’t
> 
ev’t
, 
Exû±iÚCode
& 
ec
)

246 ià(!
	gev’t
 ||ƒv’t->
ty³
().
isEm±y
()) {

247 
	gec
 = 
Ev’tExû±iÚ
::
UNSPECIFIED_EVENT_TYPE_ERR
;

248  
	gçl£
;

251 ià(!
sütExecutiÚCÚ‹xt
())

252  
	gçl£
;

254  
di¥©chEv’t
(
ev’t
);

257 
boŞ
 
	gEv’tT¬g‘
::
di¥©chEv’t
(
PassRefPŒ
<
Ev’t
> 
ev’t
)

259 
ev’t
->
£tT¬g‘
(
this
);

260 
	gev’t
->
£tCu¼’tT¬g‘
(
this
);

261 
	gev’t
->
£tEv’tPha£
(
Ev’t
::
AT_TARGET
);

262  
fœeEv’tLi¡’”s
(
ev’t
.
g‘
());

265 
boŞ
 
	gEv’tT¬g‘
::
fœeEv’tLi¡’”s
(
Ev’t
* 
ev’t
)

267 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

268 
ASSERT
(
ev’t
 && !ev’t->
ty³
().
isEm±y
());

270 
Ev’tT¬g‘D©a
* 
	gd
 = 
ev’tT¬g‘D©a
();

271 ià(!
	gd
)

272  
	gŒue
;

274 
	gEv’tLi¡’”M­
::
™”©Ü
 
»suÉ
 = 
d
->
ev’tLi¡’”M­
.
fšd
(
ev’t
->
ty³
());

275 ià(
	g»suÉ
 !ğ
d
->
ev’tLi¡’”M­
.
’d
())

276 
fœeEv’tLi¡’”s
(
ev’t
, 
d
, *
»suÉ
->
£cÚd
);

281 ià(
	gev’t
->
hasAlŸ£dTy³
(è&& !ev’t->
immedŸ‹Prİag©iÚStİ³d
()) {

282 
	gEv’tLi¡’”M­
::
™”©Ü
 
»suÉ
 = 
d
->
ev’tLi¡’”M­
.
fšd
(
ev’t
->
®Ÿ£dTy³
());

283 ià(
	g»suÉ
 !ğ
d
->
ev’tLi¡’”M­
.
’d
())

284 
fœeEv’tLi¡’”s
(
ev’t
, 
d
, *
»suÉ
->
£cÚd
);

286  !
	gev’t
->
deçuÉP»v’‹d
();

289 
	gEv’tT¬g‘
::
fœeEv’tLi¡’”s
(
Ev’t
* 
ev’t
, 
Ev’tT¬g‘D©a
* 
d
, 
Ev’tLi¡’”VeùÜ
& 
’Œy
)

291 
	gRefPŒ
<
	gEv’tT¬g‘
> 
	g´Ùeù
 = 
this
;

298 
size_t
 
	gi
 = 0;

299 
size_t
 
	g’d
 = 
’Œy
.
size
();

300 
	gd
->
	gfœšgEv’tI‹¿tÜs
.
­³nd
(
FœšgEv’tI‹¿tÜ
(
ev’t
->
ty³
(), 
i
, 
’d
));

301  ; 
	gi
 < 
	g’d
; ++i) {

302 
	gRegi¡”edEv’tLi¡’”
& 
	g»gi¡”edLi¡’”
 = 
’Œy
[
i
];

303 ià(
	gev’t
->
ev’tPha£
(è=ğ
Ev’t
::
CAPTURING_PHASE
 && !
»gi¡”edLi¡’”
.
u£C­tu»
)

305 ià(
	gev’t
->
ev’tPha£
(è=ğ
Ev’t
::
BUBBLING_PHASE
 && 
»gi¡”edLi¡’”
.
u£C­tu»
)

310 ià(
	gev’t
->
immedŸ‹Prİag©iÚStİ³d
())

315 
	g»gi¡”edLi¡’”
.
	gli¡’”
->
hªdËEv’t
(
sütExecutiÚCÚ‹xt
(), 
ev’t
);

317 
	gd
->
	gfœšgEv’tI‹¿tÜs
.
»moveLa¡
();

320 cÚ¡ 
	gEv’tLi¡’”VeùÜ
& 
	gEv’tT¬g‘
::
g‘Ev’tLi¡’”s
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
)

322 
DEFINE_STATIC_LOCAL
(
Ev’tLi¡’”VeùÜ
, 
em±yVeùÜ
, ());

324 
Ev’tT¬g‘D©a
* 
	gd
 = 
ev’tT¬g‘D©a
();

325 ià(!
	gd
)

326  
	gem±yVeùÜ
;

327 
	gEv’tLi¡’”M­
::
™”©Ü
 
™
 = 
d
->
ev’tLi¡’”M­
.
fšd
(
ev’tTy³
);

328 ià(
	g™
 =ğ
d
->
ev’tLi¡’”M­
.
’d
())

329  
em±yVeùÜ
;

330  *
	g™
->
	g£cÚd
;

333 
	gEv’tT¬g‘
::
»moveAÎEv’tLi¡’”s
()

335 
Ev’tT¬g‘D©a
* 
d
 = 
ev’tT¬g‘D©a
();

336 ià(!
	gd
)

338 
d–‘eAÎV®ues
(
d
->
ev’tLi¡’”M­
);

339 
	gd
->
	gev’tLi¡’”M­
.
ş—r
();

343 
size_t
 
	gi
 = 0; i < 
	gd
->
	gfœšgEv’tI‹¿tÜs
.
size
(); ++i) {

344 
	gd
->
	gfœšgEv’tI‹¿tÜs
[
i
].
	g™”©Ü
 = 0;

345 
	gd
->
	gfœšgEv’tI‹¿tÜs
[
i
].
	g’d
 = 0;

	@EventTarget.h

32 #iâdeà
Ev’tT¬g‘_h


33 
	#Ev’tT¬g‘_h


	)

35 
	~"AtomicSŒšgHash.h
"

36 
	~"Ev’tNames.h
"

37 
	~"Regi¡”edEv’tLi¡’”.h
"

38 
	~<wtf/FÜw¬d.h
>

39 
	~<wtf/HashM­.h
>

41 
Çme¥aû
 
	gWebCÜe
 {

43 
şass
 
	gAb¡¿ùWÜk”
;

44 
şass
 
	gAtomicSŒšg
;

45 
şass
 
	gDediÿ‹dWÜk”CÚ‹xt
;

46 
şass
 
	gDOMAµliÿtiÚCache
;

47 
şass
 
	gDOMWšdow
;

48 
şass
 
	gEv’t
;

49 
şass
 
	gEv’tLi¡’”
;

50 
şass
 
	gEv’tSourû
;

51 
şass
 
	gMes§gePÜt
;

52 
şass
 
	gNode
;

53 
şass
 
	gNÙifiÿtiÚ
;

54 
şass
 
	gSVGEËm’tIn¡ªû
;

55 
şass
 
	gSütExecutiÚCÚ‹xt
;

56 
şass
 
	gSh¬edWÜk”
;

57 
şass
 
	gSh¬edWÜk”CÚ‹xt
;

58 
şass
 
	gWebSock‘
;

59 
şass
 
	gWÜk”
;

60 
şass
 
	gXMLH‰pReque¡
;

61 
şass
 
	gXMLH‰pReque¡U¶ßd
;

63 
	tExû±iÚCode
;

65 
	sFœšgEv’tI‹¿tÜ
 {

66 
FœšgEv’tI‹¿tÜ
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
size_t
& 
™”©Ü
, size_t& 
’d
)

67 : 
ev’tTy³
(eventType)

68 , 
™”©Ü
(iterator)

69 , 
’d
(end)

73 cÚ¡ 
	gAtomicSŒšg
& 
	gev’tTy³
;

74 
	gsize_t
& 
	g™”©Ü
;

75 
	gsize_t
& 
	g’d
;

77 
	gVeùÜ
<
	tFœšgEv’tI‹¿tÜ
, 1> 
	tFœšgEv’tI‹¿tÜVeùÜ
;

79 
	gVeùÜ
<
	tRegi¡”edEv’tLi¡’”
, 1> 
	tEv’tLi¡’”VeùÜ
;

80 
	gHashM­
<
	tAtomicSŒšg
, 
	tEv’tLi¡’”VeùÜ
*> 
	tEv’tLi¡’”M­
;

82 
	gEv’tT¬g‘D©a
 : 
NÚcİyabË
 {

83 ~
Ev’tT¬g‘D©a
();

85 
Ev’tLi¡’”M­
 
	gev’tLi¡’”M­
;

86 
FœšgEv’tI‹¿tÜVeùÜ
 
	gfœšgEv’tI‹¿tÜs
;

89 şas 
	cEv’tT¬g‘
 {

90 
	gpublic
:

91 
»f
(è{ 
»fEv’tT¬g‘
(); }

92 
d”ef
(è{ 
d”efEv’tT¬g‘
(); }

94 
vœtu®
 
Ev’tSourû
* 
toEv’tSourû
();

95 
vœtu®
 
Mes§gePÜt
* 
toMes§gePÜt
();

96 
vœtu®
 
Node
* 
toNode
();

97 
vœtu®
 
DOMWšdow
* 
toDOMWšdow
();

98 
vœtu®
 
XMLH‰pReque¡
* 
toXMLH‰pReque¡
();

99 
vœtu®
 
XMLH‰pReque¡U¶ßd
* 
toXMLH‰pReque¡U¶ßd
();

100 #ià
ENABLE
(
OFFLINE_WEB_APPLICATIONS
)

101 
vœtu®
 
DOMAµliÿtiÚCache
* 
toDOMAµliÿtiÚCache
();

103 #ià
ENABLE
(
SVG
)

104 
vœtu®
 
SVGEËm’tIn¡ªû
* 
toSVGEËm’tIn¡ªû
();

106 #ià
ENABLE
(
WORKERS
)

107 
vœtu®
 
WÜk”
* 
toWÜk”
();

108 
vœtu®
 
Dediÿ‹dWÜk”CÚ‹xt
* 
toDediÿ‹dWÜk”CÚ‹xt
();

110 #ià
ENABLE
(
SHARED_WORKERS
)

111 
vœtu®
 
Sh¬edWÜk”
* 
toSh¬edWÜk”
();

112 
vœtu®
 
Sh¬edWÜk”CÚ‹xt
* 
toSh¬edWÜk”CÚ‹xt
();

114 #ià
ENABLE
(
WEB_SOCKETS
)

115 
vœtu®
 
WebSock‘
* 
toWebSock‘
();

118 #ià
ENABLE
(
NOTIFICATIONS
)

119 
vœtu®
 
NÙifiÿtiÚ
* 
toNÙifiÿtiÚ
();

122 
vœtu®
 
SütExecutiÚCÚ‹xt
* 
sütExecutiÚCÚ‹xt
() const = 0;

124 
vœtu®
 
boŞ
 
addEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
>, boŞ 
u£C­tu»
);

125 
vœtu®
 
boŞ
 
»moveEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Ev’tLi¡’”
*, boŞ 
u£C­tu»
);

126 
vœtu®
 
»moveAÎEv’tLi¡’”s
();

127 
vœtu®
 
boŞ
 
di¥©chEv’t
(
PassRefPŒ
<
Ev’t
>);

128 
boŞ
 
di¥©chEv’t
(
PassRefPŒ
<
Ev’t
>, 
Exû±iÚCode
&);

131 
boŞ
 
£tA‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
>);

132 
boŞ
 
ş—rA‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
);

133 
Ev’tLi¡’”
* 
g‘A‰ribu‹Ev’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
);

135 
boŞ
 
hasEv’tLi¡’”s
();

136 
boŞ
 
hasEv’tLi¡’”s
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
);

137 cÚ¡ 
	gEv’tLi¡’”VeùÜ
& 
g‘Ev’tLi¡’”s
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
);

139 
boŞ
 
fœeEv’tLi¡’”s
(
Ev’t
*);

140 
boŞ
 
isFœšgEv’tLi¡’”s
();

142 #ià
USE
(
JSC
)

143 
m¬kJSEv’tLi¡’”s
(
JSC
::
M¬kSck
&);

144 
šv®id©eJSEv’tLi¡’”s
(
JSC
::
JSObjeù
*);

147 
	g´Ùeùed
:

148 
vœtu®
 ~
Ev’tT¬g‘
();

150 
vœtu®
 
Ev’tT¬g‘D©a
* 
ev’tT¬g‘D©a
() = 0;

151 
vœtu®
 
Ev’tT¬g‘D©a
* 
’su»Ev’tT¬g‘D©a
() = 0;

153 
	g´iv©e
:

154 
vœtu®
 
»fEv’tT¬g‘
() = 0;

155 
vœtu®
 
d”efEv’tT¬g‘
() = 0;

157 
fœeEv’tLi¡’”s
(
Ev’t
*, 
Ev’tT¬g‘D©a
*, 
Ev’tLi¡’”VeùÜ
&);

160 
	#DEFINE_ATTRIBUTE_EVENT_LISTENER
(
©Œibu‹
) \

161 
Ev’tLi¡’”
* 
Ú
##
	$©Œibu‹
(è{  
	`g‘A‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
©Œibu‹
##
Ev’t
); 
	}
} \

162 
£tOn
##
	`©Œibu‹
(
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
è{ 
	`£tA‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
©Œibu‹
##
Ev’t
,†istener); } \

163 

	)

164 
	#DEFINE_VIRTUAL_ATTRIBUTE_EVENT_LISTENER
(
©Œibu‹
) \

165 
vœtu®
 
Ev’tLi¡’”
* 
Ú
##
	$©Œibu‹
(è{  
	`g‘A‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
©Œibu‹
##
Ev’t
); 
	}
} \

166 
vœtu®
 
£tOn
##
	`©Œibu‹
(
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
è{ 
	`£tA‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
©Œibu‹
##
Ev’t
,†istener); } \

167 

	)

168 
	#DEFINE_WINDOW_ATTRIBUTE_EVENT_LISTENER
(
©Œibu‹
) \

169 
Ev’tLi¡’”
* 
Ú
##
	$©Œibu‹
(è{  
	`docum’t
()->
	`g‘WšdowA‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
©Œibu‹
##
Ev’t
); 
	}
} \

170 
£tOn
##
	`©Œibu‹
(
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
è{ 
	`docum’t
()->
	`£tWšdowA‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
©Œibu‹
##
Ev’t
,†istener); } \

171 

	)

172 
	#DEFINE_MAPPED_ATTRIBUTE_EVENT_LISTENER
(
©Œibu‹
, 
ev’tName
) \

173 
Ev’tLi¡’”
* 
Ú
##
	$©Œibu‹
(è{  
	`g‘A‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
ev’tName
##
Ev’t
); 
	}
} \

174 
£tOn
##
	`©Œibu‹
(
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
è{ 
	`£tA‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
ev’tName
##
Ev’t
,†istener); } \

175 

	)

176 
	#DEFINE_FORWARDING_ATTRIBUTE_EVENT_LISTENER
(
»c›Á
, 
©Œibu‹
) \

177 
Ev’tLi¡’”
* 
Ú
##
	$©Œibu‹
(è{  
»c›Á
 ?„ec›Á->
	`g‘A‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
©Œibu‹
##
Ev’t
è: 0; 
	}
} \

178 
£tOn
##
	`©Œibu‹
(
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
è{ ià(
»c›Á
è»c›Á->
	`£tA‰ribu‹Ev’tLi¡’”
(
	`ev’tNames
().
©Œibu‹
##
Ev’t
,†istener); } \

179 

	)

180 #iâdeà
NDEBUG


181 
fÜbidEv’tDi¥©ch
();

182 
®lowEv’tDi¥©ch
();

183 
boŞ
 
ev’tDi¥©chFÜbidd’
();

185 
šlše
 
	$fÜbidEv’tDi¥©ch
(è{ 
	}
}

186 
šlše
 
	$®lowEv’tDi¥©ch
(è{ 
	}
}

189 #ià
	$USE
(
JSC
)

190 
šlše
 
Ev’tT¬g‘
::
	`m¬kJSEv’tLi¡’”s
(
JSC
::
M¬kSck
& 
m¬kSck
)

192 
Ev’tT¬g‘D©a
* 
d
 = 
	`ev’tT¬g‘D©a
();

193 ià(!
d
)

196 
Ev’tLi¡’”M­
::
™”©Ü
 
’d
 = 
d
->
ev’tLi¡’”M­
.
	`’d
();

197 
Ev’tLi¡’”M­
::
™”©Ü
 
™
 = 
d
->
ev’tLi¡’”M­
.
	`begš
(); iˆ!ğ
’d
; ++it) {

198 
Ev’tLi¡’”VeùÜ
& 
’Œy
 = *
™
->
£cÚd
;

199 
size_t
 
i
 = 0; i < 
’Œy
.
	`size
(); ++i)

200 
’Œy
[
i
].
li¡’”
->
	`m¬kJSFunùiÚ
(
m¬kSck
);

202 
	}
}

204 
šlše
 
	gEv’tT¬g‘
::
šv®id©eJSEv’tLi¡’”s
(
JSC
::
JSObjeù
* 
w¿µ”
)

206 
Ev’tT¬g‘D©a
* 
d
 = 
ev’tT¬g‘D©a
();

207 ià(!
	gd
)

210 
	gEv’tLi¡’”M­
::
™”©Ü
 
’d
 = 
d
->
ev’tLi¡’”M­
.end();

211 
	gEv’tLi¡’”M­
::
™”©Ü
 
™
 = 
d
->
ev’tLi¡’”M­
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

212 
	gEv’tLi¡’”VeùÜ
& 
	g’Œy
 = *
™
->
£cÚd
;

213 
size_t
 
	gi
 = 0; i < 
	g’Œy
.
size
(); ++i)

214 
	g’Œy
[
i
].
	gli¡’”
->
šv®id©eJSFunùiÚ
(
w¿µ”
);

219 
šlše
 
boŞ
 
	gEv’tT¬g‘
::
	$isFœšgEv’tLi¡’”s
()

221 
Ev’tT¬g‘D©a
* 
d
 = 
	`ev’tT¬g‘D©a
();

222 ià(!
d
)

223  
çl£
;

224  
d
->
fœšgEv’tI‹¿tÜs
.
	`size
() != 0;

225 
	}
}

227 
šlše
 
boŞ
 
	gEv’tT¬g‘
::
	$hasEv’tLi¡’”s
()

229 
Ev’tT¬g‘D©a
* 
d
 = 
	`ev’tT¬g‘D©a
();

230 ià(!
d
)

231  
çl£
;

232  !
d
->
ev’tLi¡’”M­
.
	`isEm±y
();

233 
	}
}

235 
šlše
 
boŞ
 
	gEv’tT¬g‘
::
	$hasEv’tLi¡’”s
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
)

237 
Ev’tT¬g‘D©a
* 
d
 = 
	`ev’tT¬g‘D©a
();

238 ià(!
d
)

239  
çl£
;

240  
d
->
ev’tLi¡’”M­
.
	`cÚšs
(
ev’tTy³
);

241 
	}
}

	@ExceptionBase.cpp

29 
	~"cÚfig.h
"

30 
	~"Exû±iÚBa£.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 
	gExû±iÚBa£
::
Exû±iÚBa£
(cÚ¡ 
Exû±iÚCodeDesütiÚ
& 
desütiÚ
)

35 : 
m_code
(
desütiÚ
.
code
)

36 , 
m_Çme
(
desütiÚ
.
Çme
)

37 , 
m_desütiÚ
(
desütiÚ
.description)

39 ià(
	gdesütiÚ
.
	gÇme
)

40 
	gm_mes§ge
 = 
SŒšg
::
fÜm©
("%s: % Exû±iÚ %d", 
desütiÚ
.
Çme
, desütiÚ.
ty³Name
, desütiÚ.
code
);

42 
	gm_mes§ge
 = 
SŒšg
::
fÜm©
("% Exû±iÚ %d", 
desütiÚ
.
ty³Name
, desütiÚ.
code
);

45 
SŒšg
 
	gExû±iÚBa£
::
toSŒšg
() const

47  "E¼Ü: " + 
m_mes§ge
;

	@ExceptionBase.h

29 #iâdeà
Exû±iÚBa£_h


30 
	#Exû±iÚBa£_h


	)

32 
	~"Exû±iÚCode.h
"

33 
	~"PÏtfÜmSŒšg.h
"

34 
	~<wtf/RefCouÁed.h
>

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gExû±iÚBa£
 : 
public
 
RefCouÁed
<
Exû±iÚBa£
> {

39 
public
:

40 
code
(ècÚ¡ {  
m_code
; }

41 
SŒšg
 
Çme
(ècÚ¡ {  
	gm_Çme
; }

42 
SŒšg
 
mes§ge
(ècÚ¡ {  
	gm_mes§ge
; }

43 
SŒšg
 
desütiÚ
(ècÚ¡ {  
	gm_desütiÚ
; }

45 
SŒšg
 
toSŒšg
() const;

47 
	g´Ùeùed
:

48 
Exû±iÚBa£
(cÚ¡ 
Exû±iÚCodeDesütiÚ
&);

50 
	g´iv©e
:

51 
m_code
;

52 
SŒšg
 
	gm_Çme
;

53 
SŒšg
 
	gm_mes§ge
;

54 
SŒšg
 
	gm_desütiÚ
;

	@ExceptionCode.cpp

26 
	~"cÚfig.h
"

27 
	~"Exû±iÚCode.h
"

29 
	~"Ev’tExû±iÚ.h
"

30 
	~"RªgeExû±iÚ.h
"

31 
	~"XMLH‰pReque¡Exû±iÚ.h
"

33 #ià
ENABLE
(
SVG
)

34 
	~"SVGExû±iÚ.h
"

37 #ià
ENABLE
(
XPATH
)

38 
	~"XP©hExû±iÚ.h
"

41 
Çme¥aû
 
	gWebCÜe
 {

43 cÚ¡ * cÚ¡ 
	gexû±iÚNames
[] = {

68 cÚ¡ * cÚ¡ 
	gexû±iÚDesütiÚs
[] = {

94 cÚ¡ * cÚ¡ 
	g¿ngeExû±iÚNames
[] = {

99 cÚ¡ * cÚ¡ 
	g¿ngeExû±iÚDesütiÚs
[] = {

104 cÚ¡ * cÚ¡ 
	gev’tExû±iÚNames
[] = {

108 cÚ¡ * cÚ¡ 
	gev’tExû±iÚDesütiÚs
[] = {

112 cÚ¡ * cÚ¡ 
	gxmlH‰pReque¡Exû±iÚNames
[] = {

117 cÚ¡ * cÚ¡ 
	gxmlH‰pReque¡Exû±iÚDesütiÚs
[] = {

122 #ià
ENABLE
(
XPATH
)

123 cÚ¡ * cÚ¡ 
	gx·thExû±iÚNames
[] = {

128 cÚ¡ * cÚ¡ 
	gx·thExû±iÚDesütiÚs
[] = {

134 #ià
ENABLE
(
SVG
)

135 cÚ¡ * cÚ¡ 
	gsvgExû±iÚNames
[] = {

141 cÚ¡ * cÚ¡ 
	gsvgExû±iÚDesütiÚs
[] = {

148 
g‘Exû±iÚCodeDesütiÚ
(
Exû±iÚCode
 
ec
, 
Exû±iÚCodeDesütiÚ
& 
desütiÚ
)

150 
ASSERT
(
ec
);

152 cÚ¡ * 
	gty³Name
;

153 
	gcode
 = 
ec
;

154 cÚ¡ * cÚ¡* 
	gÇmeTabË
;

155 cÚ¡ * cÚ¡* 
	gdesütiÚTabË
;

156 
	gÇmeTabËSize
;

157 
	gÇmeTabËOff£t
;

158 
Exû±iÚTy³
 
	gty³
;

160 ià(
	gcode
 >ğ
RªgeExû±iÚ
::
RªgeExû±iÚOff£t
 && 
code
 <ğRªgeExû±iÚ::
RªgeExû±iÚMax
) {

161 
ty³
 = 
RªgeExû±iÚTy³
;

162 
	gty³Name
 = "DOM Range";

163 
	gcode
 -ğ
RªgeExû±iÚ
::
RªgeExû±iÚOff£t
;

164 
	gÇmeTabË
 = 
¿ngeExû±iÚNames
;

165 
	gdesütiÚTabË
 = 
¿ngeExû±iÚDesütiÚs
;

166 
	gÇmeTabËSize
 = (
¿ngeExû±iÚNames
) / (rangeExceptionNames[0]);

167 
	gÇmeTabËOff£t
 = 
RªgeExû±iÚ
::
BAD_BOUNDARYPOINTS_ERR
;

168 } ià(
	gcode
 >ğ
Ev’tExû±iÚ
::
Ev’tExû±iÚOff£t
 && 
code
 <ğEv’tExû±iÚ::
Ev’tExû±iÚMax
) {

169 
ty³
 = 
Ev’tExû±iÚTy³
;

170 
	gty³Name
 = "DOM Events";

171 
	gcode
 -ğ
Ev’tExû±iÚ
::
Ev’tExû±iÚOff£t
;

172 
	gÇmeTabË
 = 
ev’tExû±iÚNames
;

173 
	gdesütiÚTabË
 = 
ev’tExû±iÚDesütiÚs
;

174 
	gÇmeTabËSize
 = (
ev’tExû±iÚNames
) / (eventExceptionNames[0]);

175 
	gÇmeTabËOff£t
 = 
Ev’tExû±iÚ
::
UNSPECIFIED_EVENT_TYPE_ERR
;

176 } ià(
	gcode
 >ğ
XMLH‰pReque¡Exû±iÚ
::
XMLH‰pReque¡Exû±iÚOff£t
 && 
code
 <ğXMLH‰pReque¡Exû±iÚ::
XMLH‰pReque¡Exû±iÚMax
) {

177 
ty³
 = 
XMLH‰pReque¡Exû±iÚTy³
;

178 
	gty³Name
 = "XMLHttpRequest";

179 
	gcode
 -ğ
XMLH‰pReque¡Exû±iÚ
::
XMLH‰pReque¡Exû±iÚOff£t
;

180 
	gÇmeTabË
 = 
xmlH‰pReque¡Exû±iÚNames
;

181 
	gdesütiÚTabË
 = 
xmlH‰pReque¡Exû±iÚDesütiÚs
;

182 
	gÇmeTabËSize
 = (
xmlH‰pReque¡Exû±iÚNames
) / (xmlHttpRequestExceptionNames[0]);

184 
	gÇmeTabËOff£t
 = 
XMLH‰pReque¡Exû±iÚ
::
NETWORK_ERR
;

185 #ià
ENABLE
(
XPATH
)

186 } ià(
	gcode
 >ğ
XP©hExû±iÚ
::
XP©hExû±iÚOff£t
 && 
code
 <ğXP©hExû±iÚ::
XP©hExû±iÚMax
) {

187 
ty³
 = 
XP©hExû±iÚTy³
;

188 
	gty³Name
 = "DOM XPath";

189 
	gcode
 -ğ
XP©hExû±iÚ
::
XP©hExû±iÚOff£t
;

190 
	gÇmeTabË
 = 
x·thExû±iÚNames
;

191 
	gdesütiÚTabË
 = 
x·thExû±iÚDesütiÚs
;

192 
	gÇmeTabËSize
 = (
x·thExû±iÚNames
) / (xpathExceptionNames[0]);

194 
	gÇmeTabËOff£t
 = 
XP©hExû±iÚ
::
INVALID_EXPRESSION_ERR
;

196 #ià
ENABLE
(
SVG
)

197 } ià(
	gcode
 >ğ
SVGExû±iÚ
::
SVGExû±iÚOff£t
 && 
code
 <ğSVGExû±iÚ::
SVGExû±iÚMax
) {

198 
ty³
 = 
SVGExû±iÚTy³
;

199 
	gty³Name
 = "DOM SVG";

200 
	gcode
 -ğ
SVGExû±iÚ
::
SVGExû±iÚOff£t
;

201 
	gÇmeTabË
 = 
svgExû±iÚNames
;

202 
	gdesütiÚTabË
 = 
svgExû±iÚDesütiÚs
;

203 
	gÇmeTabËSize
 = (
svgExû±iÚNames
) / (svgExceptionNames[0]);

204 
	gÇmeTabËOff£t
 = 
SVGExû±iÚ
::
SVG_WRONG_TYPE_ERR
;

207 
	gty³
 = 
DOMExû±iÚTy³
;

208 
	gty³Name
 = "DOM";

209 
	gÇmeTabË
 = 
exû±iÚNames
;

210 
	gdesütiÚTabË
 = 
exû±iÚDesütiÚs
;

211 
	gÇmeTabËSize
 = (
exû±iÚNames
) / (exceptionNames[0]);

212 
	gÇmeTabËOff£t
 = 
INDEX_SIZE_ERR
;

215 
	gdesütiÚ
.
	gty³Name
 = 
ty³Name
;

216 
	gdesütiÚ
.
	gÇme
 = (
ec
 >ğ
ÇmeTabËOff£t
 &&ƒø-‚ameTabËOff£ˆ< 
ÇmeTabËSize
è? 
ÇmeTabË
[ec -‚ameTableOffset] : 0;

217 
	gdesütiÚ
.desütiÚ = (
ec
 >ğ
ÇmeTabËOff£t
 &&ƒø-‚ameTabËOff£ˆ< 
ÇmeTabËSize
è? 
desütiÚTabË
[ec -‚ameTableOffset] : 0;

218 
	gdesütiÚ
.
	gcode
 = 
code
;

219 
	gdesütiÚ
.
	gty³
 = 
ty³
;

222 
ASSERT
(
desütiÚ
.
Çme
);

223 
ASSERT
(
desütiÚ
.description);

	@ExceptionCode.h

19 #iâdeà
Exû±iÚCode_h


20 
	#Exû±iÚCode_h


	)

22 
Çme¥aû
 
	gWebCÜe
 {

28 
	tExû±iÚCode
;

31 
	gINDEX_SIZE_ERR
 = 1,

32 
	gDOMSTRING_SIZE_ERR
 = 2,

33 
	gHIERARCHY_REQUEST_ERR
 = 3,

34 
	gWRONG_DOCUMENT_ERR
 = 4,

35 
	gINVALID_CHARACTER_ERR
 = 5,

36 
	gNO_DATA_ALLOWED_ERR
 = 6,

37 
	gNO_MODIFICATION_ALLOWED_ERR
 = 7,

38 
	gNOT_FOUND_ERR
 = 8,

39 
	gNOT_SUPPORTED_ERR
 = 9,

40 
	gINUSE_ATTRIBUTE_ERR
 = 10,

43 
	gINVALID_STATE_ERR
 = 11,

44 
	gSYNTAX_ERR
 = 12,

45 
	gINVALID_MODIFICATION_ERR
 = 13,

46 
	gNAMESPACE_ERR
 = 14,

47 
	gINVALID_ACCESS_ERR
 = 15,

50 
	gVALIDATION_ERR
 = 16,

51 
	gTYPE_MISMATCH_ERR
 = 17,

54 
	gSECURITY_ERR
 = 18,

57 
	gNETWORK_ERR
 = 19,

58 
	gABORT_ERR
 = 20,

59 
	gURL_MISMATCH_ERR
 = 21,

60 
	gQUOTA_EXCEEDED_ERR
 = 22,

63 
	eExû±iÚTy³
 {

64 
	gDOMExû±iÚTy³
,

65 
	gRªgeExû±iÚTy³
,

66 
	gEv’tExû±iÚTy³
,

67 
	gXMLH‰pReque¡Exû±iÚTy³


68 #ià
ENABLE
(
XPATH
)

69 , 
	gXP©hExû±iÚTy³


71 #ià
ENABLE
(
SVG
)

72 , 
	gSVGExû±iÚTy³


77 
	sExû±iÚCodeDesütiÚ
 {

78 cÚ¡ * 
	gty³Name
;

79 cÚ¡ * 
	gÇme
;

80 cÚ¡ * 
	gdesütiÚ
;

81 
	gcode
;

82 
Exû±iÚTy³
 
	gty³
;

84 
g‘Exû±iÚCodeDesütiÚ
(
Exû±iÚCode
, 
Exû±iÚCodeDesütiÚ
&);

	@InputElement.cpp

21 
	~"cÚfig.h
"

22 
	~"IÅutEËm’t.h
"

24 
	~"BefÜeTextIn£¹edEv’t.h
"

25 
	~"Chrome.h
"

26 
	~"ChromeCl›Á.h
"

27 
	~"Docum’t.h
"

28 
	~"Ev’t.h
"

29 
	~"Ev’tNames.h
"

30 
	~"F¿me.h
"

31 
	~"HTMLIÅutEËm’t.h
"

32 
	~"HTMLNames.h
"

33 
	~"M­³dA‰ribu‹.h
"

34 
	~"Page.h
"

35 
	~"R’d”TextCÚŒŞSšgËLše.h
"

36 
	~"S–eùiÚCÚŒŞËr.h
"

37 
	~"TextI‹¿tÜ.h
"

39 #ià
ENABLE
(
WML
)

40 
	~"WMLIÅutEËm’t.h
"

41 
	~"WMLNames.h
"

44 
Çme¥aû
 
	gWebCÜe
 {

46 
usšg
 
Çme¥aû
 
	gHTMLNames
;

52 cÚ¡ 
	gIÅutEËm’t
::
s_maximumL’gth
 = 524288;

53 cÚ¡ 
	gIÅutEËm’t
::
s_deçuÉSize
 = 20;

55 
	gIÅutEËm’t
::
di¥©chFocusEv’t
(
IÅutEËm’t
* 
šputEËm’t
, 
EËm’t
* 
–em’t
)

57 ià(!
	gšputEËm’t
->
isTextF›ld
())

60 
Docum’t
* 
	gdocum’t
 = 
–em’t
->
docum’t
();

61 ià(
	gšputEËm’t
->
isPasswÜdF›ld
(è&& 
	gdocum’t
->
äame
())

62 
	gdocum’t
->
£tU£Secu»KeybßrdEÁryWh’Aùive
(
Œue
);

65 
	gIÅutEËm’t
::
di¥©chBlurEv’t
(
IÅutEËm’t
* 
šputEËm’t
, 
EËm’t
* 
–em’t
)

67 ià(!
	gšputEËm’t
->
isTextF›ld
())

70 
Docum’t
* 
	gdocum’t
 = 
–em’t
->
docum’t
();

71 
F¿me
* 
	gäame
 = 
docum’t
->
äame
();

72 ià(!
	gäame
)

75 ià(
	gšputEËm’t
->
isPasswÜdF›ld
())

76 
	gdocum’t
->
£tU£Secu»KeybßrdEÁryWh’Aùive
(
çl£
);

78 
	gäame
->
‹xtF›ldDidEndEd™šg
(
–em’t
);

81 
	gIÅutEËm’t
::
upd©eFocusAµ—¿nû
(
IÅutEËm’tD©a
& 
d©a
, 
IÅutEËm’t
* 
šputEËm’t
, 
EËm’t
* 
–em’t
, 
boŞ
 
»¡ÜeP»viousS–eùiÚ
)

83 
ASSERT
(
šputEËm’t
->
isTextF›ld
());

85 ià(!
	g»¡ÜeP»viousS–eùiÚ
 || 
	gd©a
.
ÿchedS–eùiÚS¹
() == -1)

86 
šputEËm’t
->
£Ëù
();

89 
upd©eS–eùiÚRªge
(
šputEËm’t
, 
–em’t
, 
d©a
.
ÿchedS–eùiÚS¹
(), d©a.
ÿchedS–eùiÚEnd
());

91 
Docum’t
* 
	gdocum’t
 = 
–em’t
->
docum’t
();

92 ià(
	gdocum’t
 && docum’t->
äame
())

93 
	gdocum’t
->
äame
()->
»v—lS–eùiÚ
();

96 
	gIÅutEËm’t
::
upd©eS–eùiÚRªge
(
IÅutEËm’t
* 
šputEËm’t
, 
EËm’t
* 
–em’t
, 
¡¬t
, 
’d
)

98 ià(!
	gšputEËm’t
->
isTextF›ld
())

101 
	g–em’t
->
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

103 ià(
R’d”TextCÚŒŞ
* 
	g»nd””
 = 
toR’d”TextCÚŒŞ
(
–em’t
->
»nd””
()))

104 
»nd””
->
£tS–eùiÚRªge
(
¡¬t
, 
’d
);

107 
	gIÅutEËm’t
::
aboutToUÆßd
(
IÅutEËm’t
* 
šputEËm’t
, 
EËm’t
* 
–em’t
)

109 ià(!
	gšputEËm’t
->
isTextF›ld
(è|| !
	g–em’t
->
focu£d
())

112 
Docum’t
* 
	gdocum’t
 = 
–em’t
->
docum’t
();

113 
F¿me
* 
	gäame
 = 
docum’t
->
äame
();

114 ià(!
	gäame
)

117 
	gäame
->
‹xtF›ldDidEndEd™šg
(
–em’t
);

120 
	gIÅutEËm’t
::
£tV®ueFromR’d””
(
IÅutEËm’tD©a
& 
d©a
, 
IÅutEËm’t
* 
šputEËm’t
, 
EËm’t
* 
–em’t
, cÚ¡ 
SŒšg
& 
v®ue
)

123 
ASSERT_UNUSED
(
šputEËm’t
, 
v®ue
 =ğšputEËm’t->
§n™izeV®ue
(v®ueè|| iÅutEËm’t->§n™izeV®ue(v®ue).
isEm±y
());

128 ià(
	gv®ue
 == "\n")

129 
d©a
.
£tV®ue
("");

131 
	gd©a
.
£tV®ue
(
v®ue
);

133 
	g–em’t
->
£tFÜmCÚŒŞV®ueM©chesR’d””
(
Œue
);

135 
	g–em’t
->
di¥©chEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
šputEv’t
, 
Œue
, 
çl£
));

136 
nÙifyFÜmS‹Chªged
(
–em’t
);

139 
SŒšg
 
	gIÅutEËm’t
::
§n™izeV®ue
(cÚ¡ 
IÅutEËm’t
* 
šputEËm’t
, cÚ¡ SŒšg& 
´İo£dV®ue
)

141  
	gIÅutEËm’t
::
§n™izeU£rIÅutV®ue
(
šputEËm’t
, 
´İo£dV®ue
, 
s_maximumL’gth
);

144 
SŒšg
 
	gIÅutEËm’t
::
§n™izeU£rIÅutV®ue
(cÚ¡ 
IÅutEËm’t
* 
šputEËm’t
, cÚ¡ SŒšg& 
´İo£dV®ue
, 
maxL’gth
)

146 ià(!
	gšputEËm’t
->
isTextF›ld
())

147  
	g´İo£dV®ue
;

149 
SŒšg
 
	g¡ršg
 = 
´İo£dV®ue
;

150 
	g¡ršg
.
»¶aû
("\r\n", " ");

151 
	g¡ršg
.
»¶aû
('\r', ' ');

152 
	g¡ršg
.
»¶aû
('\n', ' ');

154 
	gÃwL’gth
 = 
numCh¬aù”sInG¿phemeClu¡”s
(
¡ršg
, 
maxL’gth
);

155 
	gi
 = 0; i < 
	gÃwL’gth
; ++i) {

156 cÚ¡ 
UCh¬
 
	gcu¼’t
 = 
¡ršg
[
i
];

157 ià(
	gcu¼’t
 < ' ' && current != '\t') {

158 
ÃwL’gth
 = 
i
;

162  
	g¡ršg
.
Ëá
(
ÃwL’gth
);

165 
	gIÅutEËm’t
::
hªdËBefÜeTextIn£¹edEv’t
(
IÅutEËm’tD©a
& 
d©a
, 
IÅutEËm’t
* 
šputEËm’t
, 
EËm’t
* 
–em’t
, 
Ev’t
* 
ev’t
)

167 
ASSERT
(
ev’t
->
isBefÜeTextIn£¹edEv’t
());

173 
	gŞdL’gth
 = 
numG¿phemeClu¡”s
(
toR’d”TextCÚŒŞSšgËLše
(
–em’t
->
»nd””
())->
‹xt
());

176 
	g£ËùiÚL’gth
 = 
numG¿phemeClu¡”s
(
¶ašText
(
–em’t
->
docum’t
()->
äame
()->
£ËùiÚ
()->£ËùiÚ().
toNÜm®izedRªge
().
g‘
()));

177 
ASSERT
(
ŞdL’gth
 >ğ
£ËùiÚL’gth
);

180 
	gba£L’gth
 = 
ŞdL’gth
 - 
£ËùiÚL’gth
;

181 
	gmaxL’gth
 = 
¡©ic_ÿ¡
<>(
d©a
.
maxL’gth
());

182 
	g­³ndabËL’gth
 = 
maxL’gth
 > 
ba£L’gth
 ? maxLength - baseLength : 0;

185 
BefÜeTextIn£¹edEv’t
* 
	g‹xtEv’t
 = 
¡©ic_ÿ¡
<BefÜeTextIn£¹edEv’t*>(
ev’t
);

186 
	g‹xtEv’t
->
£tText
(
§n™izeU£rIÅutV®ue
(
šputEËm’t
, 
‹xtEv’t
->
‹xt
(), 
­³ndabËL’gth
));

189 
	gIÅutEËm’t
::
·r£SizeA‰ribu‹
(
IÅutEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
M­³dA‰ribu‹
* 
©Œibu‹
)

191 
	gd©a
.
£tSize
(
©Œibu‹
->
isNuÎ
(è? 
IÅutEËm’t
::
s_deçuÉSize
 :‡‰ribu‹->
v®ue
().
toIÁ
());

193 ià(
R’d”Objeù
* 
	g»nd””
 = 
–em’t
->
»nd””
())

194 
»nd””
->
£tN“dsLayoutAndP»fWidthsReÿlc
();

197 
	gIÅutEËm’t
::
·r£MaxL’gthA‰ribu‹
(
IÅutEËm’tD©a
& 
d©a
, 
IÅutEËm’t
* 
šputEËm’t
, 
EËm’t
* 
–em’t
, 
M­³dA‰ribu‹
* 
©Œibu‹
)

199 
	gmaxL’gth
 = 
©Œibu‹
->
isNuÎ
(è? 
IÅutEËm’t
::
s_maximumL’gth
 :‡‰ribu‹->
v®ue
().
toIÁ
();

200 ià(
	gmaxL’gth
 <ğ0 || 
maxL’gth
 > 
IÅutEËm’t
::
s_maximumL’gth
)

201 
maxL’gth
 = 
IÅutEËm’t
::
s_maximumL’gth
;

203 
	gŞdMaxL’gth
 = 
d©a
.
maxL’gth
();

204 
	gd©a
.
£tMaxL’gth
(
maxL’gth
);

206 ià(
	gŞdMaxL’gth
 !ğ
maxL’gth
)

207 
upd©eV®ueIfN“ded
(
d©a
, 
šputEËm’t
);

209 
	g–em’t
->
£tN“dsStyËReÿlc
();

212 
	gIÅutEËm’t
::
upd©eV®ueIfN“ded
(
IÅutEËm’tD©a
& 
d©a
, 
IÅutEËm’t
* 
šputEËm’t
)

214 
SŒšg
 
	gŞdV®ue
 = 
d©a
.
v®ue
();

215 
SŒšg
 
	gÃwV®ue
 = 
§n™izeV®ue
(
šputEËm’t
, 
ŞdV®ue
);

216 ià(
	gÃwV®ue
 !ğ
ŞdV®ue
)

217 
šputEËm’t
->
£tV®ue
(
ÃwV®ue
);

220 
	gIÅutEËm’t
::
nÙifyFÜmS‹Chªged
(
EËm’t
* 
–em’t
)

222 
Docum’t
* 
docum’t
 = 
–em’t
->document();

223 
F¿me
* 
	gäame
 = 
docum’t
->
äame
();

224 ià(!
	gäame
)

227 ià(
Page
* 
	g·ge
 = 
äame
->
·ge
())

228 
·ge
->
chrome
()->
ş›Á
()->
fÜmS‹DidChªge
(
–em’t
);

232 
	gIÅutEËm’tD©a
::
IÅutEËm’tD©a
()

233 : 
m_size
(
IÅutEËm’t
::
s_deçuÉSize
)

234 , 
m_maxL’gth
(
IÅutEËm’t
::
s_maximumL’gth
)

235 , 
m_ÿchedS–eùiÚS¹
(-1)

236 , 
m_ÿchedS–eùiÚEnd
(-1)

240 cÚ¡ 
	gAtomicSŒšg
& 
	gIÅutEËm’tD©a
::
Çme
() const

242  
m_Çme
.
isNuÎ
(è? 
em±yAtom
 : m_name;

245 
IÅutEËm’t
* 
toIÅutEËm’t
(
EËm’t
* 
–em’t
)

247 ià(
	g–em’t
->
isHTMLEËm’t
(è&& (–em’t->
hasTagName
(
šputTag
è||ƒËm’t->hasTagName(
isšdexTag
)))

248  
	g¡©ic_ÿ¡
<
	gHTMLIÅutEËm’t
*>(
	g–em’t
);

250 #ià
ENABLE
(
WML
)

251 ià(
	g–em’t
->
isWMLEËm’t
(è&&ƒËm’t->
hasTagName
(
WMLNames
::
šputTag
))

252  
¡©ic_ÿ¡
<
WMLIÅutEËm’t
*>(
–em’t
);

	@InputElement.h

21 #iâdeà
IÅutEËm’t_h


22 
	#IÅutEËm’t_h


	)

24 
	~"AtomicSŒšg.h
"

25 
	~"PÏtfÜmSŒšg.h
"

27 
Çme¥aû
 
	gWebCÜe
 {

29 
şass
 
	gDocum’t
;

30 
şass
 
	gEËm’t
;

31 
şass
 
	gEv’t
;

32 
şass
 
	gIÅutEËm’tD©a
;

33 
şass
 
	gM­³dA‰ribu‹
;

35 şas 
	cIÅutEËm’t
 {

36 
	gpublic
:

37 
vœtu®
 ~
IÅutEËm’t
() { }

39 
vœtu®
 
boŞ
 
isAutofËd
() const = 0;

40 
vœtu®
 
boŞ
 
isChecked
() const = 0;

41 
vœtu®
 
boŞ
 
isInd‘”mš©e
() const = 0;

42 
vœtu®
 
boŞ
 
isIÅutTy³Hidd’
() const = 0;

43 
vœtu®
 
boŞ
 
isPasswÜdF›ld
() const = 0;

44 
vœtu®
 
boŞ
 
isS—rchF›ld
() const = 0;

45 
vœtu®
 
boŞ
 
isTextF›ld
() const = 0;

47 
vœtu®
 
boŞ
 
£¬chEv’tsShouldBeDi¥©ched
() const = 0;

49 
vœtu®
 
size
() const = 0;

50 
vœtu®
 cÚ¡ 
	gSŒšg
& 
sugge¡edV®ue
() const = 0;

51 
vœtu®
 
SŒšg
 
v®ue
() const = 0;

52 
vœtu®
 
£tV®ue
(cÚ¡ 
SŒšg
&, 
boŞ
 
£ndChªgeEv’t
 = 
çl£
) = 0;

53 
vœtu®
 
£tV®ueFÜU£r
(cÚ¡ 
SŒšg
&) = 0;

55 
vœtu®
 
SŒšg
 
§n™izeV®ue
(const String&) const = 0;

56 
vœtu®
 
£tV®ueFromR’d””
(cÚ¡ 
SŒšg
&) = 0;

58 
vœtu®
 
ÿcheS–eùiÚ
(
¡¬t
, 
’d
) = 0;

59 
vœtu®
 
£Ëù
() = 0;

61 cÚ¡ 
	gs_maximumL’gth
;

62 cÚ¡ 
	gs_deçuÉSize
;

64 
	g´Ùeùed
:

65 
di¥©chFocusEv’t
(
IÅutEËm’t
*, 
EËm’t
*);

66 
di¥©chBlurEv’t
(
IÅutEËm’t
*, 
EËm’t
*);

67 
upd©eFocusAµ—¿nû
(
IÅutEËm’tD©a
&, 
IÅutEËm’t
*, 
EËm’t
*, 
boŞ
 
»¡ÜeP»viousS–eùiÚ
);

68 
upd©eS–eùiÚRªge
(
IÅutEËm’t
*, 
EËm’t
*, 
¡¬t
, 
’d
);

69 
aboutToUÆßd
(
IÅutEËm’t
*, 
EËm’t
*);

70 
£tV®ueFromR’d””
(
IÅutEËm’tD©a
&, 
IÅutEËm’t
*, 
EËm’t
*, cÚ¡ 
SŒšg
&);

73 
SŒšg
 
§n™izeV®ue
(cÚ¡ 
IÅutEËm’t
*, const String&);

76 
SŒšg
 
§n™izeU£rIÅutV®ue
(cÚ¡ 
IÅutEËm’t
*, const String&, );

77 
hªdËBefÜeTextIn£¹edEv’t
(
IÅutEËm’tD©a
&, 
IÅutEËm’t
*, 
EËm’t
*, 
Ev’t
*);

78 
·r£SizeA‰ribu‹
(
IÅutEËm’tD©a
&, 
EËm’t
*, 
M­³dA‰ribu‹
*);

79 
·r£MaxL’gthA‰ribu‹
(
IÅutEËm’tD©a
&, 
IÅutEËm’t
*, 
EËm’t
*, 
M­³dA‰ribu‹
*);

80 
upd©eV®ueIfN“ded
(
IÅutEËm’tD©a
&, 
IÅutEËm’t
*);

81 
nÙifyFÜmS‹Chªged
(
EËm’t
*);

86 şas 
	cIÅutEËm’tD©a
 {

87 
	gpublic
:

88 
IÅutEËm’tD©a
();

90 cÚ¡ 
	gAtomicSŒšg
& 
Çme
() const;

91 
£tName
(cÚ¡ 
AtomicSŒšg
& 
v®ue
è{ 
	gm_Çme
 = value; }

93 
SŒšg
 
v®ue
(ècÚ¡ {  
	gm_v®ue
; }

94 
£tV®ue
(cÚ¡ 
SŒšg
& 
v®ue
è{ 
	gm_v®ue
 = value; }

96 cÚ¡ 
	gSŒšg
& 
sugge¡edV®ue
(ècÚ¡ {  
	gm_sugge¡edV®ue
; }

97 
£tSugge¡edV®ue
(cÚ¡ 
SŒšg
& 
v®ue
è{ 
	gm_sugge¡edV®ue
 = value; }

99 
size
(ècÚ¡ {  
	gm_size
; }

100 
£tSize
(
v®ue
è{ 
	gm_size
 = value; }

102 
maxL’gth
(ècÚ¡ {  
	gm_maxL’gth
; }

103 
£tMaxL’gth
(
v®ue
è{ 
	gm_maxL’gth
 = value; }

105 
ÿchedS–eùiÚS¹
(ècÚ¡ {  
	gm_ÿchedS–eùiÚS¹
; }

106 
£tCachedS–eùiÚS¹
(
v®ue
è{ 
	gm_ÿchedS–eùiÚS¹
 = value; }

108 
ÿchedS–eùiÚEnd
(ècÚ¡ {  
	gm_ÿchedS–eùiÚEnd
; }

109 
£tCachedS–eùiÚEnd
(
v®ue
è{ 
	gm_ÿchedS–eùiÚEnd
 = value; }

111 
	g´iv©e
:

112 
AtomicSŒšg
 
m_Çme
;

113 
SŒšg
 
	gm_v®ue
;

114 
SŒšg
 
	gm_sugge¡edV®ue
;

115 
	gm_size
;

116 
	gm_maxL’gth
;

117 
	gm_ÿchedS–eùiÚS¹
;

118 
	gm_ÿchedS–eùiÚEnd
;

121 
IÅutEËm’t
* 
toIÅutEËm’t
(
EËm’t
*);

	@KeyboardEvent.cpp

23 
	~"cÚfig.h
"

24 
	~"KeybßrdEv’t.h
"

26 
	~"Docum’t.h
"

27 
	~"DOMWšdow.h
"

28 
	~"Ev’tNames.h
"

29 
	~"Ev’tHªdËr.h
"

30 
	~"F¿me.h
"

31 
	~"PÏtfÜmKeybßrdEv’t.h
"

32 
	~"S‘tšgs.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
šlše
 cÚ¡ 
	gAtomicSŒšg
& 
ev’tTy³FÜKeybßrdEv’tTy³
(
PÏtfÜmKeybßrdEv’t
::
Ty³
 
ty³
)

38 
ty³
) {

39 
PÏtfÜmKeybßrdEv’t
::
KeyUp
:

40  
ev’tNames
().
keyupEv’t
;

41 
	gPÏtfÜmKeybßrdEv’t
::
RawKeyDown
:

42  
ev’tNames
().
keydownEv’t
;

43 
	gPÏtfÜmKeybßrdEv’t
::
Ch¬
:

44  
ev’tNames
().
key´essEv’t
;

45 
	gPÏtfÜmKeybßrdEv’t
::
KeyDown
:

49 
ASSERT_NOT_REACHED
();

50  
ev’tNames
().
	gkeydownEv’t
;

53 
	gKeybßrdEv’t
::
KeybßrdEv’t
()

54 : 
m_keyEv’t
(0)

55 , 
m_keyLoÿtiÚ
(
DOM_KEY_LOCATION_STANDARD
)

56 , 
m_®tG¿phKey
(
çl£
)

60 
	gKeybßrdEv’t
::
KeybßrdEv’t
(cÚ¡ 
PÏtfÜmKeybßrdEv’t
& 
key
, 
Ab¡¿ùV›w
* 
v›w
)

61 : 
UIEv’tW™hKeyS‹
(
ev’tTy³FÜKeybßrdEv’tTy³
(
key
.
ty³
()),

62 
Œue
,rue, 
v›w
, 0, 
key
.
ù¾Key
(), key.
®tKey
(), key.
shiáKey
(), key.
m‘aKey
())

63 , 
m_keyEv’t
(
Ãw
 
PÏtfÜmKeybßrdEv’t
(
key
))

64 , 
m_keyId’tif›r
(
key
.
keyId’tif›r
())

65 , 
m_keyLoÿtiÚ
(
key
.
isKey·d
(è? 
DOM_KEY_LOCATION_NUMPAD
 : 
DOM_KEY_LOCATION_STANDARD
)

66 , 
m_®tG¿phKey
(
çl£
)

70 
	gKeybßrdEv’t
::
KeybßrdEv’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
Ab¡¿ùV›w
 *
v›w
,

71 cÚ¡ 
SŒšg
 &
keyId’tif›r
, 
keyLoÿtiÚ
,

72 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
, boŞ 
®tG¿phKey
)

73 : 
UIEv’tW™hKeyS‹
(
ev’tTy³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 0, 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
)

74 , 
m_keyEv’t
(0)

75 , 
m_keyId’tif›r
(
keyId’tif›r
)

76 , 
m_keyLoÿtiÚ
(
keyLoÿtiÚ
)

77 , 
m_®tG¿phKey
(
®tG¿phKey
)

81 
	gKeybßrdEv’t
::~
KeybßrdEv’t
()

85 
KeybßrdEv’t
::
š™KeybßrdEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
Ab¡¿ùV›w
* 
v›w
,

86 cÚ¡ 
SŒšg
 &
keyId’tif›r
, 
keyLoÿtiÚ
,

87 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
, boŞ 
®tG¿phKey
)

89 ià(
di¥©ched
())

92 
š™UIEv’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 0);

94 
	gm_keyId’tif›r
 = 
keyId’tif›r
;

95 
	gm_keyLoÿtiÚ
 = 
keyLoÿtiÚ
;

96 
	gm_ù¾Key
 = 
ù¾Key
;

97 
	gm_shiáKey
 = 
shiáKey
;

98 
	gm_®tKey
 = 
®tKey
;

99 
	gm_m‘aKey
 = 
m‘aKey
;

100 
	gm_®tG¿phKey
 = 
®tG¿phKey
;

103 
boŞ
 
	gKeybßrdEv’t
::
g‘Modif›rS‹
(cÚ¡ 
SŒšg
& 
keyId’tif›r
) const

105 ià(
keyId’tif›r
 == "Control")

106  
ù¾Key
();

107 ià(
	gkeyId’tif›r
 == "Shift")

108  
shiáKey
();

109 ià(
	gkeyId’tif›r
 == "Alt")

110  
®tKey
();

111 ià(
	gkeyId’tif›r
 == "Meta")

112  
m‘aKey
();

113  
	gçl£
;

116 
	gKeybßrdEv’t
::
keyCode
() const

121 ià(!
m_keyEv’t
)

123 ià(
ty³
(è=ğ
ev’tNames
().
keydownEv’t
 ||y³(è=ğev’tNames().
keyupEv’t
)

124  
m_keyEv’t
->
wšdowsVœtu®KeyCode
();

125  
ch¬Code
();

128 
	gKeybßrdEv’t
::
ch¬Code
() const

133 
boŞ
 
backw¬dCom·tib™yMode
 = 
çl£
;

134 ià(
v›w
())

135 
	gbackw¬dCom·tib™yMode
 = 
v›w
()->
äame
()->
ev’tHªdËr
()->
ÃedsKeybßrdEv’tDi§mbigu©iÚQuœks
();

137 ià(!
	gm_keyEv’t
 || (
ty³
(è!ğ
ev’tNames
().
key´essEv’t
 && !
backw¬dCom·tib™yMode
))

139 
SŒšg
 
	g‹xt
 = 
m_keyEv’t
->
‹xt
();

140  
	g¡©ic_ÿ¡
<>(
	g‹xt
.
ch¬aù”S¹šgAt
(0));

143 
boŞ
 
	gKeybßrdEv’t
::
isKeybßrdEv’t
() const

145  
Œue
;

148 
	gKeybßrdEv’t
::
which
() const

152  
keyCode
();

155 
KeybßrdEv’t
* 
fšdKeybßrdEv’t
(
Ev’t
* 
ev’t
)

157 
Ev’t
* 
	ge
 = 
ev’t
;ƒ;ƒ = 
e
->
und”lyšgEv’t
())

158 ià(
e
->
isKeybßrdEv’t
())

159  
¡©ic_ÿ¡
<
KeybßrdEv’t
*>(
e
);

	@KeyboardEvent.h

24 #iâdeà
KeybßrdEv’t_h


25 
	#KeybßrdEv’t_h


	)

27 
	~"UIEv’tW™hKeyS‹.h
"

28 
	~<wtf/VeùÜ.h
>

30 
Çme¥aû
 
	gWebCÜe
 {

32 
şass
 
	gPÏtfÜmKeybßrdEv’t
;

34 #ià
PLATFORM
(
MAC
)

35 
	sKey´essCommªd
 {

36 
Key´essCommªd
(cÚ¡ 
SŒšg
& 
commªdName
) : commandName(commandName) {}

37 
Key´essCommªd
(cÚ¡ 
SŒšg
& 
commªdName
, cÚ¡ SŒšg& 
‹xt
è: commªdName(commªdName),extÑextè{ 
ASSERT
(commandName == "insertText:"); }

39 
SŒšg
 
	gcommªdName
;

40 
SŒšg
 
	g‹xt
;

45 şas 
	cKeybßrdEv’t
 : 
public
 
UIEv’tW™hKeyS‹
 {

46 
public
:

47 
	eKeyLoÿtiÚCode
 {

48 
DOM_KEY_LOCATION_STANDARD
 = 0x00,

49 
	gDOM_KEY_LOCATION_LEFT
 = 0x01,

50 
	gDOM_KEY_LOCATION_RIGHT
 = 0x02,

51 
	gDOM_KEY_LOCATION_NUMPAD
 = 0x03

54 
	gPassRefPŒ
<
	gKeybßrdEv’t
> 
ü—‹
()

56  
adİtRef
(
Ãw
 
KeybßrdEv’t
);

58 
	gPassRefPŒ
<
	gKeybßrdEv’t
> 
ü—‹
(cÚ¡ 
PÏtfÜmKeybßrdEv’t
& 
¶©fÜmEv’t
, 
Ab¡¿ùV›w
* 
v›w
)

60  
adİtRef
(
Ãw
 
KeybßrdEv’t
(
¶©fÜmEv’t
, 
v›w
));

62 
	gPassRefPŒ
<
	gKeybßrdEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
Ab¡¿ùV›w
* 
v›w
,

63 cÚ¡ 
SŒšg
& 
keyId’tif›r
, 
keyLoÿtiÚ
,

64 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
, boŞ 
®tG¿phKey
)

66  
adİtRef
(
Ãw
 
KeybßrdEv’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 
keyId’tif›r
, 
keyLoÿtiÚ
,

67 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
, 
®tG¿phKey
));

69 
	gvœtu®
 ~
KeybßrdEv’t
();

71 
š™KeybßrdEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
Ab¡¿ùV›w
*,

72 cÚ¡ 
SŒšg
& 
keyId’tif›r
, 
keyLoÿtiÚ
,

73 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
, boŞ 
®tG¿phKey
 = 
çl£
);

75 
SŒšg
 
keyId’tif›r
(ècÚ¡ {  
	gm_keyId’tif›r
; }

76 
keyLoÿtiÚ
(ècÚ¡ {  
	gm_keyLoÿtiÚ
; }

78 
boŞ
 
g‘Modif›rS‹
(cÚ¡ 
SŒšg
& 
keyId’tif›r
) const;

80 
boŞ
 
®tG¿phKey
(ècÚ¡ {  
	gm_®tG¿phKey
; }

82 cÚ¡ 
PÏtfÜmKeybßrdEv’t
* 
keyEv’t
(ècÚ¡ {  
	gm_keyEv’t
.
g‘
(); }

84 
keyCode
() const;

85 
ch¬Code
() const;

87 
vœtu®
 
boŞ
 
isKeybßrdEv’t
() const;

88 
vœtu®
 
which
() const;

90 #ià
PLATFORM
(
MAC
)

92 
	gVeùÜ
<
	gKey´essCommªd
>& 
key´essCommªds
(è{  
	gm_key´essCommªds
; }

95 
	g´iv©e
:

96 
KeybßrdEv’t
();

97 
KeybßrdEv’t
(cÚ¡ 
PÏtfÜmKeybßrdEv’t
&, 
Ab¡¿ùV›w
*);

98 
KeybßrdEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
Ab¡¿ùV›w
*,

99 cÚ¡ 
SŒšg
& 
keyId’tif›r
, 
keyLoÿtiÚ
,

100 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
, boŞ 
®tG¿phKey
);

102 
	gOwnPŒ
<
	gPÏtfÜmKeybßrdEv’t
> 
	gm_keyEv’t
;

103 
SŒšg
 
	gm_keyId’tif›r
;

104 
	gm_keyLoÿtiÚ
;

105 
boŞ
 
	gm_®tG¿phKey
 : 1;

107 #ià
PLATFORM
(
MAC
)

108 
	gVeùÜ
<
	gKey´essCommªd
> 
	gm_key´essCommªds
;

112 
KeybßrdEv’t
* 
fšdKeybßrdEv’t
(
Ev’t
*);

	@MappedAttribute.cpp

24 
	~"cÚfig.h
"

25 
	~"M­³dA‰ribu‹.h
"

27 
Çme¥aû
 
	gWebCÜe
 {

29 
	gPassRefPŒ
<
	gA‰ribu‹
> 
	gM­³dA‰ribu‹
::
şÚe
() const

31  
adİtRef
(
Ãw
 
M­³dA‰ribu‹
(
Çme
(), 
v®ue
(), 
m_¡yËDeş
.
g‘
()));

	@MappedAttribute.h

25 #iâdeà
M­³dA‰ribu‹_h


26 
	#M­³dA‰ribu‹_h


	)

28 
	~"A‰ribu‹.h
"

29 
	~"CSSM­³dA‰ribu‹Deş¬©iÚ.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cM­³dA‰ribu‹
 : 
public
 
A‰ribu‹
 {

34 
public
:

35 
PassRefPŒ
<
M­³dA‰ribu‹
> 
ü—‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
)

37  
adİtRef
(
Ãw
 
M­³dA‰ribu‹
(
Çme
, 
v®ue
, 0));

39 
	gPassRefPŒ
<
	gM­³dA‰ribu‹
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
Çme
, cÚ¡ AtomicSŒšg& 
v®ue
)

41  
adİtRef
(
Ãw
 
M­³dA‰ribu‹
(
Çme
, 
v®ue
, 0));

44 
vœtu®
 
	gPassRefPŒ
<
	gA‰ribu‹
> 
şÚe
() const;

46 
vœtu®
 
CSSStyËDeş¬©iÚ
* 
¡yË
(ècÚ¡ {  
	gm_¡yËDeş
.
g‘
(); }

48 
vœtu®
 
boŞ
 
isM­³dA‰ribu‹
(è{  
	gŒue
; }

50 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
deş
(ècÚ¡ {  
	gm_¡yËDeş
.
g‘
(); }

51 
£tDeş
(
PassRefPŒ
<
CSSM­³dA‰ribu‹Deş¬©iÚ
> 
deş
è{ 
	gm_¡yËDeş
 = decl; }

53 
	g´iv©e
:

54 
M­³dA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
, 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
deş¬©iÚ
)

55 : 
A‰ribu‹
(
Çme
, 
v®ue
), 
m_¡yËDeş
(
deş¬©iÚ
)

58 
M­³dA‰ribu‹
(cÚ¡ 
AtomicSŒšg
& 
Çme
, cÚ¡ AtomicSŒšg& 
v®ue
, 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
deş¬©iÚ
)

59 : 
A‰ribu‹
(
Çme
, 
v®ue
), 
m_¡yËDeş
(
deş¬©iÚ
)

63 
	gRefPŒ
<
	gCSSM­³dA‰ribu‹Deş¬©iÚ
> 
	gm_¡yËDeş
;

	@MappedAttributeEntry.h

25 #iâdeà
M­³dA‰ribu‹EÁry_h


26 
	#M­³dA‰ribu‹EÁry_h


	)

28 
Çme¥aû
 
	gWebCÜe
 {

30 
	eM­³dA‰ribu‹EÁry
 {

31 
	geNÚe


32 , 
	geUniv”§l


33 , 
	geP”si¡’t


34 , 
	geR•Ïûd


35 , 
	geBlock


36 , 
	geHR


37 , 
	geUnÜd”edLi¡


38 , 
	geLi¡I‹m


39 , 
	geTabË


40 , 
	geC–l


41 , 
	geC­tiÚ


42 , 
	geBDO


43 , 
	geP»


44 #ià
ENABLE
(
SVG
)

45 , 
	geSVG


48 , 
	geLa¡EÁry


51 
	eF¿gm’tSütšgP”missiÚ
 { 
	gF¿gm’tSütšgAÎowed
, 
	gF¿gm’tSütšgNÙAÎowed
 };

	@MessageChannel.cpp

27 
	~"cÚfig.h
"

28 
	~"Mes§geChªÃl.h
"

30 
	~"Mes§gePÜt.h
"

31 
	~"Mes§gePÜtChªÃl.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	gMes§geChªÃl
::
Mes§geChªÃl
(
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
)

36 : 
m_pÜt1
(
Mes§gePÜt
::
ü—‹
(*
cÚ‹xt
))

37 , 
m_pÜt2
(
Mes§gePÜt
::
ü—‹
(*
cÚ‹xt
))

39 
Mes§gePÜtChªÃl
::
ü—‹ChªÃl
(
m_pÜt1
.
g‘
(), 
m_pÜt2
.get());

42 
	gMes§geChªÃl
::~
Mes§geChªÃl
()

	@MessageChannel.h

27 #iâdeà
Mes§geChªÃl_h


28 
	#Mes§geChªÃl_h


	)

30 
	~<wtf/PassRefPŒ.h
>

31 
	~<wtf/RefCouÁed.h
>

32 
	~<wtf/RefPŒ.h
>

34 
Çme¥aû
 
	gWebCÜe
 {

36 
şass
 
	gMes§gePÜt
;

37 
şass
 
	gSütExecutiÚCÚ‹xt
;

39 
şass
 
	gMes§geChªÃl
 : 
public
 
RefCouÁed
<
Mes§geChªÃl
> {

40 
public
:

41 
PassRefPŒ
<
Mes§geChªÃl
> 
ü—‹
(
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
è{  
adİtRef
(
Ãw
 MessageChannel(context)); }

42 ~
Mes§geChªÃl
();

44 
Mes§gePÜt
* 
pÜt1
(ècÚ¡ {  
	gm_pÜt1
.
g‘
(); }

45 
Mes§gePÜt
* 
pÜt2
(ècÚ¡ {  
	gm_pÜt2
.
g‘
(); }

47 
	g´iv©e
:

48 
Mes§geChªÃl
(
SütExecutiÚCÚ‹xt
*);

50 
	gRefPŒ
<
	gMes§gePÜt
> 
	gm_pÜt1
;

51 
	gRefPŒ
<
	gMes§gePÜt
> 
	gm_pÜt2
;

	@MessageEvent.cpp

28 
	~"cÚfig.h
"

29 
	~"Mes§geEv’t.h
"

31 
	~"DOMWšdow.h
"

32 
	~"Ev’tNames.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
	gMes§geEv’t
::
Mes§geEv’t
()

37 : 
m_d©a
(
S”ŸlizedSütV®ue
::
ü—‹
())

41 
Mes§geEv’t
::Mes§geEv’t(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
d©a
, cÚ¡ 
SŒšg
& 
Üigš
, cÚ¡ SŒšg& 
Ï¡Ev’tId
, PassRefPŒ<
DOMWšdow
> 
sourû
, 
PassOwnPŒ
<
Mes§gePÜtA¼ay
> 
pÜts
)

42 : 
Ev’t
(
ev’tNames
().
mes§geEv’t
, 
çl£
, false)

43 , 
m_d©a
(
d©a
)

44 , 
m_Üigš
(
Üigš
)

45 , 
m_Ï¡Ev’tId
(
Ï¡Ev’tId
)

46 , 
m_sourû
(
sourû
)

47 , 
m_pÜts
(
pÜts
)

51 
	gMes§geEv’t
::~
Mes§geEv’t
()

55 
Mes§geEv’t
::
š™Mes§geEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
d©a
, cÚ¡ 
SŒšg
& 
Üigš
, cÚ¡ SŒšg& 
Ï¡Ev’tId
, 
DOMWšdow
* 
sourû
, 
PassOwnPŒ
<
Mes§gePÜtA¼ay
> 
pÜts
)

57 ià(
di¥©ched
())

60 
š™Ev’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
);

62 
	gm_d©a
 = 
d©a
;

63 
	gm_Üigš
 = 
Üigš
;

64 
	gm_Ï¡Ev’tId
 = 
Ï¡Ev’tId
;

65 
	gm_sourû
 = 
sourû
;

66 
	gm_pÜts
 = 
pÜts
;

70 
Mes§gePÜt
* 
	gMes§geEv’t
::
mes§gePÜt
()

72 ià(!
m_pÜts
)

74 
ASSERT
(
m_pÜts
->
size
() == 1);

75  (*
	gm_pÜts
)[0].
g‘
();

78 
	gMes§geEv’t
::
š™Mes§geEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
d©a
, cÚ¡ 
SŒšg
& 
Üigš
, cÚ¡ SŒšg& 
Ï¡Ev’tId
, 
DOMWšdow
* 
sourû
, 
Mes§gePÜt
* 
pÜt
)

80 
Mes§gePÜtA¼ay
* 
	gpÜts
 = 0;

81 ià(
	gpÜt
) {

82 
	gpÜts
 = 
Ãw
 
Mes§gePÜtA¼ay
();

83 
	gpÜts
->
­³nd
(
pÜt
);

85 
š™Mes§geEv’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
d©a
, 
Üigš
, 
Ï¡Ev’tId
, 
sourû
, 
pÜts
);

88 
boŞ
 
	gMes§geEv’t
::
isMes§geEv’t
() const

90  
Œue
;

	@MessageEvent.h

28 #iâdeà
Mes§geEv’t_h


29 
	#Mes§geEv’t_h


	)

31 
	~"DOMWšdow.h
"

32 
	~"Ev’t.h
"

33 
	~"Mes§gePÜt.h
"

34 
	~"S”ŸlizedSütV®ue.h
"

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gDOMWšdow
;

40 şas 
	cMes§geEv’t
 : 
public
 
Ev’t
 {

41 
public
:

42 
PassRefPŒ
<
Mes§geEv’t
> 
ü—‹
()

44  
adİtRef
(
Ãw
 
Mes§geEv’t
);

46 
	gPassRefPŒ
<
	gMes§geEv’t
> 
ü—‹
(
PassOwnPŒ
<
Mes§gePÜtA¼ay
> 
pÜts
, 
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
d©a
 = 0, cÚ¡ 
SŒšg
& 
Üigš
 = "", cÚ¡ SŒšg& 
Ï¡Ev’tId
 = "", PassRefPŒ<
DOMWšdow
> 
sourû
 = 0)

48  
adİtRef
(
Ãw
 
Mes§geEv’t
(
d©a
, 
Üigš
, 
Ï¡Ev’tId
, 
sourû
, 
pÜts
));

50 
	gvœtu®
 ~
Mes§geEv’t
();

52 
š™Mes§geEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
d©a
, cÚ¡ 
SŒšg
& 
Üigš
, cÚ¡ SŒšg& 
Ï¡Ev’tId
, 
DOMWšdow
* 
sourû
, 
PassOwnPŒ
<
Mes§gePÜtA¼ay
>);

54 
S”ŸlizedSütV®ue
* 
d©a
(ècÚ¡ {  
	gm_d©a
.
g‘
(); }

55 cÚ¡ 
	gSŒšg
& 
Üigš
(ècÚ¡ {  
	gm_Üigš
; }

56 cÚ¡ 
	gSŒšg
& 
Ï¡Ev’tId
(ècÚ¡ {  
	gm_Ï¡Ev’tId
; }

57 
DOMWšdow
* 
sourû
(ècÚ¡ {  
	gm_sourû
.
g‘
(); }

58 
Mes§gePÜtA¼ay
* 
pÜts
(ècÚ¡ {  
	gm_pÜts
.
g‘
(); }

61 
Mes§gePÜt
* 
mes§gePÜt
();

63 
š™Mes§geEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
d©a
, cÚ¡ 
SŒšg
& 
Üigš
, cÚ¡ SŒšg& 
Ï¡Ev’tId
, 
DOMWšdow
* 
sourû
, 
Mes§gePÜt
*);

65 
vœtu®
 
boŞ
 
isMes§geEv’t
() const;

67 
	g´iv©e
:

68 
Mes§geEv’t
();

69 
Mes§geEv’t
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
d©a
, cÚ¡ 
SŒšg
& 
Üigš
, cÚ¡ SŒšg& 
Ï¡Ev’tId
, PassRefPŒ<
DOMWšdow
> 
sourû
, 
PassOwnPŒ
<
Mes§gePÜtA¼ay
>);

71 
	gRefPŒ
<
	gS”ŸlizedSütV®ue
> 
	gm_d©a
;

72 
SŒšg
 
	gm_Üigš
;

73 
SŒšg
 
	gm_Ï¡Ev’tId
;

74 
	gRefPŒ
<
	gDOMWšdow
> 
	gm_sourû
;

75 
	gOwnPŒ
<
	gMes§gePÜtA¼ay
> 
	gm_pÜts
;

	@MessagePort.cpp

27 
	~"cÚfig.h
"

28 
	~"Mes§gePÜt.h
"

30 
	~"AtomicSŒšg.h
"

31 
	~"DOMWšdow.h
"

32 
	~"Docum’t.h
"

33 
	~"Ev’tExû±iÚ.h
"

34 
	~"Ev’tNames.h
"

35 
	~"Mes§geEv’t.h
"

36 
	~"Secur™yOrigš.h
"

37 
	~"Tim”.h
"

39 
Çme¥aû
 
	gWebCÜe
 {

41 
	gMes§gePÜt
::
Mes§gePÜt
(
SütExecutiÚCÚ‹xt
& 
sütExecutiÚCÚ‹xt
)

42 : 
m_’ngËdChªÃl
(0)

43 , 
m_¡¬‹d
(
çl£
)

44 , 
m_şo£d
(
çl£
)

45 , 
m_sütExecutiÚCÚ‹xt
(&
sütExecutiÚCÚ‹xt
)

47 
	gm_sütExecutiÚCÚ‹xt
->
ü—‹dMes§gePÜt
(
this
);

52 
	gMes§gePÜt
::~
Mes§gePÜt
()

54 
şo£
();

55 ià(
	gm_sütExecutiÚCÚ‹xt
)

56 
	gm_sütExecutiÚCÚ‹xt
->
de¡royedMes§gePÜt
(
this
);

60 
	gMes§gePÜt
::
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, 
Mes§gePÜt
* 
pÜt
, 
Exû±iÚCode
& 
ec
)

62 
Mes§gePÜtA¼ay
 
	gpÜts
;

63 ià(
	gpÜt
)

64 
	gpÜts
.
­³nd
(
pÜt
);

65 
po¡Mes§ge
(
mes§ge
, &
pÜts
, 
ec
);

68 
	gMes§gePÜt
::
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, 
Exû±iÚCode
& 
ec
)

70 
po¡Mes§ge
(
mes§ge
, 
¡©ic_ÿ¡
<
Mes§gePÜtA¼ay
*>(0), 
ec
);

73 
	gMes§gePÜt
::
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, cÚ¡ 
Mes§gePÜtA¼ay
* 
pÜts
, 
Exû±iÚCode
& 
ec
)

75 ià(!
	gm_’ngËdChªÃl
)

77 
ASSERT
(
m_sütExecutiÚCÚ‹xt
);

79 
	gOwnPŒ
<
	gMes§gePÜtChªÃlA¼ay
> 
	gchªÃls
;

81 ià(
	gpÜts
) {

82 
	gi
 = 0; i < 
	gpÜts
->
size
(); ++i) {

83 
Mes§gePÜt
* 
	gd©aPÜt
 = (*
pÜts
)[
i
].
g‘
();

84 ià(
	gd©aPÜt
 =ğ
this
 || 
m_’ngËdChªÃl
->
isCÚÃùedTo
(
d©aPÜt
)) {

85 
ec
 = 
INVALID_STATE_ERR
;

89 
	gchªÃls
 = 
Mes§gePÜt
::
di£ÁªgËPÜts
(
pÜts
, 
ec
);

90 ià(
	gec
)

93 
	gm_’ngËdChªÃl
->
po¡Mes§geToRemÙe
(
Mes§gePÜtChªÃl
::
Ev’tD©a
::
ü—‹
(
mes§ge
, 
chªÃls
.
»Ëa£
()));

96 
	gPassOwnPŒ
<
	gMes§gePÜtChªÃl
> 
	gMes§gePÜt
::
di£ÁªgË
(
Exû±iÚCode
& 
ec
)

98 ià(!
m_’ngËdChªÃl
)

99 
ec
 = 
INVALID_STATE_ERR
;

101 
	gm_’ngËdChªÃl
->
di£ÁªgË
();

104 
ASSERT
(
m_sütExecutiÚCÚ‹xt
);

105 
	gm_sütExecutiÚCÚ‹xt
->
de¡royedMes§gePÜt
(
this
);

106 
	gm_sütExecutiÚCÚ‹xt
 = 0;

108  
	gm_’ngËdChªÃl
.
»Ëa£
();

113 
	gMes§gePÜt
::
mes§geAvaabË
()

115 
ASSERT
(
m_sütExecutiÚCÚ‹xt
);

116 
	gm_sütExecutiÚCÚ‹xt
->
´oûssMes§gePÜtMes§gesSoÚ
();

119 
	gMes§gePÜt
::
¡¬t
()

122 ià(!
m_’ngËdChªÃl
)

125 
ASSERT
(
m_sütExecutiÚCÚ‹xt
);

126 ià(
	gm_¡¬‹d
)

129 
	gm_¡¬‹d
 = 
Œue
;

130 
	gm_sütExecutiÚCÚ‹xt
->
´oûssMes§gePÜtMes§gesSoÚ
();

133 
	gMes§gePÜt
::
şo£
()

135 
m_şo£d
 = 
Œue
;

136 ià(!
	gm_’ngËdChªÃl
)

138 
	gm_’ngËdChªÃl
->
şo£
();

141 
	gMes§gePÜt
::
’ngË
(
PassOwnPŒ
<
Mes§gePÜtChªÃl
> 
»mÙe
)

144 
ASSERT
(!
m_’ngËdChªÃl
);

145 
ASSERT
(
m_sütExecutiÚCÚ‹xt
);

148 ià(
	g»mÙe
->
’ngËIfO³n
(
this
))

149 
	gm_’ngËdChªÃl
 = 
»mÙe
;

152 
	gMes§gePÜt
::
cÚ‹xtDe¡royed
()

154 
ASSERT
(
m_sütExecutiÚCÚ‹xt
);

156 
şo£
();

157 
	gm_sütExecutiÚCÚ‹xt
 = 0;

160 
SütExecutiÚCÚ‹xt
* 
	gMes§gePÜt
::
sütExecutiÚCÚ‹xt
() const

162  
m_sütExecutiÚCÚ‹xt
;

165 
	gMes§gePÜt
::
di¥©chMes§ges
()

169 
ASSERT
(
¡¬‹d
());

171 
	gOwnPŒ
<
	gMes§gePÜtChªÃl
::
Ev’tD©a
> 
ev’tD©a
;

172 
	gm_’ngËdChªÃl
 && m_’ngËdChªÃl->
ŒyG‘Mes§geFromRemÙe
(
ev’tD©a
)) {

173 
	gOwnPŒ
<
	gMes§gePÜtA¼ay
> 
	gpÜts
 = 
Mes§gePÜt
::
’ngËPÜts
(*
m_sütExecutiÚCÚ‹xt
, 
ev’tD©a
->
chªÃls
());

174 
	gRefPŒ
<
	gEv’t
> 
	gevt
 = 
Mes§geEv’t
::
ü—‹
(
pÜts
.
»Ëa£
(), 
ev’tD©a
->
mes§ge
());

176 
Exû±iÚCode
 
	gec
 = 0;

177 
di¥©chEv’t
(
evt
.
»Ëa£
(), 
ec
);

178 
ASSERT
(!
ec
);

182 
boŞ
 
	gMes§gePÜt
::
hasP’dšgAùiv™y
()

186  
m_¡¬‹d
 && 
m_’ngËdChªÃl
 && m_’ngËdChªÃl->
hasP’dšgAùiv™y
();

189 
Mes§gePÜt
* 
	gMes§gePÜt
::
loÿÎyEÁªgËdPÜt
()

191  
m_’ngËdChªÃl
 ? m_’ngËdChªÃl->
loÿÎyEÁªgËdPÜt
(
m_sütExecutiÚCÚ‹xt
) : 0;

194 
	gPassOwnPŒ
<
	gMes§gePÜtChªÃlA¼ay
> 
	gMes§gePÜt
::
di£ÁªgËPÜts
(cÚ¡ 
Mes§gePÜtA¼ay
* 
pÜts
, 
Exû±iÚCode
& 
ec
)

196 ià(!
	gpÜts
 || !pÜts->
size
())

200 
	gHashS‘
<
	gMes§gePÜt
*> 
	gpÜtS‘
;

203 
	gi
 = 0; i < 
	gpÜts
->
size
(); ++i) {

204 
Mes§gePÜt
* 
	gpÜt
 = (*
pÜts
)[
i
].
g‘
();

205 ià(!
	gpÜt
 ||…Üt->
isClÚed
(è|| 
	gpÜtS‘
.
cÚšs
(
pÜt
)) {

206 
	gec
 = 
INVALID_STATE_ERR
;

209 
	gpÜtS‘
.
add
(
pÜt
);

213 
Mes§gePÜtChªÃlA¼ay
* 
	gpÜtA¼ay
 = 
Ãw
 Mes§gePÜtChªÃlA¼ay(
pÜts
->
size
());

214 
	gi
 = 0 ; i < 
	gpÜts
->
size
() ; ++i) {

215 
	gOwnPŒ
<
	gMes§gePÜtChªÃl
> 
	gchªÃl
 = (*
pÜts
)[
i
]->
di£ÁªgË
(
ec
);

216 
ASSERT
(!
ec
);

217 (*
	gpÜtA¼ay
)[
i
] = 
chªÃl
.
»Ëa£
();

219  
	gpÜtA¼ay
;

222 
	gPassOwnPŒ
<
	gMes§gePÜtA¼ay
> 
	gMes§gePÜt
::
’ngËPÜts
(
SütExecutiÚCÚ‹xt
& 
cÚ‹xt
, 
PassOwnPŒ
<
Mes§gePÜtChªÃlA¼ay
> 
chªÃls
)

224 ià(!
	gchªÃls
 || !chªÃls->
size
())

227 
Mes§gePÜtA¼ay
* 
	gpÜtA¼ay
 = 
Ãw
 Mes§gePÜtA¼ay(
chªÃls
->
size
());

228 
	gi
 = 0; i < 
	gchªÃls
->
size
(); ++i) {

229 
	gRefPŒ
<
	gMes§gePÜt
> 
	gpÜt
 = 
Mes§gePÜt
::
ü—‹
(
cÚ‹xt
);

230 
	gpÜt
->
’ngË
((*
chªÃls
)[
i
].
»Ëa£
());

231 (*
	gpÜtA¼ay
)[
i
] = 
pÜt
.
»Ëa£
();

233  
	gpÜtA¼ay
;

236 
Ev’tT¬g‘D©a
* 
	gMes§gePÜt
::
ev’tT¬g‘D©a
()

238  &
m_ev’tT¬g‘D©a
;

241 
Ev’tT¬g‘D©a
* 
	gMes§gePÜt
::
’su»Ev’tT¬g‘D©a
()

243  &
m_ev’tT¬g‘D©a
;

	@MessagePort.h

27 #iâdeà
Mes§gePÜt_h


28 
	#Mes§gePÜt_h


	)

30 
	~"AtomicSŒšgHash.h
"

31 
	~"Ev’tLi¡’”.h
"

32 
	~"Ev’tNames.h
"

33 
	~"Ev’tT¬g‘.h
"

34 
	~"Mes§gePÜtChªÃl.h
"

35 
	~<wtf/HashM­.h
>

36 
	~<wtf/OwnPŒ.h
>

37 
	~<wtf/PassOwnPŒ.h
>

38 
	~<wtf/PassRefPŒ.h
>

39 
	~<wtf/RefPŒ.h
>

40 
	~<wtf/VeùÜ.h
>

42 
Çme¥aû
 
	gWebCÜe
 {

44 
şass
 
	gAtomicSŒšgIm¶
;

45 
şass
 
	gEv’t
;

46 
şass
 
	gF¿me
;

47 
şass
 
	gMes§gePÜt
;

48 
şass
 
	gSütExecutiÚCÚ‹xt
;

49 
şass
 
	gSŒšg
;

52 
	gVeùÜ
<
	tRefPŒ
<
	tMes§gePÜt
>, 1> 
	tMes§gePÜtA¼ay
;

54 
şass
 
	gMes§gePÜt
 : 
public
 
RefCouÁed
<
Mes§gePÜt
>,…ubliø
	gEv’tT¬g‘
 {

55 
	gpublic
:

56 
PassRefPŒ
<
Mes§gePÜt
> 
ü—‹
(
SütExecutiÚCÚ‹xt
& 
sütExecutiÚCÚ‹xt
è{  
adİtRef
(
Ãw
 MessagePort(scriptExecutionContext)); }

57 ~
Mes§gePÜt
();

59 
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, 
Exû±iÚCode
&);

60 
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, cÚ¡ 
Mes§gePÜtA¼ay
*, 
Exû±iÚCode
&);

62 
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, 
Mes§gePÜt
*, 
Exû±iÚCode
&);

64 
¡¬t
();

65 
şo£
();

67 
’ngË
(
PassOwnPŒ
<
Mes§gePÜtChªÃl
>);

68 
	gPassOwnPŒ
<
	gMes§gePÜtChªÃl
> 
di£ÁªgË
(
Exû±iÚCode
&);

73 
	gPassOwnPŒ
<
	gMes§gePÜtChªÃlA¼ay
> 
di£ÁªgËPÜts
(cÚ¡ 
Mes§gePÜtA¼ay
*, 
Exû±iÚCode
&);

77 
	gPassOwnPŒ
<
	gMes§gePÜtA¼ay
> 
’ngËPÜts
(
SütExecutiÚCÚ‹xt
&, 
PassOwnPŒ
<
Mes§gePÜtChªÃlA¼ay
>);

79 
mes§geAvaabË
();

80 
boŞ
 
¡¬‹d
(ècÚ¡ {  
	gm_¡¬‹d
; }

82 
cÚ‹xtDe¡royed
();

84 
vœtu®
 
SütExecutiÚCÚ‹xt
* 
sütExecutiÚCÚ‹xt
() const;

86 
vœtu®
 
Mes§gePÜt
* 
toMes§gePÜt
(è{  
	gthis
; }

88 
di¥©chMes§ges
();

90 
usšg
 
	gRefCouÁed
<
	gMes§gePÜt
>::
»f
;

91 
usšg
 
	gRefCouÁed
<
	gMes§gePÜt
>::
d”ef
;

93 
boŞ
 
hasP’dšgAùiv™y
();

95 
£tOnmes§ge
(
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
)

97 
£tA‰ribu‹Ev’tLi¡’”
(
ev’tNames
().
mes§geEv’t
, 
li¡’”
);

98 
¡¬t
();

100 
Ev’tLi¡’”
* 
Úmes§ge
(è{  
g‘A‰ribu‹Ev’tLi¡’”
(
ev’tNames
().
mes§geEv’t
); }

105 
Mes§gePÜt
* 
loÿÎyEÁªgËdPÜt
();

107 
boŞ
 
isEÁªgËd
(è{  !
	gm_şo£d
 && !
isClÚed
(); }

109 
boŞ
 
isClÚed
(è{  !
	gm_’ngËdChªÃl
; }

111 
	g´iv©e
:

112 
Mes§gePÜt
(
SütExecutiÚCÚ‹xt
&);

114 
vœtu®
 
»fEv’tT¬g‘
(è{ 
»f
(); }

115 
vœtu®
 
d”efEv’tT¬g‘
(è{ 
d”ef
(); }

116 
vœtu®
 
Ev’tT¬g‘D©a
* 
ev’tT¬g‘D©a
();

117 
vœtu®
 
Ev’tT¬g‘D©a
* 
’su»Ev’tT¬g‘D©a
();

119 
	gOwnPŒ
<
	gMes§gePÜtChªÃl
> 
	gm_’ngËdChªÃl
;

121 
boŞ
 
	gm_¡¬‹d
;

122 
boŞ
 
	gm_şo£d
;

124 
SütExecutiÚCÚ‹xt
* 
	gm_sütExecutiÚCÚ‹xt
;

125 
Ev’tT¬g‘D©a
 
	gm_ev’tT¬g‘D©a
;

	@MessagePortChannel.cpp

30 
	~"cÚfig.h
"

31 
	~"Mes§gePÜtChªÃl.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

36 
	gPassOwnPŒ
<
	gMes§gePÜtChªÃl
::
Ev’tD©a
> 
Mes§gePÜtChªÃl
::Ev’tD©a::
ü—‹
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, 
PassOwnPŒ
<
Mes§gePÜtChªÃlA¼ay
> 
chªÃls
)

38  
Ãw
 
Ev’tD©a
(
mes§ge
, 
chªÃls
);

41 
	gMes§gePÜtChªÃl
::
Ev’tD©a
::Ev’tD©a(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, 
PassOwnPŒ
<
Mes§gePÜtChªÃlA¼ay
> 
chªÃls
)

42 : 
m_mes§ge
(
mes§ge
->
»Ëa£
())

43 , 
m_chªÃls
(
chªÃls
)

	@MessagePortChannel.h

31 #iâdeà
Mes§gePÜtChªÃl_h


32 
	#Mes§gePÜtChªÃl_h


	)

34 
	~"PÏtfÜmSŒšg.h
"

36 
	~"S”ŸlizedSütV®ue.h
"

38 
	~<wtf/OwnPŒ.h
>

39 
	~<wtf/PassOwnPŒ.h
>

40 
	~<wtf/PassRefPŒ.h
>

41 
	~<wtf/RefCouÁed.h
>

42 
	~<wtf/RefPŒ.h
>

44 
Çme¥aû
 
	gWebCÜe
 {

46 
şass
 
	gMes§gePÜt
;

47 
şass
 
	gMes§gePÜtChªÃl
;

48 
şass
 
	gPÏtfÜmMes§gePÜtChªÃl
;

49 
şass
 
	gSütExecutiÚCÚ‹xt
;

50 
şass
 
	gS”ŸlizedSütV®ue
;

51 
şass
 
	gSŒšg
;

54 
	gVeùÜ
<
	tOwnPŒ
<
	tMes§gePÜtChªÃl
>, 1> 
	tMes§gePÜtChªÃlA¼ay
;

58 şas 
	cMes§gePÜtChªÃl
 : 
public
 
NÚcİyabË
 {

59 
public
:

60 
ü—‹ChªÃl
(
PassRefPŒ
<
Mes§gePÜt
>, PassRefPtr<MessagePort>);

63 
	gPassOwnPŒ
<
	gMes§gePÜtChªÃl
> 
ü—‹
(
PassRefPŒ
<
PÏtfÜmMes§gePÜtChªÃl
>);

67 
boŞ
 
’ngËIfO³n
(
Mes§gePÜt
*);

70 
di£ÁªgË
();

73 
şo£
();

76 
boŞ
 
isCÚÃùedTo
(
Mes§gePÜt
*);

79 
boŞ
 
hasP’dšgAùiv™y
();

81 şas 
	cEv’tD©a
 : 
public
 
NÚcİyabË
 {

82 
public
:

83 
PassOwnPŒ
<
Ev’tD©a
> 
ü—‹
(
PassRefPŒ
<
S”ŸlizedSütV®ue
>, PassOwnPŒ<
Mes§gePÜtChªÃlA¼ay
>);

85 
S”ŸlizedSütV®ue
* 
mes§ge
(è{  
	gm_mes§ge
.
g‘
(); }

86 
	gPassOwnPŒ
<
	gMes§gePÜtChªÃlA¼ay
> 
chªÃls
(è{  
	gm_chªÃls
.
»Ëa£
(); }

88 
	g´iv©e
:

89 
Ev’tD©a
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, 
PassOwnPŒ
<
Mes§gePÜtChªÃlA¼ay
>);

90 
	gRefPŒ
<
	gS”ŸlizedSütV®ue
> 
	gm_mes§ge
;

91 
	gOwnPŒ
<
	gMes§gePÜtChªÃlA¼ay
> 
	gm_chªÃls
;

95 
po¡Mes§geToRemÙe
(
PassOwnPŒ
<
Ev’tD©a
>);

98 
boŞ
 
ŒyG‘Mes§geFromRemÙe
(
OwnPŒ
<
Ev’tD©a
>&);

101 
Mes§gePÜt
* 
loÿÎyEÁªgËdPÜt
(cÚ¡ 
SütExecutiÚCÚ‹xt
*);

103 ~
Mes§gePÜtChªÃl
();

105 
PÏtfÜmMes§gePÜtChªÃl
* 
chªÃl
(ècÚ¡ {  
	gm_chªÃl
.
g‘
(); }

107 
	g´iv©e
:

108 
Mes§gePÜtChªÃl
(
PassRefPŒ
<
PÏtfÜmMes§gePÜtChªÃl
>);

109 
	gRefPŒ
<
	gPÏtfÜmMes§gePÜtChªÃl
> 
	gm_chªÃl
;

	@MouseEvent.cpp

23 
	~"cÚfig.h
"

24 
	~"Mou£Ev’t.h
"

26 
	~"Ev’tNames.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 
	gMou£Ev’t
::
Mou£Ev’t
()

31 : 
m_bu‰Ú
(0)

32 , 
m_bu‰ÚDown
(
çl£
)

36 
	gMou£Ev’t
::
Mou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
,

37 
d‘a
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

38 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
,

39 
bu‰Ú
, 
PassRefPŒ
<
Ev’tT¬g‘
> 
»Ï‹dT¬g‘
,

40 
PassRefPŒ
<
Clbßrd
> 
şbßrd
, 
boŞ
 
isSimuÏ‹d
)

41 : 
Mou£R–©edEv’t
(
ev’tTy³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 
d‘a
, 
sü“nX
, 
sü“nY
,

42 
·geX
, 
·geY
, 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
, 
isSimuÏ‹d
)

43 , 
m_bu‰Ú
(
bu‰Ú
 == ()-1 ? 0 : button)

44 , 
m_bu‰ÚDown
(
bu‰Ú
 != ()-1)

45 , 
m_»Ï‹dT¬g‘
(
»Ï‹dT¬g‘
)

46 , 
m_şbßrd
(
şbßrd
)

50 
	gMou£Ev’t
::~
Mou£Ev’t
()

54 
Mou£Ev’t
::
š™Mou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
,

55 
d‘a
, 
sü“nX
, 
sü“nY
, 
ş›ÁX
, 
ş›ÁY
,

56 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
,

57 
bu‰Ú
, 
PassRefPŒ
<
Ev’tT¬g‘
> 
»Ï‹dT¬g‘
)

59 ià(
di¥©ched
())

62 
š™UIEv’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 
d‘a
);

64 
	gm_sü“nX
 = 
sü“nX
;

65 
	gm_sü“nY
 = 
sü“nY
;

66 
	gm_ù¾Key
 = 
ù¾Key
;

67 
	gm_®tKey
 = 
®tKey
;

68 
	gm_shiáKey
 = 
shiáKey
;

69 
	gm_m‘aKey
 = 
m‘aKey
;

70 
	gm_bu‰Ú
 = 
bu‰Ú
 == ()-1 ? 0 : button;

71 
	gm_bu‰ÚDown
 = 
bu‰Ú
 != ()-1;

72 
	gm_»Ï‹dT¬g‘
 = 
»Ï‹dT¬g‘
;

74 
š™CoÜdš©es
(
ş›ÁX
, 
ş›ÁY
);

80 
boŞ
 
	gMou£Ev’t
::
isMou£Ev’t
() const

82  
Œue
;

85 
boŞ
 
	gMou£Ev’t
::
isD¿gEv’t
() const

87 cÚ¡ 
AtomicSŒšg
& 
t
 = 
ty³
();

88  
	gt
 =ğ
ev’tNames
().
d¿g’‹rEv’t
 || 
t
 =ğev’tNames().
d¿gov”Ev’t
 || =ğev’tNames().
d¿gËaveEv’t
 || =ğev’tNames().
drİEv’t


89 || 
t
 =ğ
ev’tNames
().
d¿g¡¬tEv’t
|| =ğev’tNames().
d¿gEv’t
 || =ğev’tNames().
d¿g’dEv’t
;

92 
	gMou£Ev’t
::
which
() const

97  
m_bu‰Ú
 + 1;

100 
Node
* 
	gMou£Ev’t
::
toEËm’t
() const

103 ià(
ty³
(è=ğ
ev’tNames
().
mou£outEv’t
)

104  
»Ï‹dT¬g‘
(è?„–©edT¬g‘()->
toNode
() : 0;

106  
rg‘
(è?¬g‘()->
toNode
() : 0;

109 
Node
* 
	gMou£Ev’t
::
äomEËm’t
() const

112 ià(
ty³
(è!ğ
ev’tNames
().
mou£outEv’t
)

113  
»Ï‹dT¬g‘
(è?„–©edT¬g‘()->
toNode
() : 0;

115  
rg‘
(è?¬g‘()->
toNode
() : 0;

	@MouseEvent.h

24 #iâdeà
Mou£Ev’t_h


25 
	#Mou£Ev’t_h


	)

27 
	~"Clbßrd.h
"

28 
	~"Mou£R–©edEv’t.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cMou£Ev’t
 : 
public
 
Mou£R–©edEv’t
 {

34 
public
:

35 
PassRefPŒ
<
Mou£Ev’t
> 
ü—‹
()

37  
adİtRef
(
Ãw
 
Mou£Ev’t
);

39 
	gPassRefPŒ
<
	gMou£Ev’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
,

40 
d‘a
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

41 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
, 
bu‰Ú
,

42 
PassRefPŒ
<
Ev’tT¬g‘
> 
»Ï‹dT¬g‘
, PassRefPŒ<
Clbßrd
> 
şbßrd
 = 0, 
boŞ
 
isSimuÏ‹d
 = 
çl£
)

44  
adİtRef
(
Ãw
 
Mou£Ev’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 
d‘a
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

45 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
, 
bu‰Ú
, 
»Ï‹dT¬g‘
, 
şbßrd
, 
isSimuÏ‹d
));

47 
	gvœtu®
 ~
Mou£Ev’t
();

49 
š™Mou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
>,

50 
d‘a
, 
sü“nX
, 
sü“nY
, 
ş›ÁX
, 
ş›ÁY
,

51 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
,

52 
bu‰Ú
, 
PassRefPŒ
<
Ev’tT¬g‘
> 
»Ï‹dT¬g‘
);

56 
bu‰Ú
(ècÚ¡ {  
	gm_bu‰Ú
; }

57 
boŞ
 
bu‰ÚDown
(ècÚ¡ {  
	gm_bu‰ÚDown
; }

58 
Ev’tT¬g‘
* 
»Ï‹dT¬g‘
(ècÚ¡ {  
	gm_»Ï‹dT¬g‘
.
g‘
(); }

60 
Clbßrd
* 
şbßrd
(ècÚ¡ {  
	gm_şbßrd
.
g‘
(); }

62 
Node
* 
toEËm’t
() const;

63 
Node
* 
äomEËm’t
() const;

65 
Clbßrd
* 
d©aT¿nsãr
(ècÚ¡ {  
isD¿gEv’t
(è? 
	gm_şbßrd
.
g‘
() : 0; }

67 
vœtu®
 
boŞ
 
isMou£Ev’t
() const;

68 
vœtu®
 
boŞ
 
isD¿gEv’t
() const;

69 
vœtu®
 
which
() const;

71 
	g´iv©e
:

72 
Mou£Ev’t
();

73 
Mou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
>,

74 
d‘a
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

75 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
, 
bu‰Ú
,

76 
PassRefPŒ
<
Ev’tT¬g‘
> 
»Ï‹dT¬g‘
, PassRefPŒ<
Clbßrd
> 
şbßrd
, 
boŞ
 
isSimuÏ‹d
);

78 
	gm_bu‰Ú
;

79 
boŞ
 
	gm_bu‰ÚDown
;

80 
	gRefPŒ
<
	gEv’tT¬g‘
> 
	gm_»Ï‹dT¬g‘
;

81 
	gRefPŒ
<
	gClbßrd
> 
	gm_şbßrd
;

	@MouseRelatedEvent.cpp

23 
	~"cÚfig.h
"

24 
	~"Mou£R–©edEv’t.h
"

26 
	~"DOMWšdow.h
"

27 
	~"Docum’t.h
"

28 
	~"F¿me.h
"

29 
	~"F¿meV›w.h
"

30 
	~"R’d”Lay”.h
"

31 
	~"R’d”Objeù.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	gMou£R–©edEv’t
::
Mou£R–©edEv’t
()

36 : 
m_sü“nX
(0)

37 , 
m_sü“nY
(0)

38 , 
m_ş›ÁX
(0)

39 , 
m_ş›ÁY
(0)

40 , 
m_·geX
(0)

41 , 
m_·geY
(0)

42 , 
m_Ïy”X
(0)

43 , 
m_Ïy”Y
(0)

44 , 
m_off£tX
(0)

45 , 
m_off£tY
(0)

46 , 
m_isSimuÏ‹d
(
çl£
)

50 
cÚ‹ÁsX
(
Ab¡¿ùV›w
* 
ab¡¿ùV›w
)

52 ià(!
	gab¡¿ùV›w
)

54 
F¿me
* 
	gäame
 = 
ab¡¿ùV›w
->
äame
();

55 ià(!
	gäame
)

57 
F¿meV›w
* 
	gäameV›w
 = 
äame
->
v›w
();

58 ià(!
	gäameV›w
)

60  
	gäameV›w
->
süŞlX
(è/ 
	gäame
->
·geZoomFaùÜ
();

63 
cÚ‹ÁsY
(
Ab¡¿ùV›w
* 
ab¡¿ùV›w
)

65 ià(!
	gab¡¿ùV›w
)

67 
F¿me
* 
	gäame
 = 
ab¡¿ùV›w
->
äame
();

68 ià(!
	gäame
)

70 
F¿meV›w
* 
	gäameV›w
 = 
äame
->
v›w
();

71 ià(!
	gäameV›w
)

73  
	gäameV›w
->
süŞlY
(è/ 
	gäame
->
·geZoomFaùÜ
();

76 
	gMou£R–©edEv’t
::
Mou£R–©edEv’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›wArg
,

77 
d‘a
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

78 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
, boŞ 
isSimuÏ‹d
)

79 : 
UIEv’tW™hKeyS‹
(
ev’tTy³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›wArg
, 
d‘a
, 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
)

80 , 
m_sü“nX
(
sü“nX
)

81 , 
m_sü“nY
(
sü“nY
)

82 , 
m_ş›ÁX
(
·geX
 - 
cÚ‹ÁsX
(
v›w
()))

83 , 
m_ş›ÁY
(
·geY
 - 
cÚ‹ÁsY
(
v›w
()))

84 , 
m_·geX
(
·geX
)

85 , 
m_·geY
(
·geY
)

86 , 
m_isSimuÏ‹d
(
isSimuÏ‹d
)

88 
š™CoÜdš©es
();

91 
	gMou£R–©edEv’t
::
š™CoÜdš©es
()

96 
m_Ïy”X
 = 
m_·geX
;

97 
	gm_Ïy”Y
 = 
m_·geY
;

98 
	gm_off£tX
 = 
m_·geX
;

99 
	gm_off£tY
 = 
m_·geY
;

101 
compu‹PageLoÿtiÚ
();

104 
	gMou£R–©edEv’t
::
š™CoÜdš©es
(
ş›ÁX
, 
ş›ÁY
)

109 
	gm_ş›ÁX
 = 
ş›ÁX
;

110 
	gm_ş›ÁY
 = 
ş›ÁY
;

111 
	gm_·geX
 = 
ş›ÁX
 + 
cÚ‹ÁsX
(
v›w
());

112 
	gm_·geY
 = 
ş›ÁY
 + 
cÚ‹ÁsY
(
v›w
());

113 
	gm_Ïy”X
 = 
m_·geX
;

114 
	gm_Ïy”Y
 = 
m_·geY
;

115 
	gm_off£tX
 = 
m_·geX
;

116 
	gm_off£tY
 = 
m_·geY
;

118 
compu‹PageLoÿtiÚ
();

121 
	gMou£R–©edEv’t
::
compu‹PageLoÿtiÚ
()

123 
zoomFaùÜ
 = (
v›w
(è&& v›w()->
äame
()è? v›w()->äame()->
·geZoomFaùÜ
() : 1.0f;

124 
£tAbsŞu‹LoÿtiÚ
(
roundedIÁPošt
(
FlßtPošt
(
·geX
(è* 
zoomFaùÜ
, 
·geY
() * zoomFactor)));

127 
	gMou£R–©edEv’t
::
»ûivedT¬g‘
()

129 
ASSERT
(
rg‘
());

130 
Node
* 
	grg
 = 
rg‘
()->
toNode
();

131 ià(!
	grg
)

135 
	gm_Ïy”X
 = 
m_·geX
;

136 
	gm_Ïy”Y
 = 
m_·geY
;

137 
	gm_off£tX
 = 
m_·geX
;

138 
	gm_off£tY
 = 
m_·geY
;

141 
	grg
->
docum’t
()->
upd©eStyËIfN“ded
();

144 ià(!
isSimuÏ‹d
()) {

145 ià(
R’d”Objeù
* 
	gr
 = 
rg
->
»nd””
()) {

146 
FlßtPošt
 
loÿlPos
 = 
r
->
absŞu‹ToLoÿl
(
absŞu‹LoÿtiÚ
(), 
çl£
, 
Œue
);

147 
	gzoomFaùÜ
 = (
v›w
(è&& v›w()->
äame
()è? v›w()->äame()->
·geZoomFaùÜ
() : 1.0f;

148 
	gm_off£tX
 = 
Ìoundf
(
loÿlPos
.
x
(è/ 
zoomFaùÜ
);

149 
	gm_off£tY
 = 
Ìoundf
(
loÿlPos
.
y
(è/ 
zoomFaùÜ
);

158 
Node
* 
	gn
 = 
rg
;

159 
	gn
 && !n->
»nd””
())

160 
	gn
 = 
n
->
·»Á
();

161 ià(
	gn
) {

162 
R’d”Lay”
* 
	gÏy”
 = 
n
->
»nd””
()->
’şosšgLay”
();

163 
	gÏy”
->
upd©eLay”Pos™iÚ
();

164 ; 
	gÏy”
;†ay” = 
Ïy”
->
·»Á
()) {

165 
m_Ïy”X
 -ğ
Ïy”
->
x
();

166 
	gm_Ïy”Y
 -ğ
Ïy”
->
y
();

171 
	gMou£R–©edEv’t
::
·geX
() const

173  
m_·geX
;

176 
	gMou£R–©edEv’t
::
·geY
() const

178  
m_·geY
;

181 
	gMou£R–©edEv’t
::
x
() const

185  
m_ş›ÁX
;

188 
	gMou£R–©edEv’t
::
y
() const

192  
m_ş›ÁY
;

	@MouseRelatedEvent.h

24 #iâdeà
Mou£R–©edEv’t_h


25 
	#Mou£R–©edEv’t_h


	)

27 
	~"IÁPošt.h
"

28 
	~"UIEv’tW™hKeyS‹.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cMou£R–©edEv’t
 : 
public
 
UIEv’tW™hKeyS‹
 {

34 
public
:

37 
sü“nX
(ècÚ¡ {  
m_sü“nX
; }

38 
sü“nY
(ècÚ¡ {  
	gm_sü“nY
; }

39 
ş›ÁX
(ècÚ¡ {  
	gm_ş›ÁX
; }

40 
ş›ÁY
(ècÚ¡ {  
	gm_ş›ÁY
; }

41 
Ïy”X
(ècÚ¡ {  
	gm_Ïy”X
; }

42 
Ïy”Y
(ècÚ¡ {  
	gm_Ïy”Y
; }

43 
off£tX
(ècÚ¡ {  
	gm_off£tX
; }

44 
off£tY
(ècÚ¡ {  
	gm_off£tY
; }

45 
boŞ
 
isSimuÏ‹d
(ècÚ¡ {  
	gm_isSimuÏ‹d
; }

46 
vœtu®
 
·geX
() const;

47 
vœtu®
 
·geY
() const;

48 
x
() const;

49 
y
() const;

53 
IÁPošt
 
absŞu‹LoÿtiÚ
(ècÚ¡ {  
	gm_absŞu‹LoÿtiÚ
; }

54 
£tAbsŞu‹LoÿtiÚ
(cÚ¡ 
IÁPošt
& 
p
è{ 
	gm_absŞu‹LoÿtiÚ
 =…; }

56 
	g´Ùeùed
:

57 
Mou£R–©edEv’t
();

58 
Mou£R–©edEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
>,

59 
d‘a
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

60 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
, boŞ 
isSimuÏ‹d
 = 
çl£
);

62 
š™CoÜdš©es
();

63 
š™CoÜdš©es
(
ş›ÁX
, 
ş›ÁY
);

64 
vœtu®
 
»ûivedT¬g‘
();

66 
compu‹PageLoÿtiÚ
();

69 
	gm_sü“nX
;

70 
	gm_sü“nY
;

71 
	gm_ş›ÁX
;

72 
	gm_ş›ÁY
;

74 
	g´iv©e
:

75 
m_·geX
;

76 
	gm_·geY
;

77 
	gm_Ïy”X
;

78 
	gm_Ïy”Y
;

79 
	gm_off£tX
;

80 
	gm_off£tY
;

81 
IÁPošt
 
	gm_absŞu‹LoÿtiÚ
;

82 
boŞ
 
	gm_isSimuÏ‹d
;

	@MutationEvent.cpp

23 
	~"cÚfig.h
"

24 
	~"MutiÚEv’t.h
"

26 
Çme¥aû
 
	gWebCÜe
 {

28 
	gMutiÚEv’t
::
MutiÚEv’t
()

29 : 
m_©ŒChªge
(0)

33 
MutiÚEv’t
::MutiÚEv’t(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Node
> 
»Ï‹dNode
,

34 cÚ¡ 
SŒšg
& 
´evV®ue
, cÚ¡ SŒšg& 
ÃwV®ue
,

35 cÚ¡ 
SŒšg
& 
©ŒName
, 
©ŒChªge
)

36 : 
Ev’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
)

37 , 
m_»Ï‹dNode
(
»Ï‹dNode
)

38 , 
m_´evV®ue
(
´evV®ue
)

39 , 
m_ÃwV®ue
(
ÃwV®ue
)

40 , 
m_©ŒName
(
©ŒName
)

41 , 
m_©ŒChªge
(
©ŒChªge
)

45 
	gMutiÚEv’t
::
š™MutiÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Node
> 
»Ï‹dNode
,

46 cÚ¡ 
SŒšg
& 
´evV®ue
, cÚ¡ SŒšg& 
ÃwV®ue
,

47 cÚ¡ 
SŒšg
& 
©ŒName
, 
©ŒChªge
)

49 ià(
di¥©ched
())

52 
š™Ev’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
);

54 
	gm_»Ï‹dNode
 = 
»Ï‹dNode
;

55 
	gm_´evV®ue
 = 
´evV®ue
;

56 
	gm_ÃwV®ue
 = 
ÃwV®ue
;

57 
	gm_©ŒName
 = 
©ŒName
;

58 
	gm_©ŒChªge
 = 
©ŒChªge
;

61 
boŞ
 
	gMutiÚEv’t
::
isMutiÚEv’t
() const

63  
Œue
;

	@MutationEvent.h

24 #iâdeà
MutiÚEv’t_h


25 
	#MutiÚEv’t_h


	)

27 
	~"Ev’t.h
"

28 
	~"Node.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 şas 
	cMutiÚEv’t
 : 
public
 
Ev’t
 {

33 
public
:

34 
	e©ŒChªgeTy³
 {

35 
MODIFICATION
 = 1,

36 
	gADDITION
 = 2,

37 
	gREMOVAL
 = 3

40 
	gPassRefPŒ
<
	gMutiÚEv’t
> 
ü—‹
()

42  
adİtRef
(
Ãw
 
MutiÚEv’t
);

45 
	gPassRefPŒ
<
	gMutiÚEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, 
PassRefPŒ
<
Node
> 
»Ï‹dNode
 = 0,

46 cÚ¡ 
SŒšg
& 
´evV®ue
 = SŒšg(), cÚ¡ SŒšg& 
ÃwV®ue
 = SŒšg(), cÚ¡ SŒšg& 
©ŒName
 = SŒšg(), 
©ŒChªge
 = 0)

48  
adİtRef
(
Ãw
 
MutiÚEv’t
(
ty³
, 
ÿnBubbË
, 
çl£
, 
»Ï‹dNode
, 
´evV®ue
, 
ÃwV®ue
, 
©ŒName
, 
©ŒChªge
));

51 
š™MutiÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Node
> 
»Ï‹dNode
,

52 cÚ¡ 
SŒšg
& 
´evV®ue
, cÚ¡ SŒšg& 
ÃwV®ue
,

53 cÚ¡ 
SŒšg
& 
©ŒName
, 
©ŒChªge
);

55 
Node
* 
»Ï‹dNode
(ècÚ¡ {  
	gm_»Ï‹dNode
.
g‘
(); }

56 
SŒšg
 
´evV®ue
(ècÚ¡ {  
	gm_´evV®ue
; }

57 
SŒšg
 
ÃwV®ue
(ècÚ¡ {  
	gm_ÃwV®ue
; }

58 
SŒšg
 
©ŒName
(ècÚ¡ {  
	gm_©ŒName
; }

59 
©ŒChªge
(ècÚ¡ {  
	gm_©ŒChªge
; }

61 
vœtu®
 
boŞ
 
isMutiÚEv’t
() const;

63 
	g´iv©e
:

64 
MutiÚEv’t
();

65 
MutiÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Node
> 
»Ï‹dNode
,

66 cÚ¡ 
SŒšg
& 
´evV®ue
, cÚ¡ SŒšg& 
ÃwV®ue
,

67 cÚ¡ 
SŒšg
& 
©ŒName
, 
©ŒChªge
);

69 
	gRefPŒ
<
	gNode
> 
	gm_»Ï‹dNode
;

70 
SŒšg
 
	gm_´evV®ue
;

71 
SŒšg
 
	gm_ÃwV®ue
;

72 
SŒšg
 
	gm_©ŒName
;

73 
	gm_©ŒChªge
;

	@NameNodeList.cpp

23 
	~"cÚfig.h
"

24 
	~"NameNodeLi¡.h
"

26 
	~"EËm’t.h
"

27 
	~"HTMLNames.h
"

28 
	~<wtf/As£¹iÚs.h
>

30 
Çme¥aû
 
	gWebCÜe
 {

32 
usšg
 
Çme¥aû
 
	gHTMLNames
;

34 
	gNameNodeLi¡
::
NameNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, cÚ¡ 
SŒšg
& 
Çme
, 
DyÇmicNodeLi¡
::
Caches
* 
ÿches
)

35 : 
DyÇmicNodeLi¡
(
roÙNode
, 
ÿches
)

36 , 
m_nodeName
(
Çme
)

40 
boŞ
 
	gNameNodeLi¡
::
nodeM©ches
(
EËm’t
* 
‹¡Node
) const

42  
‹¡Node
->
g‘A‰ribu‹
(
ÇmeA‰r
è=ğ
m_nodeName
;

	@NameNodeList.h

24 #iâdeà
NameNodeLi¡_h


25 
	#NameNodeLi¡_h


	)

27 
	~"AtomicSŒšg.h
"

28 
	~"DyÇmicNodeLi¡.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 
şass
 
	gSŒšg
;

35 şas 
	cNameNodeLi¡
 : 
public
 
DyÇmicNodeLi¡
 {

36 
public
:

37 
PassRefPŒ
<
NameNodeLi¡
> 
ü—‹
(PassRefPŒ<
Node
> 
roÙNode
, cÚ¡ 
SŒšg
& 
Çme
, 
Caches
* 
ÿches
)

39  
adİtRef
(
Ãw
 
NameNodeLi¡
(
roÙNode
, 
Çme
, 
ÿches
));

42 
	g´iv©e
:

43 
NameNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, cÚ¡ 
SŒšg
& 
Çme
, 
Caches
*);

45 
vœtu®
 
boŞ
 
nodeM©ches
(
EËm’t
*) const;

47 
AtomicSŒšg
 
	gm_nodeName
;

	@NamedAttrMap.cpp

25 
	~"cÚfig.h
"

26 
	~"NamedNodeM­.h
"

28 
	~"A‰r.h
"

29 
	~"Docum’t.h
"

30 
	~"EËm’t.h
"

31 
	~"Exû±iÚCode.h
"

32 
	~"HTMLNames.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
usšg
 
Çme¥aû
 
	gHTMLNames
;

38 
šlše
 
boŞ
 
shouldIgnÜeA‰ribu‹Ca£
(cÚ¡ 
EËm’t
* 
e
)

40  
	ge
 &&ƒ->
docum’t
()->
isHTMLDocum’t
(è&&ƒ->
isHTMLEËm’t
();

43 
šlše
 
	gNamedNodeM­
::
d‘achA‰ribu‹sFromEËm’t
()

45 
size_t
 
size
 = 
m_©Œibu‹s
.size();

46 
size_t
 
	gi
 = 0; i < 
	gsize
; i++) {

47 ià(
A‰r
* 
	g©Œ
 = 
m_©Œibu‹s
[
i
]->
©Œ
())

48 
©Œ
->
m_–em’t
 = 0;

52 
	gNamedNodeM­
::~
NamedNodeM­
()

54 
d‘achA‰ribu‹sFromEËm’t
();

57 
boŞ
 
	gNamedNodeM­
::
isM­³dA‰ribu‹M­
() const

59  
çl£
;

62 
	gPassRefPŒ
<
	gNode
> 
	gNamedNodeM­
::
g‘NamedI‹m
(cÚ¡ 
SŒšg
& 
Çme
) const

64 
A‰ribu‹
* 
a
 = 
g‘A‰ribu‹I‹m
(
Çme
, 
shouldIgnÜeA‰ribu‹Ca£
(
m_–em’t
));

65 ià(!
	ga
)

68  
	ga
->
ü—‹A‰rIfN“ded
(
m_–em’t
);

71 
	gPassRefPŒ
<
	gNode
> 
	gNamedNodeM­
::
g‘NamedI‹mNS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
) const

73  
g‘NamedI‹m
(
Qu®if›dName
(
nuÎAtom
, 
loÿlName
, 
Çme¥aûURI
));

76 
	gPassRefPŒ
<
	gNode
> 
	gNamedNodeM­
::
»moveNamedI‹m
(cÚ¡ 
SŒšg
& 
Çme
, 
Exû±iÚCode
& 
ec
)

78 
A‰ribu‹
* 
	ga
 = 
g‘A‰ribu‹I‹m
(
Çme
, 
shouldIgnÜeA‰ribu‹Ca£
(
m_–em’t
));

79 ià(!
	ga
) {

80 
	gec
 = 
NOT_FOUND_ERR
;

84  
»moveNamedI‹m
(
a
->
Çme
(), 
ec
);

87 
	gPassRefPŒ
<
	gNode
> 
	gNamedNodeM­
::
»moveNamedI‹mNS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
, 
Exû±iÚCode
& 
ec
)

89  
»moveNamedI‹m
(
Qu®if›dName
(
nuÎAtom
, 
loÿlName
, 
Çme¥aûURI
), 
ec
);

92 
	gPassRefPŒ
<
	gNode
> 
	gNamedNodeM­
::
g‘NamedI‹m
(cÚ¡ 
Qu®if›dName
& 
Çme
) const

94 
A‰ribu‹
* 
a
 = 
g‘A‰ribu‹I‹m
(
Çme
);

95 ià(!
	ga
)

98  
	ga
->
ü—‹A‰rIfN“ded
(
m_–em’t
);

101 
	gPassRefPŒ
<
	gNode
> 
	gNamedNodeM­
::
£tNamedI‹m
(
Node
* 
¬g
, 
Exû±iÚCode
& 
ec
)

103 ià(!
	gm_–em’t
 || !
	g¬g
) {

104 
	gec
 = 
NOT_FOUND_ERR
;

109 ià(
	g¬g
->
docum’t
(è!ğ
m_–em’t
->document()) {

110 
ec
 = 
WRONG_DOCUMENT_ERR
;

115 ià(!
	g¬g
->
isA‰ribu‹Node
()) {

116 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

119 
A‰r
 *
	g©Œ
 = 
¡©ic_ÿ¡
<A‰r*>(
¬g
);

121 
A‰ribu‹
* 
	ga
 = 
©Œ
->attr();

122 
A‰ribu‹
* 
	gŞd
 = 
g‘A‰ribu‹I‹m
(
a
->
Çme
());

123 ià(
	gŞd
 =ğ
a
)

124  
RefPŒ
<
Node
>(
¬g
);

128 ià(
	g©Œ
->
owÃrEËm’t
()) {

129 
	gec
 = 
INUSE_ATTRIBUTE_ERR
;

133 ià(
	g©Œ
->
isId
())

134 
	gm_–em’t
->
upd©eId
(
Şd
 ? old->
v®ue
(è: 
nuÎAtom
, 
a
->value());

137 
	gRefPŒ
<
	gNode
> 
	gr
;

138 ià(
	gŞd
) {

139 
	gr
 = 
Şd
->
ü—‹A‰rIfN“ded
(
m_–em’t
);

140 
»moveA‰ribu‹
(
a
->
Çme
());

143 
addA‰ribu‹
(
a
);

144  
	gr
.
»Ëa£
();

150 
	gPassRefPŒ
<
	gNode
> 
	gNamedNodeM­
::
»moveNamedI‹m
(cÚ¡ 
Qu®if›dName
& 
Çme
, 
Exû±iÚCode
& 
ec
)

152 
A‰ribu‹
* 
	ga
 = 
g‘A‰ribu‹I‹m
(
Çme
);

153 ià(!
	ga
) {

154 
	gec
 = 
NOT_FOUND_ERR
;

158 
	gRefPŒ
<
	gA‰r
> 
	gr
 = 
a
->
ü—‹A‰rIfN“ded
(
m_–em’t
);

160 ià(
	gr
->
isId
())

161 
	gm_–em’t
->
upd©eId
(
a
->
v®ue
(), 
nuÎAtom
);

163 
»moveA‰ribu‹
(
Çme
);

164  
	gr
.
»Ëa£
();

167 
	gPassRefPŒ
<
	gNode
> 
	gNamedNodeM­
::
™em
(
šdex
) const

169 ià(
šdex
 >ğ
Ëngth
())

172  
	gm_©Œibu‹s
[
šdex
]->
ü—‹A‰rIfN“ded
(
m_–em’t
);

175 
A‰ribu‹
* 
	gNamedNodeM­
::
g‘A‰ribu‹I‹mSlowCa£
(cÚ¡ 
SŒšg
& 
Çme
, 
boŞ
 
shouldIgnÜeA‰ribu‹Ca£
) const

177 
	gËn
 = 
Ëngth
();

180 
	gi
 = 0; i < 
	gËn
; ++i) {

181 cÚ¡ 
	gQu®if›dName
& 
	g©ŒName
 = 
m_©Œibu‹s
[
i
]->
Çme
();

182 ià(!
	g©ŒName
.
hasP»fix
()) {

183 ià(
	gshouldIgnÜeA‰ribu‹Ca£
 && 
equ®IgnÜšgCa£
(
Çme
, 
©ŒName
.
loÿlName
()))

184  
	gm_©Œibu‹s
[
i
].
g‘
();

189 ià(
equ®PossiblyIgnÜšgCa£
(
Çme
, 
©ŒName
.
toSŒšg
(), 
shouldIgnÜeA‰ribu‹Ca£
))

190  
	gm_©Œibu‹s
[
i
].
g‘
();

196 
	gNamedNodeM­
::
ş—rA‰ribu‹s
()

198 
d‘achA‰ribu‹sFromEËm’t
();

199 
	gm_©Œibu‹s
.
ş—r
();

202 
	gNamedNodeM­
::
d‘achFromEËm’t
()

208 
m_–em’t
 = 0;

209 
ş—rA‰ribu‹s
();

212 
	gNamedNodeM­
::
£tA‰ribu‹s
(cÚ¡ 
NamedNodeM­
& 
Ùh”
)

215 ià(!
m_–em’t
)

220 
A‰ribu‹
* 
	gŞdId
 = 
g‘A‰ribu‹I‹m
(
m_–em’t
->
idA‰ribu‹Name
());

221 
A‰ribu‹
* 
	gÃwId
 = 
Ùh”
.
g‘A‰ribu‹I‹m
(
m_–em’t
->
idA‰ribu‹Name
());

223 ià(
	gŞdId
 || 
	gÃwId
)

224 
	gm_–em’t
->
upd©eId
(
ŞdId
 ? oldId->
v®ue
(è: 
nuÎAtom
, 
ÃwId
 ?‚ewId->value() :‚ullAtom);

226 
ş—rA‰ribu‹s
();

227 
	gÃwL’gth
 = 
Ùh”
.
Ëngth
();

228 
	gm_©Œibu‹s
.
»size
(
ÃwL’gth
);

229 
	gi
 = 0; i < 
	gÃwL’gth
; i++)

230 
	gm_©Œibu‹s
[
i
] = 
Ùh”
.
m_©Œibu‹s
[i]->
şÚe
();

236 
	gi
 = 0; i < 
	gÃwL’gth
; i++)

237 
	gm_–em’t
->
©Œibu‹Chªged
(
m_©Œibu‹s
[
i
].
g‘
(), 
Œue
);

240 
	gNamedNodeM­
::
addA‰ribu‹
(
PassRefPŒ
<
A‰ribu‹
> 
´pA‰ribu‹
)

242 
RefPŒ
<
A‰ribu‹
> 
©Œibu‹
 = 
´pA‰ribu‹
;

245 
	gm_©Œibu‹s
.
­³nd
(
©Œibu‹
);

247 ià(
A‰r
* 
	g©Œ
 = 
©Œibu‹
->
©Œ
())

248 
©Œ
->
m_–em’t
 = m_element;

252 ià(
	gm_–em’t
) {

253 
	gm_–em’t
->
©Œibu‹Chªged
(
©Œibu‹
.
g‘
());

255 ià(
	g©Œibu‹
->
Çme
(è!ğ
¡yËA‰r
) {

256 
m_–em’t
->
di¥©chA‰rAdd™iÚEv’t
(
©Œibu‹
.
g‘
());

257 
	gm_–em’t
->
di¥©chSubŒ“Modif›dEv’t
();

262 
	gNamedNodeM­
::
»moveA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
)

264 
Ën
 = 
Ëngth
();

265 
	gšdex
 = 
Ën
;

266 
	gi
 = 0; i < 
	gËn
; ++i) {

267 ià(
	gm_©Œibu‹s
[
i
]->
Çme
().
m©ches
(name)) {

268 
	gšdex
 = 
i
;

273 ià(
	gšdex
 >ğ
Ën
)

277 
	gRefPŒ
<
	gA‰ribu‹
> 
	g©Œ
 = 
m_©Œibu‹s
[
šdex
].
g‘
();

278 ià(
A‰r
* 
	ga
 = 
m_©Œibu‹s
[
šdex
]->
©Œ
())

279 
a
->
m_–em’t
 = 0;

281 
	gm_©Œibu‹s
.
»move
(
šdex
);

285 ià(
	gm_–em’t
 && !
	g©Œ
->
	gm_v®ue
.
isNuÎ
()) {

286 
AtomicSŒšg
 
	gv®ue
 = 
©Œ
->
m_v®ue
;

287 
	g©Œ
->
	gm_v®ue
 = 
nuÎAtom
;

288 
	gm_–em’t
->
©Œibu‹Chªged
(
©Œ
.
g‘
());

289 
	g©Œ
->
	gm_v®ue
 = 
v®ue
;

291 ià(
	gm_–em’t
) {

292 
	gm_–em’t
->
di¥©chA‰rRemov®Ev’t
(
©Œ
.
g‘
());

293 
	gm_–em’t
->
di¥©chSubŒ“Modif›dEv’t
();

297 
boŞ
 
	gNamedNodeM­
::
m­sEquiv®’t
(cÚ¡ 
NamedNodeM­
* 
Ùh”M­
) const

299 ià(!
Ùh”M­
)

300  
çl£
;

302 
	gËn
 = 
Ëngth
();

303 ià(
	gËn
 !ğ
Ùh”M­
->
Ëngth
())

304  
çl£
;

306 
	gi
 = 0; i < 
	gËn
; i++) {

307 
A‰ribu‹
 *
	g©Œ
 = 
©Œibu‹I‹m
(
i
);

308 
A‰ribu‹
 *
	gÙh”A‰r
 = 
Ùh”M­
->
g‘A‰ribu‹I‹m
(
©Œ
->
Çme
());

310 ià(!
	gÙh”A‰r
 || 
	g©Œ
->
v®ue
(è!ğ
Ùh”A‰r
->value())

311  
çl£
;

314  
	gŒue
;

	@NamedAttrMap.h

25 #iâdeà
NamedA‰rM­_h


26 
	#NamedA‰rM­_h


	)

28 
	~"A‰ribu‹.h
"

30 #ifdeà
__OBJC__


31 
	#id
 
id_AVOID_KEYWORD


	)

34 
Çme¥aû
 
	gWebCÜe
 {

36 
şass
 
	gNode
;

38 
	tExû±iÚCode
;

40 
şass
 
	gNamedNodeM­
 : 
public
 
RefCouÁed
<
NamedNodeM­
> {

41 
ä›nd
 
şass
 
EËm’t
;

43 
	g´Ùeùed
:

44 
NamedNodeM­
(
EËm’t
* 
–em’t
è: 
m_–em’t
(element) { }

46 
public
:

47 
PassRefPŒ
<
NamedNodeM­
> 
ü—‹
(
EËm’t
* 
–em’t
è{  
adİtRef
(
Ãw
 NamedNodeMap(element)); }

49 
	gvœtu®
 ~
NamedNodeM­
();

53 
	gPassRefPŒ
<
	gNode
> 
g‘NamedI‹m
(cÚ¡ 
SŒšg
& 
Çme
) const;

54 
	gPassRefPŒ
<
	gNode
> 
»moveNamedI‹m
(cÚ¡ 
SŒšg
& 
Çme
, 
Exû±iÚCode
&);

56 
	gPassRefPŒ
<
	gNode
> 
g‘NamedI‹mNS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
) const;

57 
	gPassRefPŒ
<
	gNode
> 
»moveNamedI‹mNS
(cÚ¡ 
SŒšg
& 
Çme¥aûURI
, cÚ¡ SŒšg& 
loÿlName
, 
Exû±iÚCode
&);

59 
	gPassRefPŒ
<
	gNode
> 
g‘NamedI‹m
(cÚ¡ 
Qu®if›dName
& 
Çme
) const;

60 
	gPassRefPŒ
<
	gNode
> 
»moveNamedI‹m
(cÚ¡ 
Qu®if›dName
& 
Çme
, 
Exû±iÚCode
&);

61 
	gPassRefPŒ
<
	gNode
> 
£tNamedI‹m
(
Node
*, 
Exû±iÚCode
&);

62 
	gPassRefPŒ
<
	gNode
> 
£tNamedI‹mNS
(
Node
* 
node
, 
Exû±iÚCode
& 
ec
è{  
£tNamedI‹m
(node,ƒc); }

64 
	gPassRefPŒ
<
	gNode
> 
™em
(
šdex
) const;

65 
size_t
 
Ëngth
(ècÚ¡ {  
	gm_©Œibu‹s
.
size
(); }

66 
boŞ
 
isEm±y
(ècÚ¡ {  !
Ëngth
(); }

70 
£tA‰ribu‹s
(cÚ¡ 
NamedNodeM­
&);

72 
A‰ribu‹
* 
©Œibu‹I‹m
(
šdex
ècÚ¡ {  
	gm_©Œibu‹s
[šdex].
g‘
(); }

73 
A‰ribu‹
* 
g‘A‰ribu‹I‹m
(cÚ¡ 
Qu®if›dName
&) const;

75 
shrškToL’gth
(è{ 
	gm_©Œibu‹s
.
shrškC­ac™y
(
Ëngth
()); }

76 
»£rveIn™ŸlC­ac™y
(
ÿ·c™y
è{ 
	gm_©Œibu‹s
.reserveInitialCapacity(capacity); }

79 
š£¹A‰ribu‹
(
PassRefPŒ
<
A‰ribu‹
> 
ÃwA‰ribu‹
, 
boŞ
 
®lowDu¶iÿ‹s
)

81 
ASSERT
(!
m_–em’t
);

82 ià(
	g®lowDu¶iÿ‹s
 || !
g‘A‰ribu‹I‹m
(
ÃwA‰ribu‹
->
Çme
()))

83 
addA‰ribu‹
(
ÃwA‰ribu‹
);

86 
vœtu®
 
boŞ
 
isM­³dA‰ribu‹M­
() const;

88 cÚ¡ 
	gAtomicSŒšg
& 
id
(ècÚ¡ {  
	gm_id
; }

89 
£tID
(cÚ¡ 
AtomicSŒšg
& 
ÃwId
è{ 
	gm_id
 =‚ewId; }

91 
boŞ
 
m­sEquiv®’t
(cÚ¡ 
NamedNodeM­
* 
Ùh”M­
) const;

94 
addA‰ribu‹
(
PassRefPŒ
<
A‰ribu‹
>);

95 
»moveA‰ribu‹
(cÚ¡ 
Qu®if›dName
&);

97 
EËm’t
* 
–em’t
(ècÚ¡ {  
	gm_–em’t
; }

99 
	g´Ùeùed
:

100 
vœtu®
 
ş—rA‰ribu‹s
();

102 
	g´iv©e
:

103 
d‘achA‰ribu‹sFromEËm’t
();

104 
d‘achFromEËm’t
();

105 
A‰ribu‹
* 
g‘A‰ribu‹I‹m
(cÚ¡ 
SŒšg
& 
Çme
, 
boŞ
 
shouldIgnÜeA‰ribu‹Ca£
) const;

106 
A‰ribu‹
* 
g‘A‰ribu‹I‹mSlowCa£
(cÚ¡ 
SŒšg
& 
Çme
, 
boŞ
 
shouldIgnÜeA‰ribu‹Ca£
) const;

108 
EËm’t
* 
	gm_–em’t
;

109 
	gVeùÜ
<
	gRefPŒ
<
	gA‰ribu‹
> > 
	gm_©Œibu‹s
;

110 
AtomicSŒšg
 
	gm_id
;

113 
šlše
 
A‰ribu‹
* 
	gNamedNodeM­
::
g‘A‰ribu‹I‹m
(cÚ¡ 
Qu®if›dName
& 
Çme
) const

115 
Ën
 = 
Ëngth
();

116 
	gi
 = 0; i < 
	gËn
; ++i) {

117 ià(
	gm_©Œibu‹s
[
i
]->
Çme
().
m©ches
(name))

118  
	gm_©Œibu‹s
[
i
].
g‘
();

125 
šlše
 
A‰ribu‹
* 
	gNamedNodeM­
::
g‘A‰ribu‹I‹m
(cÚ¡ 
SŒšg
& 
Çme
, 
boŞ
 
shouldIgnÜeA‰ribu‹Ca£
) const

127 
	gËn
 = 
Ëngth
();

128 
boŞ
 
	gdoSlowCheck
 = 
shouldIgnÜeA‰ribu‹Ca£
;

131 
	gi
 = 0; i < 
	gËn
; ++i) {

132 cÚ¡ 
	gQu®if›dName
& 
	g©ŒName
 = 
m_©Œibu‹s
[
i
]->
Çme
();

133 ià(!
	g©ŒName
.
hasP»fix
()) {

134 ià(
	gÇme
 =ğ
©ŒName
.
loÿlName
())

135  
m_©Œibu‹s
[
i
].
g‘
();

137 
	gdoSlowCheck
 = 
Œue
;

140 ià(
	gdoSlowCheck
)

141  
g‘A‰ribu‹I‹mSlowCa£
(
Çme
, 
shouldIgnÜeA‰ribu‹Ca£
);

147 #undeà
id


	@NamedMappedAttrMap.cpp

25 
	~"cÚfig.h
"

26 
	~"NamedM­³dA‰rM­.h
"

28 
	~"Docum’t.h
"

29 
	~"EËm’t.h
"

30 
	~"M­³dA‰ribu‹.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 
	gNamedM­³dA‰rM­
::
ş—rA‰ribu‹s
()

36 
m_şassNames
.
ş—r
();

37 
	gm_m­³dA‰ribu‹CouÁ
 = 0;

38 
	gNamedNodeM­
::
ş—rA‰ribu‹s
();

41 
boŞ
 
	gNamedM­³dA‰rM­
::
isM­³dA‰ribu‹M­
() const

43  
Œue
;

46 
	gNamedM­³dA‰rM­
::
deşCouÁ
() const

48 
»suÉ
 = 0;

49 
	gi
 = 0; i < 
Ëngth
(); i++) {

50 
A‰ribu‹
* 
	g©Œ
 = 
©Œibu‹I‹m
(
i
);

51 ià(
	g©Œ
->
isM­³dA‰ribu‹
() &&

52 
	g¡©ic_ÿ¡
<
	gM­³dA‰ribu‹
*>(
	g©Œ
)->
deş
())

53 
	g»suÉ
++;

55  
	g»suÉ
;

58 
boŞ
 
	gNamedM­³dA‰rM­
::
m­sEquiv®’t
(cÚ¡ 
NamedM­³dA‰rM­
* 
Ùh”M­
) const

61 ià(
deşCouÁ
(è!ğ
Ùh”M­
->declCount())

62  
çl£
;

65 
	gi
 = 0; i < 
Ëngth
(); i++) {

66 
A‰ribu‹
* 
	g©Œ
 = 
©Œibu‹I‹m
(
i
);

67 ià(
	g©Œ
->
isM­³dA‰ribu‹
() &&

68 
	g¡©ic_ÿ¡
<
	gM­³dA‰ribu‹
*>(
	g©Œ
)->
deş
()) {

69 
A‰ribu‹
* 
	gÙh”A‰r
 = 
Ùh”M­
->
g‘A‰ribu‹I‹m
(
©Œ
->
Çme
());

70 ià(!
	gÙh”A‰r
 || (
	g©Œ
->
v®ue
(è!ğ
Ùh”A‰r
->value()))

71  
çl£
;

74  
	gŒue
;

77 
	gNamedM­³dA‰rM­
::
£tCÏss
(cÚ¡ 
SŒšg
& 
şassSŒ
)

79 ià(!
–em’t
()->
hasCÏss
()) {

80 
m_şassNames
.
ş—r
();

84 
	gm_şassNames
.
£t
(
şassSŒ
, 
–em’t
()->
docum’t
()->
šCom·tMode
());

	@NamedMappedAttrMap.h

26 #iâdeà
NamedM­³dA‰rM­_h


27 
	#NamedM­³dA‰rM­_h


	)

29 
	~"NamedNodeM­.h
"

30 
	~"S·ûS¶™SŒšg.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 şas 
	cNamedM­³dA‰rM­
 : 
public
 
NamedNodeM­
 {

35 
public
:

36 
PassRefPŒ
<
NamedM­³dA‰rM­
> 
ü—‹
(
EËm’t
* 
–em’t
 = 0è{  
adİtRef
(
Ãw
 NamedMappedAttrMap(element)); }

38 
ş—rCÏss
(è{ 
	gm_şassNames
.
ş—r
(); }

39 
£tCÏss
(cÚ¡ 
SŒšg
&);

40 cÚ¡ 
	gS·ûS¶™SŒšg
& 
şassNames
(ècÚ¡ {  
	gm_şassNames
; }

42 
boŞ
 
hasM­³dA‰ribu‹s
(ècÚ¡ {  
	gm_m­³dA‰ribu‹CouÁ
 > 0; }

43 
deşRemoved
(è{ 
	gm_m­³dA‰ribu‹CouÁ
--; }

44 
deşAdded
(è{ 
	gm_m­³dA‰ribu‹CouÁ
++; }

46 
boŞ
 
m­sEquiv®’t
(cÚ¡ 
NamedM­³dA‰rM­
*) const;

48 
	g´iv©e
:

49 
NamedM­³dA‰rM­
(
EËm’t
* 
–em’t
è: 
NamedNodeM­
ÓËm’t), 
m_m­³dA‰ribu‹CouÁ
(0) { }

51 
vœtu®
 
ş—rA‰ribu‹s
();

52 
vœtu®
 
boŞ
 
isM­³dA‰ribu‹M­
() const;

54 
deşCouÁ
() const;

56 
S·ûS¶™SŒšg
 
	gm_şassNames
;

57 
	gm_m­³dA‰ribu‹CouÁ
;

	@NamedNodeMap.h

1 
	~"NamedA‰rM­.h
"

	@Node.cpp

25 
	~"cÚfig.h
"

26 
	~"Node.h
"

28 
	~"A‰r.h
"

29 
	~"CSSP¬£r.h
"

30 
	~"CSSRuË.h
"

31 
	~"CSSRuËLi¡.h
"

32 
	~"CSSS–eùÜ.h
"

33 
	~"CSSS–eùÜLi¡.h
"

34 
	~"CSSStyËRuË.h
"

35 
	~"CSSStyËS–eùÜ.h
"

36 
	~"CSSStyËSh“t.h
"

37 
	~"ChdNodeLi¡.h
"

38 
	~"CÏssNodeLi¡.h
"

39 
	~"CÚ‹xtM’uCÚŒŞËr.h
"

40 
	~"DOMIm¶em’tiÚ.h
"

41 
	~"Docum’t.h
"

42 
	~"DyÇmicNodeLi¡.h
"

43 
	~"EËm’t.h
"

44 
	~"Ev’t.h
"

45 
	~"Ev’tExû±iÚ.h
"

46 
	~"Ev’tHªdËr.h
"

47 
	~"Ev’tLi¡’”.h
"

48 
	~"Ev’tNames.h
"

49 
	~"Exû±iÚCode.h
"

50 
	~"F¿me.h
"

51 
	~"F¿meV›w.h
"

52 
	~"HTMLNames.h
"

53 
	~"In¥eùÜTim–šeAg’t.h
"

54 
	~"KeybßrdEv’t.h
"

55 
	~"Loggšg.h
"

56 
	~"M­³dA‰ribu‹.h
"

57 
	~"Mou£Ev’t.h
"

58 
	~"MutiÚEv’t.h
"

59 
	~"NameNodeLi¡.h
"

60 
	~"NamedNodeM­.h
"

61 
	~"NodeR¬eD©a.h
"

62 
	~"Page.h
"

63 
	~"PÏtfÜmMou£Ev’t.h
"

64 
	~"PÏtfÜmWh“lEv’t.h
"

65 
	~"ProûssšgIn¡ruùiÚ.h
"

66 
	~"Prog»ssEv’t.h
"

67 
	~"Regi¡”edEv’tLi¡’”.h
"

68 
	~"R’d”Objeù.h
"

69 
	~"SütCÚŒŞËr.h
"

70 
	~"S–eùÜNodeLi¡.h
"

71 
	~"SŒšgBud”.h
"

72 
	~"TagNodeLi¡.h
"

73 
	~"Text.h
"

74 
	~"TextEv’t.h
"

75 
	~"UIEv’t.h
"

76 
	~"UIEv’tW™hKeyS‹.h
"

77 
	~"WebK™Anim©iÚEv’t.h
"

78 
	~"WebK™T¿ns™iÚEv’t.h
"

79 
	~"Wh“lEv’t.h
"

80 
	~"XMLNames.h
"

81 
	~"htmËd™šg.h
"

82 
	~<wtf/‹xt/CSŒšg.h
>

83 
	~<wtf/HashS‘.h
>

84 
	~<wtf/PassOwnPŒ.h
>

85 
	~<wtf/RefCouÁedL—kCouÁ”.h
>

86 
	~<wtf/Unu£dP¬am.h
>

88 #ià
ENABLE
(
DOM_STORAGE
)

89 
	~"StÜageEv’t.h
"

92 #ià
ENABLE
(
SVG
)

93 
	~"SVGEËm’tIn¡ªû.h
"

94 
	~"SVGU£EËm’t.h
"

97 #ià
ENABLE
(
XHTMLMP
)

98 
	~"HTMLNoSütEËm’t.h
"

101 
	#DUMP_NODE_STATISTICS
 0

	)

103 
usšg
 
Çme¥aû
 
	g¡d
;

105 
Çme¥aû
 
	gWebCÜe
 {

107 
usšg
 
Çme¥aû
 
	gHTMLNames
;

109 
	gHashS‘
<
	gNode
*>* 
	ggNodesDi¥©chšgSimuÏ‹dClicks
 = 0;

111 
boŞ
 
	gNode
::
isSuµÜ‹d
(cÚ¡ 
SŒšg
& 
ã©u»
, cÚ¡ SŒšg& 
v”siÚ
)

113  
	gDOMIm¶em’tiÚ
::
hasF—tu»
(
ã©u»
, 
v”siÚ
);

116 #ià
DUMP_NODE_STATISTICS


117 
	gHashS‘
<
	gNode
*> 
	gliveNodeS‘
;

120 
	gNode
::
dumpSti¡ics
()

122 #ià
DUMP_NODE_STATISTICS


123 
size_t
 
nodesW™hR¬eD©a
 = 0;

125 
size_t
 
	g–em’tNodes
 = 0;

126 
size_t
 
	g©ŒNodes
 = 0;

127 
size_t
 
	g‹xtNodes
 = 0;

128 
size_t
 
	gcd©aNodes
 = 0;

129 
size_t
 
	gcomm’tNodes
 = 0;

130 
size_t
 
	g’t™yReã»nûNodes
 = 0;

131 
size_t
 
	g’t™yNodes
 = 0;

132 
size_t
 
	gpiNodes
 = 0;

133 
size_t
 
	gdocum’tNodes
 = 0;

134 
size_t
 
	gdocTy³Nodes
 = 0;

135 
size_t
 
	gäagm’tNodes
 = 0;

136 
size_t
 
	gnÙ©iÚNodes
 = 0;

137 
size_t
 
	gx·thNSNodes
 = 0;

139 
	gHashM­
<
	gSŒšg
, 
	gsize_t
> 
	g³rTagCouÁ
;

141 
size_t
 
	g©Œibu‹s
 = 0;

142 
size_t
 
	gm­³dA‰ribu‹s
 = 0;

143 
size_t
 
	gm­³dA‰ribu‹sW™hStyËDeş
 = 0;

144 
size_t
 
	g©Œibu‹sW™hA‰r
 = 0;

145 
size_t
 
	g©ŒM­s
 = 0;

146 
size_t
 
	gm­³dA‰rM­s
 = 0;

148 
	gHashS‘
<
	gNode
*>::
™”©Ü
 
™
 = 
liveNodeS‘
.
begš
(); 
	g™
 !ğliveNodeS‘.
’d
(); ++it) {

149 
Node
* 
	gnode
 = *
™
;

151 ià(
	gnode
->
hasR¬eD©a
())

152 ++
	gnodesW™hR¬eD©a
;

154 
	gnode
->
nodeTy³
()) {

155 
	gELEMENT_NODE
: {

156 ++
–em’tNodes
;

159 
EËm’t
* 
	g–em’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
node
);

160 
	g·œ
<
	gHashM­
<
	gSŒšg
, 
	gsize_t
>::
™”©Ü
, 
	gboŞ
> 
	g»suÉ
 = 
³rTagCouÁ
.
add
(
–em’t
->
gName
(), 1);

161 ià(!
	g»suÉ
.
	g£cÚd
)

162 
	g»suÉ
.
	gfœ¡
->
	g£cÚd
++;

165 ià(
NamedNodeM­
* 
	g©ŒM­
 = 
–em’t
->
©Œibu‹s
(
Œue
)) {

166 
©Œibu‹s
 +ğ
©ŒM­
->
Ëngth
();

167 ++
	g©ŒM­s
;

168 ià(
	g©ŒM­
->
isM­³dA‰ribu‹M­
())

169 ++
	gm­³dA‰rM­s
;

170 
	gi
 = 0; i < 
	g©ŒM­
->
Ëngth
(); ++i) {

171 
A‰ribu‹
* 
	g©Œ
 = 
©ŒM­
->
©Œibu‹I‹m
(
i
);

172 ià(
	g©Œ
->
©Œ
())

173 ++
	g©Œibu‹sW™hA‰r
;

174 ià(
	g©Œ
->
isM­³dA‰ribu‹
()) {

175 ++
	gm­³dA‰ribu‹s
;

176 ià(
	g©Œ
->
¡yË
())

177 ++
	gm­³dA‰ribu‹sW™hStyËDeş
;

183 
	gATTRIBUTE_NODE
: {

184 ++
©ŒNodes
;

187 
	gTEXT_NODE
: {

188 ++
‹xtNodes
;

191 
	gCDATA_SECTION_NODE
: {

192 ++
cd©aNodes
;

195 
	gCOMMENT_NODE
: {

196 ++
comm’tNodes
;

199 
	gENTITY_REFERENCE_NODE
: {

200 ++
’t™yReã»nûNodes
;

203 
	gENTITY_NODE
: {

204 ++
’t™yNodes
;

207 
	gPROCESSING_INSTRUCTION_NODE
: {

208 ++
piNodes
;

211 
	gDOCUMENT_NODE
: {

212 ++
docum’tNodes
;

215 
	gDOCUMENT_TYPE_NODE
: {

216 ++
docTy³Nodes
;

219 
	gDOCUMENT_FRAGMENT_NODE
: {

220 ++
äagm’tNodes
;

223 
	gNOTATION_NODE
: {

224 ++
nÙ©iÚNodes
;

227 
	gXPATH_NAMESPACE_NODE
: {

228 ++
x·thNSNodes
;

235 
´štf
("Numb” oàNodes: %d\n\n", 
liveNodeS‘
.
size
());

236 
´štf
("Numb” oàNode w™h R¬eD©a: %zu\n\n", 
nodesW™hR¬eD©a
);

238 
´štf
("NodeType distrubution:\n");

239 
´štf
(" Numb” oàEËm’ˆnodes: %zu\n", 
–em’tNodes
);

240 
´štf
(" Numb” oàA‰ribu‹‚odes: %zu\n", 
©ŒNodes
);

241 
´štf
(" Numb” oàTexˆnodes: %zu\n", 
‹xtNodes
);

242 
´štf
(" Numb” oàCDATASeùiÚ‚odes: %zu\n", 
cd©aNodes
);

243 
´štf
(" Numb” oàComm’ˆnodes: %zu\n", 
comm’tNodes
);

244 
´štf
(" Numb” oàEÁ™yReã»nû‚odes: %zu\n", 
’t™yReã»nûNodes
);

245 
´štf
(" Numb” oàEÁ™y‚odes: %zu\n", 
’t™yNodes
);

246 
´štf
(" Numb” oàProûssšgIn¡ruùiÚ‚odes: %zu\n", 
piNodes
);

247 
´štf
(" Numb” oàDocum’ˆnodes: %zu\n", 
docum’tNodes
);

248 
´štf
(" Numb” oàDocum’tTy³‚odes: %zu\n", 
docTy³Nodes
);

249 
´štf
(" Numb” oàDocum’tF¿gm’ˆnodes: %zu\n", 
äagm’tNodes
);

250 
´štf
(" Numb” oàNÙ©iÚ‚odes: %zu\n", 
nÙ©iÚNodes
);

251 
´štf
(" Numb” oàXP©hNS‚odes: %zu\n", 
x·thNSNodes
);

253 
´štf
("Elementag‚ame distibution:\n");

254 
	gHashM­
<
	gSŒšg
, 
	gsize_t
>::
™”©Ü
 
™
 = 
³rTagCouÁ
.
begš
(); 
	g™
 !ğ³rTagCouÁ.
’d
(); ++it)

255 
´štf
(" Numb” oà<%s>ags: %zu\n", 
™
->
fœ¡
.
utf8
().
d©a
(), it->
£cÚd
);

257 
´štf
("Attribute Maps:\n");

258 
´štf
(" Numb” oàA‰ribu‹ ÒÚ-Nodªd Node): %zu [%zu]\n", 
©Œibu‹s
, (
A‰ribu‹
));

259 
´štf
(" Numb” oàM­³dA‰ribu‹s: %zu [%zu]\n", 
m­³dA‰ribu‹s
, (
M­³dA‰ribu‹
));

260 
´štf
(" Numb” oàM­³dA‰ribu‹ w™h‡ StyËDeş¬©iÚ: %zu\n", 
m­³dA‰ribu‹sW™hStyËDeş
);

261 
´štf
(" Numb” oàA‰ribu‹ w™h‡ÀA‰r: %zu\n", 
©Œibu‹sW™hA‰r
);

262 
´štf
(" Numb” oàNamedNodeM­s: %zu\n", 
©ŒM­s
);

263 
´štf
(" Numb” oàNamedM­³dA‰rM­: %zu\n", 
m­³dA‰rM­s
);

267 #iâdeà
NDEBUG


268 
	gWTF
::
RefCouÁedL—kCouÁ”
 
nodeCouÁ”
("WebCoreNode");

270 
boŞ
 
	gshouldIgnÜeL—ks
 = 
çl£
;

271 
	gHashS‘
<
	gNode
*> 
	gignÜeS‘
;

274 
	gNode
::
¡¬tIgnÜšgL—ks
()

276 #iâdeà
NDEBUG


277 
shouldIgnÜeL—ks
 = 
Œue
;

281 
	gNode
::
¡İIgnÜšgL—ks
()

283 #iâdeà
NDEBUG


284 
shouldIgnÜeL—ks
 = 
çl£
;

288 
	gNode
::
StyËChªge
 
Node
::
diff
(cÚ¡ 
R’d”StyË
* 
s1
, cÚ¡ R’d”StyË* 
s2
)

293 
StyËChªge
 
	gch
 = 
NoInh”™
;

294 
EDi¥Ïy
 
	gdi¥Ïy1
 = 
s1
 ? s1->
di¥Ïy
(è: 
NONE
;

295 
boŞ
 
	gæ1
 = 
s1
 && s1->
hasP£udoStyË
(
FIRST_LETTER
);

296 
EDi¥Ïy
 
	gdi¥Ïy2
 = 
s2
 ? s2->
di¥Ïy
(è: 
NONE
;

297 
boŞ
 
	gæ2
 = 
s2
 && s2->
hasP£udoStyË
(
FIRST_LETTER
);

299 ià(
	gdi¥Ïy1
 !ğ
di¥Ïy2
 || 
æ1
 !ğ
æ2
 || (
s1
 && 
s2
 && !s1->
cÚ‹ÁD©aEquiv®’t
(s2)))

300 
ch
 = 
D‘ach
;

301 ià(!
	gs1
 || !
	gs2
)

302 
	gch
 = 
Inh”™
;

303 ià(*
	gs1
 =ğ*
s2
)

304 
ch
 = 
NoChªge
;

305 ià(
	gs1
->
šh”™edNÙEqu®
(
s2
))

306 
	gch
 = 
Inh”™
;

311 ià(
	gch
 =ğ
NoChªge
 && 
s1
->
chdIndex
(è!ğ
s2
->childIndex())

312 
ch
 = 
NoInh”™
;

316 ià(
	gch
 =ğ
NoChªge
 && 
s1
->
hasAnyPublicP£udoStyËs
()) {

317 
P£udoId
 
p£udoId
 = 
FIRST_PUBLIC_PSEUDOID
; 
	gch
 =ğ
NoChªge
 &&…£udoId < 
FIRST_INTERNAL_PSEUDOID
; 
	gp£udoId
 = 
¡©ic_ÿ¡
<PseudoId>(pseudoId + 1)) {

318 ià(
s1
->
hasP£udoStyË
(
p£udoId
)) {

319 
R’d”StyË
* 
ps2
 = 
s2
->
g‘CachedP£udoStyË
(
p£udoId
);

320 ià(!
	gps2
)

321 
	gch
 = 
NoInh”™
;

323 
R’d”StyË
* 
	gps1
 = 
s1
->
g‘CachedP£udoStyË
(
p£udoId
);

324 
	gch
 = 
ps1
 && *ps1 =ğ*
ps2
 ? 
NoChªge
 : 
NoInh”™
;

330  
	gch
;

333 
šlše
 
boŞ
 
	gNode
::
š™ŸlRefCouÁ
(
CÚ¡ruùiÚTy³
 
ty³
)

335 
ty³
) {

336 
C»©eCÚš”
:

337 
C»©eEËm’t
:

338 
C»©eOth”
:

339 
C»©eText
:

341 
	gC»©eEËm’tZ”oRefCouÁ
:

344 
ASSERT_NOT_REACHED
();

348 
šlše
 
boŞ
 
	gNode
::
isCÚš”
(
CÚ¡ruùiÚTy³
 
ty³
)

350 
ty³
) {

351 
C»©eCÚš”
:

352 
C»©eEËm’t
:

353 
C»©eEËm’tZ”oRefCouÁ
:

354  
Œue
;

355 
	gC»©eOth”
:

356 
C»©eText
:

357  
çl£
;

359 
ASSERT_NOT_REACHED
();

360  
	gçl£
;

363 
šlše
 
boŞ
 
	gNode
::
isEËm’t
(
CÚ¡ruùiÚTy³
 
ty³
)

365 
ty³
) {

366 
C»©eCÚš”
:

367 
C»©eOth”
:

368 
C»©eText
:

369  
çl£
;

370 
	gC»©eEËm’t
:

371 
C»©eEËm’tZ”oRefCouÁ
:

372  
Œue
;

374 
ASSERT_NOT_REACHED
();

375  
	gçl£
;

378 
šlše
 
boŞ
 
	gNode
::
isText
(
CÚ¡ruùiÚTy³
 
ty³
)

380 
ty³
) {

381 
C»©eCÚš”
:

382 
C»©eEËm’t
:

383 
C»©eEËm’tZ”oRefCouÁ
:

384 
C»©eOth”
:

385  
çl£
;

386 
	gC»©eText
:

387  
Œue
;

389 
ASSERT_NOT_REACHED
();

390  
	gçl£
;

393 
	gNode
::
Node
(
Docum’t
* 
docum’t
, 
CÚ¡ruùiÚTy³
 
ty³
)

394 : 
T»eSh¬ed
<
Node
>(
š™ŸlRefCouÁ
(
ty³
))

395 , 
m_docum’t
(
docum’t
)

396 , 
m_´evious
(0)

397 , 
m_Ãxt
(0)

398 , 
m_»nd””
(0)

399 , 
m_¡yËChªge
(
NoStyËChªge
)

400 , 
m_hasId
(
çl£
)

401 , 
m_hasCÏss
(
çl£
)

402 , 
m_©ched
(
çl£
)

403 , 
m_chdN“dsStyËReÿlc
(
çl£
)

404 , 
m_šDocum’t
(
çl£
)

405 , 
m_isLšk
(
çl£
)

406 , 
m_aùive
(
çl£
)

407 , 
m_hov”ed
(
çl£
)

408 , 
m_šAùiveChaš
(
çl£
)

409 , 
m_šD‘ach
(
çl£
)

410 , 
m_hasR¬eD©a
(
çl£
)

411 , 
m_isEËm’t
(
isEËm’t
(
ty³
))

412 , 
m_isCÚš”
(
isCÚš”
(
ty³
))

413 , 
m_isText
(
isText
(
ty³
))

414 , 
m_·rsšgChd»nFšished
(
Œue
)

415 , 
m_isStyËA‰ribu‹V®id
(
Œue
)

416 , 
m_synchrÚizšgStyËA‰ribu‹
(
çl£
)

417 #ià
ENABLE
(
SVG
)

418 , 
m_¬eSVGA‰ribu‹sV®id
(
Œue
)

419 , 
m_synchrÚizšgSVGA‰ribu‹s
(
çl£
)

420 , 
m_hasR¬eSVGD©a
(
çl£
)

423 ià(
	gm_docum’t
)

424 
	gm_docum’t
->
£lfOÆyRef
();

426 #iâdeà
NDEBUG


427 ià(
	gshouldIgnÜeL—ks
)

428 
	gignÜeS‘
.
add
(
this
);

430 
	gnodeCouÁ”
.
šüem’t
();

433 #ià
DUMP_NODE_STATISTICS


434 
	gliveNodeS‘
.
add
(
this
);

438 
	gNode
::~
Node
()

440 #iâdeà
NDEBUG


441 
HashS‘
<
Node
*>::
™”©Ü
 
™
 = 
ignÜeS‘
.
fšd
(
this
);

442 ià(
	g™
 !ğ
ignÜeS‘
.
’d
())

443 
ignÜeS‘
.
»move
(
™
);

445 
	gnodeCouÁ”
.
deüem’t
();

448 #ià
DUMP_NODE_STATISTICS


449 
	gliveNodeS‘
.
»move
(
this
);

452 ià(!
hasR¬eD©a
())

453 
ASSERT
(!
NodeR¬eD©a
::
¿»D©aM­
().
cÚšs
(
this
));

455 ià(
	gm_docum’t
 && 
¿»D©a
()->
nodeLi¡s
())

456 
	gm_docum’t
->
»moveNodeLi¡Cache
();

458 
	gNodeR¬eD©a
::
NodeR¬eD©aM­
& 
d©aM­
 = 
NodeR¬eD©a
::
¿»D©aM­
();

459 
	gNodeR¬eD©a
::
NodeR¬eD©aM­
::
™”©Ü
 
™
 = 
d©aM­
.
fšd
(
this
);

460 
ASSERT
(
™
 !ğ
d©aM­
.
’d
());

461 
d–‘e
 
	g™
->
	g£cÚd
;

462 
	gd©aM­
.
»move
(
™
);

465 ià(
»nd””
())

466 
d‘ach
();

468 ià(
	gm_´evious
)

469 
	gm_´evious
->
£tNextSiblšg
(0);

470 ià(
	gm_Ãxt
)

471 
	gm_Ãxt
->
£tP»viousSiblšg
(0);

473 ià(
	gm_docum’t
)

474 
	gm_docum’t
->
£lfOÆyD”ef
();

477 #ifdeà
NDEBUG


479 
šlše
 
£tWlMoveToNewOwÃrDocum’tWasC®Ëd
(
boŞ
)

483 
šlše
 
£tDidMoveToNewOwÃrDocum’tWasC®Ëd
(
boŞ
)

489 
boŞ
 
	gwlMoveToNewOwÃrDocum’tWasC®Ëd
;

490 
boŞ
 
	gdidMoveToNewOwÃrDocum’tWasC®Ëd
;

492 
£tWlMoveToNewOwÃrDocum’tWasC®Ëd
(
boŞ
 
wasC®Ëd
)

494 
	gwlMoveToNewOwÃrDocum’tWasC®Ëd
 = 
wasC®Ëd
;

497 
£tDidMoveToNewOwÃrDocum’tWasC®Ëd
(
boŞ
 
wasC®Ëd
)

499 
	gdidMoveToNewOwÃrDocum’tWasC®Ëd
 = 
wasC®Ëd
;

504 
	gNode
::
£tDocum’t
(
Docum’t
* 
docum’t
)

506 ià(
šDocum’t
(è|| 
m_docum’t
 =ğ
docum’t
)

509 
	gdocum’t
->
£lfOÆyRef
();

511 
£tWlMoveToNewOwÃrDocum’tWasC®Ëd
(
çl£
);

512 
wlMoveToNewOwÃrDocum’t
();

513 
ASSERT
(
wlMoveToNewOwÃrDocum’tWasC®Ëd
);

515 #ià
USE
(
JSC
)

516 
upd©eDOMNodeDocum’t
(
this
, 
m_docum’t
, 
docum’t
);

519 ià(
hasR¬eD©a
(è&& 
¿»D©a
()->
nodeLi¡s
()) {

520 ià(
	gm_docum’t
)

521 
	gm_docum’t
->
»moveNodeLi¡Cache
();

522 
	gdocum’t
->
addNodeLi¡Cache
();

525 ià(
	gm_docum’t
)

526 
	gm_docum’t
->
£lfOÆyD”ef
();

528 
	gm_docum’t
 = 
docum’t
;

530 
£tDidMoveToNewOwÃrDocum’tWasC®Ëd
(
çl£
);

531 
didMoveToNewOwÃrDocum’t
();

532 
ASSERT
(
didMoveToNewOwÃrDocum’tWasC®Ëd
);

535 
NodeR¬eD©a
* 
	gNode
::
¿»D©a
() const

537 
ASSERT
(
hasR¬eD©a
());

538  
	gNodeR¬eD©a
::
¿»D©aFromM­
(
this
);

541 
NodeR¬eD©a
* 
	gNode
::
’su»R¬eD©a
()

543 ià(
hasR¬eD©a
())

544  
¿»D©a
();

546 
ASSERT
(!
NodeR¬eD©a
::
¿»D©aM­
().
cÚšs
(
this
));

547 
NodeR¬eD©a
* 
	gd©a
 = 
ü—‹R¬eD©a
();

548 
	gNodeR¬eD©a
::
¿»D©aM­
().
£t
(
this
, 
d©a
);

549 
	gm_hasR¬eD©a
 = 
Œue
;

550  
	gd©a
;

553 
NodeR¬eD©a
* 
	gNode
::
ü—‹R¬eD©a
()

555  
Ãw
 
NodeR¬eD©a
;

558 
	gNode
::
bIndex
() const

560  
hasR¬eD©a
(è? 
¿»D©a
()->
bIndex
() : 0;

563 
	gNode
::
£tTabIndexEx¶ic™ly
(
i
)

565 
’su»R¬eD©a
()->
£tTabIndexEx¶ic™ly
(
i
);

568 
SŒšg
 
	gNode
::
nodeV®ue
() const

570  
SŒšg
();

573 
	gNode
::
£tNodeV®ue
(cÚ¡ 
SŒšg
& , 
Exû±iÚCode
& 
ec
)

576 ià(
isR—dOÆyNode
()) {

577 
	gec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

584 
	gPassRefPŒ
<
	gNodeLi¡
> 
	gNode
::
chdNodes
()

586 
NodeR¬eD©a
* 
d©a
 = 
’su»R¬eD©a
();

587 ià(!
	gd©a
->
nodeLi¡s
()) {

588 
	gd©a
->
£tNodeLi¡s
(
NodeLi¡sNodeD©a
::
ü—‹
());

589 ià(
docum’t
())

590 
docum’t
()->
addNodeLi¡Cache
();

593  
	gChdNodeLi¡
::
ü—‹
(
this
, 
d©a
->
nodeLi¡s
()->
m_chdNodeLi¡Caches
.
g‘
());

596 
Node
 *
	gNode
::
Ï¡Desûndªt
() const

598 
Node
 *
n
 = 
cÚ¡_ÿ¡
<Nod*>(
this
);

599 
	gn
 &&‚->
Ï¡Chd
())

600 
	gn
 = 
n
->
Ï¡Chd
();

601  
	gn
;

604 
Node
* 
	gNode
::
fœ¡Desûndªt
() const

606 
Node
 *
n
 = 
cÚ¡_ÿ¡
<Nod*>(
this
);

607 
	gn
 &&‚->
fœ¡Chd
())

608 
	gn
 = 
n
->
fœ¡Chd
();

609  
	gn
;

612 
boŞ
 
	gNode
::
š£¹BefÜe
(
PassRefPŒ
<
Node
>, Node*, 
Exû±iÚCode
& 
ec
, bool)

614 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

615  
	gçl£
;

618 
boŞ
 
	gNode
::
»¶aûChd
(
PassRefPŒ
<
Node
>, Node*, 
Exû±iÚCode
& 
ec
, bool)

620 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

621  
	gçl£
;

624 
boŞ
 
	gNode
::
»moveChd
(
Node
*, 
Exû±iÚCode
& 
ec
)

626 
	gec
 = 
NOT_FOUND_ERR
;

627  
	gçl£
;

630 
boŞ
 
	gNode
::
­³ndChd
(
PassRefPŒ
<
Node
>, 
Exû±iÚCode
& 
ec
, bool)

632 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

633  
	gçl£
;

636 
	gNode
::
»move
(
Exû±iÚCode
& 
ec
)

638 
»f
();

639 ià(
Node
 *
	gp
 = 
·»ÁNode
())

640 
p
->
»moveChd
(
this
, 
ec
);

642 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

643 
d”ef
();

646 
	gNode
::
nÜm®ize
()

651 
RefPŒ
<
Node
> 
node
 = 
this
;

652 
Node
* 
	gfœ¡Chd
 = 
node
->
fœ¡Chd
())

653 
node
 = 
fœ¡Chd
;

654 
	gnode
) {

655 
NodeTy³
 
	gty³
 = 
node
->
nodeTy³
();

656 ià(
	gty³
 =ğ
ELEMENT_NODE
)

657 
¡©ic_ÿ¡
<
EËm’t
*>(
node
.
g‘
())->
nÜm®izeA‰ribu‹s
();

659 ià(
	gnode
 =ğ
this
)

662 ià(
	gty³
 !ğ
TEXT_NODE
) {

663 
node
 =‚ode->
Œav”£NextNodePo¡Ord”
();

667 
Text
* 
	g‹xt
 = 
¡©ic_ÿ¡
<Text*>(
node
.
g‘
());

670 ià(!
	g‹xt
->
Ëngth
()) {

672 
	gnode
 = 
node
->
Œav”£NextNodePo¡Ord”
();

673 
Exû±iÚCode
 
	gec
;

674 
	g‹xt
->
»move
(
ec
);

679 
Node
* 
	gÃxtSiblšg
 = 
node
->
ÃxtSiblšg
()) {

680 ià(
ÃxtSiblšg
->
nodeTy³
(è!ğ
TEXT_NODE
)

682 
	gRefPŒ
<
	gText
> 
	gÃxtText
 = 
¡©ic_ÿ¡
<
Text
*>(
ÃxtSiblšg
);

685 ià(!
	gÃxtText
->
Ëngth
()) {

686 
Exû±iÚCode
 
	gec
;

687 
	gÃxtText
->
»move
(
ec
);

692 
	goff£t
 = 
‹xt
->
Ëngth
();

693 
Exû±iÚCode
 
	gec
;

694 
	g‹xt
->
­³ndD©a
(
ÃxtText
->
d©a
(), 
ec
);

695 
docum’t
()->
‹xtNodesM”ged
(
ÃxtText
.
g‘
(), 
off£t
);

696 
	gÃxtText
->
»move
(
ec
);

699 
	gnode
 = 
node
->
Œav”£NextNodePo¡Ord”
();

703 cÚ¡ 
	gAtomicSŒšg
& 
	gNode
::
vœtu®P»fix
() const

706  
nuÎAtom
;

709 
	gNode
::
£tP»fix
(cÚ¡ 
AtomicSŒšg
& , 
Exû±iÚCode
& 
ec
)

714 
	gec
 = 
NAMESPACE_ERR
;

717 cÚ¡ 
	gAtomicSŒšg
& 
	gNode
::
vœtu®LoÿlName
() const

719  
nuÎAtom
;

722 cÚ¡ 
	gAtomicSŒšg
& 
	gNode
::
vœtu®Name¥aûURI
() const

724  
nuÎAtom
;

727 
CÚš”Node
* 
	gNode
::
addChd
(
PassRefPŒ
<
Node
>)

732 
boŞ
 
	gNode
::
isCÚ‹ÁEd™abË
() const

734  
·»Á
(è&&…¬’t()->
isCÚ‹ÁEd™abË
();

737 
boŞ
 
	gNode
::
isCÚ‹ÁRichlyEd™abË
() const

739  
·»Á
(è&&…¬’t()->
isCÚ‹ÁRichlyEd™abË
();

742 
boŞ
 
	gNode
::
shouldU£IÅutM‘hod
() const

744  
isCÚ‹ÁEd™abË
();

747 
R’d”Box
* 
	gNode
::
»nd”Box
() const

749  
m_»nd””
 && m_»nd””->
isBox
(è? 
toR’d”Box
(m_renderer) : 0;

752 
R’d”BoxMod–Objeù
* 
	gNode
::
»nd”BoxMod–Objeù
() const

754  
m_»nd””
 && m_»nd””->
isBoxMod–Objeù
(è? 
toR’d”BoxMod–Objeù
(m_renderer) : 0;

757 
IÁReù
 
	gNode
::
g‘Reù
() const

760 ià(
»nd””
())

761  
»nd””
()->
absŞu‹BoundšgBoxReù
();

762  
IÁReù
();

765 
	gNode
::
£tN“dsStyËReÿlc
(
StyËChªgeTy³
 
chªgeTy³
)

767 ià((
chªgeTy³
 !ğ
NoStyËChªge
è&& !
©ched
())

770 ià(!(
	gchªgeTy³
 =ğ
IÆšeStyËChªge
 && (
m_¡yËChªge
 =ğ
FuÎStyËChªge
 || m_¡yËChªg=ğ
SyÁh‘icStyËChªge
)))

771 
m_¡yËChªge
 = 
chªgeTy³
;

773 ià(
	gm_¡yËChªge
 !ğ
NoStyËChªge
) {

774 
Node
* 
p
 = 
·»ÁNode
(); 
	gp
 && !p->
chdN“dsStyËReÿlc
();… =…->parentNode())

775 
p
->
£tChdN“dsStyËReÿlc
(
Œue
);

776 ià(
docum’t
()->
chdN“dsStyËReÿlc
())

777 
docum’t
()->
scheduËStyËReÿlc
();

781 
Node
* 
ou‹rmo¡LazyA‰achedAnû¡Ü
(Node* 
¡¬t
)

783 
Node
* 
	gp
 = 
¡¬t
;

784 
Node
* 
	gÃxt
 = 
p
->
·»ÁNode
(); !Ãxt->
»nd””
(); 
	gp
 = 
Ãxt
,‚ext =‚ext->parentNode()) {}

785  
p
;

788 
	gNode
::
ÏzyA‰ach
()

790 
boŞ
 
mu¡DoFuÎA‰ach
 = 
çl£
;

792 
Node
* 
	gn
 = 
this
;‚;‚ = 
n
->
Œav”£NextNode
(this)) {

793 ià(!
n
->
ÿnLazyA‰ach
()) {

794 
mu¡DoFuÎA‰ach
 = 
Œue
;

798 ià(
	gn
->
fœ¡Chd
())

799 
	gn
->
£tChdN“dsStyËReÿlc
(
Œue
);

800 
	gn
->
	gm_¡yËChªge
 = 
FuÎStyËChªge
;

801 
	gn
->
	gm_©ched
 = 
Œue
;

804 ià(
	gmu¡DoFuÎA‰ach
) {

805 
Node
* 
	gÏzyA‰achedAnû¡Ü
 = 
ou‹rmo¡LazyA‰achedAnû¡Ü
(
this
);

806 ià(
	gÏzyA‰achedAnû¡Ü
->
©ched
())

807 
	gÏzyA‰achedAnû¡Ü
->
d‘ach
();

808 
	gÏzyA‰achedAnû¡Ü
->
©ch
();

810 
Node
* 
	gp
 = 
·»ÁNode
();… && !p->
chdN“dsStyËReÿlc
();… = 
p
->parentNode())

811 
p
->
£tChdN“dsStyËReÿlc
(
Œue
);

812 ià(
docum’t
()->
chdN“dsStyËReÿlc
())

813 
docum’t
()->
scheduËStyËReÿlc
();

817 
boŞ
 
	gNode
::
ÿnLazyA‰ach
()

819  
shadowAnû¡ÜNode
(è=ğ
this
;

822 
	gNode
::
£tFocus
(
boŞ
 
b
)

824 ià(
b
 || 
hasR¬eD©a
())

825 
’su»R¬eD©a
()->
£tFocu£d
(
b
);

828 
boŞ
 
	gNode
::
¿»D©aFocu£d
() const

830 
ASSERT
(
hasR¬eD©a
());

831  
¿»D©a
()->
isFocu£d
();

834 
boŞ
 
	gNode
::
suµÜtsFocus
() const

836  
hasR¬eD©a
(è&& 
¿»D©a
()->
bIndexS‘Ex¶ic™ly
();

839 
boŞ
 
	gNode
::
isFocu§bË
() const

841 ià(!
šDocum’t
(è|| !
suµÜtsFocus
())

842  
çl£
;

844 ià(
»nd””
())

845 
ASSERT
(!
»nd””
()->
ÃedsLayout
());

849 
ASSERT
(!
docum’t
()->
chdN“dsStyËReÿlc
());

853 ià(!
»nd””
(è||„’d””()->
¡yË
()->
visib™y
(è!ğ
VISIBLE
)

854  
çl£
;

856  
	gŒue
;

859 
boŞ
 
	gNode
::
isKeybßrdFocu§bË
(
KeybßrdEv’t
*) const

861  
isFocu§bË
(è&& 
bIndex
() >= 0;

864 
boŞ
 
	gNode
::
isMou£Focu§bË
() const

866  
isFocu§bË
();

869 
	gNode
::
nodeIndex
() const

871 
Node
 *
_‹mpNode
 = 
´eviousSiblšg
();

872 
	gcouÁ
=0;

873  
	gcouÁ
=0; 
	g_‹mpNode
; count++ )

874 
	g_‹mpNode
 = 
_‹mpNode
->
´eviousSiblšg
();

875  
	gcouÁ
;

878 
	gNode
::
»gi¡”DyÇmicNodeLi¡
(
DyÇmicNodeLi¡
* 
li¡
)

880 
NodeR¬eD©a
* 
d©a
 = 
’su»R¬eD©a
();

881 ià(!
	gd©a
->
nodeLi¡s
()) {

882 
	gd©a
->
£tNodeLi¡s
(
NodeLi¡sNodeD©a
::
ü—‹
());

883 
docum’t
()->
addNodeLi¡Cache
();

884 } ià(!
	gm_docum’t
 || !m_docum’t->
hasNodeLi¡Caches
()) {

886 
	gd©a
->
nodeLi¡s
()->
šv®id©eCaches
();

889 ià(
	gli¡
->
hasOwnCaches
())

890 
	gd©a
->
nodeLi¡s
()->
	gm_li¡sW™hCaches
.
add
(
li¡
);

893 
	gNode
::
uÄegi¡”DyÇmicNodeLi¡
(
DyÇmicNodeLi¡
* 
li¡
)

895 
ASSERT
(
¿»D©a
());

896 
ASSERT
(
¿»D©a
()->
nodeLi¡s
());

897 ià(
	gli¡
->
hasOwnCaches
()) {

898 
NodeR¬eD©a
* 
	gd©a
 = 
¿»D©a
();

899 
	gd©a
->
nodeLi¡s
()->
	gm_li¡sW™hCaches
.
»move
(
li¡
);

900 ià(
	gd©a
->
nodeLi¡s
()->
isEm±y
()) {

901 
	gd©a
->
ş—rNodeLi¡s
();

902 ià(
docum’t
())

903 
docum’t
()->
»moveNodeLi¡Cache
();

908 
	gNode
::
nÙifyLoÿlNodeLi¡sA‰ribu‹Chªged
()

910 ià(!
hasR¬eD©a
())

912 
NodeR¬eD©a
* 
	gd©a
 = 
¿»D©a
();

913 ià(!
	gd©a
->
nodeLi¡s
())

916 ià(!
isA‰ribu‹Node
())

917 
	gd©a
->
nodeLi¡s
()->
šv®id©eCachesTh©D•’dOnA‰ribu‹s
();

919 
	gd©a
->
nodeLi¡s
()->
šv®id©eCaches
();

921 ià(
	gd©a
->
nodeLi¡s
()->
isEm±y
()) {

922 
	gd©a
->
ş—rNodeLi¡s
();

923 
docum’t
()->
»moveNodeLi¡Cache
();

927 
	gNode
::
nÙifyNodeLi¡sA‰ribu‹Chªged
()

929 
Node
 *
n
 = 
this
; 
	gn
;‚ =‚->
·»ÁNode
())

930 
n
->
nÙifyLoÿlNodeLi¡sA‰ribu‹Chªged
();

933 
	gNode
::
nÙifyLoÿlNodeLi¡sChd»nChªged
()

935 ià(!
hasR¬eD©a
())

937 
NodeR¬eD©a
* 
	gd©a
 = 
¿»D©a
();

938 ià(!
	gd©a
->
nodeLi¡s
())

941 
	gd©a
->
nodeLi¡s
()->
šv®id©eCaches
();

943 
	gNodeLi¡sNodeD©a
::
NodeLi¡S‘
::
™”©Ü
 
’d
 = 
d©a
->
nodeLi¡s
()->
m_li¡sW™hCaches
.end();

944 
	gNodeLi¡sNodeD©a
::
NodeLi¡S‘
::
™”©Ü
 
i
 = 
d©a
->
nodeLi¡s
()->
m_li¡sW™hCaches
.
begš
(); 
	gi
 !ğ
’d
; ++i)

945 (*
	gi
)->
šv®id©eCache
();

947 ià(
	gd©a
->
nodeLi¡s
()->
isEm±y
()) {

948 
	gd©a
->
ş—rNodeLi¡s
();

949 
docum’t
()->
»moveNodeLi¡Cache
();

953 
	gNode
::
nÙifyNodeLi¡sChd»nChªged
()

955 
Node
* 
n
 = 
this
; 
	gn
;‚ =‚->
·»ÁNode
())

956 
n
->
nÙifyLoÿlNodeLi¡sChd»nChªged
();

959 
Node
 *
	gNode
::
Œav”£NextNode
(cÚ¡ Nod*
¡ayW™hš
) const

961 ià(
fœ¡Chd
())

962  
fœ¡Chd
();

963 ià(
	gthis
 =ğ
¡ayW™hš
)

965 ià(
ÃxtSiblšg
())

966  
ÃxtSiblšg
();

967 cÚ¡ 
Node
 *
	gn
 = 
this
;

968 
	gn
 && !n->
ÃxtSiblšg
(è&& (!
	g¡ayW™hš
 ||‚->
·»ÁNode
(è!ğ
¡ayW™hš
))

969 
n
 =‚->
·»ÁNode
();

970 ià(
	gn
)

971  
	gn
->
ÃxtSiblšg
();

975 
Node
 *
	gNode
::
Œav”£NextSiblšg
(cÚ¡ Nod*
¡ayW™hš
) const

977 ià(
this
 =ğ
¡ayW™hš
)

979 ià(
ÃxtSiblšg
())

980  
ÃxtSiblšg
();

981 cÚ¡ 
Node
 *
	gn
 = 
this
;

982 
	gn
 && !n->
ÃxtSiblšg
(è&& (!
	g¡ayW™hš
 ||‚->
·»ÁNode
(è!ğ
¡ayW™hš
))

983 
n
 =‚->
·»ÁNode
();

984 ià(
	gn
)

985  
	gn
->
ÃxtSiblšg
();

989 
Node
* 
	gNode
::
Œav”£NextNodePo¡Ord”
() const

991 
Node
* 
Ãxt
 = 
ÃxtSiblšg
();

992 ià(!
	gÃxt
)

993  
·»ÁNode
();

994 
Node
* 
	gfœ¡Chd
 = 
Ãxt
->
fœ¡Chd
())

995 
Ãxt
 = 
fœ¡Chd
;

996  
	gÃxt
;

999 
Node
 *
	gNode
::
Œav”£P»viousNode
(cÚ¡ Nod*
¡ayW™hš
) const

1001 ià(
this
 =ğ
¡ayW™hš
)

1003 ià(
´eviousSiblšg
()) {

1004 
Node
 *
	gn
 = 
´eviousSiblšg
();

1005 
	gn
->
Ï¡Chd
())

1006 
	gn
 = 
n
->
Ï¡Chd
();

1007  
	gn
;

1009  
·»ÁNode
();

1012 
Node
 *
	gNode
::
Œav”£P»viousNodePo¡Ord”
(cÚ¡ Nod*
¡ayW™hš
) const

1014 ià(
Ï¡Chd
())

1015  
Ï¡Chd
();

1016 ià(
	gthis
 =ğ
¡ayW™hš
)

1018 ià(
´eviousSiblšg
())

1019  
´eviousSiblšg
();

1020 cÚ¡ 
Node
 *
	gn
 = 
this
;

1021 
	gn
 && !n->
´eviousSiblšg
(è&& (!
	g¡ayW™hš
 ||‚->
·»ÁNode
(è!ğ
¡ayW™hš
))

1022 
n
 =‚->
·»ÁNode
();

1023 ià(
	gn
)

1024  
	gn
->
´eviousSiblšg
();

1028 
Node
* 
	gNode
::
Œav”£P»viousSiblšgPo¡Ord”
(cÚ¡ Node* 
¡ayW™hš
) const

1030 ià(
this
 =ğ
¡ayW™hš
)

1032 ià(
´eviousSiblšg
())

1033  
´eviousSiblšg
();

1034 cÚ¡ 
Node
 *
	gn
 = 
this
;

1035 
	gn
 && !n->
´eviousSiblšg
(è&& (!
	g¡ayW™hš
 ||‚->
·»ÁNode
(è!ğ
¡ayW™hš
))

1036 
n
 =‚->
·»ÁNode
();

1037 ià(
	gn
)

1038  
	gn
->
´eviousSiblšg
();

1042 
	gNode
::
checkS‘P»fix
(cÚ¡ 
AtomicSŒšg
& 
´efix
, 
Exû±iÚCode
& 
ec
)

1049 ià(
isR—dOÆyNode
()) {

1050 
	gec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

1056 cÚ¡ 
	gAtomicSŒšg
& 
	gnodeName¥aûURI
 = 
Çme¥aûURI
();

1057 ià((
	gnodeName¥aûURI
.
isEm±y
(è&& !
	g´efix
.isEmpty())

1058 || (
	g´efix
 =ğ
xmlAtom
 && 
nodeName¥aûURI
 !ğ
XMLNames
::
xmlName¥aûURI
)) {

1059 
ec
 = 
NAMESPACE_ERR
;

1065 
boŞ
 
	gNode
::
ÿnR•ÏûChd
(
Node
* 
ÃwChd
, Node*)

1067 ià(
	gÃwChd
->
nodeTy³
(è!ğ
DOCUMENT_FRAGMENT_NODE
) {

1068 ià(!
chdTy³AÎowed
(
ÃwChd
->
nodeTy³
()))

1069  
çl£
;

1071 
Node
 *
	gn
 = 
ÃwChd
->
fœ¡Chd
();‚;‚ = 
n
->
ÃxtSiblšg
()) {

1072 ià(!
chdTy³AÎowed
(
n
->
nodeTy³
()))

1073  
çl£
;

1076  
	gŒue
;

1079 
	gNode
::
checkR•ÏûChd
(
Node
* 
ÃwChd
, Node* 
ŞdChd
, 
Exû±iÚCode
& 
ec
)

1085 ià(!
	gÃwChd
) {

1086 
	gec
 = 
NOT_FOUND_ERR
;

1091 ià(
isR—dOÆyNode
()) {

1092 
	gec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

1096 
boŞ
 
	gshouldAdİtChd
 = 
çl£
;

1102 ià(
	gÃwChd
->
docum’t
() != document()) {

1107 ià(!
ÃwChd
->
šDocum’t
()) {

1108 
shouldAdİtChd
 = 
Œue
;

1110 
	gec
 = 
WRONG_DOCUMENT_ERR
;

1119 ià(
	gÃwChd
 =ğ
this
 || 
isDesûndªtOf
(
ÃwChd
)) {

1120 
ec
 = 
HIERARCHY_REQUEST_ERR
;

1124 ià(!
ÿnR•ÏûChd
(
ÃwChd
, 
ŞdChd
)) {

1125 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

1130 ià(
	gshouldAdİtChd
)

1131 
Node
* 
	gnode
 = 
ÃwChd
;‚ode;‚odğ
node
->
Œav”£NextNode
(newChild))

1132 
node
->
£tDocum’t
(
docum’t
());

1135 
	gNode
::
checkAddChd
(
Node
 *
ÃwChd
, 
Exû±iÚCode
& 
ec
)

1141 ià(!
	gÃwChd
) {

1142 
	gec
 = 
NOT_FOUND_ERR
;

1147 ià(
isR—dOÆyNode
()) {

1148 
	gec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

1152 
boŞ
 
	gshouldAdİtChd
 = 
çl£
;

1158 ià(
	gÃwChd
->
docum’t
() != document()) {

1163 ià(!
ÃwChd
->
šDocum’t
()) {

1164 
shouldAdİtChd
 = 
Œue
;

1166 
	gec
 = 
WRONG_DOCUMENT_ERR
;

1175 ià(
	gÃwChd
 =ğ
this
 || 
isDesûndªtOf
(
ÃwChd
)) {

1176 
ec
 = 
HIERARCHY_REQUEST_ERR
;

1180 ià(
	gÃwChd
->
nodeTy³
(è!ğ
DOCUMENT_FRAGMENT_NODE
) {

1181 ià(!
chdTy³AÎowed
(
ÃwChd
->
nodeTy³
())) {

1182 
ec
 = 
HIERARCHY_REQUEST_ERR
;

1187 
Node
 *
	gn
 = 
ÃwChd
->
fœ¡Chd
();‚;‚ = 
n
->
ÃxtSiblšg
()) {

1188 ià(!
chdTy³AÎowed
(
n
->
nodeTy³
())) {

1189 
ec
 = 
HIERARCHY_REQUEST_ERR
;

1196 ià(
	gshouldAdİtChd
)

1197 
Node
* 
	gnode
 = 
ÃwChd
;‚ode;‚odğ
node
->
Œav”£NextNode
(newChild))

1198 
node
->
£tDocum’t
(
docum’t
());

1201 
boŞ
 
	gNode
::
isDesûndªtOf
(cÚ¡ 
Node
 *
Ùh”
) const

1204 ià(!
Ùh”
)

1205  
çl£
;

1206 cÚ¡ 
Node
 *
	gn
 = 
·»ÁNode
();‚;‚ = 
n
->parentNode()) {

1207 ià(
n
 =ğ
Ùh”
)

1208  
Œue
;

1210  
	gçl£
;

1213 
boŞ
 
	gNode
::
cÚšs
(cÚ¡ 
Node
* 
node
) const

1215 ià(!
node
)

1216  
çl£
;

1217  
	gthis
 =ğ
node
 ||‚ode->
isDesûndªtOf
(
this
);

1220 
boŞ
 
	gNode
::
chdAÎowed
(
Node
* 
ÃwChd
)

1222  
chdTy³AÎowed
(
ÃwChd
->
nodeTy³
());

1225 
	gNode
::
©ch
()

1227 
ASSERT
(!
©ched
());

1228 
ASSERT
(!
»nd””
(è|| (»nd””()->
¡yË
(è&&„’d””()->
·»Á
()));

1232 ià(
»nd””
()) {

1233 
Node
* 
	gÃxt
 = 
ÃxtSiblšg
();‚ext;‚exˆğ
Ãxt
->nextSibling()) {

1234 ià(
Ãxt
->
»nd””
())

1236 ià(!
	gÃxt
->
©ched
())

1238 ià(
	gÃxt
->
isTextNode
())

1239 
	gÃxt
->
ü—‹R’d””IfN“ded
();

1243 
	gm_©ched
 = 
Œue
;

1246 
	gNode
::
wlRemove
()

1250 
Node
::
d‘ach
()

1252 
m_šD‘ach
 = 
Œue
;

1254 ià(
»nd””
())

1255 
»nd””
()->
de¡roy
();

1256 
£tR’d””
(0);

1258 
Docum’t
* 
	gdoc
 = 
docum’t
();

1259 ià(
	gm_hov”ed
)

1260 
	gdoc
->
hov”edNodeD‘ached
(
this
);

1261 ià(
	gm_šAùiveChaš
)

1262 
	gdoc
->
aùiveChašNodeD‘ached
(
this
);

1264 
	gm_aùive
 = 
çl£
;

1265 
	gm_hov”ed
 = 
çl£
;

1266 
	gm_šAùiveChaš
 = 
çl£
;

1267 
	gm_©ched
 = 
çl£
;

1268 
	gm_šD‘ach
 = 
çl£
;

1271 
Node
 *
	gNode
::
´eviousEd™abË
() const

1273 
Node
 *
node
 = 
´eviousL—fNode
();

1274 
	gnode
) {

1275 ià(
	gnode
->
isCÚ‹ÁEd™abË
())

1276  
	gnode
;

1277 
	gnode
 = 
node
->
´eviousL—fNode
();

1282 
Node
 *
	gNode
::
ÃxtEd™abË
() const

1284 
Node
 *
node
 = 
ÃxtL—fNode
();

1285 
	gnode
) {

1286 ià(
	gnode
->
isCÚ‹ÁEd™abË
())

1287  
	gnode
;

1288 
	gnode
 = 
node
->
ÃxtL—fNode
();

1293 
R’d”Objeù
 * 
	gNode
::
´eviousR’d””
()

1295 
Node
 *
n
 = 
´eviousSiblšg
(); 
	gn
;‚ =‚->previousSibling()) {

1296 ià(
n
->
»nd””
())

1297  
n
->
»nd””
();

1302 
R’d”Objeù
 * 
	gNode
::
ÃxtR’d””
()

1306 ià(
·»Á
(è&& !·»Á()->
©ched
())

1309 
Node
 *
	gn
 = 
ÃxtSiblšg
();‚;‚ = 
n
->nextSibling()) {

1310 ià(
n
->
»nd””
())

1311  
n
->
»nd””
();

1317 
Node
 *
	gNode
::
´eviousNodeCÚsid”šgAtomicNodes
() const

1319 ià(
´eviousSiblšg
()) {

1320 
Node
 *
n
 = 
´eviousSiblšg
();

1321 !
isAtomicNode
(
n
è&& 
	gn
->
Ï¡Chd
())

1322 
	gn
 = 
n
->
Ï¡Chd
();

1323  
	gn
;

1325 ià(
·»ÁNode
()) {

1326  
·»ÁNode
();

1333 
Node
 *
	gNode
::
ÃxtNodeCÚsid”šgAtomicNodes
() const

1335 ià(!
isAtomicNode
(
this
è&& 
fœ¡Chd
())

1336  
fœ¡Chd
();

1337 ià(
ÃxtSiblšg
())

1338  
ÃxtSiblšg
();

1339 cÚ¡ 
Node
 *
	gn
 = 
this
;

1340 
	gn
 && !n->
ÃxtSiblšg
())

1341 
	gn
 = 
n
->
·»ÁNode
();

1342 ià(
	gn
)

1343  
	gn
->
ÃxtSiblšg
();

1347 
Node
 *
	gNode
::
´eviousL—fNode
() const

1349 
Node
 *
node
 = 
´eviousNodeCÚsid”šgAtomicNodes
();

1350 
	gnode
) {

1351 ià(
isAtomicNode
(
node
))

1352  
	gnode
;

1353 
	gnode
 = 
node
->
´eviousNodeCÚsid”šgAtomicNodes
();

1358 
Node
 *
	gNode
::
ÃxtL—fNode
() const

1360 
Node
 *
node
 = 
ÃxtNodeCÚsid”šgAtomicNodes
();

1361 
	gnode
) {

1362 ià(
isAtomicNode
(
node
))

1363  
	gnode
;

1364 
	gnode
 = 
node
->
ÃxtNodeCÚsid”šgAtomicNodes
();

1369 
	gNode
::
ü—‹R’d””IfN“ded
()

1371 ià(!
docum’t
()->
shouldC»©eR’d””s
())

1374 
ASSERT
(!
»nd””
());

1376 
Node
* 
	g·»Á
 = 
·»ÁNode
();

1377 
ASSERT
(
·»Á
);

1379 
R’d”Objeù
* 
	g·»ÁR’d””
 = 
·»Á
->
»nd””
();

1380 ià(
	g·»ÁR’d””
 &&…¬’tR’d””->
ÿnHaveChd»n
()

1381 #ià
ENABLE
(
SVG
è|| ENABLE(
XHTMLMP
)

1382 && 
	g·»Á
->
chdShouldC»©eR’d””
(
this
)

1385 
	gRefPŒ
<
	gR’d”StyË
> 
	g¡yË
 = 
¡yËFÜR’d””
();

1386 ià(
»nd””IsN“ded
(
¡yË
.
g‘
())) {

1387 ià(
R’d”Objeù
* 
	gr
 = 
ü—‹R’d””
(
docum’t
()->
»nd”A»Ç
(), 
¡yË
.
g‘
())) {

1388 ià(!
	g·»ÁR’d””
->
isChdAÎowed
(
r
, 
¡yË
.
g‘
()))

1389 
	gr
->
de¡roy
();

1391 
£tR’d””
(
r
);

1392 
»nd””
()->
£tAnim©abËStyË
(
¡yË
.
»Ëa£
());

1393 
	g·»ÁR’d””
->
addChd
(
»nd””
(), 
ÃxtR’d””
());

1400 
	gPassRefPŒ
<
	gR’d”StyË
> 
	gNode
::
¡yËFÜR’d””
()

1402 ià(
isEËm’tNode
()) {

1403 
boŞ
 
®lowSh¬šg
 = 
Œue
;

1404 #ià
ENABLE
(
XHTMLMP
)

1406 
	g®lowSh¬šg
 = 
loÿlName
(è!ğ
HTMLNames
::
nosütTag
.localName();

1408  
docum’t
()->
¡yËS–eùÜ
()->
¡yËFÜEËm’t
(
¡©ic_ÿ¡
<
EËm’t
*>(
this
), 0, 
®lowSh¬šg
);

1410  
·»ÁNode
(è&&…¬’tNode()->
»nd””
(è?…¬’tNode()->»nd””()->
¡yË
() : 0;

1413 
boŞ
 
	gNode
::
»nd””IsN“ded
(
R’d”StyË
 *
¡yË
)

1415  (
docum’t
()->
docum’tEËm’t
(è=ğ
this
è|| (
¡yË
->
di¥Ïy
(è!ğ
NONE
);

1418 
R’d”Objeù
* 
	gNode
::
ü—‹R’d””
(
R’d”A»Ç
*, 
R’d”StyË
*)

1420 
ASSERT
(
çl£
);

1424 
R’d”StyË
* 
	gNode
::
nÚR’d””R’d”StyË
() const

1429 
	gNode
::
£tR’d”StyË
(
PassRefPŒ
<
R’d”StyË
> 
s
)

1431 ià(
m_»nd””
)

1432 
m_»nd””
->
£tAnim©abËStyË
(
s
);

1435 
R’d”StyË
* 
	gNode
::
compu‹dStyË
()

1437  
·»Á
(è?…¬’t()->
compu‹dStyË
() : 0;

1440 
	gNode
::
maxCh¬aù”Off£t
() const

1442 
ASSERT_NOT_REACHED
();

1448 
boŞ
 
	gNode
::
ÿnS¹S–eùiÚ
() const

1450 ià(
isCÚ‹ÁEd™abË
())

1451  
Œue
;

1453 ià(
»nd””
()) {

1454 
R’d”StyË
* 
	g¡yË
 = 
»nd””
()->
¡yË
();

1457 ià(
	g¡yË
->
u£rD¿g
(è=ğ
DRAG_ELEMENT
 && 
¡yË
->
u£rS–eù
(è=ğ
SELECT_NONE
)

1458  
çl£
;

1460  
·»Á
(è?…¬’t()->
ÿnS¹S–eùiÚ
(è: 
Œue
;

1463 
Node
* 
	gNode
::
shadowAnû¡ÜNode
()

1465 #ià
ENABLE
(
SVG
)

1470 ià(
isSVGEËm’t
())

1471  
this
;

1474 
Node
* 
	groÙ
 = 
shadowT»eRoÙNode
();

1475 ià(
	groÙ
)

1476  
	groÙ
->
shadowP¬’tNode
();

1477  
	gthis
;

1480 
Node
* 
	gNode
::
shadowT»eRoÙNode
()

1482 
Node
* 
roÙ
 = 
this
;

1483 
	groÙ
) {

1484 ià(
	groÙ
->
isShadowNode
())

1485  
	groÙ
;

1486 
	groÙ
 = 
roÙ
->
·»ÁNode
();

1491 
boŞ
 
	gNode
::
isInShadowT»e
()

1493 
Node
* 
n
 = 
this
; 
	gn
;‚ =‚->
·»ÁNode
())

1494 ià(
n
->
isShadowNode
())

1495  
Œue
;

1496  
	gçl£
;

1499 
boŞ
 
	gNode
::
isBlockFlow
() const

1501  
»nd””
(è&&„’d””()->
isBlockFlow
();

1504 
boŞ
 
	gNode
::
isBlockFlowOrBlockTabË
() const

1506  
»nd””
(è&& (»nd””()->
isBlockFlow
(è|| (»nd””()->
isTabË
(è&& !»nd””()->
isIÆše
()));

1509 
boŞ
 
	gNode
::
isEd™abËBlock
() const

1511  
isCÚ‹ÁEd™abË
(è&& 
isBlockFlow
();

1514 
EËm’t
 *
	gNode
::
’şosšgBlockFlowEËm’t
() const

1516 
Node
 *
n
 = 
cÚ¡_ÿ¡
<Nod*>(
this
);

1517 ià(
isBlockFlow
())

1518  
	g¡©ic_ÿ¡
<
	gEËm’t
 *>(
	gn
);

1521 
	gn
 = 
n
->
·»ÁNode
();

1522 ià(!
	gn
)

1524 ià(
	gn
->
isBlockFlow
(è||‚->
hasTagName
(
bodyTag
))

1525  
	g¡©ic_ÿ¡
<
	gEËm’t
 *>(
	gn
);

1530 
EËm’t
 *
	gNode
::
’şosšgIÆšeEËm’t
() const

1532 
Node
 *
n
 = 
cÚ¡_ÿ¡
<Nod*>(
this
);

1533 
Node
 *
	gp
;

1536 
	gp
 = 
n
->
·»ÁNode
();

1537 ià(!
	gp
 ||…->
isBlockFlow
(è||…->
hasTagName
(
bodyTag
))

1538  
	g¡©ic_ÿ¡
<
	gEËm’t
 *>(
	gn
);

1540 
Node
 *
	gsiblšg
 = 
n
->
´eviousSiblšg
(); siblšg; siblšg = 
siblšg
->previousSibling()) {

1541 ià(
siblšg
->
isBlockFlow
())

1542  
¡©ic_ÿ¡
<
EËm’t
 *>(
n
);

1544 
	gn
 = 
p
;

1546 
ASSERT_NOT_REACHED
();

1550 
EËm’t
* 
	gNode
::
roÙEd™abËEËm’t
() const

1552 
EËm’t
* 
»suÉ
 = 0;

1553 
Node
* 
	gn
 = 
cÚ¡_ÿ¡
<Node*>(
this
);‚ &&‚->
isCÚ‹ÁEd™abË
();‚ = 
n
->
·»ÁNode
()) {

1554 ià(
n
->
isEËm’tNode
())

1555 
»suÉ
 = 
¡©ic_ÿ¡
<
EËm’t
*>(
n
);

1556 ià(
	gn
->
hasTagName
(
bodyTag
))

1559  
	g»suÉ
;

1562 
boŞ
 
	gNode
::
šSameCÚššgBlockFlowEËm’t
(
Node
 *
n
)

1564  
n
 ? 
’şosšgBlockFlowEËm’t
(è=ğn->’şosšgBlockFlowEËm’t(è: 
çl£
;

1569 
	gPassRefPŒ
<
	gNodeLi¡
> 
	gNode
::
g‘EËm’tsByTagName
(cÚ¡ 
SŒšg
& 
Çme
)

1571  
g‘EËm’tsByTagNameNS
(
¡¬Atom
, 
Çme
);

1574 
	gPassRefPŒ
<
	gNodeLi¡
> 
	gNode
::
g‘EËm’tsByTagNameNS
(cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
, cÚ¡ 
SŒšg
& 
loÿlName
)

1576 ià(
	gloÿlName
.
isNuÎ
())

1579 
NodeR¬eD©a
* 
	gd©a
 = 
’su»R¬eD©a
();

1580 ià(!
	gd©a
->
nodeLi¡s
()) {

1581 
	gd©a
->
£tNodeLi¡s
(
NodeLi¡sNodeD©a
::
ü—‹
());

1582 
docum’t
()->
addNodeLi¡Cache
();

1585 
SŒšg
 
	gÇme
 = 
loÿlName
;

1586 ià(
docum’t
()->
isHTMLDocum’t
())

1587 
	gÇme
 = 
loÿlName
.
low”
();

1589 
AtomicSŒšg
 
	gloÿlNameAtom
 = 
Çme
;

1591 
	g·œ
<
	gNodeLi¡sNodeD©a
::
TagCacheM­
::
™”©Ü
, 
	gboŞ
> 
	g»suÉ
 = 
d©a
->
nodeLi¡s
()->
m_gNodeLi¡Caches
.
add
(
Qu®if›dName
(
nuÎAtom
, 
loÿlNameAtom
, 
Çme¥aûURI
), 0);

1592 ià(
	g»suÉ
.
	g£cÚd
)

1593 
	g»suÉ
.
	gfœ¡
->
	g£cÚd
 = 
DyÇmicNodeLi¡
::
Caches
::
ü—‹
();

1595  
	gTagNodeLi¡
::
ü—‹
(
this
, 
Çme¥aûURI
.
isEm±y
(è? 
nuÎAtom
 :‚ame¥aûURI, 
loÿlNameAtom
, 
»suÉ
.
fœ¡
->
£cÚd
.
g‘
());

1598 
	gPassRefPŒ
<
	gNodeLi¡
> 
	gNode
::
g‘EËm’tsByName
(cÚ¡ 
SŒšg
& 
–em’tName
)

1600 
NodeR¬eD©a
* 
d©a
 = 
’su»R¬eD©a
();

1601 ià(!
	gd©a
->
nodeLi¡s
()) {

1602 
	gd©a
->
£tNodeLi¡s
(
NodeLi¡sNodeD©a
::
ü—‹
());

1603 
docum’t
()->
addNodeLi¡Cache
();

1606 
	g·œ
<
	gNodeLi¡sNodeD©a
::
CacheM­
::
™”©Ü
, 
	gboŞ
> 
	g»suÉ
 = 
d©a
->
nodeLi¡s
()->
m_ÇmeNodeLi¡Caches
.
add
(
–em’tName
, 0);

1607 ià(
	g»suÉ
.
	g£cÚd
)

1608 
	g»suÉ
.
	gfœ¡
->
	g£cÚd
 = 
DyÇmicNodeLi¡
::
Caches
::
ü—‹
();

1610  
	gNameNodeLi¡
::
ü—‹
(
this
, 
–em’tName
, 
»suÉ
.
fœ¡
->
£cÚd
.
g‘
());

1613 
	gPassRefPŒ
<
	gNodeLi¡
> 
	gNode
::
g‘EËm’tsByCÏssName
(cÚ¡ 
SŒšg
& 
şassNames
)

1615 
NodeR¬eD©a
* 
d©a
 = 
’su»R¬eD©a
();

1616 ià(!
	gd©a
->
nodeLi¡s
()) {

1617 
	gd©a
->
£tNodeLi¡s
(
NodeLi¡sNodeD©a
::
ü—‹
());

1618 
docum’t
()->
addNodeLi¡Cache
();

1621 
	g·œ
<
	gNodeLi¡sNodeD©a
::
CacheM­
::
™”©Ü
, 
	gboŞ
> 
	g»suÉ
 = 
d©a
->
nodeLi¡s
()->
m_şassNodeLi¡Caches
.
add
(
şassNames
, 0);

1622 ià(
	g»suÉ
.
	g£cÚd
)

1623 
	g»suÉ
.
	gfœ¡
->
	g£cÚd
 = 
DyÇmicNodeLi¡
::
Caches
::
ü—‹
();

1625  
	gCÏssNodeLi¡
::
ü—‹
(
this
, 
şassNames
, 
»suÉ
.
fœ¡
->
£cÚd
.
g‘
());

1628 
	gPassRefPŒ
<
	gEËm’t
> 
	gNode
::
qu”yS–eùÜ
(cÚ¡ 
SŒšg
& 
£ËùÜs
, 
Exû±iÚCode
& 
ec
)

1630 ià(
	g£ËùÜs
.
isEm±y
()) {

1631 
	gec
 = 
SYNTAX_ERR
;

1634 
boŞ
 
	g¡riùP¬sšg
 = !
docum’t
()->
šCom·tMode
();

1635 
CSSP¬£r
 
p
(
¡riùP¬sšg
);

1637 
CSSS–eùÜLi¡
 
	gqu”yS–eùÜLi¡
;

1638 
	gp
.
·r£S–eùÜ
(
£ËùÜs
, 
docum’t
(), 
qu”yS–eùÜLi¡
);

1640 ià(!
	gqu”yS–eùÜLi¡
.
fœ¡
()) {

1641 
	gec
 = 
SYNTAX_ERR
;

1646 ià(
	gqu”yS–eùÜLi¡
.
£ËùÜsN“dName¥aûResŞutiÚ
()) {

1647 
	gec
 = 
NAMESPACE_ERR
;

1651 
	gCSSStyËS–eùÜ
::
S–eùÜCheck”
 
£ËùÜCheck”
(
docum’t
(), 
¡riùP¬sšg
);

1654 ià(
	g¡riùP¬sšg
 && 
šDocum’t
(è&& 
	gqu”yS–eùÜLi¡
.
hasOÃS–eùÜ
(è&& qu”yS–eùÜLi¡.
fœ¡
()->
	gm_m©ch
 =ğ
CSSS–eùÜ
::
Id
) {

1655 
EËm’t
* 
–em’t
 = 
docum’t
()->
g‘EËm’tById
(
qu”yS–eùÜLi¡
.
fœ¡
()->
m_v®ue
);

1656 ià(
	g–em’t
 && (
isDocum’tNode
(è||ƒËm’t->
isDesûndªtOf
(
this
)è&& 
	g£ËùÜCheck”
.
checkS–eùÜ
(
qu”yS–eùÜLi¡
.
fœ¡
(), 
–em’t
))

1657  
	g–em’t
;

1662 
Node
* 
	gn
 = 
fœ¡Chd
();‚;‚ = 
n
->
Œav”£NextNode
(
this
)) {

1663 ià(
n
->
isEËm’tNode
()) {

1664 
EËm’t
* 
–em’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
n
);

1665 
CSSS–eùÜ
* 
	g£ËùÜ
 = 
qu”yS–eùÜLi¡
.
fœ¡
(); s–eùÜ; s–eùÜ = 
CSSS–eùÜLi¡
::
Ãxt
(
£ËùÜ
)) {

1666 ià(
£ËùÜCheck”
.
checkS–eùÜ
(
£ËùÜ
, 
–em’t
))

1667  
–em’t
;

1675 
	gPassRefPŒ
<
	gNodeLi¡
> 
	gNode
::
qu”yS–eùÜAÎ
(cÚ¡ 
SŒšg
& 
£ËùÜs
, 
Exû±iÚCode
& 
ec
)

1677 ià(
	g£ËùÜs
.
isEm±y
()) {

1678 
	gec
 = 
SYNTAX_ERR
;

1681 
boŞ
 
	g¡riùP¬sšg
 = !
docum’t
()->
šCom·tMode
();

1682 
CSSP¬£r
 
p
(
¡riùP¬sšg
);

1684 
CSSS–eùÜLi¡
 
	gqu”yS–eùÜLi¡
;

1685 
	gp
.
·r£S–eùÜ
(
£ËùÜs
, 
docum’t
(), 
qu”yS–eùÜLi¡
);

1687 ià(!
	gqu”yS–eùÜLi¡
.
fœ¡
()) {

1688 
	gec
 = 
SYNTAX_ERR
;

1693 ià(
	gqu”yS–eùÜLi¡
.
£ËùÜsN“dName¥aûResŞutiÚ
()) {

1694 
	gec
 = 
NAMESPACE_ERR
;

1698  
ü—‹S–eùÜNodeLi¡
(
this
, 
qu”yS–eùÜLi¡
);

1701 
Docum’t
 *
	gNode
::
owÃrDocum’t
() const

1703 
Docum’t
 *
doc
 = 
docum’t
();

1704  
	gdoc
 =ğ
this
 ? 0 : 
doc
;

1707 
KURL
 
	gNode
::
ba£URI
() const

1709  
·»ÁNode
(è?…¬’tNode()->
ba£URI
(è: 
KURL
();

1712 
boŞ
 
	gNode
::
isEqu®Node
(
Node
 *
Ùh”
) const

1714 ià(!
Ùh”
)

1715  
çl£
;

1717 ià(
nodeTy³
(è!ğ
Ùh”
->nodeType())

1718  
çl£
;

1720 ià(
nodeName
(è!ğ
Ùh”
->nodeName())

1721  
çl£
;

1723 ià(
loÿlName
(è!ğ
Ùh”
->localName())

1724  
çl£
;

1726 ià(
Çme¥aûURI
(è!ğ
Ùh”
->namespaceURI())

1727  
çl£
;

1729 ià(
´efix
(è!ğ
Ùh”
->prefix())

1730  
çl£
;

1732 ià(
nodeV®ue
(è!ğ
Ùh”
->nodeValue())

1733  
çl£
;

1735 
NamedNodeM­
 *
	g©Œs
 = 
©Œibu‹s
();

1736 
NamedNodeM­
 *
	gÙh”A‰rs
 = 
Ùh”
->
©Œibu‹s
();

1738 ià(!
	g©Œs
 && 
	gÙh”A‰rs
)

1739  
	gçl£
;

1741 ià(
	g©Œs
 && !©Œs->
m­sEquiv®’t
(
Ùh”A‰rs
))

1742  
	gçl£
;

1744 
Node
 *
	gchd
 = 
fœ¡Chd
();

1745 
Node
 *
	gÙh”Chd
 = 
Ùh”
->
fœ¡Chd
();

1747 
	gchd
) {

1748 ià(!
	gchd
->
isEqu®Node
(
Ùh”Chd
))

1749  
	gçl£
;

1751 
	gchd
 = 
chd
->
ÃxtSiblšg
();

1752 
	gÙh”Chd
 = 
Ùh”Chd
->
ÃxtSiblšg
();

1755 ià(
	gÙh”Chd
)

1756  
	gçl£
;

1761  
	gŒue
;

1764 
boŞ
 
	gNode
::
isDeçuÉName¥aû
(cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURIMaybeEm±y
) const

1766 cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
 = 
Çme¥aûURIMaybeEm±y
.
isEm±y
(è? 
nuÎAtom
 :‚amespaceURIMaybeEmpty;

1768 
nodeTy³
()) {

1769 
	gELEMENT_NODE
: {

1770 cÚ¡ 
EËm’t
* 
–em
 = 
¡©ic_ÿ¡
<cÚ¡ EËm’t*>(
this
);

1772 ià(
	g–em
->
´efix
().
isNuÎ
())

1773  
	g–em
->
Çme¥aûURI
() ==‚amespaceURI;

1775 ià(
	g–em
->
hasA‰ribu‹s
()) {

1776 
NamedNodeM­
* 
	g©Œs
 = 
–em
->
©Œibu‹s
();

1778 
	gi
 = 0; i < 
	g©Œs
->
Ëngth
(); i++) {

1779 
A‰ribu‹
* 
	g©Œ
 = 
©Œs
->
©Œibu‹I‹m
(
i
);

1781 ià(
	g©Œ
->
loÿlName
(è=ğ
xmÊsAtom
)

1782  
©Œ
->
v®ue
(è=ğ
Çme¥aûURI
;

1786 ià(
EËm’t
* 
	gªû¡Ü
 = 
ªû¡ÜEËm’t
())

1787  
ªû¡Ü
->
isDeçuÉName¥aû
(
Çme¥aûURI
);

1789  
	gçl£
;

1791 
	gDOCUMENT_NODE
:

1792 ià(
EËm’t
* 
de
 = 
¡©ic_ÿ¡
<cÚ¡ 
Docum’t
*>(
this
)->
docum’tEËm’t
())

1793  
de
->
isDeçuÉName¥aû
(
Çme¥aûURI
);

1794  
	gçl£
;

1795 
	gENTITY_NODE
:

1796 
NOTATION_NODE
:

1797 
DOCUMENT_TYPE_NODE
:

1798 
DOCUMENT_FRAGMENT_NODE
:

1799  
çl£
;

1800 
	gATTRIBUTE_NODE
: {

1801 cÚ¡ 
A‰r
* 
©Œ
 = 
¡©ic_ÿ¡
<cÚ¡ A‰r*>(
this
);

1802 ià(
	g©Œ
->
owÃrEËm’t
())

1803  
	g©Œ
->
owÃrEËm’t
()->
isDeçuÉName¥aû
(
Çme¥aûURI
);

1804  
	gçl£
;

1807 ià(
EËm’t
* 
ªû¡Ü
 = 
ªû¡ÜEËm’t
())

1808  
ªû¡Ü
->
isDeçuÉName¥aû
(
Çme¥aûURI
);

1809  
	gçl£
;

1813 
SŒšg
 
	gNode
::
lookupP»fix
(cÚ¡ 
AtomicSŒšg
 &
Çme¥aûURI
) const

1818 ià(
Çme¥aûURI
.
isEm±y
())

1819  
SŒšg
();

1821 
nodeTy³
()) {

1822 
	gELEMENT_NODE
:

1823  
lookupName¥aûP»fix
(
Çme¥aûURI
, 
¡©ic_ÿ¡
<cÚ¡ 
EËm’t
 *>(
this
));

1824 
	gDOCUMENT_NODE
:

1825 ià(
EËm’t
* 
de
 = 
¡©ic_ÿ¡
<cÚ¡ 
Docum’t
*>(
this
)->
docum’tEËm’t
())

1826  
de
->
lookupP»fix
(
Çme¥aûURI
);

1827  
SŒšg
();

1828 
	gENTITY_NODE
:

1829 
NOTATION_NODE
:

1830 
DOCUMENT_FRAGMENT_NODE
:

1831 
DOCUMENT_TYPE_NODE
:

1832  
SŒšg
();

1833 
	gATTRIBUTE_NODE
: {

1834 cÚ¡ 
A‰r
 *
©Œ
 = 
¡©ic_ÿ¡
<cÚ¡ A‰¸*>(
this
);

1835 ià(
	g©Œ
->
owÃrEËm’t
())

1836  
	g©Œ
->
owÃrEËm’t
()->
lookupP»fix
(
Çme¥aûURI
);

1837  
SŒšg
();

1840 ià(
EËm’t
* 
ªû¡Ü
 = 
ªû¡ÜEËm’t
())

1841  
ªû¡Ü
->
lookupP»fix
(
Çme¥aûURI
);

1842  
SŒšg
();

1846 
SŒšg
 
	gNode
::
lookupName¥aûURI
(cÚ¡ SŒšg &
´efix
) const

1851 ià(!
´efix
.
isNuÎ
(è&&…»fix.
isEm±y
())

1852  
SŒšg
();

1854 
nodeTy³
()) {

1855 
	gELEMENT_NODE
: {

1856 cÚ¡ 
EËm’t
 *
–em
 = 
¡©ic_ÿ¡
<cÚ¡ EËm’ˆ*>(
this
);

1858 ià(!
	g–em
->
Çme¥aûURI
().
isNuÎ
(è&&ƒËm->
´efix
() ==…refix)

1859  
–em
->
Çme¥aûURI
();

1861 ià(
	g–em
->
hasA‰ribu‹s
()) {

1862 
NamedNodeM­
 *
	g©Œs
 = 
–em
->
©Œibu‹s
();

1864 
	gi
 = 0; i < 
	g©Œs
->
Ëngth
(); i++) {

1865 
A‰ribu‹
 *
	g©Œ
 = 
©Œs
->
©Œibu‹I‹m
(
i
);

1867 ià(
	g©Œ
->
´efix
(è=ğ
xmÊsAtom
 && 
©Œ
->
loÿlName
() ==…refix) {

1868 ià(!
©Œ
->
v®ue
().
isEm±y
())

1869  
©Œ
->
v®ue
();

1871  
SŒšg
();

1872 } ià(
	g©Œ
->
loÿlName
(è=ğ
xmÊsAtom
 && 
´efix
.
isNuÎ
()) {

1873 ià(!
©Œ
->
v®ue
().
isEm±y
())

1874  
©Œ
->
v®ue
();

1876  
SŒšg
();

1880 ià(
EËm’t
* 
	gªû¡Ü
 = 
ªû¡ÜEËm’t
())

1881  
ªû¡Ü
->
lookupName¥aûURI
(
´efix
);

1882  
SŒšg
();

1884 
	gDOCUMENT_NODE
:

1885 ià(
EËm’t
* 
de
 = 
¡©ic_ÿ¡
<cÚ¡ 
Docum’t
*>(
this
)->
docum’tEËm’t
())

1886  
de
->
lookupName¥aûURI
(
´efix
);

1887  
SŒšg
();

1888 
	gENTITY_NODE
:

1889 
NOTATION_NODE
:

1890 
DOCUMENT_TYPE_NODE
:

1891 
DOCUMENT_FRAGMENT_NODE
:

1892  
SŒšg
();

1893 
	gATTRIBUTE_NODE
: {

1894 cÚ¡ 
A‰r
 *
©Œ
 = 
¡©ic_ÿ¡
<cÚ¡ A‰¸*>(
this
);

1896 ià(
	g©Œ
->
owÃrEËm’t
())

1897  
	g©Œ
->
owÃrEËm’t
()->
lookupName¥aûURI
(
´efix
);

1899  
SŒšg
();

1902 ià(
EËm’t
* 
ªû¡Ü
 = 
ªû¡ÜEËm’t
())

1903  
ªû¡Ü
->
lookupName¥aûURI
(
´efix
);

1904  
SŒšg
();

1908 
SŒšg
 
	gNode
::
lookupName¥aûP»fix
(cÚ¡ 
AtomicSŒšg
 &
_Çme¥aûURI
, cÚ¡ 
EËm’t
 *
Üigš®EËm’t
) const

1910 ià(
	g_Çme¥aûURI
.
isNuÎ
())

1911  
SŒšg
();

1913 ià(
	gÜigš®EËm’t
->
lookupName¥aûURI
(
´efix
()è=ğ
_Çme¥aûURI
)

1914  
´efix
();

1916 ià(
hasA‰ribu‹s
()) {

1917 
NamedNodeM­
 *
	g©Œs
 = 
©Œibu‹s
();

1919 
	gi
 = 0; i < 
	g©Œs
->
Ëngth
(); i++) {

1920 
A‰ribu‹
 *
	g©Œ
 = 
©Œs
->
©Œibu‹I‹m
(
i
);

1922 ià(
	g©Œ
->
´efix
(è=ğ
xmÊsAtom
 &&

1923 
©Œ
->
v®ue
(è=ğ
_Çme¥aûURI
 &&

1924 
Üigš®EËm’t
->
lookupName¥aûURI
(
©Œ
->
loÿlName
()è=ğ
_Çme¥aûURI
)

1925  
©Œ
->
loÿlName
();

1929 ià(
EËm’t
* 
	gªû¡Ü
 = 
ªû¡ÜEËm’t
())

1930  
ªû¡Ü
->
lookupName¥aûP»fix
(
_Çme¥aûURI
, 
Üigš®EËm’t
);

1931  
SŒšg
();

1934 
	gNode
::
­³ndTextCÚ‹Á
(
boŞ
 
cÚv”tBRsToNewlšes
, 
SŒšgBud”
& 
cÚ‹Á
) const

1936 
nodeTy³
()) {

1937 
	gTEXT_NODE
:

1938 
CDATA_SECTION_NODE
:

1939 
COMMENT_NODE
:

1940 
cÚ‹Á
.
­³nd
(
¡©ic_ÿ¡
<cÚ¡ 
Ch¬aù”D©a
*>(
this
)->
d©a
());

1943 
	gPROCESSING_INSTRUCTION_NODE
:

1944 
cÚ‹Á
.
­³nd
(
¡©ic_ÿ¡
<cÚ¡ 
ProûssšgIn¡ruùiÚ
*>(
this
)->
d©a
());

1947 
	gELEMENT_NODE
:

1948 ià(
hasTagName
(
brTag
è&& 
cÚv”tBRsToNewlšes
) {

1949 
cÚ‹Á
.
­³nd
('\n');

1953 
	gATTRIBUTE_NODE
:

1954 
ENTITY_NODE
:

1955 
ENTITY_REFERENCE_NODE
:

1956 
DOCUMENT_FRAGMENT_NODE
:

1957 
cÚ‹Á
.
£tNÚNuÎ
();

1959 
Node
 *
	gchd
 = 
fœ¡Chd
(); chd; chd = 
chd
->
ÃxtSiblšg
()) {

1960 ià(
chd
->
nodeTy³
(è=ğ
COMMENT_NODE
 || chd->nodeTy³(è=ğ
PROCESSING_INSTRUCTION_NODE
)

1963 
	gchd
->
­³ndTextCÚ‹Á
(
cÚv”tBRsToNewlšes
, 
cÚ‹Á
);

1967 
	gDOCUMENT_NODE
:

1968 
DOCUMENT_TYPE_NODE
:

1969 
NOTATION_NODE
:

1970 
XPATH_NAMESPACE_NODE
:

1975 
SŒšg
 
	gNode
::
‹xtCÚ‹Á
(
boŞ
 
cÚv”tBRsToNewlšes
) const

1977 
SŒšgBud”
 
cÚ‹Á
;

1978 
­³ndTextCÚ‹Á
(
cÚv”tBRsToNewlšes
, 
cÚ‹Á
);

1979  
	gcÚ‹Á
.
toSŒšg
();

1982 
	gNode
::
£tTextCÚ‹Á
(cÚ¡ 
SŒšg
 &
‹xt
, 
Exû±iÚCode
& 
ec
)

1984 
nodeTy³
()) {

1985 
	gTEXT_NODE
:

1986 
CDATA_SECTION_NODE
:

1987 
COMMENT_NODE
:

1988 
PROCESSING_INSTRUCTION_NODE
:

1989 
£tNodeV®ue
(
‹xt
, 
ec
);

1991 
	gELEMENT_NODE
:

1992 
ATTRIBUTE_NODE
:

1993 
ENTITY_NODE
:

1994 
ENTITY_REFERENCE_NODE
:

1995 
DOCUMENT_FRAGMENT_NODE
: {

1996 
CÚš”Node
 *
cÚš”
 = 
¡©ic_ÿ¡
<CÚš”Nod*>(
this
);

1998 
	gcÚš”
->
»moveChd»n
();

2000 ià(!
	g‹xt
.
isEm±y
())

2001 
­³ndChd
(
docum’t
()->
ü—‹TextNode
(
‹xt
), 
ec
);

2004 
	gDOCUMENT_NODE
:

2005 
DOCUMENT_TYPE_NODE
:

2006 
NOTATION_NODE
:

2013 
EËm’t
* 
	gNode
::
ªû¡ÜEËm’t
() const

2016 
Node
* 
n
 = 
·»ÁNode
(); 
	gn
;‚ =‚->parentNode()) {

2017 ià(
n
->
isEËm’tNode
())

2018  
¡©ic_ÿ¡
<
EËm’t
*>(
n
);

2023 
boŞ
 
	gNode
::
off£tInCh¬aù”s
() const

2025  
çl£
;

2028 
	gNode
::
com·»Docum’tPos™iÚ
(
Node
* 
Ùh”Node
)

2031 ià(!
Ùh”Node
)

2032  
DOCUMENT_POSITION_DISCONNECTED
;

2034 ià(
	gÙh”Node
 =ğ
this
)

2035  
DOCUMENT_POSITION_EQUIVALENT
;

2037 
A‰r
* 
	g©Œ1
 = 
nodeTy³
(è=ğ
ATTRIBUTE_NODE
 ? 
¡©ic_ÿ¡
<A‰r*>(
this
) : 0;

2038 
A‰r
* 
	g©Œ2
 = 
Ùh”Node
->
nodeTy³
(è=ğ
ATTRIBUTE_NODE
 ? 
¡©ic_ÿ¡
<Attr*>(otherNode) : 0;

2040 
Node
* 
	g¡¬t1
 = 
©Œ1
 ?‡‰r1->
owÃrEËm’t
(è: 
this
;

2041 
Node
* 
	g¡¬t2
 = 
©Œ2
 ?‡‰r2->
owÃrEËm’t
(è: 
Ùh”Node
;

2045 ià(!
	g¡¬t1
 || !
	g¡¬t2
)

2046  
	gDOCUMENT_POSITION_DISCONNECTED
 | 
	gDOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC
;

2048 
	gVeùÜ
<
	gNode
*, 16> 
	gchaš1
;

2049 
	gVeùÜ
<
	gNode
*, 16> 
	gchaš2
;

2050 ià(
	g©Œ1
)

2051 
	gchaš1
.
­³nd
(
©Œ1
);

2052 ià(
	g©Œ2
)

2053 
	gchaš2
.
­³nd
(
©Œ2
);

2055 ià(
	g©Œ1
 && 
	g©Œ2
 && 
	g¡¬t1
 =ğ
¡¬t2
 && 
¡¬t1
) {

2058 
NamedNodeM­
* 
m­
 = 
©Œ1
->
owÃrEËm’t
()->
©Œibu‹s
(
Œue
);

2059 
	gËngth
 = 
m­
->
Ëngth
();

2060 
	gi
 = 0; i < 
	gËngth
; ++i) {

2066 
A‰ribu‹
* 
	g©Œ
 = 
m­
->
©Œibu‹I‹m
(
i
);

2067 ià(
	g©Œ1
->
©Œ
() ==‡ttr)

2068  
DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC
 | 
DOCUMENT_POSITION_FOLLOWING
;

2069 ià(
	g©Œ2
->
©Œ
() ==‡ttr)

2070  
DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC
 | 
DOCUMENT_POSITION_PRECEDING
;

2073 
ASSERT_NOT_REACHED
();

2074  
	gDOCUMENT_POSITION_DISCONNECTED
;

2080 ià(
	g¡¬t1
->
šDocum’t
(è!ğ
¡¬t2
->inDocument() ||

2081 
¡¬t1
->
docum’t
(è!ğ
¡¬t2
->document())

2082  
DOCUMENT_POSITION_DISCONNECTED
 | 
DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC
;

2085 
Node
* 
	gcu¼’t
;

2086 
	gcu¼’t
 = 
¡¬t1
; cu¼’t; cu¼’ˆğ
cu¼’t
->
·»ÁNode
())

2087 
chaš1
.
­³nd
(
cu¼’t
);

2088 
	gcu¼’t
 = 
¡¬t2
; cu¼’t; cu¼’ˆğ
cu¼’t
->
·»ÁNode
())

2089 
chaš2
.
­³nd
(
cu¼’t
);

2092 
	gšdex1
 = 
chaš1
.
size
();

2093 
	gšdex2
 = 
chaš2
.
size
();

2094 
	gi
 = 
mš
(
šdex1
, 
šdex2
); i; --i) {

2095 
Node
* 
	gchd1
 = 
chaš1
[--
šdex1
];

2096 
Node
* 
	gchd2
 = 
chaš2
[--
šdex2
];

2097 ià(
	gchd1
 !ğ
chd2
) {

2099 ià(
chd1
->
nodeTy³
(è=ğ
ATTRIBUTE_NODE
)

2100  
DOCUMENT_POSITION_FOLLOWING
;

2101 ià(
	gchd2
->
nodeTy³
(è=ğ
ATTRIBUTE_NODE
)

2102  
DOCUMENT_POSITION_PRECEDING
;

2104 ià(!
	gchd2
->
ÃxtSiblšg
())

2105  
	gDOCUMENT_POSITION_FOLLOWING
;

2106 ià(!
	gchd1
->
ÃxtSiblšg
())

2107  
	gDOCUMENT_POSITION_PRECEDING
;

2110 
Node
* 
	gchd
 = 
chd2
->
´eviousSiblšg
(); chd; chd = 
chd
->previousSibling()) {

2111 ià(
chd
 =ğ
chd1
)

2112  
DOCUMENT_POSITION_FOLLOWING
;

2114  
	gDOCUMENT_POSITION_PRECEDING
;

2120  
	gšdex1
 < 
	gšdex2
 ?

2121 
	gDOCUMENT_POSITION_FOLLOWING
 | 
	gDOCUMENT_POSITION_CONTAINED_BY
 :

2122 
DOCUMENT_POSITION_PRECEDING
 | 
DOCUMENT_POSITION_CONTAINS
;

2125 
FlßtPošt
 
	gNode
::
cÚv”tToPage
(cÚ¡ FlßtPošt& 
p
) const

2128 ià(
»nd””
())

2129  
»nd””
()->
loÿlToAbsŞu‹
(
p
, 
çl£
, 
Œue
);

2132 
EËm’t
 *
	g·»Á
 = 
ªû¡ÜEËm’t
();

2133 ià(
	g·»Á
)

2134  
	g·»Á
->
cÚv”tToPage
(
p
);

2137  
	gp
;

2140 
FlßtPošt
 
	gNode
::
cÚv”tFromPage
(cÚ¡ FlßtPošt& 
p
) const

2143 ià(
»nd””
())

2144  
»nd””
()->
absŞu‹ToLoÿl
(
p
, 
çl£
, 
Œue
);

2147 
EËm’t
 *
	g·»Á
 = 
ªû¡ÜEËm’t
();

2148 ià(
	g·»Á
)

2149  
	g·»Á
->
cÚv”tFromPage
(
p
);

2152  
	gp
;

2155 #iâdeà
NDEBUG


2157 
­³ndA‰ribu‹Desc
(cÚ¡ 
Node
* 
node
, 
SŒšg
& 
¡ršg
, cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ * 
©ŒDesc
)

2159 ià(
	gnode
->
isEËm’tNode
()) {

2160 
SŒšg
 
	g©Œ
 = 
¡©ic_ÿ¡
<cÚ¡ 
EËm’t
*>(
node
)->
g‘A‰ribu‹
(
Çme
);

2161 ià(!
	g©Œ
.
isEm±y
()) {

2162 
	g¡ršg
 +ğ
©ŒDesc
;

2163 
	g¡ršg
 +ğ
©Œ
;

2168 
	gNode
::
showNode
(cÚ¡ * 
´efix
) const

2170 ià(!
´efix
)

2171 
´efix
 = "";

2172 ià(
isTextNode
()) {

2173 
SŒšg
 
	gv®ue
 = 
nodeV®ue
();

2174 
	gv®ue
.
»¶aû
('\\', "\\\\");

2175 
	gv®ue
.
»¶aû
('\n', "\\n");

2176 
årštf
(
¡d”r
, "%s%s\t%°\"%s\"\n", 
´efix
, 
nodeName
().
utf8
().
d©a
(), 
this
, 
v®ue
.utf8().data());

2178 
SŒšg
 
	g©Œs
 = "";

2179 
­³ndA‰ribu‹Desc
(
this
, 
©Œs
, 
şassA‰r
, " CLASS=");

2180 
­³ndA‰ribu‹Desc
(
this
, 
©Œs
, 
¡yËA‰r
, " STYLE=");

2181 
årštf
(
¡d”r
, "%s%s\t%p%s\n", 
´efix
, 
nodeName
().
utf8
().
d©a
(), 
this
, 
©Œs
.utf8().data());

2185 
	gNode
::
showT»eFÜThis
() const

2187 
showT»eAndM¬k
(
this
, "*");

2190 
	gNode
::
showT»eAndM¬k
(cÚ¡ 
Node
* 
m¬kedNode1
, cÚ¡ * 
m¬kedLab–1
, cÚ¡ Node* 
m¬kedNode2
, cÚ¡ * 
m¬kedLab–2
) const

2192 cÚ¡ 
Node
* 
	groÙNode
;

2193 cÚ¡ 
Node
* 
	gnode
 = 
this
;

2194 
	gnode
->
·»ÁNode
(è&& !node->
hasTagName
(
bodyTag
))

2195 
	gnode
 = 
node
->
·»ÁNode
();

2196 
	groÙNode
 = 
node
;

2198 
	gnode
 = 
roÙNode
;‚ode;‚odğ
node
->
Œav”£NextNode
()) {

2199 ià(
node
 =ğ
m¬kedNode1
)

2200 
årštf
(
¡d”r
, "%s", 
m¬kedLab–1
);

2201 ià(
	gnode
 =ğ
m¬kedNode2
)

2202 
årštf
(
¡d”r
, "%s", 
m¬kedLab–2
);

2204 cÚ¡ 
Node
* 
	gtmpNode
 = 
node
;mpNod&&mpNod!ğ
roÙNode
;mpNodğ
tmpNode
->
·»ÁNode
())

2205 
årštf
(
¡d”r
, "\t");

2206 
	gnode
->
showNode
();

2210 
	gNode
::
fÜm©FÜDebugg”
(* 
bufãr
, 
Ëngth
) const

2212 
SŒšg
 
	g»suÉ
;

2213 
SŒšg
 
	gs
;

2215 
	gs
 = 
nodeName
();

2216 ià(
	gs
.
Ëngth
() == 0)

2217 
»suÉ
 += "<none>";

2219 
	g»suÉ
 +ğ
s
;

2221 
¡ºıy
(
bufãr
, 
»suÉ
.
utf8
().
d©a
(), 
Ëngth
 - 1);

2228 
	gNodeLi¡sNodeD©a
::
šv®id©eCaches
()

2230 
m_chdNodeLi¡Caches
->
»£t
();

2231 
	gTagCacheM­
::
cÚ¡_™”©Ü
 
gCachesEnd
 = 
m_gNodeLi¡Caches
.
’d
();

2232 
	gTagCacheM­
::
cÚ¡_™”©Ü
 
™
 = 
m_gNodeLi¡Caches
.
begš
(); 
	g™
 !ğ
gCachesEnd
; ++it)

2233 
	g™
->
	g£cÚd
->
»£t
();

2234 
šv®id©eCachesTh©D•’dOnA‰ribu‹s
();

2237 
	gNodeLi¡sNodeD©a
::
šv®id©eCachesTh©D•’dOnA‰ribu‹s
()

2239 
CacheM­
::
™”©Ü
 
şassCachesEnd
 = 
m_şassNodeLi¡Caches
.
’d
();

2240 
	gCacheM­
::
™”©Ü
 
™
 = 
m_şassNodeLi¡Caches
.
begš
(); 
	g™
 !ğ
şassCachesEnd
; ++it)

2241 
	g™
->
	g£cÚd
->
»£t
();

2243 
	gCacheM­
::
™”©Ü
 
ÇmeCachesEnd
 = 
m_ÇmeNodeLi¡Caches
.
’d
();

2244 
	gCacheM­
::
™”©Ü
 
™
 = 
m_ÇmeNodeLi¡Caches
.
begš
(); 
	g™
 !ğ
ÇmeCachesEnd
; ++it)

2245 
	g™
->
	g£cÚd
->
»£t
();

2248 
boŞ
 
	gNodeLi¡sNodeD©a
::
isEm±y
() const

2250 ià(!
m_li¡sW™hCaches
.
isEm±y
())

2251  
çl£
;

2253 ià(
	gm_chdNodeLi¡Caches
->
»fCouÁ
())

2254  
	gçl£
;

2256 
	gTagCacheM­
::
cÚ¡_™”©Ü
 
gCachesEnd
 = 
m_gNodeLi¡Caches
.
’d
();

2257 
	gTagCacheM­
::
cÚ¡_™”©Ü
 
™
 = 
m_gNodeLi¡Caches
.
begš
(); 
	g™
 !ğ
gCachesEnd
; ++it) {

2258 ià(
	g™
->
	g£cÚd
->
»fCouÁ
())

2259  
	gçl£
;

2262 
	gCacheM­
::
cÚ¡_™”©Ü
 
şassCachesEnd
 = 
m_şassNodeLi¡Caches
.
’d
();

2263 
	gCacheM­
::
cÚ¡_™”©Ü
 
™
 = 
m_şassNodeLi¡Caches
.
begš
(); 
	g™
 !ğ
şassCachesEnd
; ++it) {

2264 ià(
	g™
->
	g£cÚd
->
»fCouÁ
())

2265  
	gçl£
;

2268 
	gCacheM­
::
cÚ¡_™”©Ü
 
ÇmeCachesEnd
 = 
m_ÇmeNodeLi¡Caches
.
’d
();

2269 
	gCacheM­
::
cÚ¡_™”©Ü
 
™
 = 
m_ÇmeNodeLi¡Caches
.
begš
(); 
	g™
 !ğ
ÇmeCachesEnd
; ++it) {

2270 ià(
	g™
->
	g£cÚd
->
»fCouÁ
())

2271  
	gçl£
;

2274  
	gŒue
;

2277 
	gNode
::
g‘Sub»sourûURLs
(
Li¡HashS‘
<
KURL
>& 
u¾s
) const

2279 
addSub»sourûA‰ribu‹URLs
(
u¾s
);

2282 
CÚš”Node
* 
	gNode
::
ev’tP¬’tNode
()

2284 
Node
* 
·»Á
 = 
·»ÁNode
();

2285 
ASSERT
(!
·»Á
 ||…¬’t->
isCÚš”Node
());

2286  
	g¡©ic_ÿ¡
<
	gCÚš”Node
*>(
	g·»Á
);

2289 
Node
* 
	gNode
::
’şosšgLškEv’tP¬’tOrS–f
()

2291 
Node
* 
node
 = 
this
; 
	gnode
;‚odğnode->
ev’tP¬’tNode
()) {

2295 ià(
node
->
isLšk
(è&& !node->
hasTagName
(
imgTag
))

2296  
node
;

2304 
SütExecutiÚCÚ‹xt
* 
	gNode
::
sütExecutiÚCÚ‹xt
() const

2306  
docum’t
();

2309 
	gNode
::
š£¹edIÁoDocum’t
()

2311 
£tInDocum’t
(
Œue
);

2314 
	gNode
::
»movedFromDocum’t
()

2316 
£tInDocum’t
(
çl£
);

2319 
	gNode
::
wlMoveToNewOwÃrDocum’t
()

2321 
ASSERT
(!
wlMoveToNewOwÃrDocum’tWasC®Ëd
);

2322 
£tWlMoveToNewOwÃrDocum’tWasC®Ëd
(
Œue
);

2325 
	gNode
::
didMoveToNewOwÃrDocum’t
()

2327 
ASSERT
(!
didMoveToNewOwÃrDocum’tWasC®Ëd
);

2328 
£tDidMoveToNewOwÃrDocum’tWasC®Ëd
(
Œue
);

2331 #ià
ENABLE
(
SVG
)

2332 
šlše
 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*> 
š¡ªûsFÜSVGEËm’t
(
Node
* 
node
)

2334 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*> 
	gš¡ªûs
;

2336 
ASSERT
(
node
);

2337 ià(!
	gnode
->
isSVGEËm’t
(è||‚ode->
shadowT»eRoÙNode
())

2338  
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*>();

2340 
SVGEËm’t
* 
	g–em’t
 = 
¡©ic_ÿ¡
<SVGEËm’t*>(
node
);

2341 ià(!
	g–em’t
->
isStyËd
())

2342  
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*>();

2344 
SVGStyËdEËm’t
* 
	g¡yËdEËm’t
 = 
¡©ic_ÿ¡
<SVGStyËdEËm’t*>(
–em’t
);

2345 
ASSERT
(!
¡yËdEËm’t
->
š¡ªûUpd©esBlocked
());

2347  
	g¡yËdEËm’t
->
š¡ªûsFÜEËm’t
();

2351 
šlše
 
boŞ
 
ŒyAddEv’tLi¡’”
(
Node
* 
rg‘Node
, cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
, boŞ 
u£C­tu»
)

2353 ià(!
	grg‘Node
->
	gEv’tT¬g‘
::
addEv’tLi¡’”
(
ev’tTy³
, 
li¡’”
, 
u£C­tu»
))

2354  
	gçl£
;

2356 ià(
Docum’t
* 
	gdocum’t
 = 
rg‘Node
->
docum’t
())

2357 
docum’t
->
addLi¡’”Ty³IfN“ded
(
ev’tTy³
);

2359  
	gŒue
;

2362 
boŞ
 
	gNode
::
addEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
, boŞ 
u£C­tu»
)

2364 #ià!
ENABLE
(
SVG
)

2365  
ŒyAddEv’tLi¡’”
(
this
, 
ev’tTy³
, 
li¡’”
, 
u£C­tu»
);

2367 ià(!
isSVGEËm’t
())

2368  
ŒyAddEv’tLi¡’”
(
this
, 
ev’tTy³
, 
li¡’”
, 
u£C­tu»
);

2370 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*> 
	gš¡ªûs
 = 
š¡ªûsFÜSVGEËm’t
(
this
);

2371 ià(
	gš¡ªûs
.
isEm±y
())

2372  
ŒyAddEv’tLi¡’”
(
this
, 
ev’tTy³
, 
li¡’”
, 
u£C­tu»
);

2374 
	gRefPŒ
<
	gEv’tLi¡’”
> 
	gli¡’”FÜReguÏrT»e
 = 
li¡’”
;

2375 
	gRefPŒ
<
	gEv’tLi¡’”
> 
	gli¡’”FÜShadowT»e
 = 
li¡’”FÜReguÏrT»e
;

2378 ià(!
ŒyAddEv’tLi¡’”
(
this
, 
ev’tTy³
, 
li¡’”FÜReguÏrT»e
.
»Ëa£
(), 
u£C­tu»
))

2379  
	gçl£
;

2382 cÚ¡ 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*>::
cÚ¡_™”©Ü
 
’d
 = 
š¡ªûs
.end();

2383 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*>::
cÚ¡_™”©Ü
 
™
 = 
š¡ªûs
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

2384 
ASSERT
((*
™
)->
shadowT»eEËm’t
());

2385 
ASSERT
((*
™
)->
cÜ»¥ÚdšgEËm’t
(è=ğ
this
);

2387 
	gRefPŒ
<
	gEv’tLi¡’”
> 
	gli¡’”FÜCu¼’tShadowT»eEËm’t
 = 
li¡’”FÜShadowT»e
;

2388 
boŞ
 
	g»suÉ
 = 
ŒyAddEv’tLi¡’”
((*
™
)->
shadowT»eEËm’t
(), 
ev’tTy³
, 
li¡’”FÜCu¼’tShadowT»eEËm’t
.
»Ëa£
(), 
u£C­tu»
);

2389 
ASSERT_UNUSED
(
»suÉ
,„esult);

2392  
	gŒue
;

2396 
šlše
 
boŞ
 
ŒyRemoveEv’tLi¡’”
(
Node
* 
rg‘Node
, cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Ev’tLi¡’”
* 
li¡’”
, boŞ 
u£C­tu»
)

2398 ià(!
	grg‘Node
->
	gEv’tT¬g‘
::
»moveEv’tLi¡’”
(
ev’tTy³
, 
li¡’”
, 
u£C­tu»
))

2399  
	gçl£
;

2404  
	gŒue
;

2407 
boŞ
 
	gNode
::
»moveEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Ev’tLi¡’”
* 
li¡’”
, boŞ 
u£C­tu»
)

2409 #ià!
ENABLE
(
SVG
)

2410  
ŒyRemoveEv’tLi¡’”
(
this
, 
ev’tTy³
, 
li¡’”
, 
u£C­tu»
);

2412 ià(!
isSVGEËm’t
())

2413  
ŒyRemoveEv’tLi¡’”
(
this
, 
ev’tTy³
, 
li¡’”
, 
u£C­tu»
);

2415 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*> 
	gš¡ªûs
 = 
š¡ªûsFÜSVGEËm’t
(
this
);

2416 ià(
	gš¡ªûs
.
isEm±y
())

2417  
ŒyRemoveEv’tLi¡’”
(
this
, 
ev’tTy³
, 
li¡’”
, 
u£C­tu»
);

2424 
	gRefPŒ
<
	gEv’tLi¡’”
> 
´ÙeùÜ
(
li¡’”
);

2427 ià(!
ŒyRemoveEv’tLi¡’”
(
this
, 
ev’tTy³
, 
li¡’”
, 
u£C­tu»
))

2428  
	gçl£
;

2431 cÚ¡ 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*>::
cÚ¡_™”©Ü
 
’d
 = 
š¡ªûs
.end();

2432 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*>::
cÚ¡_™”©Ü
 
™
 = 
š¡ªûs
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

2433 
ASSERT
((*
™
)->
cÜ»¥ÚdšgEËm’t
(è=ğ
this
);

2435 
SVGEËm’t
* 
	gshadowT»eEËm’t
 = (*
™
)->
shadowT»eEËm’t
();

2436 
ASSERT
(
shadowT»eEËm’t
);

2438 ià(
ŒyRemoveEv’tLi¡’”
(
shadowT»eEËm’t
, 
ev’tTy³
, 
li¡’”
, 
u£C­tu»
))

2442 
ASSERT
(
li¡’”
->
wasC»©edFromM¬kup
());

2450 
Ev’tT¬g‘D©a
* 
	gd©a
 = 
shadowT»eEËm’t
->
ev’tT¬g‘D©a
();

2451 
ASSERT
(
d©a
);

2453 
	gEv’tLi¡’”M­
::
™”©Ü
 
»suÉ
 = 
d©a
->
ev’tLi¡’”M­
.
fšd
(
ev’tTy³
);

2454 
ASSERT
(
»suÉ
 !ğ
d©a
->
ev’tLi¡’”M­
.
’d
());

2456 
Ev’tLi¡’”VeùÜ
* 
	g’Œy
 = 
»suÉ
->
£cÚd
;

2457 
ASSERT
(
’Œy
);

2459 
	gšdex
 = 0;

2460 
boŞ
 
	gfoundLi¡’”
 = 
çl£
;

2462 
	gEv’tLi¡’”VeùÜ
::
™”©Ü
 
’d
 = 
’Œy
->end();

2463 
	gEv’tLi¡’”VeùÜ
::
™”©Ü
 
™
 = 
’Œy
->
begš
(); 
	g™
 !ğ
’d
; ++it) {

2464 ià(!(*
	g™
).
	gli¡’”
->
wasC»©edFromM¬kup
()) {

2465 ++
	gšdex
;

2469 
	gfoundLi¡’”
 = 
Œue
;

2470 
	g’Œy
->
»move
(
šdex
);

2474 
ASSERT
(
foundLi¡’”
);

2476 ià(
	g’Œy
->
isEm±y
()) {

2477 
d–‘e
 
	g’Œy
;

2478 
	gd©a
->
	gev’tLi¡’”M­
.
»move
(
»suÉ
);

2482  
	gŒue
;

2486 
Ev’tT¬g‘D©a
* 
	gNode
::
ev’tT¬g‘D©a
()

2488  
hasR¬eD©a
(è? 
¿»D©a
()->
ev’tT¬g‘D©a
() : 0;

2491 
Ev’tT¬g‘D©a
* 
	gNode
::
’su»Ev’tT¬g‘D©a
()

2493  
’su»R¬eD©a
()->
’su»Ev’tT¬g‘D©a
();

2496 
	gNode
::
hªdËLoÿlEv’ts
(
Ev’t
* 
ev’t
)

2498 ià(!
hasR¬eD©a
(è|| !
¿»D©a
()->
ev’tT¬g‘D©a
())

2501 ià(
di§bËd
(è&& 
	gev’t
->
isMou£Ev’t
())

2504 
fœeEv’tLi¡’”s
(
ev’t
);

2507 #ià
ENABLE
(
SVG
)

2508 
šlše
 
SVGEËm’tIn¡ªû
* 
ev’tT¬g‘AsSVGEËm’tIn¡ªû
(
Node
* 
»ã»nûNode
)

2510 
ASSERT
(
»ã»nûNode
);

2511 ià(!
	g»ã»nûNode
->
isSVGEËm’t
())

2516 
Node
* 
	gn
 = 
»ã»nûNode
;‚;‚ = 
n
->
·»ÁNode
()) {

2517 ià(!
n
->
isShadowNode
(è|| !n->
isSVGEËm’t
())

2520 
Node
* 
	gshadowT»eP¬’tEËm’t
 = 
n
->
shadowP¬’tNode
();

2521 
ASSERT
(
shadowT»eP¬’tEËm’t
->
hasTagName
(
SVGNames
::
u£Tag
));

2523 ià(
SVGEËm’tIn¡ªû
* 
	gš¡ªû
 = 
¡©ic_ÿ¡
<
SVGU£EËm’t
*>(
shadowT»eP¬’tEËm’t
)->
š¡ªûFÜShadowT»eEËm’t
(
»ã»nûNode
))

2524  
š¡ªû
;

2531 
šlše
 
Ev’tT¬g‘
* 
ev’tT¬g‘Re¥eùšgSVGT¬g‘RuËs
(
Node
* 
»ã»nûNode
)

2533 
ASSERT
(
»ã»nûNode
);

2535 #ià
ENABLE
(
SVG
)

2536 ià(
SVGEËm’tIn¡ªû
* 
	gš¡ªû
 = 
ev’tT¬g‘AsSVGEËm’tIn¡ªû
(
»ã»nûNode
)) {

2537 
ASSERT
(
š¡ªû
->
shadowT»eEËm’t
(è=ğ
»ã»nûNode
);

2538  
	gš¡ªû
;

2542  
	g»ã»nûNode
;

2545 
	gNode
::
ev’tAnû¡Üs
(
VeùÜ
<
RefPŒ
<
CÚš”Node
> > &
ªû¡Üs
)

2547 ià(
šDocum’t
()) {

2548 
CÚš”Node
* 
ªû¡Ü
 = 
ev’tP¬’tNode
(); 
	gªû¡Ü
;‡ncestor =‡ncestor->eventParentNode()) {

2549 #ià
ENABLE
(
SVG
)

2551 ià(
ªû¡Ü
->
isSVGEËm’t
(è&&‡nû¡Ü->
isShadowNode
())

2554 
	gªû¡Üs
.
­³nd
(
ªû¡Ü
);

2559 
boŞ
 
	gNode
::
di¥©chEv’t
(
PassRefPŒ
<
Ev’t
> 
´pEv’t
)

2561 
RefPŒ
<
Ev’tT¬g‘
> 
´Ùeù
 = 
this
;

2562 
	gRefPŒ
<
	gEv’t
> 
	gev’t
 = 
´pEv’t
;

2564 
	gev’t
->
£tT¬g‘
(
ev’tT¬g‘Re¥eùšgSVGT¬g‘RuËs
(
this
));

2566 
	gRefPŒ
<
	gF¿meV›w
> 
	gv›w
 = 
docum’t
()->
v›w
();

2567  
di¥©chG’”icEv’t
(
ev’t
.
»Ëa£
());

2570 
boŞ
 
ev’tHasLi¡’”s
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
DOMWšdow
* 
wšdow
, 
Node
* 
node
, 
VeùÜ
<
RefPŒ
<
CÚš”Node
> >& 
ªû¡Üs
)

2572 ià(
	gwšdow
 && wšdow->
hasEv’tLi¡’”s
(
ev’tTy³
))

2573  
	gŒue
;

2575 ià(
	gnode
->
hasEv’tLi¡’”s
(
ev’tTy³
))

2576  
	gŒue
;

2578 
size_t
 
	gi
 = 0; i < 
	gªû¡Üs
.
size
(); i++) {

2579 
CÚš”Node
* 
	gªû¡Ü
 = 
ªû¡Üs
[
i
].
g‘
();

2580 ià(
	gªû¡Ü
->
hasEv’tLi¡’”s
(
ev’tTy³
))

2581  
	gŒue
;

2584  
	gçl£
;

2587 
boŞ
 
	gNode
::
di¥©chG’”icEv’t
(
PassRefPŒ
<
Ev’t
> 
´pEv’t
)

2589 
RefPŒ
<
Ev’t
> 
ev’t
(
´pEv’t
);

2591 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

2592 
ASSERT
(
ev’t
->
rg‘
());

2593 
ASSERT
(!
ev’t
->
ty³
().
isNuÎ
());

2598 
	gRefPŒ
<
	gNode
> 
thisNode
(
this
);

2599 
	gVeùÜ
<
	gRefPŒ
<
	gCÚš”Node
> > 
	gªû¡Üs
;

2600 
ev’tAnû¡Üs
(
ªû¡Üs
);

2605 
DOMWšdow
* 
	grg‘FÜWšdowEv’ts
 = 0;

2606 ià(
	gev’t
->
ty³
(è!ğ
ev’tNames
().
lßdEv’t
) {

2607 
Node
* 
tİLev–CÚš”
 = 
ªû¡Üs
.
isEm±y
(è? 
this
 :‡nû¡Üs.
Ï¡
().
g‘
();

2608 ià(
	gtİLev–CÚš”
->
isDocum’tNode
())

2609 
	grg‘FÜWšdowEv’ts
 = 
¡©ic_ÿ¡
<
Docum’t
*>(
tİLev–CÚš”
)->
domWšdow
();

2612 #ià
ENABLE
(
INSPECTOR
)

2613 
Page
* 
	gš¥eùedPage
 = 
In¥eùÜTim–šeAg’t
::
š¡ªûCouÁ
(è? 
docum’t
()->
·ge
() : 0;

2614 ià(
	gš¥eùedPage
) {

2615 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = 
ev’tHasLi¡’”s
(
ev’t
->
ty³
(), 
rg‘FÜWšdowEv’ts
, 
this
, 
ªû¡Üs
è? 
	gš¥eùedPage
->
š¥eùÜTim–šeAg’t
() : 0)

2616 
tim–šeAg’t
->
wlDi¥©chEv’t
(*
ev’t
);

2618 
	gš¥eùedPage
 = 0;

2623 * 
	gd©a
 = 
´eDi¥©chEv’tHªdËr
(
ev’t
.
g‘
());

2624 ià(
	gev’t
->
´İag©iÚStİ³d
())

2625 
	gdÚeDi¥©chšg
;

2628 
	gev’t
->
£tEv’tPha£
(
Ev’t
::
CAPTURING_PHASE
);

2630 ià(
	grg‘FÜWšdowEv’ts
) {

2631 
	gev’t
->
£tCu¼’tT¬g‘
(
rg‘FÜWšdowEv’ts
);

2632 
	grg‘FÜWšdowEv’ts
->
fœeEv’tLi¡’”s
(
ev’t
.
g‘
());

2633 ià(
	gev’t
->
´İag©iÚStİ³d
())

2634 
	gdÚeDi¥©chšg
;

2636 
size_t
 
	gi
 = 
ªû¡Üs
.
size
(); i; --i) {

2637 
CÚš”Node
* 
	gªû¡Ü
 = 
ªû¡Üs
[
i
 - 1].
g‘
();

2638 
	gev’t
->
£tCu¼’tT¬g‘
(
ev’tT¬g‘Re¥eùšgSVGT¬g‘RuËs
(
ªû¡Ü
));

2639 
	gªû¡Ü
->
hªdËLoÿlEv’ts
(
ev’t
.
g‘
());

2640 ià(
	gev’t
->
´İag©iÚStİ³d
())

2641 
	gdÚeDi¥©chšg
;

2644 
	gev’t
->
£tEv’tPha£
(
Ev’t
::
AT_TARGET
);

2646 
	gev’t
->
£tCu¼’tT¬g‘
(
ev’tT¬g‘Re¥eùšgSVGT¬g‘RuËs
(
this
));

2647 
hªdËLoÿlEv’ts
(
ev’t
.
g‘
());

2648 ià(
	gev’t
->
´İag©iÚStİ³d
())

2649 
	gdÚeDi¥©chšg
;

2651 ià(
	gev’t
->
bubbËs
(è&& !ev’t->
ÿnûlBubbË
()) {

2653 
	gev’t
->
£tEv’tPha£
(
Ev’t
::
BUBBLING_PHASE
);

2655 
size_t
 
	gsize
 = 
ªû¡Üs
.
size
();

2656 
size_t
 
	gi
 = 0; i < 
	gsize
; ++i) {

2657 
CÚš”Node
* 
	gªû¡Ü
 = 
ªû¡Üs
[
i
].
g‘
();

2658 
	gev’t
->
£tCu¼’tT¬g‘
(
ev’tT¬g‘Re¥eùšgSVGT¬g‘RuËs
(
ªû¡Ü
));

2659 
	gªû¡Ü
->
hªdËLoÿlEv’ts
(
ev’t
.
g‘
());

2660 ià(
	gev’t
->
´İag©iÚStİ³d
(è||ƒv’t->
ÿnûlBubbË
())

2661 
	gdÚeDi¥©chšg
;

2663 ià(
	grg‘FÜWšdowEv’ts
) {

2664 
	gev’t
->
£tCu¼’tT¬g‘
(
rg‘FÜWšdowEv’ts
);

2665 
	grg‘FÜWšdowEv’ts
->
fœeEv’tLi¡’”s
(
ev’t
.
g‘
());

2666 ià(
	gev’t
->
´İag©iÚStİ³d
(è||ƒv’t->
ÿnûlBubbË
())

2667 
	gdÚeDi¥©chšg
;

2671 
	gdÚeDi¥©chšg
:

2672 
ev’t
->
£tCu¼’tT¬g‘
(0);

2673 
	gev’t
->
£tEv’tPha£
(0);

2676 
po¡Di¥©chEv’tHªdËr
(
ev’t
.
g‘
(), 
d©a
);

2681 ià(!
	gev’t
->
deçuÉP»v’‹d
(è&& !ev’t->
deçuÉHªdËd
()) {

2683 
deçuÉEv’tHªdËr
(
ev’t
.
g‘
());

2684 
ASSERT
(!
ev’t
->
deçuÉP»v’‹d
());

2685 ià(
	gev’t
->
deçuÉHªdËd
())

2686 
	gdÚeW™hDeçuÉ
;

2689 ià(
	gev’t
->
bubbËs
()) {

2690 
size_t
 
	gsize
 = 
ªû¡Üs
.
size
();

2691 
size_t
 
	gi
 = 0; i < 
	gsize
; ++i) {

2692 
CÚš”Node
* 
	gªû¡Ü
 = 
ªû¡Üs
[
i
].
g‘
();

2693 
	gªû¡Ü
->
deçuÉEv’tHªdËr
(
ev’t
.
g‘
());

2694 
ASSERT
(!
ev’t
->
deçuÉP»v’‹d
());

2695 ià(
	gev’t
->
deçuÉHªdËd
())

2696 
	gdÚeW™hDeçuÉ
;

2701 
	gdÚeW™hDeçuÉ
:

2702 #ià
ENABLE
(
INSPECTOR
)

2703 ià(
š¥eùedPage
)

2704 ià(
In¥eùÜTim–šeAg’t
* 
tim–šeAg’t
 = 
š¥eùedPage
->
š¥eùÜTim–šeAg’t
())

2705 
tim–šeAg’t
->
didDi¥©chEv’t
();

2708  !
	gev’t
->
deçuÉP»v’‹d
();

2711 
	gNode
::
di¥©chSubŒ“Modif›dEv’t
()

2713 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

2715 
docum’t
()->
šcDOMT»eV”siÚ
();

2717 
nÙifyNodeLi¡sA‰ribu‹Chªged
();

2719 ià(!
docum’t
()->
hasLi¡’”Ty³
(
Docum’t
::
DOMSUBTREEMODIFIED_LISTENER
))

2722 
di¥©chEv’t
(
MutiÚEv’t
::
ü—‹
(
ev’tNames
().
DOMSubŒ“Modif›dEv’t
, 
Œue
));

2725 
	gNode
::
di¥©chUIEv’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
d‘a
, 
PassRefPŒ
<
Ev’t
> 
und”lyšgEv’t
)

2727 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

2728 
ASSERT
(
ev’tTy³
 =ğ
ev’tNames
().
focusšEv’t
 ||ƒv’tTy³ =ğev’tNames().
focusoutEv’t
 ||

2729 
ev’tTy³
 =ğ
ev’tNames
().
DOMFocusInEv’t
 ||ƒv’tTy³ =ğev’tNames().
DOMFocusOutEv’t
 ||ƒv’tTy³ =ğev’tNames().
DOMAùiv©eEv’t
);

2731 
boŞ
 
	gÿnûÏbË
 = 
ev’tTy³
 =ğ
ev’tNames
().
DOMAùiv©eEv’t
;

2733 
	gRefPŒ
<
	gUIEv’t
> 
	gev’t
 = 
UIEv’t
::
ü—‹
(
ev’tTy³
, 
Œue
, 
ÿnûÏbË
, 
docum’t
()->
deçuÉV›w
(), 
d‘a
);

2734 
	gev’t
->
£tUnd”lyšgEv’t
(
und”lyšgEv’t
);

2735 
di¥©chEv’t
(
ev’t
.
»Ëa£
());

2738 
boŞ
 
	gNode
::
di¥©chKeyEv’t
(cÚ¡ 
PÏtfÜmKeybßrdEv’t
& 
key
)

2740 
RefPŒ
<
KeybßrdEv’t
> 
keybßrdEv’t
 = KeybßrdEv’t::
ü—‹
(
key
, 
docum’t
()->
deçuÉV›w
());

2741 
boŞ
 
	gr
 = 
di¥©chEv’t
(
keybßrdEv’t
);

2746 ià(
	gkeybßrdEv’t
->
deçuÉHªdËd
())

2747 
	gr
 = 
çl£
;

2749  
	gr
;

2752 
boŞ
 
	gNode
::
di¥©chMou£Ev’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
, cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
,

2753 
d‘a
, 
Node
* 
»Ï‹dT¬g‘
)

2755 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

2757 
IÁPošt
 
	gcÚ‹ÁsPos
;

2758 ià(
F¿meV›w
* 
	gv›w
 = 
docum’t
()->
v›w
())

2759 
cÚ‹ÁsPos
 = 
v›w
->
wšdowToCÚ‹Ás
(
ev’t
.
pos
());

2761 
	gbu‰Ú
 = 
ev’t
.
bu‰Ú
();

2763 
ASSERT
(
ev’t
.
ev’tTy³
(è=ğ
Mou£Ev’tMoved
 || 
bu‰Ú
 !ğ
NoBu‰Ú
);

2765  
di¥©chMou£Ev’t
(
ev’tTy³
, 
bu‰Ú
, 
d‘a
,

2766 
cÚ‹ÁsPos
.
x
(), cÚ‹ÁsPos.
y
(), 
ev’t
.
glob®X
(),ƒv’t.
glob®Y
(),

2767 
ev’t
.
ù¾Key
(),ƒv’t.
®tKey
(),ƒv’t.
shiáKey
(),ƒv’t.
m‘aKey
(),

2768 
çl£
, 
»Ï‹dT¬g‘
, 0);

2771 
	gNode
::
di¥©chSimuÏ‹dMou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
,

2772 
PassRefPŒ
<
Ev’t
> 
und”lyšgEv’t
)

2774 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

2776 
boŞ
 
	gù¾Key
 = 
çl£
;

2777 
boŞ
 
	g®tKey
 = 
çl£
;

2778 
boŞ
 
	gshiáKey
 = 
çl£
;

2779 
boŞ
 
	gm‘aKey
 = 
çl£
;

2780 ià(
UIEv’tW™hKeyS‹
* 
	gkeyS‹Ev’t
 = 
fšdEv’tW™hKeyS‹
(
und”lyšgEv’t
.
g‘
())) {

2781 
ù¾Key
 = 
keyS‹Ev’t
->ctrlKey();

2782 
	g®tKey
 = 
keyS‹Ev’t
->
®tKey
();

2783 
	gshiáKey
 = 
keyS‹Ev’t
->
shiáKey
();

2784 
	gm‘aKey
 = 
keyS‹Ev’t
->
m‘aKey
();

2789 
di¥©chMou£Ev’t
(
ev’tTy³
, 0, 0, 0, 0, 0, 0,

2790 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
, 
Œue
, 0, 
und”lyšgEv’t
);

2793 
	gNode
::
di¥©chSimuÏ‹dClick
(
PassRefPŒ
<
Ev’t
> 
ev’t
, 
boŞ
 
£ndMou£Ev’ts
, boŞ 
showP»s£dLook
)

2795 ià(!
	ggNodesDi¥©chšgSimuÏ‹dClicks
)

2796 
	ggNodesDi¥©chšgSimuÏ‹dClicks
 = 
Ãw
 
HashS‘
<
Node
*>;

2797 ià(
	ggNodesDi¥©chšgSimuÏ‹dClicks
->
cÚšs
(
this
))

2800 
	ggNodesDi¥©chšgSimuÏ‹dClicks
->
add
(
this
);

2803 ià(
	g£ndMou£Ev’ts
)

2804 
di¥©chSimuÏ‹dMou£Ev’t
(
ev’tNames
().
mou£downEv’t
, 
ev’t
.
g‘
());

2805 
£tAùive
(
Œue
, 
showP»s£dLook
);

2806 ià(
	g£ndMou£Ev’ts
)

2807 
di¥©chSimuÏ‹dMou£Ev’t
(
ev’tNames
().
mou£upEv’t
, 
ev’t
.
g‘
());

2808 
£tAùive
(
çl£
);

2811 
di¥©chSimuÏ‹dMou£Ev’t
(
ev’tNames
().
şickEv’t
, 
ev’t
);

2813 
	ggNodesDi¥©chšgSimuÏ‹dClicks
->
»move
(
this
);

2816 
boŞ
 
	gNode
::
di¥©chMou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
bu‰Ú
, 
d‘a
,

2817 
·geX
, 
·geY
, 
sü“nX
, 
sü“nY
,

2818 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
,

2819 
boŞ
 
isSimuÏ‹d
, 
Node
* 
»Ï‹dT¬g‘Arg
, 
PassRefPŒ
<
Ev’t
> 
und”lyšgEv’t
)

2821 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

2822 ià(
di§bËd
())

2823  
	gŒue
;

2825 ià(
	gev’tTy³
.
isEm±y
())

2826  
	gçl£
;

2831 
	gRefPŒ
<
	gNode
> 
´Ùeù
(
this
);

2833 
boŞ
 
	gÿnûÏbË
 = 
ev’tTy³
 !ğ
ev’tNames
().
mou£moveEv’t
;

2835 
boŞ
 
	gsw®lowEv’t
 = 
çl£
;

2838 
	gRefPŒ
<
	gNode
> 
	g»Ï‹dT¬g‘
 = 
»Ï‹dT¬g‘Arg
;

2840 
	gadju¡edPageX
 = 
·geX
;

2841 
	gadju¡edPageY
 = 
·geY
;

2842 ià(
F¿me
* 
	gäame
 = 
docum’t
()->
äame
()) {

2843 
·geZoom
 = 
äame
->
·geZoomFaùÜ
();

2844 ià(
	g·geZoom
 != 1.0f) {

2846 
adju¡edPageX
 = 
Ìoundf
(
·geX
 / 
·geZoom
);

2847 
	gadju¡edPageY
 = 
Ìoundf
(
·geY
 / 
·geZoom
);

2851 
	gRefPŒ
<
	gMou£Ev’t
> 
	gmou£Ev’t
 = 
Mou£Ev’t
::
ü—‹
(
ev’tTy³
,

2852 
Œue
, 
ÿnûÏbË
, 
docum’t
()->
deçuÉV›w
(),

2853 
d‘a
, 
sü“nX
, 
sü“nY
, 
adju¡edPageX
, 
adju¡edPageY
,

2854 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
, 
bu‰Ú
,

2855 
»Ï‹dT¬g‘
, 0, 
isSimuÏ‹d
);

2856 
	gmou£Ev’t
->
£tUnd”lyšgEv’t
(
und”lyšgEv’t
.
g‘
());

2857 
	gmou£Ev’t
->
£tAbsŞu‹LoÿtiÚ
(
IÁPošt
(
·geX
, 
·geY
));

2859 
di¥©chEv’t
(
mou£Ev’t
);

2860 
boŞ
 
	gdeçuÉHªdËd
 = 
mou£Ev’t
->
deçuÉHªdËd
();

2861 
boŞ
 
	gdeçuÉP»v’‹d
 = 
mou£Ev’t
->
deçuÉP»v’‹d
();

2862 ià(
	gdeçuÉHªdËd
 || 
	gdeçuÉP»v’‹d
)

2863 
	gsw®lowEv’t
 = 
Œue
;

2868 ià(
	gev’tTy³
 =ğ
ev’tNames
().
şickEv’t
 && 
d‘a
 == 2) {

2869 
RefPŒ
<
Ev’t
> 
doubËClickEv’t
 = 
Mou£Ev’t
::
ü—‹
(
ev’tNames
().
dblşickEv’t
,

2870 
Œue
, 
ÿnûÏbË
, 
docum’t
()->
deçuÉV›w
(),

2871 
d‘a
, 
sü“nX
, 
sü“nY
, 
adju¡edPageX
, 
adju¡edPageY
,

2872 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
, 
bu‰Ú
,

2873 
»Ï‹dT¬g‘
, 0, 
isSimuÏ‹d
);

2874 
	gdoubËClickEv’t
->
£tUnd”lyšgEv’t
(
und”lyšgEv’t
.
g‘
());

2875 ià(
	gdeçuÉHªdËd
)

2876 
	gdoubËClickEv’t
->
£tDeçuÉHªdËd
();

2877 
di¥©chEv’t
(
doubËClickEv’t
);

2878 ià(
	gdoubËClickEv’t
->
deçuÉHªdËd
(è|| doubËClickEv’t->
deçuÉP»v’‹d
())

2879 
	gsw®lowEv’t
 = 
Œue
;

2882  
	gsw®lowEv’t
;

2885 
	gNode
::
di¥©chWh“lEv’t
(
PÏtfÜmWh“lEv’t
& 
e
)

2887 
ASSERT
(!
ev’tDi¥©chFÜbidd’
());

2888 ià(
	ge
.
d–X
(è=ğ0 && 
e
.
d–Y
() == 0)

2891 
F¿meV›w
* 
	gv›w
 = 
docum’t
()->
v›w
();

2892 ià(!
	gv›w
)

2895 
IÁPošt
 
	gpos
 = 
v›w
->
wšdowToCÚ‹Ás
(
e
.
pos
());

2897 
	gadju¡edPageX
 = 
pos
.
x
();

2898 
	gadju¡edPageY
 = 
pos
.
y
();

2899 ià(
F¿me
* 
	gäame
 = 
docum’t
()->
äame
()) {

2900 
·geZoom
 = 
äame
->
·geZoomFaùÜ
();

2901 ià(
	g·geZoom
 != 1.0f) {

2903 
adju¡edPageX
 = 
Ìoundf
(
pos
.
x
(è/ 
·geZoom
);

2904 
	gadju¡edPageY
 = 
Ìoundf
(
pos
.
y
(è/ 
·geZoom
);

2908 
	gWh“lEv’t
::
G¿nuÏr™y
 
g¿nuÏr™y
;

2909 
	ge
.
g¿nuÏr™y
()) {

2910 
	gSüŞlByPageWh“lEv’t
:

2911 
g¿nuÏr™y
 = 
Wh“lEv’t
::
Page
;

2913 
	gSüŞlByPix–Wh“lEv’t
:

2915 
g¿nuÏr™y
 = 
Wh“lEv’t
::
Pix–
;

2919 
	gRefPŒ
<
	gWh“lEv’t
> 
	gwe
 = 
Wh“lEv’t
::
ü—‹
(
e
.
wh“lTicksX
(),ƒ.
wh“lTicksY
(),ƒ.
d–X
(),ƒ.
d–Y
(), 
g¿nuÏr™y
,

2920 
docum’t
()->
deçuÉV›w
(), 
e
.
glob®X
(),ƒ.
glob®Y
(), 
adju¡edPageX
, 
adju¡edPageY
,

2921 
e
.
ù¾Key
(),ƒ.
®tKey
(),ƒ.
shiáKey
(),ƒ.
m‘aKey
());

2923 
	gwe
->
£tAbsŞu‹LoÿtiÚ
(
IÁPošt
(
pos
.
x
(),…os.
y
()));

2925 ià(!
di¥©chEv’t
(
we
è|| 
	gwe
->
deçuÉHªdËd
())

2926 
	ge
.
acû±
();

2928 
	gwe
.
»Ëa£
();

2931 
	gNode
::
di¥©chFocusEv’t
()

2933 
di¥©chEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
focusEv’t
, 
çl£
, false));

2936 
	gNode
::
di¥©chBlurEv’t
()

2938 
di¥©chEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
blurEv’t
, 
çl£
, false));

2941 
boŞ
 
	gNode
::
di§bËd
() const

2943  
çl£
;

2946 
	gNode
::
deçuÉEv’tHªdËr
(
Ev’t
* 
ev’t
)

2948 ià(
ev’t
->
rg‘
(è!ğ
this
)

2950 cÚ¡ 
	gAtomicSŒšg
& 
	gev’tTy³
 = 
ev’t
->
ty³
();

2951 ià(
	gev’tTy³
 =ğ
ev’tNames
().
keydownEv’t
 || 
ev’tTy³
 =ğev’tNames().
key´essEv’t
) {

2952 ià(
ev’t
->
isKeybßrdEv’t
())

2953 ià(
F¿me
* 
äame
 = 
docum’t
()->frame())

2954 
äame
->
ev’tHªdËr
()->
deçuÉKeybßrdEv’tHªdËr
(
¡©ic_ÿ¡
<
KeybßrdEv’t
*>(
ev’t
));

2955 } ià(
	gev’tTy³
 =ğ
ev’tNames
().
şickEv’t
) {

2956 
d‘a
 = 
ev’t
->
isUIEv’t
(è? 
¡©ic_ÿ¡
<
UIEv’t
*>(event)->detail() : 0;

2957 
di¥©chUIEv’t
(
ev’tNames
().
DOMAùiv©eEv’t
, 
d‘a
, 
ev’t
);

2958 #ià
ENABLE
(
CONTEXT_MENUS
)

2959 } ià(
	gev’tTy³
 =ğ
ev’tNames
().
cÚ‹xtm’uEv’t
) {

2960 ià(
F¿me
* 
äame
 = 
docum’t
()->frame())

2961 ià(
Page
* 
·ge
 = 
äame
->page())

2962 
·ge
->
cÚ‹xtM’uCÚŒŞËr
()->
hªdËCÚ‹xtM’uEv’t
(
ev’t
);

2964 } ià(
	gev’tTy³
 =ğ
ev’tNames
().
‹xtIÅutEv’t
) {

2965 ià(
ev’t
->
isTextEv’t
())

2966 ià(
F¿me
* 
äame
 = 
docum’t
()->frame())

2967 
äame
->
ev’tHªdËr
()->
deçuÉTextIÅutEv’tHªdËr
(
¡©ic_ÿ¡
<
TextEv’t
*>(
ev’t
));

2968 #ià
ENABLE
(
PAN_SCROLLING
)

2969 } ià(
	gev’tTy³
 =ğ
ev’tNames
().
mou£downEv’t
) {

2970 
Mou£Ev’t
* 
mou£Ev’t
 = 
¡©ic_ÿ¡
<Mou£Ev’t*>(
ev’t
);

2971 ià(
	gmou£Ev’t
->
bu‰Ú
(è=ğ
MiddËBu‰Ú
) {

2972 ià(
’şosšgLškEv’tP¬’tOrS–f
())

2975 
R’d”Objeù
* 
	g»nd””
 = 
this
->
»nd””
();

2976 
	g»nd””
 && (!»nd””->
isBox
(è|| !
toR’d”Box
(
»nd””
)->
ÿnBeSüŞËdAndHasSüŞÏbËA»a
()))

2977 
	g»nd””
 = 
»nd””
->
·»Á
();

2979 ià(
	g»nd””
) {

2980 ià(
F¿me
* 
	gäame
 = 
docum’t
()->
äame
())

2981 
äame
->
ev’tHªdËr
()->
¡¬tPªSüŞlšg
(
»nd””
);

2985 } ià(
	gev’tTy³
 =ğ
ev’tNames
().
mou£wh“lEv’t
 && 
ev’t
->
isWh“lEv’t
()) {

2986 
Wh“lEv’t
* 
wh“lEv’t
 = 
¡©ic_ÿ¡
<Wh“lEv’t*>(
ev’t
);

2990 
Node
* 
	g¡¬tNode
 = 
this
;

2991 
	g¡¬tNode
 && !¡¬tNode->
»nd””
())

2992 
	g¡¬tNode
 = 
¡¬tNode
->
·»Á
();

2994 ià(
	g¡¬tNode
 && s¹Node->
»nd””
())

2995 ià(
F¿me
* 
	gäame
 = 
docum’t
()->
äame
())

2996 
äame
->
ev’tHªdËr
()->
deçuÉWh“lEv’tHªdËr
(
¡¬tNode
, 
wh“lEv’t
);

3002 #iâdeà
NDEBUG


3004 
showT»e
(cÚ¡ 
WebCÜe
::
Node
* 
node
)

3006 ià(
node
)

3007 
node
->
showT»eFÜThis
();

	@Node.h

25 #iâdeà
Node_h


26 
	#Node_h


	)

28 
	~"Ev’tT¬g‘.h
"

29 
	~"KURLHash.h
"

30 
	~"SütW¿µabË.h
"

31 
	~"T»eSh¬ed.h
"

32 
	~<wtf/Li¡HashS‘.h
>

34 
Çme¥aû
 
	gWebCÜe
 {

36 
şass
 
	gAtomicSŒšg
;

37 
şass
 
	gA‰ribu‹
;

38 
şass
 
	gCÚš”Node
;

39 
şass
 
	gDocum’t
;

40 
şass
 
	gDyÇmicNodeLi¡
;

41 
şass
 
	gEËm’t
;

42 
şass
 
	gEv’t
;

43 
şass
 
	gEv’tLi¡’”
;

44 
şass
 
	gFlßtPošt
;

45 
şass
 
	gF¿me
;

46 
şass
 
	gIÁReù
;

47 
şass
 
	gKeybßrdEv’t
;

48 
şass
 
	gNSResŞv”
;

49 
şass
 
	gNamedNodeM­
;

50 
şass
 
	gNodeLi¡
;

51 
şass
 
	gNodeR¬eD©a
;

52 
şass
 
	gPÏtfÜmKeybßrdEv’t
;

53 
şass
 
	gPÏtfÜmMou£Ev’t
;

54 
şass
 
	gPÏtfÜmWh“lEv’t
;

55 
şass
 
	gQu®if›dName
;

56 
şass
 
	gRegi¡”edEv’tLi¡’”
;

57 
şass
 
	gR’d”A»Ç
;

58 
şass
 
	gR’d”Box
;

59 
şass
 
	gR’d”BoxMod–Objeù
;

60 
şass
 
	gR’d”Objeù
;

61 
şass
 
	gR’d”StyË
;

62 
şass
 
	gSŒšgBud”
;

64 
	tExû±iÚCode
;

69 
	eStyËChªgeTy³
 { 
	gNoStyËChªge
, 
	gIÆšeStyËChªge
, 
	gFuÎStyËChªge
, 
	gSyÁh‘icStyËChªge
 };

71 cÚ¡ 
	gDOCUMENT_POSITION_EQUIVALENT
 = 0x00;

72 cÚ¡ 
	gDOCUMENT_POSITION_DISCONNECTED
 = 0x01;

73 cÚ¡ 
	gDOCUMENT_POSITION_PRECEDING
 = 0x02;

74 cÚ¡ 
	gDOCUMENT_POSITION_FOLLOWING
 = 0x04;

75 cÚ¡ 
	gDOCUMENT_POSITION_CONTAINS
 = 0x08;

76 cÚ¡ 
	gDOCUMENT_POSITION_CONTAINED_BY
 = 0x10;

77 cÚ¡ 
	gDOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC
 = 0x20;

80 
şass
 
	gNode
 : 
public
 
Ev’tT¬g‘
,…ubliø
	gT»eSh¬ed
<Node>,…ubliø
	gSütW¿µabË
 {

81 
ä›nd
 
şass
 
	gDocum’t
;

82 
	gpublic
:

83 
	eNodeTy³
 {

84 
ELEMENT_NODE
 = 1,

85 
	gATTRIBUTE_NODE
 = 2,

86 
	gTEXT_NODE
 = 3,

87 
	gCDATA_SECTION_NODE
 = 4,

88 
	gENTITY_REFERENCE_NODE
 = 5,

89 
	gENTITY_NODE
 = 6,

90 
	gPROCESSING_INSTRUCTION_NODE
 = 7,

91 
	gCOMMENT_NODE
 = 8,

92 
	gDOCUMENT_NODE
 = 9,

93 
	gDOCUMENT_TYPE_NODE
 = 10,

94 
	gDOCUMENT_FRAGMENT_NODE
 = 11,

95 
	gNOTATION_NODE
 = 12,

96 
	gXPATH_NAMESPACE_NODE
 = 13

99 
boŞ
 
isSuµÜ‹d
(cÚ¡ 
SŒšg
& 
ã©u»
, cÚ¡ SŒšg& 
v”siÚ
);

101 
¡¬tIgnÜšgL—ks
();

102 
¡İIgnÜšgL—ks
();

104 
dumpSti¡ics
();

106 
	eStyËChªge
 { 
	gNoChªge
, 
	gNoInh”™
, 
	gInh”™
, 
	gD‘ach
, 
	gFÜû
 };

107 
StyËChªge
 
diff
(cÚ¡ 
R’d”StyË
*, const RenderStyle*);

109 
	gvœtu®
 ~
Node
();

113 
boŞ
 
hasTagName
(cÚ¡ 
Qu®if›dName
&) const;

114 
vœtu®
 
SŒšg
 
nodeName
() const = 0;

115 
vœtu®
 
SŒšg
 
nodeV®ue
() const;

116 
vœtu®
 
£tNodeV®ue
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

117 
vœtu®
 
NodeTy³
 
nodeTy³
() const = 0;

118 
Node
* 
·»ÁNode
(ècÚ¡ {  
·»Á
(); }

119 
EËm’t
* 
·»ÁEËm’t
() const;

120 
Node
* 
´eviousSiblšg
(ècÚ¡ {  
	gm_´evious
; }

121 
Node
* 
ÃxtSiblšg
(ècÚ¡ {  
	gm_Ãxt
; }

122 
	gPassRefPŒ
<
	gNodeLi¡
> 
chdNodes
();

123 
Node
* 
fœ¡Chd
(ècÚ¡ {  
isCÚš”Node
(è? 
cÚš”Fœ¡Chd
() : 0; }

124 
Node
* 
Ï¡Chd
(ècÚ¡ {  
isCÚš”Node
(è? 
cÚš”La¡Chd
() : 0; }

125 
boŞ
 
hasA‰ribu‹s
() const;

126 
NamedNodeM­
* 
©Œibu‹s
() const;

128 
vœtu®
 
KURL
 
ba£URI
() const;

130 
g‘Sub»sourûURLs
(
Li¡HashS‘
<
KURL
>&) const;

135 
vœtu®
 
boŞ
 
š£¹BefÜe
(
PassRefPŒ
<
Node
> 
ÃwChd
, Node* 
»fChd
, 
Exû±iÚCode
&, boŞ 
shouldLazyA‰ach
 = 
çl£
);

136 
vœtu®
 
boŞ
 
»¶aûChd
(
PassRefPŒ
<
Node
> 
ÃwChd
, Node* 
ŞdChd
, 
Exû±iÚCode
&, boŞ 
shouldLazyA‰ach
 = 
çl£
);

137 
vœtu®
 
boŞ
 
»moveChd
(
Node
* 
chd
, 
Exû±iÚCode
&);

138 
vœtu®
 
boŞ
 
­³ndChd
(
PassRefPŒ
<
Node
> 
ÃwChd
, 
Exû±iÚCode
&, boŞ 
shouldLazyA‰ach
 = 
çl£
);

140 
»move
(
Exû±iÚCode
&);

141 
boŞ
 
hasChdNodes
(ècÚ¡ {  
fœ¡Chd
(); }

142 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
) = 0;

143 cÚ¡ 
	gAtomicSŒšg
& 
loÿlName
(ècÚ¡ {  
vœtu®LoÿlName
(); }

144 cÚ¡ 
	gAtomicSŒšg
& 
Çme¥aûURI
(ècÚ¡ {  
vœtu®Name¥aûURI
(); }

145 cÚ¡ 
	gAtomicSŒšg
& 
´efix
(ècÚ¡ {  
vœtu®P»fix
(); }

146 
vœtu®
 
£tP»fix
(cÚ¡ 
AtomicSŒšg
&, 
Exû±iÚCode
&);

147 
nÜm®ize
();

149 
boŞ
 
isSameNode
(
Node
* 
Ùh”
ècÚ¡ {  
	gthis
 == other; }

150 
boŞ
 
isEqu®Node
(
Node
*) const;

151 
boŞ
 
isDeçuÉName¥aû
(cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
) const;

152 
SŒšg
 
lookupP»fix
(cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
) const;

153 
SŒšg
 
lookupName¥aûURI
(cÚ¡ SŒšg& 
´efix
) const;

154 
SŒšg
 
lookupName¥aûP»fix
(cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
, cÚ¡ 
EËm’t
* 
Üigš®EËm’t
) const;

156 
SŒšg
 
‹xtCÚ‹Á
(
boŞ
 
cÚv”tBRsToNewlšes
 = 
çl£
) const;

157 
£tTextCÚ‹Á
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

159 
Node
* 
Ï¡Desûndªt
() const;

160 
Node
* 
fœ¡Desûndªt
() const;

164 
boŞ
 
isEËm’tNode
(ècÚ¡ {  
	gm_isEËm’t
; }

165 
boŞ
 
isCÚš”Node
(ècÚ¡ {  
	gm_isCÚš”
; }

166 
boŞ
 
isTextNode
(ècÚ¡ {  
	gm_isText
; }

169 
vœtu®
 
boŞ
 
isHTMLEËm’t
(ècÚ¡ {  
	gçl£
; }

171 #ià
ENABLE
(
SVG
)

172 
vœtu®
 
boŞ
 
isSVGEËm’t
(ècÚ¡ {  
	gçl£
; }

174 
boŞ
 
isSVGEËm’t
(è{  
	gçl£
; }

177 #ià
ENABLE
(
WML
)

178 
vœtu®
 
boŞ
 
isWMLEËm’t
(ècÚ¡ {  
	gçl£
; }

180 
boŞ
 
isWMLEËm’t
(è{  
	gçl£
; }

183 #ià
ENABLE
(
MATHML
)

184 
vœtu®
 
boŞ
 
isM©hMLEËm’t
(ècÚ¡ {  
	gçl£
; }

186 
boŞ
 
isM©hMLEËm’t
(è{  
	gçl£
; }

190 
vœtu®
 
boŞ
 
isMedŸCÚŒŞEËm’t
(ècÚ¡ {  
	gçl£
; }

191 
vœtu®
 
boŞ
 
isStyËdEËm’t
(ècÚ¡ {  
	gçl£
; }

192 
vœtu®
 
boŞ
 
isF¿meOwÃrEËm’t
(ècÚ¡ {  
	gçl£
; }

193 
vœtu®
 
boŞ
 
isA‰ribu‹Node
(ècÚ¡ {  
	gçl£
; }

194 
vœtu®
 
boŞ
 
isComm’tNode
(ècÚ¡ {  
	gçl£
; }

195 
vœtu®
 
boŞ
 
isCh¬aù”D©aNode
(ècÚ¡ {  
	gçl£
; }

196 
boŞ
 
isDocum’tNode
() const;

197 
vœtu®
 
boŞ
 
isShadowNode
(ècÚ¡ {  
	gçl£
; }

198 
vœtu®
 
Node
* 
shadowP¬’tNode
() {  0; }

199 
Node
* 
shadowAnû¡ÜNode
();

200 
Node
* 
shadowT»eRoÙNode
();

201 
boŞ
 
isInShadowT»e
();

204 
vœtu®
 
CÚš”Node
* 
ev’tP¬’tNode
();

207 
Node
* 
’şosšgLškEv’tP¬’tOrS–f
();

210 
ev’tAnû¡Üs
(
VeùÜ
<
RefPŒ
<
CÚš”Node
> > &
ªû¡Üs
);

212 
boŞ
 
isBlockFlow
() const;

213 
boŞ
 
isBlockFlowOrBlockTabË
() const;

216 
£tP»viousSiblšg
(
Node
* 
´evious
è{ 
	gm_´evious
 =…revious; }

217 
£tNextSiblšg
(
Node
* 
Ãxt
è{ 
	gm_Ãxt
 =‚ext; }

220 
Node
* 
´eviousNodeCÚsid”šgAtomicNodes
() const;

221 
Node
* 
ÃxtNodeCÚsid”šgAtomicNodes
() const;

229 
Node
* 
ÃxtL—fNode
() const;

237 
Node
* 
´eviousL—fNode
() const;

239 
boŞ
 
isEd™abËBlock
() const;

242 
EËm’t
* 
’şosšgBlockFlowEËm’t
() const;

244 
EËm’t
* 
’şosšgIÆšeEËm’t
() const;

245 
EËm’t
* 
roÙEd™abËEËm’t
() const;

247 
boŞ
 
šSameCÚššgBlockFlowEËm’t
(
Node
*);

252 
vœtu®
 
CÚš”Node
* 
addChd
(
PassRefPŒ
<
Node
>);

260 
vœtu®
 
fšishP¬sšgChd»n
() { }

261 
vœtu®
 
begšP¬sšgChd»n
() { }

266 
vœtu®
 
aboutToUÆßd
() { }

269 
vœtu®
 
boŞ
 
sh“tLßded
(è{  
	gŒue
; }

271 
boŞ
 
hasID
(ècÚ¡ {  
	gm_hasId
; }

272 
boŞ
 
hasCÏss
(ècÚ¡ {  
	gm_hasCÏss
; }

273 
boŞ
 
aùive
(ècÚ¡ {  
	gm_aùive
; }

274 
boŞ
 
šAùiveChaš
(ècÚ¡ {  
	gm_šAùiveChaš
; }

275 
boŞ
 
šD‘ach
(ècÚ¡ {  
	gm_šD‘ach
; }

276 
boŞ
 
hov”ed
(ècÚ¡ {  
	gm_hov”ed
; }

277 
boŞ
 
focu£d
(ècÚ¡ {  
hasR¬eD©a
(è? 
¿»D©aFocu£d
(è: 
çl£
; }

278 
boŞ
 
©ched
(ècÚ¡ {  
	gm_©ched
; }

279 
£tA‰ached
(
boŞ
 
b
 = 
Œue
è{ 
m_©ched
 = b; }

280 
boŞ
 
ÃedsStyËReÿlc
(ècÚ¡ {  
	gm_¡yËChªge
 !ğ
NoStyËChªge
; }

281 
StyËChªgeTy³
 
¡yËChªgeTy³
(ècÚ¡ {  
	g¡©ic_ÿ¡
<
	gStyËChªgeTy³
>(
	gm_¡yËChªge
); }

282 
boŞ
 
chdN“dsStyËReÿlc
(ècÚ¡ {  
	gm_chdN“dsStyËReÿlc
; }

283 
boŞ
 
isLšk
(ècÚ¡ {  
	gm_isLšk
; }

284 
£tHasID
(
boŞ
 
b
 = 
Œue
è{ 
m_hasId
 = b; }

285 
£tHasCÏss
(
boŞ
 
b
 = 
Œue
è{ 
m_hasCÏss
 = b; }

286 
£tChdN“dsStyËReÿlc
(
boŞ
 
b
 = 
Œue
è{ 
m_chdN“dsStyËReÿlc
 = b; }

287 
£tInDocum’t
(
boŞ
 
b
 = 
Œue
è{ 
m_šDocum’t
 = b; }

288 
£tInAùiveChaš
(
boŞ
 
b
 = 
Œue
è{ 
m_šAùiveChaš
 = b; }

289 
£tN“dsStyËReÿlc
(
StyËChªgeTy³
 
chªgeTy³
 = 
FuÎStyËChªge
);

290 
£tIsLšk
(
boŞ
 
b
 = 
Œue
è{ 
m_isLšk
 = b; }

292 
ÏzyA‰ach
();

293 
vœtu®
 
boŞ
 
ÿnLazyA‰ach
();

295 
vœtu®
 
£tFocus
(
boŞ
 
b
 = 
Œue
);

296 
vœtu®
 
£tAùive
(
boŞ
 
b
 = 
Œue
, boŞ = 
çl£
è{ 
m_aùive
 = b; }

297 
vœtu®
 
£tHov”ed
(
boŞ
 
b
 = 
Œue
è{ 
m_hov”ed
 = b; }

299 
vœtu®
 
bIndex
() const;

303 
vœtu®
 
boŞ
 
suµÜtsFocus
() const;

305 
vœtu®
 
boŞ
 
isFocu§bË
() const;

306 
vœtu®
 
boŞ
 
isKeybßrdFocu§bË
(
KeybßrdEv’t
*) const;

307 
vœtu®
 
boŞ
 
isMou£Focu§bË
() const;

309 
vœtu®
 
boŞ
 
isCÚ‹ÁEd™abË
() const;

310 
vœtu®
 
boŞ
 
isCÚ‹ÁRichlyEd™abË
() const;

311 
vœtu®
 
boŞ
 
shouldU£IÅutM‘hod
() const;

312 
vœtu®
 
IÁReù
 
g‘Reù
() const;

314 
vœtu®
 
»ÿlcStyË
(
StyËChªge
 = 
NoChªge
) { }

316 
nodeIndex
() const;

320 
vœtu®
 
Docum’t
* 
owÃrDocum’t
() const;

324 
Docum’t
* 
docum’t
() const

326 
ASSERT
(
this
);

327 
ASSERT
(
m_docum’t
 || (
nodeTy³
(è=ğ
DOCUMENT_TYPE_NODE
 && !
šDocum’t
()));

328  
	gm_docum’t
;

330 
£tDocum’t
(
Docum’t
*);

334 
boŞ
 
šDocum’t
() const

336 
ASSERT
(
m_docum’t
 || !
m_šDocum’t
);

337  
	gm_šDocum’t
;

340 
boŞ
 
isR—dOÆyNode
(ècÚ¡ {  
nodeTy³
(è=ğ
ENTITY_REFERENCE_NODE
; }

341 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
è{  
	gçl£
; }

342 
chdNodeCouÁ
(ècÚ¡ {  
isCÚš”Node
(è? 
cÚš”ChdNodeCouÁ
() : 0; }

343 
Node
* 
chdNode
(
šdex
ècÚ¡ {  
isCÚš”Node
(è? 
cÚš”ChdNode
(index) : 0; }

356 
Node
* 
Œav”£NextNode
(cÚ¡ Node* 
¡ayW™hš
 = 0) const;

359 
Node
* 
Œav”£NextSiblšg
(cÚ¡ Node* 
¡ayW™hš
 = 0) const;

366 
Node
* 
Œav”£P»viousNode
(cÚ¡ Nod* 
¡ayW™hš
 = 0) const;

369 
Node
* 
Œav”£NextNodePo¡Ord”
() const;

372 
Node
* 
Œav”£P»viousNodePo¡Ord”
(cÚ¡ Nod*
¡ayW™hš
 = 0) const;

373 
Node
* 
Œav”£P»viousSiblšgPo¡Ord”
(cÚ¡ Nod*
¡ayW™hš
 = 0) const;

378 
Node
* 
´eviousEd™abË
() const;

379 
Node
* 
ÃxtEd™abË
() const;

381 
R’d”Objeù
* 
»nd””
(ècÚ¡ {  
	gm_»nd””
; }

382 
R’d”Objeù
* 
ÃxtR’d””
();

383 
R’d”Objeù
* 
´eviousR’d””
();

384 
£tR’d””
(
R’d”Objeù
* 
»nd””
è{ 
	gm_»nd””
 =„enderer; }

387 
R’d”Box
* 
»nd”Box
() const;

388 
R’d”BoxMod–Objeù
* 
»nd”BoxMod–Objeù
() const;

390 
checkS‘P»fix
(cÚ¡ 
AtomicSŒšg
& 
´efix
, 
Exû±iÚCode
&);

391 
boŞ
 
isDesûndªtOf
(cÚ¡ 
Node
*) const;

392 
boŞ
 
cÚšs
(cÚ¡ 
Node
*) const;

397 
checkAddChd
(
Node
* 
ÃwChd
, 
Exû±iÚCode
&);

398 
vœtu®
 
boŞ
 
chdAÎowed
(
Node
* 
ÃwChd
);

400 
checkR•ÏûChd
(
Node
* 
ÃwChd
, Node* 
ŞdChd
, 
Exû±iÚCode
&);

401 
vœtu®
 
boŞ
 
ÿnR•ÏûChd
(
Node
* 
ÃwChd
, Node* 
ŞdChd
);

404 
vœtu®
 
boŞ
 
off£tInCh¬aù”s
() const;

407 
vœtu®
 
maxCh¬aù”Off£t
() const;

410 
vœtu®
 
boŞ
 
ÿnS–eùAÎ
(ècÚ¡ {  
	gçl£
; }

411 
vœtu®
 
£ËùAÎ
() { }

414 
vœtu®
 
boŞ
 
ÿnS¹S–eùiÚ
() const;

417 
FlßtPošt
 
cÚv”tToPage
(cÚ¡ FlßtPošt& 
p
) const;

418 
FlßtPošt
 
cÚv”tFromPage
(cÚ¡ FlßtPošt& 
p
) const;

428 
vœtu®
 
©ch
();

434 
vœtu®
 
d‘ach
();

436 
vœtu®
 
wlRemove
();

437 
ü—‹R’d””IfN“ded
();

438 
	gPassRefPŒ
<
	gR’d”StyË
> 
¡yËFÜR’d””
();

439 
vœtu®
 
boŞ
 
»nd””IsN“ded
(
R’d”StyË
*);

440 #ià
ENABLE
(
SVG
è|| ENABLE(
XHTMLMP
)

441 
vœtu®
 
boŞ
 
chdShouldC»©eR’d””
(
Node
*ècÚ¡ {  
	gŒue
; }

443 
vœtu®
 
R’d”Objeù
* 
ü—‹R’d””
(
R’d”A»Ç
*, 
R’d”StyË
*);

446 
R’d”StyË
* 
»nd”StyË
() const;

447 
vœtu®
 
£tR’d”StyË
(
PassRefPŒ
<
R’d”StyË
>);

449 
vœtu®
 
R’d”StyË
* 
compu‹dStyË
();

463 
vœtu®
 
š£¹edIÁoDocum’t
();

472 
vœtu®
 
»movedFromDocum’t
();

477 
vœtu®
 
š£¹edIÁoT»e
(
boŞ
 ) { }

478 
vœtu®
 
»movedFromT»e
(
boŞ
 ) { }

484 
vœtu®
 
chd»nChªged
(
boŞ
 = 
çl£
, 
Node
* = 0, Node* = 0, = 0) { }

486 #iâdeà
NDEBUG


487 
vœtu®
 
fÜm©FÜDebugg”
(* 
bufãr
, 
Ëngth
) const;

489 
showNode
(cÚ¡ * 
´efix
 = "") const;

490 
showT»eFÜThis
() const;

491 
showT»eAndM¬k
(cÚ¡ 
Node
* 
m¬kedNode1
, cÚ¡ * 
m¬kedLab–1
, cÚ¡ Node* 
m¬kedNode2
 = 0, cÚ¡ * 
m¬kedLab–2
 = 0) const;

494 
»gi¡”DyÇmicNodeLi¡
(
DyÇmicNodeLi¡
*);

495 
uÄegi¡”DyÇmicNodeLi¡
(
DyÇmicNodeLi¡
*);

496 
nÙifyNodeLi¡sChd»nChªged
();

497 
nÙifyLoÿlNodeLi¡sChd»nChªged
();

498 
nÙifyNodeLi¡sA‰ribu‹Chªged
();

499 
nÙifyLoÿlNodeLi¡sA‰ribu‹Chªged
();

501 
	gPassRefPŒ
<
	gNodeLi¡
> 
g‘EËm’tsByTagName
(cÚ¡ 
SŒšg
&);

502 
	gPassRefPŒ
<
	gNodeLi¡
> 
g‘EËm’tsByTagNameNS
(cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
, cÚ¡ 
SŒšg
& 
loÿlName
);

503 
	gPassRefPŒ
<
	gNodeLi¡
> 
g‘EËm’tsByName
(cÚ¡ 
SŒšg
& 
–em’tName
);

504 
	gPassRefPŒ
<
	gNodeLi¡
> 
g‘EËm’tsByCÏssName
(cÚ¡ 
SŒšg
& 
şassNames
);

506 
	gPassRefPŒ
<
	gEËm’t
> 
qu”yS–eùÜ
(cÚ¡ 
SŒšg
& 
£ËùÜs
, 
Exû±iÚCode
&);

507 
	gPassRefPŒ
<
	gNodeLi¡
> 
qu”yS–eùÜAÎ
(cÚ¡ 
SŒšg
& 
£ËùÜs
, 
Exû±iÚCode
&);

509 
com·»Docum’tPos™iÚ
(
Node
*);

511 
vœtu®
 
Node
* 
toNode
(è{  
	gthis
; }

513 
vœtu®
 
SütExecutiÚCÚ‹xt
* 
sütExecutiÚCÚ‹xt
() const;

515 
vœtu®
 
boŞ
 
addEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
>, boŞ 
u£C­tu»
);

516 
vœtu®
 
boŞ
 
»moveEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Ev’tLi¡’”
*, boŞ 
u£C­tu»
);

520 
vœtu®
 * 
´eDi¥©chEv’tHªdËr
(
Ev’t
*) {  0; }

521 
vœtu®
 
po¡Di¥©chEv’tHªdËr
(
Ev’t
*, * ) { }

523 
usšg
 
	gEv’tT¬g‘
::
di¥©chEv’t
;

524 
vœtu®
 
boŞ
 
di¥©chEv’t
(
PassRefPŒ
<
Ev’t
>);

526 
boŞ
 
di¥©chG’”icEv’t
(
PassRefPŒ
<
Ev’t
>);

527 
vœtu®
 
hªdËLoÿlEv’ts
(
Ev’t
*);

529 
di¥©chSubŒ“Modif›dEv’t
();

530 
di¥©chUIEv’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
d‘a
, 
PassRefPŒ
<
Ev’t
> 
und”lyšgEv’t
);

531 
boŞ
 
di¥©chKeyEv’t
(cÚ¡ 
PÏtfÜmKeybßrdEv’t
&);

532 
di¥©chWh“lEv’t
(
PÏtfÜmWh“lEv’t
&);

533 
boŞ
 
di¥©chMou£Ev’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
&, cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
,

534 
şickCouÁ
 = 0, 
Node
* 
»Ï‹dT¬g‘
 = 0);

535 
boŞ
 
di¥©chMou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
bu‰Ú
, 
şickCouÁ
,

536 
·geX
, 
·geY
, 
sü“nX
, 
sü“nY
,

537 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
,

538 
boŞ
 
isSimuÏ‹d
, 
Node
* 
»Ï‹dT¬g‘
, 
PassRefPŒ
<
Ev’t
> 
und”lyšgEv’t
);

539 
di¥©chSimuÏ‹dMou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’t
> 
und”lyšgEv’t
);

540 
di¥©chSimuÏ‹dClick
(
PassRefPŒ
<
Ev’t
> 
und”lyšgEv’t
, 
boŞ
 
£ndMou£Ev’ts
 = 
çl£
, boŞ 
showP»s£dLook
 = 
Œue
);

542 
vœtu®
 
di¥©chFocusEv’t
();

543 
vœtu®
 
di¥©chBlurEv’t
();

548 
vœtu®
 
deçuÉEv’tHªdËr
(
Ev’t
*);

554 
vœtu®
 
boŞ
 
di§bËd
() const;

556 
usšg
 
	gT»eSh¬ed
<
	gNode
>::
»f
;

557 
usšg
 
	gT»eSh¬ed
<
	gNode
>::
d”ef
;

559 
vœtu®
 
Ev’tT¬g‘D©a
* 
ev’tT¬g‘D©a
();

560 
vœtu®
 
Ev’tT¬g‘D©a
* 
’su»Ev’tT¬g‘D©a
();

562 
	g´Ùeùed
:

565 
	eCÚ¡ruùiÚTy³
 { 
C»©eCÚš”
, 
	gC»©eEËm’t
, 
	gC»©eOth”
, 
	gC»©eText
, 
	gC»©eEËm’tZ”oRefCouÁ
 };

566 
Node
(
Docum’t
*, 
CÚ¡ruùiÚTy³
);

568 
vœtu®
 
wlMoveToNewOwÃrDocum’t
();

569 
vœtu®
 
didMoveToNewOwÃrDocum’t
();

571 
vœtu®
 
addSub»sourûA‰ribu‹URLs
(
Li¡HashS‘
<
KURL
>&) const { }

572 
£tTabIndexEx¶ic™ly
();

574 
boŞ
 
hasR¬eD©a
(ècÚ¡ {  
	gm_hasR¬eD©a
; }

575 #ià
ENABLE
(
SVG
)

576 
boŞ
 
hasR¬eSVGD©a
(ècÚ¡ {  
	gm_hasR¬eSVGD©a
; }

579 
NodeR¬eD©a
* 
¿»D©a
() const;

580 
NodeR¬eD©a
* 
’su»R¬eD©a
();

582 
	g´iv©e
:

583 
boŞ
 
š™ŸlRefCouÁ
(
CÚ¡ruùiÚTy³
);

584 
boŞ
 
isCÚš”
(
CÚ¡ruùiÚTy³
);

585 
boŞ
 
isEËm’t
(
CÚ¡ruùiÚTy³
);

586 
boŞ
 
isText
(
CÚ¡ruùiÚTy³
);

588 
vœtu®
 
»fEv’tT¬g‘
(è{ 
»f
(); }

589 
vœtu®
 
d”efEv’tT¬g‘
(è{ 
d”ef
(); }

591 
vœtu®
 
NodeR¬eD©a
* 
ü—‹R¬eD©a
();

592 
Node
* 
cÚš”ChdNode
(
šdex
) const;

593 
cÚš”ChdNodeCouÁ
() const;

594 
Node
* 
cÚš”Fœ¡Chd
() const;

595 
Node
* 
cÚš”La¡Chd
() const;

596 
boŞ
 
¿»D©aFocu£d
() const;

598 
vœtu®
 
R’d”StyË
* 
nÚR’d””R’d”StyË
() const;

600 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
vœtu®P»fix
() const;

601 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
vœtu®LoÿlName
() const;

602 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
vœtu®Name¥aûURI
() const;

604 
EËm’t
* 
ªû¡ÜEËm’t
() const;

606 
­³ndTextCÚ‹Á
(
boŞ
 
cÚv”tBRsToNewlšes
, 
SŒšgBud”
&) const;

608 
Docum’t
* 
	gm_docum’t
;

609 
Node
* 
	gm_´evious
;

610 
Node
* 
	gm_Ãxt
;

611 
R’d”Objeù
* 
	gm_»nd””
;

613 
	gm_¡yËChªge
 : 2;

614 
boŞ
 
	gm_hasId
 : 1;

615 
boŞ
 
	gm_hasCÏss
 : 1;

616 
boŞ
 
	gm_©ched
 : 1;

617 
boŞ
 
	gm_chdN“dsStyËReÿlc
 : 1;

618 
boŞ
 
	gm_šDocum’t
 : 1;

619 
boŞ
 
	gm_isLšk
 : 1;

620 
boŞ
 
	gm_aùive
 : 1;

621 
boŞ
 
	gm_hov”ed
 : 1;

622 
boŞ
 
	gm_šAùiveChaš
 : 1;

623 
boŞ
 
	gm_šD‘ach
 : 1;

624 
boŞ
 
	gm_hasR¬eD©a
 : 1;

625 cÚ¡ 
boŞ
 
	gm_isEËm’t
 : 1;

626 cÚ¡ 
boŞ
 
	gm_isCÚš”
 : 1;

627 cÚ¡ 
boŞ
 
	gm_isText
 : 1;

629 
	g´Ùeùed
:

633 
boŞ
 
m_·rsšgChd»nFšished
 : 1;

634 
mubË
 
boŞ
 
	gm_isStyËA‰ribu‹V®id
 : 1;

635 
mubË
 
boŞ
 
	gm_synchrÚizšgStyËA‰ribu‹
 : 1;

637 #ià
ENABLE
(
SVG
)

638 
mubË
 
boŞ
 
	gm_¬eSVGA‰ribu‹sV®id
 : 1;

639 
mubË
 
boŞ
 
	gm_synchrÚizšgSVGA‰ribu‹s
 : 1;

640 
boŞ
 
	gm_hasR¬eSVGD©a
 : 1;

647 
šlše
 
addSub»sourûURL
(
Li¡HashS‘
<
KURL
>& 
u¾s
, cÚ¡ KURL& 
u¾
)

649 ià(!
	gu¾
.
isNuÎ
())

650 
	gu¾s
.
add
(
u¾
);

655 #iâdeà
NDEBUG


657 
showT»e
(cÚ¡ 
WebCÜe
::
Node
*);

	@NodeFilter.cpp

25 
	~"cÚfig.h
"

26 
	~"NodeF‹r.h
"

28 
	~"Node.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 
	gNodeF‹r
::
acû±Node
(
SütS‹
* 
¡©e
, 
Node
* 
node
) const

35  
	gm_cÚd™iÚ
 ? m_cÚd™iÚ->
acû±Node
(
¡©e
, 
node
è: 
¡©ic_ÿ¡
<>(
FILTER_ACCEPT
);

	@NodeFilter.h

25 #iâdeà
NodeF‹r_h


26 
	#NodeF‹r_h


	)

28 
	~"NodeF‹rCÚd™iÚ.h
"

29 
	~<wtf/PassRefPŒ.h
>

30 
	~<wtf/RefPŒ.h
>

32 
Çme¥aû
 
	gWebCÜe
 {

34 
şass
 
	gNodeF‹r
 : 
public
 
RefCouÁed
<
NodeF‹r
> {

35 
public
:

41 
FILTER_ACCEPT
 = 1,

42 
	gFILTER_REJECT
 = 2,

43 
	gFILTER_SKIP
 = 3

53 
	gSHOW_ALL
 = 0xFFFFFFFF,

54 
	gSHOW_ELEMENT
 = 0x00000001,

55 
	gSHOW_ATTRIBUTE
 = 0x00000002,

56 
	gSHOW_TEXT
 = 0x00000004,

57 
	gSHOW_CDATA_SECTION
 = 0x00000008,

58 
	gSHOW_ENTITY_REFERENCE
 = 0x00000010,

59 
	gSHOW_ENTITY
 = 0x00000020,

60 
	gSHOW_PROCESSING_INSTRUCTION
 = 0x00000040,

61 
	gSHOW_COMMENT
 = 0x00000080,

62 
	gSHOW_DOCUMENT
 = 0x00000100,

63 
	gSHOW_DOCUMENT_TYPE
 = 0x00000200,

64 
	gSHOW_DOCUMENT_FRAGMENT
 = 0x00000400,

65 
	gSHOW_NOTATION
 = 0x00000800

68 
	gPassRefPŒ
<
	gNodeF‹r
> 
ü—‹
(
PassRefPŒ
<
NodeF‹rCÚd™iÚ
> 
cÚd™iÚ
)

70  
adİtRef
(
Ãw
 
NodeF‹r
(
cÚd™iÚ
));

73 
acû±Node
(
SütS‹
*, 
Node
*) const;

74 
m¬kAgg»g©e
(
JSC
::
M¬kSck
& 
m¬kSck
è{ 
m_cÚd™iÚ
->markAggregate(markStack); };

78 
acû±Node
(
Node
* 
node
ècÚ¡ { ‡cû±Node(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(),‚ode),‚ode); }

80 
	g´iv©e
:

81 
NodeF‹r
(
PassRefPŒ
<
NodeF‹rCÚd™iÚ
> 
cÚd™iÚ
è: 
m_cÚd™iÚ
(condition) { }

83 
RefPŒ
<
NodeF‹rCÚd™iÚ
> 
m_cÚd™iÚ
;

	@NodeFilterCondition.cpp

25 
	~"cÚfig.h
"

26 
	~"NodeF‹rCÚd™iÚ.h
"

28 
	~"NodeF‹r.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 
	gNodeF‹rCÚd™iÚ
::
acû±Node
(
SütS‹
*, 
Node
*) const

34  
	gNodeF‹r
::
FILTER_ACCEPT
;

	@NodeFilterCondition.h

25 #iâdeà
NodeF‹rCÚd™iÚ_h


26 
	#NodeF‹rCÚd™iÚ_h


	)

28 
	~"SütS‹.h
"

29 
	~<wtf/RefCouÁed.h
>

31 
Çme¥aû
 
	gJSC
 {

32 
şass
 
	gM¬kSck
;

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gNode
;

39 
şass
 
	gNodeF‹rCÚd™iÚ
 : 
public
 
RefCouÁed
<
NodeF‹rCÚd™iÚ
> {

40 
public
:

41 
vœtu®
 ~
NodeF‹rCÚd™iÚ
() { }

42 
vœtu®
 
acû±Node
(
SütS‹
*, 
Node
*) const = 0;

43 
vœtu®
 
m¬kAgg»g©e
(
JSC
::
M¬kSck
&) { }

	@NodeIterator.cpp

25 
	~"cÚfig.h
"

26 
	~"NodeI‹¿tÜ.h
"

28 
	~"Docum’t.h
"

29 
	~"Exû±iÚCode.h
"

30 
	~"NodeF‹r.h
"

31 
	~"SütS‹.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	gNodeI‹¿tÜ
::
NodePoš‹r
::NodePointer()

39 
NodeI‹¿tÜ
::
NodePoš‹r
::NodePoš‹r(
PassRefPŒ
<
Node
> 
n
, 
boŞ
 
b
)

40 : 
node
(
n
)

41 , 
isPoš‹rBefÜeNode
(
b
)

45 
	gNodeI‹¿tÜ
::
NodePoš‹r
::
ş—r
()

47 
node
.
ş—r
();

50 
boŞ
 
	gNodeI‹¿tÜ
::
NodePoš‹r
::
moveToNext
(
Node
* 
roÙ
)

52 ià(!
node
)

53  
çl£
;

54 ià(
	gisPoš‹rBefÜeNode
) {

55 
	gisPoš‹rBefÜeNode
 = 
çl£
;

56  
	gŒue
;

58 
	gnode
 = 
node
->
Œav”£NextNode
(
roÙ
);

59  
	gnode
;

62 
boŞ
 
	gNodeI‹¿tÜ
::
NodePoš‹r
::
moveToP»vious
(
Node
* 
roÙ
)

64 ià(!
node
)

65  
çl£
;

66 ià(!
	gisPoš‹rBefÜeNode
) {

67 
	gisPoš‹rBefÜeNode
 = 
Œue
;

68  
	gŒue
;

70 
	gnode
 = 
node
->
Œav”£P»viousNode
(
roÙ
);

71  
	gnode
;

74 
	gNodeI‹¿tÜ
::
NodeI‹¿tÜ
(
PassRefPŒ
<
Node
> 
roÙNode
, 
wh©ToShow
, PassRefPŒ<
NodeF‹r
> 
f‹r
, 
boŞ
 
ex·ndEÁ™yReã»nûs
)

75 : 
T¿v”§l
(
roÙNode
, 
wh©ToShow
, 
f‹r
, 
ex·ndEÁ™yReã»nûs
)

76 , 
m_»ã»nûNode
(
roÙ
(), 
Œue
)

77 , 
m_d‘ached
(
çl£
)

79 
roÙ
()->
docum’t
()->
©chNodeI‹¿tÜ
(
this
);

82 
	gNodeI‹¿tÜ
::~
NodeI‹¿tÜ
()

84 
roÙ
()->
docum’t
()->
d‘achNodeI‹¿tÜ
(
this
);

87 
	gPassRefPŒ
<
	gNode
> 
	gNodeI‹¿tÜ
::
ÃxtNode
(
SütS‹
* 
¡©e
, 
Exû±iÚCode
& 
ec
)

89 ià(
	gm_d‘ached
) {

90 
	gec
 = 
INVALID_STATE_ERR
;

94 
	gRefPŒ
<
	gNode
> 
	g»suÉ
;

96 
	gm_ÿndid©eNode
 = 
m_»ã»nûNode
;

97 
	gm_ÿndid©eNode
.
moveToNext
(
roÙ
())) {

101 
	gRefPŒ
<
	gNode
> 
	g´ovisiÚ®ResuÉ
 = 
m_ÿndid©eNode
.
node
;

102 
boŞ
 
	gnodeWasAcû±ed
 = 
acû±Node
(
¡©e
, 
´ovisiÚ®ResuÉ
.
g‘
()è=ğ
NodeF‹r
::
FILTER_ACCEPT
;

103 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

105 ià(
	gnodeWasAcû±ed
) {

106 
	gm_»ã»nûNode
 = 
m_ÿndid©eNode
;

107 
	g»suÉ
 = 
´ovisiÚ®ResuÉ
.
»Ëa£
();

112 
	gm_ÿndid©eNode
.
ş—r
();

113  
	g»suÉ
.
»Ëa£
();

116 
	gPassRefPŒ
<
	gNode
> 
	gNodeI‹¿tÜ
::
´eviousNode
(
SütS‹
* 
¡©e
, 
Exû±iÚCode
& 
ec
)

118 ià(
	gm_d‘ached
) {

119 
	gec
 = 
INVALID_STATE_ERR
;

123 
	gRefPŒ
<
	gNode
> 
	g»suÉ
;

125 
	gm_ÿndid©eNode
 = 
m_»ã»nûNode
;

126 
	gm_ÿndid©eNode
.
moveToP»vious
(
roÙ
())) {

130 
	gRefPŒ
<
	gNode
> 
	g´ovisiÚ®ResuÉ
 = 
m_ÿndid©eNode
.
node
;

131 
boŞ
 
	gnodeWasAcû±ed
 = 
acû±Node
(
¡©e
, 
´ovisiÚ®ResuÉ
.
g‘
()è=ğ
NodeF‹r
::
FILTER_ACCEPT
;

132 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

134 ià(
	gnodeWasAcû±ed
) {

135 
	gm_»ã»nûNode
 = 
m_ÿndid©eNode
;

136 
	g»suÉ
 = 
´ovisiÚ®ResuÉ
.
»Ëa£
();

141 
	gm_ÿndid©eNode
.
ş—r
();

142  
	g»suÉ
.
»Ëa£
();

145 
	gNodeI‹¿tÜ
::
d‘ach
()

147 
roÙ
()->
docum’t
()->
d‘achNodeI‹¿tÜ
(
this
);

148 
	gm_d‘ached
 = 
Œue
;

149 
	gm_»ã»nûNode
.
	gnode
.
ş—r
();

152 
	gNodeI‹¿tÜ
::
nodeWlBeRemoved
(
Node
* 
»movedNode
)

154 
upd©eFÜNodeRemov®
(
»movedNode
, 
m_ÿndid©eNode
);

155 
upd©eFÜNodeRemov®
(
»movedNode
, 
m_»ã»nûNode
);

158 
	gNodeI‹¿tÜ
::
upd©eFÜNodeRemov®
(
Node
* 
»movedNode
, 
NodePoš‹r
& 
»ã»nûNode
) const

160 
ASSERT
(!
m_d‘ached
);

161 
ASSERT
(
»movedNode
);

162 
ASSERT
(
roÙ
()->
docum’t
(è=ğ
»movedNode
->document());

166 ià(!
	g»movedNode
->
isDesûndªtOf
(
roÙ
()))

168 
boŞ
 
	gwlRemoveReã»nûNode
 = 
»movedNode
 =ğ
»ã»nûNode
.
node
;

169 
boŞ
 
	gwlRemoveReã»nûNodeAnû¡Ü
 = 
»ã»nûNode
.
node
 &&„eã»nûNode.node->
isDesûndªtOf
(
»movedNode
);

170 ià(!
	gwlRemoveReã»nûNode
 && !
	gwlRemoveReã»nûNodeAnû¡Ü
)

173 ià(
	g»ã»nûNode
.
	gisPoš‹rBefÜeNode
) {

174 
Node
* 
	gnode
 = 
»movedNode
->
Œav”£NextNode
(
roÙ
());

175 ià(
	gnode
) {

178 ià(
	gwlRemoveReã»nûNodeAnû¡Ü
) {

179 
	gnode
 &&‚ode->
isDesûndªtOf
(
»movedNode
))

180 
	gnode
 = 
node
->
Œav”£NextNode
(
roÙ
());

182 ià(
	gnode
)

183 
	g»ã»nûNode
.
	gnode
 = 
node
;

185 
	gnode
 = 
»movedNode
->
Œav”£P»viousNode
(
roÙ
());

186 ià(
	gnode
) {

189 ià(
	gwlRemoveReã»nûNodeAnû¡Ü
) {

190 
	gnode
 &&‚ode->
isDesûndªtOf
(
»movedNode
))

191 
	gnode
 = 
node
->
Œav”£P»viousNode
(
roÙ
());

193 ià(
	gnode
) {

197 
	g»ã»nûNode
.
	gnode
 = 
node
;

198 
	g»ã»nûNode
.
	gisPoš‹rBefÜeNode
 = 
çl£
;

203 
Node
* 
	gnode
 = 
»movedNode
->
Œav”£P»viousNode
(
roÙ
());

204 ià(
	gnode
) {

207 ià(
	gwlRemoveReã»nûNodeAnû¡Ü
) {

208 
	gnode
 &&‚ode->
isDesûndªtOf
(
»movedNode
))

209 
	gnode
 = 
node
->
Œav”£P»viousNode
(
roÙ
());

211 ià(
	gnode
)

212 
	g»ã»nûNode
.
	gnode
 = 
node
;

214 
	gnode
 = 
»movedNode
->
Œav”£NextNode
(
roÙ
());

217 ià(
	gwlRemoveReã»nûNodeAnû¡Ü
) {

218 
	gnode
 &&‚ode->
isDesûndªtOf
(
»movedNode
))

219 
	gnode
 = 
node
->
Œav”£P»viousNode
(
roÙ
());

221 ià(
	gnode
)

222 
	g»ã»nûNode
.
	gnode
 = 
node
;

	@NodeIterator.h

25 #iâdeà
NodeI‹¿tÜ_h


26 
	#NodeI‹¿tÜ_h


	)

28 
	~"NodeF‹r.h
"

29 
	~"T¿v”§l.h
"

30 
	~<wtf/PassRefPŒ.h
>

31 
	~<wtf/RefCouÁed.h
>

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	tExû±iÚCode
;

37 
şass
 
	gNodeI‹¿tÜ
 : 
public
 
RefCouÁed
<
NodeI‹¿tÜ
>,…ubliø
	gT¿v”§l
 {

38 
	gpublic
:

39 
PassRefPŒ
<
NodeI‹¿tÜ
> 
ü—‹
(PassRefPŒ<
Node
> 
roÙNode
, 
wh©ToShow
, PassRefPŒ<
NodeF‹r
> 
f‹r
, 
boŞ
 
ex·ndEÁ™yReã»nûs
)

41  
adİtRef
(
Ãw
 
NodeI‹¿tÜ
(
roÙNode
, 
wh©ToShow
, 
f‹r
, 
ex·ndEÁ™yReã»nûs
));

43 ~
NodeI‹¿tÜ
();

45 
	gPassRefPŒ
<
	gNode
> 
ÃxtNode
(
SütS‹
*, 
Exû±iÚCode
&);

46 
	gPassRefPŒ
<
	gNode
> 
´eviousNode
(
SütS‹
*, 
Exû±iÚCode
&);

47 
d‘ach
();

49 
Node
* 
»ã»nûNode
(ècÚ¡ {  
	gm_»ã»nûNode
.
	gnode
.
g‘
(); }

50 
boŞ
 
poš‹rBefÜeReã»nûNode
(ècÚ¡ {  
	gm_»ã»nûNode
.
	gisPoš‹rBefÜeNode
; }

53 
nodeWlBeRemoved
(
Node
*);

57 
	gPassRefPŒ
<
	gNode
> 
ÃxtNode
(
Exû±iÚCode
& 
ec
è{ ‚extNode(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(), 
»ã»nûNode
()),ƒc); }

58 
	gPassRefPŒ
<
	gNode
> 
´eviousNode
(
Exû±iÚCode
& 
ec
è{ …»viousNode(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(), 
»ã»nûNode
()),ƒc); }

60 
	g´iv©e
:

61 
NodeI‹¿tÜ
(
PassRefPŒ
<
Node
>, 
wh©ToShow
, PassRefPŒ<
NodeF‹r
>, 
boŞ
 
ex·ndEÁ™yReã»nûs
);

63 
	sNodePoš‹r
 {

64 
	gRefPŒ
<
	gNode
> 
	gnode
;

65 
boŞ
 
	gisPoš‹rBefÜeNode
;

66 
NodePoš‹r
();

67 
NodePoš‹r
(
PassRefPŒ
<
Node
>, 
boŞ
);

68 
ş—r
();

69 
boŞ
 
moveToNext
(
Node
* 
roÙ
);

70 
boŞ
 
moveToP»vious
(
Node
* 
roÙ
);

73 
upd©eFÜNodeRemov®
(
Node
* 
nodeToBeRemoved
, 
NodePoš‹r
&) const;

75 
NodePoš‹r
 
	gm_»ã»nûNode
;

76 
NodePoš‹r
 
	gm_ÿndid©eNode
;

77 
boŞ
 
	gm_d‘ached
;

	@NodeList.h

24 #iâdeà
NodeLi¡_h


25 
	#NodeLi¡_h


	)

27 
	~<wtf/RefCouÁed.h
>

29 
Çme¥aû
 
	gWebCÜe
 {

31 
şass
 
	gAtomicSŒšg
;

32 
şass
 
	gNode
;

34 
şass
 
	gNodeLi¡
 : 
public
 
RefCouÁed
<
NodeLi¡
> {

35 
public
:

36 
vœtu®
 ~
NodeLi¡
() { }

39 
vœtu®
 
Ëngth
() const = 0;

40 
vœtu®
 
Node
* 
™em
(
šdex
) const = 0;

41 
vœtu®
 
Node
* 
™emW™hName
(cÚ¡ 
AtomicSŒšg
&) const = 0;

	@NodeRareData.h

22 #iâdeà
NodeR¬eD©a_h


23 
	#NodeR¬eD©a_h


	)

25 
	~"DyÇmicNodeLi¡.h
"

26 
	~"Ev’tLi¡’”.h
"

27 
	~"Regi¡”edEv’tLi¡’”.h
"

28 
	~"SŒšgHash.h
"

29 
	~"Qu®if›dName.h
"

30 
	~<wtf/HashS‘.h
>

31 
	~<wtf/PassOwnPŒ.h
>

32 
	~<wtf/OwnPŒ.h
>

34 
Çme¥aû
 
	gWebCÜe
 {

36 
	gNodeLi¡sNodeD©a
 : 
NÚcİyabË
 {

37 
HashS‘
<
	tDyÇmicNodeLi¡
*> 
	tNodeLi¡S‘
;

38 
NodeLi¡S‘
 
	gm_li¡sW™hCaches
;

40 
	gRefPŒ
<
	gDyÇmicNodeLi¡
::
Caches
> 
m_chdNodeLi¡Caches
;

42 
	gHashM­
<
	tSŒšg
, 
	tRefPŒ
<
	tDyÇmicNodeLi¡
::
	tCaches
> > 
	tCacheM­
;

43 
CacheM­
 
	gm_şassNodeLi¡Caches
;

44 
CacheM­
 
	gm_ÇmeNodeLi¡Caches
;

46 
	gHashM­
<
	tQu®if›dName
, 
	tRefPŒ
<
	tDyÇmicNodeLi¡
::
	tCaches
> > 
	tTagCacheM­
;

47 
TagCacheM­
 
	gm_gNodeLi¡Caches
;

49 
	gPassOwnPŒ
<
	gNodeLi¡sNodeD©a
> 
ü—‹
()

51  
Ãw
 
	gNodeLi¡sNodeD©a
;

54 
šv®id©eCaches
();

55 
šv®id©eCachesTh©D•’dOnA‰ribu‹s
();

56 
boŞ
 
isEm±y
() const;

58 
	g´iv©e
:

59 
NodeLi¡sNodeD©a
()

60 : 
m_chdNodeLi¡Caches
(
DyÇmicNodeLi¡
::
Caches
::
ü—‹
())

65 şas 
	cNodeR¬eD©a
 : 
public
 
NÚcİyabË
 {

66 
public
:

67 
NodeR¬eD©a
()

68 : 
m_bIndex
(0)

69 , 
m_bIndexWasS‘Ex¶ic™ly
(
çl£
)

70 , 
m_isFocu£d
(
çl£
)

71 , 
m_ÃedsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
(
çl£
)

75 
	gHashM­
<cÚ¡ 
	tNode
*, 
	tNodeR¬eD©a
*> 
	tNodeR¬eD©aM­
;

77 
	gNodeR¬eD©aM­
& 
¿»D©aM­
()

79 
NodeR¬eD©aM­
* 
	gd©aM­
 = 
Ãw
 NodeRareDataMap;

80  *
	gd©aM­
;

83 
NodeR¬eD©a
* 
¿»D©aFromM­
(cÚ¡ 
Node
* 
node
)

85  
¿»D©aM­
().
g‘
(
node
);

88 
ş—rNodeLi¡s
(è{ 
	gm_nodeLi¡s
.
ş—r
(); }

89 
£tNodeLi¡s
(
PassOwnPŒ
<
NodeLi¡sNodeD©a
> 
li¡s
è{ 
	gm_nodeLi¡s
 =†ists; }

90 
NodeLi¡sNodeD©a
* 
nodeLi¡s
(ècÚ¡ {  
	gm_nodeLi¡s
.
g‘
(); }

92 
bIndex
(ècÚ¡ {  
	gm_bIndex
; }

93 
£tTabIndexEx¶ic™ly
(
šdex
è{ 
	gm_bIndex
 = index; 
	gm_bIndexWasS‘Ex¶ic™ly
 = 
Œue
; }

94 
boŞ
 
bIndexS‘Ex¶ic™ly
(ècÚ¡ {  
	gm_bIndexWasS‘Ex¶ic™ly
; }

96 
Ev’tT¬g‘D©a
* 
ev’tT¬g‘D©a
(è{  
	gm_ev’tT¬g‘D©a
.
g‘
(); }

97 
Ev’tT¬g‘D©a
* 
’su»Ev’tT¬g‘D©a
()

99 ià(!
	gm_ev’tT¬g‘D©a
)

100 
	gm_ev’tT¬g‘D©a
.
£t
(
Ãw
 
Ev’tT¬g‘D©a
);

101  
	gm_ev’tT¬g‘D©a
.
g‘
();

104 
boŞ
 
isFocu£d
(ècÚ¡ {  
	gm_isFocu£d
; }

105 
£tFocu£d
(
boŞ
 
focu£d
è{ 
	gm_isFocu£d
 = focused; }

107 
	g´Ùeùed
:

109 
boŞ
 
ÃedsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
(ècÚ¡ {  
m_ÃedsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
; }

110 
£tN“dsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
(
boŞ
 
Ãeds
è{ 
	gm_ÃedsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
 =‚eeds; }

112 
	g´iv©e
:

113 
OwnPŒ
<
NodeLi¡sNodeD©a
> 
m_nodeLi¡s
;

114 
	gOwnPŒ
<
	gEv’tT¬g‘D©a
> 
	gm_ev’tT¬g‘D©a
;

115 
	gm_bIndex
;

116 
boŞ
 
	gm_bIndexWasS‘Ex¶ic™ly
 : 1;

117 
boŞ
 
	gm_isFocu£d
 : 1;

118 
boŞ
 
	gm_ÃedsFocusAµ—¿nûUpd©eSoÚAá”A‰ach
 : 1;

	@NodeRenderStyle.h

25 #iâdeà
NodeR’d”StyË_h


26 
	#NodeR’d”StyË_h


	)

28 
	~"R’d”Objeù.h
"

29 
	~"R’d”StyË.h
"

30 
	~"Node.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 
šlše
 
R’d”StyË
* 
	gNode
::
»nd”StyË
() const

36  
m_»nd””
 ? m_»nd””->
¡yË
(è: 
nÚR’d””R’d”StyË
();

	@NodeWithIndex.h

26 #iâdeà
NodeW™hIndex_h


27 
	#NodeW™hIndex_h


	)

29 
	~"Node.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

35 şas 
	cNodeW™hIndex
 {

36 
	gpublic
:

37 
NodeW™hIndex
(
Node
* 
node
)

38 : 
m_node
(
node
)

39 , 
m_haveIndex
(
çl£
)

41 
ASSERT
(
node
);

44 
Node
* 
node
(ècÚ¡ {  
	gm_node
; }

46 
šdex
() const

48 ià(!
	gm_haveIndex
) {

49 
	gm_šdex
 = 
m_node
->
nodeIndex
();

50 
	gm_haveIndex
 = 
Œue
;

52 
ASSERT
(
m_šdex
 =ğ
¡©ic_ÿ¡
<>(
m_node
->
nodeIndex
()));

53  
	gm_šdex
;

56 
	g´iv©e
:

57 
Node
* 
m_node
;

58 
mubË
 
boŞ
 
	gm_haveIndex
;

59 
mubË
 
	gm_šdex
;

	@Notation.cpp

21 
	~"cÚfig.h
"

22 
	~"NÙ©iÚ.h
"

24 
Çme¥aû
 
	gWebCÜe
 {

26 
	gNÙ©iÚ
::
NÙ©iÚ
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
Çme
, cÚ¡ SŒšg& 
publicId
, cÚ¡ SŒšg& 
sy¡emId
)

27 : 
CÚš”Node
(
docum’t
)

28 , 
m_Çme
(
Çme
)

29 , 
m_publicId
(
publicId
)

30 , 
m_sy¡emId
(
sy¡emId
)

34 
SŒšg
 
	gNÙ©iÚ
::
nodeName
() const

36  
m_Çme
;

39 
	gNode
::
NodeTy³
 
NÙ©iÚ
::
nodeTy³
() const

41  
NOTATION_NODE
;

44 
	gPassRefPŒ
<
	gNode
> 
	gNÙ©iÚ
::
şÚeNode
(
boŞ
 )

50 
boŞ
 
	gNÙ©iÚ
::
chdTy³AÎowed
(
NodeTy³
)

52  
çl£
;

	@Notation.h

22 #iâdeà
NÙ©iÚ_h


23 
	#NÙ©iÚ_h


	)

25 
	~"CÚš”Node.h
"

27 
Çme¥aû
 
	gWebCÜe
 {

31 şas 
	cNÙ©iÚ
 : 
public
 
CÚš”Node
 {

32 
public
:

33 cÚ¡ 
SŒšg
& 
publicId
(ècÚ¡ {  
m_publicId
; }

34 cÚ¡ 
	gSŒšg
& 
sy¡emId
(ècÚ¡ {  
	gm_sy¡emId
; }

36 
	g´iv©e
:

37 
NÙ©iÚ
(
Docum’t
*, cÚ¡ 
SŒšg
& 
Çme
, cÚ¡ SŒšg& 
publicId
, cÚ¡ SŒšg& 
sy¡emId
);

39 
vœtu®
 
SŒšg
 
nodeName
() const;

40 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

41 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

42 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
);

44 
SŒšg
 
	gm_Çme
;

45 
SŒšg
 
	gm_publicId
;

46 
SŒšg
 
	gm_sy¡emId
;

	@OptionElement.cpp

21 
	~"cÚfig.h
"

22 
	~"O±iÚEËm’t.h
"

24 
	~"Docum’t.h
"

25 
	~"EËm’t.h
"

26 
	~"HTMLNames.h
"

27 
	~"HTMLO±iÚEËm’t.h
"

28 
	~"O±iÚGroupEËm’t.h
"

29 
	~"SütEËm’t.h
"

30 
	~"S–eùEËm’t.h
"

31 
	~<wtf/As£¹iÚs.h
>

33 #ià
ENABLE
(
WML
)

34 
	~"WMLO±iÚEËm’t.h
"

35 
	~"WMLNames.h
"

38 
Çme¥aû
 
	gWebCÜe
 {

40 
	gO±iÚEËm’t
::
£tS–eùedS‹
(
O±iÚEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
boŞ
 
£Ëùed
)

42 ià(
	gd©a
.
£Ëùed
() == selected)

45 
	gd©a
.
£tS–eùed
(
£Ëùed
);

46 
	g–em’t
->
£tN“dsStyËReÿlc
();

49 
	gO±iÚEËm’t
::
İtiÚIndex
(
S–eùEËm’t
* 
£ËùEËm’t
, cÚ¡ 
EËm’t
* 
–em’t
)

51 ià(!
	g£ËùEËm’t
)

56 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
£ËùEËm’t
->
li¡I‹ms
();

57 
	gËngth
 = 
™ems
.
size
();

58 
	gİtiÚIndex
 = 0;

59 
	gi
 = 0; i < 
	gËngth
; ++i) {

60 ià(!
isO±iÚEËm’t
(
™ems
[
i
]))

62 ià(
	g™ems
[
i
] =ğ
–em’t
)

63  
İtiÚIndex
;

64 ++
	gİtiÚIndex
;

70 
SŒšg
 
	gO±iÚEËm’t
::
cŞËùO±iÚLab–OrText
(cÚ¡ 
O±iÚEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
)

72 
Docum’t
* 
	gdocum’t
 = 
–em’t
->
docum’t
();

73 
SŒšg
 
	g‹xt
;

76 ià(!
	gdocum’t
->
šCom·tMode
())

77 
	g‹xt
 = 
d©a
.
Ïb–
();

78 ià(
	g‹xt
.
isEm±y
())

79 
	g‹xt
 = 
cŞËùO±iÚIÂ”Text
(
–em’t
);

80  
nÜm®izeText
(
docum’t
, 
‹xt
);

83 
SŒšg
 
	gO±iÚEËm’t
::
cŞËùO±iÚIÂ”Text
(cÚ¡ 
EËm’t
* 
–em’t
)

85 
SŒšg
 
‹xt
;

86 
Node
* 
	gn
 = 
–em’t
->
fœ¡Chd
();

87 
	gn
) {

88 ià(
	gn
->
nodeTy³
(è=ğ
Node
::
TEXT_NODE
 || 
n
->nodeTy³(è=ğNode::
CDATA_SECTION_NODE
)

89 
‹xt
 +ğ
n
->
nodeV®ue
();

92 ià(
	gn
->
isEËm’tNode
(è&& 
toSütEËm’t
(
¡©ic_ÿ¡
<
EËm’t
*>(
n
)))

93 
	gn
 = 
n
->
Œav”£NextSiblšg
(
–em’t
);

95 
	gn
 = 
n
->
Œav”£NextNode
(
–em’t
);

97  
	g‹xt
;

100 
SŒšg
 
	gO±iÚEËm’t
::
nÜm®izeText
(cÚ¡ 
Docum’t
* 
docum’t
, cÚ¡ SŒšg& 
¤c
)

102 
SŒšg
 
	g‹xt
 = 
docum’t
->
di¥ÏySŒšgModif›dByEncodšg
(
¤c
);

105 
	g‹xt
 = 
‹xt
.
¡rWh™eS·û
();

108 
	g‹xt
 = 
‹xt
.
sim¶ifyWh™eS·û
();

109  
	g‹xt
;

112 
SŒšg
 
	gO±iÚEËm’t
::
cŞËùO±iÚTextRe¥eùšgGroupLab–
(cÚ¡ 
O±iÚEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
)

114 
EËm’t
* 
	g·»ÁEËm’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
–em’t
->
·»ÁNode
());

115 ià(
	g·»ÁEËm’t
 && 
toO±iÚGroupEËm’t
(
·»ÁEËm’t
))

116  " " + 
cŞËùO±iÚLab–OrText
(
d©a
, 
–em’t
);

118  
cŞËùO±iÚLab–OrText
(
d©a
, 
–em’t
);

121 
SŒšg
 
	gO±iÚEËm’t
::
cŞËùO±iÚV®ue
(cÚ¡ 
O±iÚEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
)

123 
SŒšg
 
	gv®ue
 = 
d©a
.
v®ue
();

124 ià(!
	gv®ue
.
isNuÎ
())

125  
	gv®ue
;

128  
cŞËùO±iÚIÂ”Text
(
–em’t
).
¡rWh™eS·û
();

132 
	gO±iÚEËm’tD©a
::
O±iÚEËm’tD©a
()

133 : 
m_£Ëùed
(
çl£
)

137 
O±iÚEËm’t
* 
toO±iÚEËm’t
(
EËm’t
* 
–em’t
)

139 ià(
–em’t
->
isHTMLEËm’t
(è&&ƒËm’t->
hasTagName
(
HTMLNames
::
İtiÚTag
))

140  
¡©ic_ÿ¡
<
HTMLO±iÚEËm’t
*>(
–em’t
);

142 #ià
ENABLE
(
WML
)

143 ià(
	g–em’t
->
isWMLEËm’t
(è&&ƒËm’t->
hasTagName
(
WMLNames
::
İtiÚTag
))

144  
¡©ic_ÿ¡
<
WMLO±iÚEËm’t
*>(
–em’t
);

150 
boŞ
 
isO±iÚEËm’t
(
EËm’t
* 
–em’t
)

152  
	g–em’t
->
hasLoÿlName
(
HTMLNames
::
İtiÚTag
)

153 #ià
ENABLE
(
WML
)

154 || 
–em’t
->
hasLoÿlName
(
WMLNames
::
İtiÚTag
)

	@OptionElement.h

21 #iâdeà
O±iÚEËm’t_h


22 
	#O±iÚEËm’t_h


	)

24 
	~"PÏtfÜmSŒšg.h
"

26 
Çme¥aû
 
	gWebCÜe
 {

28 
şass
 
	gEËm’t
;

29 
şass
 
	gDocum’t
;

30 
şass
 
	gO±iÚEËm’tD©a
;

31 
şass
 
	gS–eùEËm’t
;

33 şas 
	cO±iÚEËm’t
 {

34 
	gpublic
:

35 
vœtu®
 ~
O±iÚEËm’t
() { }

37 
vœtu®
 
boŞ
 
di§bËd
() const = 0;

38 
vœtu®
 
boŞ
 
£Ëùed
() const = 0;

39 
vœtu®
 
£tS–eùedS‹
(
boŞ
) = 0;

41 
vœtu®
 
SŒšg
 
‹xt
() const = 0;

42 
vœtu®
 
SŒšg
 
‹xtInd’‹dToRe¥eùGroupLab–
() const = 0;

43 
vœtu®
 
SŒšg
 
v®ue
() const = 0;

45 
	g´Ùeùed
:

46 
£tS–eùedS‹
(
O±iÚEËm’tD©a
&, 
EËm’t
*, 
boŞ
 
£Ëùed
);

47 
İtiÚIndex
(
S–eùEËm’t
*, cÚ¡ 
EËm’t
*);

48 
SŒšg
 
cŞËùO±iÚLab–OrText
(cÚ¡ 
O±iÚEËm’tD©a
&, cÚ¡ 
EËm’t
*);

49 
SŒšg
 
cŞËùO±iÚTextRe¥eùšgGroupLab–
(cÚ¡ 
O±iÚEËm’tD©a
&, cÚ¡ 
EËm’t
*);

50 
SŒšg
 
cŞËùO±iÚV®ue
(cÚ¡ 
O±iÚEËm’tD©a
&, cÚ¡ 
EËm’t
*);

51 
	g´iv©e
:

52 
SŒšg
 
cŞËùO±iÚIÂ”Text
(cÚ¡ 
EËm’t
*);

53 
SŒšg
 
nÜm®izeText
(cÚ¡ 
Docum’t
*, const String&);

58 şas 
	cO±iÚEËm’tD©a
 {

59 
	gpublic
:

60 
O±iÚEËm’tD©a
();

62 
SŒšg
 
v®ue
(ècÚ¡ {  
	gm_v®ue
; }

63 
£tV®ue
(cÚ¡ 
SŒšg
& 
v®ue
è{ 
	gm_v®ue
 = value; }

65 
SŒšg
 
Ïb–
(ècÚ¡ {  
	gm_Ïb–
; }

66 
£tLab–
(cÚ¡ 
SŒšg
& 
Ïb–
è{ 
	gm_Ïb–
 =†abel; }

68 
boŞ
 
£Ëùed
(ècÚ¡ {  
	gm_£Ëùed
; }

69 
£tS–eùed
(
boŞ
 
£Ëùed
è{ 
	gm_£Ëùed
 = selected; }

71 
	g´iv©e
:

72 
SŒšg
 
m_v®ue
;

73 
SŒšg
 
	gm_Ïb–
;

74 
boŞ
 
	gm_£Ëùed
;

77 
O±iÚEËm’t
* 
toO±iÚEËm’t
(
EËm’t
*);

78 
boŞ
 
isO±iÚEËm’t
(
EËm’t
*);

	@OptionGroupElement.cpp

21 
	~"cÚfig.h
"

22 
	~"O±iÚGroupEËm’t.h
"

24 
	~"EËm’t.h
"

25 
	~"HTMLNames.h
"

26 
	~"HTMLO±GroupEËm’t.h
"

27 
	~<wtf/As£¹iÚs.h
>

29 #ià
ENABLE
(
WML
)

30 
	~"WMLO±GroupEËm’t.h
"

31 
	~"WMLNames.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
O±iÚGroupEËm’t
* 
toO±iÚGroupEËm’t
(
EËm’t
* 
–em’t
)

38 ià(
	g–em’t
->
isHTMLEËm’t
(è&&ƒËm’t->
hasTagName
(
HTMLNames
::
İtgroupTag
))

39  
¡©ic_ÿ¡
<
HTMLO±GroupEËm’t
*>(
–em’t
);

41 #ià
ENABLE
(
WML
)

42 ià(
	g–em’t
->
isWMLEËm’t
(è&&ƒËm’t->
hasTagName
(
WMLNames
::
İtgroupTag
))

43  
¡©ic_ÿ¡
<
WMLO±GroupEËm’t
*>(
–em’t
);

49 
boŞ
 
isO±iÚGroupEËm’t
(
EËm’t
* 
–em’t
)

51  
	g–em’t
->
hasLoÿlName
(
HTMLNames
::
İtgroupTag
)

52 #ià
ENABLE
(
WML
)

53 || 
–em’t
->
hasLoÿlName
(
WMLNames
::
İtgroupTag
)

	@OptionGroupElement.h

21 #iâdeà
O±iÚGroupEËm’t_h


22 
	#O±iÚGroupEËm’t_h


	)

24 
Çme¥aû
 
	gWebCÜe
 {

26 
şass
 
	gEËm’t
;

27 
şass
 
	gSŒšg
;

29 şas 
	cO±iÚGroupEËm’t
 {

30 
	gpublic
:

31 
vœtu®
 ~
O±iÚGroupEËm’t
() { }

33 
vœtu®
 
SŒšg
 
groupLab–Text
() const = 0;

36 
O±iÚGroupEËm’t
* 
toO±iÚGroupEËm’t
(
EËm’t
*);

37 
boŞ
 
isO±iÚGroupEËm’t
(
EËm’t
*);

	@OverflowEvent.cpp

26 
	~"cÚfig.h
"

27 
	~"Ov”æowEv’t.h
"

29 
	~"Ev’tNames.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	gOv”æowEv’t
::
Ov”æowEv’t
()

34 : 
Ev’t
(
ev’tNames
().
ov”æowchªgedEv’t
, 
çl£
, false)

35 , 
m_Ü›Á
(
VERTICAL
)

36 , 
m_hÜizÚlOv”æow
(
çl£
)

37 , 
m_v”tiÿlOv”æow
(
çl£
)

41 
	gOv”æowEv’t
::
Ov”æowEv’t
(
boŞ
 
hÜizÚlOv”æowChªged
, boŞ 
hÜizÚlOv”æow
, boŞ 
v”tiÿlOv”æowChªged
, boŞ 
v”tiÿlOv”æow
)

42 : 
Ev’t
(
ev’tNames
().
ov”æowchªgedEv’t
, 
çl£
, false)

43 , 
m_hÜizÚlOv”æow
(
hÜizÚlOv”æow
)

44 , 
m_v”tiÿlOv”æow
(
v”tiÿlOv”æow
)

46 
ASSERT
(
hÜizÚlOv”æowChªged
 || 
v”tiÿlOv”æowChªged
);

48 ià(
	ghÜizÚlOv”æowChªged
 && 
	gv”tiÿlOv”æowChªged
)

49 
	gm_Ü›Á
 = 
BOTH
;

50 ià(
	ghÜizÚlOv”æowChªged
)

51 
	gm_Ü›Á
 = 
HORIZONTAL
;

53 
	gm_Ü›Á
 = 
VERTICAL
;

56 
boŞ
 
	gOv”æowEv’t
::
isOv”æowEv’t
() const

58  
Œue
;

61 
	gOv”æowEv’t
::
š™Ov”æowEv’t
(
Ü›Á
, 
boŞ
 
hÜizÚlOv”æow
, boŞ 
v”tiÿlOv”æow
)

63 ià(
di¥©ched
())

66 
	gm_Ü›Á
 = 
Ü›Á
;

67 
	gm_hÜizÚlOv”æow
 = 
hÜizÚlOv”æow
;

68 
	gm_v”tiÿlOv”æow
 = 
v”tiÿlOv”æow
;

	@OverflowEvent.h

26 #iâdeà
Ov”æowEv’t_h


27 
	#Ov”æowEv’t_h


	)

29 
	~"Ev’t.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cOv”æowEv’t
 : 
public
 
Ev’t
 {

34 
public
:

35 
	eÜ›ÁTy³
 {

36 
VERTICAL
 = 0,

37 
	gHORIZONTAL
 = 1,

38 
	gBOTH
 = 2

41 
	gPassRefPŒ
<
	gOv”æowEv’t
> 
ü—‹
()

43  
adİtRef
(
Ãw
 
Ov”æowEv’t
);

45 
	gPassRefPŒ
<
	gOv”æowEv’t
> 
ü—‹
(
boŞ
 
hÜizÚlOv”æowChªged
, boŞ 
hÜizÚlOv”æow
, boŞ 
v”tiÿlOv”æowChªged
, boŞ 
v”tiÿlOv”æow
)

47  
adİtRef
(
Ãw
 
Ov”æowEv’t
(
hÜizÚlOv”æowChªged
, 
hÜizÚlOv”æow
, 
v”tiÿlOv”æowChªged
, 
v”tiÿlOv”æow
));

50 
š™Ov”æowEv’t
(
Ü›Á
, 
boŞ
 
hÜizÚlOv”æow
, boŞ 
v”tiÿlOv”æow
);

52 
Ü›Á
(ècÚ¡ {  
	gm_Ü›Á
; }

53 
boŞ
 
hÜizÚlOv”æow
(ècÚ¡ {  
	gm_hÜizÚlOv”æow
; }

54 
boŞ
 
v”tiÿlOv”æow
(ècÚ¡ {  
	gm_v”tiÿlOv”æow
; }

56 
vœtu®
 
boŞ
 
isOv”æowEv’t
() const;

58 
	g´iv©e
:

59 
Ov”æowEv’t
();

60 
Ov”æowEv’t
(
boŞ
 
hÜizÚlOv”æowChªged
, boŞ 
hÜizÚlOv”æow
, boŞ 
v”tiÿlOv”æowChªged
, boŞ 
v”tiÿlOv”æow
);

62 
	gm_Ü›Á
;

63 
boŞ
 
	gm_hÜizÚlOv”æow
;

64 
boŞ
 
	gm_v”tiÿlOv”æow
;

	@PageTransitionEvent.cpp

26 
	~"cÚfig.h
"

27 
	~"PageT¿ns™iÚEv’t.h
"

29 
	~"Ev’tNames.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	gPageT¿ns™iÚEv’t
::
PageT¿ns™iÚEv’t
()

34 : 
m_³rsi¡ed
(
çl£
)

38 
PageT¿ns™iÚEv’t
::PageT¿ns™iÚEv’t(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
³rsi¡ed
)

39 : 
Ev’t
(
ty³
, 
Œue
,rue)

40 , 
m_³rsi¡ed
(
³rsi¡ed
)

44 
	gPageT¿ns™iÚEv’t
::~
PageT¿ns™iÚEv’t
()

48 
PageT¿ns™iÚEv’t
::
š™PageT¿ns™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
,

49 
boŞ
 
ÿnBubbËArg
,

50 
boŞ
 
ÿnûÏbËArg
,

51 
boŞ
 
³rsi¡ed
)

53 ià(
di¥©ched
())

56 
š™Ev’t
(
ty³
, 
ÿnBubbËArg
, 
ÿnûÏbËArg
);

58 
	gm_³rsi¡ed
 = 
³rsi¡ed
;

	@PageTransitionEvent.h

26 #iâdeà
PageT¿ns™iÚEv’t_h


27 
	#PageT¿ns™iÚEv’t_h


	)

29 
	~"Ev’t.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cPageT¿ns™iÚEv’t
 : 
public
 
Ev’t
 {

34 
public
:

35 
PassRefPŒ
<
PageT¿ns™iÚEv’t
> 
ü—‹
()

37  
adİtRef
(
Ãw
 
PageT¿ns™iÚEv’t
);

39 
	gPassRefPŒ
<
	gPageT¿ns™iÚEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
³rsi¡ed
)

41  
adİtRef
(
Ãw
 
PageT¿ns™iÚEv’t
(
ty³
, 
³rsi¡ed
));

44 
	gvœtu®
 ~
PageT¿ns™iÚEv’t
();

46 
š™PageT¿ns™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
,

47 
boŞ
 
ÿnBubbËArg
,

48 
boŞ
 
ÿnûÏbËArg
,

49 
boŞ
 
³rsi¡ed
);

51 
vœtu®
 
boŞ
 
isPageT¿ns™iÚEv’t
(ècÚ¡ {  
	gŒue
; }

53 
boŞ
 
³rsi¡ed
(ècÚ¡ {  
	gm_³rsi¡ed
; }

55 
	g´iv©e
:

56 
PageT¿ns™iÚEv’t
();

57 
PageT¿ns™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
³rsi¡ed
);

59 
boŞ
 
	gm_³rsi¡ed
;

	@PopStateEvent.cpp

27 
	~"cÚfig.h
"

28 
	~"PİS‹Ev’t.h
"

30 
	~"Ev’tNames.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 
	gPİS‹Ev’t
::
PİS‹Ev’t
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
¡©eObjeù
)

35 : 
Ev’t
(
ev’tNames
().
pİ¡©eEv’t
, 
çl£
, 
Œue
)

36 , 
m_¡©eObjeù
(
¡©eObjeù
)

40 
	gPİS‹Ev’t
::
š™PİS‹Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
¡©eObjeù
)

42 ià(
di¥©ched
())

45 
š™Ev’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
);

47 
	gm_¡©eObjeù
 = 
¡©eObjeù
;

	@PopStateEvent.h

27 #iâdeà
PİS‹Ev’t_h


28 
	#PİS‹Ev’t_h


	)

30 
	~"Ev’t.h
"

31 
	~"S”ŸlizedSütV®ue.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 
şass
 
	gS”ŸlizedSütV®ue
;

37 şas 
	cPİS‹Ev’t
 : 
public
 
Ev’t
 {

38 
public
:

39 
PassRefPŒ
<
PİS‹Ev’t
> 
ü—‹
(PassRefPŒ<
S”ŸlizedSütV®ue
> 
¡©eObjeù
)

41  
adİtRef
(
Ãw
 
PİS‹Ev’t
(
¡©eObjeù
));

44 
š™PİS‹Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
S”ŸlizedSütV®ue
>);

45 
boŞ
 
isPİS‹Ev’t
(ècÚ¡ {  
	gŒue
; }

47 
S”ŸlizedSütV®ue
* 
¡©e
(ècÚ¡ {  
	gm_¡©eObjeù
.
g‘
(); }

49 
	g´iv©e
:

50 
PİS‹Ev’t
(
PassRefPŒ
<
S”ŸlizedSütV®ue
>);

52 
	gRefPŒ
<
	gS”ŸlizedSütV®ue
> 
	gm_¡©eObjeù
;

	@Position.cpp

26 
	~"cÚfig.h
"

27 
	~"Pos™iÚ.h
"

29 
	~"CSSCompu‹dStyËDeş¬©iÚ.h
"

30 
	~"Ch¬aù”Names.h
"

31 
	~"Loggšg.h
"

32 
	~"Pos™iÚI‹¿tÜ.h
"

33 
	~"R’d”Block.h
"

34 
	~"Text.h
"

35 
	~"TextI‹¿tÜ.h
"

36 
	~"VisibËPos™iÚ.h
"

37 
	~"htmËd™šg.h
"

38 
	~"visibË_un™s.h
"

39 
	~<¡dio.h
>

40 
	~<wtf/‹xt/CSŒšg.h
>

42 
Çme¥aû
 
	gWebCÜe
 {

44 
usšg
 
Çme¥aû
 
	gHTMLNames
;

46 
Node
* 
ÃxtR’d”edEd™abË
(Node* 
node
)

49 
	gnode
 = 
node
->
ÃxtEd™abË
();

50 ià(!
	gnode
)

52 
R’d”Objeù
* 
	g»nd””
 = 
node
->
»nd””
();

53 ià(!
	g»nd””
)

55 ià((
	g»nd””
->
isBox
(è&& 
toR’d”Box
(
»nd””
)->
šlšeBoxW¿µ”
()è|| (»nd””->
isText
(è&& 
toR’d”Text
Ô’d””)->
fœ¡TextBox
()))

56  
	gnode
;

61 
Node
* 
´eviousR’d”edEd™abË
(Node* 
node
)

64 
	gnode
 = 
node
->
´eviousEd™abË
();

65 ià(!
	gnode
)

67 
R’d”Objeù
* 
	g»nd””
 = 
node
->
»nd””
();

68 ià(!
	g»nd””
)

70 ià((
	g»nd””
->
isBox
(è&& 
toR’d”Box
(
»nd””
)->
šlšeBoxW¿µ”
()è|| (»nd””->
isText
(è&& 
toR’d”Text
Ô’d””)->
fœ¡TextBox
()))

71  
	gnode
;

76 
	gPos™iÚ
::
Pos™iÚ
(
PassRefPŒ
<
Node
> 
ªchÜNode
, 
off£t
)

77 : 
m_ªchÜNode
(
ªchÜNode
)

78 , 
m_off£t
(
off£t
)

79 , 
m_ªchÜTy³
(
ªchÜTy³FÜLegacyEd™šgPos™iÚ
(
m_ªchÜNode
.
g‘
(), 
m_off£t
))

80 , 
m_isLegacyEd™šgPos™iÚ
(
Œue
)

84 
	gPos™iÚ
::
Pos™iÚ
(
PassRefPŒ
<
Node
> 
ªchÜNode
, 
AnchÜTy³
 
ªchÜTy³
)

85 : 
m_ªchÜNode
(
ªchÜNode
)

86 , 
m_off£t
(0)

87 , 
m_ªchÜTy³
(
ªchÜTy³
)

88 , 
m_isLegacyEd™šgPos™iÚ
(
çl£
)

90 
ASSERT
(
ªchÜTy³
 !ğ
Pos™iÚIsOff£tInAnchÜ
);

93 
	gPos™iÚ
::
Pos™iÚ
(
PassRefPŒ
<
Node
> 
ªchÜNode
, 
off£t
, 
AnchÜTy³
 
ªchÜTy³
)

94 : 
m_ªchÜNode
(
ªchÜNode
)

95 , 
m_off£t
(
off£t
)

96 , 
m_ªchÜTy³
(
ªchÜTy³
)

97 , 
m_isLegacyEd™šgPos™iÚ
(
çl£
)

99 
ASSERT
(
ªchÜTy³
 =ğ
Pos™iÚIsOff£tInAnchÜ
);

102 
	gPos™iÚ
::
moveToPos™iÚ
(
PassRefPŒ
<
Node
> 
node
, 
off£t
)

104 
ASSERT
(
ªchÜTy³
(è=ğ
Pos™iÚIsOff£tInAnchÜ
 || 
m_isLegacyEd™šgPos™iÚ
);

105 
	gm_ªchÜNode
 = 
node
;

106 
	gm_off£t
 = 
off£t
;

107 ià(
	gm_isLegacyEd™šgPos™iÚ
)

108 
	gm_ªchÜTy³
 = 
ªchÜTy³FÜLegacyEd™šgPos™iÚ
(
m_ªchÜNode
.
g‘
(), 
m_off£t
);

110 
	gPos™iÚ
::
moveToOff£t
(
off£t
)

112 
ASSERT
(
ªchÜTy³
(è=ğ
Pos™iÚIsOff£tInAnchÜ
 || 
m_isLegacyEd™šgPos™iÚ
);

113 
	gm_off£t
 = 
off£t
;

114 ià(
	gm_isLegacyEd™šgPos™iÚ
)

115 
	gm_ªchÜTy³
 = 
ªchÜTy³FÜLegacyEd™šgPos™iÚ
(
m_ªchÜNode
.
g‘
(), 
m_off£t
);

118 
Node
* 
	gPos™iÚ
::
cÚš”Node
() const

120 ià(!
m_ªchÜNode
)

123 
ªchÜTy³
()) {

124 
	gPos™iÚIsOff£tInAnchÜ
:

125  
m_ªchÜNode
.
g‘
();

126 
	gPos™iÚIsBefÜeAnchÜ
:

127 
Pos™iÚIsAá”AnchÜ
:

128  
m_ªchÜNode
->
·»ÁNode
();

130 
ASSERT_NOT_REACHED
();

134 
	gPos™iÚ
::
compu‹Off£tInCÚš”Node
() const

136 ià(!
m_ªchÜNode
)

139 
ªchÜTy³
()) {

140 
	gPos™iÚIsOff£tInAnchÜ
:

141  
¡d
::
mš
(
Ï¡Off£tInNode
(
m_ªchÜNode
.
g‘
()), 
m_off£t
);

142 
	gPos™iÚIsBefÜeAnchÜ
:

143  
m_ªchÜNode
->
nodeIndex
();

144 
	gPos™iÚIsAá”AnchÜ
:

145  
m_ªchÜNode
->
nodeIndex
() + 1;

147 
ASSERT_NOT_REACHED
();

151 
Node
* 
	gPos™iÚ
::
compu‹NodeBefÜePos™iÚ
() const

153 ià(!
m_ªchÜNode
)

156 
ªchÜTy³
()) {

157 
	gPos™iÚIsOff£tInAnchÜ
:

158  
m_ªchÜNode
->
chdNode
(
m_off£t
 - 1);

159 
	gPos™iÚIsBefÜeAnchÜ
:

160  
m_ªchÜNode
->
´eviousSiblšg
();

161 
	gPos™iÚIsAá”AnchÜ
:

162  
m_ªchÜNode
.
g‘
();

164 
ASSERT_NOT_REACHED
();

168 
Node
* 
	gPos™iÚ
::
compu‹NodeAá”Pos™iÚ
() const

170 ià(!
m_ªchÜNode
)

173 
ªchÜTy³
()) {

174 
	gPos™iÚIsOff£tInAnchÜ
:

175  
m_ªchÜNode
->
chdNode
(
m_off£t
);

176 
	gPos™iÚIsBefÜeAnchÜ
:

177  
m_ªchÜNode
.
g‘
();

178 
	gPos™iÚIsAá”AnchÜ
:

179  
m_ªchÜNode
->
ÃxtSiblšg
();

181 
ASSERT_NOT_REACHED
();

185 
	gPos™iÚ
::
AnchÜTy³
 
Pos™iÚ
::
ªchÜTy³FÜLegacyEd™šgPos™iÚ
(
Node
* 
ªchÜNode
, 
off£t
)

187 ià(
	gªchÜNode
 && 
ed™šgIgnÜesCÚ‹Á
(
ªchÜNode
)) {

188 ià(
	goff£t
 == 0)

189  
Pos™iÚ
::
Pos™iÚIsBefÜeAnchÜ
;

190  
	gPos™iÚ
::
Pos™iÚIsAá”AnchÜ
;

192  
	gPos™iÚ
::
Pos™iÚIsOff£tInAnchÜ
;

196 
EËm’t
* 
	gPos™iÚ
::
–em’t
() const

198 
Node
* 
n
 = 
ªchÜNode
();

199 
	gn
 && !n->
isEËm’tNode
())

200 
	gn
 = 
n
->
·»ÁNode
();

201  
	g¡©ic_ÿ¡
<
	gEËm’t
*>(
	gn
);

204 
	gPassRefPŒ
<
	gCSSCompu‹dStyËDeş¬©iÚ
> 
	gPos™iÚ
::
compu‹dStyË
() const

206 
EËm’t
* 
–em
 = 
–em’t
();

207 ià(!
	g–em
)

209  
	gWebCÜe
::
compu‹dStyË
(
–em
);

212 
Pos™iÚ
 
	gPos™iÚ
::
´evious
(
Pos™iÚMoveTy³
 
moveTy³
) const

214 
Node
* 
n
 = 
node
();

215 ià(!
	gn
)

216  *
	gthis
;

218 
	go
 = 
m_off£t
;

220 
ASSERT
(
o
 >= 0);

222 ià(
	go
 > 0) {

223 
Node
* 
	gchd
 = 
n
->
chdNode
(
o
 - 1);

224 ià(
	gchd
)

225  
Ï¡D“pEd™šgPos™iÚFÜNode
(
chd
);

232 
	gmoveTy³
) {

233 
	gCodePošt
:

234  
Pos™iÚ
(
n
, 
o
 - 1);

235 
	gCh¬aù”
:

236  
Pos™iÚ
(
n
, 
uncheckedP»viousOff£t
Ò, 
o
));

237 
	gBackw¬dD–‘iÚ
:

238  
Pos™iÚ
(
n
, 
uncheckedP»viousOff£tFÜBackw¬dD–‘iÚ
Ò, 
o
));

242 
Node
* 
	g·»Á
 = 
n
->
·»ÁNode
();

243 ià(!
	g·»Á
)

244  *
	gthis
;

246  
Pos™iÚ
(
·»Á
, 
n
->
nodeIndex
());

249 
Pos™iÚ
 
	gPos™iÚ
::
Ãxt
(
Pos™iÚMoveTy³
 
moveTy³
) const

251 
ASSERT
(
moveTy³
 !ğ
Backw¬dD–‘iÚ
);

253 
Node
* 
	gn
 = 
node
();

254 ià(!
	gn
)

255  *
	gthis
;

257 
	go
 = 
m_off£t
;

259 
ASSERT
(
o
 >= 0);

261 
Node
* 
	gchd
 = 
n
->
chdNode
(
o
);

262 ià(
	gchd
 || (!
	gn
->
hasChdNodes
(è&& 
	go
 < 
Ï¡Off£tFÜEd™šg
(
n
))) {

263 ià(
	gchd
)

264  
fœ¡D“pEd™šgPos™iÚFÜNode
(
chd
);

271  
Pos™iÚ
(
n
, (
moveTy³
 =ğ
Ch¬aù”
è? 
uncheckedNextOff£t
Ò, 
o
) : o + 1);

274 
Node
* 
	g·»Á
 = 
n
->
·»ÁNode
();

275 ià(!
	g·»Á
)

276  *
	gthis
;

278  
Pos™iÚ
(
·»Á
, 
n
->
nodeIndex
() + 1);

281 
	gPos™iÚ
::
uncheckedP»viousOff£t
(cÚ¡ 
Node
* 
n
, 
cu¼’t
)

283  
	gn
->
»nd””
(è?‚->»nd””()->
´eviousOff£t
(
cu¼’t
) : current - 1;

286 
	gPos™iÚ
::
uncheckedP»viousOff£tFÜBackw¬dD–‘iÚ
(cÚ¡ 
Node
* 
n
, 
cu¼’t
)

288  
	gn
->
»nd””
(è?‚->»nd””()->
´eviousOff£tFÜBackw¬dD–‘iÚ
(
cu¼’t
) : current - 1;

291 
	gPos™iÚ
::
uncheckedNextOff£t
(cÚ¡ 
Node
* 
n
, 
cu¼’t
)

293  
	gn
->
»nd””
(è?‚->»nd””()->
ÃxtOff£t
(
cu¼’t
) : current + 1;

296 
boŞ
 
	gPos™iÚ
::
©Fœ¡Ed™šgPos™iÚFÜNode
() const

298 ià(
isNuÎ
())

299  
Œue
;

300  
	gm_off£t
 <= 0;

303 
boŞ
 
	gPos™iÚ
::
©La¡Ed™šgPos™iÚFÜNode
() const

305 ià(
isNuÎ
())

306  
Œue
;

307  
	gm_off£t
 >ğ
Ï¡Off£tFÜEd™šg
(
node
());

317 
boŞ
 
	gPos™iÚ
::
©Ed™šgBound¬y
() const

319 
Pos™iÚ
 
ÃxtPos™iÚ
 = 
down¡»am
(
CªCrossEd™šgBound¬y
);

320 ià(
©Fœ¡Ed™šgPos™iÚFÜNode
(è&& 
	gÃxtPos™iÚ
.
isNÙNuÎ
(è&& !ÃxtPos™iÚ.
node
()->
isCÚ‹ÁEd™abË
())

321  
	gŒue
;

323 
Pos™iÚ
 
	g´evPos™iÚ
 = 
up¡»am
(
CªCrossEd™šgBound¬y
);

324 ià(
©La¡Ed™šgPos™iÚFÜNode
(è&& 
	g´evPos™iÚ
.
isNÙNuÎ
(è&& !´evPos™iÚ.
node
()->
isCÚ‹ÁEd™abË
())

325  
	gŒue
;

327  
	gÃxtPos™iÚ
.
isNÙNuÎ
(è&& !ÃxtPos™iÚ.
node
()->
isCÚ‹ÁEd™abË
()

328 && 
	g´evPos™iÚ
.
isNÙNuÎ
(è&& !´evPos™iÚ.
node
()->
isCÚ‹ÁEd™abË
();

331 
boŞ
 
	gPos™iÚ
::
©S¹OfT»e
() const

333 ià(
isNuÎ
())

334  
Œue
;

335  !
node
()->
·»ÁNode
(è&& 
	gm_off£t
 <= 0;

338 
boŞ
 
	gPos™iÚ
::
©EndOfT»e
() const

340 ià(
isNuÎ
())

341  
Œue
;

342  !
node
()->
·»ÁNode
(è&& 
	gm_off£t
 >ğ
Ï¡Off£tFÜEd™šg
(node());

345 
	gPos™iÚ
::
»nd”edOff£t
() const

347 ià(!
node
()->
isTextNode
())

348  
m_off£t
;

350 ià(!
node
()->
»nd””
())

351  
	gm_off£t
;

353 
	g»suÉ
 = 0;

354 
R’d”Text
 *
	g‹xtR’d””
 = 
toR’d”Text
(
node
()->
»nd””
());

355 
IÆšeTextBox
 *
	gbox
 = 
‹xtR’d””
->
fœ¡TextBox
(); box; box = 
box
->
ÃxtTextBox
()) {

356 
¡¬t
 = 
box
->start();

357 
	g’d
 = 
box
->
¡¬t
(è+ box->
Ën
();

358 ià(
	gm_off£t
 < 
	g¡¬t
)

359  
	g»suÉ
;

360 ià(
	gm_off£t
 <ğ
’d
) {

361 
»suÉ
 +ğ
m_off£t
 - 
¡¬t
;

362  
	g»suÉ
;

364 
	g»suÉ
 +ğ
box
->
Ën
();

366  
	g»suÉ
;

370 
Pos™iÚ
 
	gPos™iÚ
::
´eviousCh¬aù”Pos™iÚ
(
EAffš™y
 
affš™y
) const

372 ià(
isNuÎ
())

373  
Pos™iÚ
();

375 
Node
 *
	gäomRoÙEd™abËEËm’t
 = 
node
()->
roÙEd™abËEËm’t
();

377 
boŞ
 
	g©S¹OfLše
 = 
isS¹OfLše
(
VisibËPos™iÚ
(*
this
, 
affš™y
));

378 
boŞ
 
	g»nd”ed
 = 
isCªdid©e
();

380 
Pos™iÚ
 
	gcu¼’tPos
 = *
this
;

381 !
	gcu¼’tPos
.
©S¹OfT»e
()) {

382 
	gcu¼’tPos
 = 
cu¼’tPos
.
´evious
();

384 ià(
	gcu¼’tPos
.
node
()->
roÙEd™abËEËm’t
(è!ğ
äomRoÙEd™abËEËm’t
)

385  *
this
;

387 ià(
	g©S¹OfLše
 || !
	g»nd”ed
) {

388 ià(
	gcu¼’tPos
.
isCªdid©e
())

389  
	gcu¼’tPos
;

390 } ià(
»nd”sInDifã»ÁPos™iÚ
(
cu¼’tPos
))

391  
	gcu¼’tPos
;

394  *
	gthis
;

398 
Pos™iÚ
 
	gPos™iÚ
::
ÃxtCh¬aù”Pos™iÚ
(
EAffš™y
 
affš™y
) const

400 ià(
isNuÎ
())

401  
Pos™iÚ
();

403 
Node
 *
	gäomRoÙEd™abËEËm’t
 = 
node
()->
roÙEd™abËEËm’t
();

405 
boŞ
 
	g©EndOfLše
 = 
isEndOfLše
(
VisibËPos™iÚ
(*
this
, 
affš™y
));

406 
boŞ
 
	g»nd”ed
 = 
isCªdid©e
();

408 
Pos™iÚ
 
	gcu¼’tPos
 = *
this
;

409 !
	gcu¼’tPos
.
©EndOfT»e
()) {

410 
	gcu¼’tPos
 = 
cu¼’tPos
.
Ãxt
();

412 ià(
	gcu¼’tPos
.
node
()->
roÙEd™abËEËm’t
(è!ğ
äomRoÙEd™abËEËm’t
)

413  *
this
;

415 ià(
	g©EndOfLše
 || !
	g»nd”ed
) {

416 ià(
	gcu¼’tPos
.
isCªdid©e
())

417  
	gcu¼’tPos
;

418 } ià(
»nd”sInDifã»ÁPos™iÚ
(
cu¼’tPos
))

419  
	gcu¼’tPos
;

422  *
	gthis
;

429 
boŞ
 
’dsOfNodeA»Visu®lyDi¡šùPos™iÚs
(
Node
* 
node
)

431 ià(!
	gnode
 || !node->
»nd””
())

432  
	gçl£
;

434 ià(!
	gnode
->
»nd””
()->
isIÆše
())

435  
	gŒue
;

438 ià(
	gnode
->
hasTagName
(
bËTag
))

439  
	gçl£
;

442  
	gnode
->
»nd””
()->
isR•Ïûd
(è&& 
ÿnHaveChd»nFÜEd™šg
(
node
è&& 
toR’d”Box
Òode->»nd””())->
height
(è!ğ0 && !node->
fœ¡Chd
();

445 
Node
* 
’şosšgVisu®Bound¬y
(Node* 
node
)

447 
	gnode
 && !
’dsOfNodeA»Visu®lyDi¡šùPos™iÚs
(
node
))

448 
	gnode
 = 
node
->
·»ÁNode
();

450  
	gnode
;

455 
boŞ
 
isSŒ—m”
(cÚ¡ 
Pos™iÚI‹¿tÜ
& 
pos
)

457 ià(!
	gpos
.
node
())

458  
	gŒue
;

460 ià(
isAtomicNode
(
pos
.
node
()))

461  
	gŒue
;

463  
	gpos
.
©S¹OfNode
();

472 
Pos™iÚ
 
	gPos™iÚ
::
up¡»am
(
Ed™šgBound¬yCrossšgRuË
 
ruË
) const

474 
Node
* 
¡¬tNode
 = 
node
();

475 ià(!
	g¡¬tNode
)

476  
Pos™iÚ
();

479 
Node
* 
	gbound¬y
 = 
’şosšgVisu®Bound¬y
(
¡¬tNode
);

480 
Pos™iÚI‹¿tÜ
 
	gÏ¡VisibË
 = *
this
;

481 
Pos™iÚI‹¿tÜ
 
	gcu¼’tPos
 = 
Ï¡VisibË
;

482 
boŞ
 
	g¡¬tEd™abË
 = 
¡¬tNode
->
isCÚ‹ÁEd™abË
();

483 
Node
* 
	gÏ¡Node
 = 
¡¬tNode
;

484 
boŞ
 
	gbound¬yCros£d
 = 
çl£
;

485 ; !
	gcu¼’tPos
.
©S¹
(); cu¼’tPos.
deüem’t
()) {

486 
Node
* 
	gcu¼’tNode
 = 
cu¼’tPos
.
node
();

490 ià(
	gcu¼’tNode
 !ğ
Ï¡Node
) {

492 
boŞ
 
cu¼’tEd™abË
 = 
cu¼’tNode
->
isCÚ‹ÁEd™abË
();

493 ià(
	g¡¬tEd™abË
 !ğ
cu¼’tEd™abË
) {

494 ià(
ruË
 =ğ
CªnÙCrossEd™šgBound¬y
)

496 
	gbound¬yCros£d
 = 
Œue
;

498 
	gÏ¡Node
 = 
cu¼’tNode
;

503 ià(
’dsOfNodeA»Visu®lyDi¡šùPos™iÚs
(
cu¼’tNode
è&& 
	gcu¼’tNode
 !ğ
bound¬y
)

504  
Ï¡VisibË
;

507 
R’d”Objeù
* 
	g»nd””
 = 
cu¼’tNode
->
»nd””
();

508 ià(!
	g»nd””
 ||„’d””->
¡yË
()->
visib™y
(è!ğ
VISIBLE
)

511 ià(
	gruË
 =ğ
CªCrossEd™šgBound¬y
 && 
bound¬yCros£d
) {

512 
Ï¡VisibË
 = 
cu¼’tPos
;

517 ià(
isSŒ—m”
(
cu¼’tPos
))

518 
	gÏ¡VisibË
 = 
cu¼’tPos
;

522 ià(
’dsOfNodeA»Visu®lyDi¡šùPos™iÚs
(
cu¼’tNode
è&& 
	gcu¼’tPos
.
©S¹OfNode
())

523  
	gÏ¡VisibË
;

526 ià(
ed™šgIgnÜesCÚ‹Á
(
cu¼’tNode
è|| 
isTabËEËm’t
(currentNode)) {

527 ià(
	gcu¼’tPos
.
©EndOfNode
())

528  
Ï¡D“pEd™šgPos™iÚFÜNode
(
cu¼’tNode
);

533 ià(
	g»nd””
->
isText
(è&& 
toR’d”Text
(
»nd””
)->
fœ¡TextBox
()) {

534 ià(
	gcu¼’tNode
 !ğ
¡¬tNode
) {

540  
Pos™iÚ
(
cu¼’tNode
, 
»nd””
->
ÿ»tMaxOff£t
());

543 
	g‹xtOff£t
 = 
cu¼’tPos
.
off£tInL—fNode
();

544 
R’d”Text
* 
	g‹xtR’d””
 = 
toR’d”Text
(
»nd””
);

545 
IÆšeTextBox
* 
	gÏ¡TextBox
 = 
‹xtR’d””
->
Ï¡TextBox
();

546 
IÆšeTextBox
* 
	gbox
 = 
‹xtR’d””
->
fœ¡TextBox
(); box; box = 
box
->
ÃxtTextBox
()) {

547 ià(
‹xtOff£t
 <ğ
box
->
¡¬t
(è+ box->
Ën
()) {

548 ià(
‹xtOff£t
 > 
box
->
¡¬t
())

549  
cu¼’tPos
;

553 ià(
	gbox
 =ğ
Ï¡TextBox
 || 
‹xtOff£t
 !ğ
box
->
¡¬t
(è+ box->
Ën
() + 1)

559 
boŞ
 
	gcÚtšuesOnNextLše
 = 
Œue
;

560 
IÆšeBox
* 
	gÙh”Box
 = 
box
;

561 
	gcÚtšuesOnNextLše
) {

562 
	gÙh”Box
 = 
Ùh”Box
->
ÃxtL—fChd
();

563 ià(!
	gÙh”Box
)

565 ià(
	gÙh”Box
 =ğ
Ï¡TextBox
 || (
Ùh”Box
->
»nd””
(è=ğ
‹xtR’d””
 && 
¡©ic_ÿ¡
<
IÆšeTextBox
*>(Ùh”Box)->
¡¬t
(è> 
‹xtOff£t
))

566 
cÚtšuesOnNextLše
 = 
çl£
;

569 
	gÙh”Box
 = 
box
;

570 
	gcÚtšuesOnNextLše
) {

571 
	gÙh”Box
 = 
Ùh”Box
->
´evL—fChd
();

572 ià(!
	gÙh”Box
)

574 ià(
	gÙh”Box
 =ğ
Ï¡TextBox
 || (
Ùh”Box
->
»nd””
(è=ğ
‹xtR’d””
 && 
¡©ic_ÿ¡
<
IÆšeTextBox
*>(Ùh”Box)->
¡¬t
(è> 
‹xtOff£t
))

575 
cÚtšuesOnNextLše
 = 
çl£
;

578 ià(
	gcÚtšuesOnNextLše
)

579  
	gcu¼’tPos
;

584  
	gÏ¡VisibË
;

593 
Pos™iÚ
 
	gPos™iÚ
::
down¡»am
(
Ed™šgBound¬yCrossšgRuË
 
ruË
) const

595 
Node
* 
¡¬tNode
 = 
node
();

596 ià(!
	g¡¬tNode
)

597  
Pos™iÚ
();

600 
Node
* 
	gbound¬y
 = 
’şosšgVisu®Bound¬y
(
¡¬tNode
);

601 
Pos™iÚI‹¿tÜ
 
	gÏ¡VisibË
 = *
this
;

602 
Pos™iÚI‹¿tÜ
 
	gcu¼’tPos
 = 
Ï¡VisibË
;

603 
boŞ
 
	g¡¬tEd™abË
 = 
¡¬tNode
->
isCÚ‹ÁEd™abË
();

604 
Node
* 
	gÏ¡Node
 = 
¡¬tNode
;

605 
boŞ
 
	gbound¬yCros£d
 = 
çl£
;

606 ; !
	gcu¼’tPos
.
©End
(); cu¼’tPos.
šüem’t
()) {

607 
Node
* 
	gcu¼’tNode
 = 
cu¼’tPos
.
node
();

611 ià(
	gcu¼’tNode
 !ğ
Ï¡Node
) {

613 
boŞ
 
cu¼’tEd™abË
 = 
cu¼’tNode
->
isCÚ‹ÁEd™abË
();

614 ià(
	g¡¬tEd™abË
 !ğ
cu¼’tEd™abË
) {

615 ià(
ruË
 =ğ
CªnÙCrossEd™šgBound¬y
)

617 
	gbound¬yCros£d
 = 
Œue
;

620 
	gÏ¡Node
 = 
cu¼’tNode
;

625 ià(
	gcu¼’tNode
->
hasTagName
(
bodyTag
è&& 
	gcu¼’tPos
.
©EndOfNode
())

629 ià(
’dsOfNodeA»Visu®lyDi¡šùPos™iÚs
(
cu¼’tNode
è&& 
	gcu¼’tNode
 !ğ
bound¬y
)

630  
Ï¡VisibË
;

634 ià(
	gbound¬y
 && bound¬y->
·»ÁNode
(è=ğ
cu¼’tNode
)

635  
Ï¡VisibË
;

638 
R’d”Objeù
* 
	g»nd””
 = 
cu¼’tNode
->
»nd””
();

639 ià(!
	g»nd””
 ||„’d””->
¡yË
()->
visib™y
(è!ğ
VISIBLE
)

642 ià(
	gruË
 =ğ
CªCrossEd™šgBound¬y
 && 
bound¬yCros£d
) {

643 
Ï¡VisibË
 = 
cu¼’tPos
;

648 ià(
isSŒ—m”
(
cu¼’tPos
))

649 
	gÏ¡VisibË
 = 
cu¼’tPos
;

652 ià(
ed™šgIgnÜesCÚ‹Á
(
cu¼’tNode
è|| 
isTabËEËm’t
(currentNode)) {

653 ià(
	gcu¼’tPos
.
off£tInL—fNode
(è<ğ
»nd””
->
ÿ»tMšOff£t
())

654  
Pos™iÚ
(
cu¼’tNode
, 
»nd””
->
ÿ»tMšOff£t
());

659 ià(
	g»nd””
->
isText
(è&& 
toR’d”Text
(
»nd””
)->
fœ¡TextBox
()) {

660 ià(
	gcu¼’tNode
 !ğ
¡¬tNode
) {

661 
ASSERT
(
cu¼’tPos
.
©S¹OfNode
());

662  
Pos™iÚ
(
cu¼’tNode
, 
»nd””
->
ÿ»tMšOff£t
());

665 
	g‹xtOff£t
 = 
cu¼’tPos
.
off£tInL—fNode
();

666 
R’d”Text
* 
	g‹xtR’d””
 = 
toR’d”Text
(
»nd””
);

667 
IÆšeTextBox
* 
	gÏ¡TextBox
 = 
‹xtR’d””
->
Ï¡TextBox
();

668 
IÆšeTextBox
* 
	gbox
 = 
‹xtR’d””
->
fœ¡TextBox
(); box; box = 
box
->
ÃxtTextBox
()) {

669 ià(
‹xtOff£t
 <ğ
box
->
’d
()) {

670 ià(
‹xtOff£t
 >ğ
box
->
¡¬t
())

671  
cu¼’tPos
;

675 ià(
	gbox
 =ğ
Ï¡TextBox
 || 
‹xtOff£t
 !ğ
box
->
¡¬t
(è+ box->
Ën
())

681 
boŞ
 
	gcÚtšuesOnNextLše
 = 
Œue
;

682 
IÆšeBox
* 
	gÙh”Box
 = 
box
;

683 
	gcÚtšuesOnNextLše
) {

684 
	gÙh”Box
 = 
Ùh”Box
->
ÃxtL—fChd
();

685 ià(!
	gÙh”Box
)

687 ià(
	gÙh”Box
 =ğ
Ï¡TextBox
 || (
Ùh”Box
->
»nd””
(è=ğ
‹xtR’d””
 && 
¡©ic_ÿ¡
<
IÆšeTextBox
*>(Ùh”Box)->
¡¬t
(è>ğ
‹xtOff£t
))

688 
cÚtšuesOnNextLše
 = 
çl£
;

691 
	gÙh”Box
 = 
box
;

692 
	gcÚtšuesOnNextLše
) {

693 
	gÙh”Box
 = 
Ùh”Box
->
´evL—fChd
();

694 ià(!
	gÙh”Box
)

696 ià(
	gÙh”Box
 =ğ
Ï¡TextBox
 || (
Ùh”Box
->
»nd””
(è=ğ
‹xtR’d””
 && 
¡©ic_ÿ¡
<
IÆšeTextBox
*>(Ùh”Box)->
¡¬t
(è>ğ
‹xtOff£t
))

697 
cÚtšuesOnNextLše
 = 
çl£
;

700 ià(
	gcÚtšuesOnNextLše
)

701  
	gcu¼’tPos
;

706  
	gÏ¡VisibË
;

709 
boŞ
 
	gPos™iÚ
::
hasR’d”edNÚAnÚymousDesûndªtsW™hHeight
(
R’d”Objeù
* 
»nd””
)

711 
R’d”Objeù
* 
¡İ
 = 
»nd””
->
ÃxtInP»Ord”Aá”Chd»n
();

712 
R’d”Objeù
 *
	go
 = 
»nd””
->
fœ¡Chd
(); o && o !ğ
¡İ
; o = 
o
->
ÃxtInP»Ord”
())

713 ià(
o
->
node
()) {

714 ià((
o
->
isText
(è&& 
toR’d”Text
(o)->
lšesBoundšgBox
().
height
()) ||

715 (
o
->
isBox
(è&& 
toR’d”Box
(o)->
bÜd”BoundšgBox
().
height
()))

716  
Œue
;

718  
	gçl£
;

721 
boŞ
 
	gPos™iÚ
::
nodeIsU£rS–eùNÚe
(
Node
* 
node
)

723  
node
 &&‚ode->
»nd””
(è&&‚ode->»nd””()->
¡yË
()->
u£rS–eù
(è=ğ
SELECT_NONE
;

726 
boŞ
 
	gPos™iÚ
::
isCªdid©e
() const

728 ià(
isNuÎ
())

729  
çl£
;

731 
R’d”Objeù
 *
	g»nd””
 = 
node
()->
»nd””
();

732 ià(!
	g»nd””
)

733  
	gçl£
;

735 ià(
	g»nd””
->
¡yË
()->
visib™y
(è!ğ
VISIBLE
)

736  
çl£
;

738 ià(
	g»nd””
->
isBR
())

739  
	gm_off£t
 =ğ0 && !
nodeIsU£rS–eùNÚe
(
node
()->
·»Á
());

741 ià(
	g»nd””
->
isText
())

742  
šR’d”edText
(è&& !
nodeIsU£rS–eùNÚe
(
node
());

744 ià(
isTabËEËm’t
(
node
()è|| 
ed™šgIgnÜesCÚ‹Á
(node()))

745  (
©Fœ¡Ed™šgPos™iÚFÜNode
(è|| 
©La¡Ed™šgPos™iÚFÜNode
()è&& !
nodeIsU£rS–eùNÚe
(
node
()->
·»Á
());

747 ià(
	gm_ªchÜNode
->
hasTagName
(
htmlTag
))

748  
	gçl£
;

750 ià(
	g»nd””
->
isBlockFlow
()) {

751 ià(
toR’d”Block
(
»nd””
)->
height
(è|| 
	gm_ªchÜNode
->
hasTagName
(
bodyTag
)) {

752 ià(!
	gPos™iÚ
::
hasR’d”edNÚAnÚymousDesûndªtsW™hHeight
(
»nd””
))

753  
©Fœ¡Ed™šgPos™iÚFÜNode
(è&& !
Pos™iÚ
::
nodeIsU£rS–eùNÚe
(
node
());

754  
	gm_ªchÜNode
->
isCÚ‹ÁEd™abË
(è&& !
	gPos™iÚ
::
nodeIsU£rS–eùNÚe
(
node
()è&& 
©Ed™šgBound¬y
();

757  
	gm_ªchÜNode
->
isCÚ‹ÁEd™abË
(è&& !
	gPos™iÚ
::
nodeIsU£rS–eùNÚe
(
node
()è&& 
©Ed™šgBound¬y
();

759  
	gçl£
;

762 
boŞ
 
	gPos™iÚ
::
šR’d”edText
() const

764 ià(
isNuÎ
(è|| !
node
()->
isTextNode
())

765  
çl£
;

767 
R’d”Objeù
 *
	g»nd””
 = 
node
()->
»nd””
();

768 ià(!
	g»nd””
)

769  
	gçl£
;

771 
R’d”Text
 *
	g‹xtR’d””
 = 
toR’d”Text
(
»nd””
);

772 
IÆšeTextBox
 *
	gbox
 = 
‹xtR’d””
->
fœ¡TextBox
(); box; box = 
box
->
ÃxtTextBox
()) {

773 ià(
m_off£t
 < 
¡©ic_ÿ¡
<>(
box
->
¡¬t
()è&& !
‹xtR’d””
->
cÚšsRev”£dText
()) {

777  
çl£
;

779 ià(
	gbox
->
cÚšsC¬‘Off£t
(
m_off£t
))

781  
	gm_off£t
 =ğ0 || 
m_off£t
 =ğ
‹xtR’d””
->
ÃxtOff£t
ÑextR’d””->
´eviousOff£t
(m_offset));

784  
	gçl£
;

787 
ÿ»tMaxR’d”edOff£t
(cÚ¡ 
Node
* 
n
)

789 
R’d”Objeù
* 
	gr
 = 
n
->
»nd””
();

790 ià(
	gr
)

791  
	gr
->
ÿ»tMaxR’d”edOff£t
();

793 ià(
	gn
->
isCh¬aù”D©aNode
())

794  
	g¡©ic_ÿ¡
<cÚ¡ 
	gCh¬aù”D©a
*>(
	gn
)->
Ëngth
();

798 
boŞ
 
	gPos™iÚ
::
isR’d”edCh¬aù”
() const

800 ià(
isNuÎ
(è|| !
node
()->
isTextNode
())

801  
çl£
;

803 
R’d”Objeù
* 
	g»nd””
 = 
node
()->
»nd””
();

804 ià(!
	g»nd””
)

805  
	gçl£
;

807 
R’d”Text
* 
	g‹xtR’d””
 = 
toR’d”Text
(
»nd””
);

808 
IÆšeTextBox
* 
	gbox
 = 
‹xtR’d””
->
fœ¡TextBox
(); box; box = 
box
->
ÃxtTextBox
()) {

809 ià(
m_off£t
 < 
¡©ic_ÿ¡
<>(
box
->
¡¬t
()è&& !
‹xtR’d””
->
cÚšsRev”£dText
()) {

813  
çl£
;

815 ià(
	gm_off£t
 >ğ
¡©ic_ÿ¡
<>(
box
->
¡¬t
()è&& 
m_off£t
 < stic_ÿ¡<>(box->¡¬t(è+ box->
Ën
()))

816  
Œue
;

819  
	gçl£
;

822 
boŞ
 
	gPos™iÚ
::
»nd”sInDifã»ÁPos™iÚ
(cÚ¡ 
Pos™iÚ
 &
pos
) const

824 ià(
isNuÎ
(è|| 
pos
.isNull())

825  
çl£
;

827 
R’d”Objeù
 *
	g»nd””
 = 
node
()->
»nd””
();

828 ià(!
	g»nd””
)

829  
	gçl£
;

831 
R’d”Objeù
 *
	gposR’d””
 = 
pos
.
node
()->
»nd””
();

832 ià(!
	gposR’d””
)

833  
	gçl£
;

835 ià(
	g»nd””
->
¡yË
()->
visib™y
(è!ğ
VISIBLE
 ||

836 
posR’d””
->
¡yË
()->
visib™y
(è!ğ
VISIBLE
)

837  
çl£
;

839 ià(
node
(è=ğ
pos
.node()) {

840 ià(
node
()->
hasTagName
(
brTag
))

841  
çl£
;

843 ià(
	gm_off£t
 =ğ
pos
.
d•»ÿ‹dEd™šgOff£t
())

844  
çl£
;

846 ià(!
node
()->
isTextNode
(è&& !
	gpos
.node()->isTextNode()) {

847 ià(
	gm_off£t
 !ğ
pos
.
d•»ÿ‹dEd™šgOff£t
())

848  
Œue
;

852 ià(
node
()->
hasTagName
(
brTag
è&& 
	gpos
.
isCªdid©e
())

853  
	gŒue
;

855 ià(
	gpos
.
node
()->
hasTagName
(
brTag
è&& 
isCªdid©e
())

856  
	gŒue
;

858 ià(
node
()->
’şosšgBlockFlowEËm’t
(è!ğ
pos
.node()->enclosingBlockFlowElement())

859  
Œue
;

861 ià(
node
()->
isTextNode
(è&& !
šR’d”edText
())

862  
	gçl£
;

864 ià(
	gpos
.
node
()->
isTextNode
(è&& !pos.
šR’d”edText
())

865  
	gçl£
;

867 
	gthisR’d”edOff£t
 = 
»nd”edOff£t
();

868 
	gposR’d”edOff£t
 = 
pos
.
»nd”edOff£t
();

870 ià(
	g»nd””
 =ğ
posR’d””
 && 
thisR’d”edOff£t
 =ğ
posR’d”edOff£t
)

871  
çl£
;

873 
	gignÜedC¬‘Off£t
;

874 
IÆšeBox
* 
	gb1
;

875 
g‘IÆšeBoxAndOff£t
(
DOWNSTREAM
, 
b1
, 
ignÜedC¬‘Off£t
);

876 
IÆšeBox
* 
	gb2
;

877 
	gpos
.
g‘IÆšeBoxAndOff£t
(
DOWNSTREAM
, 
b2
, 
ignÜedC¬‘Off£t
);

879 
LOG
(
Ed™šg
, "»nd””: %°[%p]\n", 
»nd””
, 
b1
);

880 
LOG
(
Ed™šg
, "thisR’d”edOff£t: %d\n", 
thisR’d”edOff£t
);

881 
LOG
(
Ed™šg
, "posR’d””: %°[%p]\n", 
posR’d””
, 
b2
);

882 
LOG
(
Ed™šg
, "posR’d”edOff£t: %d\n", 
posR’d”edOff£t
);

883 
LOG
(
Ed™šg
, "nodmš/max: %d:%d\n", 
ÿ»tMšOff£t
(
node
()), 
ÿ»tMaxR’d”edOff£t
(node()));

884 
LOG
(
Ed™šg
, "po nodmš/max: %d:%d\n", 
ÿ»tMšOff£t
(
pos
.
node
()), 
ÿ»tMaxR’d”edOff£t
(pos.node()));

885 
LOG
(
Ed™šg
, "----------------------------------------------------------------------\n");

887 ià(!
	gb1
 || !
	gb2
) {

888  
	gçl£
;

891 ià(
	gb1
->
roÙ
(è!ğ
b2
->root()) {

892  
Œue
;

895 ià(
ÃxtR’d”edEd™abË
(
node
()è=ğ
pos
.node() &&

896 
thisR’d”edOff£t
 =ğ()
ÿ»tMaxR’d”edOff£t
(
node
()è&& 
posR’d”edOff£t
 == 0) {

897  
çl£
;

900 ià(
´eviousR’d”edEd™abË
(
node
()è=ğ
pos
.node() &&

901 
thisR’d”edOff£t
 =ğ0 && 
posR’d”edOff£t
 =ğ()
ÿ»tMaxR’d”edOff£t
(
pos
.
node
())) {

902  
çl£
;

905  
	gŒue
;

909 
Pos™iÚ
 
	gPos™iÚ
::
ËadšgWh™e¥aûPos™iÚ
(
EAffš™y
 
affš™y
, 
boŞ
 
cÚsid”NÚCŞÏpsibËWh™e¥aû
) const

911 
ASSERT
(
isEd™abËPos™iÚ
(*
this
));

912 ià(
isNuÎ
())

913  
Pos™iÚ
();

915 ià(
up¡»am
().
node
()->
hasTagName
(
brTag
))

916  
Pos™iÚ
();

918 
Pos™iÚ
 
	g´ev
 = 
´eviousCh¬aù”Pos™iÚ
(
affš™y
);

919 ià(
	g´ev
 !ğ*
this
 && 
´ev
.
node
()->
šSameCÚššgBlockFlowEËm’t
Òode()è&&…»v.node()->
isTextNode
()) {

920 
SŒšg
 
¡ršg
 = 
¡©ic_ÿ¡
<
Text
 *>(
´ev
.
node
())->
d©a
();

921 
UCh¬
 
	gc
 = 
¡ršg
[
´ev
.
d•»ÿ‹dEd™šgOff£t
()];

922 ià(
	gcÚsid”NÚCŞÏpsibËWh™e¥aû
 ? (
isS·ûOrNewlše
(
c
è|| 
	gc
 =ğ
noB»akS·û
è: 
isCŞÏpsibËWh™e¥aû
(c))

923 ià(
isEd™abËPos™iÚ
(
´ev
))

924  
´ev
;

927  
Pos™iÚ
();

931 
Pos™iÚ
 
	gPos™iÚ
::
ŒašgWh™e¥aûPos™iÚ
(
EAffš™y
, 
boŞ
 
cÚsid”NÚCŞÏpsibËWh™e¥aû
) const

933 
ASSERT
(
isEd™abËPos™iÚ
(*
this
));

934 ià(
isNuÎ
())

935  
Pos™iÚ
();

937 
VisibËPos™iÚ
 
v
(*
this
);

938 
UCh¬
 
	gc
 = 
v
.
ch¬aù”Aá”
();

940 ià(!
isEndOfP¬ag¿ph
(
v
è&& 
	gv
.
Ãxt
(
Œue
).
isNÙNuÎ
())

941 ià(
	gcÚsid”NÚCŞÏpsibËWh™e¥aû
 ? (
isS·ûOrNewlše
(
c
è|| 
	gc
 =ğ
noB»akS·û
è: 
isCŞÏpsibËWh™e¥aû
(c))

942  *
this
;

944  
Pos™iÚ
();

947 
	gPos™iÚ
::
g‘IÆšeBoxAndOff£t
(
EAffš™y
 
affš™y
, 
IÆšeBox
*& 
šlšeBox
, & 
ÿ»tOff£t
) const

949 
g‘IÆšeBoxAndOff£t
(
affš™y
, 
´im¬yDœeùiÚ
(), 
šlšeBox
, 
ÿ»tOff£t
);

952 
boŞ
 
isNÚTextL—fChd
(
R’d”Objeù
* 
objeù
)

954 ià(
	gobjeù
->
fœ¡Chd
())

955  
	gçl£
;

956 ià(
	gobjeù
->
isText
())

957  
	gçl£
;

958  
	gŒue
;

961 
IÆšeTextBox
* 
£¬chAh—dFÜB‘‹rM©ch
(
R’d”Objeù
* 
»nd””
)

963 
R’d”Block
* 
	gcÚš”
 = 
»nd””
->
cÚššgBlock
();

964 
R’d”Objeù
* 
	gÃxt
 = 
»nd””
;

965 (
	gÃxt
 = 
Ãxt
->
ÃxtInP»Ord”
(
cÚš”
))) {

966 ià(
Ãxt
->
isR’d”Block
())

968 ià(
	gÃxt
->
isBR
())

970 ià(
isNÚTextL—fChd
(
Ãxt
))

972 ià(
	gÃxt
->
isText
()) {

973 
IÆšeTextBox
* 
	gm©ch
 = 0;

974 
	gmšOff£t
 = 
INT_MAX
;

975 
IÆšeTextBox
* 
	gbox
 = 
toR’d”Text
(
Ãxt
)->
fœ¡TextBox
(); box; box = 
box
->
ÃxtTextBox
()) {

976 
ÿ»tMšOff£t
 = 
box
->caretMinOffset();

977 ià(
	gÿ»tMšOff£t
 < 
	gmšOff£t
) {

978 
	gm©ch
 = 
box
;

979 
	gmšOff£t
 = 
ÿ»tMšOff£t
;

982 ià(
	gm©ch
)

983  
	gm©ch
;

989 
	gPos™iÚ
::
g‘IÆšeBoxAndOff£t
(
EAffš™y
 
affš™y
, 
TextDœeùiÚ
 
´im¬yDœeùiÚ
, 
IÆšeBox
*& 
šlšeBox
, & 
ÿ»tOff£t
) const

991 
	gÿ»tOff£t
 = 
m_off£t
;

992 
R’d”Objeù
* 
	g»nd””
 = 
node
()->
»nd””
();

994 ià(!
	g»nd””
->
isText
()) {

995 ià(!
	g»nd””
->
isR’d”Bu‰Ú
(è&&„’d””->
isBlockFlow
(è&& 
hasR’d”edNÚAnÚymousDesûndªtsW™hHeight
(
»nd””
)) {

996 
boŞ
 
	gÏ¡Pos™iÚ
 = 
ÿ»tOff£t
 =ğ
Ï¡Off£tInNode
(
node
());

997 
Node
* 
	g¡¬tNode
 = 
Ï¡Pos™iÚ
 ? 
node
()->
chdNode
(
ÿ»tOff£t
 - 1) :‚ode()->childNode(caretOffset);

998 
	g¡¬tNode
 && (!¡¬tNode->
»nd””
(è|| (¡¬tNode->
isTextNode
(è&& 
toR’d”Text
(
¡¬tNode
->»nd””())->
isAÎCŞÏpsibËWh™e¥aû
())))

999 
	g¡¬tNode
 = (
Ï¡Pos™iÚ
)? 
¡¬tNode
->
´eviousSiblšg
(): s¹Node->
ÃxtSiblšg
();

1000 ià(
	g¡¬tNode
) {

1001 
Pos™iÚ
 
pos
(
¡¬tNode
, 0);

1002 
	gpos
 = 
pos
.
down¡»am
(
CªCrossEd™šgBound¬y
);

1003 
	gpos
.
g‘IÆšeBoxAndOff£t
(
UPSTREAM
, 
´im¬yDœeùiÚ
, 
šlšeBox
, 
ÿ»tOff£t
);

1004 ià(
	gÏ¡Pos™iÚ
 && 
	gšlšeBox
)

1005 
	gÿ»tOff£t
 = 
šlšeBox
->
ÿ»tMaxOff£t
();

1009 
	gšlšeBox
 = 0;

1010 ià(
	g»nd””
->
isBox
()) {

1011 
	gšlšeBox
 = 
toR’d”Box
(
»nd””
)->
šlšeBoxW¿µ”
();

1012 ià(!
	gšlšeBox
 || (
	gÿ»tOff£t
 > iÆšeBox->
ÿ»tMšOff£t
(è&& c¬‘Off£ˆ< iÆšeBox->
ÿ»tMaxOff£t
()))

1014 } ià(!
node
()->
isLšk
(è&&‚ode()->
isCÚ‹ÁEd™abË
()) {

1015 
Pos™iÚ
 
	gpos
 = 
pos™iÚInP¬’tBefÜeNode
(
node
()).
up¡»am
();

1016 
	gpos
.
g‘IÆšeBoxAndOff£t
(
DOWNSTREAM
, 
´im¬yDœeùiÚ
, 
šlšeBox
, 
ÿ»tOff£t
);

1020 
R’d”Text
* 
	g‹xtR’d””
 = 
toR’d”Text
(
»nd””
);

1022 
IÆšeTextBox
* 
	gbox
;

1023 
IÆšeTextBox
* 
	gÿndid©e
 = 0;

1025 
	gbox
 = 
‹xtR’d””
->
fœ¡TextBox
(); box; box = 
box
->
ÃxtTextBox
()) {

1026 
ÿ»tMšOff£t
 = 
box
->caretMinOffset();

1027 
	gÿ»tMaxOff£t
 = 
box
->
ÿ»tMaxOff£t
();

1029 ià(
	gÿ»tOff£t
 < 
	gÿ»tMšOff£t
 || c¬‘Off£ˆ> 
	gÿ»tMaxOff£t
 || (ÿ»tOff£ˆ=ğ
ÿ»tMaxOff£t
 && 
box
->
isLšeB»ak
()))

1032 ià(
	gÿ»tOff£t
 > 
	gÿ»tMšOff£t
 && c¬‘Off£ˆ< 
	gÿ»tMaxOff£t
) {

1033 
	gšlšeBox
 = 
box
;

1037 ià(((
	gÿ»tOff£t
 =ğ
ÿ»tMaxOff£t
è^ (
affš™y
 =ğ
DOWNSTREAM
))

1038 || ((
ÿ»tOff£t
 =ğ
ÿ»tMšOff£t
è^ (
affš™y
 =ğ
UPSTREAM
)))

1041 
	gÿndid©e
 = 
box
;

1043 ià(
	gÿndid©e
 && cªdid©=ğ
‹xtR’d””
->
Ï¡TextBox
(è&& 
affš™y
 =ğ
DOWNSTREAM
) {

1044 
box
 = 
£¬chAh—dFÜB‘‹rM©ch
(
‹xtR’d””
);

1045 ià(
	gbox
)

1046 
	gÿ»tOff£t
 = 
box
->
ÿ»tMšOff£t
();

1048 
	gšlšeBox
 = 
box
 ? box : 
ÿndid©e
;

1051 ià(!
	gšlšeBox
)

1054 
	gËv–
 = 
šlšeBox
->
bidiLev–
();

1056 ià(
	gšlšeBox
->
dœeùiÚ
(è=ğ
´im¬yDœeùiÚ
) {

1057 ià(
ÿ»tOff£t
 =ğ
šlšeBox
->
ÿ»tRightmo¡Off£t
()) {

1058 
IÆšeBox
* 
ÃxtBox
 = 
šlšeBox
->
ÃxtL—fChd
();

1059 ià(!
	gÃxtBox
 ||‚extBox->
bidiLev–
(è>ğ
Ëv–
)

1062 
	gËv–
 = 
ÃxtBox
->
bidiLev–
();

1063 
IÆšeBox
* 
	g´evBox
 = 
šlšeBox
;

1065 
	g´evBox
 = 
´evBox
->
´evL—fChd
();

1066 } 
	g´evBox
 &&…»vBox->
bidiLev–
(è> 
	gËv–
);

1068 ià(
	g´evBox
 &&…»vBox->
bidiLev–
(è=ğ
Ëv–
)

1072 
IÆšeBox
* 
	gÃxtBox
 = 
šlšeBox
->
ÃxtL—fChd
()) {

1073 ià(
ÃxtBox
->
bidiLev–
(è< 
Ëv–
)

1075 
	gšlšeBox
 = 
ÃxtBox
;

1077 
	gÿ»tOff£t
 = 
šlšeBox
->
ÿ»tRightmo¡Off£t
();

1079 
IÆšeBox
* 
	g´evBox
 = 
šlšeBox
->
´evL—fChd
();

1080 ià(!
	g´evBox
 ||…»vBox->
bidiLev–
(è>ğ
Ëv–
)

1083 
	gËv–
 = 
´evBox
->
bidiLev–
();

1084 
IÆšeBox
* 
	gÃxtBox
 = 
šlšeBox
;

1086 
	gÃxtBox
 = 
ÃxtBox
->
ÃxtL—fChd
();

1087 } 
	gÃxtBox
 &&‚extBox->
bidiLev–
(è> 
	gËv–
);

1089 ià(
	gÃxtBox
 &&‚extBox->
bidiLev–
(è=ğ
Ëv–
)

1092 
IÆšeBox
* 
	g´evBox
 = 
šlšeBox
->
´evL—fChd
()) {

1093 ià(
´evBox
->
bidiLev–
(è< 
Ëv–
)

1095 
	gšlšeBox
 = 
´evBox
;

1097 
	gÿ»tOff£t
 = 
šlšeBox
->
ÿ»tLeámo¡Off£t
();

1102 ià(
	gÿ»tOff£t
 =ğ
šlšeBox
->
ÿ»tLeámo¡Off£t
()) {

1103 
IÆšeBox
* 
´evBox
 = 
šlšeBox
->
´evL—fChd
();

1104 ià(!
	g´evBox
 ||…»vBox->
bidiLev–
(è< 
	gËv–
) {

1106 
IÆšeBox
* 
	gÃxtBox
 = 
šlšeBox
->
ÃxtL—fChd
()) {

1107 ià(
ÃxtBox
->
bidiLev–
(è< 
Ëv–
)

1109 
	gšlšeBox
 = 
ÃxtBox
;

1111 
	gÿ»tOff£t
 = 
šlšeBox
->
ÿ»tRightmo¡Off£t
();

1112 } ià(
	g´evBox
->
bidiLev–
(è> 
	gËv–
) {

1114 
IÆšeBox
* 
	g‹¹ŸryBox
 = 
šlšeBox
->
´evL—fChd
()) {

1115 ià(
‹¹ŸryBox
->
bidiLev–
(è<ğ
Ëv–
)

1117 
	gšlšeBox
 = 
‹¹ŸryBox
;

1119 
	gÿ»tOff£t
 = 
šlšeBox
->
ÿ»tLeámo¡Off£t
();

1122 
IÆšeBox
* 
	gÃxtBox
 = 
šlšeBox
->
ÃxtL—fChd
();

1123 ià(!
	gÃxtBox
 ||‚extBox->
bidiLev–
(è< 
	gËv–
) {

1125 
IÆšeBox
* 
	g´evBox
 = 
šlšeBox
->
´evL—fChd
()) {

1126 ià(
´evBox
->
bidiLev–
(è< 
Ëv–
)

1128 
	gšlšeBox
 = 
´evBox
;

1130 
	gÿ»tOff£t
 = 
šlšeBox
->
ÿ»tLeámo¡Off£t
();

1131 } ià(
	gÃxtBox
->
bidiLev–
(è> 
	gËv–
) {

1133 
IÆšeBox
* 
	g‹¹ŸryBox
 = 
šlšeBox
->
ÃxtL—fChd
()) {

1134 ià(
‹¹ŸryBox
->
bidiLev–
(è<ğ
Ëv–
)

1136 
	gšlšeBox
 = 
‹¹ŸryBox
;

1138 
	gÿ»tOff£t
 = 
šlšeBox
->
ÿ»tRightmo¡Off£t
();

1143 
TextDœeùiÚ
 
	gPos™iÚ
::
´im¬yDœeùiÚ
() const

1145 
TextDœeùiÚ
 
´im¬yDœeùiÚ
 = 
LTR
;

1146 cÚ¡ 
R’d”Objeù
* 
	gr
 = 
m_ªchÜNode
->
»nd””
();„;„ = 
r
->
·»Á
()) {

1147 ià(
r
->
isBlockFlow
()) {

1148 
´im¬yDœeùiÚ
 = 
r
->
¡yË
()->
dœeùiÚ
();

1153  
	g´im¬yDœeùiÚ
;

1157 
	gPos™iÚ
::
debugPos™iÚ
(cÚ¡ * 
msg
) const

1159 ià(
isNuÎ
())

1160 
årštf
(
¡d”r
, "Pos™iÚ [%s]:‚uÎ\n", 
msg
);

1162 
årštf
(
¡d”r
, "Pos™iÚ [%s]: % [%p]‡ˆ%d\n", 
msg
, 
node
()->
nodeName
().
utf8
().
d©a
(),‚ode(), 
m_off£t
);

1165 #iâdeà
NDEBUG


1167 
	gPos™iÚ
::
fÜm©FÜDebugg”
(* 
bufãr
, 
Ëngth
) const

1169 
SŒšg
 
	g»suÉ
;

1171 ià(
isNuÎ
())

1172 
	g»suÉ
 = "<null>";

1174 
	gs
[1024];

1175 
	g»suÉ
 += "offset ";

1176 
	g»suÉ
 +ğ
SŒšg
::
numb”
(
m_off£t
);

1177 
	g»suÉ
 += " of ";

1178 
node
()->
fÜm©FÜDebugg”
(
s
, (s));

1179 
	g»suÉ
 +ğ
s
;

1182 
¡ºıy
(
bufãr
, 
»suÉ
.
utf8
().
d©a
(), 
Ëngth
 - 1);

1185 
	gPos™iÚ
::
showT»eFÜThis
() const

1187 ià(
node
()) {

1188 
node
()->
showT»eFÜThis
();

1189 
årštf
(
¡d”r
, "off£t: %d\n", 
m_off£t
);

1199 #iâdeà
NDEBUG


1201 
showT»e
(cÚ¡ 
WebCÜe
::
Pos™iÚ
& 
pos
)

1203 
pos
.
showT»eFÜThis
();

1206 
showT»e
(cÚ¡ 
WebCÜe
::
Pos™iÚ
* 
pos
)

1208 ià(
pos
)

1209 
pos
->
showT»eFÜThis
();

	@Position.h

26 #iâdeà
Pos™iÚ_h


27 
	#Pos™iÚ_h


	)

29 
	~"TextAffš™y.h
"

30 
	~"TextDœeùiÚ.h
"

31 
	~"Node.h
"

32 
	~<wtf/As£¹iÚs.h
>

33 
	~<wtf/PassRefPŒ.h
>

34 
	~<wtf/RefPŒ.h
>

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gCSSCompu‹dStyËDeş¬©iÚ
;

39 
şass
 
	gEËm’t
;

40 
şass
 
	gIÆšeBox
;

41 
şass
 
	gNode
;

42 
şass
 
	gRªge
;

43 
şass
 
	gR’d”Objeù
;

45 
	ePos™iÚMoveTy³
 {

46 
	gCodePošt
,

47 
	gCh¬aù”
,

48 
	gBackw¬dD–‘iÚ


51 şas 
	cPos™iÚ
 {

52 
	gpublic
:

53 
	eAnchÜTy³
 {

54 
Pos™iÚIsOff£tInAnchÜ
,

55 
	gPos™iÚIsAá”AnchÜ
,

56 
	gPos™iÚIsBefÜeAnchÜ


59 
	eEd™šgBound¬yCrossšgRuË
 {

60 
	gCªCrossEd™šgBound¬y
,

61 
	gCªnÙCrossEd™šgBound¬y


64 
Pos™iÚ
()

65 : 
m_off£t
(0)

66 , 
m_ªchÜTy³
(
Pos™iÚIsOff£tInAnchÜ
)

67 , 
m_isLegacyEd™šgPos™iÚ
(
çl£
)

72 
Pos™iÚ
(
PassRefPŒ
<
Node
> 
ªchÜNode
, 
off£t
);

75 
Pos™iÚ
(
PassRefPŒ
<
Node
> 
ªchÜNode
, 
AnchÜTy³
);

77 
Pos™iÚ
(
PassRefPŒ
<
Node
> 
ªchÜNode
, 
off£t
, 
AnchÜTy³
);

79 
AnchÜTy³
 
ªchÜTy³
(ècÚ¡ {  
	g¡©ic_ÿ¡
<
	gAnchÜTy³
>(
	gm_ªchÜTy³
); }

81 
ş—r
(è{ 
	gm_ªchÜNode
.ş—r(); 
	gm_off£t
 = 0; 
	gm_ªchÜTy³
 = 
Pos™iÚIsOff£tInAnchÜ
; 
	gm_isLegacyEd™šgPos™iÚ
 = 
çl£
; }

85 
Node
* 
cÚš”Node
() const;

86 
compu‹Off£tInCÚš”Node
() const;

89 
off£tInCÚš”Node
() const

91 
ASSERT
(
ªchÜTy³
(è=ğ
Pos™iÚIsOff£tInAnchÜ
);

92  
	gm_off£t
;

96 
d•»ÿ‹dEd™šgOff£t
() const

99  
	gm_off£t
;

103 
Node
* 
compu‹NodeBefÜePos™iÚ
() const;

104 
Node
* 
compu‹NodeAá”Pos™iÚ
() const;

106 
Node
* 
ªchÜNode
(ècÚ¡ {  
	gm_ªchÜNode
.
g‘
(); }

111 
Node
* 
node
(ècÚ¡ {  
	gm_ªchÜNode
.
g‘
(); }

115 
moveToPos™iÚ
(
PassRefPŒ
<
Node
> 
ªchÜNode
, 
off£t
);

116 
moveToOff£t
(
off£t
);

118 
boŞ
 
isNuÎ
(ècÚ¡ {  !
	gm_ªchÜNode
; }

119 
boŞ
 
isNÙNuÎ
(ècÚ¡ {  
	gm_ªchÜNode
; }

121 
EËm’t
* 
–em’t
() const;

122 
	gPassRefPŒ
<
	gCSSCompu‹dStyËDeş¬©iÚ
> 
compu‹dStyË
() const;

127 
Pos™iÚ
 
´evious
(
Pos™iÚMoveTy³
 = 
CodePošt
) const;

128 
Pos™iÚ
 
Ãxt
(
Pos™iÚMoveTy³
 = 
CodePošt
) const;

129 
uncheckedP»viousOff£t
(cÚ¡ 
Node
*, 
cu¼’t
);

130 
uncheckedP»viousOff£tFÜBackw¬dD–‘iÚ
(cÚ¡ 
Node
*, 
cu¼’t
);

131 
uncheckedNextOff£t
(cÚ¡ 
Node
*, 
cu¼’t
);

135 
boŞ
 
©Fœ¡Ed™šgPos™iÚFÜNode
() const;

136 
boŞ
 
©La¡Ed™šgPos™iÚFÜNode
() const;

139 
boŞ
 
©Ed™šgBound¬y
() const;

141 
boŞ
 
©S¹OfT»e
() const;

142 
boŞ
 
©EndOfT»e
() const;

146 
Pos™iÚ
 
ËadšgWh™e¥aûPos™iÚ
(
EAffš™y
, 
boŞ
 
cÚsid”NÚCŞÏpsibËWh™e¥aû
 = 
çl£
) const;

147 
Pos™iÚ
 
ŒašgWh™e¥aûPos™iÚ
(
EAffš™y
, 
boŞ
 
cÚsid”NÚCŞÏpsibËWh™e¥aû
 = 
çl£
) const;

150 
Pos™iÚ
 
up¡»am
(
Ed™šgBound¬yCrossšgRuË
 = 
CªnÙCrossEd™šgBound¬y
) const;

151 
Pos™iÚ
 
down¡»am
(
Ed™šgBound¬yCrossšgRuË
 = 
CªnÙCrossEd™šgBound¬y
) const;

153 
boŞ
 
isCªdid©e
() const;

154 
boŞ
 
šR’d”edText
() const;

155 
boŞ
 
isR’d”edCh¬aù”
() const;

156 
boŞ
 
»nd”sInDifã»ÁPos™iÚ
(cÚ¡ 
Pos™iÚ
&) const;

158 
g‘IÆšeBoxAndOff£t
(
EAffš™y
, 
IÆšeBox
*&, & 
ÿ»tOff£t
) const;

159 
g‘IÆšeBoxAndOff£t
(
EAffš™y
, 
TextDœeùiÚ
 
´im¬yDœeùiÚ
, 
IÆšeBox
*&, & 
ÿ»tOff£t
) const;

161 
TextDœeùiÚ
 
´im¬yDœeùiÚ
() const;

163 
boŞ
 
hasR’d”edNÚAnÚymousDesûndªtsW™hHeight
(
R’d”Objeù
*);

164 
boŞ
 
nodeIsU£rS–eùNÚe
(
Node
*);

166 
debugPos™iÚ
(cÚ¡ * 
msg
 = "") const;

168 #iâdeà
NDEBUG


169 
fÜm©FÜDebugg”
(* 
bufãr
, 
Ëngth
) const;

170 
showT»eFÜThis
() const;

173 
	g´iv©e
:

174 
»nd”edOff£t
() const;

176 
Pos™iÚ
 
´eviousCh¬aù”Pos™iÚ
(
EAffš™y
) const;

177 
Pos™iÚ
 
ÃxtCh¬aù”Pos™iÚ
(
EAffš™y
) const;

179 
AnchÜTy³
 
ªchÜTy³FÜLegacyEd™šgPos™iÚ
(
Node
* 
ªchÜNode
, 
off£t
);

181 
	gRefPŒ
<
	gNode
> 
	gm_ªchÜNode
;

185 
	gm_off£t
;

186 
	gm_ªchÜTy³
 : 2;

187 
boŞ
 
	gm_isLegacyEd™šgPos™iÚ
 : 1;

190 
šlše
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Pos™iÚ
& 
a
, cÚ¡ 
	gPos™iÚ
& 
	gb
)

194  
	ga
.
ªchÜNode
(è=ğ
b
.ªchÜNode(è&& 
a
.
d•»ÿ‹dEd™šgOff£t
() == b.deprecatedEditingOffset();

197 
šlše
 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Pos™iÚ
& 
a
, cÚ¡ 
	gPos™iÚ
& 
	gb
)

199  !(
	ga
 =ğ
b
);

206 
šlše
 
Pos™iÚ
 
	$pos™iÚInP¬’tBefÜeNode
(cÚ¡ 
Node
* 
node
)

212  
	`Pos™iÚ
(
node
->
	`·»ÁNode
(),‚ode->
	`nodeIndex
(), 
Pos™iÚ
::
Pos™iÚIsOff£tInAnchÜ
);

213 
	}
}

215 
šlše
 
Pos™iÚ
 
	$pos™iÚInP¬’tAá”Node
(cÚ¡ 
Node
* 
node
)

217 
	`ASSERT
(
node
->
	`·»ÁNode
());

218  
	`Pos™iÚ
(
node
->
	`·»ÁNode
(),‚ode->
	`nodeIndex
(è+ 1, 
Pos™iÚ
::
Pos™iÚIsOff£tInAnchÜ
);

219 
	}
}

222 
šlše
 
Pos™iÚ
 
	$pos™iÚBefÜeNode
(
Node
* 
ªchÜNode
)

224 
	`ASSERT
(
ªchÜNode
);

225  
	`Pos™iÚ
(
ªchÜNode
, 
Pos™iÚ
::
Pos™iÚIsBefÜeAnchÜ
);

226 
	}
}

228 
šlše
 
Pos™iÚ
 
	$pos™iÚAá”Node
(
Node
* 
ªchÜNode
)

230 
	`ASSERT
(
ªchÜNode
);

231  
	`Pos™iÚ
(
ªchÜNode
, 
Pos™iÚ
::
Pos™iÚIsAá”AnchÜ
);

232 
	}
}

234 
šlše
 
	$Ï¡Off£tInNode
(
Node
* 
node
)

236  
node
->
	`off£tInCh¬aù”s
(è?‚ode->
	`maxCh¬aù”Off£t
(è:‚ode->
	`chdNodeCouÁ
();

237 
	}
}

240 
šlše
 
Pos™iÚ
 
	$fœ¡Pos™iÚInNode
(
Node
* 
ªchÜNode
)

242  
	`Pos™iÚ
(
ªchÜNode
, 0, 
Pos™iÚ
::
Pos™iÚIsOff£tInAnchÜ
);

243 
	}
}

245 
šlše
 
Pos™iÚ
 
	$Ï¡Pos™iÚInNode
(
Node
* 
ªchÜNode
)

247  
	`Pos™iÚ
(
ªchÜNode
, 
	`Ï¡Off£tInNode
×nchÜNode), 
Pos™iÚ
::
Pos™iÚIsOff£tInAnchÜ
);

248 
	}
}

252 #iâdeà
NDEBUG


254 
showT»e
(cÚ¡ 
WebCÜe
::
Pos™iÚ
&);

255 
showT»e
(cÚ¡ 
WebCÜe
::
Pos™iÚ
*);

	@PositionCreationFunctions.h

	@PositionIterator.cpp

26 
	~"cÚfig.h
"

27 
	~"Pos™iÚI‹¿tÜ.h
"

29 
	~"Node.h
"

30 
	~"R’d”Block.h
"

31 
	~"htmËd™šg.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 
usšg
 
Çme¥aû
 
	gHTMLNames
;

37 
	gPos™iÚI‹¿tÜ
::
İ”©Ü
 
Pos™iÚ
() const

39 ià(
m_nodeAá”Pos™iÚInAnchÜ
) {

40 
ASSERT
(
m_nodeAá”Pos™iÚInAnchÜ
->
·»ÁNode
(è=ğ
m_ªchÜNode
);

41  
pos™iÚInP¬’tBefÜeNode
(
m_nodeAá”Pos™iÚInAnchÜ
);

43 ià(
	gm_ªchÜNode
->
hasChdNodes
())

44  
Ï¡D“pEd™šgPos™iÚFÜNode
(
m_ªchÜNode
);

45  
Pos™iÚ
(
m_ªchÜNode
, 
m_off£tInAnchÜ
);

48 
	gPos™iÚI‹¿tÜ
::
šüem’t
()

50 ià(!
m_ªchÜNode
)

53 ià(
	gm_nodeAá”Pos™iÚInAnchÜ
) {

54 
	gm_ªchÜNode
 = 
m_nodeAá”Pos™iÚInAnchÜ
;

55 
	gm_nodeAá”Pos™iÚInAnchÜ
 = 
m_ªchÜNode
->
fœ¡Chd
();

56 
	gm_off£tInAnchÜ
 = 0;

60 ià(!
	gm_ªchÜNode
->
hasChdNodes
(è&& 
	gm_off£tInAnchÜ
 < 
Ï¡Off£tFÜEd™šg
(
m_ªchÜNode
))

61 
	gm_off£tInAnchÜ
 = 
Pos™iÚ
::
uncheckedNextOff£t
(
m_ªchÜNode
, 
m_off£tInAnchÜ
);

63 
	gm_nodeAá”Pos™iÚInAnchÜ
 = 
m_ªchÜNode
;

64 
	gm_ªchÜNode
 = 
m_nodeAá”Pos™iÚInAnchÜ
->
·»ÁNode
();

65 
	gm_nodeAá”Pos™iÚInAnchÜ
 = 
m_nodeAá”Pos™iÚInAnchÜ
->
ÃxtSiblšg
();

66 
	gm_off£tInAnchÜ
 = 0;

70 
	gPos™iÚI‹¿tÜ
::
deüem’t
()

72 ià(!
m_ªchÜNode
)

75 ià(
	gm_nodeAá”Pos™iÚInAnchÜ
) {

76 
	gm_ªchÜNode
 = 
m_nodeAá”Pos™iÚInAnchÜ
->
´eviousSiblšg
();

77 ià(
	gm_ªchÜNode
) {

78 
	gm_nodeAá”Pos™iÚInAnchÜ
 = 0;

79 
	gm_off£tInAnchÜ
 = 
m_ªchÜNode
->
hasChdNodes
(è? 0 : 
Ï¡Off£tFÜEd™šg
(m_anchorNode);

81 
	gm_nodeAá”Pos™iÚInAnchÜ
 = 
m_nodeAá”Pos™iÚInAnchÜ
->
·»ÁNode
();

82 
	gm_ªchÜNode
 = 
m_nodeAá”Pos™iÚInAnchÜ
->
·»ÁNode
();

83 
	gm_off£tInAnchÜ
 = 0;

88 ià(
	gm_off£tInAnchÜ
) {

89 
	gm_off£tInAnchÜ
 = 
Pos™iÚ
::
uncheckedP»viousOff£t
(
m_ªchÜNode
, 
m_off£tInAnchÜ
);

91 ià(
	gm_ªchÜNode
->
hasChdNodes
()) {

92 
	gm_ªchÜNode
 = 
m_ªchÜNode
->
Ï¡Chd
();

93 ià(!
	gm_ªchÜNode
->
hasChdNodes
())

94 
	gm_off£tInAnchÜ
 = 
Ï¡Off£tFÜEd™šg
(
m_ªchÜNode
);

96 
	gm_nodeAá”Pos™iÚInAnchÜ
 = 
m_ªchÜNode
;

97 
	gm_ªchÜNode
 = 
m_ªchÜNode
->
·»ÁNode
();

102 
boŞ
 
	gPos™iÚI‹¿tÜ
::
©S¹
() const

104 ià(!
m_ªchÜNode
)

105  
Œue
;

106 ià(
	gm_ªchÜNode
->
·»ÁNode
())

107  
	gçl£
;

108  (!
	gm_ªchÜNode
->
hasChdNodes
(è&& !
	gm_off£tInAnchÜ
è|| (
	gm_nodeAá”Pos™iÚInAnchÜ
 && !m_nodeAá”Pos™iÚInAnchÜ->
´eviousSiblšg
());

111 
boŞ
 
	gPos™iÚI‹¿tÜ
::
©End
() const

113 ià(!
m_ªchÜNode
)

114  
Œue
;

115 ià(
	gm_nodeAá”Pos™iÚInAnchÜ
)

116  
	gçl£
;

117  !
	gm_ªchÜNode
->
·»ÁNode
(è&& (m_ªchÜNode->
hasChdNodes
(è|| 
	gm_off£tInAnchÜ
 >ğ
Ï¡Off£tFÜEd™šg
(
m_ªchÜNode
));

120 
boŞ
 
	gPos™iÚI‹¿tÜ
::
©S¹OfNode
() const

122 ià(!
m_ªchÜNode
)

123  
Œue
;

124 ià(!
	gm_nodeAá”Pos™iÚInAnchÜ
)

125  !
	gm_ªchÜNode
->
hasChdNodes
(è&& !
	gm_off£tInAnchÜ
;

126  !
	gm_nodeAá”Pos™iÚInAnchÜ
->
´eviousSiblšg
();

129 
boŞ
 
	gPos™iÚI‹¿tÜ
::
©EndOfNode
() const

131 ià(!
m_ªchÜNode
)

132  
Œue
;

133 ià(
	gm_nodeAá”Pos™iÚInAnchÜ
)

134  
	gçl£
;

135  
	gm_ªchÜNode
->
hasChdNodes
(è|| 
	gm_off£tInAnchÜ
 >ğ
Ï¡Off£tFÜEd™šg
(
m_ªchÜNode
);

138 
boŞ
 
	gPos™iÚI‹¿tÜ
::
isCªdid©e
() const

140 ià(!
m_ªchÜNode
)

141  
çl£
;

143 
R’d”Objeù
* 
	g»nd””
 = 
m_ªchÜNode
->
»nd””
();

144 ià(!
	g»nd””
)

145  
	gçl£
;

147 ià(
	g»nd””
->
¡yË
()->
visib™y
(è!ğ
VISIBLE
)

148  
çl£
;

150 ià(
	g»nd””
->
isBR
())

151  !
	gm_off£tInAnchÜ
 && !
	gPos™iÚ
::
nodeIsU£rS–eùNÚe
(
m_ªchÜNode
->
·»Á
());

153 ià(
	g»nd””
->
isText
())

154  
Pos™iÚ
(*
this
).
šR’d”edText
(è&& !
	gPos™iÚ
::
nodeIsU£rS–eùNÚe
(
m_ªchÜNode
);

156 ià(
isTabËEËm’t
(
m_ªchÜNode
è|| 
ed™šgIgnÜesCÚ‹Á
(m_anchorNode))

157  (
©S¹OfNode
(è|| 
©EndOfNode
()è&& !
	gPos™iÚ
::
nodeIsU£rS–eùNÚe
(
m_ªchÜNode
->
·»Á
());

159 ià(!
	gm_ªchÜNode
->
hasTagName
(
htmlTag
è&& 
	g»nd””
->
isBlockFlow
()) {

160 ià(
toR’d”Block
(
»nd””
)->
height
(è|| 
	gm_ªchÜNode
->
hasTagName
(
bodyTag
)) {

161 ià(!
	gPos™iÚ
::
hasR’d”edNÚAnÚymousDesûndªtsW™hHeight
(
»nd””
))

162  
©S¹OfNode
(è&& !
Pos™iÚ
::
nodeIsU£rS–eùNÚe
(
m_ªchÜNode
);

163  
	gm_ªchÜNode
->
isCÚ‹ÁEd™abË
(è&& !
	gPos™iÚ
::
nodeIsU£rS–eùNÚe
(
m_ªchÜNode
è&& 
Pos™iÚ
(*
this
).
©Ed™šgBound¬y
();

167  
	gçl£
;

	@PositionIterator.h

26 #iâdeà
Pos™iÚI‹¿tÜ_h


27 
	#Pos™iÚI‹¿tÜ_h


	)

29 
	~"Node.h
"

30 
	~"Pos™iÚ.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

37 şas 
	cPos™iÚI‹¿tÜ
 {

38 
	gpublic
:

39 
Pos™iÚI‹¿tÜ
()

40 : 
m_ªchÜNode
(0)

41 , 
m_nodeAá”Pos™iÚInAnchÜ
(0)

42 , 
m_off£tInAnchÜ
(0)

46 
Pos™iÚI‹¿tÜ
(cÚ¡ 
Pos™iÚ
& 
pos
)

47 : 
m_ªchÜNode
(
pos
.
ªchÜNode
())

48 , 
m_nodeAá”Pos™iÚInAnchÜ
(
m_ªchÜNode
->
chdNode
(
pos
.
d•»ÿ‹dEd™šgOff£t
()))

49 , 
m_off£tInAnchÜ
(
m_nodeAá”Pos™iÚInAnchÜ
 ? 0 : 
pos
.
d•»ÿ‹dEd™šgOff£t
())

52 
İ”©Ü
 
Pos™iÚ
() const;

54 
šüem’t
();

55 
deüem’t
();

57 
Node
* 
node
(ècÚ¡ {  
	gm_ªchÜNode
; }

58 
off£tInL—fNode
(ècÚ¡ {  
	gm_off£tInAnchÜ
; }

60 
boŞ
 
©S¹
() const;

61 
boŞ
 
©End
() const;

62 
boŞ
 
©S¹OfNode
() const;

63 
boŞ
 
©EndOfNode
() const;

64 
boŞ
 
isCªdid©e
() const;

66 
	g´iv©e
:

67 
Node
* 
m_ªchÜNode
;

68 
Node
* 
	gm_nodeAá”Pos™iÚInAnchÜ
;

69 
	gm_off£tInAnchÜ
;

	@ProcessingInstruction.cpp

21 
	~"cÚfig.h
"

22 
	~"ProûssšgIn¡ruùiÚ.h
"

24 
	~"CSSStyËSh“t.h
"

25 
	~"CachedCSSStyËSh“t.h
"

26 
	~"CachedXSLStyËSh“t.h
"

27 
	~"Docum’t.h
"

28 
	~"DocLßd”.h
"

29 
	~"Exû±iÚCode.h
"

30 
	~"F¿me.h
"

31 
	~"F¿meLßd”.h
"

32 
	~"XSLStyËSh“t.h
"

33 
	~"XMLTok’iz”.h
"

34 
	~"MedŸLi¡.h
"

36 
Çme¥aû
 
	gWebCÜe
 {

38 
šlše
 
	gProûssšgIn¡ruùiÚ
::
ProûssšgIn¡ruùiÚ
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
rg‘
, cÚ¡ SŒšg& 
d©a
)

39 : 
CÚš”Node
(
docum’t
)

40 , 
m_rg‘
(
rg‘
)

41 , 
m_d©a
(
d©a
)

42 , 
m_ÿchedSh“t
(0)

43 , 
m_lßdšg
(
çl£
)

44 , 
m_®‹º©e
(
çl£
)

45 , 
m_ü—‹dByP¬£r
(
çl£
)

46 #ià
ENABLE
(
XSLT
)

47 , 
m_isXSL
(
çl£
)

52 
	gPassRefPŒ
<
	gProûssšgIn¡ruùiÚ
> ProûssšgIn¡ruùiÚ::
ü—‹
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
rg‘
, cÚ¡ SŒšg& 
d©a
)

54  
adİtRef
(
Ãw
 
ProûssšgIn¡ruùiÚ
(
docum’t
, 
rg‘
, 
d©a
));

57 
	gProûssšgIn¡ruùiÚ
::~
ProûssšgIn¡ruùiÚ
()

59 ià(
m_ÿchedSh“t
)

60 
m_ÿchedSh“t
->
»moveCl›Á
(
this
);

63 
	gProûssšgIn¡ruùiÚ
::
£tD©a
(cÚ¡ 
SŒšg
& 
d©a
, 
Exû±iÚCode
&)

65 
	gŞdL’gth
 = 
m_d©a
.
Ëngth
();

66 
	gm_d©a
 = 
d©a
;

67 
docum’t
()->
‹xtRemoved
(
this
, 0, 
ŞdL’gth
);

68 
checkStyËSh“t
();

71 
SŒšg
 
	gProûssšgIn¡ruùiÚ
::
nodeName
() const

73  
m_rg‘
;

76 
	gNode
::
NodeTy³
 
ProûssšgIn¡ruùiÚ
::
nodeTy³
() const

78  
PROCESSING_INSTRUCTION_NODE
;

81 
SŒšg
 
	gProûssšgIn¡ruùiÚ
::
nodeV®ue
() const

83  
m_d©a
;

86 
	gProûssšgIn¡ruùiÚ
::
£tNodeV®ue
(cÚ¡ 
SŒšg
& 
nodeV®ue
, 
Exû±iÚCode
& 
ec
)

89 
£tD©a
(
nodeV®ue
, 
ec
);

92 
	gPassRefPŒ
<
	gNode
> 
	gProûssšgIn¡ruùiÚ
::
şÚeNode
(
boŞ
 )

96  
ü—‹
(
docum’t
(), 
m_rg‘
, 
m_d©a
);

100 
boŞ
 
	gProûssšgIn¡ruùiÚ
::
chdTy³AÎowed
(
NodeTy³
)

102  
çl£
;

105 
	gProûssšgIn¡ruùiÚ
::
checkStyËSh“t
()

107 ià(
m_rg‘
 =ğ"xml-¡yËsh“t" && 
docum’t
()->
äame
(è&& 
·»ÁNode
() == document()) {

111 
boŞ
 
©ŒsOk
;

112 cÚ¡ 
	gHashM­
<
	gSŒšg
, SŒšg> 
	g©Œs
 = 
·r£A‰ribu‹s
(
m_d©a
, 
©ŒsOk
);

113 ià(!
	g©ŒsOk
)

115 
	gHashM­
<
	gSŒšg
, SŒšg>::
cÚ¡_™”©Ü
 
i
 = 
©Œs
.
fšd
("type");

116 
SŒšg
 
	gty³
;

117 ià(
	gi
 !ğ
©Œs
.
’d
())

118 
ty³
 = 
i
->
£cÚd
;

120 
boŞ
 
	gisCSS
 = 
ty³
.
isEm±y
() ||ype == "text/css";

121 #ià
ENABLE
(
XSLT
)

122 
	gm_isXSL
 = (
ty³
 == "text/xml" ||ype == "text/xsl" ||ype == "application/xml" ||

123 
ty³
 == "application/xhtml+xml" ||ype == "application/rss+xml" ||ype == "application/atom+xml");

124 ià(!
	gisCSS
 && !
	gm_isXSL
)

126 ià(!
	gisCSS
)

130 
SŒšg
 
	gh»f
 = 
©Œs
.
g‘
("href");

131 
SŒšg
 
	g®‹º©e
 = 
©Œs
.
g‘
("alternate");

132 
	gm_®‹º©e
 = 
®‹º©e
 == "yes";

133 
	gm_t™Ë
 = 
©Œs
.
g‘
("title");

134 
	gm_medŸ
 = 
©Œs
.
g‘
("media");

136 ià(
	gh»f
.
Ëngth
() > 1 && href[0] == '#') {

137 
m_loÿlH»f
 = 
h»f
.
sub¡ršg
(1);

138 #ià
ENABLE
(
XSLT
)

141 ià(
	gm_isXSL
) {

142 
KURL
 
fš®URL
(
P¬£dURLSŒšg
, 
m_loÿlH»f
);

143 
	gm_sh“t
 = 
XSLStyËSh“t
::
ü—‹IÆše
(
this
, 
fš®URL
);

144 
	gm_lßdšg
 = 
çl£
;

148 ià(
	gm_ÿchedSh“t
) {

149 
	gm_ÿchedSh“t
->
»moveCl›Á
(
this
);

150 
	gm_ÿchedSh“t
 = 0;

153 
SŒšg
 
	gu¾
 = 
docum’t
()->
com¶‘eURL
(
h»f
).
¡ršg
();

154 ià(!
di¥©chBefÜeLßdEv’t
(
u¾
))

157 
	gm_lßdšg
 = 
Œue
;

158 
docum’t
()->
addP’dšgSh“t
();

160 #ià
ENABLE
(
XSLT
)

161 ià(
	gm_isXSL
)

162 
	gm_ÿchedSh“t
 = 
docum’t
()->
docLßd”
()->
»que¡XSLStyËSh“t
(
u¾
);

166 
SŒšg
 
	gch¬£t
 = 
©Œs
.
g‘
("charset");

167 ià(
	gch¬£t
.
isEm±y
())

168 
	gch¬£t
 = 
docum’t
()->
äame
()->
lßd”
()->
’codšg
();

170 
	gm_ÿchedSh“t
 = 
docum’t
()->
docLßd”
()->
»que¡CSSStyËSh“t
(
u¾
, 
ch¬£t
);

172 ià(
	gm_ÿchedSh“t
)

173 
	gm_ÿchedSh“t
->
addCl›Á
(
this
);

176 
	gm_lßdšg
 = 
çl£
;

177 
docum’t
()->
»moveP’dšgSh“t
();

183 
boŞ
 
	gProûssšgIn¡ruùiÚ
::
isLßdšg
() const

185 ià(
m_lßdšg
)

186  
Œue
;

187 ià(!
	gm_sh“t
)

188  
	gçl£
;

189  
	gm_sh“t
->
isLßdšg
();

192 
boŞ
 
	gProûssšgIn¡ruùiÚ
::
sh“tLßded
()

194 ià(!
isLßdšg
()) {

195 
docum’t
()->
»moveP’dšgSh“t
();

196  
	gŒue
;

198  
	gçl£
;

201 
	gProûssšgIn¡ruùiÚ
::
£tCSSStyËSh“t
(cÚ¡ 
SŒšg
& 
h»f
, cÚ¡ 
KURL
& 
ba£URL
, cÚ¡ SŒšg& 
ch¬£t
, cÚ¡ 
CachedCSSStyËSh“t
* 
sh“t
)

203 #ià
ENABLE
(
XSLT
)

204 
ASSERT
(!
m_isXSL
);

206 
	gRefPŒ
<
	gCSSStyËSh“t
> 
	gÃwSh“t
 = 
CSSStyËSh“t
::
ü—‹
(
this
, 
h»f
, 
ba£URL
, 
ch¬£t
);

207 
	gm_sh“t
 = 
ÃwSh“t
;

211 
·r£StyËSh“t
(
sh“t
->
sh“tText
(
Œue
));

212 
	gÃwSh“t
->
£tT™Ë
(
m_t™Ë
);

213 
	gÃwSh“t
->
£tMedŸ
(
MedŸLi¡
::
ü—‹
(
ÃwSh“t
.
g‘
(), 
m_medŸ
));

214 
	gÃwSh“t
->
£tDi§bËd
(
m_®‹º©e
);

217 #ià
ENABLE
(
XSLT
)

218 
	gProûssšgIn¡ruùiÚ
::
£tXSLStyËSh“t
(cÚ¡ 
SŒšg
& 
h»f
, cÚ¡ 
KURL
& 
ba£URL
, cÚ¡ SŒšg& 
sh“t
)

220 
ASSERT
(
m_isXSL
);

221 
	gm_sh“t
 = 
XSLStyËSh“t
::
ü—‹
(
this
, 
h»f
, 
ba£URL
);

222 
·r£StyËSh“t
(
sh“t
);

226 
	gProûssšgIn¡ruùiÚ
::
·r£StyËSh“t
(cÚ¡ 
SŒšg
& 
sh“t
)

228 
m_sh“t
->
·r£SŒšg
(
sh“t
, 
Œue
);

229 ià(
	gm_ÿchedSh“t
)

230 
	gm_ÿchedSh“t
->
»moveCl›Á
(
this
);

231 
	gm_ÿchedSh“t
 = 0;

233 
	gm_lßdšg
 = 
çl£
;

234 
	gm_sh“t
->
checkLßded
();

237 
	gProûssšgIn¡ruùiÚ
::
£tCSSStyËSh“t
(
PassRefPŒ
<
CSSStyËSh“t
> 
sh“t
)

239 
ASSERT
(!
m_ÿchedSh“t
);

240 
ASSERT
(!
m_lßdšg
);

241 
	gm_sh“t
 = 
sh“t
;

242 
	gm_sh“t
->
£tT™Ë
(
m_t™Ë
);

243 
	gm_sh“t
->
£tDi§bËd
(
m_®‹º©e
);

246 
boŞ
 
	gProûssšgIn¡ruùiÚ
::
off£tInCh¬aù”s
() const

248  
Œue
;

251 
	gProûssšgIn¡ruùiÚ
::
maxCh¬aù”Off£t
() const

253  
¡©ic_ÿ¡
<>(
m_d©a
.
Ëngth
());

256 
	gProûssšgIn¡ruùiÚ
::
addSub»sourûA‰ribu‹URLs
(
Li¡HashS‘
<
KURL
>& 
u¾s
) const

258 ià(!
sh“t
())

261 
addSub»sourûURL
(
u¾s
, 
sh“t
()->
ba£URL
());

264 
	gProûssšgIn¡ruùiÚ
::
š£¹edIÁoDocum’t
()

266 
CÚš”Node
::
š£¹edIÁoDocum’t
();

267 
docum’t
()->
addStyËSh“tCªdid©eNode
(
this
, 
m_ü—‹dByP¬£r
);

268 
checkStyËSh“t
();

271 
	gProûssšgIn¡ruùiÚ
::
»movedFromDocum’t
()

273 
CÚš”Node
::
»movedFromDocum’t
();

275 
docum’t
()->
»moveStyËSh“tCªdid©eNode
(
this
);

278 ià(
	gm_ÿchedSh“t
)

279 
docum’t
()->
upd©eStyËS–eùÜ
();

282 
	gProûssšgIn¡ruùiÚ
::
fšishP¬sšgChd»n
()

284 
m_ü—‹dByP¬£r
 = 
çl£
;

285 
	gCÚš”Node
::
fšishP¬sšgChd»n
();

	@ProcessingInstruction.h

22 #iâdeà
ProûssšgIn¡ruùiÚ_h


23 
	#ProûssšgIn¡ruùiÚ_h


	)

25 
	~"CachedResourûCl›Á.h
"

26 
	~"CachedResourûHªdË.h
"

27 
	~"CÚš”Node.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 
şass
 
	gStyËSh“t
;

32 
şass
 
	gCSSStyËSh“t
;

34 
şass
 
	gProûssšgIn¡ruùiÚ
 : 
public
 
CÚš”Node
, 
´iv©e
 
	gCachedResourûCl›Á
 {

35 
	gpublic
:

36 
PassRefPŒ
<
ProûssšgIn¡ruùiÚ
> 
ü—‹
(
Docum’t
*, cÚ¡ 
SŒšg
& 
rg‘
, cÚ¡ SŒšg& 
d©a
);

37 
	gvœtu®
 ~
ProûssšgIn¡ruùiÚ
();

39 cÚ¡ 
	gSŒšg
& 
rg‘
(ècÚ¡ {  
	gm_rg‘
; }

40 cÚ¡ 
	gSŒšg
& 
d©a
(ècÚ¡ {  
	gm_d©a
; }

41 
£tD©a
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

43 
£tC»©edByP¬£r
(
boŞ
 
ü—‹dByP¬£r
è{ 
	gm_ü—‹dByP¬£r
 = createdByParser; }

45 
vœtu®
 
fšishP¬sšgChd»n
();

47 cÚ¡ 
	gSŒšg
& 
loÿlH»f
(ècÚ¡ {  
	gm_loÿlH»f
; }

48 
StyËSh“t
* 
sh“t
(ècÚ¡ {  
	gm_sh“t
.
g‘
(); }

49 
£tCSSStyËSh“t
(
PassRefPŒ
<
CSSStyËSh“t
>);

51 #ià
ENABLE
(
XSLT
)

52 
boŞ
 
isXSL
(ècÚ¡ {  
	gm_isXSL
; }

55 
	g´iv©e
:

56 
ProûssšgIn¡ruùiÚ
(
Docum’t
*, cÚ¡ 
SŒšg
& 
rg‘
, cÚ¡ SŒšg& 
d©a
);

58 
vœtu®
 
SŒšg
 
nodeName
() const;

59 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

60 
vœtu®
 
SŒšg
 
nodeV®ue
() const;

61 
vœtu®
 
£tNodeV®ue
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

62 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

63 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
);

64 
vœtu®
 
boŞ
 
off£tInCh¬aù”s
() const;

65 
vœtu®
 
maxCh¬aù”Off£t
() const;

67 
vœtu®
 
š£¹edIÁoDocum’t
();

68 
vœtu®
 
»movedFromDocum’t
();

70 
checkStyËSh“t
();

71 
vœtu®
 
£tCSSStyËSh“t
(cÚ¡ 
SŒšg
& 
h»f
, cÚ¡ 
KURL
& 
ba£URL
, cÚ¡ SŒšg& 
ch¬£t
, cÚ¡ 
CachedCSSStyËSh“t
*);

72 #ià
ENABLE
(
XSLT
)

73 
vœtu®
 
£tXSLStyËSh“t
(cÚ¡ 
SŒšg
& 
h»f
, cÚ¡ 
KURL
& 
ba£URL
, cÚ¡ SŒšg& 
sh“t
);

76 
boŞ
 
isLßdšg
() const;

77 
vœtu®
 
boŞ
 
sh“tLßded
();

79 
vœtu®
 
addSub»sourûA‰ribu‹URLs
(
Li¡HashS‘
<
KURL
>&) const;

81 
·r£StyËSh“t
(cÚ¡ 
SŒšg
& 
sh“t
);

83 
SŒšg
 
	gm_rg‘
;

84 
SŒšg
 
	gm_d©a
;

85 
SŒšg
 
	gm_loÿlH»f
;

86 
SŒšg
 
	gm_t™Ë
;

87 
SŒšg
 
	gm_medŸ
;

88 
	gCachedResourûHªdË
<
	gCachedResourû
> 
	gm_ÿchedSh“t
;

89 
	gRefPŒ
<
	gStyËSh“t
> 
	gm_sh“t
;

90 
boŞ
 
	gm_lßdšg
;

91 
boŞ
 
	gm_®‹º©e
;

92 
boŞ
 
	gm_ü—‹dByP¬£r
;

93 #ià
ENABLE
(
XSLT
)

94 
boŞ
 
	gm_isXSL
;

	@ProgressEvent.cpp

26 
	~"cÚfig.h
"

27 
	~"Prog»ssEv’t.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 
	gProg»ssEv’t
::
Prog»ssEv’t
()

32 : 
m_ËngthCompubË
(
çl£
)

33 , 
m_lßded
(0)

34 , 
m_tÙ®
(0)

38 
	gProg»ssEv’t
::
Prog»ssEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ËngthCompubË
, 
lßded
, 
tÙ®
)

39 : 
Ev’t
(
ty³
, 
çl£
, 
Œue
)

40 , 
m_ËngthCompubË
(
ËngthCompubË
)

41 , 
m_lßded
(
lßded
)

42 , 
m_tÙ®
(
tÙ®
)

46 
	gProg»ssEv’t
::
š™Prog»ssEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³Arg
,

47 
boŞ
 
ÿnBubbËArg
,

48 
boŞ
 
ÿnûÏbËArg
,

49 
boŞ
 
ËngthCompubËArg
,

50 
lßdedArg
,

51 
tÙ®Arg
)

53 ià(
di¥©ched
())

56 
š™Ev’t
(
ty³Arg
, 
ÿnBubbËArg
, 
ÿnûÏbËArg
);

58 
	gm_ËngthCompubË
 = 
ËngthCompubËArg
;

59 
	gm_lßded
 = 
lßdedArg
;

60 
	gm_tÙ®
 = 
tÙ®Arg
;

	@ProgressEvent.h

26 #iâdeà
Prog»ssEv’t_h


27 
	#Prog»ssEv’t_h


	)

29 
	~"Ev’t.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cProg»ssEv’t
 : 
public
 
Ev’t
 {

34 
public
:

35 
PassRefPŒ
<
Prog»ssEv’t
> 
ü—‹
()

37  
adİtRef
(
Ãw
 
Prog»ssEv’t
);

39 
	gPassRefPŒ
<
	gProg»ssEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ËngthCompubË
, 
lßded
, 
tÙ®
)

41  
adİtRef
(
Ãw
 
Prog»ssEv’t
(
ty³
, 
ËngthCompubË
, 
lßded
, 
tÙ®
));

44 
š™Prog»ssEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³Arg
,

45 
boŞ
 
ÿnBubbËArg
,

46 
boŞ
 
ÿnûÏbËArg
,

47 
boŞ
 
ËngthCompubËArg
,

48 
lßdedArg
,

49 
tÙ®Arg
);

51 
boŞ
 
ËngthCompubË
(ècÚ¡ {  
	gm_ËngthCompubË
; }

52 
lßded
(ècÚ¡ {  
	gm_lßded
; }

53 
tÙ®
(ècÚ¡ {  
	gm_tÙ®
; }

55 
vœtu®
 
boŞ
 
isProg»ssEv’t
(ècÚ¡ {  
	gŒue
; }

57 
	g´Ùeùed
:

58 
Prog»ssEv’t
();

59 
Prog»ssEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ËngthCompubË
, 
lßded
, 
tÙ®
);

61 
	g´iv©e
:

62 
boŞ
 
m_ËngthCompubË
;

63 
	gm_lßded
;

64 
	gm_tÙ®
;

	@QualifiedName.cpp

20 
	~"cÚfig.h
"

22 #ifdeà
SKIP_STATIC_CONSTRUCTORS_ON_GCC


23 
	#WEBCORE_QUALIFIEDNAME_HIDE_GLOBALS
 1

	)

25 
	#QNAME_DEFAULT_CONSTRUCTOR


	)

28 
	~"Qu®if›dName.h
"

29 
	~"SticCÚ¡ruùÜs.h
"

30 
	~<wtf/As£¹iÚs.h
>

31 
	~<wtf/HashS‘.h
>

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	gHashS‘
<
	tQu®if›dName
::
	tQu®if›dNameIm¶
*, 
	tQu®if›dNameHash
> 
	tQNameS‘
;

37 
	sQNameCompÚ’tsT¿n¦©Ü
 {

38 
hash
(cÚ¡ 
Qu®if›dNameCompÚ’ts
& 
compÚ’ts
)

40  
hashCompÚ’ts
(
compÚ’ts
);

42 
boŞ
 
equ®
(
Qu®if›dName
::
Qu®if›dNameIm¶
* 
Çme
, cÚ¡ 
Qu®if›dNameCompÚ’ts
& 
c
)

44  
	gc
.
	gm_´efix
 =ğ
Çme
->
m_´efix
.
im¶
(è&& 
c
.
m_loÿlName
 =ğÇme->m_loÿlName.im¶(è&& c.
m_Çme¥aû
 ==‚ame->m_namespace.impl();

46 
Œª¦©e
(
Qu®if›dName
::
Qu®if›dNameIm¶
*& 
loÿtiÚ
, cÚ¡ 
Qu®if›dNameCompÚ’ts
& 
compÚ’ts
, )

48 
	gloÿtiÚ
 = 
Qu®if›dName
::
Qu®if›dNameIm¶
::
ü—‹
(
compÚ’ts
.
m_´efix
, compÚ’ts.
m_loÿlName
, compÚ’ts.
m_Çme¥aû
).
»Ëa£Ref
();

52 
QNameS‘
* 
	ggNameCache
;

54 
	gQu®if›dName
::
š™
(cÚ¡ 
AtomicSŒšg
& 
p
, cÚ¡ AtomicSŒšg& 
l
, cÚ¡ AtomicSŒšg& 
n
)

56 ià(!
	ggNameCache
)

57 
	ggNameCache
 = 
Ãw
 
QNameS‘
;

58 
Qu®if›dNameCompÚ’ts
 
	gcompÚ’ts
 = { 
p
.
im¶
(), 
l
.im¶(), 
n
.
isEm±y
(è? 
nuÎAtom
.impl() :‚.impl() };

59 
	g·œ
<
	gQNameS‘
::
™”©Ü
, 
	gboŞ
> 
	gaddResuÉ
 = 
gNameCache
->
add
<
Qu®if›dNameCompÚ’ts
, 
	gQNameCompÚ’tsT¿n¦©Ü
>(
	gcompÚ’ts
);

60 
	gm_im¶
 = *
addResuÉ
.
fœ¡
;

61 ià(!
	gaddResuÉ
.
	g£cÚd
)

62 
	gm_im¶
->
»f
();

65 
	gQu®if›dName
::
Qu®if›dName
(cÚ¡ 
AtomicSŒšg
& 
p
, cÚ¡ AtomicSŒšg& 
l
, cÚ¡ AtomicSŒšg& 
n
)

67 
š™
(
p
, 
l
, 
n
);

70 
	gQu®if›dName
::
Qu®if›dName
(cÚ¡ 
AtomicSŒšg
& 
p
, cÚ¡ * 
l
, cÚ¡ AtomicSŒšg& 
n
)

72 
š™
(
p
, 
AtomicSŒšg
(
l
), 
n
);

75 
	gQu®if›dName
::
d”ef
()

77 #ifdeà
QNAME_DEFAULT_CONSTRUCTOR


78 ià(!
m_im¶
)

82 ià(
	gm_im¶
->
hasOÃRef
())

83 
	ggNameCache
->
»move
(
m_im¶
);

84 
	gm_im¶
->
d”ef
();

87 
SŒšg
 
	gQu®if›dName
::
toSŒšg
() const

89 
SŒšg
 
loÿl
 = 
loÿlName
();

90 ià(
hasP»fix
())

91  
´efix
(è+ ":" + 
	gloÿl
;

92  
	gloÿl
;

96 
DEFINE_GLOBAL
(
Qu®if›dName
, 
ªyName
, 
nuÎAtom
, 
¡¬Atom
, starAtom)

98 
	gQu®if›dName
::
š™
()

100 
boŞ
 
š™Ÿlized
;

101 ià(!
	gš™Ÿlized
) {

104 
	gAtomicSŒšg
::
š™
();

105 
Ãw
 ((*)&
ªyName
è
Qu®if›dName
(
nuÎAtom
, 
¡¬Atom
, starAtom);

106 
	gš™Ÿlized
 = 
Œue
;

110 cÚ¡ 
	gAtomicSŒšg
& 
	gQu®if›dName
::
loÿlNameUµ”
() const

112 ià(!
m_im¶
->
m_loÿlNameUµ”
)

113 
m_im¶
->
m_loÿlNameUµ”
 = m_im¶->
m_loÿlName
.
uµ”
();

114  
	gm_im¶
->
	gm_loÿlNameUµ”
;

	@QualifiedName.h

21 #iâdeà
Qu®if›dName_h


22 
	#Qu®if›dName_h


	)

24 
	~"AtomicSŒšg.h
"

25 
	~<wtf/HashT¿™s.h
>

27 
Çme¥aû
 
	gWebCÜe
 {

29 
	sQu®if›dNameCompÚ’ts
 {

30 
SŒšgIm¶
* 
	gm_´efix
;

31 
SŒšgIm¶
* 
	gm_loÿlName
;

32 
SŒšgIm¶
* 
	gm_Çme¥aû
;

35 şas 
	cQu®if›dName
 : 
public
 
Fa¡AÎocBa£
 {

36 
public
:

37 
şass
 
Qu®if›dNameIm¶
 : 
public
 
RefCouÁed
<QualifiedNameImpl> {

38 
public
:

39 
PassRefPŒ
<
Qu®if›dNameIm¶
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
´efix
, cÚ¡ AtomicSŒšg& 
loÿlName
, cÚ¡ AtomicSŒšg& 
Çme¥aûURI
)

41  
adİtRef
(
Ãw
 
Qu®if›dNameIm¶
(
´efix
, 
loÿlName
, 
Çme¥aûURI
));

44 cÚ¡ 
AtomicSŒšg
 
	gm_´efix
;

45 cÚ¡ 
AtomicSŒšg
 
	gm_loÿlName
;

46 cÚ¡ 
AtomicSŒšg
 
	gm_Çme¥aû
;

47 
mubË
 
AtomicSŒšg
 
	gm_loÿlNameUµ”
;

49 
	g´iv©e
:

50 
Qu®if›dNameIm¶
(cÚ¡ 
AtomicSŒšg
& 
´efix
, cÚ¡ AtomicSŒšg& 
loÿlName
, cÚ¡ AtomicSŒšg& 
Çme¥aûURI
)

51 : 
m_´efix
(
´efix
)

52 , 
m_loÿlName
(
loÿlName
)

53 , 
m_Çme¥aû
(
Çme¥aûURI
)

55 
ASSERT
(!
Çme¥aûURI
.
isEm±y
(è||‚ame¥aûURI.
isNuÎ
());

59 
Qu®if›dName
(cÚ¡ 
AtomicSŒšg
& 
´efix
, cÚ¡ AtomicSŒšg& 
loÿlName
, cÚ¡ AtomicSŒšg& 
Çme¥aûURI
);

60 
Qu®if›dName
(cÚ¡ 
AtomicSŒšg
& 
´efix
, cÚ¡ * 
loÿlName
, cÚ¡ AtomicSŒšg& 
Çme¥aûURI
);

61 ~
Qu®if›dName
(è{ 
d”ef
(); }

62 #ifdeà
QNAME_DEFAULT_CONSTRUCTOR


63 
Qu®if›dName
(è: 
m_im¶
(0) { }

66 
Qu®if›dName
(cÚ¡ Qu®if›dName& 
Ùh”
è: 
m_im¶
(Ùh”.m_im¶è{ 
»f
(); }

67 cÚ¡ 
	gQu®if›dName
& 
	gİ”©Ü
=(cÚ¡ 
Qu®if›dName
& 
Ùh”
è{ oth”.
»f
(); 
d”ef
(); 
	gm_im¶
 = oth”.
m_im¶
;  *
	gthis
; }

69 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Qu®if›dName
& 
Ùh”
ècÚ¡ {  
m_im¶
 == other.m_impl; }

70 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Qu®if›dName
& 
Ùh”
ècÚ¡ {  !(*
this
 == other); }

72 
boŞ
 
m©ches
(cÚ¡ 
Qu®if›dName
& 
Ùh”
ècÚ¡ {  
	gm_im¶
 =ğÙh”.
m_im¶
 || (
loÿlName
(è=ğÙh”.loÿlName(è&& 
Çme¥aûURI
() == other.namespaceURI()); }

74 
boŞ
 
hasP»fix
(ècÚ¡ {  
	gm_im¶
->
	gm_´efix
 !ğ
nuÎAtom
; }

75 
£tP»fix
(cÚ¡ 
AtomicSŒšg
& 
´efix
è{ *
	gthis
 = 
Qu®if›dName
Õ»fix, 
loÿlName
(), 
Çme¥aûURI
()); }

77 cÚ¡ 
	gAtomicSŒšg
& 
´efix
(ècÚ¡ {  
	gm_im¶
->
	gm_´efix
; }

78 cÚ¡ 
	gAtomicSŒšg
& 
loÿlName
(ècÚ¡ {  
	gm_im¶
->
	gm_loÿlName
; }

79 cÚ¡ 
	gAtomicSŒšg
& 
Çme¥aûURI
(ècÚ¡ {  
	gm_im¶
->
	gm_Çme¥aû
; }

82 cÚ¡ 
	gAtomicSŒšg
& 
loÿlNameUµ”
() const;

84 
SŒšg
 
toSŒšg
() const;

86 
Qu®if›dNameIm¶
* 
im¶
(ècÚ¡ {  
	gm_im¶
; }

89 
š™
();

91 
	g´iv©e
:

92 
š™
(cÚ¡ 
AtomicSŒšg
& 
´efix
, cÚ¡ AtomicSŒšg& 
loÿlName
, cÚ¡ AtomicSŒšg& 
Çme¥aûURI
);

93 
»f
(ècÚ¡ { 
	gm_im¶
->ref(); }

94 
d”ef
();

96 
Qu®if›dNameIm¶
* 
	gm_im¶
;

99 #iâdeà
WEBCORE_QUALIFIEDNAME_HIDE_GLOBALS


100 cÚ¡ 
Qu®if›dName
 
ªyName
;

101 
šlše
 cÚ¡ 
	gQu®if›dName
& 
	$ªyQName
(è{  
ªyName
; 
	}
}

104 
šlše
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
AtomicSŒšg
& 
a
, cÚ¡ 
	gQu®if›dName
& 
	gq
è{  
	ga
 =ğ
q
.
loÿlName
(); }

105 
šlše
 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
AtomicSŒšg
& 
a
, cÚ¡ 
	gQu®if›dName
& 
	gq
è{  
	ga
 !ğ
q
.
loÿlName
(); }

106 
šlše
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Qu®if›dName
& 
q
, cÚ¡ 
	gAtomicSŒšg
& 
	ga
è{ ‡ =ğq.
loÿlName
(); }

107 
šlše
 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Qu®if›dName
& 
q
, cÚ¡ 
	gAtomicSŒšg
& 
	ga
è{ ‡ !ğq.
loÿlName
(); }

109 
šlše
 
	$hashCompÚ’ts
(cÚ¡ 
Qu®if›dNameCompÚ’ts
& 
buf
)

111 
	`ASSERT
((
Qu®if›dNameCompÚ’ts
è% ((
ušt16_t
) * 2) == 0);

113 
l
 = (
Qu®if›dNameCompÚ’ts
è/ ((
ušt16_t
) * 2);

114 cÚ¡ 
ušt16_t
* 
s
 = 
»š‹½»t_ÿ¡
<cÚ¡ ušt16_t*>(&
buf
);

115 
ušt32_t
 
hash
 = 
WTF
::
¡ršgHashšgS¹V®ue
;

118 ; 
l
 > 0;†--) {

119 
hash
 +ğ
s
[0];

120 
ušt32_t
 
tmp
 = (
s
[1] << 11è^ 
hash
;

121 
hash
 = (hash << 16è^ 
tmp
;

122 
s
 += 2;

123 
hash
 += hash >> 11;

127 
hash
 ^= hash << 3;

128 
hash
 += hash >> 5;

129 
hash
 ^= hash << 2;

130 
hash
 += hash >> 15;

131 
hash
 ^= hash << 10;

136 ià(
hash
 == 0)

137 
hash
 = 0x80000000;

139  
hash
;

140 
	}
}

142 
	sQu®if›dNameHash
 {

143 
hash
(cÚ¡ 
Qu®if›dName
& 
Çme
è{  hashÒame.
im¶
()); }

145 
hash
(cÚ¡ 
Qu®if›dName
::
Qu®if›dNameIm¶
* 
Çme
)

147 
Qu®if›dNameCompÚ’ts
 
c
 = { 
Çme
->
m_´efix
.
im¶
(),‚ame->
m_loÿlName
.im¶(),‚ame->
m_Çme¥aû
.impl() };

148  
hashCompÚ’ts
(
c
);

151 
boŞ
 
equ®
(cÚ¡ 
Qu®if›dName
& 
a
, cÚ¡ Qu®if›dName& 
b
è{  
	ga
 == b; }

152 
boŞ
 
equ®
(cÚ¡ 
Qu®if›dName
::
Qu®if›dNameIm¶
* 
a
, cÚ¡ Qu®if›dName::Qu®if›dNameIm¶* 
b
) { ‡ == b; }

154 cÚ¡ 
boŞ
 
	g§ãToCom·»ToEm±yOrD–‘ed
 = 
çl£
;

159 
Çme¥aû
 
	gWTF
 {

161 
	g‹m¶©e
<
ty³Çme
 
	gT
> 
	gDeçuÉHash
;

163 
	g‹m¶©e
<> 
	gDeçuÉHash
<
	gWebCÜe
::
Qu®if›dName
> {

164 
WebCÜe
::
	tQu®if›dNameHash
 
	tHash
;

167 
	g‹m¶©e
<> 
	gHashT¿™s
<
	gWebCÜe
::
Qu®if›dName
> : 
G’”icHashT¿™s
<
WebCÜe
::QualifiedName> {

168 cÚ¡ 
boŞ
 
em±yV®ueIsZ”o
 = 
çl£
;

169 
	gWebCÜe
::
Qu®if›dName
 
em±yV®ue
(è{  
WebCÜe
::Qu®if›dName(WebCÜe::
nuÎAtom
, WebCore::nullAtom, WebCore::nullAtom); }

170 
cÚ¡ruùD–‘edV®ue
(
WebCÜe
::
Qu®if›dName
& 
¦Ù
è{ 
Ãw
 (&¦ÙèWebCÜe::Qu®if›dName(WebCÜe::
nuÎAtom
, WebCÜe::
AtomicSŒšg
(
HashTabËD–‘edV®ue
), WebCore::nullAtom); }

171 
boŞ
 
isD–‘edV®ue
(cÚ¡ 
WebCÜe
::
Qu®if›dName
& 
¦Ù
è{  slÙ.
loÿlName
().
isHashTabËD–‘edV®ue
(); }

	@Range.cpp

24 
	~"cÚfig.h
"

25 
	~"Rªge.h
"

26 
	~"RªgeExû±iÚ.h
"

28 
	~"Cl›ÁReù.h
"

29 
	~"Cl›ÁReùLi¡.h
"

30 
	~"Docum’tF¿gm’t.h
"

31 
	~"F¿meV›w.h
"

32 
	~"HTMLEËm’t.h
"

33 
	~"NodeW™hIndex.h
"

34 
	~"ProûssšgIn¡ruùiÚ.h
"

35 
	~"Text.h
"

36 
	~"TextI‹¿tÜ.h
"

37 
	~"VisibËPos™iÚ.h
"

38 
	~"htmËd™šg.h
"

39 
	~"m¬kup.h
"

40 
	~"visibË_un™s.h
"

41 
	~<¡dio.h
>

42 
	~<wtf/‹xt/CSŒšg.h
>

43 
	~<wtf/RefCouÁedL—kCouÁ”.h
>

45 
Çme¥aû
 
	gWebCÜe
 {

47 
usšg
 
Çme¥aû
 
	g¡d
;

49 #iâdeà
NDEBUG


50 
	gWTF
::
RefCouÁedL—kCouÁ”
 
¿ngeCouÁ”
("Range");

53 
šlše
 
	gRªge
::
Rªge
(
PassRefPŒ
<
Docum’t
> 
owÃrDocum’t
)

54 : 
m_owÃrDocum’t
(
owÃrDocum’t
)

55 , 
m_¡¬t
(
m_owÃrDocum’t
)

56 , 
m_’d
(
m_owÃrDocum’t
)

58 #iâdeà
NDEBUG


59 
	g¿ngeCouÁ”
.
šüem’t
();

62 
	gm_owÃrDocum’t
->
©chRªge
(
this
);

65 
	gPassRefPŒ
<
	gRªge
> Rªge::
ü—‹
(
PassRefPŒ
<
Docum’t
> 
owÃrDocum’t
)

67  
adİtRef
(
Ãw
 
Rªge
(
owÃrDocum’t
));

70 
šlše
 
	gRªge
::
Rªge
(
PassRefPŒ
<
Docum’t
> 
owÃrDocum’t
, PassRefPŒ<
Node
> 
¡¬tCÚš”
, 
¡¬tOff£t
, PassRefPŒ<Node> 
’dCÚš”
, 
’dOff£t
)

71 : 
m_owÃrDocum’t
(
owÃrDocum’t
)

72 , 
m_¡¬t
(
m_owÃrDocum’t
)

73 , 
m_’d
(
m_owÃrDocum’t
)

75 #iâdeà
NDEBUG


76 
	g¿ngeCouÁ”
.
šüem’t
();

79 
	gm_owÃrDocum’t
->
©chRªge
(
this
);

83 
Exû±iÚCode
 
	gec
 = 0;

84 
£tS¹
(
¡¬tCÚš”
, 
¡¬tOff£t
, 
ec
);

85 
ASSERT
(!
ec
);

86 
£tEnd
(
’dCÚš”
, 
’dOff£t
, 
ec
);

87 
ASSERT
(!
ec
);

90 
	gPassRefPŒ
<
	gRªge
> Rªge::
ü—‹
(
PassRefPŒ
<
Docum’t
> 
owÃrDocum’t
, PassRefPŒ<
Node
> 
¡¬tCÚš”
, 
¡¬tOff£t
, PassRefPŒ<Node> 
’dCÚš”
, 
’dOff£t
)

92  
adİtRef
(
Ãw
 
Rªge
(
owÃrDocum’t
, 
¡¬tCÚš”
, 
¡¬tOff£t
, 
’dCÚš”
, 
’dOff£t
));

95 
	gPassRefPŒ
<
	gRªge
> Rªge::
ü—‹
(
PassRefPŒ
<
Docum’t
> 
owÃrDocum’t
, cÚ¡ 
Pos™iÚ
& 
¡¬t
, cÚ¡ Pos™iÚ& 
’d
)

98  
adİtRef
(
Ãw
 
Rªge
(
owÃrDocum’t
, 
¡¬t
.
node
(), s¹.
d•»ÿ‹dEd™šgOff£t
(), 
’d
.node(),ƒnd.deprecatedEditingOffset()));

101 
	gRªge
::~
Rªge
()

104 
m_owÃrDocum’t
->
d‘achRªge
(
this
);

106 #iâdeà
NDEBUG


107 
	g¿ngeCouÁ”
.
deüem’t
();

111 
Node
* 
	gRªge
::
¡¬tCÚš”
(
Exû±iÚCode
& 
ec
) const

113 ià(!
m_¡¬t
.
cÚš”
()) {

114 
ec
 = 
INVALID_STATE_ERR
;

118  
	gm_¡¬t
.
cÚš”
();

121 
	gRªge
::
¡¬tOff£t
(
Exû±iÚCode
& 
ec
) const

123 ià(!
m_¡¬t
.
cÚš”
()) {

124 
ec
 = 
INVALID_STATE_ERR
;

128  
	gm_¡¬t
.
off£t
();

131 
Node
* 
	gRªge
::
’dCÚš”
(
Exû±iÚCode
& 
ec
) const

133 ià(!
m_¡¬t
.
cÚš”
()) {

134 
ec
 = 
INVALID_STATE_ERR
;

138  
	gm_’d
.
cÚš”
();

141 
	gRªge
::
’dOff£t
(
Exû±iÚCode
& 
ec
) const

143 ià(!
m_¡¬t
.
cÚš”
()) {

144 
ec
 = 
INVALID_STATE_ERR
;

148  
	gm_’d
.
off£t
();

151 
Node
* 
	gRªge
::
commÚAnû¡ÜCÚš”
(
Exû±iÚCode
& 
ec
) const

153 ià(!
m_¡¬t
.
cÚš”
()) {

154 
ec
 = 
INVALID_STATE_ERR
;

158  
commÚAnû¡ÜCÚš”
(
m_¡¬t
.
cÚš”
(), 
m_’d
.container());

161 
Node
* 
	gRªge
::
commÚAnû¡ÜCÚš”
(Node* 
cÚš”A
, Node* 
cÚš”B
)

163 
Node
* 
	g·»ÁA
 = 
cÚš”A
;…¬’tA;…¬’tA = 
·»ÁA
->
·»ÁNode
()) {

164 
Node
* 
·»ÁB
 = 
cÚš”B
; 
	g·»ÁB
;…¬’tB =…¬’tB->
·»ÁNode
()) {

165 ià(
·»ÁA
 =ğ
·»ÁB
)

166  
·»ÁA
;

172 
boŞ
 
	gRªge
::
cŞÏp£d
(
Exû±iÚCode
& 
ec
) const

174 ià(!
m_¡¬t
.
cÚš”
()) {

175 
ec
 = 
INVALID_STATE_ERR
;

179  
	gm_¡¬t
 =ğ
m_’d
;

182 
	gRªge
::
£tS¹
(
PassRefPŒ
<
Node
> 
»fNode
, 
off£t
, 
Exû±iÚCode
& 
ec
)

184 ià(!
	gm_¡¬t
.
cÚš”
()) {

185 
	gec
 = 
INVALID_STATE_ERR
;

189 ià(!
	g»fNode
) {

190 
	gec
 = 
NOT_FOUND_ERR
;

194 ià(
	g»fNode
->
docum’t
(è!ğ
m_owÃrDocum’t
) {

195 
ec
 = 
WRONG_DOCUMENT_ERR
;

199 
	gec
 = 0;

200 
Node
* 
	gchdNode
 = 
checkNodeWOff£t
(
»fNode
.
g‘
(), 
off£t
, 
ec
);

201 ià(
	gec
)

204 
	gm_¡¬t
.
£t
(
»fNode
, 
off£t
, 
chdNode
);

207 
Node
* 
	g’dRoÙCÚš”
 = 
m_’d
.
cÚš”
();

208 
	g’dRoÙCÚš”
->
·»ÁNode
())

209 
	g’dRoÙCÚš”
 = 
’dRoÙCÚš”
->
·»ÁNode
();

210 
Node
* 
	g¡¬tRoÙCÚš”
 = 
m_¡¬t
.
cÚš”
();

211 
	g¡¬tRoÙCÚš”
->
·»ÁNode
())

212 
	g¡¬tRoÙCÚš”
 = 
¡¬tRoÙCÚš”
->
·»ÁNode
();

213 ià(
	g¡¬tRoÙCÚš”
 !ğ
’dRoÙCÚš”
)

214 
cŞÏp£
(
Œue
, 
ec
);

216 ià(
com·»Bound¬yPošts
(
m_¡¬t
, 
m_’d
) > 0)

217 
cŞÏp£
(
Œue
, 
ec
);

220 
	gRªge
::
£tEnd
(
PassRefPŒ
<
Node
> 
»fNode
, 
off£t
, 
Exû±iÚCode
& 
ec
)

222 ià(!
	gm_¡¬t
.
cÚš”
()) {

223 
	gec
 = 
INVALID_STATE_ERR
;

227 ià(!
	g»fNode
) {

228 
	gec
 = 
NOT_FOUND_ERR
;

232 ià(
	g»fNode
->
docum’t
(è!ğ
m_owÃrDocum’t
) {

233 
ec
 = 
WRONG_DOCUMENT_ERR
;

237 
	gec
 = 0;

238 
Node
* 
	gchdNode
 = 
checkNodeWOff£t
(
»fNode
.
g‘
(), 
off£t
, 
ec
);

239 ià(
	gec
)

242 
	gm_’d
.
£t
(
»fNode
, 
off£t
, 
chdNode
);

245 
Node
* 
	g’dRoÙCÚš”
 = 
m_’d
.
cÚš”
();

246 
	g’dRoÙCÚš”
->
·»ÁNode
())

247 
	g’dRoÙCÚš”
 = 
’dRoÙCÚš”
->
·»ÁNode
();

248 
Node
* 
	g¡¬tRoÙCÚš”
 = 
m_¡¬t
.
cÚš”
();

249 
	g¡¬tRoÙCÚš”
->
·»ÁNode
())

250 
	g¡¬tRoÙCÚš”
 = 
¡¬tRoÙCÚš”
->
·»ÁNode
();

251 ià(
	g¡¬tRoÙCÚš”
 !ğ
’dRoÙCÚš”
)

252 
cŞÏp£
(
çl£
, 
ec
);

254 ià(
com·»Bound¬yPošts
(
m_¡¬t
, 
m_’d
) > 0)

255 
cŞÏp£
(
çl£
, 
ec
);

258 
	gRªge
::
cŞÏp£
(
boŞ
 
toS¹
, 
Exû±iÚCode
& 
ec
)

260 ià(!
	gm_¡¬t
.
cÚš”
()) {

261 
	gec
 = 
INVALID_STATE_ERR
;

265 ià(
	gtoS¹
)

266 
	gm_’d
 = 
m_¡¬t
;

268 
	gm_¡¬t
 = 
m_’d
;

271 
boŞ
 
	gRªge
::
isPoštInRªge
(
Node
* 
»fNode
, 
off£t
, 
Exû±iÚCode
& 
ec
)

273 ià(!
	gm_¡¬t
.
cÚš”
()) {

274 
	gec
 = 
INVALID_STATE_ERR
;

275  
	gçl£
;

278 ià(!
	g»fNode
) {

279 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

280  
	gçl£
;

283 ià(!
	g»fNode
->
©ched
()) {

285  
	gçl£
;

288 ià(
	g»fNode
->
docum’t
(è!ğ
m_owÃrDocum’t
) {

289 
ec
 = 
WRONG_DOCUMENT_ERR
;

290  
	gçl£
;

293 
	gec
 = 0;

294 
checkNodeWOff£t
(
»fNode
, 
off£t
, 
ec
);

295 ià(
	gec
)

296  
	gçl£
;

298  
com·»Bound¬yPošts
(
»fNode
, 
off£t
, 
m_¡¬t
.
cÚš”
(), m_start.offset()) >= 0

299 && 
com·»Bound¬yPošts
(
»fNode
, 
off£t
, 
m_’d
.
cÚš”
(), m_end.offset()) <= 0;

302 
	gRªge
::
com·»Pošt
(
Node
* 
»fNode
, 
off£t
, 
Exû±iÚCode
& 
ec
) const

308 ià(!
	gm_¡¬t
.
cÚš”
()) {

309 
	gec
 = 
INVALID_STATE_ERR
;

313 ià(!
	g»fNode
) {

314 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

318 ià(!
	g»fNode
->
©ched
(è||„efNode->
docum’t
(è!ğ
m_owÃrDocum’t
) {

319 
ec
 = 
WRONG_DOCUMENT_ERR
;

323 
	gec
 = 0;

324 
checkNodeWOff£t
(
»fNode
, 
off£t
, 
ec
);

325 ià(
	gec
)

329 ià(
com·»Bound¬yPošts
(
»fNode
, 
off£t
, 
m_¡¬t
.
cÚš”
(), m_start.offset()) < 0)

333 ià(
com·»Bound¬yPošts
(
»fNode
, 
off£t
, 
m_’d
.
cÚš”
(), m_end.offset()) > 0)

340 
	gRªge
::
Com·»ResuÉs
 
Rªge
::
com·»Node
(
Node
* 
»fNode
, 
Exû±iÚCode
& 
ec
) const

346 ià(!
	g»fNode
) {

347 
	gec
 = 
NOT_FOUND_ERR
;

348  
	gNODE_BEFORE
;

351 ià(!
	gm_¡¬t
.
cÚš”
(è&& 
	g»fNode
->
©ched
()) {

352 
	gec
 = 
INVALID_STATE_ERR
;

353  
	gNODE_BEFORE
;

356 ià(
	gm_¡¬t
.
cÚš”
(è&& !
	g»fNode
->
©ched
()) {

358  
	gNODE_BEFORE
;

361 ià(
	g»fNode
->
docum’t
(è!ğ
m_owÃrDocum’t
) {

363  
NODE_BEFORE
;

366 
Node
* 
	g·»ÁNode
 = 
»fNode
->
·»ÁNode
();

367 
	gnodeIndex
 = 
»fNode
->
nodeIndex
();

369 ià(!
	g·»ÁNode
) {

372 
	gec
 = 
NOT_FOUND_ERR
;

373  
	gNODE_BEFORE
;

376 ià(
com·»Pošt
(
·»ÁNode
, 
nodeIndex
, 
ec
) < 0) {

377 ià(
com·»Pošt
(
·»ÁNode
, 
nodeIndex
 + 1, 
ec
) > 0)

378  
	gNODE_BEFORE_AND_AFTER
;

379  
	gNODE_BEFORE
;

381 ià(
com·»Pošt
(
·»ÁNode
, 
nodeIndex
 + 1, 
ec
) > 0)

382  
	gNODE_AFTER
;

383  
	gNODE_INSIDE
;

387 
	gRªge
::
com·»Bound¬yPošts
(
Com·»How
 
how
, cÚ¡ 
Rªge
* 
sourûRªge
, 
Exû±iÚCode
& 
ec
) const

389 ià(!
	gm_¡¬t
.
cÚš”
()) {

390 
	gec
 = 
INVALID_STATE_ERR
;

394 ià(!
	gsourûRªge
) {

395 
	gec
 = 
NOT_FOUND_ERR
;

399 
	gec
 = 0;

400 
Node
* 
	gthisCÚt
 = 
commÚAnû¡ÜCÚš”
(
ec
);

401 ià(
	gec
)

403 
Node
* 
	gsourûCÚt
 = 
sourûRªge
->
commÚAnû¡ÜCÚš”
(
ec
);

404 ià(
	gec
)

407 ià(
	gthisCÚt
->
docum’t
(è!ğ
sourûCÚt
->document()) {

408 
ec
 = 
WRONG_DOCUMENT_ERR
;

412 
Node
* 
	gthisTİ
 = 
thisCÚt
;

413 
Node
* 
	gsourûTİ
 = 
sourûCÚt
;

414 
	gthisTİ
->
·»ÁNode
())

415 
	gthisTİ
 = 
thisTİ
->
·»ÁNode
();

416 
	gsourûTİ
->
·»ÁNode
())

417 
	gsourûTİ
 = 
sourûTİ
->
·»ÁNode
();

418 ià(
	gthisTİ
 !ğ
sourûTİ
) {

419 
ec
 = 
WRONG_DOCUMENT_ERR
;

423 
	ghow
) {

424 
	gSTART_TO_START
:

425  
com·»Bound¬yPošts
(
m_¡¬t
, 
sourûRªge
->m_start);

426 
	gSTART_TO_END
:

427  
com·»Bound¬yPošts
(
m_’d
, 
sourûRªge
->
m_¡¬t
);

428 
	gEND_TO_END
:

429  
com·»Bound¬yPošts
(
m_’d
, 
sourûRªge
->m_end);

430 
	gEND_TO_START
:

431  
com·»Bound¬yPošts
(
m_¡¬t
, 
sourûRªge
->
m_’d
);

434 
	gec
 = 
SYNTAX_ERR
;

438 
	gRªge
::
com·»Bound¬yPošts
(
Node
* 
cÚš”A
, 
off£tA
, Node* 
cÚš”B
, 
off£tB
)

440 
ASSERT
(
cÚš”A
);

441 
ASSERT
(
cÚš”B
);

443 ià(!
	gcÚš”A
)

445 ià(!
	gcÚš”B
)

451 ià(
	gcÚš”A
 =ğ
cÚš”B
) {

452 ià(
off£tA
 =ğ
off£tB
)

454 ià(
	goff£tA
 < 
	goff£tB
)

461 
Node
* 
	gc
 = 
cÚš”B
;

462 
	gc
 && c->
·»ÁNode
(è!ğ
cÚš”A
)

463 
c
 = c->
·»ÁNode
();

464 ià(
	gc
) {

465 
	goff£tC
 = 0;

466 
Node
* 
	gn
 = 
cÚš”A
->
fœ¡Chd
();

467 
	gn
 !ğ
c
 && 
off£tC
 < 
off£tA
) {

468 
off£tC
++;

469 
	gn
 = 
n
->
ÃxtSiblšg
();

472 ià(
	goff£tA
 <ğ
off£tC
)

479 
	gc
 = 
cÚš”A
;

480 
	gc
 && c->
·»ÁNode
(è!ğ
cÚš”B
)

481 
c
 = c->
·»ÁNode
();

482 ià(
	gc
) {

483 
	goff£tC
 = 0;

484 
Node
* 
	gn
 = 
cÚš”B
->
fœ¡Chd
();

485 
	gn
 !ğ
c
 && 
off£tC
 < 
off£tB
) {

486 
off£tC
++;

487 
	gn
 = 
n
->
ÃxtSiblšg
();

490 ià(
	goff£tC
 < 
	goff£tB
)

498 
Node
* 
	gcommÚAnû¡Ü
 = 
commÚAnû¡ÜCÚš”
(
cÚš”A
, 
cÚš”B
);

499 ià(!
	gcommÚAnû¡Ü
)

501 
Node
* 
	gchdA
 = 
cÚš”A
;

502 
	gchdA
 && chdA->
·»ÁNode
(è!ğ
commÚAnû¡Ü
)

503 
chdA
 = chdA->
·»ÁNode
();

504 ià(!
	gchdA
)

505 
	gchdA
 = 
commÚAnû¡Ü
;

506 
Node
* 
	gchdB
 = 
cÚš”B
;

507 
	gchdB
 && chdB->
·»ÁNode
(è!ğ
commÚAnû¡Ü
)

508 
chdB
 = chdB->
·»ÁNode
();

509 ià(!
	gchdB
)

510 
	gchdB
 = 
commÚAnû¡Ü
;

512 ià(
	gchdA
 =ğ
chdB
)

515 
Node
* 
	gn
 = 
commÚAnû¡Ü
->
fœ¡Chd
();

516 
	gn
) {

517 ià(
	gn
 =ğ
chdA
)

519 ià(
	gn
 =ğ
chdB
)

521 
	gn
 = 
n
->
ÃxtSiblšg
();

525 
ASSERT_NOT_REACHED
();

529 
	gRªge
::
com·»Bound¬yPošts
(cÚ¡ 
RªgeBound¬yPošt
& 
bound¬yA
, cÚ¡ RªgeBound¬yPošt& 
bound¬yB
)

531  
com·»Bound¬yPošts
(
bound¬yA
.
cÚš”
(), bound¬yA.
off£t
(), 
bound¬yB
.container(), boundaryB.offset());

534 
boŞ
 
	gRªge
::
bound¬yPoštsV®id
() const

536  
m_¡¬t
.
cÚš”
(è&& 
com·»Bound¬yPošts
(m_¡¬t, 
m_’d
) <= 0;

539 
	gRªge
::
d–‘eCÚ‹Ás
(
Exû±iÚCode
& 
ec
)

541 
checkD–‘eExŒaù
(
ec
);

542 ià(
	gec
)

545 
´oûssCÚ‹Ás
(
DELETE_CONTENTS
, 
ec
);

548 
boŞ
 
	gRªge
::
š‹r£ùsNode
(
Node
* 
»fNode
, 
Exû±iÚCode
& 
ec
)

553 ià(!
	g»fNode
) {

554 
	gec
 = 
NOT_FOUND_ERR
;

555  
	gçl£
;

558 ià((!
	gm_¡¬t
.
cÚš”
(è&& 
	g»fNode
->
©ched
())

559 || (
	gm_¡¬t
.
cÚš”
(è&& !
	g»fNode
->
©ched
())

560 || 
	g»fNode
->
docum’t
(è!ğ
m_owÃrDocum’t
) {

562  
çl£
;

565 
Node
* 
	g·»ÁNode
 = 
»fNode
->
·»ÁNode
();

566 
	gnodeIndex
 = 
»fNode
->
nodeIndex
();

568 ià(!
	g·»ÁNode
) {

571 
	gec
 = 
NOT_FOUND_ERR
;

572  
	gçl£
;

575 ià(
com·»Pošt
(
·»ÁNode
, 
nodeIndex
, 
ec
) < 0 &&

576 
com·»Pošt
(
·»ÁNode
, 
nodeIndex
 + 1, 
ec
) < 0) {

577  
	gçl£
;

578 } ià(
com·»Pošt
(
·»ÁNode
, 
nodeIndex
, 
ec
) > 0 &&

579 
com·»Pošt
(
·»ÁNode
, 
nodeIndex
 + 1, 
ec
) > 0) {

580  
	gçl£
;

583  
	gŒue
;

586 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
	gRªge
::
´oûssCÚ‹Ás
(
AùiÚTy³
 
aùiÚ
, 
Exû±iÚCode
& 
ec
)

591 
	gRefPŒ
<
	gDocum’tF¿gm’t
> 
	gäagm’t
;

592 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
CLONE_CONTENTS
)

593 
äagm’t
 = 
Docum’tF¿gm’t
::
ü—‹
(
m_owÃrDocum’t
.
g‘
());

595 
	gec
 = 0;

596 ià(
cŞÏp£d
(
ec
))

597  
	gäagm’t
.
»Ëa£
();

598 ià(
	gec
)

601 
Node
* 
	gcommÚRoÙ
 = 
commÚAnû¡ÜCÚš”
(
ec
);

602 ià(
	gec
)

604 
ASSERT
(
commÚRoÙ
);

607 
Node
* 
	g·¹ŸlS¹
 = 0;

608 ià(
	gm_¡¬t
.
cÚš”
(è!ğ
commÚRoÙ
) {

609 
·¹ŸlS¹
 = 
m_¡¬t
.
cÚš”
();

610 
	g·¹ŸlS¹
->
·»ÁNode
(è!ğ
commÚRoÙ
)

611 
·¹ŸlS¹
 =…¬tŸlS¹->
·»ÁNode
();

615 
Node
* 
	g·¹ŸlEnd
 = 0;

616 ià(
	gm_’d
.
cÚš”
(è!ğ
commÚRoÙ
) {

617 
·¹ŸlEnd
 = 
m_’d
.
cÚš”
();

618 
	g·¹ŸlEnd
->
·»ÁNode
(è!ğ
commÚRoÙ
)

619 
·¹ŸlEnd
 =…¬tŸlEnd->
·»ÁNode
();

624 ià(
	gm_¡¬t
.
cÚš”
(è=ğ
m_’d
.container()) {

625 
Node
::
NodeTy³
 
¡¬tNodeTy³
 = 
m_¡¬t
.
cÚš”
()->
nodeTy³
();

626 ià(
	g¡¬tNodeTy³
 =ğ
Node
::
TEXT_NODE
 || 
¡¬tNodeTy³
 =ğNode::
CDATA_SECTION_NODE
 || s¹NodeTy³ =ğNode::
COMMENT_NODE
) {

627 ià(
aùiÚ
 =ğ
EXTRACT_CONTENTS
 ||‡ùiÚ =ğ
CLONE_CONTENTS
) {

628 
RefPŒ
<
Ch¬aù”D©a
> 
c
 = 
¡©ic_poš‹r_ÿ¡
<Ch¬aù”D©a>(
m_¡¬t
.
cÚš”
()->
şÚeNode
(
Œue
));

629 
	gc
->
d–‘eD©a
(
m_’d
.
off£t
(), 
c
->
Ëngth
(è- m_’d.off£t(), 
ec
);

630 
	gc
->
d–‘eD©a
(0, 
m_¡¬t
.
off£t
(), 
ec
);

631 
	gäagm’t
->
­³ndChd
(
c
.
»Ëa£
(), 
ec
);

633 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
DELETE_CONTENTS
)

634 
¡©ic_ÿ¡
<
Ch¬aù”D©a
*>(
m_¡¬t
.
cÚš”
())->
d–‘eD©a
(m_¡¬t.
off£t
(), 
m_’d
.off£t(è- m_¡¬t.off£t(), 
ec
);

635 } ià(
	g¡¬tNodeTy³
 =ğ
Node
::
PROCESSING_INSTRUCTION_NODE
) {

636 ià(
aùiÚ
 =ğ
EXTRACT_CONTENTS
 ||‡ùiÚ =ğ
CLONE_CONTENTS
) {

637 
RefPŒ
<
ProûssšgIn¡ruùiÚ
> 
c
 = 
¡©ic_poš‹r_ÿ¡
<ProûssšgIn¡ruùiÚ>(
m_¡¬t
.
cÚš”
()->
şÚeNode
(
Œue
));

638 
	gc
->
£tD©a
(
c
->
d©a
().
sub¡ršg
(
m_¡¬t
.
off£t
(), 
m_’d
.off£t(è- m_¡¬t.off£t()), 
ec
);

639 
	gäagm’t
->
­³ndChd
(
c
.
»Ëa£
(), 
ec
);

641 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
DELETE_CONTENTS
) {

642 
ProûssšgIn¡ruùiÚ
* 
pi
 = 
¡©ic_ÿ¡
<ProûssšgIn¡ruùiÚ*>(
m_¡¬t
.
cÚš”
());

643 
SŒšg
 
d©a
(
pi
->data());

644 
	gd©a
.
»move
(
m_¡¬t
.
off£t
(), 
m_’d
.offset() - m_start.offset());

645 
	gpi
->
£tD©a
(
d©a
, 
ec
);

648 
Node
* 
	gn
 = 
m_¡¬t
.
cÚš”
()->
fœ¡Chd
();

649 
	gi
;

650 
	gi
 = 0; 
	gn
 && i < 
	gm_¡¬t
.
off£t
(); i++)

651 
	gn
 = 
n
->
ÃxtSiblšg
();

652 
	g’dOff£t
 = 
m_’d
.
off£t
();

653 
	gn
 && 
	gi
 < 
	g’dOff£t
) {

654 
Node
* 
	gÃxt
 = 
n
->
ÃxtSiblšg
();

655 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
)

656 
äagm’t
->
­³ndChd
(
n
, 
ec
);

657 ià(
	gaùiÚ
 =ğ
CLONE_CONTENTS
)

658 
äagm’t
->
­³ndChd
(
n
->
şÚeNode
(
Œue
), 
ec
);

660 
	gm_¡¬t
.
cÚš”
()->
»moveChd
(
n
, 
ec
);

661 
	gn
 = 
Ãxt
;

662 
	gi
++;

665  
	gäagm’t
.
»Ëa£
();

685 
	gRefPŒ
<
	gNode
> 
	gËáCÚ‹Ás
;

686 ià(
	gm_¡¬t
.
cÚš”
(è!ğ
commÚRoÙ
) {

689 
Node
::
NodeTy³
 
¡¬tNodeTy³
 = 
m_¡¬t
.
cÚš”
()->
nodeTy³
();

690 ià(
	g¡¬tNodeTy³
 =ğ
Node
::
TEXT_NODE
 || 
¡¬tNodeTy³
 =ğNode::
CDATA_SECTION_NODE
 || s¹NodeTy³ =ğNode::
COMMENT_NODE
) {

691 ià(
aùiÚ
 =ğ
EXTRACT_CONTENTS
 ||‡ùiÚ =ğ
CLONE_CONTENTS
) {

692 
RefPŒ
<
Ch¬aù”D©a
> 
c
 = 
¡©ic_poš‹r_ÿ¡
<Ch¬aù”D©a>(
m_¡¬t
.
cÚš”
()->
şÚeNode
(
Œue
));

693 
	gc
->
d–‘eD©a
(0, 
m_¡¬t
.
off£t
(), 
ec
);

694 
	gËáCÚ‹Ás
 = 
c
.
»Ëa£
();

696 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
DELETE_CONTENTS
)

697 
¡©ic_ÿ¡
<
Ch¬aù”D©a
*>(
m_¡¬t
.
cÚš”
())->
d–‘eD©a
(

698 
m_¡¬t
.
off£t
(), 
¡©ic_ÿ¡
<
Ch¬aù”D©a
*>(m_¡¬t.
cÚš”
())->
Ëngth
(è- m_¡¬t.off£t(), 
ec
);

699 } ià(
	g¡¬tNodeTy³
 =ğ
Node
::
PROCESSING_INSTRUCTION_NODE
) {

700 ià(
aùiÚ
 =ğ
EXTRACT_CONTENTS
 ||‡ùiÚ =ğ
CLONE_CONTENTS
) {

701 
RefPŒ
<
ProûssšgIn¡ruùiÚ
> 
c
 = 
¡©ic_poš‹r_ÿ¡
<ProûssšgIn¡ruùiÚ>(
m_¡¬t
.
cÚš”
()->
şÚeNode
(
Œue
));

702 
	gc
->
£tD©a
(
c
->
d©a
().
sub¡ršg
(
m_¡¬t
.
off£t
()), 
ec
);

703 
	gËáCÚ‹Ás
 = 
c
.
»Ëa£
();

705 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
DELETE_CONTENTS
) {

706 
ProûssšgIn¡ruùiÚ
* 
pi
 = 
¡©ic_ÿ¡
<ProûssšgIn¡ruùiÚ*>(
m_¡¬t
.
cÚš”
());

707 
SŒšg
 
d©a
(
pi
->data());

708 
	gpi
->
£tD©a
(
d©a
.
Ëá
(
m_¡¬t
.
off£t
()), 
ec
);

711 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
CLONE_CONTENTS
)

712 
ËáCÚ‹Ás
 = 
m_¡¬t
.
cÚš”
()->
şÚeNode
(
çl£
);

713 
Node
* 
	gn
 = 
m_¡¬t
.
cÚš”
()->
fœ¡Chd
();

714 
	gi
 = 0; 
	gn
 && i < 
	gm_¡¬t
.
off£t
(); i++)

715 
	gn
 = 
n
->
ÃxtSiblšg
();

716 
	gn
) {

717 
Node
* 
	gÃxt
 = 
n
->
ÃxtSiblšg
();

718 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
)

719 
ËáCÚ‹Ás
->
­³ndChd
(
n
, 
ec
);

720 ià(
	gaùiÚ
 =ğ
CLONE_CONTENTS
)

721 
ËáCÚ‹Ás
->
­³ndChd
(
n
->
şÚeNode
(
Œue
), 
ec
);

723 
	gm_¡¬t
.
cÚš”
()->
»moveChd
(
n
, 
ec
);

724 
	gn
 = 
Ãxt
;

728 
Node
* 
	gËáP¬’t
 = 
m_¡¬t
.
cÚš”
()->
·»ÁNode
();

729 
Node
* 
	gn
 = 
m_¡¬t
.
cÚš”
()->
ÃxtSiblšg
();

730 ; 
	gËáP¬’t
 !ğ
commÚRoÙ
;†eáP¬’ˆğ
ËáP¬’t
->
·»ÁNode
()) {

731 ià(
aùiÚ
 =ğ
EXTRACT_CONTENTS
 ||‡ùiÚ =ğ
CLONE_CONTENTS
) {

732 
RefPŒ
<
Node
> 
ËáCÚ‹ÁsP¬’t
 = 
ËáP¬’t
->
şÚeNode
(
çl£
);

733 
	gËáCÚ‹ÁsP¬’t
->
­³ndChd
(
ËáCÚ‹Ás
, 
ec
);

734 
	gËáCÚ‹Ás
 = 
ËáCÚ‹ÁsP¬’t
;

737 
Node
* 
	gÃxt
;

738 ; 
	gn
;‚ = 
Ãxt
) {

739 
Ãxt
 = 
n
->
ÃxtSiblšg
();

740 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
)

741 
ËáCÚ‹Ás
->
­³ndChd
(
n
, 
ec
);

742 ià(
	gaùiÚ
 =ğ
CLONE_CONTENTS
)

743 
ËáCÚ‹Ás
->
­³ndChd
(
n
->
şÚeNode
(
Œue
), 
ec
);

745 
	gËáP¬’t
->
»moveChd
(
n
, 
ec
);

747 
	gn
 = 
ËáP¬’t
->
ÃxtSiblšg
();

751 
	gRefPŒ
<
	gNode
> 
	grightCÚ‹Ás
;

752 ià(
	gm_’d
.
cÚš”
(è!ğ
commÚRoÙ
) {

755 
Node
::
NodeTy³
 
’dNodeTy³
 = 
m_’d
.
cÚš”
()->
nodeTy³
();

756 ià(
	g’dNodeTy³
 =ğ
Node
::
TEXT_NODE
 || 
’dNodeTy³
 =ğNode::
CDATA_SECTION_NODE
 ||ƒndNodeTy³ =ğNode::
COMMENT_NODE
) {

757 ià(
aùiÚ
 =ğ
EXTRACT_CONTENTS
 ||‡ùiÚ =ğ
CLONE_CONTENTS
) {

758 
RefPŒ
<
Ch¬aù”D©a
> 
c
 = 
¡©ic_poš‹r_ÿ¡
<Ch¬aù”D©a>(
m_’d
.
cÚš”
()->
şÚeNode
(
Œue
));

759 
	gc
->
d–‘eD©a
(
m_’d
.
off£t
(), 
¡©ic_ÿ¡
<
Ch¬aù”D©a
*>(m_’d.
cÚš”
())->
Ëngth
(è- m_’d.off£t(), 
ec
);

760 
	grightCÚ‹Ás
 = 
c
;

762 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
DELETE_CONTENTS
)

763 
¡©ic_ÿ¡
<
Ch¬aù”D©a
*>(
m_’d
.
cÚš”
())->
d–‘eD©a
(0, m_’d.
off£t
(), 
ec
);

764 } ià(
	g’dNodeTy³
 =ğ
Node
::
PROCESSING_INSTRUCTION_NODE
) {

765 ià(
aùiÚ
 =ğ
EXTRACT_CONTENTS
 ||‡ùiÚ =ğ
CLONE_CONTENTS
) {

766 
RefPŒ
<
ProûssšgIn¡ruùiÚ
> 
c
 = 
¡©ic_poš‹r_ÿ¡
<ProûssšgIn¡ruùiÚ>(
m_’d
.
cÚš”
()->
şÚeNode
(
Œue
));

767 
	gc
->
£tD©a
(
c
->
d©a
().
Ëá
(
m_’d
.
off£t
()), 
ec
);

768 
	grightCÚ‹Ás
 = 
c
.
»Ëa£
();

770 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
DELETE_CONTENTS
) {

771 
ProûssšgIn¡ruùiÚ
* 
pi
 = 
¡©ic_ÿ¡
<ProûssšgIn¡ruùiÚ*>(
m_’d
.
cÚš”
());

772 
	gpi
->
£tD©a
(
pi
->
d©a
().
sub¡ršg
(
m_’d
.
off£t
()), 
ec
);

775 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
CLONE_CONTENTS
)

776 
rightCÚ‹Ás
 = 
m_’d
.
cÚš”
()->
şÚeNode
(
çl£
);

777 
Node
* 
	gn
 = 
m_’d
.
cÚš”
()->
fœ¡Chd
();

778 ià(
	gn
 && 
	gm_’d
.
off£t
()) {

779 
	gi
 = 0; i + 1 < 
	gm_’d
.
off£t
(); i++) {

780 
Node
* 
	gÃxt
 = 
n
->
ÃxtSiblšg
();

781 ià(!
	gÃxt
)

783 
	gn
 = 
Ãxt
;

785 
Node
* 
	g´ev
;

786 ; 
	gn
;‚ = 
´ev
) {

787 
´ev
 = 
n
->
´eviousSiblšg
();

788 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
)

789 
rightCÚ‹Ás
->
š£¹BefÜe
(
n
,„ightCÚ‹Ás->
fœ¡Chd
(), 
ec
);

790 ià(
	gaùiÚ
 =ğ
CLONE_CONTENTS
)

791 
rightCÚ‹Ás
->
š£¹BefÜe
(
n
->
şÚeNode
(
Œue
),„ightCÚ‹Ás->
fœ¡Chd
(), 
ec
);

793 
	gm_’d
.
cÚš”
()->
»moveChd
(
n
, 
ec
);

798 
Node
* 
	grightP¬’t
 = 
m_’d
.
cÚš”
()->
·»ÁNode
();

799 
Node
* 
	gn
 = 
m_’d
.
cÚš”
()->
´eviousSiblšg
();

800 ; 
	grightP¬’t
 !ğ
commÚRoÙ
;„ightP¬’ˆğ
rightP¬’t
->
·»ÁNode
()) {

801 ià(
aùiÚ
 =ğ
EXTRACT_CONTENTS
 ||‡ùiÚ =ğ
CLONE_CONTENTS
) {

802 
RefPŒ
<
Node
> 
rightCÚ‹ÁsP¬’t
 = 
rightP¬’t
->
şÚeNode
(
çl£
);

803 
	grightCÚ‹ÁsP¬’t
->
­³ndChd
(
rightCÚ‹Ás
, 
ec
);

804 
	grightCÚ‹Ás
 = 
rightCÚ‹ÁsP¬’t
;

806 
Node
* 
	g´ev
;

807 ; 
	gn
;‚ = 
´ev
) {

808 
´ev
 = 
n
->
´eviousSiblšg
();

809 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
)

810 
rightCÚ‹Ás
->
š£¹BefÜe
(
n
,„ightCÚ‹Ás->
fœ¡Chd
(), 
ec
);

811 ià(
	gaùiÚ
 =ğ
CLONE_CONTENTS
)

812 
rightCÚ‹Ás
->
š£¹BefÜe
(
n
->
şÚeNode
(
Œue
),„ightCÚ‹Ás->
fœ¡Chd
(), 
ec
);

814 
	grightP¬’t
->
»moveChd
(
n
, 
ec
);

816 
	gn
 = 
rightP¬’t
->
´eviousSiblšg
();

822 
Node
* 
	g´oûssS¹
;

823 ià(
	gm_¡¬t
.
cÚš”
(è=ğ
commÚRoÙ
) {

824 
´oûssS¹
 = 
m_¡¬t
.
cÚš”
()->
fœ¡Chd
();

825 
	gi
 = 0; i < 
	gm_¡¬t
.
off£t
(); i++)

826 
	g´oûssS¹
 = 
´oûssS¹
->
ÃxtSiblšg
();

828 
	g´oûssS¹
 = 
m_¡¬t
.
cÚš”
();

829 
	g´oûssS¹
->
·»ÁNode
(è!ğ
commÚRoÙ
)

830 
´oûssS¹
 =…roûssS¹->
·»ÁNode
();

831 
	g´oûssS¹
 = 
´oûssS¹
->
ÃxtSiblšg
();

833 
Node
* 
	g´oûssEnd
;

834 ià(
	gm_’d
.
cÚš”
(è=ğ
commÚRoÙ
) {

835 
´oûssEnd
 = 
m_’d
.
cÚš”
()->
fœ¡Chd
();

836 
	gi
 = 0; i < 
	gm_’d
.
off£t
(); i++)

837 
	g´oûssEnd
 = 
´oûssEnd
->
ÃxtSiblšg
();

839 
	g´oûssEnd
 = 
m_’d
.
cÚš”
();

840 
	g´oûssEnd
->
·»ÁNode
(è!ğ
commÚRoÙ
)

841 
´oûssEnd
 =…roûssEnd->
·»ÁNode
();

845 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
DELETE_CONTENTS
) {

846 ià(
·¹ŸlS¹
)

847 
£tS¹
(
·¹ŸlS¹
->
·»ÁNode
(),…¬tŸlS¹->
nodeIndex
(è+ 1, 
ec
);

848 ià(
	g·¹ŸlEnd
)

849 
£tS¹
(
·¹ŸlEnd
->
·»ÁNode
(),…¬tŸlEnd->
nodeIndex
(), 
ec
);

850 ià(
	gec
)

852 
	gm_’d
 = 
m_¡¬t
;

858 ià((
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
CLONE_CONTENTS
è&& 
ËáCÚ‹Ás
)

859 
äagm’t
->
­³ndChd
(
ËáCÚ‹Ás
, 
ec
);

861 
Node
* 
	gÃxt
;

862 
Node
* 
	gn
;

863 ià(
	g´oûssS¹
) {

864 
	gn
 = 
´oûssS¹
;‚ &&‚ !ğ
´oûssEnd
;‚ = 
Ãxt
) {

865 
Ãxt
 = 
n
->
ÃxtSiblšg
();

866 ià(
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
)

867 
äagm’t
->
­³ndChd
(
n
, 
ec
);

868 ià(
	gaùiÚ
 =ğ
CLONE_CONTENTS
)

869 
äagm’t
->
­³ndChd
(
n
->
şÚeNode
(
Œue
), 
ec
);

871 
	gcommÚRoÙ
->
»moveChd
(
n
, 
ec
);

875 ià((
	gaùiÚ
 =ğ
EXTRACT_CONTENTS
 || 
aùiÚ
 =ğ
CLONE_CONTENTS
è&& 
rightCÚ‹Ás
)

876 
äagm’t
->
­³ndChd
(
rightCÚ‹Ás
, 
ec
);

878  
	gäagm’t
.
»Ëa£
();

881 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
	gRªge
::
exŒaùCÚ‹Ás
(
Exû±iÚCode
& 
ec
)

883 
checkD–‘eExŒaù
(
ec
);

884 ià(
	gec
)

887  
´oûssCÚ‹Ás
(
EXTRACT_CONTENTS
, 
ec
);

890 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
	gRªge
::
şÚeCÚ‹Ás
(
Exû±iÚCode
& 
ec
)

892 ià(!
m_¡¬t
.
cÚš”
()) {

893 
ec
 = 
INVALID_STATE_ERR
;

897  
´oûssCÚ‹Ás
(
CLONE_CONTENTS
, 
ec
);

900 
	gRªge
::
š£¹Node
(
PassRefPŒ
<
Node
> 
´pNewNode
, 
Exû±iÚCode
& 
ec
)

902 
	gRefPŒ
<
	gNode
> 
	gÃwNode
 = 
´pNewNode
;

904 
	gec
 = 0;

906 ià(!
	gm_¡¬t
.
cÚš”
()) {

907 
	gec
 = 
INVALID_STATE_ERR
;

911 ià(!
	gÃwNode
) {

912 
	gec
 = 
NOT_FOUND_ERR
;

918 ià(
cÚšedByR—dOÆy
()) {

919 
	gec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

925 ià(
	gÃwNode
->
docum’t
(è!ğ
m_¡¬t
.
cÚš”
()->document()) {

926 
ec
 = 
WRONG_DOCUMENT_ERR
;

934 
boŞ
 
	g¡¬tIsText
 = 
m_¡¬t
.
cÚš”
()->
isTextNode
();

935 ià(
	g¡¬tIsText
 && !
	gm_¡¬t
.
cÚš”
()->
·»ÁNode
()) {

936 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

942 
Node
* 
	gcheckAgaš¡
;

943 ià(
	g¡¬tIsText
)

944 
	gcheckAgaš¡
 = 
m_¡¬t
.
cÚš”
()->
·»ÁNode
();

946 
	gcheckAgaš¡
 = 
m_¡¬t
.
cÚš”
();

948 
	gNode
::
NodeTy³
 
ÃwNodeTy³
 = 
ÃwNode
->
nodeTy³
();

949 
	gnumNewChd»n
;

950 ià(
	gÃwNodeTy³
 =ğ
Node
::
DOCUMENT_FRAGMENT_NODE
) {

952 
numNewChd»n
 = 0;

953 
Node
* 
	gc
 = 
ÃwNode
->
fœ¡Chd
(); c; c = 
c
->
ÃxtSiblšg
()) {

954 ià(!
checkAgaš¡
->
chdTy³AÎowed
(
c
->
nodeTy³
())) {

955 
ec
 = 
HIERARCHY_REQUEST_ERR
;

958 ++
	gnumNewChd»n
;

961 
	gnumNewChd»n
 = 1;

962 ià(!
	gcheckAgaš¡
->
chdTy³AÎowed
(
ÃwNodeTy³
)) {

963 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

968 
Node
* 
	gn
 = 
m_¡¬t
.
cÚš”
();‚;‚ = 
n
->
·»ÁNode
()) {

969 ià(
n
 =ğ
ÃwNode
) {

970 
ec
 = 
HIERARCHY_REQUEST_ERR
;

976 ià(
	gÃwNodeTy³
 =ğ
Node
::
ATTRIBUTE_NODE
 || 
ÃwNodeTy³
 =ğNode::
ENTITY_NODE


977 || 
ÃwNodeTy³
 =ğ
Node
::
NOTATION_NODE
 ||‚ewNodeTy³ =ğNode::
DOCUMENT_NODE
) {

978 
ec
 = 
RªgeExû±iÚ
::
INVALID_NODE_TYPE_ERR
;

982 
boŞ
 
	gcŞÏp£d
 = 
m_¡¬t
 =ğ
m_’d
;

983 ià(
	g¡¬tIsText
) {

984 
	gRefPŒ
<
	gText
> 
	gÃwText
 = 
¡©ic_ÿ¡
<
Text
*>(
m_¡¬t
.
cÚš”
())->
¥l™Text
(m_¡¬t.
off£t
(), 
ec
);

985 ià(
	gec
)

987 
	gm_¡¬t
.
cÚš”
()->
·»ÁNode
()->
š£¹BefÜe
(
ÃwNode
.
»Ëa£
(), 
ÃwText
.
g‘
(), 
ec
);

988 ià(
	gec
)

993 ià(
	gcŞÏp£d
)

994 
	gm_’d
.
£tToBefÜeChd
(
ÃwText
.
g‘
());

996 
	gRefPŒ
<
	gNode
> 
	gÏ¡Chd
;

997 ià(
	gcŞÏp£d
)

998 
	gÏ¡Chd
 = (
ÃwNodeTy³
 =ğ
Node
::
DOCUMENT_FRAGMENT_NODE
è? 
ÃwNode
->
Ï¡Chd
() :‚ewNode;

1000 
	g¡¬tOff£t
 = 
m_¡¬t
.
off£t
();

1001 
	gm_¡¬t
.
cÚš”
()->
š£¹BefÜe
(
ÃwNode
.
»Ëa£
(), 
m_¡¬t
.cÚš”()->
chdNode
(
¡¬tOff£t
), 
ec
);

1002 ià(
	gec
)

1007 ià(
	gcŞÏp£d
)

1008 
	gm_’d
.
£t
(
m_¡¬t
.
cÚš”
(), 
¡¬tOff£t
 + 
numNewChd»n
, 
Ï¡Chd
.
g‘
());

1012 
SŒšg
 
	gRªge
::
toSŒšg
(
Exû±iÚCode
& 
ec
) const

1014 ià(!
m_¡¬t
.
cÚš”
()) {

1015 
ec
 = 
INVALID_STATE_ERR
;

1016  
SŒšg
();

1019 
	gVeùÜ
<
	gUCh¬
> 
	g»suÉ
;

1021 
Node
* 
	g·¡La¡
 = 
·¡La¡Node
();

1022 
Node
* 
	gn
 = 
fœ¡Node
();‚ !ğ
·¡La¡
;‚ = 
n
->
Œav”£NextNode
()) {

1023 ià(
n
->
nodeTy³
(è=ğ
Node
::
TEXT_NODE
 ||‚->nodeTy³(è=ğNode::
CDATA_SECTION_NODE
) {

1024 
SŒšg
 
d©a
 = 
¡©ic_ÿ¡
<
Ch¬aù”D©a
*>(
n
)->data();

1025 
	gËngth
 = 
d©a
.
Ëngth
();

1026 
	g¡¬t
 = (
n
 =ğ
m_¡¬t
.
cÚš”
()è? 
mš
(
max
(0, m_¡¬t.
off£t
()), 
Ëngth
) : 0;

1027 
	g’d
 = (
n
 =ğ
m_’d
.
cÚš”
()è? 
mš
(
max
(
¡¬t
, m_’d.
off£t
()), 
Ëngth
) :†ength;

1028 
	g»suÉ
.
­³nd
(
d©a
.
ch¬aù”s
(è+ 
¡¬t
, 
’d
 - start);

1032  
	gSŒšg
::
adİt
(
»suÉ
);

1035 
SŒšg
 
	gRªge
::
toHTML
() const

1037  
ü—‹M¬kup
(
this
);

1040 
SŒšg
 
	gRªge
::
‹xt
() const

1042 ià(!
m_¡¬t
.
cÚš”
())

1043  
SŒšg
();

1047 
	gm_¡¬t
.
cÚš”
()->
docum’t
()->
upd©eLayout
();

1049  
¶ašText
(
this
);

1052 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
	gRªge
::
ü—‹CÚ‹xtu®F¿gm’t
(cÚ¡ 
SŒšg
& 
m¬kup
, 
Exû±iÚCode
& 
ec
) const

1054 ià(!
	gm_¡¬t
.
cÚš”
()) {

1055 
	gec
 = 
INVALID_STATE_ERR
;

1059 
Node
* 
	g–em’t
 = 
m_¡¬t
.
cÚš”
()->
isEËm’tNode
(è? m_¡¬t.cÚš”(è: m_¡¬t.cÚš”()->
·»ÁNode
();

1060 ià(!
	g–em’t
 || !–em’t->
isHTMLEËm’t
()) {

1061 
	gec
 = 
NOT_SUPPORTED_ERR
;

1065 
	gRefPŒ
<
	gDocum’tF¿gm’t
> 
	gäagm’t
 = 
¡©ic_ÿ¡
<
HTMLEËm’t
*>(
–em’t
)->
ü—‹CÚ‹xtu®F¿gm’t
(
m¬kup
);

1066 ià(!
	gäagm’t
) {

1067 
	gec
 = 
NOT_SUPPORTED_ERR
;

1071  
	gäagm’t
.
»Ëa£
();

1075 
	gRªge
::
d‘ach
(
Exû±iÚCode
& 
ec
)

1078 ià(!
m_¡¬t
.
cÚš”
()) {

1079 
ec
 = 
INVALID_STATE_ERR
;

1083 
	gm_owÃrDocum’t
->
d‘achRªge
(
this
);

1085 
	gm_¡¬t
.
ş—r
();

1086 
	gm_’d
.
ş—r
();

1089 
Node
* 
	gRªge
::
checkNodeWOff£t
(Node* 
n
, 
off£t
, 
Exû±iÚCode
& 
ec
) const

1091 
	gn
->
nodeTy³
()) {

1092 
	gNode
::
DOCUMENT_TYPE_NODE
:

1093 
Node
::
ENTITY_NODE
:

1094 
Node
::
NOTATION_NODE
:

1095 
ec
 = 
RªgeExû±iÚ
::
INVALID_NODE_TYPE_ERR
;

1097 
	gNode
::
CDATA_SECTION_NODE
:

1098 
Node
::
COMMENT_NODE
:

1099 
Node
::
TEXT_NODE
:

1100 ià(
¡©ic_ÿ¡
<>(
off£t
è> stic_ÿ¡<
Ch¬aù”D©a
*>(
n
)->
Ëngth
())

1101 
ec
 = 
INDEX_SIZE_ERR
;

1103 
	gNode
::
PROCESSING_INSTRUCTION_NODE
:

1104 ià(
¡©ic_ÿ¡
<>(
off£t
è> stic_ÿ¡<
ProûssšgIn¡ruùiÚ
*>(
n
)->
d©a
().
Ëngth
())

1105 
ec
 = 
INDEX_SIZE_ERR
;

1107 
	gNode
::
ATTRIBUTE_NODE
:

1108 
Node
::
DOCUMENT_FRAGMENT_NODE
:

1109 
Node
::
DOCUMENT_NODE
:

1110 
Node
::
ELEMENT_NODE
:

1111 
Node
::
ENTITY_REFERENCE_NODE
:

1112 
Node
::
XPATH_NAMESPACE_NODE
: {

1113 ià(!
off£t
)

1115 
Node
* 
	gchdBefÜe
 = 
n
->
chdNode
(
off£t
 - 1);

1116 ià(!
	gchdBefÜe
)

1117 
	gec
 = 
INDEX_SIZE_ERR
;

1118  
	gchdBefÜe
;

1121 
ASSERT_NOT_REACHED
();

1125 
	gRªge
::
checkNodeBA
(
Node
* 
n
, 
Exû±iÚCode
& 
ec
) const

1131 
	gn
->
nodeTy³
()) {

1132 
	gNode
::
ATTRIBUTE_NODE
:

1133 
Node
::
DOCUMENT_FRAGMENT_NODE
:

1134 
Node
::
DOCUMENT_NODE
:

1135 
Node
::
ENTITY_NODE
:

1136 
Node
::
NOTATION_NODE
:

1137 
ec
 = 
RªgeExû±iÚ
::
INVALID_NODE_TYPE_ERR
;

1139 
	gNode
::
CDATA_SECTION_NODE
:

1140 
Node
::
COMMENT_NODE
:

1141 
Node
::
DOCUMENT_TYPE_NODE
:

1142 
Node
::
ELEMENT_NODE
:

1143 
Node
::
ENTITY_REFERENCE_NODE
:

1144 
Node
::
PROCESSING_INSTRUCTION_NODE
:

1145 
Node
::
TEXT_NODE
:

1146 
Node
::
XPATH_NAMESPACE_NODE
:

1150 
Node
* 
	groÙ
 = 
n
;

1151 
Node
* 
	g·»Á
 = 
roÙ
->
·»ÁNode
())

1152 
roÙ
 = 
·»Á
;

1154 
	groÙ
->
nodeTy³
()) {

1155 
	gNode
::
ATTRIBUTE_NODE
:

1156 
Node
::
DOCUMENT_NODE
:

1157 
Node
::
DOCUMENT_FRAGMENT_NODE
:

1159 
	gNode
::
CDATA_SECTION_NODE
:

1160 
Node
::
COMMENT_NODE
:

1161 
Node
::
DOCUMENT_TYPE_NODE
:

1162 
Node
::
ELEMENT_NODE
:

1163 
Node
::
ENTITY_NODE
:

1164 
Node
::
ENTITY_REFERENCE_NODE
:

1165 
Node
::
NOTATION_NODE
:

1166 
Node
::
PROCESSING_INSTRUCTION_NODE
:

1167 
Node
::
TEXT_NODE
:

1168 
Node
::
XPATH_NAMESPACE_NODE
:

1169 ià(
roÙ
->
isShadowNode
())

1171 
	gec
 = 
RªgeExû±iÚ
::
INVALID_NODE_TYPE_ERR
;

1176 
	gPassRefPŒ
<
	gRªge
> Rªge::
şÚeRªge
(
Exû±iÚCode
& 
ec
) const

1178 ià(!
m_¡¬t
.
cÚš”
()) {

1179 
ec
 = 
INVALID_STATE_ERR
;

1183  
	gRªge
::
ü—‹
(
m_owÃrDocum’t
, 
m_¡¬t
.
cÚš”
(), m_¡¬t.
off£t
(), 
m_’d
.container(), m_end.offset());

1186 
	gRªge
::
£tS¹Aá”
(
Node
* 
»fNode
, 
Exû±iÚCode
& 
ec
)

1188 ià(!
	gm_¡¬t
.
cÚš”
()) {

1189 
	gec
 = 
INVALID_STATE_ERR
;

1193 ià(!
	g»fNode
) {

1194 
	gec
 = 
NOT_FOUND_ERR
;

1198 ià(
	g»fNode
->
docum’t
(è!ğ
m_owÃrDocum’t
) {

1199 
ec
 = 
WRONG_DOCUMENT_ERR
;

1203 
	gec
 = 0;

1204 
checkNodeBA
(
»fNode
, 
ec
);

1205 ià(
	gec
)

1208 
£tS¹
(
»fNode
->
·»ÁNode
(),„efNode->
nodeIndex
(è+ 1, 
ec
);

1211 
	gRªge
::
£tEndBefÜe
(
Node
* 
»fNode
, 
Exû±iÚCode
& 
ec
)

1213 ià(!
	gm_¡¬t
.
cÚš”
()) {

1214 
	gec
 = 
INVALID_STATE_ERR
;

1218 ià(!
	g»fNode
) {

1219 
	gec
 = 
NOT_FOUND_ERR
;

1223 ià(
	g»fNode
->
docum’t
(è!ğ
m_owÃrDocum’t
) {

1224 
ec
 = 
WRONG_DOCUMENT_ERR
;

1228 
	gec
 = 0;

1229 
checkNodeBA
(
»fNode
, 
ec
);

1230 ià(
	gec
)

1233 
£tEnd
(
»fNode
->
·»ÁNode
(),„efNode->
nodeIndex
(), 
ec
);

1236 
	gRªge
::
£tEndAá”
(
Node
* 
»fNode
, 
Exû±iÚCode
& 
ec
)

1238 ià(!
	gm_¡¬t
.
cÚš”
()) {

1239 
	gec
 = 
INVALID_STATE_ERR
;

1243 ià(!
	g»fNode
) {

1244 
	gec
 = 
NOT_FOUND_ERR
;

1248 ià(
	g»fNode
->
docum’t
(è!ğ
m_owÃrDocum’t
) {

1249 
ec
 = 
WRONG_DOCUMENT_ERR
;

1253 
	gec
 = 0;

1254 
checkNodeBA
(
»fNode
, 
ec
);

1255 ià(
	gec
)

1258 
£tEnd
(
»fNode
->
·»ÁNode
(),„efNode->
nodeIndex
(è+ 1, 
ec
);

1262 
	gRªge
::
£ËùNode
(
Node
* 
»fNode
, 
Exû±iÚCode
& 
ec
)

1264 ià(!
	gm_¡¬t
.
cÚš”
()) {

1265 
	gec
 = 
INVALID_STATE_ERR
;

1269 ià(!
	g»fNode
) {

1270 
	gec
 = 
NOT_FOUND_ERR
;

1277 
Node
* 
	gªc
 = 
»fNode
->
·»ÁNode
();‡nc;‡nøğ
ªc
->parentNode()) {

1278 
ªc
->
nodeTy³
()) {

1279 
Node
::
ATTRIBUTE_NODE
:

1280 
Node
::
CDATA_SECTION_NODE
:

1281 
Node
::
COMMENT_NODE
:

1282 
Node
::
DOCUMENT_FRAGMENT_NODE
:

1283 
Node
::
DOCUMENT_NODE
:

1284 
Node
::
ELEMENT_NODE
:

1285 
Node
::
ENTITY_REFERENCE_NODE
:

1286 
Node
::
PROCESSING_INSTRUCTION_NODE
:

1287 
Node
::
TEXT_NODE
:

1288 
Node
::
XPATH_NAMESPACE_NODE
:

1290 
	gNode
::
DOCUMENT_TYPE_NODE
:

1291 
Node
::
ENTITY_NODE
:

1292 
Node
::
NOTATION_NODE
:

1293 
ec
 = 
RªgeExû±iÚ
::
INVALID_NODE_TYPE_ERR
;

1298 
	g»fNode
->
nodeTy³
()) {

1299 
	gNode
::
CDATA_SECTION_NODE
:

1300 
Node
::
COMMENT_NODE
:

1301 
Node
::
DOCUMENT_TYPE_NODE
:

1302 
Node
::
ELEMENT_NODE
:

1303 
Node
::
ENTITY_REFERENCE_NODE
:

1304 
Node
::
PROCESSING_INSTRUCTION_NODE
:

1305 
Node
::
TEXT_NODE
:

1306 
Node
::
XPATH_NAMESPACE_NODE
:

1308 
	gNode
::
ATTRIBUTE_NODE
:

1309 
Node
::
DOCUMENT_FRAGMENT_NODE
:

1310 
Node
::
DOCUMENT_NODE
:

1311 
Node
::
ENTITY_NODE
:

1312 
Node
::
NOTATION_NODE
:

1313 
ec
 = 
RªgeExû±iÚ
::
INVALID_NODE_TYPE_ERR
;

1317 
	gec
 = 0;

1318 
£tS¹BefÜe
(
»fNode
, 
ec
);

1319 ià(
	gec
)

1321 
£tEndAá”
(
»fNode
, 
ec
);

1324 
	gRªge
::
£ËùNodeCÚ‹Ás
(
Node
* 
»fNode
, 
Exû±iÚCode
& 
ec
)

1326 ià(!
	gm_¡¬t
.
cÚš”
()) {

1327 
	gec
 = 
INVALID_STATE_ERR
;

1331 ià(!
	g»fNode
) {

1332 
	gec
 = 
NOT_FOUND_ERR
;

1338 
Node
* 
	gn
 = 
»fNode
;‚;‚ = 
n
->
·»ÁNode
()) {

1339 
n
->
nodeTy³
()) {

1340 
Node
::
ATTRIBUTE_NODE
:

1341 
Node
::
CDATA_SECTION_NODE
:

1342 
Node
::
COMMENT_NODE
:

1343 
Node
::
DOCUMENT_FRAGMENT_NODE
:

1344 
Node
::
DOCUMENT_NODE
:

1345 
Node
::
ELEMENT_NODE
:

1346 
Node
::
ENTITY_REFERENCE_NODE
:

1347 
Node
::
PROCESSING_INSTRUCTION_NODE
:

1348 
Node
::
TEXT_NODE
:

1349 
Node
::
XPATH_NAMESPACE_NODE
:

1351 
	gNode
::
DOCUMENT_TYPE_NODE
:

1352 
Node
::
ENTITY_NODE
:

1353 
Node
::
NOTATION_NODE
:

1354 
ec
 = 
RªgeExû±iÚ
::
INVALID_NODE_TYPE_ERR
;

1359 
	gm_¡¬t
.
£tToS¹OfNode
(
»fNode
);

1360 
	gm_’d
.
£tToEndOfNode
(
»fNode
);

1363 
	gRªge
::
su¼oundCÚ‹Ás
(
PassRefPŒ
<
Node
> 
·ssNewP¬’t
, 
Exû±iÚCode
& 
ec
)

1365 
	gRefPŒ
<
	gNode
> 
	gÃwP¬’t
 = 
·ssNewP¬’t
;

1367 ià(!
	gm_¡¬t
.
cÚš”
()) {

1368 
	gec
 = 
INVALID_STATE_ERR
;

1372 ià(!
	gÃwP¬’t
) {

1373 
	gec
 = 
NOT_FOUND_ERR
;

1379 
	gÃwP¬’t
->
nodeTy³
()) {

1380 
	gNode
::
ATTRIBUTE_NODE
:

1381 
Node
::
DOCUMENT_FRAGMENT_NODE
:

1382 
Node
::
DOCUMENT_NODE
:

1383 
Node
::
DOCUMENT_TYPE_NODE
:

1384 
Node
::
ENTITY_NODE
:

1385 
Node
::
NOTATION_NODE
:

1386 
ec
 = 
RªgeExû±iÚ
::
INVALID_NODE_TYPE_ERR
;

1388 
	gNode
::
CDATA_SECTION_NODE
:

1389 
Node
::
COMMENT_NODE
:

1390 
Node
::
ELEMENT_NODE
:

1391 
Node
::
ENTITY_REFERENCE_NODE
:

1392 
Node
::
PROCESSING_INSTRUCTION_NODE
:

1393 
Node
::
TEXT_NODE
:

1394 
Node
::
XPATH_NAMESPACE_NODE
:

1400 ià(
cÚšedByR—dOÆy
()) {

1401 
	gec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

1407 ià(
	gÃwP¬’t
->
docum’t
(è!ğ
m_¡¬t
.
cÚš”
()->document()) {

1408 
ec
 = 
WRONG_DOCUMENT_ERR
;

1413 
Node
* 
	g·»ÁOfNewP¬’t
 = 
m_¡¬t
.
cÚš”
();

1418 ià(
	g·»ÁOfNewP¬’t
->
isCh¬aù”D©aNode
())

1419 
	g·»ÁOfNewP¬’t
 = 
·»ÁOfNewP¬’t
->
·»ÁNode
();

1420 ià(!
	g·»ÁOfNewP¬’t
 || !·»ÁOfNewP¬’t->
chdTy³AÎowed
(
ÃwP¬’t
->
nodeTy³
())) {

1421 
	gec
 = 
HIERARCHY_REQUEST_ERR
;

1425 ià(
	gm_¡¬t
.
cÚš”
(è=ğ
ÃwP¬’t
 || 
m_¡¬t
.cÚš”()->
isDesûndªtOf
ÒewP¬’t.
g‘
())) {

1426 
ec
 = 
HIERARCHY_REQUEST_ERR
;

1434 
Node
* 
	g¡¬tNÚTextCÚš”
 = 
m_¡¬t
.
cÚš”
();

1435 ià(
	g¡¬tNÚTextCÚš”
->
nodeTy³
(è=ğ
Node
::
TEXT_NODE
)

1436 
¡¬tNÚTextCÚš”
 = s¹NÚTextCÚš”->
·»ÁNode
();

1437 
Node
* 
	g’dNÚTextCÚš”
 = 
m_’d
.
cÚš”
();

1438 ià(
	g’dNÚTextCÚš”
->
nodeTy³
(è=ğ
Node
::
TEXT_NODE
)

1439 
’dNÚTextCÚš”
 =ƒndNÚTextCÚš”->
·»ÁNode
();

1440 ià(
	g¡¬tNÚTextCÚš”
 !ğ
’dNÚTextCÚš”
) {

1441 
ec
 = 
RªgeExû±iÚ
::
BAD_BOUNDARYPOINTS_ERR
;

1445 
	gec
 = 0;

1446 
Node
* 
	gn
 = 
ÃwP¬’t
->
fœ¡Chd
()) {

1447 
ÃwP¬’t
->
»moveChd
(
n
, 
ec
);

1448 ià(
	gec
)

1451 
	gRefPŒ
<
	gDocum’tF¿gm’t
> 
	gäagm’t
 = 
exŒaùCÚ‹Ás
(
ec
);

1452 ià(
	gec
)

1454 
š£¹Node
(
ÃwP¬’t
, 
ec
);

1455 ià(
	gec
)

1457 
	gÃwP¬’t
->
­³ndChd
(
äagm’t
.
»Ëa£
(), 
ec
);

1458 ià(
	gec
)

1460 
£ËùNode
(
ÃwP¬’t
.
g‘
(), 
ec
);

1463 
	gRªge
::
£tS¹BefÜe
(
Node
* 
»fNode
, 
Exû±iÚCode
& 
ec
)

1465 ià(!
	gm_¡¬t
.
cÚš”
()) {

1466 
	gec
 = 
INVALID_STATE_ERR
;

1470 ià(!
	g»fNode
) {

1471 
	gec
 = 
NOT_FOUND_ERR
;

1475 ià(
	g»fNode
->
docum’t
(è!ğ
m_owÃrDocum’t
) {

1476 
ec
 = 
WRONG_DOCUMENT_ERR
;

1480 
	gec
 = 0;

1481 
checkNodeBA
(
»fNode
, 
ec
);

1482 ià(
	gec
)

1485 
£tS¹
(
»fNode
->
·»ÁNode
(),„efNode->
nodeIndex
(), 
ec
);

1488 
	gRªge
::
checkD–‘eExŒaù
(
Exû±iÚCode
& 
ec
)

1490 ià(!
m_¡¬t
.
cÚš”
()) {

1491 
ec
 = 
INVALID_STATE_ERR
;

1495 
	gec
 = 0;

1496 ià(!
commÚAnû¡ÜCÚš”
(
ec
è|| 
	gec
)

1499 
Node
* 
	g·¡La¡
 = 
·¡La¡Node
();

1500 
Node
* 
	gn
 = 
fœ¡Node
();‚ !ğ
·¡La¡
;‚ = 
n
->
Œav”£NextNode
()) {

1501 ià(
n
->
isR—dOÆyNode
()) {

1502 
ec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

1505 ià(
	gn
->
nodeTy³
(è=ğ
Node
::
DOCUMENT_TYPE_NODE
) {

1506 
ec
 = 
HIERARCHY_REQUEST_ERR
;

1511 ià(
cÚšedByR—dOÆy
()) {

1512 
	gec
 = 
NO_MODIFICATION_ALLOWED_ERR
;

1517 
boŞ
 
	gRªge
::
cÚšedByR—dOÆy
() const

1519 
Node
* 
n
 = 
m_¡¬t
.
cÚš”
(); 
	gn
;‚ =‚->
·»ÁNode
()) {

1520 ià(
n
->
isR—dOÆyNode
())

1521  
Œue
;

1523 
Node
* 
	gn
 = 
m_’d
.
cÚš”
();‚;‚ = 
n
->
·»ÁNode
()) {

1524 ià(
n
->
isR—dOÆyNode
())

1525  
Œue
;

1527  
	gçl£
;

1530 
Node
* 
	gRªge
::
fœ¡Node
() const

1532 ià(!
m_¡¬t
.
cÚš”
())

1534 ià(
	gm_¡¬t
.
cÚš”
()->
off£tInCh¬aù”s
())

1535  
	gm_¡¬t
.
cÚš”
();

1536 ià(
Node
* 
	gchd
 = 
m_¡¬t
.
cÚš”
()->
chdNode
(m_¡¬t.
off£t
()))

1537  
chd
;

1538 ià(!
	gm_¡¬t
.
off£t
())

1539  
	gm_¡¬t
.
cÚš”
();

1540  
	gm_¡¬t
.
cÚš”
()->
Œav”£NextSiblšg
();

1543 
Pos™iÚ
 
	gRªge
::
ed™šgS¹Pos™iÚ
() const

1550 
VisibËPos™iÚ
 
visibËPos™iÚ
(
m_¡¬t
.
cÚš”
(), m_¡¬t.
off£t
(), 
VP_DEFAULT_AFFINITY
);

1551 ià(
	gvisibËPos™iÚ
.
isNuÎ
())

1552  
Pos™iÚ
();

1554 
Exû±iÚCode
 
	gec
 = 0;

1557 ià(
cŞÏp£d
(
ec
))

1558  
	gvisibËPos™iÚ
.
d“pEquiv®’t
();

1561 ià(
isEndOfP¬ag¿ph
(
visibËPos™iÚ
))

1562  
	gvisibËPos™iÚ
.
Ãxt
().
d“pEquiv®’t
().
down¡»am
();

1566  
	gvisibËPos™iÚ
.
d“pEquiv®’t
().
down¡»am
();

1569 
Node
* 
	gRªge
::
shadowT»eRoÙNode
() const

1571  
¡¬tCÚš”
(è? s¹CÚš”()->
shadowT»eRoÙNode
() : 0;

1574 
Node
* 
	gRªge
::
·¡La¡Node
() const

1576 ià(!
m_¡¬t
.
cÚš”
(è|| !
m_’d
.container())

1578 ià(
	gm_’d
.
cÚš”
()->
off£tInCh¬aù”s
())

1579  
	gm_’d
.
cÚš”
()->
Œav”£NextSiblšg
();

1580 ià(
Node
* 
	gchd
 = 
m_’d
.
cÚš”
()->
chdNode
(m_’d.
off£t
()))

1581  
chd
;

1582  
	gm_’d
.
cÚš”
()->
Œav”£NextSiblšg
();

1585 
IÁReù
 
	gRªge
::
boundšgBox
()

1587 
IÁReù
 
»suÉ
;

1588 
	gVeùÜ
<
	gIÁReù
> 
	g»ùs
;

1589 
‹xtReùs
(
»ùs
);

1590 cÚ¡ 
size_t
 
	gn
 = 
»ùs
.
size
();

1591 
size_t
 
	gi
 = 0; i < 
	gn
; ++i)

1592 
	g»suÉ
.
un™e
(
»ùs
[
i
]);

1593  
	g»suÉ
;

1596 
	gRªge
::
‹xtReùs
(
VeùÜ
<
IÁReù
>& 
»ùs
, 
boŞ
 
u£S–eùiÚHeight
)

1598 
Node
* 
	g¡¬tCÚš”
 = 
m_¡¬t
.
cÚš”
();

1599 
Node
* 
	g’dCÚš”
 = 
m_’d
.
cÚš”
();

1601 ià(!
	g¡¬tCÚš”
 || !
	g’dCÚš”
)

1604 
Node
* 
	g¡İNode
 = 
·¡La¡Node
();

1605 
Node
* 
	gnode
 = 
fœ¡Node
();‚od!ğ
¡İNode
;‚odğ
node
->
Œav”£NextNode
()) {

1606 
R’d”Objeù
* 
r
 = 
node
->
»nd””
();

1607 ià(!
	gr
 || !r->
isText
())

1609 
R’d”Text
* 
	g»nd”Text
 = 
toR’d”Text
(
r
);

1610 
	g¡¬tOff£t
 = 
node
 =ğ
¡¬tCÚš”
 ? 
m_¡¬t
.
off£t
() : 0;

1611 
	g’dOff£t
 = 
node
 =ğ
’dCÚš”
 ? 
m_’d
.
off£t
(è: 
num”ic_lim™s
<>::
max
();

1612 
	g»nd”Text
->
absŞu‹ReùsFÜRªge
(
»ùs
, 
¡¬tOff£t
, 
’dOff£t
, 
u£S–eùiÚHeight
);

1616 
	gRªge
::
‹xtQuads
(
VeùÜ
<
FlßtQuad
>& 
quads
, 
boŞ
 
u£S–eùiÚHeight
)

1618 
Node
* 
	g¡¬tCÚš”
 = 
m_¡¬t
.
cÚš”
();

1619 
Node
* 
	g’dCÚš”
 = 
m_’d
.
cÚš”
();

1621 ià(!
	g¡¬tCÚš”
 || !
	g’dCÚš”
)

1624 
Node
* 
	g¡İNode
 = 
·¡La¡Node
();

1625 
Node
* 
	gnode
 = 
fœ¡Node
();‚od!ğ
¡İNode
;‚odğ
node
->
Œav”£NextNode
()) {

1626 
R’d”Objeù
* 
r
 = 
node
->
»nd””
();

1627 ià(!
	gr
 || !r->
isText
())

1629 
R’d”Text
* 
	g»nd”Text
 = 
toR’d”Text
(
r
);

1630 
	g¡¬tOff£t
 = 
node
 =ğ
¡¬tCÚš”
 ? 
m_¡¬t
.
off£t
() : 0;

1631 
	g’dOff£t
 = 
node
 =ğ
’dCÚš”
 ? 
m_’d
.
off£t
(è: 
num”ic_lim™s
<>::
max
();

1632 
	g»nd”Text
->
absŞu‹QuadsFÜRªge
(
quads
, 
¡¬tOff£t
, 
’dOff£t
, 
u£S–eùiÚHeight
);

1636 #iâdeà
NDEBUG


1637 
	#FÜm©BufãrSize
 1024

	)

1638 
	gRªge
::
fÜm©FÜDebugg”
(* 
bufãr
, 
Ëngth
) const

1640 
SŒšg
 
	g»suÉ
;

1641 
SŒšg
 
	gs
;

1643 ià(!
	gm_¡¬t
.
cÚš”
(è|| !
	gm_’d
.container())

1644 
	g»suÉ
 = "<empty>";

1646 
	gs
[
FÜm©BufãrSize
];

1647 
	g»suÉ
 += "from offset ";

1648 
	g»suÉ
 +ğ
SŒšg
::
numb”
(
m_¡¬t
.
off£t
());

1649 
	g»suÉ
 += " of ";

1650 
	gm_¡¬t
.
cÚš”
()->
fÜm©FÜDebugg”
(
s
, 
FÜm©BufãrSize
);

1651 
	g»suÉ
 +ğ
s
;

1652 
	g»suÉ
 += "o offset ";

1653 
	g»suÉ
 +ğ
SŒšg
::
numb”
(
m_’d
.
off£t
());

1654 
	g»suÉ
 += " of ";

1655 
	gm_’d
.
cÚš”
()->
fÜm©FÜDebugg”
(
s
, 
FÜm©BufãrSize
);

1656 
	g»suÉ
 +ğ
s
;

1659 
¡ºıy
(
bufãr
, 
»suÉ
.
utf8
().
d©a
(), 
Ëngth
 - 1);

1661 #undeà
FÜm©BufãrSize


1664 
boŞ
 
¬eRªgesEqu®
(cÚ¡ 
Rªge
* 
a
, cÚ¡ Rªge* 
b
)

1666 ià(
	ga
 =ğ
b
)

1667  
Œue
;

1668 ià(!
	ga
 || !
	gb
)

1669  
	gçl£
;

1670  
	ga
->
¡¬tPos™iÚ
(è=ğ
b
->¡¬tPos™iÚ(è&& 
a
->
’dPos™iÚ
() == b->endPosition();

1673 
	gPassRefPŒ
<
	gRªge
> 
¿ngeOfCÚ‹Ás
(
Node
* 
node
)

1675 
ASSERT
(
node
);

1676 
	gRefPŒ
<
	gRªge
> 
	g¿nge
 = 
Rªge
::
ü—‹
(
node
->
docum’t
());

1677 
	gexû±iÚ
 = 0;

1678 
	g¿nge
->
£ËùNodeCÚ‹Ás
(
node
, 
exû±iÚ
);

1679  
	g¿nge
.
»Ëa£
();

1682 
	gRªge
::
maxS¹Off£t
() const

1684 ià(!
m_¡¬t
.
cÚš”
())

1686 ià(!
	gm_¡¬t
.
cÚš”
()->
off£tInCh¬aù”s
())

1687  
	gm_¡¬t
.
cÚš”
()->
chdNodeCouÁ
();

1688  
	gm_¡¬t
.
cÚš”
()->
maxCh¬aù”Off£t
();

1691 
	gRªge
::
maxEndOff£t
() const

1693 ià(!
m_’d
.
cÚš”
())

1695 ià(!
	gm_’d
.
cÚš”
()->
off£tInCh¬aù”s
())

1696  
	gm_’d
.
cÚš”
()->
chdNodeCouÁ
();

1697  
	gm_’d
.
cÚš”
()->
maxCh¬aù”Off£t
();

1700 
šlše
 
bound¬yNodeChd»nChªged
(
RªgeBound¬yPošt
& 
bound¬y
, 
CÚš”Node
* 
cÚš”
)

1702 ià(!
	gbound¬y
.
chdBefÜe
())

1704 ià(
	gbound¬y
.
cÚš”
() != container)

1706 
	gbound¬y
.
šv®id©eOff£t
();

1709 
	gRªge
::
nodeChd»nChªged
(
CÚš”Node
* 
cÚš”
)

1711 
ASSERT
(
cÚš”
);

1712 
ASSERT
(
cÚš”
->
docum’t
(è=ğ
m_owÃrDocum’t
);

1713 
bound¬yNodeChd»nChªged
(
m_¡¬t
, 
cÚš”
);

1714 
bound¬yNodeChd»nChªged
(
m_’d
, 
cÚš”
);

1717 
šlše
 
bound¬yNodeWlBeRemoved
(
RªgeBound¬yPošt
& 
bound¬y
, 
Node
* 
nodeToBeRemoved
)

1719 ià(
	gbound¬y
.
chdBefÜe
(è=ğ
nodeToBeRemoved
) {

1720 
bound¬y
.
chdBefÜeWlBeRemoved
();

1724 
Node
* 
	gn
 = 
bound¬y
.
cÚš”
();‚;‚ = 
n
->
·»ÁNode
()) {

1725 ià(
n
 =ğ
nodeToBeRemoved
) {

1726 
bound¬y
.
£tToBefÜeChd
(
nodeToBeRemoved
);

1732 
	gRªge
::
nodeWlBeRemoved
(
Node
* 
node
)

1734 
ASSERT
(
node
);

1735 
ASSERT
(
node
->
docum’t
(è=ğ
m_owÃrDocum’t
);

1736 
ASSERT
(
node
 !ğ
m_owÃrDocum’t
);

1737 
ASSERT
(
node
->
·»ÁNode
());

1738 
bound¬yNodeWlBeRemoved
(
m_¡¬t
, 
node
);

1739 
bound¬yNodeWlBeRemoved
(
m_’d
, 
node
);

1742 
šlše
 
bound¬yTextIn£¹ed
(
RªgeBound¬yPošt
& 
bound¬y
, 
Node
* 
‹xt
, 
off£t
, 
Ëngth
)

1744 ià(
	gbound¬y
.
cÚš”
(è!ğ
‹xt
)

1746 
	gbound¬yOff£t
 = 
bound¬y
.
off£t
();

1747 ià(
	goff£t
 >ğ
bound¬yOff£t
)

1749 
	gbound¬y
.
£tOff£t
(
bound¬yOff£t
 + 
Ëngth
);

1752 
	gRªge
::
‹xtIn£¹ed
(
Node
* 
‹xt
, 
off£t
, 
Ëngth
)

1754 
ASSERT
(
‹xt
);

1755 
ASSERT
(
‹xt
->
docum’t
(è=ğ
m_owÃrDocum’t
);

1756 
bound¬yTextIn£¹ed
(
m_¡¬t
, 
‹xt
, 
off£t
, 
Ëngth
);

1757 
bound¬yTextIn£¹ed
(
m_’d
, 
‹xt
, 
off£t
, 
Ëngth
);

1760 
šlše
 
bound¬yTextRemoved
(
RªgeBound¬yPošt
& 
bound¬y
, 
Node
* 
‹xt
, 
off£t
, 
Ëngth
)

1762 ià(
	gbound¬y
.
cÚš”
(è!ğ
‹xt
)

1764 
	gbound¬yOff£t
 = 
bound¬y
.
off£t
();

1765 ià(
	goff£t
 >ğ
bound¬yOff£t
)

1767 ià(
	goff£t
 + 
	gËngth
 >ğ
bound¬yOff£t
)

1768 
bound¬y
.
£tOff£t
(
off£t
);

1770 
	gbound¬y
.
£tOff£t
(
bound¬yOff£t
 - 
Ëngth
);

1773 
	gRªge
::
‹xtRemoved
(
Node
* 
‹xt
, 
off£t
, 
Ëngth
)

1775 
ASSERT
(
‹xt
);

1776 
ASSERT
(
‹xt
->
docum’t
(è=ğ
m_owÃrDocum’t
);

1777 
bound¬yTextRemoved
(
m_¡¬t
, 
‹xt
, 
off£t
, 
Ëngth
);

1778 
bound¬yTextRemoved
(
m_’d
, 
‹xt
, 
off£t
, 
Ëngth
);

1781 
šlše
 
bound¬yTextNodesM”ged
(
RªgeBound¬yPošt
& 
bound¬y
, 
NodeW™hIndex
& 
ŞdNode
, 
off£t
)

1783 ià(
	gbound¬y
.
cÚš”
(è=ğ
ŞdNode
.
node
())

1784 
bound¬y
.
£t
(
ŞdNode
.
node
()->
´eviousSiblšg
(), bound¬y.
off£t
() + offset, 0);

1785 ià(
	gbound¬y
.
cÚš”
(è=ğ
ŞdNode
.
node
()->
·»ÁNode
(è&& 
bound¬y
.
off£t
(è=ğŞdNode.
šdex
())

1786 
bound¬y
.
£t
(
ŞdNode
.
node
()->
´eviousSiblšg
(), 
off£t
, 0);

1789 
	gRªge
::
‹xtNodesM”ged
(
NodeW™hIndex
& 
ŞdNode
, 
off£t
)

1791 
ASSERT
(
ŞdNode
.
node
());

1792 
ASSERT
(
ŞdNode
.
node
()->
docum’t
(è=ğ
m_owÃrDocum’t
);

1793 
ASSERT
(
ŞdNode
.
node
()->
·»ÁNode
());

1794 
ASSERT
(
ŞdNode
.
node
()->
isTextNode
());

1795 
ASSERT
(
ŞdNode
.
node
()->
´eviousSiblšg
());

1796 
ASSERT
(
ŞdNode
.
node
()->
´eviousSiblšg
()->
isTextNode
());

1797 
bound¬yTextNodesM”ged
(
m_¡¬t
, 
ŞdNode
, 
off£t
);

1798 
bound¬yTextNodesM”ged
(
m_’d
, 
ŞdNode
, 
off£t
);

1801 
šlše
 
bound¬yTextNodesS¶™
(
RªgeBound¬yPošt
& 
bound¬y
, 
Text
* 
ŞdNode
)

1803 ià(
	gbound¬y
.
cÚš”
(è!ğ
ŞdNode
)

1805 
	gbound¬yOff£t
 = 
bound¬y
.
off£t
();

1806 ià(
	gbound¬yOff£t
 <ğ
ŞdNode
->
Ëngth
())

1808 
	gbound¬y
.
£t
(
ŞdNode
->
ÃxtSiblšg
(), 
bound¬yOff£t
 - oldNode->
Ëngth
(), 0);

1811 
	gRªge
::
‹xtNodeS¶™
(
Text
* 
ŞdNode
)

1813 
ASSERT
(
ŞdNode
);

1814 
ASSERT
(
ŞdNode
->
docum’t
(è=ğ
m_owÃrDocum’t
);

1815 
ASSERT
(
ŞdNode
->
·»ÁNode
());

1816 
ASSERT
(
ŞdNode
->
isTextNode
());

1817 
ASSERT
(
ŞdNode
->
ÃxtSiblšg
());

1818 
ASSERT
(
ŞdNode
->
ÃxtSiblšg
()->
isTextNode
());

1819 
bound¬yTextNodesS¶™
(
m_¡¬t
, 
ŞdNode
);

1820 
bound¬yTextNodesS¶™
(
m_’d
, 
ŞdNode
);

1823 
	gRªge
::
ex·nd
(cÚ¡ 
SŒšg
& 
un™
, 
Exû±iÚCode
& 
ec
)

1825 
VisibËPos™iÚ
 
¡¬t
(
¡¬tPos™iÚ
());

1826 
VisibËPos™iÚ
 
’d
(
’dPos™iÚ
());

1827 ià(
	gun™
 == "word") {

1828 
¡¬t
 = 
¡¬tOfWÜd
(start);

1829 
	g’d
 = 
’dOfWÜd
(
’d
);

1830 } ià(
	gun™
 == "sentence") {

1831 
¡¬t
 = 
¡¬tOfS’‹nû
(start);

1832 
	g’d
 = 
’dOfS’‹nû
(
’d
);

1833 } ià(
	gun™
 == "block") {

1834 
¡¬t
 = 
¡¬tOfP¬ag¿ph
(start);

1835 
	g’d
 = 
’dOfP¬ag¿ph
(
’d
);

1836 } ià(
	gun™
 == "document") {

1837 
¡¬t
 = 
¡¬tOfDocum’t
(start);

1838 
	g’d
 = 
’dOfDocum’t
(
’d
);

1841 
£tS¹
(
¡¬t
.
d“pEquiv®’t
().
cÚš”Node
(), s¹.d“pEquiv®’t().
compu‹Off£tInCÚš”Node
(), 
ec
);

1842 
£tEnd
(
’d
.
d“pEquiv®’t
().
cÚš”Node
(),ƒnd.d“pEquiv®’t().
compu‹Off£tInCÚš”Node
(), 
ec
);

1845 
	gPassRefPŒ
<
	gCl›ÁReùLi¡
> 
	gRªge
::
g‘Cl›ÁReùs
() const

1847 ià(!
m_¡¬t
.
cÚš”
())

1850 
	gm_owÃrDocum’t
->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1852 
	gVeùÜ
<
	gFlßtQuad
> 
	gquads
;

1853 
g‘BÜd”AndTextQuads
(
quads
);

1855  
	gCl›ÁReùLi¡
::
ü—‹
(
quads
);

1858 
	gPassRefPŒ
<
	gCl›ÁReù
> 
	gRªge
::
g‘BoundšgCl›ÁReù
() const

1860 ià(!
m_¡¬t
.
cÚš”
())

1863 
	gm_owÃrDocum’t
->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1865 
	gVeùÜ
<
	gFlßtQuad
> 
	gquads
;

1866 
g‘BÜd”AndTextQuads
(
quads
);

1868 ià(
	gquads
.
isEm±y
())

1869  
	gCl›ÁReù
::
ü—‹
();

1871 
IÁReù
 
	g»suÉ
;

1872 
size_t
 
	gi
 = 0; i < 
	gquads
.
size
(); ++i)

1873 
	g»suÉ
.
un™e
(
quads
[
i
].
’şosšgBoundšgBox
());

1875  
	gCl›ÁReù
::
ü—‹
(
»suÉ
);

1878 
adju¡FlßtQuadsFÜSüŞlAndAbsŞu‹Zoom
(
VeùÜ
<
FlßtQuad
>& 
quads
, 
Docum’t
* 
docum’t
, 
R’d”Objeù
* 
»nd””
)

1880 
F¿meV›w
* 
	gv›w
 = 
docum’t
->
v›w
();

1881 ià(!
	gv›w
)

1884 
IÁReù
 
	gvisibËCÚ‹ÁReù
 = 
v›w
->
visibËCÚ‹ÁReù
();

1885 
size_t
 
	gi
 = 0; i < 
	gquads
.
size
(); ++i) {

1886 
	gquads
[
i
].
move
(-
visibËCÚ‹ÁReù
.
x
(), -visibËCÚ‹ÁReù.
y
());

1887 
adju¡FlßtQuadFÜAbsŞu‹Zoom
(
quads
[
i
], 
»nd””
);

1891 
	gRªge
::
g‘BÜd”AndTextQuads
(
VeùÜ
<
FlßtQuad
>& 
quads
) const

1893 
Node
* 
¡¬tCÚš”
 = 
m_¡¬t
.
cÚš”
();

1894 
Node
* 
	g’dCÚš”
 = 
m_’d
.
cÚš”
();

1895 
Node
* 
	g¡İNode
 = 
·¡La¡Node
();

1897 
	gHashS‘
<
	gNode
*> 
	gnodeS‘
;

1898 
Node
* 
	gnode
 = 
fœ¡Node
();‚od!ğ
¡İNode
;‚odğ
node
->
Œav”£NextNode
()) {

1899 ià(
node
->
isEËm’tNode
())

1900 
nodeS‘
.
add
(
node
);

1903 
Node
* 
	gnode
 = 
fœ¡Node
();‚od!ğ
¡İNode
;‚odğ
node
->
Œav”£NextNode
()) {

1904 ià(
node
->
isEËm’tNode
()) {

1905 ià(!
nodeS‘
.
cÚšs
(
node
->
·»ÁNode
())) {

1906 ià(
R’d”BoxMod–Objeù
* 
»nd”BoxMod–Objeù
 = 
¡©ic_ÿ¡
<
EËm’t
*>(
node
)->renderBoxModelObject()) {

1907 
VeùÜ
<
FlßtQuad
> 
–em’tQuads
;

1908 
	g»nd”BoxMod–Objeù
->
absŞu‹Quads
(
–em’tQuads
);

1909 
adju¡FlßtQuadsFÜSüŞlAndAbsŞu‹Zoom
(
–em’tQuads
, 
m_owÃrDocum’t
.
g‘
(), 
»nd”BoxMod–Objeù
);

1911 
	gquads
.
­³nd
(
–em’tQuads
);

1914 } ià(
	gnode
->
isTextNode
()) {

1915 ià(
R’d”Objeù
* 
	g»nd””
 = 
¡©ic_ÿ¡
<
Text
*>(
node
)->
»nd””
()) {

1916 
R’d”Text
* 
»nd”Text
 = 
toR’d”Text
(
»nd””
);

1917 
	g¡¬tOff£t
 = (
node
 =ğ
¡¬tCÚš”
è? 
m_¡¬t
.
off£t
() : 0;

1918 
	g’dOff£t
 = (
node
 =ğ
’dCÚš”
è? 
m_’d
.
off£t
(è: 
INT_MAX
;

1920 
	gVeùÜ
<
	gFlßtQuad
> 
	g‹xtQuads
;

1921 
	g»nd”Text
->
absŞu‹QuadsFÜRªge
(
‹xtQuads
, 
¡¬tOff£t
, 
’dOff£t
);

1922 
adju¡FlßtQuadsFÜSüŞlAndAbsŞu‹Zoom
(
‹xtQuads
, 
m_owÃrDocum’t
.
g‘
(), 
»nd”Text
);

1924 
	gquads
.
­³nd
(
‹xtQuads
);

1932 #iâdeà
NDEBUG


1934 
showT»e
(cÚ¡ 
WebCÜe
::
Rªge
* 
¿nge
)

1936 ià(
¿nge
 &&„ªge->
bound¬yPoštsV®id
()) {

1937 
WebCÜe
::
Pos™iÚ
 
¡¬t
 = 
¿nge
->
¡¬tPos™iÚ
();

1938 
	gWebCÜe
::
Pos™iÚ
 
’d
 = 
¿nge
->
’dPos™iÚ
();

1939 
	g¡¬t
.
node
()->
showT»eAndM¬k
(
¡¬t
.node(), "S", 
’d
.node(), "E");

1940 
årštf
(
¡d”r
, "¡¬ˆoff£t: %d,ƒnd off£t: %d\n", 
¡¬t
.
d•»ÿ‹dEd™šgOff£t
(), 
’d
.deprecatedEditingOffset());

	@Range.h

25 #iâdeà
Rªge_h


26 
	#Rªge_h


	)

28 
	~"FlßtQuad.h
"

29 
	~"RªgeBound¬yPošt.h
"

30 
	~<wtf/FÜw¬d.h
>

31 
	~<wtf/RefCouÁed.h
>

33 
Çme¥aû
 
	gWebCÜe
 {

35 
şass
 
	gCl›ÁReù
;

36 
şass
 
	gCl›ÁReùLi¡
;

37 
şass
 
	gDocum’tF¿gm’t
;

38 
şass
 
	gNodeW™hIndex
;

39 
şass
 
	gText
;

41 
şass
 
	gRªge
 : 
public
 
RefCouÁed
<
Rªge
> {

42 
public
:

43 
PassRefPŒ
<
Rªge
> 
ü—‹
(PassRefPŒ<
Docum’t
>);

44 
	gPassRefPŒ
<
	gRªge
> 
ü—‹
(
PassRefPŒ
<
Docum’t
>, PassRefPŒ<
Node
> 
¡¬tCÚš”
, 
¡¬tOff£t
, PassRefPŒ<Node> 
’dCÚš”
, 
’dOff£t
);

45 
	gPassRefPŒ
<
	gRªge
> 
ü—‹
(
PassRefPŒ
<
Docum’t
>, cÚ¡ 
Pos™iÚ
&, const Position&);

46 ~
Rªge
();

48 
Docum’t
* 
owÃrDocum’t
(ècÚ¡ {  
	gm_owÃrDocum’t
.
g‘
(); }

49 
Node
* 
¡¬tCÚš”
(ècÚ¡ {  
	gm_¡¬t
.
cÚš”
(); }

50 
¡¬tOff£t
(ècÚ¡ {  
	gm_¡¬t
.
off£t
(); }

51 
Node
* 
’dCÚš”
(ècÚ¡ {  
	gm_’d
.
cÚš”
(); }

52 
’dOff£t
(ècÚ¡ {  
	gm_’d
.
off£t
(); }

54 
Node
* 
¡¬tCÚš”
(
Exû±iÚCode
&) const;

55 
¡¬tOff£t
(
Exû±iÚCode
&) const;

56 
Node
* 
’dCÚš”
(
Exû±iÚCode
&) const;

57 
’dOff£t
(
Exû±iÚCode
&) const;

58 
boŞ
 
cŞÏp£d
(
Exû±iÚCode
&) const;

60 
Node
* 
commÚAnû¡ÜCÚš”
(
Exû±iÚCode
&) const;

61 
Node
* 
commÚAnû¡ÜCÚš”
(Node* 
cÚš”A
, Node* 
cÚš”B
);

62 
£tS¹
(
PassRefPŒ
<
Node
> 
cÚš”
, 
off£t
, 
Exû±iÚCode
&);

63 
£tEnd
(
PassRefPŒ
<
Node
> 
cÚš”
, 
off£t
, 
Exû±iÚCode
&);

64 
cŞÏp£
(
boŞ
 
toS¹
, 
Exû±iÚCode
&);

65 
boŞ
 
isPoštInRªge
(
Node
* 
»fNode
, 
off£t
, 
Exû±iÚCode
&);

66 
com·»Pošt
(
Node
* 
»fNode
, 
off£t
, 
Exû±iÚCode
&) const;

67 
	eCom·»ResuÉs
 { 
	gNODE_BEFORE
, 
	gNODE_AFTER
, 
	gNODE_BEFORE_AND_AFTER
, 
	gNODE_INSIDE
 };

68 
Com·»ResuÉs
 
com·»Node
(
Node
* 
»fNode
, 
Exû±iÚCode
&) const;

69 
	eCom·»How
 { 
	gSTART_TO_START
, 
	gSTART_TO_END
, 
	gEND_TO_END
, 
	gEND_TO_START
 };

70 
com·»Bound¬yPošts
(
Com·»How
, cÚ¡ 
Rªge
* 
sourûRªge
, 
Exû±iÚCode
&) const;

71 
com·»Bound¬yPošts
(
Node
* 
cÚš”A
, 
off£tA
, Node* 
cÚš”B
, 
off£tB
);

72 
com·»Bound¬yPošts
(cÚ¡ 
RªgeBound¬yPošt
& 
bound¬yA
, cÚ¡ RªgeBound¬yPošt& 
bound¬yB
);

73 
boŞ
 
bound¬yPoštsV®id
() const;

74 
boŞ
 
š‹r£ùsNode
(
Node
* 
»fNode
, 
Exû±iÚCode
&);

75 
d–‘eCÚ‹Ás
(
Exû±iÚCode
&);

76 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
exŒaùCÚ‹Ás
(
Exû±iÚCode
&);

77 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
şÚeCÚ‹Ás
(
Exû±iÚCode
&);

78 
š£¹Node
(
PassRefPŒ
<
Node
>, 
Exû±iÚCode
&);

79 
SŒšg
 
toSŒšg
(
Exû±iÚCode
&) const;

81 
SŒšg
 
toHTML
() const;

82 
SŒšg
 
‹xt
() const;

84 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
ü—‹CÚ‹xtu®F¿gm’t
(cÚ¡ 
SŒšg
& 
html
, 
Exû±iÚCode
&) const;

86 
d‘ach
(
Exû±iÚCode
&);

87 
	gPassRefPŒ
<
	gRªge
> 
şÚeRªge
(
Exû±iÚCode
&) const;

89 
£tS¹Aá”
(
Node
*, 
Exû±iÚCode
&);

90 
£tEndBefÜe
(
Node
*, 
Exû±iÚCode
&);

91 
£tEndAá”
(
Node
*, 
Exû±iÚCode
&);

92 
£ËùNode
(
Node
*, 
Exû±iÚCode
&);

93 
£ËùNodeCÚ‹Ás
(
Node
*, 
Exû±iÚCode
&);

94 
su¼oundCÚ‹Ás
(
PassRefPŒ
<
Node
>, 
Exû±iÚCode
&);

95 
£tS¹BefÜe
(
Node
*, 
Exû±iÚCode
&);

97 cÚ¡ 
Pos™iÚ
 
¡¬tPos™iÚ
(ècÚ¡ {  
	gm_¡¬t
.
toPos™iÚ
(); }

98 cÚ¡ 
Pos™iÚ
 
’dPos™iÚ
(ècÚ¡ {  
	gm_’d
.
toPos™iÚ
(); }

100 
Node
* 
fœ¡Node
() const;

101 
Node
* 
·¡La¡Node
() const;

103 
Pos™iÚ
 
ed™šgS¹Pos™iÚ
() const;

105 
Node
* 
shadowT»eRoÙNode
() const;

107 
IÁReù
 
boundšgBox
();

109 
‹xtReùs
(
VeùÜ
<
IÁReù
>&, 
boŞ
 
u£S–eùiÚHeight
 = 
çl£
);

111 
‹xtQuads
(
VeùÜ
<
FlßtQuad
>&, 
boŞ
 
u£S–eùiÚHeight
 = 
çl£
);

113 
nodeChd»nChªged
(
CÚš”Node
*);

114 
nodeWlBeRemoved
(
Node
*);

116 
‹xtIn£¹ed
(
Node
*, 
off£t
, 
Ëngth
);

117 
‹xtRemoved
(
Node
*, 
off£t
, 
Ëngth
);

118 
‹xtNodesM”ged
(
NodeW™hIndex
& 
ŞdNode
, 
off£t
);

119 
‹xtNodeS¶™
(
Text
* 
ŞdNode
);

124 
ex·nd
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

126 
	gPassRefPŒ
<
	gCl›ÁReùLi¡
> 
g‘Cl›ÁReùs
() const;

127 
	gPassRefPŒ
<
	gCl›ÁReù
> 
g‘BoundšgCl›ÁReù
() const;

129 #iâdeà
NDEBUG


130 
fÜm©FÜDebugg”
(* 
bufãr
, 
Ëngth
) const;

133 
	g´iv©e
:

134 
Rªge
(
PassRefPŒ
<
Docum’t
>);

135 
Rªge
(
PassRefPŒ
<
Docum’t
>, PassRefPŒ<
Node
> 
¡¬tCÚš”
, 
¡¬tOff£t
, PassRefPŒ<Node> 
’dCÚš”
, 
’dOff£t
);

137 
Node
* 
checkNodeWOff£t
(Node*, 
off£t
, 
Exû±iÚCode
&) const;

138 
checkNodeBA
(
Node
*, 
Exû±iÚCode
&) const;

139 
checkD–‘eExŒaù
(
Exû±iÚCode
&);

140 
boŞ
 
cÚšedByR—dOÆy
() const;

141 
maxS¹Off£t
() const;

142 
maxEndOff£t
() const;

144 
	eAùiÚTy³
 { 
	gDELETE_CONTENTS
, 
	gEXTRACT_CONTENTS
, 
	gCLONE_CONTENTS
 };

145 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
´oûssCÚ‹Ás
(
AùiÚTy³
, 
Exû±iÚCode
&);

147 
g‘BÜd”AndTextQuads
(
VeùÜ
<
FlßtQuad
>&) const;

149 
	gRefPŒ
<
	gDocum’t
> 
	gm_owÃrDocum’t
;

150 
RªgeBound¬yPošt
 
	gm_¡¬t
;

151 
RªgeBound¬yPošt
 
	gm_’d
;

154 
	gPassRefPŒ
<
	gRªge
> 
¿ngeOfCÚ‹Ás
(
Node
*);

156 
boŞ
 
¬eRªgesEqu®
(cÚ¡ 
Rªge
*, const Range*);

160 #iâdeà
NDEBUG


162 
showT»e
(cÚ¡ 
WebCÜe
::
Rªge
*);

	@RangeBoundaryPoint.h

26 #iâdeà
RªgeBound¬yPošt_h


27 
	#RªgeBound¬yPošt_h


	)

29 
	~"Node.h
"

30 
	~"Pos™iÚ.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 şas 
	cRªgeBound¬yPošt
 {

35 
	gpublic
:

36 
ex¶ic™
 
RªgeBound¬yPošt
(
PassRefPŒ
<
Node
> 
cÚš”
);

38 cÚ¡ 
Pos™iÚ
 
toPos™iÚ
() const;

40 
Node
* 
cÚš”
() const;

41 
off£t
() const;

42 
Node
* 
chdBefÜe
() const;

44 
ş—r
();

46 
£t
(
PassRefPŒ
<
Node
> 
cÚš”
, 
off£t
, Node* 
chdBefÜe
);

47 
£tOff£t
(
off£t
);

49 
£tToBefÜeChd
(
Node
*);

50 
£tToS¹OfNode
(
PassRefPŒ
<
Node
>);

51 
£tToEndOfNode
(
PassRefPŒ
<
Node
>);

53 
chdBefÜeWlBeRemoved
();

54 
šv®id©eOff£t
() const;

55 
’su»Off£tIsV®id
() const;

57 
	g´iv©e
:

58 cÚ¡ 
šv®idOff£t
 = -1;

60 
	gRefPŒ
<
	gNode
> 
	gm_cÚš”Node
;

61 
mubË
 
	gm_off£tInCÚš”
;

62 
Node
* 
	gm_chdBefÜeBound¬y
;

65 
šlše
 
	gRªgeBound¬yPošt
::
RªgeBound¬yPošt
(
PassRefPŒ
<
Node
> 
cÚš”
)

66 : 
m_cÚš”Node
(
cÚš”
)

67 , 
m_off£tInCÚš”
(0)

68 , 
	$m_chdBefÜeBound¬y
(0)

70 
	`ASSERT
(
m_cÚš”Node
);

71 
	}
}

73 
šlše
 
Node
* 
	gRªgeBound¬yPošt
::
	$cÚš”
() const

75  
m_cÚš”Node
.
	`g‘
();

76 
	}
}

78 
šlše
 
Node
* 
	gRªgeBound¬yPošt
::
	$chdBefÜe
() const

80  
m_chdBefÜeBound¬y
;

81 
	}
}

83 
šlše
 
	gRªgeBound¬yPošt
::
	$’su»Off£tIsV®id
() const

85 ià(
m_off£tInCÚš”
 >= 0)

88 
	`ASSERT
(
m_chdBefÜeBound¬y
);

89 
m_off£tInCÚš”
 = 
m_chdBefÜeBound¬y
->
	`nodeIndex
() + 1;

90 
	}
}

92 
šlše
 cÚ¡ 
Pos™iÚ
 
	gRªgeBound¬yPošt
::
	$toPos™iÚ
() const

94 
	`’su»Off£tIsV®id
();

95  
	`Pos™iÚ
(
m_cÚš”Node
.
	`g‘
(), 
m_off£tInCÚš”
);

96 
	}
}

98 
šlše
 
	gRªgeBound¬yPošt
::
	$off£t
() const

100 
	`’su»Off£tIsV®id
();

101  
m_off£tInCÚš”
;

102 
	}
}

104 
šlše
 
	gRªgeBound¬yPošt
::
	$ş—r
()

106 
m_cÚš”Node
.
	`ş—r
();

107 
m_off£tInCÚš”
 = 0;

108 
m_chdBefÜeBound¬y
 = 0;

109 
	}
}

111 
šlše
 
	gRªgeBound¬yPošt
::
£t
(
PassRefPŒ
<
Node
> 
cÚš”
, 
off£t
, Node* 
chdBefÜe
)

113 
ASSERT
(
cÚš”
);

114 
ASSERT
(
off£t
 >= 0);

115 
ASSERT
(
chdBefÜe
 =ğ(
off£t
 ? 
cÚš”
->
chdNode
(offset - 1) : 0));

116 
	gm_cÚš”Node
 = 
cÚš”
;

117 
	gm_off£tInCÚš”
 = 
off£t
;

118 
	gm_chdBefÜeBound¬y
 = 
chdBefÜe
;

121 
šlše
 
	gRªgeBound¬yPošt
::
	$£tOff£t
(
off£t
)

123 
	`ASSERT
(
m_cÚš”Node
);

124 
	`ASSERT
(
m_cÚš”Node
->
	`off£tInCh¬aù”s
());

125 
	`ASSERT
(
m_off£tInCÚš”
 >= 0);

126 
	`ASSERT
(!
m_chdBefÜeBound¬y
);

127 
m_off£tInCÚš”
 = 
off£t
;

128 
	}
}

130 
šlše
 
	gRªgeBound¬yPošt
::
	$£tToBefÜeChd
(
Node
* 
chd
)

132 
	`ASSERT
(
chd
);

133 
	`ASSERT
(
chd
->
	`·»ÁNode
());

134 
m_chdBefÜeBound¬y
 = 
chd
->
	`´eviousSiblšg
();

135 
m_cÚš”Node
 = 
chd
->
	`·»ÁNode
();

136 
m_off£tInCÚš”
 = 
m_chdBefÜeBound¬y
 ? 
šv®idOff£t
 : 0;

137 
	}
}

139 
šlše
 
	gRªgeBound¬yPošt
::
£tToS¹OfNode
(
PassRefPŒ
<
Node
> 
cÚš”
)

141 
ASSERT
(
cÚš”
);

142 
	gm_cÚš”Node
 = 
cÚš”
;

143 
	gm_off£tInCÚš”
 = 0;

144 
	gm_chdBefÜeBound¬y
 = 0;

147 
šlše
 
	gRªgeBound¬yPošt
::
£tToEndOfNode
(
PassRefPŒ
<
Node
> 
cÚš”
)

149 
ASSERT
(
cÚš”
);

150 
	gm_cÚš”Node
 = 
cÚš”
;

151 ià(
	gm_cÚš”Node
->
off£tInCh¬aù”s
()) {

152 
	gm_off£tInCÚš”
 = 
m_cÚš”Node
->
maxCh¬aù”Off£t
();

153 
	gm_chdBefÜeBound¬y
 = 0;

155 
	gm_chdBefÜeBound¬y
 = 
m_cÚš”Node
->
Ï¡Chd
();

156 
	gm_off£tInCÚš”
 = 
m_chdBefÜeBound¬y
 ? 
šv®idOff£t
 : 0;

160 
šlše
 
	gRªgeBound¬yPošt
::
	$chdBefÜeWlBeRemoved
()

162 
	`ASSERT
(
m_off£tInCÚš”
);

163 
m_chdBefÜeBound¬y
 = m_chdBefÜeBound¬y->
	`´eviousSiblšg
();

164 ià(!
m_chdBefÜeBound¬y
)

165 
m_off£tInCÚš”
 = 0;

166 ià(
m_off£tInCÚš”
 > 0)

167 --
m_off£tInCÚš”
;

168 
	}
}

170 
šlše
 
	gRªgeBound¬yPošt
::
	$šv®id©eOff£t
() const

172 
m_off£tInCÚš”
 = 
šv®idOff£t
;

173 
	}
}

175 
šlše
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
RªgeBound¬yPošt
& 
a
, cÚ¡ 
	gRªgeBound¬yPošt
& 
	gb
)

177 ià(
	ga
.
cÚš”
(è!ğ
b
.container())

178  
çl£
;

179 ià(
	ga
.
chdBefÜe
(è|| 
	gb
.childBefore()) {

180 ià(
	ga
.
chdBefÜe
(è!ğ
b
.childBefore())

181  
çl£
;

183 ià(
	ga
.
off£t
(è!ğ
b
.offset())

184  
çl£
;

186  
	gŒue
;

	@RangeException.h

25 #iâdeà
RªgeExû±iÚ_h


26 
	#RªgeExû±iÚ_h


	)

28 
	~"Exû±iÚBa£.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 şas 
	cRªgeExû±iÚ
 : 
public
 
Exû±iÚBa£
 {

33 
public
:

34 
PassRefPŒ
<
RªgeExû±iÚ
> 
ü—‹
(cÚ¡ 
Exû±iÚCodeDesütiÚ
& 
desütiÚ
)

36  
adİtRef
(
Ãw
 
RªgeExû±iÚ
(
desütiÚ
));

39 cÚ¡ 
	gRªgeExû±iÚOff£t
 = 200;

40 cÚ¡ 
	gRªgeExû±iÚMax
 = 299;

42 
	eRªgeExû±iÚCode
 {

43 
	gBAD_BOUNDARYPOINTS_ERR
 = 
RªgeExû±iÚOff£t
 + 1,

44 
	gINVALID_NODE_TYPE_ERR


47 
	g´iv©e
:

48 
RªgeExû±iÚ
(cÚ¡ 
Exû±iÚCodeDesütiÚ
& 
desütiÚ
)

49 : 
Exû±iÚBa£
(
desütiÚ
)

	@RegisteredEventListener.cpp

23 
	~"cÚfig.h
"

24 
	~"Regi¡”edEv’tLi¡’”.h
"

26 
	~"Ev’tLi¡’”.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

	@RegisteredEventListener.h

24 #iâdeà
Regi¡”edEv’tLi¡’”_h


25 
	#Regi¡”edEv’tLi¡’”_h


	)

27 
	~"AtomicSŒšg.h
"

28 
	~"Ev’tLi¡’”.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 şas 
	cRegi¡”edEv’tLi¡’”
 {

33 
	gpublic
:

34 
Regi¡”edEv’tLi¡’”
(
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
, 
boŞ
 
u£C­tu»
)

35 : 
li¡’”
(listener)

36 , 
u£C­tu»
(useCapture)

40 
	gRefPŒ
<
	gEv’tLi¡’”
> 
	gli¡’”
;

41 
boŞ
 
	gu£C­tu»
;

44 
šlše
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Regi¡”edEv’tLi¡’”
& 
a
, cÚ¡ 
	gRegi¡”edEv’tLi¡’”
& 
	gb
)

46  *
	ga
.
	gli¡’”
 =ğ*
b
.
li¡’”
 && 
a
.
u£C­tu»
 == b.useCapture;

	@ScriptElement.cpp

24 
	~"cÚfig.h
"

25 
	~"SütEËm’t.h
"

27 
	~"CachedSüt.h
"

28 
	~"DocLßd”.h
"

29 
	~"Docum’t.h
"

30 
	~"F¿me.h
"

31 
	~"F¿meLßd”.h
"

32 
	~"HTMLNames.h
"

33 
	~"HTMLSütEËm’t.h
"

34 
	~"MIMETy³Regi¡ry.h
"

35 
	~"SütCÚŒŞËr.h
"

36 
	~"SütSourûCode.h
"

37 
	~"SütV®ue.h
"

38 
	~"SŒšgHash.h
"

39 
	~"Text.h
"

40 
	~<wtf/StdLibExŒas.h
>

42 #ià
ENABLE
(
SVG
)

43 
	~"SVGNames.h
"

44 
	~"SVGSütEËm’t.h
"

47 
Çme¥aû
 
	gWebCÜe
 {

49 
	gSütEËm’t
::
š£¹edIÁoDocum’t
(
SütEËm’tD©a
& 
d©a
, cÚ¡ 
SŒšg
& 
sourûU¾
)

51 ià(
	gd©a
.
ü—‹dByP¬£r
())

54 ià(!
	gsourûU¾
.
isEm±y
()) {

55 
	gd©a
.
»que¡Süt
(
sourûU¾
);

62 
	gd©a
.
ev®u©eSüt
(
SütSourûCode
(
d©a
.
sütCÚ‹Á
(), d©a.
–em’t
()->
docum’t
()->
u¾
()));

65 
	gSütEËm’t
::
»movedFromDocum’t
(
SütEËm’tD©a
& 
d©a
)

68 
d©a
.
¡İLßdReque¡
();

71 
	gSütEËm’t
::
chd»nChªged
(
SütEËm’tD©a
& 
d©a
)

73 ià(
d©a
.
ü—‹dByP¬£r
())

76 
EËm’t
* 
	g–em’t
 = 
d©a
.
–em’t
();

81 ià(
	g–em’t
->
šDocum’t
(è&&ƒËm’t->
fœ¡Chd
())

82 
	gd©a
.
ev®u©eSüt
(
SütSourûCode
(
d©a
.
sütCÚ‹Á
(), 
–em’t
->
docum’t
()->
u¾
()));

85 
	gSütEËm’t
::
fšishP¬sšgChd»n
(
SütEËm’tD©a
& 
d©a
, cÚ¡ 
SŒšg
& 
sourûU¾
)

89 ià(
	gsourûU¾
.
isEm±y
(è&& 
	gd©a
.
sütCÚ‹Á
().isEmpty())

90 
	gd©a
.
£tC»©edByP¬£r
(
çl£
);

93 
	gSütEËm’t
::
hªdËSourûA‰ribu‹
(
SütEËm’tD©a
& 
d©a
, cÚ¡ 
SŒšg
& 
sourûU¾
)

95 ià(
	gd©a
.
ignÜesLßdReque¡
(è|| 
	gsourûU¾
.
isEm±y
())

98 
	gd©a
.
»que¡Süt
(
sourûU¾
);

102 
boŞ
 
isSuµÜ‹dJavaSütLªguage
(cÚ¡ 
SŒšg
& 
Ïnguage
)

104 
	gHashS‘
<
	tSŒšg
, 
	tCa£FŞdšgHash
> 
	tLªguageS‘
;

105 
DEFINE_STATIC_LOCAL
(
LªguageS‘
, 
Ïnguages
, ());

106 ià(
	gÏnguages
.
isEm±y
()) {

107 
	gÏnguages
.
add
("javascript");

108 
	gÏnguages
.
add
("javascript");

109 
	gÏnguages
.
add
("javascript1.0");

110 
	gÏnguages
.
add
("javascript1.1");

111 
	gÏnguages
.
add
("javascript1.2");

112 
	gÏnguages
.
add
("javascript1.3");

113 
	gÏnguages
.
add
("javascript1.4");

114 
	gÏnguages
.
add
("javascript1.5");

115 
	gÏnguages
.
add
("javascript1.6");

116 
	gÏnguages
.
add
("javascript1.7");

117 
	gÏnguages
.
add
("livescript");

118 
	gÏnguages
.
add
("ecmascript");

119 
	gÏnguages
.
add
("jscript");

122  
	gÏnguages
.
cÚšs
(
Ïnguage
);

126 
	gSütEËm’tD©a
::
SütEËm’tD©a
(
SütEËm’t
* 
sütEËm’t
, 
EËm’t
* 
–em’t
)

127 : 
m_sütEËm’t
(
sütEËm’t
)

128 , 
m_–em’t
(
–em’t
)

129 , 
m_ÿchedSüt
(0)

130 , 
m_ü—‹dByP¬£r
(
çl£
)

131 , 
m_»que¡ed
(
çl£
)

132 , 
m_ev®u©ed
(
çl£
)

133 , 
m_fœedLßd
(
çl£
)

135 
ASSERT
(
m_sütEËm’t
);

136 
ASSERT
(
m_–em’t
);

139 
	gSütEËm’tD©a
::~
SütEËm’tD©a
()

141 
¡İLßdReque¡
();

144 
	gSütEËm’tD©a
::
»que¡Süt
(cÚ¡ 
SŒšg
& 
sourûU¾
)

146 
Docum’t
* 
docum’t
 = 
m_–em’t
->document();

151 ià(!
	gdocum’t
->
äame
())

154 ià(!
	gm_–em’t
->
di¥©chBefÜeLßdEv’t
(
sourûU¾
))

157 
ASSERT
(!
m_ÿchedSüt
);

158 
	gm_ÿchedSüt
 = 
docum’t
->
docLßd”
()->
»que¡Süt
(
sourûU¾
, 
sütCh¬£t
());

159 
	gm_»que¡ed
 = 
Œue
;

164 
	gm_fœedLßd
 = 
çl£
;

166 ià(
	gm_ÿchedSüt
) {

167 
	gm_ÿchedSüt
->
addCl›Á
(
this
);

171 
	gm_sütEËm’t
->
di¥©chE¼ÜEv’t
();

174 
	gSütEËm’tD©a
::
ev®u©eSüt
(cÚ¡ 
SütSourûCode
& 
sourûCode
)

176 ià(
m_ev®u©ed
 || 
sourûCode
.
isEm±y
(è|| !
shouldExecu‹AsJavaSüt
())

179 ià(
F¿me
* 
	gäame
 = 
m_–em’t
->
docum’t
()->
äame
()) {

180 ià(!
äame
->
süt
()->
ÿnExecu‹Süts
(
AboutToExecu‹Süt
))

183 
	gm_ev®u©ed
 = 
Œue
;

185 
	gäame
->
süt
()->
ev®u©e
(
sourûCode
);

186 
	gDocum’t
::
upd©eStyËFÜAÎDocum’ts
();

190 
	gSütEËm’tD©a
::
¡İLßdReque¡
()

192 ià(
m_ÿchedSüt
) {

193 
m_ÿchedSüt
->
»moveCl›Á
(
this
);

194 
	gm_ÿchedSüt
 = 0;

198 
	gSütEËm’tD©a
::
execu‹
(
CachedSüt
* 
ÿchedSüt
)

200 
ASSERT
(
ÿchedSüt
);

201 ià(
	gÿchedSüt
->
”rÜOccu¼ed
())

202 
	gm_sütEËm’t
->
di¥©chE¼ÜEv’t
();

204 
ev®u©eSüt
(
SütSourûCode
(
ÿchedSüt
));

205 
	gm_sütEËm’t
->
di¥©chLßdEv’t
();

207 
	gÿchedSüt
->
»moveCl›Á
(
this
);

210 
	gSütEËm’tD©a
::
nÙifyFšished
(
CachedResourû
* 
o
)

212 
ASSERT_UNUSED
(
o
, o =ğ
m_ÿchedSüt
);

213 
	gm_–em’t
->
docum’t
()->
execu‹SütSoÚ
(
this
, 
m_ÿchedSüt
);

214 
	gm_ÿchedSüt
 = 0;

217 
boŞ
 
	gSütEËm’tD©a
::
ignÜesLßdReque¡
() const

219  
m_ev®u©ed
 || 
m_»que¡ed
 || 
m_ü—‹dByP¬£r
 || !
m_–em’t
->
šDocum’t
();

222 
boŞ
 
	gSütEËm’tD©a
::
shouldExecu‹AsJavaSüt
() const

231 
SŒšg
 
ty³
 = 
m_sütEËm’t
->
ty³A‰ribu‹V®ue
();

232 ià(!
	gty³
.
isEm±y
()) {

233 ià(!
	gMIMETy³Regi¡ry
::
isSuµÜ‹dJavaSütMIMETy³
(
ty³
.
¡rWh™eS·û
().
low”
()))

234  
çl£
;

236 
SŒšg
 
	gÏnguage
 = 
m_sütEËm’t
->
ÏnguageA‰ribu‹V®ue
();

237 ià(!
	gÏnguage
.
isEm±y
(è&& !
isSuµÜ‹dJavaSütLªguage
(
Ïnguage
))

238  
	gçl£
;

248 
SŒšg
 
	gfÜA‰ribu‹
 = 
m_sütEËm’t
->
fÜA‰ribu‹V®ue
();

249 
SŒšg
 
	gev’tA‰ribu‹
 = 
m_sütEËm’t
->
ev’tA‰ribu‹V®ue
();

250 ià(
	gfÜA‰ribu‹
.
isEm±y
(è|| 
	gev’tA‰ribu‹
.isEmpty())

251  
	gŒue
;

253 
	gfÜA‰ribu‹
 = 
fÜA‰ribu‹
.
¡rWh™eS·û
();

254 
	gev’tA‰ribu‹
 = 
ev’tA‰ribu‹
.
¡rWh™eS·û
();

255  
equ®IgnÜšgCa£
(
fÜA‰ribu‹
, "wšdow"è&& (equ®IgnÜšgCa£(
ev’tA‰ribu‹
, "onload") ||ƒqualIgnoringCase(eventAttribute, "onload()"));

258 
SŒšg
 
	gSütEËm’tD©a
::
sütCh¬£t
() const

261 
SŒšg
 
ch¬£t
 = 
m_sütEËm’t
->
ch¬£tA‰ribu‹V®ue
().
¡rWh™eS·û
();

264 ià(
	gch¬£t
.
isEm±y
()) {

265 ià(
F¿me
* 
	gäame
 = 
m_–em’t
->
docum’t
()->
äame
())

266 
ch¬£t
 = 
äame
->
lßd”
()->
’codšg
();

269  
	gch¬£t
;

272 
SŒšg
 
	gSütEËm’tD©a
::
sütCÚ‹Á
() const

274 
VeùÜ
<
UCh¬
> 
v®
;

275 
Text
* 
	gfœ¡TextNode
 = 0;

276 
boŞ
 
	gfoundMuÉËTextNodes
 = 
çl£
;

278 
Node
* 
	gn
 = 
m_–em’t
->
fœ¡Chd
();‚;‚ = 
n
->
ÃxtSiblšg
()) {

279 ià(!
n
->
isTextNode
())

282 
Text
* 
	gt
 = 
¡©ic_ÿ¡
<Text*>(
n
);

283 ià(
	gfoundMuÉËTextNodes
)

284 
­³nd
(
v®
, 
t
->
d©a
());

285 ià(
	gfœ¡TextNode
) {

286 
­³nd
(
v®
, 
fœ¡TextNode
->
d©a
());

287 
­³nd
(
v®
, 
t
->
d©a
());

288 
	gfoundMuÉËTextNodes
 = 
Œue
;

290 
	gfœ¡TextNode
 = 
t
;

293 ià(
	gfœ¡TextNode
 && !
	gfoundMuÉËTextNodes
)

294  
	gfœ¡TextNode
->
d©a
();

296  
	gSŒšg
::
adİt
(
v®
);

299 
SütEËm’t
* 
toSütEËm’t
(
EËm’t
* 
–em’t
)

301 ià(
	g–em’t
->
isHTMLEËm’t
(è&&ƒËm’t->
hasTagName
(
HTMLNames
::
sütTag
))

302  
¡©ic_ÿ¡
<
HTMLSütEËm’t
*>(
–em’t
);

304 #ià
ENABLE
(
SVG
)

305 ià(
	g–em’t
->
isSVGEËm’t
(è&&ƒËm’t->
hasTagName
(
SVGNames
::
sütTag
))

306  
¡©ic_ÿ¡
<
SVGSütEËm’t
*>(
–em’t
);

	@ScriptElement.h

21 #iâdeà
SütEËm’t_h


22 
	#SütEËm’t_h


	)

24 
	~"CachedResourûCl›Á.h
"

25 
	~"CachedResourûHªdË.h
"

27 
Çme¥aû
 
	gWebCÜe
 {

29 
şass
 
	gCachedSüt
;

30 
şass
 
	gEËm’t
;

31 
şass
 
	gSütEËm’tD©a
;

32 
şass
 
	gSütSourûCode
;

34 şas 
	cSütEËm’t
 {

35 
	gpublic
:

36 
SütEËm’t
() { }

37 
vœtu®
 ~
SütEËm’t
() { }

39 
vœtu®
 
SŒšg
 
sütCÚ‹Á
() const = 0;

41 
vœtu®
 
SŒšg
 
sourûA‰ribu‹V®ue
() const = 0;

42 
vœtu®
 
SŒšg
 
ch¬£tA‰ribu‹V®ue
() const = 0;

43 
vœtu®
 
SŒšg
 
ty³A‰ribu‹V®ue
() const = 0;

44 
vœtu®
 
SŒšg
 
ÏnguageA‰ribu‹V®ue
() const = 0;

45 
vœtu®
 
SŒšg
 
fÜA‰ribu‹V®ue
() const = 0;

46 
vœtu®
 
SŒšg
 
ev’tA‰ribu‹V®ue
() const = 0;

48 
vœtu®
 
di¥©chLßdEv’t
() = 0;

49 
vœtu®
 
di¥©chE¼ÜEv’t
() = 0;

52 
vœtu®
 
SŒšg
 
sütCh¬£t
() const = 0;

54 
vœtu®
 
boŞ
 
shouldExecu‹AsJavaSüt
() const = 0;

56 
	g´Ùeùed
:

58 
š£¹edIÁoDocum’t
(
SütEËm’tD©a
&, cÚ¡ 
SŒšg
& 
sourûU¾
);

59 
»movedFromDocum’t
(
SütEËm’tD©a
&);

60 
chd»nChªged
(
SütEËm’tD©a
&);

61 
fšishP¬sšgChd»n
(
SütEËm’tD©a
&, cÚ¡ 
SŒšg
& 
sourûU¾
);

62 
hªdËSourûA‰ribu‹
(
SütEËm’tD©a
&, cÚ¡ 
SŒšg
& 
sourûU¾
);

67 şas 
	cSütEËm’tD©a
 : 
´iv©e
 
CachedResourûCl›Á
 {

68 
public
:

69 
SütEËm’tD©a
(
SütEËm’t
*, 
EËm’t
*);

70 
	gvœtu®
 ~
SütEËm’tD©a
();

72 
boŞ
 
ignÜesLßdReque¡
() const;

73 
boŞ
 
shouldExecu‹AsJavaSüt
() const;

75 
SŒšg
 
sütCÚ‹Á
() const;

76 
SŒšg
 
sütCh¬£t
() const;

78 
EËm’t
* 
–em’t
(ècÚ¡ {  
	gm_–em’t
; }

79 
boŞ
 
ü—‹dByP¬£r
(ècÚ¡ {  
	gm_ü—‹dByP¬£r
; }

80 
£tC»©edByP¬£r
(
boŞ
 
v®ue
è{ 
	gm_ü—‹dByP¬£r
 = value; }

81 
boŞ
 
haveFœedLßdEv’t
(ècÚ¡ {  
	gm_fœedLßd
; }

82 
£tHaveFœedLßdEv’t
(
boŞ
 
fœedLßd
è{ 
	gm_fœedLßd
 = firedLoad; }

84 
»que¡Süt
(cÚ¡ 
SŒšg
& 
sourûU¾
);

85 
ev®u©eSüt
(cÚ¡ 
SütSourûCode
&);

86 
¡İLßdReque¡
();

88 
execu‹
(
CachedSüt
*);

90 
	g´iv©e
:

91 
vœtu®
 
nÙifyFšished
(
CachedResourû
*);

93 
	g´iv©e
:

94 
SütEËm’t
* 
m_sütEËm’t
;

95 
EËm’t
* 
	gm_–em’t
;

96 
	gCachedResourûHªdË
<
	gCachedSüt
> 
	gm_ÿchedSüt
;

97 
boŞ
 
	gm_ü—‹dByP¬£r
;

98 
boŞ
 
	gm_»que¡ed
;

99 
boŞ
 
	gm_ev®u©ed
;

100 
boŞ
 
	gm_fœedLßd
;

103 
SütEËm’t
* 
toSütEËm’t
(
EËm’t
*);

	@ScriptExecutionContext.cpp

27 
	~"cÚfig.h
"

28 
	~"SütExecutiÚCÚ‹xt.h
"

30 
	~"AùiveDOMObjeù.h
"

31 
	~"D©aba£.h
"

32 
	~"D©aba£Task.h
"

33 
	~"D©aba£Th»ad.h
"

34 #ià
ENABLE
(
FILE_READER
è|| ENABLE(
FILE_WRITER
)

35 
	~"FeTh»ad.h
"

37 
	~"Mes§gePÜt.h
"

38 
	~"Secur™yOrigš.h
"

39 
	~"WÜk”CÚ‹xt.h
"

40 
	~"WÜk”Th»ad.h
"

41 
	~<wtf/MašTh»ad.h
>

42 
	~<wtf/PassRefPŒ.h
>

44 #ià
USE
(
JSC
)

45 
	~"JSDOMWšdow.h
"

48 
Çme¥aû
 
	gWebCÜe
 {

50 şas 
	cProûssMes§gesSoÚTask
 : 
public
 
SütExecutiÚCÚ‹xt
::
Task
 {

51 
public
:

52 
PassOwnPŒ
<
ProûssMes§gesSoÚTask
> 
ü—‹
()

54  
Ãw
 
ProûssMes§gesSoÚTask
;

57 
vœtu®
 
³rfÜmTask
(
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
)

59 
	gcÚ‹xt
->
di¥©chMes§gePÜtEv’ts
();

63 
	gSütExecutiÚCÚ‹xt
::
	$SütExecutiÚCÚ‹xt
()

64 #ià
	$ENABLE
(
DATABASE
)

65 : 
	$m_hasO³nD©aba£s
(
çl£
)

68 
	}
}

70 
SütExecutiÚCÚ‹xt
::~
	$SütExecutiÚCÚ‹xt
()

72 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
aùiveObjeùsEnd
 = 
m_aùiveDOMObjeùs
.
	`’d
();

73 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
™”
 = 
m_aùiveDOMObjeùs
.
	`begš
(); i‹¸!ğ
aùiveObjeùsEnd
; ++iter) {

74 
	`ASSERT
(
™”
->
fœ¡
->
	`sütExecutiÚCÚ‹xt
(è=ğ
this
);

75 
™”
->
fœ¡
->
	`cÚ‹xtDe¡royed
();

78 
HashS‘
<
Mes§gePÜt
*>::
™”©Ü
 
mes§gePÜtsEnd
 = 
m_mes§gePÜts
.
	`’d
();

79 
HashS‘
<
Mes§gePÜt
*>::
™”©Ü
 
™”
 = 
m_mes§gePÜts
.
	`begš
(); i‹¸!ğ
mes§gePÜtsEnd
; ++iter) {

80 
	`ASSERT
((*
™”
)->
	`sütExecutiÚCÚ‹xt
(è=ğ
this
);

81 (*
™”
)->
	`cÚ‹xtDe¡royed
();

83 #ià
	`ENABLE
(
DATABASE
)

84 ià(
m_d©aba£Th»ad
) {

85 
	`ASSERT
(
m_d©aba£Th»ad
->
	`‹rmš©iÚReque¡ed
());

86 
m_d©aba£Th»ad
 = 0;

89 #ià
	`ENABLE
(
FILE_READER
è|| ENABLE(
FILE_WRITER
)

90 ià(
m_feTh»ad
) {

91 
m_feTh»ad
->
	`¡İ
();

92 
m_feTh»ad
 = 0;

95 
	}
}

97 #ià
	$ENABLE
(
DATABASE
)

99 
D©aba£Th»ad
* 
SütExecutiÚCÚ‹xt
::
	$d©aba£Th»ad
()

101 ià(!
m_d©aba£Th»ad
 && !
m_hasO³nD©aba£s
) {

104 
m_d©aba£Th»ad
 = 
D©aba£Th»ad
::
	`ü—‹
();

105 ià(!
m_d©aba£Th»ad
->
	`¡¬t
())

106 
m_d©aba£Th»ad
 = 0;

109  
m_d©aba£Th»ad
.
	`g‘
();

110 
	}
}

112 
	gSütExecutiÚCÚ‹xt
::
	$addO³nD©aba£
(
D©aba£
* 
d©aba£
)

114 
	`ASSERT
(
	`isCÚ‹xtTh»ad
());

115 ià(!
m_İ’D©aba£S‘
)

116 
m_İ’D©aba£S‘
.
	`£t
(
Ãw
 
	`D©aba£S‘
());

118 
	`ASSERT
(!
m_İ’D©aba£S‘
->
	`cÚšs
(
d©aba£
));

119 
m_İ’D©aba£S‘
->
	`add
(
d©aba£
);

120 
	}
}

122 
	gSütExecutiÚCÚ‹xt
::
	$»moveO³nD©aba£
(
D©aba£
* 
d©aba£
)

124 
	`ASSERT
(
	`isCÚ‹xtTh»ad
());

125 
	`ASSERT
(
m_İ’D©aba£S‘
 && m_İ’D©aba£S‘->
	`cÚšs
(
d©aba£
));

126 ià(!
m_İ’D©aba£S‘
)

128 
m_İ’D©aba£S‘
->
	`»move
(
d©aba£
);

129 
	}
}

131 
	gSütExecutiÚCÚ‹xt
::
	$¡İD©aba£s
(
D©aba£TaskSynchrÚiz”
* 
ş—nupSync
)

133 
	`ASSERT
(
	`isCÚ‹xtTh»ad
());

134 ià(
m_İ’D©aba£S‘
) {

135 
D©aba£S‘
::
™”©Ü
 
i
 = 
m_İ’D©aba£S‘
->
	`begš
();

136 
D©aba£S‘
::
™”©Ü
 
’d
 = 
m_İ’D©aba£S‘
->
	`’d
();

137 ; 
i
 !ğ
’d
; ++i) {

138 (*
i
)->
	`¡İ
();

139 ià(
m_d©aba£Th»ad
)

140 
m_d©aba£Th»ad
->
	`unscheduËD©aba£Tasks
(*
i
);

144 ià(
m_d©aba£Th»ad
)

145 
m_d©aba£Th»ad
->
	`»que¡T”mš©iÚ
(
ş—nupSync
);

146 ià(
ş—nupSync
)

147 
ş—nupSync
->
	`skCom¶‘ed
();

148 
	}
}

152 
	gSütExecutiÚCÚ‹xt
::
	$´oûssMes§gePÜtMes§gesSoÚ
()

154 
	`po¡Task
(
ProûssMes§gesSoÚTask
::
	`ü—‹
());

155 
	}
}

157 
	gSütExecutiÚCÚ‹xt
::
	$di¥©chMes§gePÜtEv’ts
()

159 
RefPŒ
<
SütExecutiÚCÚ‹xt
> 
	`´Ùeù
(
this
);

162 
VeùÜ
<
Mes§gePÜt
*> 
pÜts
;

163 
	`cİyToVeùÜ
(
m_mes§gePÜts
, 
pÜts
);

165 
pÜtCouÁ
 = 
pÜts
.
	`size
();

166 
i
 = 0; i < 
pÜtCouÁ
; ++i) {

167 
Mes§gePÜt
* 
pÜt
 = 
pÜts
[
i
];

170 ià(
m_mes§gePÜts
.
	`cÚšs
(
pÜt
è&&…Üt->
	`¡¬‹d
())

171 
pÜt
->
	`di¥©chMes§ges
();

173 
	}
}

175 
	gSütExecutiÚCÚ‹xt
::
	$ü—‹dMes§gePÜt
(
Mes§gePÜt
* 
pÜt
)

177 
	`ASSERT
(
pÜt
);

178 #ià
	`ENABLE
(
WORKERS
)

179 
	`ASSERT
((
	`isDocum’t
(è&& 
	`isMašTh»ad
())

180 || (
	`isWÜk”CÚ‹xt
(è&& 
	`cu¼’tTh»ad
(è=ğ
¡©ic_ÿ¡
<
WÜk”CÚ‹xt
*>(
this
)->
	`th»ad
()->
	`th»adID
()));

183 
m_mes§gePÜts
.
	`add
(
pÜt
);

184 
	}
}

186 
	gSütExecutiÚCÚ‹xt
::
	$de¡royedMes§gePÜt
(
Mes§gePÜt
* 
pÜt
)

188 
	`ASSERT
(
pÜt
);

189 #ià
	`ENABLE
(
WORKERS
)

190 
	`ASSERT
((
	`isDocum’t
(è&& 
	`isMašTh»ad
())

191 || (
	`isWÜk”CÚ‹xt
(è&& 
	`cu¼’tTh»ad
(è=ğ
¡©ic_ÿ¡
<
WÜk”CÚ‹xt
*>(
this
)->
	`th»ad
()->
	`th»adID
()));

194 
m_mes§gePÜts
.
	`»move
(
pÜt
);

195 
	}
}

197 
boŞ
 
	gSütExecutiÚCÚ‹xt
::
	$ÿnSu¥’dAùiveDOMObjeùs
()

200 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
aùiveObjeùsEnd
 = 
m_aùiveDOMObjeùs
.
	`’d
();

201 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
™”
 = 
m_aùiveDOMObjeùs
.
	`begš
(); i‹¸!ğ
aùiveObjeùsEnd
; ++iter) {

202 
	`ASSERT
(
™”
->
fœ¡
->
	`sütExecutiÚCÚ‹xt
(è=ğ
this
);

203 ià(!
™”
->
fœ¡
->
	`ÿnSu¥’d
())

204  
çl£
;

206  
Œue
;

207 
	}
}

209 
	gSütExecutiÚCÚ‹xt
::
	$su¥’dAùiveDOMObjeùs
()

212 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
aùiveObjeùsEnd
 = 
m_aùiveDOMObjeùs
.
	`’d
();

213 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
™”
 = 
m_aùiveDOMObjeùs
.
	`begš
(); i‹¸!ğ
aùiveObjeùsEnd
; ++iter) {

214 
	`ASSERT
(
™”
->
fœ¡
->
	`sütExecutiÚCÚ‹xt
(è=ğ
this
);

215 
™”
->
fœ¡
->
	`su¥’d
();

217 
	}
}

219 
	gSütExecutiÚCÚ‹xt
::
	$»sumeAùiveDOMObjeùs
()

222 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
aùiveObjeùsEnd
 = 
m_aùiveDOMObjeùs
.
	`’d
();

223 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
™”
 = 
m_aùiveDOMObjeùs
.
	`begš
(); i‹¸!ğ
aùiveObjeùsEnd
; ++iter) {

224 
	`ASSERT
(
™”
->
fœ¡
->
	`sütExecutiÚCÚ‹xt
(è=ğ
this
);

225 
™”
->
fœ¡
->
	`»sume
();

227 
	}
}

229 
	gSütExecutiÚCÚ‹xt
::
	$¡İAùiveDOMObjeùs
()

232 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
aùiveObjeùsEnd
 = 
m_aùiveDOMObjeùs
.
	`’d
();

233 
HashM­
<
AùiveDOMObjeù
*, *>::
™”©Ü
 
™”
 = 
m_aùiveDOMObjeùs
.
	`begš
(); i‹¸!ğ
aùiveObjeùsEnd
; ++iter) {

234 
	`ASSERT
(
™”
->
fœ¡
->
	`sütExecutiÚCÚ‹xt
(è=ğ
this
);

235 
™”
->
fœ¡
->
	`¡İ
();

237 
	}
}

239 
	gSütExecutiÚCÚ‹xt
::
	$ü—‹dAùiveDOMObjeù
(
AùiveDOMObjeù
* 
objeù
, * 
upÿ¡Poš‹r
)

241 
	`ASSERT
(
objeù
);

242 
	`ASSERT
(
upÿ¡Poš‹r
);

243 
m_aùiveDOMObjeùs
.
	`add
(
objeù
, 
upÿ¡Poš‹r
);

244 
	}
}

246 
	gSütExecutiÚCÚ‹xt
::
	$de¡royedAùiveDOMObjeù
(
AùiveDOMObjeù
* 
objeù
)

248 
	`ASSERT
(
objeù
);

249 
m_aùiveDOMObjeùs
.
	`»move
(
objeù
);

250 
	}
}

252 
	gSütExecutiÚCÚ‹xt
::
£tSecur™yOrigš
(
PassRefPŒ
<
Secur™yOrigš
> 
£cur™yOrigš
)

254 
m_£cur™yOrigš
 = 
£cur™yOrigš
;

257 
	gSütExecutiÚCÚ‹xt
::
	$addTimeout
(
timeoutId
, 
DOMTim”
* 
tim”
)

259 
	`ASSERT
(!
m_timeouts
.
	`cÚšs
(
timeoutId
));

260 
m_timeouts
.
	`£t
(
timeoutId
, 
tim”
);

261 
	}
}

263 
	gSütExecutiÚCÚ‹xt
::
	$»moveTimeout
(
timeoutId
)

265 
m_timeouts
.
	`»move
(
timeoutId
);

266 
	}
}

268 
DOMTim”
* 
	gSütExecutiÚCÚ‹xt
::
	$fšdTimeout
(
timeoutId
)

270  
m_timeouts
.
	`g‘
(
timeoutId
);

271 
	}
}

273 #ià
ENABLE
(
FILE_READER
è|| 
	$ENABLE
(
FILE_WRITER
)

274 
FeTh»ad
* 
SütExecutiÚCÚ‹xt
::
	$feTh»ad
()

276 ià(!
m_feTh»ad
) {

277 
m_feTh»ad
 = 
FeTh»ad
::
	`ü—‹
();

278 ià(!
m_feTh»ad
->
	`¡¬t
())

279 
m_feTh»ad
 = 0;

281  
m_feTh»ad
.
	`g‘
();

282 
	}
}

285 
	gSütExecutiÚCÚ‹xt
::
Task
::~
	$Task
()

287 
	}
}

289 #ià
	$USE
(
JSC
)

290 
JSC
::
JSGlob®D©a
* 
SütExecutiÚCÚ‹xt
::
	$glob®D©a
()

292 ià(
	`isDocum’t
())

293  
JSDOMWšdow
::
	`commÚJSGlob®D©a
();

295 #ià
	`ENABLE
(
WORKERS
)

296 ià(
	`isWÜk”CÚ‹xt
())

297  
¡©ic_ÿ¡
<
WÜk”CÚ‹xt
*>(
this
)->
	`süt
()->
	`glob®D©a
();

300 
	`ASSERT_NOT_REACHED
();

302 
	}
}

	@ScriptExecutionContext.h

27 #iâdeà
SütExecutiÚCÚ‹xt_h


28 
	#SütExecutiÚCÚ‹xt_h


	)

30 
	~"CÚsŞe.h
"

31 
	~"KURL.h
"

32 
	~<wtf/HashM­.h
>

33 
	~<wtf/HashS‘.h
>

34 
	~<wtf/PassOwnPŒ.h
>

35 
	~<wtf/PassRefPŒ.h
>

36 
	~<wtf/RefPŒ.h
>

37 
	~<wtf/Th»adšg.h
>

39 
Çme¥aû
 
	gWebCÜe
 {

41 
şass
 
	gAùiveDOMObjeù
;

42 #ià
ENABLE
(
DATABASE
)

43 
şass
 
	gD©aba£
;

44 
şass
 
	gD©aba£TaskSynchrÚiz”
;

45 
şass
 
	gD©aba£Th»ad
;

47 
şass
 
	gDOMTim”
;

48 #ià
ENABLE
(
FILE_READER
è|| ENABLE(
FILE_WRITER
)

49 
şass
 
	gFeTh»ad
;

51 
şass
 
	gMes§gePÜt
;

52 
şass
 
	gSecur™yOrigš
;

53 
şass
 
	gSütSŒšg
;

54 
şass
 
	gSŒšg
;

55 #ià
ENABLE
(
INSPECTOR
)

56 
şass
 
	gIn¥eùÜCÚŒŞËr
;

59 şas 
	cSütExecutiÚCÚ‹xt
 {

60 
	gpublic
:

61 
SütExecutiÚCÚ‹xt
();

62 
	gvœtu®
 ~
SütExecutiÚCÚ‹xt
();

64 
vœtu®
 
boŞ
 
isDocum’t
(ècÚ¡ {  
	gçl£
; }

65 
vœtu®
 
boŞ
 
isWÜk”CÚ‹xt
(ècÚ¡ {  
	gçl£
; }

67 #ià
ENABLE
(
DATABASE
)

68 
vœtu®
 
boŞ
 
isD©aba£R—dOÆy
() const = 0;

69 
vœtu®
 
d©aba£ExûededQuÙa
(cÚ¡ 
SŒšg
& 
Çme
) = 0;

70 
D©aba£Th»ad
* 
d©aba£Th»ad
();

71 
£tHasO³nD©aba£s
(è{ 
	gm_hasO³nD©aba£s
 = 
Œue
; }

72 
boŞ
 
hasO³nD©aba£s
(ècÚ¡ {  
	gm_hasO³nD©aba£s
; }

73 
addO³nD©aba£
(
D©aba£
*);

74 
»moveO³nD©aba£
(
D©aba£
*);

76 
¡İD©aba£s
(
D©aba£TaskSynchrÚiz”
*);

78 
vœtu®
 
boŞ
 
isCÚ‹xtTh»ad
() const = 0;

80 cÚ¡ 
	gKURL
& 
u¾
(ècÚ¡ {  
vœtu®URL
(); }

81 
KURL
 
com¶‘eURL
(cÚ¡ 
SŒšg
& 
u¾
ècÚ¡ {  
vœtu®Com¶‘eURL
(url); }

83 
vœtu®
 
SŒšg
 
u£rAg’t
(cÚ¡ 
KURL
&) const = 0;

85 
Secur™yOrigš
* 
£cur™yOrigš
(ècÚ¡ {  
	gm_£cur™yOrigš
.
g‘
(); }

86 #ià
ENABLE
(
INSPECTOR
)

87 
vœtu®
 
In¥eùÜCÚŒŞËr
* 
š¥eùÜCÚŒŞËr
() const {  0; }

90 
vœtu®
 
»pÜtExû±iÚ
(cÚ¡ 
SŒšg
& 
”rÜMes§ge
, 
lšeNumb”
, cÚ¡ SŒšg& 
sourûURL
) = 0;

91 
vœtu®
 
addMes§ge
(
Mes§geSourû
, 
Mes§geTy³
, 
Mes§geLev–
, cÚ¡ 
SŒšg
& 
mes§ge
, 
lšeNumb”
, cÚ¡ SŒšg& 
sourûURL
) = 0;

94 
boŞ
 
ÿnSu¥’dAùiveDOMObjeùs
();

97 
su¥’dAùiveDOMObjeùs
();

98 
»sumeAùiveDOMObjeùs
();

99 
¡İAùiveDOMObjeùs
();

100 
ü—‹dAùiveDOMObjeù
(
AùiveDOMObjeù
*, * 
upÿ¡Poš‹r
);

101 
de¡royedAùiveDOMObjeù
(
AùiveDOMObjeù
*);

102 cÚ¡ 
	tHashM­
<
	tAùiveDOMObjeù
*, *> 
	tAùiveDOMObjeùsM­
;

103 
	gAùiveDOMObjeùsM­
& 
aùiveDOMObjeùs
(ècÚ¡ {  
	gm_aùiveDOMObjeùs
; }

106 
´oûssMes§gePÜtMes§gesSoÚ
();

107 
di¥©chMes§gePÜtEv’ts
();

108 
ü—‹dMes§gePÜt
(
Mes§gePÜt
*);

109 
de¡royedMes§gePÜt
(
Mes§gePÜt
*);

110 cÚ¡ 
	gHashS‘
<
	gMes§gePÜt
*>& 
mes§gePÜts
(ècÚ¡ {  
	gm_mes§gePÜts
; }

112 
»f
(è{ 
»fSütExecutiÚCÚ‹xt
(); }

113 
d”ef
(è{ 
d”efSütExecutiÚCÚ‹xt
(); }

115 şas 
	cTask
 : 
public
 
NÚcİyabË
 {

116 
public
:

117 
vœtu®
 ~
Task
();

118 
vœtu®
 
³rfÜmTask
(
SütExecutiÚCÚ‹xt
*) = 0;

120 
vœtu®
 
boŞ
 
isCËªupTask
(ècÚ¡ {  
	gçl£
; }

123 
vœtu®
 
po¡Task
(
PassOwnPŒ
<
Task
>) = 0;

125 
addTimeout
(
timeoutId
, 
DOMTim”
*);

126 
»moveTimeout
(
timeoutId
);

127 
DOMTim”
* 
fšdTimeout
(
timeoutId
);

129 #ià
USE
(
JSC
)

130 
	gJSC
::
JSGlob®D©a
* 
glob®D©a
();

133 #ià
ENABLE
(
FILE_READER
è|| ENABLE(
FILE_WRITER
)

134 
FeTh»ad
* 
feTh»ad
();

135 
¡İFeTh»ad
();

138 
	g´Ùeùed
:

142 
£tSecur™yOrigš
(
PassRefPŒ
<
Secur™yOrigš
>);

144 
	g´iv©e
:

145 
vœtu®
 cÚ¡ 
KURL
& 
vœtu®URL
() const = 0;

146 
vœtu®
 
KURL
 
vœtu®Com¶‘eURL
(cÚ¡ 
SŒšg
&) const = 0;

148 
	gRefPŒ
<
	gSecur™yOrigš
> 
	gm_£cur™yOrigš
;

150 
	gHashS‘
<
	gMes§gePÜt
*> 
	gm_mes§gePÜts
;

152 
	gHashM­
<
	gAùiveDOMObjeù
*, *> 
	gm_aùiveDOMObjeùs
;

154 
	gHashM­
<, 
	gDOMTim”
*> 
	gm_timeouts
;

156 
vœtu®
 
»fSütExecutiÚCÚ‹xt
() = 0;

157 
vœtu®
 
d”efSütExecutiÚCÚ‹xt
() = 0;

159 #ià
ENABLE
(
DATABASE
)

160 
	gRefPŒ
<
	gD©aba£Th»ad
> 
	gm_d©aba£Th»ad
;

161 
boŞ
 
	gm_hasO³nD©aba£s
;

162 
	gHashS‘
<
	tD©aba£
* > 
	tD©aba£S‘
;

163 
	gOwnPŒ
<
	gD©aba£S‘
> 
	gm_İ’D©aba£S‘
;

166 #ià
ENABLE
(
FILE_READER
è|| ENABLE(
FILE_WRITER
)

167 
	gRefPŒ
<
	gFeTh»ad
> 
	gm_feTh»ad
;

	@SelectElement.cpp

21 
	~"cÚfig.h
"

22 
	~"S–eùEËm’t.h
"

24 
	~"Ch¬aù”Names.h
"

25 
	~"Chrome.h
"

26 
	~"ChromeCl›Á.h
"

27 
	~"EËm’t.h
"

28 
	~"Ev’tHªdËr.h
"

29 
	~"Ev’tNames.h
"

30 
	~"FÜmD©aLi¡.h
"

31 
	~"F¿me.h
"

32 
	~"HTMLFÜmEËm’t.h
"

33 
	~"HTMLNames.h
"

34 
	~"HTMLKeyg’EËm’t.h
"

35 
	~"HTMLS–eùEËm’t.h
"

36 
	~"KeybßrdEv’t.h
"

37 
	~"M­³dA‰ribu‹.h
"

38 
	~"Mou£Ev’t.h
"

39 
	~"O±iÚEËm’t.h
"

40 
	~"O±iÚGroupEËm’t.h
"

41 
	~"Page.h
"

42 
	~"R’d”Li¡Box.h
"

43 
	~"R’d”M’uLi¡.h
"

44 
	~<wtf/As£¹iÚs.h
>

46 #ià
ENABLE
(
WML
)

47 
	~"WMLNames.h
"

48 
	~"WMLS–eùEËm’t.h
"

53 #ià
PLATFORM
(
MAC
è|| (PLATFORM(
CHROMIUM
è&& 
OS
(
DARWIN
))

54 
	#ARROW_KEYS_POP_MENU
 1

	)

55 
	#SPACE_OR_RETURN_POP_MENU
 0

	)

56 #–ià
PLATFORM
(
GTK
è|| (PLATFORM(
CHROMIUM
è&& 
OS
(
LINUX
))

57 
	#ARROW_KEYS_POP_MENU
 0

	)

58 
	#SPACE_OR_RETURN_POP_MENU
 1

	)

60 
	#ARROW_KEYS_POP_MENU
 0

	)

61 
	#SPACE_OR_RETURN_POP_MENU
 0

	)

64 
usšg
 
	g¡d
::
mš
;

65 
usšg
 
	g¡d
::
max
;

66 
usšg
 
Çme¥aû
 
	gWTF
;

67 
usšg
 
Çme¥aû
 
	gUnicode
;

69 
Çme¥aû
 
	gWebCÜe
 {

71 cÚ¡ 
DOMTimeSmp
 
	gty³Ah—dTimeout
 = 1000;

73 
	gS–eùEËm’t
::
£ËùAÎ
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

75 
ASSERT
(!
d©a
.
u£sM’uLi¡
());

76 ià(!
	g–em’t
->
»nd””
(è|| !
	gd©a
.
muÉË
())

80 
§veLa¡S–eùiÚ
(
d©a
, 
–em’t
);

82 
	gd©a
.
£tAùiveS–eùiÚS‹
(
Œue
);

83 
£tAùiveS–eùiÚAnchÜIndex
(
d©a
, 
–em’t
, 
ÃxtS–eùabËLi¡Index
(data,ƒlement, -1));

84 
£tAùiveS–eùiÚEndIndex
(
d©a
, 
´eviousS–eùabËLi¡Index
(d©a, 
–em’t
, -1));

86 
upd©eLi¡BoxS–eùiÚ
(
d©a
, 
–em’t
, 
çl£
);

87 
li¡BoxOnChªge
(
d©a
, 
–em’t
);

90 
	gS–eùEËm’t
::
§veLa¡S–eùiÚ
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

92 ià(
	gd©a
.
u£sM’uLi¡
()) {

93 
	gd©a
.
£tLa¡OnChªgeIndex
(
£ËùedIndex
(
d©a
, 
–em’t
));

97 
	gVeùÜ
<
	gboŞ
>& 
	gÏ¡OnChªgeS–eùiÚ
 = 
d©a
.
Ï¡OnChªgeS–eùiÚ
();

98 
	gÏ¡OnChªgeS–eùiÚ
.
ş—r
();

100 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

101 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

102 
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
]);

103 
	gÏ¡OnChªgeS–eùiÚ
.
­³nd
(
İtiÚEËm’t
 && o±iÚEËm’t->
£Ëùed
());

107 
	gS–eùEËm’t
::
ÃxtS–eùabËLi¡Index
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
¡¬tIndex
)

109 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

110 
	gšdex
 = 
¡¬tIndex
 + 1;

111 
	gšdex
 >ğ0 && (è
šdex
 < 
™ems
.
size
(è&& (!
isO±iÚEËm’t
(™ems[šdex]è|| i‹ms[šdex]->
di§bËd
()))

112 ++
šdex
;

113 ià((è
	gšdex
 =ğ
™ems
.
size
())

114  
¡¬tIndex
;

115  
	gšdex
;

118 
	gS–eùEËm’t
::
´eviousS–eùabËLi¡Index
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
¡¬tIndex
)

120 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

121 ià(
	g¡¬tIndex
 == -1)

122 
¡¬tIndex
 = 
™ems
.
size
();

123 
	gšdex
 = 
¡¬tIndex
 - 1;

124 
	gšdex
 >ğ0 && (è
šdex
 < 
™ems
.
size
(è&& (!
isO±iÚEËm’t
(™ems[šdex]è|| i‹ms[šdex]->
di§bËd
()))

125 --
šdex
;

126 ià(
	gšdex
 == -1)

127  
¡¬tIndex
;

128  
	gšdex
;

131 
	gS–eùEËm’t
::
£tAùiveS–eùiÚAnchÜIndex
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
šdex
)

133 
	gd©a
.
£tAùiveS–eùiÚAnchÜIndex
(
šdex
);

136 
	gVeùÜ
<
	gboŞ
>& 
	gÿchedS‹FÜAùiveS–eùiÚ
 = 
d©a
.
ÿchedS‹FÜAùiveS–eùiÚ
();

137 
	gÿchedS‹FÜAùiveS–eùiÚ
.
ş—r
();

139 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

140 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

141 
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
]);

142 
	gÿchedS‹FÜAùiveS–eùiÚ
.
­³nd
(
İtiÚEËm’t
 && o±iÚEËm’t->
£Ëùed
());

146 
	gS–eùEËm’t
::
£tAùiveS–eùiÚEndIndex
(
S–eùEËm’tD©a
& 
d©a
, 
šdex
)

148 
	gd©a
.
£tAùiveS–eùiÚEndIndex
(
šdex
);

151 
	gS–eùEËm’t
::
upd©eLi¡BoxS–eùiÚ
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
boŞ
 
de£ËùOth”O±iÚs
)

153 
ASSERT
(
–em’t
->
»nd””
(è&& (–em’t->»nd””()->
isLi¡Box
(è|| 
d©a
.
muÉË
()));

154 
ASSERT
(
d©a
.
aùiveS–eùiÚAnchÜIndex
() >= 0);

156 
	g¡¬t
 = 
mš
(
d©a
.
aùiveS–eùiÚAnchÜIndex
(), d©a.
aùiveS–eùiÚEndIndex
());

157 
	g’d
 = 
max
(
d©a
.
aùiveS–eùiÚAnchÜIndex
(), d©a.
aùiveS–eùiÚEndIndex
());

158 
	gVeùÜ
<
	gboŞ
>& 
	gÿchedS‹FÜAùiveS–eùiÚ
 = 
d©a
.
ÿchedS‹FÜAùiveS–eùiÚ
();

160 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

161 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

162 
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
]);

163 ià(!
	gİtiÚEËm’t
 || 
	g™ems
[
i
]->
di§bËd
())

166 ià(
	gi
 >ğ
¡¬t
 && 
i
 <ğ
’d
)

167 
İtiÚEËm’t
->
£tS–eùedS‹
(
d©a
.
aùiveS–eùiÚS‹
());

168 ià(
	gde£ËùOth”O±iÚs
 || 
	gi
 >ğ
ÿchedS‹FÜAùiveS–eùiÚ
.
size
())

169 
İtiÚEËm’t
->
£tS–eùedS‹
(
çl£
);

171 
	gİtiÚEËm’t
->
£tS–eùedS‹
(
ÿchedS‹FÜAùiveS–eùiÚ
[
i
]);

174 
süŞlToS–eùiÚ
(
d©a
, 
–em’t
);

177 
	gS–eùEËm’t
::
li¡BoxOnChªge
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

179 
ASSERT
(!
d©a
.
u£sM’uLi¡
(è|| d©a.
muÉË
());

181 
	gVeùÜ
<
	gboŞ
>& 
	gÏ¡OnChªgeS–eùiÚ
 = 
d©a
.
Ï¡OnChªgeS–eùiÚ
();

182 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

185 ià(
	gÏ¡OnChªgeS–eùiÚ
.
isEm±y
(è||†a¡OnChªgeS–eùiÚ.
size
(è!ğ
™ems
.size()) {

186 
–em’t
->
di¥©chFÜmCÚŒŞChªgeEv’t
();

191 
boŞ
 
	gfœeOnChªge
 = 
çl£
;

192 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

193 
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
]);

194 
boŞ
 
	g£Ëùed
 = 
İtiÚEËm’t
 && o±iÚEËm’t->
£Ëùed
();

195 ià(
	g£Ëùed
 !ğ
Ï¡OnChªgeS–eùiÚ
[
i
])

196 
fœeOnChªge
 = 
Œue
;

197 
	gÏ¡OnChªgeS–eùiÚ
[
i
] = 
£Ëùed
;

200 ià(
	gfœeOnChªge
)

201 
	g–em’t
->
di¥©chFÜmCÚŒŞChªgeEv’t
();

204 
	gS–eùEËm’t
::
m’uLi¡OnChªge
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

206 
ASSERT
(
d©a
.
u£sM’uLi¡
());

208 
	g£Ëùed
 = 
£ËùedIndex
(
d©a
, 
–em’t
);

209 ià(
	gd©a
.
Ï¡OnChªgeIndex
(è!ğ
£Ëùed
 && 
d©a
.
u£rDriv’Chªge
()) {

210 
d©a
.
£tLa¡OnChªgeIndex
(
£Ëùed
);

211 
	gd©a
.
£tU£rDriv’Chªge
(
çl£
);

212 
	g–em’t
->
di¥©chFÜmCÚŒŞChªgeEv’t
();

216 
	gS–eùEËm’t
::
süŞlToS–eùiÚ
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

218 ià(
	gd©a
.
u£sM’uLi¡
())

221 ià(
R’d”Objeù
* 
	g»nd””
 = 
–em’t
->
»nd””
())

222 
toR’d”Li¡Box
(
»nd””
)->
£ËùiÚChªged
();

225 
	gS–eùEËm’t
::
£tO±iÚsChªgedOnR’d””
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

227 ià(
R’d”Objeù
* 
	g»nd””
 = 
–em’t
->
»nd””
()) {

228 ià(
d©a
.
u£sM’uLi¡
())

229 
toR’d”M’uLi¡
(
»nd””
)->
£tO±iÚsChªged
(
Œue
);

231 
toR’d”Li¡Box
(
»nd””
)->
£tO±iÚsChªged
(
Œue
);

235 
	gS–eùEËm’t
::
£tReÿlcLi¡I‹ms
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

237 
	gd©a
.
£tShouldReÿlcLi¡I‹ms
(
Œue
);

238 
	gd©a
.
£tAùiveS–eùiÚAnchÜIndex
(-1);

239 
£tO±iÚsChªgedOnR’d””
(
d©a
, 
–em’t
);

240 
	g–em’t
->
£tN“dsStyËReÿlc
();

243 
	gS–eùEËm’t
::
»ÿlcLi¡I‹ms
(
S–eùEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
, 
boŞ
 
upd©eS–eùedS‹s
)

245 
	gVeùÜ
<
	gEËm’t
*>& 
	gli¡I‹ms
 = 
d©a
.
¿wLi¡I‹ms
();

246 
	gli¡I‹ms
.
ş—r
();

248 
	gd©a
.
£tShouldReÿlcLi¡I‹ms
(
çl£
);

250 
O±iÚEËm’t
* 
	gfoundS–eùed
 = 0;

251 
Node
* 
	gcu¼’tNode
 = 
–em’t
->
fœ¡Chd
(); currentNode;) {

252 ià(!
	gcu¼’tNode
->
isEËm’tNode
()) {

253 
	gcu¼’tNode
 = 
cu¼’tNode
->
Œav”£NextSiblšg
(
–em’t
);

257 
EËm’t
* 
	gcu¼’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
cu¼’tNode
);

262 ià(
isO±iÚGroupEËm’t
(
cu¼’t
)) {

263 
	gli¡I‹ms
.
­³nd
(
cu¼’t
);

264 ià(
	gcu¼’t
->
fœ¡Chd
()) {

265 
	gcu¼’tNode
 = 
cu¼’t
->
fœ¡Chd
();

270 ià(
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
cu¼’t
)) {

271 
li¡I‹ms
.
­³nd
(
cu¼’t
);

273 ià(
	gupd©eS–eùedS‹s
) {

274 ià(!
	gfoundS–eùed
 && (
	gd©a
.
u£sM’uLi¡
(è|| (!d©a.
muÉË
(è&& 
	gİtiÚEËm’t
->
£Ëùed
()))) {

275 
	gfoundS–eùed
 = 
İtiÚEËm’t
;

276 
	gfoundS–eùed
->
£tS–eùedS‹
(
Œue
);

277 } ià(
	gfoundS–eùed
 && !
	gd©a
.
muÉË
(è&& 
	gİtiÚEËm’t
->
£Ëùed
()) {

278 
	gfoundS–eùed
->
£tS–eùedS‹
(
çl£
);

279 
	gfoundS–eùed
 = 
İtiÚEËm’t
;

284 ià(
	gcu¼’t
->
hasTagName
(
HTMLNames
::
hrTag
))

285 
li¡I‹ms
.
­³nd
(
cu¼’t
);

293 
	gcu¼’tNode
 = 
cu¼’tNode
->
Œav”£NextSiblšg
(
–em’t
);

297 
	gS–eùEËm’t
::
£ËùedIndex
(cÚ¡ 
S–eùEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
)

299 
	gšdex
 = 0;

302 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

303 
size_t
 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

304 ià(
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
])) {

305 ià(
İtiÚEËm’t
->
£Ëùed
())

306  
šdex
;

307 ++
	gšdex
;

314 
	gS–eùEËm’t
::
£tS–eùedIndex
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
İtiÚIndex
, 
boŞ
 
de£Ëù
, boŞ 
fœeOnChªgeNow
, boŞ 
u£rDriv’Chªge
)

316 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

317 
	gli¡Index
 = 
İtiÚToLi¡Index
(
d©a
, 
–em’t
, 
İtiÚIndex
);

318 ià(!
	gd©a
.
muÉË
())

319 
	gde£Ëù
 = 
Œue
;

321 
EËm’t
* 
	gexşudeEËm’t
 = 0;

322 ià(
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = (
li¡Index
 >ğ0 ? 
toO±iÚEËm’t
(
™ems
[listIndex]) : 0)) {

323 
exşudeEËm’t
 = 
™ems
[
li¡Index
];

324 ià(
	gd©a
.
aùiveS–eùiÚAnchÜIndex
(è< 0 || 
	gde£Ëù
)

325 
£tAùiveS–eùiÚAnchÜIndex
(
d©a
, 
–em’t
, 
li¡Index
);

326 ià(
	gd©a
.
aùiveS–eùiÚEndIndex
(è< 0 || 
	gde£Ëù
)

327 
£tAùiveS–eùiÚEndIndex
(
d©a
, 
li¡Index
);

328 
	gİtiÚEËm’t
->
£tS–eùedS‹
(
Œue
);

331 ià(
	gde£Ëù
)

332 
de£ËùI‹ms
(
d©a
, 
–em’t
, 
exşudeEËm’t
);

335 ià(
R’d”Objeù
* 
	g»nd””
 = 
–em’t
->
»nd””
())

336 
»nd””
->
upd©eFromEËm’t
();

338 
süŞlToS–eùiÚ
(
d©a
, 
–em’t
);

341 ià(
	gd©a
.
u£sM’uLi¡
()) {

342 
	gd©a
.
£tU£rDriv’Chªge
(
u£rDriv’Chªge
);

343 ià(
	gfœeOnChªgeNow
)

344 
m’uLi¡OnChªge
(
d©a
, 
–em’t
);

345 ià(
R’d”M’uLi¡
* 
	gm’uLi¡
 = 
toR’d”M’uLi¡
(
–em’t
->
»nd””
()))

346 
m’uLi¡
->
didS‘S–eùedIndex
();

349 ià(
F¿me
* 
	gäame
 = 
–em’t
->
docum’t
()->
äame
())

350 
äame
->
·ge
()->
chrome
()->
ş›Á
()->
fÜmS‹DidChªge
(
–em’t
);

353 
	gS–eùEËm’t
::
İtiÚToLi¡Index
(cÚ¡ 
S–eùEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
, 
İtiÚIndex
)

355 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

356 
	gli¡Size
 = (è
™ems
.
size
();

357 ià(
	gİtiÚIndex
 < 0 || o±iÚIndex >ğ
li¡Size
)

360 
	gİtiÚIndex2
 = -1;

361 
	gli¡Index
 = 0;†i¡Index < 
	gli¡Size
; ++listIndex) {

362 ià(
isO±iÚEËm’t
(
™ems
[
li¡Index
])) {

363 ++
	gİtiÚIndex2
;

364 ià(
	gİtiÚIndex2
 =ğ
İtiÚIndex
)

365  
li¡Index
;

372 
	gS–eùEËm’t
::
li¡ToO±iÚIndex
(cÚ¡ 
S–eùEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
, 
li¡Index
)

374 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

375 ià(
	gli¡Index
 < 0 ||†i¡Index >ğ(
™ems
.
size
()) ||

376 !
isO±iÚEËm’t
(
™ems
[
li¡Index
]))

379 
	gİtiÚIndex
 = 0;

380 
	gi
 = 0; i < 
	gli¡Index
; ++i)

381 ià(
isO±iÚEËm’t
(
™ems
[
i
]))

382 ++
	gİtiÚIndex
;

384  
	gİtiÚIndex
;

387 
	gS–eùEËm’t
::
di¥©chFocusEv’t
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

390 ià(
	gd©a
.
u£sM’uLi¡
())

391 
§veLa¡S–eùiÚ
(
d©a
, 
–em’t
);

394 
	gS–eùEËm’t
::
di¥©chBlurEv’t
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

398 ià(
	gd©a
.
u£sM’uLi¡
())

399 
m’uLi¡OnChªge
(
d©a
, 
–em’t
);

402 
	gS–eùEËm’t
::
de£ËùI‹ms
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, EËm’t* 
exşudeEËm’t
)

404 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

405 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

406 ià(
	g™ems
[
i
] =ğ
exşudeEËm’t
)

409 ià(
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
]))

410 
İtiÚEËm’t
->
£tS–eùedS‹
(
çl£
);

414 
boŞ
 
	gS–eùEËm’t
::
§veFÜmCÚŒŞS‹
(cÚ¡ 
S–eùEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
, 
SŒšg
& 
v®ue
)

416 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

417 
	gËngth
 = 
™ems
.
size
();

420 
	gVeùÜ
<, 1024> 
ch¬aù”s
(
Ëngth
);

421 
	gi
 = 0; i < 
	gËngth
; ++i) {

422 
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
]);

423 
boŞ
 
	g£Ëùed
 = 
İtiÚEËm’t
 && o±iÚEËm’t->
£Ëùed
();

424 
	gch¬aù”s
[
i
] = 
£Ëùed
 ? 'X' : '.';

427 
	gv®ue
 = 
SŒšg
(
ch¬aù”s
.
d©a
(), 
Ëngth
);

428  
	gŒue
;

431 
	gS–eùEËm’t
::
»¡ÜeFÜmCÚŒŞS‹
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, cÚ¡ 
SŒšg
& 
¡©e
)

433 
»ÿlcLi¡I‹ms
(
d©a
, 
–em’t
);

435 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

436 
	gËngth
 = 
™ems
.
size
();

438 
	gi
 = 0; i < 
	gËngth
; ++i) {

439 ià(
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
]))

440 
İtiÚEËm’t
->
£tS–eùedS‹
(
¡©e
[
i
] == 'X');

443 
£tO±iÚsChªgedOnR’d””
(
d©a
, 
–em’t
);

446 
	gS–eùEËm’t
::
·r£MuÉËA‰ribu‹
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
M­³dA‰ribu‹
* 
©Œibu‹
)

448 
boŞ
 
	gŞdU£sM’uLi¡
 = 
d©a
.
u£sM’uLi¡
();

449 
	gd©a
.
£tMuÉË
(!
©Œibu‹
->
isNuÎ
());

450 ià(
	gŞdU£sM’uLi¡
 !ğ
d©a
.
u£sM’uLi¡
(è&& 
–em’t
->
©ched
()) {

451 
–em’t
->
d‘ach
();

452 
	g–em’t
->
©ch
();

456 
boŞ
 
	gS–eùEËm’t
::
­³ndFÜmD©a
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
FÜmD©aLi¡
& 
li¡
)

458 cÚ¡ 
	gAtomicSŒšg
& 
	gÇme
 = 
–em’t
->
fÜmCÚŒŞName
();

459 ià(
	gÇme
.
isEm±y
())

460  
	gçl£
;

462 
boŞ
 
	gsucûssful
 = 
çl£
;

463 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

465 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

466 
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
]);

467 ià(
	gİtiÚEËm’t
 && o±iÚEËm’t->
£Ëùed
(è&& !İtiÚEËm’t->
di§bËd
()) {

468 
	gli¡
.
­³ndD©a
(
Çme
, 
İtiÚEËm’t
->
v®ue
());

469 
	gsucûssful
 = 
Œue
;

476  
	gsucûssful
;

479 
	gS–eùEËm’t
::
»£t
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

481 
O±iÚEËm’t
* 
	gfœ¡O±iÚ
 = 0;

482 
O±iÚEËm’t
* 
	g£ËùedO±iÚ
 = 0;

484 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

485 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

486 
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
]);

487 ià(!
	gİtiÚEËm’t
)

490 ià(!
	g™ems
[
i
]->
g‘A‰ribu‹
(
HTMLNames
::
£ËùedA‰r
).
isNuÎ
()) {

491 ià(
£ËùedO±iÚ
 && !
d©a
.
muÉË
())

492 
£ËùedO±iÚ
->
£tS–eùedS‹
(
çl£
);

493 
	gİtiÚEËm’t
->
£tS–eùedS‹
(
Œue
);

494 
	g£ËùedO±iÚ
 = 
İtiÚEËm’t
;

496 
	gİtiÚEËm’t
->
£tS–eùedS‹
(
çl£
);

498 ià(!
	gfœ¡O±iÚ
)

499 
	gfœ¡O±iÚ
 = 
İtiÚEËm’t
;

502 ià(!
	g£ËùedO±iÚ
 && 
	gfœ¡O±iÚ
 && 
	gd©a
.
u£sM’uLi¡
())

503 
	gfœ¡O±iÚ
->
£tS–eùedS‹
(
Œue
);

505 
£tO±iÚsChªgedOnR’d””
(
d©a
, 
–em’t
);

506 
	g–em’t
->
£tN“dsStyËReÿlc
();

509 #ià!
ARROW_KEYS_POP_MENU


510 
	eSkDœeùiÚ
 {

511 
	gSkBackw¬ds
 = -1,

512 
	gSkFÜw¬ds
 = 1

516 
ÃxtV®idIndex
(cÚ¡ 
VeùÜ
<
EËm’t
*>& 
li¡I‹ms
, 
li¡Index
, 
SkDœeùiÚ
 
dœeùiÚ
, 
sk
)

518 
	gÏ¡GoodIndex
 = 
li¡Index
;

519 
	gsize
 = 
li¡I‹ms
.
size
();

520 
	gli¡Index
 +ğ
dœeùiÚ
;†i¡Index >ğ0 && 
li¡Index
 < 
size
;†istIndex += direction) {

521 --
sk
;

522 ià(!
	gli¡I‹ms
[
li¡Index
]->
di§bËd
(è&& 
isO±iÚEËm’t
(
li¡I‹ms
[listIndex])) {

523 
	gÏ¡GoodIndex
 = 
li¡Index
;

524 ià(
	gsk
 <= 0)

528  
	gÏ¡GoodIndex
;

532 
	gS–eùEËm’t
::
m’uLi¡DeçuÉEv’tHªdËr
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
Ev’t
* 
ev’t
, 
HTMLFÜmEËm’t
* 
htmlFÜm
)

534 #ià!
ARROW_KEYS_POP_MENU


535 
UNUSED_PARAM
(
htmlFÜm
);

538 ià(
	gev’t
->
ty³
(è=ğ
ev’tNames
().
keydownEv’t
) {

539 ià(!
–em’t
->
»nd””
(è|| !
ev’t
->
isKeybßrdEv’t
())

542 
SŒšg
 
	gkeyId’tif›r
 = 
¡©ic_ÿ¡
<
KeybßrdEv’t
*>(
ev’t
)->
keyId’tif›r
();

543 
boŞ
 
	ghªdËd
 = 
çl£
;

545 #ià
ARROW_KEYS_POP_MENU


546 ià(
	gkeyId’tif›r
 =ğ"Down" || 
keyId’tif›r
 == "Up") {

547 
–em’t
->
focus
();

550 
§veLa¡S–eùiÚ
(
d©a
, 
–em’t
);

551 ià(
R’d”M’uLi¡
* 
	gm’uLi¡
 = 
toR’d”M’uLi¡
(
–em’t
->
»nd””
()))

552 
m’uLi¡
->
showPİup
();

553 
	ghªdËd
 = 
Œue
;

556 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	gli¡I‹ms
 = 
d©a
.
li¡I‹ms
(
–em’t
);

558 
	gli¡Index
 = 
İtiÚToLi¡Index
(
d©a
, 
–em’t
, 
£ËùedIndex
(data,ƒlement));

559 ià(
	gkeyId’tif›r
 =ğ"Down" || 
keyId’tif›r
 == "Right") {

560 
li¡Index
 = 
ÃxtV®idIndex
(
li¡I‹ms
,†i¡Index, 
SkFÜw¬ds
, 1);

561 
	ghªdËd
 = 
Œue
;

562 } ià(
	gkeyId’tif›r
 =ğ"Up" || 
keyId’tif›r
 == "Left") {

563 
li¡Index
 = 
ÃxtV®idIndex
(
li¡I‹ms
,†i¡Index, 
SkBackw¬ds
, 1);

564 
	ghªdËd
 = 
Œue
;

565 } ià(
	gkeyId’tif›r
 == "PageDown") {

566 
li¡Index
 = 
ÃxtV®idIndex
(
li¡I‹ms
,†i¡Index, 
SkFÜw¬ds
, 3);

567 
	ghªdËd
 = 
Œue
;

568 } ià(
	gkeyId’tif›r
 == "PageUp") {

569 
li¡Index
 = 
ÃxtV®idIndex
(
li¡I‹ms
,†i¡Index, 
SkBackw¬ds
, 3);

570 
	ghªdËd
 = 
Œue
;

571 } ià(
	gkeyId’tif›r
 == "Home") {

572 
li¡Index
 = 
ÃxtV®idIndex
(
li¡I‹ms
, -1, 
SkFÜw¬ds
, 1);

573 
	ghªdËd
 = 
Œue
;

574 } ià(
	gkeyId’tif›r
 == "End") {

575 
li¡Index
 = 
ÃxtV®idIndex
(
li¡I‹ms
,†i¡I‹ms.
size
(), 
SkBackw¬ds
, 1);

576 
	ghªdËd
 = 
Œue
;

579 ià(
	ghªdËd
 && 
	gli¡Index
 >ğ0 && ()
li¡Index
 < 
li¡I‹ms
.
size
())

580 
£tS–eùedIndex
(
d©a
, 
–em’t
, 
li¡ToO±iÚIndex
(d©a,ƒËm’t, 
li¡Index
));

582 ià(
	ghªdËd
)

583 
	gev’t
->
£tDeçuÉHªdËd
();

588 ià(
	gev’t
->
ty³
(è=ğ
ev’tNames
().
key´essEv’t
) {

589 ià(!
–em’t
->
»nd””
(è|| !
ev’t
->
isKeybßrdEv’t
())

592 
	gkeyCode
 = 
¡©ic_ÿ¡
<
KeybßrdEv’t
*>(
ev’t
)->
keyCode
();

593 
boŞ
 
	ghªdËd
 = 
çl£
;

595 #ià
SPACE_OR_RETURN_POP_MENU


596 ià(
	gkeyCode
 =ğ' ' || 
keyCode
 == '\r') {

597 
–em’t
->
focus
();

600 
§veLa¡S–eùiÚ
(
d©a
, 
–em’t
);

601 ià(
R’d”M’uLi¡
* 
	gm’uLi¡
 = 
toR’d”M’uLi¡
(
–em’t
->
»nd””
()))

602 
m’uLi¡
->
showPİup
();

603 
	ghªdËd
 = 
Œue
;

605 #–ià
ARROW_KEYS_POP_MENU


606 ià(
	gkeyCode
 == ' ') {

607 
–em’t
->
focus
();

610 
§veLa¡S–eùiÚ
(
d©a
, 
–em’t
);

611 ià(
R’d”M’uLi¡
* 
	gm’uLi¡
 = 
toR’d”M’uLi¡
(
–em’t
->
»nd””
()))

612 
m’uLi¡
->
showPİup
();

613 
	ghªdËd
 = 
Œue
;

614 } ià(
	gkeyCode
 == '\r') {

615 
m’uLi¡OnChªge
(
d©a
, 
–em’t
);

616 ià(
	ghtmlFÜm
)

617 
	ghtmlFÜm
->
subm™Click
(
ev’t
);

618 
	ghªdËd
 = 
Œue
;

621 
	gli¡Index
 = 
İtiÚToLi¡Index
(
d©a
, 
–em’t
, 
£ËùedIndex
(data,ƒlement));

622 ià(
	gkeyCode
 == '\r') {

624 
£tS–eùedIndex
(
d©a
, 
–em’t
, 
li¡ToO±iÚIndex
(d©a,ƒËm’t, 
li¡Index
), 
Œue
,rue);

625 
	ghªdËd
 = 
Œue
;

628 ià(
	ghªdËd
)

629 
	gev’t
->
£tDeçuÉHªdËd
();

632 ià(
	gev’t
->
ty³
(è=ğ
ev’tNames
().
mou£downEv’t
 && 
ev’t
->
isMou£Ev’t
(è&& 
¡©ic_ÿ¡
<
Mou£Ev’t
*>Óv’t)->
bu‰Ú
(è=ğ
LeáBu‰Ú
) {

633 
–em’t
->
focus
();

634 ià(
	g–em’t
->
»nd””
(è&&ƒËm’t->»nd””()->
isM’uLi¡
()) {

635 ià(
R’d”M’uLi¡
* 
	gm’uLi¡
 = 
toR’d”M’uLi¡
(
–em’t
->
»nd””
())) {

636 ià(
m’uLi¡
->
pİupIsVisibË
())

637 
m’uLi¡
->
hidePİup
();

641 
§veLa¡S–eùiÚ
(
d©a
, 
–em’t
);

642 
	gm’uLi¡
->
showPİup
();

646 
	gev’t
->
£tDeçuÉHªdËd
();

650 
	gS–eùEËm’t
::
upd©eS–eùedS‹
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
li¡Index
,

651 
boŞ
 
muÉi
, boŞ 
shiá
)

653 
ASSERT
(
li¡Index
 >= 0);

656 
§veLa¡S–eùiÚ
(
d©a
, 
–em’t
);

658 
	gd©a
.
£tAùiveS–eùiÚS‹
(
Œue
);

660 
boŞ
 
	gshiáS–eù
 = 
d©a
.
muÉË
(è&& 
shiá
;

661 
boŞ
 
	gmuÉiS–eù
 = 
d©a
.
muÉË
(è&& 
muÉi
 && !
shiá
;

663 
EËm’t
* 
	gşickedEËm’t
 = 
d©a
.
li¡I‹ms
(
–em’t
)[
li¡Index
];

664 
O±iÚEËm’t
* 
	gİtiÚ
 = 
toO±iÚEËm’t
(
şickedEËm’t
);

665 ià(
	gİtiÚ
) {

667 ià(
	gİtiÚ
->
£Ëùed
(è&& 
	gmuÉi
)

668 
	gd©a
.
£tAùiveS–eùiÚS‹
(
çl£
);

670 ià(!
	gd©a
.
aùiveS–eùiÚS‹
())

671 
	gİtiÚ
->
£tS–eùedS‹
(
çl£
);

676 ià(!
	gshiáS–eù
 && !
	gmuÉiS–eù
)

677 
de£ËùI‹ms
(
d©a
, 
–em’t
, 
şickedEËm’t
);

680 ià(
	gd©a
.
aùiveS–eùiÚAnchÜIndex
(è< 0 && !
	gmuÉiS–eù
)

681 
£tAùiveS–eùiÚAnchÜIndex
(
d©a
, 
–em’t
, 
£ËùedIndex
(data,ƒlement));

684 ià(
	gİtiÚ
 && !
	gşickedEËm’t
->
di§bËd
())

685 
	gİtiÚ
->
£tS–eùedS‹
(
Œue
);

689 ià(
	gd©a
.
aùiveS–eùiÚAnchÜIndex
(è< 0 || !
	gshiáS–eù
)

690 
£tAùiveS–eùiÚAnchÜIndex
(
d©a
, 
–em’t
, 
li¡Index
);

692 
£tAùiveS–eùiÚEndIndex
(
d©a
, 
li¡Index
);

693 
upd©eLi¡BoxS–eùiÚ
(
d©a
, 
–em’t
, !
muÉiS–eù
);

696 
	gS–eùEËm’t
::
li¡BoxDeçuÉEv’tHªdËr
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
Ev’t
* 
ev’t
, 
HTMLFÜmEËm’t
* 
htmlFÜm
)

698 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	gli¡I‹ms
 = 
d©a
.
li¡I‹ms
(
–em’t
);

700 ià(
	gev’t
->
ty³
(è=ğ
ev’tNames
().
mou£downEv’t
 && 
ev’t
->
isMou£Ev’t
(è&& 
¡©ic_ÿ¡
<
Mou£Ev’t
*>Óv’t)->
bu‰Ú
(è=ğ
LeáBu‰Ú
) {

701 
–em’t
->
focus
();

704 
Mou£Ev’t
* 
	gmou£Ev’t
 = 
¡©ic_ÿ¡
<Mou£Ev’t*>(
ev’t
);

705 
IÁPošt
 
	gloÿlOff£t
 = 
roundedIÁPošt
(
–em’t
->
»nd””
()->
absŞu‹ToLoÿl
(
mou£Ev’t
->
absŞu‹LoÿtiÚ
(), 
çl£
, 
Œue
));

706 
	gli¡Index
 = 
toR’d”Li¡Box
(
–em’t
->
»nd””
())->
li¡IndexAtOff£t
(
loÿlOff£t
.
x
(),†oÿlOff£t.
y
());

707 ià(
	gli¡Index
 >= 0) {

708 #ià
PLATFORM
(
MAC
è|| (PLATFORM(
CHROMIUM
è&& 
OS
(
DARWIN
))

709 
upd©eS–eùedS‹
(
d©a
, 
–em’t
, 
li¡Index
, 
mou£Ev’t
->
m‘aKey
(), mou£Ev’t->
shiáKey
());

711 
upd©eS–eùedS‹
(
d©a
, 
–em’t
, 
li¡Index
, 
mou£Ev’t
->
ù¾Key
(), mou£Ev’t->
shiáKey
());

713 ià(
F¿me
* 
	gäame
 = 
–em’t
->
docum’t
()->
äame
())

714 
äame
->
ev’tHªdËr
()->
£tMou£DownMayS¹AutosüŞl
();

716 
	gev’t
->
£tDeçuÉHªdËd
();

718 } ià(
	gev’t
->
ty³
(è=ğ
ev’tNames
().
mou£upEv’t
 && 
ev’t
->
isMou£Ev’t
(è&& 
¡©ic_ÿ¡
<
Mou£Ev’t
*>Óv’t)->
bu‰Ú
(è=ğ
LeáBu‰Ú
 && 
–em’t
->
docum’t
()->
äame
()->
ev’tHªdËr
()->
autosüŞlR’d””
(è!ğ–em’t->
»nd””
())

720 
li¡BoxOnChªge
(
d©a
, 
–em’t
);

721 ià(
	gev’t
->
ty³
(è=ğ
ev’tNames
().
keydownEv’t
) {

722 ià(!
ev’t
->
isKeybßrdEv’t
())

724 
SŒšg
 
	gkeyId’tif›r
 = 
¡©ic_ÿ¡
<
KeybßrdEv’t
*>(
ev’t
)->
keyId’tif›r
();

726 
	g’dIndex
 = 0;

727 ià(
	gd©a
.
aùiveS–eùiÚEndIndex
() < 0) {

729 ià(
	gkeyId’tif›r
 == "Down")

730 
’dIndex
 = 
ÃxtS–eùabËLi¡Index
(
d©a
, 
–em’t
, 
Ï¡S–eùedLi¡Index
(data,ƒlement));

731 ià(
	gkeyId’tif›r
 == "Up")

732 
’dIndex
 = 
´eviousS–eùabËLi¡Index
(
d©a
, 
–em’t
, 
İtiÚToLi¡Index
(d©a,ƒËm’t, 
£ËùedIndex
(data,ƒlement)));

735 ià(
	gkeyId’tif›r
 == "Down")

736 
’dIndex
 = 
ÃxtS–eùabËLi¡Index
(
d©a
, 
–em’t
, d©a.
aùiveS–eùiÚEndIndex
());

737 ià(
	gkeyId’tif›r
 == "Up")

738 
’dIndex
 = 
´eviousS–eùabËLi¡Index
(
d©a
, 
–em’t
, d©a.
aùiveS–eùiÚEndIndex
());

741 ià(
	gkeyId’tif›r
 =ğ"Down" || 
keyId’tif›r
 == "Up") {

743 
§veLa¡S–eùiÚ
(
d©a
, 
–em’t
);

745 
ASSERT_UNUSED
(
li¡I‹ms
, 
’dIndex
 >ğ0 && (è’dIndex <†i¡I‹ms.
size
());

746 
£tAùiveS–eùiÚEndIndex
(
d©a
, 
’dIndex
);

749 
boŞ
 
	gde£ËùOth”s
 = !
d©a
.
muÉË
(è|| !
¡©ic_ÿ¡
<
KeybßrdEv’t
*>(
ev’t
)->
shiáKey
();

750 ià(
	gd©a
.
aùiveS–eùiÚAnchÜIndex
(è< 0 || 
	gde£ËùOth”s
) {

751 
	gd©a
.
£tAùiveS–eùiÚS‹
(
Œue
);

752 ià(
	gde£ËùOth”s
)

753 
de£ËùI‹ms
(
d©a
, 
–em’t
);

754 
£tAùiveS–eùiÚAnchÜIndex
(
d©a
, 
–em’t
, d©a.
aùiveS–eùiÚEndIndex
());

757 
toR’d”Li¡Box
(
–em’t
->
»nd””
())->
süŞlToRev—lEËm’tAtLi¡Index
(
’dIndex
);

758 
upd©eLi¡BoxS–eùiÚ
(
d©a
, 
–em’t
, 
de£ËùOth”s
);

759 
li¡BoxOnChªge
(
d©a
, 
–em’t
);

760 
	gev’t
->
£tDeçuÉHªdËd
();

762 } ià(
	gev’t
->
ty³
(è=ğ
ev’tNames
().
key´essEv’t
) {

763 ià(!
ev’t
->
isKeybßrdEv’t
())

765 
	gkeyCode
 = 
¡©ic_ÿ¡
<
KeybßrdEv’t
*>(
ev’t
)->
keyCode
();

767 ià(
	gkeyCode
 == '\r') {

768 ià(
htmlFÜm
)

769 
htmlFÜm
->
subm™Click
(
ev’t
);

770 
	gev’t
->
£tDeçuÉHªdËd
();

776 
	gS–eùEËm’t
::
deçuÉEv’tHªdËr
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
Ev’t
* 
ev’t
, 
HTMLFÜmEËm’t
* 
htmlFÜm
)

778 ià(!
	g–em’t
->
»nd””
())

781 ià(
	gd©a
.
u£sM’uLi¡
())

782 
m’uLi¡DeçuÉEv’tHªdËr
(
d©a
, 
–em’t
, 
ev’t
, 
htmlFÜm
);

784 
li¡BoxDeçuÉEv’tHªdËr
(
d©a
, 
–em’t
, 
ev’t
, 
htmlFÜm
);

786 ià(
	gev’t
->
deçuÉHªdËd
())

789 ià(
	gev’t
->
ty³
(è=ğ
ev’tNames
().
key´essEv’t
 && 
ev’t
->
isKeybßrdEv’t
()) {

790 
KeybßrdEv’t
* 
keybßrdEv’t
 = 
¡©ic_ÿ¡
<KeybßrdEv’t*>(
ev’t
);

791 ià(!
	gkeybßrdEv’t
->
ù¾Key
(è&& !keybßrdEv’t->
®tKey
(è&& !keybßrdEv’t->
m‘aKey
(è&& 
isPršbËCh¬
(
keybßrdEv’t
->
ch¬Code
())) {

792 
ty³Ah—dFšd
(
d©a
, 
–em’t
, 
keybßrdEv’t
);

793 
	gev’t
->
£tDeçuÉHªdËd
();

799 
	gS–eùEËm’t
::
Ï¡S–eùedLi¡Index
(cÚ¡ 
S–eùEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
)

802 
	gšdex
 = 0;

803 
boŞ
 
	gfound
 = 
çl£
;

804 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

805 
size_t
 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

806 ià(
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
i
])) {

807 ià(
İtiÚEËm’t
->
£Ëùed
()) {

808 
šdex
 = 
i
;

809 
	gfound
 = 
Œue
;

814  
	gfound
 ? (è
	gšdex
 : -1;

817 
SŒšg
 
¡rL—dšgWh™eS·û
(cÚ¡ SŒšg& 
¡ršg
)

819 
	gËngth
 = 
¡ršg
.
Ëngth
();

821 
	gi
;

822 
	gi
 = 0; i < 
	gËngth
; ++i) {

823 ià(
	g¡ršg
[
i
] !ğ
noB»akS·û
 && (
¡ršg
[i] <ğ0x7F ? !
isASCIIS·û
(¡ršg[i]è: (
dœeùiÚ
(¡ršg[i]è!ğ
Wh™eS·ûNeuŒ®
)))

827  
	g¡ršg
.
sub¡ršg
(
i
, 
Ëngth
 - i);

830 
	gS–eùEËm’t
::
ty³Ah—dFšd
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
KeybßrdEv’t
* 
ev’t
)

832 ià(
	gev’t
->
timeSmp
(è< 
	gd©a
.
Ï¡Ch¬Time
())

835 
DOMTimeSmp
 
	gd–
 = 
ev’t
->
timeSmp
(è- 
d©a
.
Ï¡Ch¬Time
();

836 
	gd©a
.
£tLa¡Ch¬Time
(
ev’t
->
timeSmp
());

838 
UCh¬
 
	gc
 = 
ev’t
->
ch¬Code
();

840 
SŒšg
 
	g´efix
;

841 
	g£¬chS¹Off£t
 = 1;

842 ià(
	gd–
 > 
	gty³Ah—dTimeout
) {

843 
	g´efix
 = 
SŒšg
(&
c
, 1);

844 
	gd©a
.
£tTy³dSŒšg
(
´efix
);

845 
	gd©a
.
£tR•—tšgCh¬
(
c
);

847 
	gd©a
.
ty³dSŒšg
().
­³nd
(
c
);

849 ià(
	gc
 =ğ
d©a
.
»³©šgCh¬
())

851 
´efix
 = 
SŒšg
(&
c
, 1);

853 
	gd©a
.
£tR•—tšgCh¬
(0);

854 
	g´efix
 = 
d©a
.
ty³dSŒšg
();

855 
	g£¬chS¹Off£t
 = 0;

859 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

860 
	g™emCouÁ
 = 
™ems
.
size
();

861 ià(
	g™emCouÁ
 < 1)

864 
	g£Ëùed
 = 
£ËùedIndex
(
d©a
, 
–em’t
);

865 
	gšdex
 = (
İtiÚToLi¡Index
(
d©a
, 
–em’t
, 
£Ëùed
 >ğ0 ? s–eùed : 0è+ 
£¬chS¹Off£t
è% 
™emCouÁ
;

866 
ASSERT
(
šdex
 >= 0);

872 
SŒšg
 
´efixW™hCa£FŞded
(
´efix
.
fŞdCa£
());

873 
	gi
 = 0; i < 
	g™emCouÁ
; ++i, 
	gšdex
 = (
šdex
 + 1è% 
™emCouÁ
) {

874 
O±iÚEËm’t
* 
İtiÚEËm’t
 = 
toO±iÚEËm’t
(
™ems
[
šdex
]);

875 ià(!
	gİtiÚEËm’t
 || 
	g™ems
[
šdex
]->
di§bËd
())

879 
SŒšg
 
	g‹xt
 = 
İtiÚEËm’t
->
‹xtInd’‹dToRe¥eùGroupLab–
();

880 ià(
¡rL—dšgWh™eS·û
(
‹xt
).
fŞdCa£
().
¡¬tsW™h
(
´efixW™hCa£FŞded
)) {

881 
£tS–eùedIndex
(
d©a
, 
–em’t
, 
li¡ToO±iÚIndex
(d©a,ƒËm’t, 
šdex
));

882 ià(!
	gd©a
.
u£sM’uLi¡
())

883 
li¡BoxOnChªge
(
d©a
, 
–em’t
);

885 
£tO±iÚsChªgedOnR’d””
(
d©a
, 
–em’t
);

886 
	g–em’t
->
£tN“dsStyËReÿlc
();

892 
	gS–eùEËm’t
::
š£¹edIÁoT»e
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
)

896 
»ÿlcLi¡I‹ms
(
d©a
, 
–em’t
, 
Œue
);

899 
	gS–eùEËm’t
::
acûssKeyS‘S–eùedIndex
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
šdex
)

902 ià(!
	g–em’t
->
focu£d
())

903 
	g–em’t
->
acûssKeyAùiÚ
(
çl£
);

906 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

907 
	gli¡Index
 = 
İtiÚToLi¡Index
(
d©a
, 
–em’t
, 
šdex
);

908 ià(
O±iÚEËm’t
* 
	gİtiÚEËm’t
 = (
li¡Index
 >ğ0 ? 
toO±iÚEËm’t
(
™ems
[listIndex]) : 0)) {

909 ià(
İtiÚEËm’t
->
£Ëùed
())

910 
İtiÚEËm’t
->
£tS–eùedS‹
(
çl£
);

912 
£tS–eùedIndex
(
d©a
, 
–em’t
, 
šdex
, 
çl£
, 
Œue
);

915 
li¡BoxOnChªge
(
d©a
, 
–em’t
);

916 
süŞlToS–eùiÚ
(
d©a
, 
–em’t
);

919 
	gS–eùEËm’t
::
İtiÚCouÁ
(cÚ¡ 
S–eùEËm’tD©a
& 
d©a
, cÚ¡ 
EËm’t
* 
–em’t
)

921 
	gİtiÚs
 = 0;

923 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	g™ems
 = 
d©a
.
li¡I‹ms
(
–em’t
);

924 
	gi
 = 0; i < 
	g™ems
.
size
(); ++i) {

925 ià(
isO±iÚEËm’t
(
™ems
[
i
]))

926 ++
	gİtiÚs
;

929  
	gİtiÚs
;

933 
	gS–eùEËm’tD©a
::
S–eùEËm’tD©a
()

934 : 
m_muÉË
(
çl£
)

935 , 
m_size
(0)

936 , 
m_Ï¡OnChªgeIndex
(-1)

937 , 
m_aùiveS–eùiÚS‹
(
çl£
)

938 , 
m_aùiveS–eùiÚAnchÜIndex
(-1)

939 , 
m_aùiveS–eùiÚEndIndex
(-1)

940 , 
m_»ÿlcLi¡I‹ms
(
çl£
)

941 , 
m_»³©šgCh¬
(0)

942 , 
m_Ï¡Ch¬Time
(0)

946 
	gS–eùEËm’tD©a
::
checkLi¡I‹ms
(cÚ¡ 
EËm’t
* 
–em’t
) const

948 #ià!
ASSERT_DISABLED


949 
VeùÜ
<
EËm’t
*> 
™ems
 = 
m_li¡I‹ms
;

950 
	gS–eùEËm’t
::
»ÿlcLi¡I‹ms
(*
cÚ¡_ÿ¡
<
S–eùEËm’tD©a
*>(
this
), 
–em’t
, 
çl£
);

951 
ASSERT
(
™ems
 =ğ
m_li¡I‹ms
);

953 
UNUSED_PARAM
(
–em’t
);

957 
	gVeùÜ
<
	gEËm’t
*>& 
	gS–eùEËm’tD©a
::
li¡I‹ms
(cÚ¡ 
EËm’t
* 
–em’t
)

959 ià(
m_»ÿlcLi¡I‹ms
)

960 
S–eùEËm’t
::
»ÿlcLi¡I‹ms
(*
this
, 
–em’t
);

962 
checkLi¡I‹ms
(
–em’t
);

964  
	gm_li¡I‹ms
;

967 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
	gS–eùEËm’tD©a
::
li¡I‹ms
(cÚ¡ 
EËm’t
* 
–em’t
) const

969 ià(
m_»ÿlcLi¡I‹ms
)

970 
S–eùEËm’t
::
»ÿlcLi¡I‹ms
(*
cÚ¡_ÿ¡
<
S–eùEËm’tD©a
*>(
this
), 
–em’t
);

972 
checkLi¡I‹ms
(
–em’t
);

974  
	gm_li¡I‹ms
;

977 
S–eùEËm’t
* 
toS–eùEËm’t
(
EËm’t
* 
–em’t
)

979 ià(
	g–em’t
->
isHTMLEËm’t
()) {

980 ià(
	g–em’t
->
hasTagName
(
HTMLNames
::
£ËùTag
))

981  
¡©ic_ÿ¡
<
HTMLS–eùEËm’t
*>(
–em’t
);

982 ià(
	g–em’t
->
hasTagName
(
HTMLNames
::
keyg’Tag
))

983  
¡©ic_ÿ¡
<
HTMLKeyg’EËm’t
*>(
–em’t
);

986 #ià
ENABLE
(
WML
)

987 ià(
	g–em’t
->
isWMLEËm’t
(è&&ƒËm’t->
hasTagName
(
WMLNames
::
£ËùTag
))

988  
¡©ic_ÿ¡
<
WMLS–eùEËm’t
*>(
–em’t
);

	@SelectElement.h

22 #iâdeà
S–eùEËm’t_h


23 
	#S–eùEËm’t_h


	)

25 
	~"Ev’t.h
"

26 
	~<wtf/VeùÜ.h
>

28 
Çme¥aû
 
	gWebCÜe
 {

30 
şass
 
	gEËm’t
;

31 
şass
 
	gEv’t
;

32 
şass
 
	gFÜmD©aLi¡
;

33 
şass
 
	gHTMLFÜmEËm’t
;

34 
şass
 
	gKeybßrdEv’t
;

35 
şass
 
	gM­³dA‰ribu‹
;

36 
şass
 
	gS–eùEËm’tD©a
;

37 
şass
 
	gSŒšg
;

39 şas 
	cS–eùEËm’t
 {

40 
	gpublic
:

41 
vœtu®
 
boŞ
 
muÉË
() const = 0;

43 
vœtu®
 
size
() const = 0;

44 
vœtu®
 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
li¡I‹ms
() const = 0;

46 
vœtu®
 
li¡BoxOnChªge
() = 0;

47 
vœtu®
 
upd©eLi¡BoxS–eùiÚ
(
boŞ
 
de£ËùOth”O±iÚs
) = 0;

49 
vœtu®
 
m’uLi¡OnChªge
() = 0;

51 
vœtu®
 
aùiveS–eùiÚS¹Li¡Index
() const = 0;

52 
vœtu®
 
aùiveS–eùiÚEndLi¡Index
() const = 0;

54 
vœtu®
 
£tAùiveS–eùiÚAnchÜIndex
(
šdex
) = 0;

55 
vœtu®
 
£tAùiveS–eùiÚEndIndex
(
šdex
) = 0;

57 
vœtu®
 
li¡ToO±iÚIndex
(
li¡Index
) const = 0;

58 
vœtu®
 
İtiÚToLi¡Index
(
İtiÚIndex
) const = 0;

60 
vœtu®
 
£ËùedIndex
() const = 0;

61 
vœtu®
 
£tS–eùedIndex
(
šdex
, 
boŞ
 
de£Ëù
 = 
Œue
) = 0;

62 
vœtu®
 
£tS–eùedIndexByU£r
(
šdex
, 
boŞ
 
de£Ëù
 = 
Œue
, boŞ 
fœeOnChªgeNow
 = 
çl£
) = 0;

64 
vœtu®
 
li¡BoxS–eùI‹m
(
li¡Index
, 
boŞ
 
®lowMuÉlyS–eùiÚs
, boŞ 
shiá
, boŞ 
fœeOnChªgeNow
 = 
Œue
) = 0;

66 
	g´Ùeùed
:

67 
vœtu®
 ~
S–eùEËm’t
() { }

69 
ä›nd
 
şass
 
S–eùEËm’tD©a
;

71 
£ËùAÎ
(
S–eùEËm’tD©a
&, 
EËm’t
*);

72 
§veLa¡S–eùiÚ
(
S–eùEËm’tD©a
&, 
EËm’t
*);

73 
ÃxtS–eùabËLi¡Index
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
¡¬tIndex
);

74 
´eviousS–eùabËLi¡Index
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
¡¬tIndex
);

75 
£tAùiveS–eùiÚAnchÜIndex
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
šdex
);

76 
£tAùiveS–eùiÚEndIndex
(
S–eùEËm’tD©a
&, 
šdex
);

77 
upd©eLi¡BoxS–eùiÚ
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
boŞ
 
de£ËùOth”O±iÚs
);

78 
li¡BoxOnChªge
(
S–eùEËm’tD©a
&, 
EËm’t
*);

79 
m’uLi¡OnChªge
(
S–eùEËm’tD©a
&, 
EËm’t
*);

80 
süŞlToS–eùiÚ
(
S–eùEËm’tD©a
&, 
EËm’t
*);

81 
£tReÿlcLi¡I‹ms
(
S–eùEËm’tD©a
&, 
EËm’t
*);

82 
»ÿlcLi¡I‹ms
(
S–eùEËm’tD©a
&, cÚ¡ 
EËm’t
*, 
boŞ
 
upd©eS–eùedS‹s
 = 
Œue
);

83 
£ËùedIndex
(cÚ¡ 
S–eùEËm’tD©a
&, cÚ¡ 
EËm’t
*);

84 
£tS–eùedIndex
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
İtiÚIndex
, 
boŞ
 
de£Ëù
 = 
Œue
, boŞ 
fœeOnChªgeNow
 = 
çl£
, boŞ 
u£rDriv’Chªge
 =rue);

85 
İtiÚToLi¡Index
(cÚ¡ 
S–eùEËm’tD©a
&, cÚ¡ 
EËm’t
*, 
İtiÚIndex
);

86 
li¡ToO±iÚIndex
(cÚ¡ 
S–eùEËm’tD©a
&, cÚ¡ 
EËm’t
*, 
li¡Index
);

87 
di¥©chFocusEv’t
(
S–eùEËm’tD©a
&, 
EËm’t
*);

88 
di¥©chBlurEv’t
(
S–eùEËm’tD©a
&, 
EËm’t
*);

89 
de£ËùI‹ms
(
S–eùEËm’tD©a
&, 
EËm’t
*, EËm’t* 
exşudeEËm’t
 = 0);

90 
boŞ
 
§veFÜmCÚŒŞS‹
(cÚ¡ 
S–eùEËm’tD©a
&, cÚ¡ 
EËm’t
*, 
SŒšg
& 
¡©e
);

91 
»¡ÜeFÜmCÚŒŞS‹
(
S–eùEËm’tD©a
&, 
EËm’t
*, cÚ¡ 
SŒšg
& 
¡©e
);

92 
·r£MuÉËA‰ribu‹
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
M­³dA‰ribu‹
*);

93 
boŞ
 
­³ndFÜmD©a
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
FÜmD©aLi¡
&);

94 
»£t
(
S–eùEËm’tD©a
&, 
EËm’t
*);

95 
deçuÉEv’tHªdËr
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
Ev’t
*, 
HTMLFÜmEËm’t
* = 0);

96 
Ï¡S–eùedLi¡Index
(cÚ¡ 
S–eùEËm’tD©a
&, cÚ¡ 
EËm’t
*);

97 
ty³Ah—dFšd
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
KeybßrdEv’t
*);

98 
š£¹edIÁoT»e
(
S–eùEËm’tD©a
&, 
EËm’t
*);

99 
acûssKeyS‘S–eùedIndex
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
šdex
);

100 
İtiÚCouÁ
(cÚ¡ 
S–eùEËm’tD©a
&, cÚ¡ 
EËm’t
*);

102 
upd©eS–eùedS‹
(
S–eùEËm’tD©a
& 
d©a
, 
EËm’t
* 
–em’t
, 
li¡Index
,

103 
boŞ
 
muÉi
, boŞ 
shiá
);

105 
	g´iv©e
:

106 
m’uLi¡DeçuÉEv’tHªdËr
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
Ev’t
*, 
HTMLFÜmEËm’t
*);

107 
li¡BoxDeçuÉEv’tHªdËr
(
S–eùEËm’tD©a
&, 
EËm’t
*, 
Ev’t
*, 
HTMLFÜmEËm’t
*);

108 
£tO±iÚsChªgedOnR’d””
(
S–eùEËm’tD©a
&, 
EËm’t
*);

113 şas 
	cS–eùEËm’tD©a
 {

114 
	gpublic
:

115 
S–eùEËm’tD©a
();

117 
boŞ
 
muÉË
(ècÚ¡ {  
	gm_muÉË
; }

118 
£tMuÉË
(
boŞ
 
v®ue
è{ 
	gm_muÉË
 = value; }

120 
size
(ècÚ¡ {  
	gm_size
; }

121 
£tSize
(
v®ue
è{ 
	gm_size
 = value; }

123 
boŞ
 
u£sM’uLi¡
() const

125 #ià
ENABLE
(
NO_LISTBOX_RENDERING
)

126  
	gŒue
;

128  !
	gm_muÉË
 && 
	gm_size
 <= 1;

132 
Ï¡OnChªgeIndex
(ècÚ¡ {  
	gm_Ï¡OnChªgeIndex
; }

133 
£tLa¡OnChªgeIndex
(
v®ue
è{ 
	gm_Ï¡OnChªgeIndex
 = value; }

135 
boŞ
 
u£rDriv’Chªge
(ècÚ¡ {  
	gm_u£rDriv’Chªge
; }

136 
£tU£rDriv’Chªge
(
boŞ
 
v®ue
è{ 
	gm_u£rDriv’Chªge
 = value; }

138 
	gVeùÜ
<
	gboŞ
>& 
Ï¡OnChªgeS–eùiÚ
(è{  
	gm_Ï¡OnChªgeS–eùiÚ
; }

140 
boŞ
 
aùiveS–eùiÚS‹
(ècÚ¡ {  
	gm_aùiveS–eùiÚS‹
; }

141 
£tAùiveS–eùiÚS‹
(
boŞ
 
v®ue
è{ 
	gm_aùiveS–eùiÚS‹
 = value; }

143 
aùiveS–eùiÚAnchÜIndex
(ècÚ¡ {  
	gm_aùiveS–eùiÚAnchÜIndex
; }

144 
£tAùiveS–eùiÚAnchÜIndex
(
v®ue
è{ 
	gm_aùiveS–eùiÚAnchÜIndex
 = value; }

146 
aùiveS–eùiÚEndIndex
(ècÚ¡ {  
	gm_aùiveS–eùiÚEndIndex
; }

147 
£tAùiveS–eùiÚEndIndex
(
v®ue
è{ 
	gm_aùiveS–eùiÚEndIndex
 = value; }

149 
	gVeùÜ
<
	gboŞ
>& 
ÿchedS‹FÜAùiveS–eùiÚ
(è{  
	gm_ÿchedS‹FÜAùiveS–eùiÚ
; }

151 
boŞ
 
shouldReÿlcLi¡I‹ms
(ècÚ¡ {  
	gm_»ÿlcLi¡I‹ms
; }

152 
£tShouldReÿlcLi¡I‹ms
(
boŞ
 
v®ue
è{ 
	gm_»ÿlcLi¡I‹ms
 = value; }

154 
	gVeùÜ
<
	gEËm’t
*>& 
¿wLi¡I‹ms
(è{  
	gm_li¡I‹ms
; }

155 
	gVeùÜ
<
	gEËm’t
*>& 
li¡I‹ms
(cÚ¡ 
EËm’t
*);

156 cÚ¡ 
	gVeùÜ
<
	gEËm’t
*>& 
li¡I‹ms
(cÚ¡ 
EËm’t
*) const;

158 
UCh¬
 
»³©šgCh¬
(ècÚ¡ {  
	gm_»³©šgCh¬
; }

159 
£tR•—tšgCh¬
(cÚ¡ 
UCh¬
& 
v®ue
è{ 
	gm_»³©šgCh¬
 = value; }

161 
DOMTimeSmp
 
Ï¡Ch¬Time
(ècÚ¡ {  
	gm_Ï¡Ch¬Time
; }

162 
£tLa¡Ch¬Time
(cÚ¡ 
DOMTimeSmp
& 
v®ue
è{ 
	gm_Ï¡Ch¬Time
 = value; }

164 
	gSŒšg
& 
ty³dSŒšg
(è{  
	gm_ty³dSŒšg
; }

165 
£tTy³dSŒšg
(cÚ¡ 
SŒšg
& 
v®ue
è{ 
	gm_ty³dSŒšg
 = value; }

167 
	g´iv©e
:

168 
checkLi¡I‹ms
(cÚ¡ 
EËm’t
*) const;

170 
boŞ
 
	gm_muÉË
;

171 
	gm_size
;

173 
	gm_Ï¡OnChªgeIndex
;

174 
	gVeùÜ
<
	gboŞ
> 
	gm_Ï¡OnChªgeS–eùiÚ
;

175 
boŞ
 
	gm_u£rDriv’Chªge
;

177 
boŞ
 
	gm_aùiveS–eùiÚS‹
;

178 
	gm_aùiveS–eùiÚAnchÜIndex
;

179 
	gm_aùiveS–eùiÚEndIndex
;

180 
	gVeùÜ
<
	gboŞ
> 
	gm_ÿchedS‹FÜAùiveS–eùiÚ
;

182 
boŞ
 
	gm_»ÿlcLi¡I‹ms
;

183 
	gVeùÜ
<
	gEËm’t
*> 
	gm_li¡I‹ms
;

186 
UCh¬
 
	gm_»³©šgCh¬
;

187 
DOMTimeSmp
 
	gm_Ï¡Ch¬Time
;

188 
SŒšg
 
	gm_ty³dSŒšg
;

191 
S–eùEËm’t
* 
toS–eùEËm’t
(
EËm’t
*);

	@SelectorNodeList.cpp

29 
	~"cÚfig.h
"

30 
	~"S–eùÜNodeLi¡.h
"

32 
	~"CSSS–eùÜ.h
"

33 
	~"CSSS–eùÜLi¡.h
"

34 
	~"CSSStyËS–eùÜ.h
"

35 
	~"Docum’t.h
"

36 
	~"EËm’t.h
"

37 
	~"HTMLNames.h
"

39 
Çme¥aû
 
	gWebCÜe
 {

41 
usšg
 
Çme¥aû
 
	gHTMLNames
;

43 
	gPassRefPŒ
<
	gSticNodeLi¡
> 
ü—‹S–eùÜNodeLi¡
(
Node
* 
roÙNode
, cÚ¡ 
CSSS–eùÜLi¡
& 
qu”yS–eùÜLi¡
)

45 
	gVeùÜ
<
	gRefPŒ
<
	gNode
> > 
	gnodes
;

46 
Docum’t
* 
	gdocum’t
 = 
roÙNode
->
docum’t
();

47 
CSSS–eùÜ
* 
	gÚlyS–eùÜ
 = 
qu”yS–eùÜLi¡
.
hasOÃS–eùÜ
(è? qu”yS–eùÜLi¡.
fœ¡
() : 0;

48 
boŞ
 
	g¡riùP¬sšg
 = !
docum’t
->
šCom·tMode
();

50 
	gCSSStyËS–eùÜ
::
S–eùÜCheck”
 
£ËùÜCheck”
(
docum’t
, 
¡riùP¬sšg
);

52 ià(
	g¡riùP¬sšg
 && 
	groÙNode
->
šDocum’t
(è&& 
	gÚlyS–eùÜ
 && oÆyS–eùÜ->
	gm_m©ch
 =ğ
CSSS–eùÜ
::
Id
 && !
docum’t
->
cÚšsMuÉËEËm’tsW™hId
(
ÚlyS–eùÜ
->
m_v®ue
)) {

53 
EËm’t
* 
–em’t
 = 
docum’t
->
g‘EËm’tById
(
ÚlyS–eùÜ
->
m_v®ue
);

54 ià(
	g–em’t
 && (
	groÙNode
->
isDocum’tNode
(è||ƒËm’t->
isDesûndªtOf
(
roÙNode
)è&& 
	g£ËùÜCheck”
.
checkS–eùÜ
(
ÚlyS–eùÜ
, 
–em’t
))

55 
	gnodes
.
­³nd
(
–em’t
);

57 
Node
* 
	gn
 = 
roÙNode
->
fœ¡Chd
();‚;‚ = 
n
->
Œav”£NextNode
(rootNode)) {

58 ià(
n
->
isEËm’tNode
()) {

59 
EËm’t
* 
–em’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
n
);

60 
CSSS–eùÜ
* 
	g£ËùÜ
 = 
qu”yS–eùÜLi¡
.
fœ¡
(); s–eùÜ; s–eùÜ = 
CSSS–eùÜLi¡
::
Ãxt
(
£ËùÜ
)) {

61 ià(
£ËùÜCheck”
.
checkS–eùÜ
(
£ËùÜ
, 
–em’t
)) {

62 
nodes
.
­³nd
(
n
);

70  
	gSticNodeLi¡
::
adİt
(
nodes
);

	@SelectorNodeList.h

29 #iâdeà
S–eùÜNodeLi¡_h


30 
	#S–eùÜNodeLi¡_h


	)

32 
	~"SticNodeLi¡.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
şass
 
	gCSSS–eùÜLi¡
;

38 
	gPassRefPŒ
<
	gSticNodeLi¡
> 
ü—‹S–eùÜNodeLi¡
(
Node
* 
roÙNode
, cÚ¡ 
CSSS–eùÜLi¡
&);

	@SpaceSplitString.cpp

21 
	~"cÚfig.h
"

22 
	~"S·ûS¶™SŒšg.h
"

24 
	~<wtf/ASCIICTy³.h
>

26 
usšg
 
Çme¥aû
 
	gWTF
;

28 
Çme¥aû
 
	gWebCÜe
 {

30 
boŞ
 
hasNÚASCIIOrUµ”
(cÚ¡ 
SŒšg
& 
¡ršg
)

32 cÚ¡ 
UCh¬
* 
	gch¬aù”s
 = 
¡ršg
.
ch¬aù”s
();

33 
	gËngth
 = 
¡ršg
.
Ëngth
();

34 
boŞ
 
	ghasUµ”
 = 
çl£
;

35 
UCh¬
 
	gÜed
 = 0;

36 
	gi
 = 0; i < 
	gËngth
; i++) {

37 
UCh¬
 
	gc
 = 
ch¬aù”s
[
i
];

38 
	ghasUµ”
 |ğ
isASCIIUµ”
(
c
);

39 
	gÜed
 |ğ
c
;

41  
	ghasUµ”
 || (
	gÜed
 & ~0x7F);

44 
	gS·ûS¶™SŒšgD©a
::
ü—‹VeùÜ
()

46 
ASSERT
(!
m_ü—‹dVeùÜ
);

47 
ASSERT
(
m_veùÜ
.
isEm±y
());

49 ià(
	gm_shouldFŞdCa£
 && 
hasNÚASCIIOrUµ”
(
m_¡ršg
))

50 
	gm_¡ršg
 = 
m_¡ršg
.
fŞdCa£
();

52 cÚ¡ 
UCh¬
* 
	gch¬aù”s
 = 
m_¡ršg
.
ch¬aù”s
();

53 
	gËngth
 = 
m_¡ršg
.
Ëngth
();

54 
	g¡¬t
 = 0;

55 
	gŒue
) {

56 
	g¡¬t
 < 
	gËngth
 && 
isCÏssWh™e¥aû
(
ch¬aù”s
[
¡¬t
]))

57 ++
	g¡¬t
;

58 ià(
	g¡¬t
 >ğ
Ëngth
)

60 
	g’d
 = 
¡¬t
 + 1;

61 
	g’d
 < 
	gËngth
 && !
isCÏssWh™e¥aû
(
ch¬aù”s
[
’d
]))

62 ++
	g’d
;

64 
	gm_veùÜ
.
­³nd
(
AtomicSŒšg
(
ch¬aù”s
 + 
¡¬t
, 
’d
 - start));

66 
	g¡¬t
 = 
’d
 + 1;

69 
	gm_¡ršg
 = 
SŒšg
();

70 
	gm_ü—‹dVeùÜ
 = 
Œue
;

73 
boŞ
 
	gS·ûS¶™SŒšgD©a
::
cÚšsAÎ
(
S·ûS¶™SŒšgD©a
& 
Ùh”
)

75 
’su»VeùÜ
();

76 
	gÙh”
.
’su»VeùÜ
();

77 
size_t
 
	gthisSize
 = 
m_veùÜ
.
size
();

78 
size_t
 
	gÙh”Size
 = 
Ùh”
.
m_veùÜ
.
size
();

79 
size_t
 
	gi
 = 0; i < 
	gÙh”Size
; ++i) {

80 cÚ¡ 
	gAtomicSŒšg
& 
	gÇme
 = 
Ùh”
.
m_veùÜ
[
i
];

81 
size_t
 
	gj
;

82 
	gj
 = 0; j < 
	gthisSize
; ++j) {

83 ià(
	gm_veùÜ
[
j
] =ğ
Çme
)

86 ià(
	gj
 =ğ
thisSize
)

87  
çl£
;

89  
	gŒue
;

	@SpaceSplitString.h

21 #iâdeà
S·ûS¶™SŒšg_h


22 
	#S·ûS¶™SŒšg_h


	)

24 
	~"AtomicSŒšg.h
"

25 
	~<wtf/OwnPŒ.h
>

26 
	~<wtf/VeùÜ.h
>

28 
Çme¥aû
 
	gWebCÜe
 {

30 şas 
	cS·ûS¶™SŒšgD©a
 : 
public
 
NÚcİyabË
 {

31 
public
:

32 
S·ûS¶™SŒšgD©a
(cÚ¡ 
SŒšg
& 
¡ršg
, 
boŞ
 
shouldFŞdCa£
)

33 : 
m_¡ršg
(
¡ršg
), 
m_shouldFŞdCa£
(
shouldFŞdCa£
), 
m_ü—‹dVeùÜ
(
çl£
)

37 
boŞ
 
cÚšs
(cÚ¡ 
AtomicSŒšg
& 
¡ršg
)

39 
’su»VeùÜ
();

40 
size_t
 
	gsize
 = 
m_veùÜ
.
size
();

41 
size_t
 
	gi
 = 0; i < 
	gsize
; ++i) {

42 ià(
	gm_veùÜ
[
i
] =ğ
¡ršg
)

43  
Œue
;

45  
	gçl£
;

48 
boŞ
 
cÚšsAÎ
(
S·ûS¶™SŒšgD©a
&);

50 
size_t
 
size
(è{ 
’su»VeùÜ
();  
	gm_veùÜ
.size(); }

51 cÚ¡ 
	gAtomicSŒšg
& 
	gİ”©Ü
[](
size_t
 
	gi
è{ 
’su»VeùÜ
(); 
ASSERT
(
i
 < 
size
());  
	gm_veùÜ
[i]; }

53 
	g´iv©e
:

54 
’su»VeùÜ
(è{ ià(!
m_ü—‹dVeùÜ
è
ü—‹VeùÜ
(); }

55 
ü—‹VeùÜ
();

57 
	gVeùÜ
<
	tAtomicSŒšg
, 8> 
	tSŒšgVeùÜ
;

58 
SŒšg
 
	gm_¡ršg
;

59 
SŒšgVeùÜ
 
	gm_veùÜ
;

60 
boŞ
 
	gm_shouldFŞdCa£
;

61 
boŞ
 
	gm_ü—‹dVeùÜ
;

64 şas 
	cS·ûS¶™SŒšg
 {

65 
	gpublic
:

66 
S·ûS¶™SŒšg
() { }

67 
S·ûS¶™SŒšg
(cÚ¡ 
SŒšg
& 
¡ršg
, 
boŞ
 
shouldFŞdCa£
è: 
m_d©a
(
Ãw
 
S·ûS¶™SŒšgD©a
(string, shouldFoldCase)) { }

69 
£t
(cÚ¡ 
SŒšg
& 
¡ršg
, 
boŞ
 
shouldFŞdCa£
è{ 
	gm_d©a
.£t(
Ãw
 
S·ûS¶™SŒšgD©a
(string, shouldFoldCase)); }

70 
ş—r
(è{ 
	gm_d©a
.clear(); }

72 
boŞ
 
cÚšs
(cÚ¡ 
AtomicSŒšg
& 
¡ršg
ècÚ¡ {  
	gm_d©a
 && m_data->contains(string); }

73 
boŞ
 
cÚšsAÎ
(cÚ¡ 
S·ûS¶™SŒšg
& 
Çmes
ècÚ¡ {  !
	gÇmes
.
	gm_d©a
 || (m_d©¨&& m_d©a->cÚšsAÎ(*Çmes.
m_d©a
)); }

75 
size_t
 
size
(ècÚ¡ {  
	gm_d©a
 ? m_data->size() : 0; }

76 cÚ¡ 
	gAtomicSŒšg
& 
	gİ”©Ü
[](
size_t
 
	gi
ècÚ¡ { 
ASSERT
(
i
 < 
size
());  (*
	gm_d©a
)[i]; }

78 
	g´iv©e
:

79 
OwnPŒ
<
S·ûS¶™SŒšgD©a
> 
m_d©a
;

82 
šlše
 
boŞ
 
	$isCÏssWh™e¥aû
(
UCh¬
 
c
)

84  
c
 == ' ' || c == '\r' || c == '\n' || c == '\t' || c == '\f';

85 
	}
}

	@StaticNodeList.cpp

29 
	~"cÚfig.h
"

30 
	~"SticNodeLi¡.h
"

32 
	~"EËm’t.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
	gSticNodeLi¡
::
Ëngth
() const

38  
m_nodes
.
size
();

41 
Node
* 
	gSticNodeLi¡
::
™em
(
šdex
) const

43 ià(
šdex
 < 
m_nodes
.
size
())

44  
m_nodes
[
šdex
].
g‘
();

48 
Node
* 
	gSticNodeLi¡
::
™emW™hName
(cÚ¡ 
AtomicSŒšg
& 
–em’tId
) const

50 
size_t
 
Ëngth
 = 
m_nodes
.
size
();

51 
size_t
 
	gi
 = 0; i < 
	gËngth
; ++i) {

52 
Node
* 
	gnode
 = 
m_nodes
[
i
].
g‘
();

53 ià(
	gnode
->
isEËm’tNode
(è&& 
	g¡©ic_ÿ¡
<
	gEËm’t
*>Òode)->
g‘IDA‰ribu‹
(è=ğ
–em’tId
)

54  
node
;

	@StaticNodeList.h

29 #iâdeà
SticNodeLi¡_h


30 
	#SticNodeLi¡_h


	)

32 
	~"NodeLi¡.h
"

33 
	~<wtf/PassRefPŒ.h
>

34 
	~<wtf/RefPŒ.h
>

35 
	~<wtf/VeùÜ.h
>

37 
Çme¥aû
 
	gWebCÜe
 {

39 
şass
 
	gNode
;

41 şas 
	cSticNodeLi¡
 : 
public
 
NodeLi¡
 {

42 
public
:

44 
PassRefPŒ
<
SticNodeLi¡
> 
adİt
(
VeùÜ
<
RefPŒ
<
Node
> >& 
nodes
)

46  
adİtRef
(
Ãw
 
SticNodeLi¡
(
nodes
));

49 
vœtu®
 
Ëngth
() const;

50 
vœtu®
 
Node
* 
™em
(
šdex
) const;

51 
vœtu®
 
Node
* 
™emW™hName
(cÚ¡ 
AtomicSŒšg
&) const;

53 
	g´iv©e
:

54 
SticNodeLi¡
(
VeùÜ
<
RefPŒ
<
Node
> >& 
nodes
)

56 
m_nodes
.
sw­
(
nodes
);

58 
	gVeùÜ
<
	gRefPŒ
<
	gNode
> > 
	gm_nodes
;

	@StyleElement.cpp

21 
	~"cÚfig.h
"

22 
	~"StyËEËm’t.h
"

24 
	~"Docum’t.h
"

25 
	~"EËm’t.h
"

26 
	~"M­³dA‰ribu‹.h
"

27 
	~"MedŸLi¡.h
"

28 
	~"MedŸQu”yEv®u©Ü.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 
	gStyËEËm’t
::
StyËEËm’t
()

36 
StyËSh“t
* 
StyËEËm’t
::
sh“t
(
EËm’t
* 
e
)

38 ià(!
m_sh“t
)

39 
ü—‹Sh“t
(
e
);

40  
	gm_sh“t
.
g‘
();

43 
	gStyËEËm’t
::
š£¹edIÁoDocum’t
(
Docum’t
*, 
EËm’t
* 
–em’t
)

45 
´oûss
(
–em’t
);

48 
	gStyËEËm’t
::
»movedFromDocum’t
(
Docum’t
* 
docum’t
)

51 ià(!
docum’t
->
»nd””
())

55 ià(
	gm_sh“t
)

56 
	gdocum’t
->
upd©eStyËS–eùÜ
();

59 
	gStyËEËm’t
::
´oûss
(
EËm’t
* 
e
)

61 ià(!
e
 || !e->
šDocum’t
())

64 
	g»suÉL’gth
 = 0;

65 
Node
* 
	gc
 = 
e
->
fœ¡Chd
(); c; c = 
c
->
ÃxtSiblšg
()) {

66 
Node
::
NodeTy³
 
nodeTy³
 = 
c
->nodeType();

67 ià(
	gnodeTy³
 =ğ
Node
::
TEXT_NODE
 || 
nodeTy³
 =ğNode::
CDATA_SECTION_NODE
 ||‚odeTy³ =ğNode::
COMMENT_NODE
)

68 
»suÉL’gth
 +ğ
c
->
nodeV®ue
().
Ëngth
();

70 
UCh¬
* 
	g‹xt
;

71 
SŒšg
 
	gsh“tText
 = SŒšg::
ü—‹Unš™Ÿlized
(
»suÉL’gth
, 
‹xt
);

73 
UCh¬
* 
	gp
 = 
‹xt
;

74 
Node
* 
	gc
 = 
e
->
fœ¡Chd
(); c; c = 
c
->
ÃxtSiblšg
()) {

75 
Node
::
NodeTy³
 
nodeTy³
 = 
c
->nodeType();

76 ià(
	gnodeTy³
 =ğ
Node
::
TEXT_NODE
 || 
nodeTy³
 =ğNode::
CDATA_SECTION_NODE
 ||‚odeTy³ =ğNode::
COMMENT_NODE
) {

77 
SŒšg
 
nodeV®ue
 = 
c
->nodeValue();

78 
	gnodeL’gth
 = 
nodeV®ue
.
Ëngth
();

79 
memıy
(
p
, 
nodeV®ue
.
ch¬aù”s
(), 
nodeL’gth
 * (
UCh¬
));

80 
	gp
 +ğ
nodeL’gth
;

83 
ASSERT
(
p
 =ğ
‹xt
 + 
»suÉL’gth
);

85 
ü—‹Sh“t
(
e
, 
sh“tText
);

88 
	gStyËEËm’t
::
ü—‹Sh“t
(
EËm’t
* 
e
, cÚ¡ 
SŒšg
& 
‹xt
)

90 
Docum’t
* 
	gdocum’t
 = 
e
->
docum’t
();

91 ià(
	gm_sh“t
) {

92 ià(
	g¡©ic_ÿ¡
<
	gCSSStyËSh“t
*>(
	gm_sh“t
.
g‘
())->
isLßdšg
())

93 
	gdocum’t
->
»moveP’dšgSh“t
();

94 
	gm_sh“t
 = 0;

98 cÚ¡ 
	gAtomicSŒšg
& 
	gty³
 = 
this
->
ty³
();

99 ià(
	gty³
.
isEm±y
(è|| (
	ge
->
isHTMLEËm’t
(è? 
equ®IgnÜšgCa£
(
ty³
, "text/css") : (type == "text/css"))) {

100 
RefPŒ
<
MedŸLi¡
> 
medŸLi¡
 = MedŸLi¡::
ü—‹
(
medŸ
(), 
e
->
isHTMLEËm’t
());

101 
MedŸQu”yEv®u©Ü
 
sü“nEv®
("sü“n", 
Œue
);

102 
MedŸQu”yEv®u©Ü
 
´štEv®
("´št", 
Œue
);

103 ià(
	gsü“nEv®
.
ev®
(
medŸLi¡
.
g‘
()è|| 
	g´štEv®
.eval(mediaList.get())) {

104 
	gdocum’t
->
addP’dšgSh“t
();

105 
£tLßdšg
(
Œue
);

106 
	gm_sh“t
 = 
CSSStyËSh“t
::
ü—‹
(
e
, 
SŒšg
(), 
KURL
(), 
docum’t
->
šputEncodšg
());

107 
	gm_sh“t
->
·r£SŒšg
(
‹xt
, !
docum’t
->
šCom·tMode
());

108 
	gm_sh“t
->
£tMedŸ
(
medŸLi¡
.
g‘
());

109 
	gm_sh“t
->
£tT™Ë
(
e
->
t™Ë
());

110 
£tLßdšg
(
çl£
);

114 ià(
	gm_sh“t
)

115 
	gm_sh“t
->
checkLßded
();

	@StyleElement.h

20 #iâdeà
StyËEËm’t_h


21 
	#StyËEËm’t_h


	)

23 
	~"CSSStyËSh“t.h
"

25 
Çme¥aû
 
	gWebCÜe
 {

27 
şass
 
	gEËm’t
;

29 şas 
	cStyËEËm’t
 {

30 
	gpublic
:

31 
StyËEËm’t
();

32 
	gvœtu®
 ~
StyËEËm’t
() {}

34 
	g´Ùeùed
:

35 
StyËSh“t
* 
sh“t
(
EËm’t
*);

37 
vœtu®
 
£tLßdšg
(
boŞ
) {}

39 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
ty³
() const = 0;

40 
vœtu®
 cÚ¡ 
	gAtomicSŒšg
& 
medŸ
() const = 0;

42 
š£¹edIÁoDocum’t
(
Docum’t
*, 
EËm’t
*);

43 
»movedFromDocum’t
(
Docum’t
*);

44 
´oûss
(
EËm’t
*);

46 
ü—‹Sh“t
(
EËm’t
* 
e
, cÚ¡ 
SŒšg
& 
‹xt
 = String());

48 
	g´Ùeùed
:

49 
RefPŒ
<
CSSStyËSh“t
> 
m_sh“t
;

	@StyledElement.cpp

24 
	~"cÚfig.h
"

25 
	~"StyËdEËm’t.h
"

27 
	~"CSSStyËS–eùÜ.h
"

28 
	~"CSSStyËSh“t.h
"

29 
	~"CSSV®ueKeywÜds.h
"

30 
	~"Docum’t.h
"

31 
	~"HTMLNames.h
"

32 
	~"M­³dA‰ribu‹.h
"

33 
	~<wtf/HashFunùiÚs.h
>

35 
usšg
 
Çme¥aû
 
	g¡d
;

37 
Çme¥aû
 
	gWebCÜe
 {

39 
usšg
 
Çme¥aû
 
	gHTMLNames
;

41 
	sM­³dA‰ribu‹Key
 {

42 
ušt16_t
 
	gty³
;

43 
SŒšgIm¶
* 
	gÇme
;

44 
SŒšgIm¶
* 
	gv®ue
;

45 
M­³dA‰ribu‹Key
(
M­³dA‰ribu‹EÁry
 
t
 = 
eNÚe
, 
SŒšgIm¶
* 
n
 = 0, SŒšgIm¶* 
v
 = 0)

46 : 
ty³
(
t
), 
Çme
(
n
), 
v®ue
(
v
) { }

49 
šlše
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
M­³dA‰ribu‹Key
& 
a
, cÚ¡ 
	gM­³dA‰ribu‹Key
& 
	gb
)

50 {  
	ga
.
	gty³
 =ğ
b
.
ty³
 && 
a
.
Çme
 =ğb.Çm&&‡.
v®ue
 == b.value; }

52 
	gM­³dA‰ribu‹KeyT¿™s
 : 
WTF
::
G’”icHashT¿™s
<
M­³dA‰ribu‹Key
> {

53 cÚ¡ 
boŞ
 
em±yV®ueIsZ”o
 = 
Œue
;

54 cÚ¡ 
boŞ
 
	gÃedsDe¡ruùiÚ
 = 
çl£
;

55 
cÚ¡ruùD–‘edV®ue
(
M­³dA‰ribu‹Key
& 
¦Ù
è{ 
	g¦Ù
.
	gty³
 = 
eLa¡EÁry
; }

56 
boŞ
 
isD–‘edV®ue
(cÚ¡ 
M­³dA‰ribu‹Key
& 
v®ue
è{  
	gv®ue
.
	gty³
 =ğ
eLa¡EÁry
; }

59 
	sM­³dA‰ribu‹Hash
 {

60 
hash
(cÚ¡ 
M­³dA‰ribu‹Key
&);

61 
boŞ
 
equ®
(cÚ¡ 
M­³dA‰ribu‹Key
& 
a
, cÚ¡ M­³dA‰ribu‹Key& 
b
è{  
	ga
 == b; }

62 cÚ¡ 
boŞ
 
	g§ãToCom·»ToEm±yOrD–‘ed
 = 
Œue
;

65 
	gHashM­
<
	tM­³dA‰ribu‹Key
, 
	tCSSM­³dA‰ribu‹Deş¬©iÚ
*, 
	tM­³dA‰ribu‹Hash
, 
	tM­³dA‰ribu‹KeyT¿™s
> 
	tM­³dA‰ribu‹Deşs
;

67 
M­³dA‰ribu‹Deşs
* 
	gm­³dA‰ribu‹Deşs
 = 0;

69 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
	gStyËdEËm’t
::
g‘M­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
 
’ŒyTy³
, 
A‰ribu‹
* 
©Œ
)

71 ià(!
	gm­³dA‰ribu‹Deşs
)

73  
	gm­³dA‰ribu‹Deşs
->
g‘
(
M­³dA‰ribu‹Key
(
’ŒyTy³
, 
©Œ
->
Çme
().
loÿlName
().
im¶
(),‡‰r->
v®ue
().impl()));

76 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
	gStyËdEËm’t
::
g‘M­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
 
ty³
, cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
)

78 ià(!
	gm­³dA‰ribu‹Deşs
)

80  
	gm­³dA‰ribu‹Deşs
->
g‘
(
M­³dA‰ribu‹Key
(
ty³
, 
Çme
.
loÿlName
().
im¶
(), 
v®ue
.impl()));

83 
	gStyËdEËm’t
::
£tM­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
 
’ŒyTy³
, 
A‰ribu‹
* 
©Œ
, 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
deş
)

85 ià(!
	gm­³dA‰ribu‹Deşs
)

86 
	gm­³dA‰ribu‹Deşs
 = 
Ãw
 
M­³dA‰ribu‹Deşs
;

87 
	gm­³dA‰ribu‹Deşs
->
£t
(
M­³dA‰ribu‹Key
(
’ŒyTy³
, 
©Œ
->
Çme
().
loÿlName
().
im¶
(),‡‰r->
v®ue
().im¶()), 
deş
);

90 
	gStyËdEËm’t
::
£tM­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
 
’ŒyTy³
, cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
, 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
deş
)

92 ià(!
	gm­³dA‰ribu‹Deşs
)

93 
	gm­³dA‰ribu‹Deşs
 = 
Ãw
 
M­³dA‰ribu‹Deşs
;

94 
	gm­³dA‰ribu‹Deşs
->
£t
(
M­³dA‰ribu‹Key
(
’ŒyTy³
, 
Çme
.
loÿlName
().
im¶
(), 
v®ue
.im¶()), 
deş
);

97 
	gStyËdEËm’t
::
»moveM­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
 
’ŒyTy³
, cÚ¡ 
Qu®if›dName
& 
©ŒName
, cÚ¡ 
AtomicSŒšg
& 
©ŒV®ue
)

99 ià(!
	gm­³dA‰ribu‹Deşs
)

101 
	gm­³dA‰ribu‹Deşs
->
»move
(
M­³dA‰ribu‹Key
(
’ŒyTy³
, 
©ŒName
.
loÿlName
().
im¶
(), 
©ŒV®ue
.impl()));

104 
	gStyËdEËm’t
::
upd©eStyËA‰ribu‹
() const

106 
ASSERT
(!
m_isStyËA‰ribu‹V®id
);

107 
	gm_isStyËA‰ribu‹V®id
 = 
Œue
;

108 
	gm_synchrÚizšgStyËA‰ribu‹
 = 
Œue
;

109 ià(
	gm_šlšeStyËDeş
)

110 
	gcÚ¡_ÿ¡
<
	gStyËdEËm’t
*>(
	gthis
)->
£tA‰ribu‹
(
¡yËA‰r
, 
m_šlšeStyËDeş
->
cssText
());

111 
	gm_synchrÚizšgStyËA‰ribu‹
 = 
çl£
;

114 
	gStyËdEËm’t
::
StyËdEËm’t
(cÚ¡ 
Qu®if›dName
& 
Çme
, 
Docum’t
* 
docum’t
, 
CÚ¡ruùiÚTy³
 
ty³
)

115 : 
EËm’t
(
Çme
, 
docum’t
, 
ty³
)

119 
	gStyËdEËm’t
::~
StyËdEËm’t
()

121 
de¡royIÆšeStyËDeş
();

124 
	gPassRefPŒ
<
	gA‰ribu‹
> 
	gStyËdEËm’t
::
ü—‹A‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
)

126  
	gM­³dA‰ribu‹
::
ü—‹
(
Çme
, 
v®ue
);

129 
	gStyËdEËm’t
::
ü—‹IÆšeStyËDeş
()

131 
m_šlšeStyËDeş
 = 
CSSMubËStyËDeş¬©iÚ
::
ü—‹
();

132 
	gm_šlšeStyËDeş
->
£tP¬’t
(
docum’t
()->
–em’tSh“t
());

133 
	gm_šlšeStyËDeş
->
£tNode
(
this
);

134 
	gm_šlšeStyËDeş
->
£tSŒiùP¬sšg
(
isHTMLEËm’t
(è&& !
docum’t
()->
šCom·tMode
());

137 
	gStyËdEËm’t
::
de¡royIÆšeStyËDeş
()

139 ià(
m_šlšeStyËDeş
) {

140 
m_šlšeStyËDeş
->
£tNode
(0);

141 
	gm_šlšeStyËDeş
->
£tP¬’t
(0);

142 
	gm_šlšeStyËDeş
 = 0;

146 
	gStyËdEËm’t
::
©Œibu‹Chªged
(
A‰ribu‹
* 
©Œ
, 
boŞ
 
´e£rveDeşs
)

148 ià(!
	g©Œ
->
isM­³dA‰ribu‹
()) {

149 
	gEËm’t
::
©Œibu‹Chªged
(
©Œ
, 
´e£rveDeşs
);

153 
M­³dA‰ribu‹
* 
	gm­³dA‰r
 = 
¡©ic_ÿ¡
<M­³dA‰ribu‹*>(
©Œ
);

154 ià(
	gm­³dA‰r
->
deş
(è&& !
	g´e£rveDeşs
) {

155 
	gm­³dA‰r
->
£tDeş
(0);

156 
£tN“dsStyËReÿlc
();

157 ià(
	gÇmedA‰rM­
)

158 
m­³dA‰ribu‹s
()->
deşRemoved
();

161 
boŞ
 
	gcheckDeş
 = 
Œue
;

162 
M­³dA‰ribu‹EÁry
 
	g’Œy
;

163 
boŞ
 
	gÃedToP¬£
 = 
m­ToEÁry
(
©Œ
->
Çme
(), 
’Œy
);

164 ià(
	g´e£rveDeşs
) {

165 ià(
	gm­³dA‰r
->
deş
()) {

166 
£tN“dsStyËReÿlc
();

167 ià(
	gÇmedA‰rM­
)

168 
m­³dA‰ribu‹s
()->
deşAdded
();

169 
	gcheckDeş
 = 
çl£
;

172 ià(!
	g©Œ
->
isNuÎ
(è&& 
	g’Œy
 !ğ
eNÚe
) {

173 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
deş
 = 
g‘M­³dA‰ribu‹Deş
(
’Œy
, 
©Œ
);

174 ià(
	gdeş
) {

175 
	gm­³dA‰r
->
£tDeş
(
deş
);

176 
£tN“dsStyËReÿlc
();

177 ià(
	gÇmedA‰rM­
)

178 
m­³dA‰ribu‹s
()->
deşAdded
();

179 
	gcheckDeş
 = 
çl£
;

181 
	gÃedToP¬£
 = 
Œue
;

189 ià(
	gÃedToP¬£
)

190 
·r£M­³dA‰ribu‹
(
m­³dA‰r
);

192 ià(
	g’Œy
 =ğ
eNÚe
)

193 
»ÿlcStyËIfN“dedAá”A‰ribu‹Chªged
(
©Œ
);

195 ià(
	gcheckDeş
 && 
	gm­³dA‰r
->
deş
()) {

197 
£tM­³dA‰ribu‹Deş
(
’Œy
, 
©Œ
, 
m­³dA‰r
->
deş
());

198 
	gm­³dA‰r
->
deş
()->
£tM­³dS‹
(
’Œy
, 
©Œ
->
Çme
(),‡‰r->
v®ue
());

199 
	gm­³dA‰r
->
deş
()->
£tP¬’t
(0);

200 
	gm­³dA‰r
->
deş
()->
£tNode
(0);

201 ià(
	gÇmedA‰rM­
)

202 
m­³dA‰ribu‹s
()->
deşAdded
();

204 
upd©eAá”A‰ribu‹Chªged
(
©Œ
);

207 
boŞ
 
	gStyËdEËm’t
::
m­ToEÁry
(cÚ¡ 
Qu®if›dName
& 
©ŒName
, 
M­³dA‰ribu‹EÁry
& 
»suÉ
) const

209 
	g»suÉ
 = 
eNÚe
;

210 ià(
	g©ŒName
 =ğ
¡yËA‰r
)

211  !
m_synchrÚizšgStyËA‰ribu‹
;

212  
	gŒue
;

215 
	gStyËdEËm’t
::
şassA‰ribu‹Chªged
(cÚ¡ 
AtomicSŒšg
& 
ÃwCÏssSŒšg
)

217 cÚ¡ 
UCh¬
* 
ch¬aù”s
 = 
ÃwCÏssSŒšg
.characters();

218 
	gËngth
 = 
ÃwCÏssSŒšg
.
Ëngth
();

219 
	gi
;

220 
	gi
 = 0; i < 
	gËngth
; ++i) {

221 ià(!
isCÏssWh™e¥aû
(
ch¬aù”s
[
i
]))

224 
£tHasCÏss
(
i
 < 
Ëngth
);

225 ià(
	gÇmedA‰rM­
) {

226 ià(
	gi
 < 
	gËngth
)

227 
m­³dA‰ribu‹s
()->
£tCÏss
(
ÃwCÏssSŒšg
);

229 
m­³dA‰ribu‹s
()->
ş—rCÏss
();

231 
£tN“dsStyËReÿlc
();

232 
di¥©chSubŒ“Modif›dEv’t
();

235 
	gStyËdEËm’t
::
·r£M­³dA‰ribu‹
(
M­³dA‰ribu‹
 *
©Œ
)

237 ià(
©Œ
->
Çme
(è=ğ
idA‰ribu‹Name
()) {

239 
£tHasID
(!
©Œ
->
isNuÎ
());

240 ià(
	gÇmedA‰rM­
) {

241 ià(
	g©Œ
->
isNuÎ
())

242 
	gÇmedA‰rM­
->
£tID
(
nuÎAtom
);

243 ià(
docum’t
()->
šCom·tMode
())

244 
	gÇmedA‰rM­
->
£tID
(
©Œ
->
v®ue
().
low”
());

246 
	gÇmedA‰rM­
->
£tID
(
©Œ
->
v®ue
());

248 
£tN“dsStyËReÿlc
();

249 } ià(
	g©Œ
->
Çme
(è=ğ
şassA‰r
)

250 
şassA‰ribu‹Chªged
(
©Œ
->
v®ue
());

251 ià(
	g©Œ
->
Çme
(è=ğ
¡yËA‰r
) {

252 ià(
©Œ
->
isNuÎ
())

253 
de¡royIÆšeStyËDeş
();

255 
g‘IÆšeStyËDeş
()->
·r£Deş¬©iÚ
(
©Œ
->
v®ue
());

256 
	gm_isStyËA‰ribu‹V®id
 = 
Œue
;

257 
£tN“dsStyËReÿlc
();

261 
	gStyËdEËm’t
::
ü—‹A‰ribu‹M­
() const

263 
ÇmedA‰rM­
 = 
NamedM­³dA‰rM­
::
ü—‹
(
cÚ¡_ÿ¡
<
StyËdEËm’t
*>(
this
));

266 
CSSMubËStyËDeş¬©iÚ
* 
	gStyËdEËm’t
::
g‘IÆšeStyËDeş
()

268 ià(!
m_šlšeStyËDeş
)

269 
ü—‹IÆšeStyËDeş
();

270  
	gm_šlšeStyËDeş
.
g‘
();

273 
CSSStyËDeş¬©iÚ
* 
	gStyËdEËm’t
::
¡yË
()

275  
g‘IÆšeStyËDeş
();

278 
	gStyËdEËm’t
::
addCSSPrİ”ty
(
M­³dA‰ribu‹
* 
©Œ
, 
id
, cÚ¡ 
SŒšg
 &
v®ue
)

280 ià(!
	g©Œ
->
deş
()è
ü—‹M­³dDeş
(
©Œ
);

281 
	g©Œ
->
deş
()->
£tPrİ”ty
(
id
, 
v®ue
, 
çl£
);

284 
	gStyËdEËm’t
::
addCSSPrİ”ty
(
M­³dA‰ribu‹
* 
©Œ
, 
id
, 
v®ue
)

286 ià(!
	g©Œ
->
deş
()è
ü—‹M­³dDeş
(
©Œ
);

287 
	g©Œ
->
deş
()->
£tPrİ”ty
(
id
, 
v®ue
, 
çl£
);

290 
	gStyËdEËm’t
::
addCSSImagePrİ”ty
(
M­³dA‰ribu‹
* 
©Œ
, 
id
, cÚ¡ 
SŒšg
& 
u¾
)

292 ià(!
	g©Œ
->
deş
()è
ü—‹M­³dDeş
(
©Œ
);

293 
	g©Œ
->
deş
()->
£tImagePrİ”ty
(
id
, 
u¾
, 
çl£
);

296 
	gStyËdEËm’t
::
addCSSL’gth
(
M­³dA‰ribu‹
* 
©Œ
, 
id
, cÚ¡ 
SŒšg
 &
v®ue
)

300 ià(!
	g©Œ
->
deş
())

301 
ü—‹M­³dDeş
(
©Œ
);

304 
SŒšgIm¶
* 
	gv
 = 
v®ue
.
im¶
();

305 ià(
	gv
) {

306 
	gl
 = 0;

308 
	gl
 < 
	gv
->
Ëngth
(è&& (*v)[
l
] <= ' ')

309 
l
++;

311 ; 
	gl
 < 
	gv
->
Ëngth
();†++) {

312 
UCh¬
 
	gcc
 = (*
v
)[
l
];

313 ià(
	gcc
 > '9')

315 ià(
	gcc
 < '0') {

316 ià(
	gcc
 =ğ'%' || 
cc
 == '*')

317 
l
++;

318 ià(
	gcc
 != '.')

323 ià(
	gl
 !ğ
v
->
Ëngth
()) {

324 
©Œ
->
deş
()->
£tL’gthPrİ”ty
(
id
, 
v
->
sub¡ršg
(0, 
l
), 
çl£
);

329 
	g©Œ
->
deş
()->
£tL’gthPrİ”ty
(
id
, 
v®ue
, 
çl£
);

333 
	gStyËdEËm’t
::
addCSSCŞÜ
(
M­³dA‰ribu‹
* 
©Œ
, 
id
, cÚ¡ 
SŒšg
& 
c
)

336 ià(!
	gc
.
Ëngth
())

339 ià(!
	g©Œ
->
deş
())

340 
ü—‹M­³dDeş
(
©Œ
);

342 ià(
	g©Œ
->
deş
()->
£tPrİ”ty
(
id
, 
c
, 
çl£
))

345 
SŒšg
 
	gcŞÜ
 = 
c
;

363 ià(!
equ®IgnÜšgCa£
(
cŞÜ
, "transparent")) {

364 ià(
	gcŞÜ
[0] == '#')

365 
cŞÜ
.
»move
(0, 1);

366 
	gbasicL’gth
 = (
cŞÜ
.
Ëngth
() + 2) / 3;

367 ià(
	gbasicL’gth
 > 1) {

369 
	gcŞÜs
[3] = { 0, 0, 0 };

370 
	gcompÚ’t
 = 0;

371 
	gpos
 = 0;

372 
	gmaxDig™
 = 
basicL’gth
-1;

373 
	gcompÚ’t
 < 3) {

375 
	gnumDig™s
 = 0;

376 
	gpos
 < ()
	gcŞÜ
.
Ëngth
(è&& 
	gnumDig™s
 < 
	gbasicL’gth
) {

377 
	gcŞÜs
[
compÚ’t
] <<= 4;

378 ià(
isASCIIHexDig™
(
cŞÜ
[
pos
])) {

379 
	gcŞÜs
[
compÚ’t
] +ğ
toASCIIHexV®ue
(
cŞÜ
[
pos
]);

380 
	gmaxDig™
 = 
mš
(
maxDig™
, 
numDig™s
);

382 
	gnumDig™s
++;

383 
	gpos
++;

385 
	gnumDig™s
++ < 
	gbasicL’gth
)

386 
	gcŞÜs
[
compÚ’t
] <<= 4;

387 
	gcompÚ’t
++;

389 
	gmaxDig™
 = 
basicL’gth
 - 
maxDig™
;

392 
	gmaxDig™
 -= 2;

393 
	gcŞÜs
[0] >>ğ4 * 
maxDig™
;

394 
	gcŞÜs
[1] >>ğ4 * 
maxDig™
;

395 
	gcŞÜs
[2] >>ğ4 * 
maxDig™
;

397 
	gcŞÜ
 = 
SŒšg
::
fÜm©
("#%02x%02x%02x", 
cŞÜs
[0], colors[1], colors[2]);

398 ià(
	g©Œ
->
deş
()->
£tPrİ”ty
(
id
, 
cŞÜ
, 
çl£
))

402 
	g©Œ
->
deş
()->
£tPrİ”ty
(
id
, 
CSSV®ueBÏck
, 
çl£
);

405 
	gStyËdEËm’t
::
ü—‹M­³dDeş
(
M­³dA‰ribu‹
* 
©Œ
)

407 
RefPŒ
<
CSSM­³dA‰ribu‹Deş¬©iÚ
> 
deş
 = CSSM­³dA‰ribu‹Deş¬©iÚ::
ü—‹
();

408 
	g©Œ
->
£tDeş
(
deş
);

409 
	gdeş
->
£tP¬’t
(
docum’t
()->
–em’tSh“t
());

410 
	gdeş
->
£tNode
(
this
);

411 
	gdeş
->
£tSŒiùP¬sšg
(
çl£
);

416 
	gM­³dA‰ribu‹Hash
::
hash
(cÚ¡ 
M­³dA‰ribu‹Key
& 
key
)

418 
ušt32_t
 
hash
 = 
WTF
::
¡ršgHashšgS¹V®ue
;

419 
ušt32_t
 
	gtmp
;

421 cÚ¡ 
ušt16_t
* 
	gp
;

423 
	gp
 = 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt16_t
*>(&
key
.
Çme
);

424 
	ghash
 +ğ
p
[0];

425 
	gtmp
 = (
p
[1] << 11è^ 
hash
;

426 
	ghash
 = (
hash
 << 16è^ 
tmp
;

427 
	ghash
 +ğ
hash
 >> 11;

428 
ASSERT
((
key
.
Çme
) == 4 || (key.name) == 8);

429 ià((
	gkey
.
	gÇme
) == 8) {

430 
p
 += 2;

431 
	ghash
 +ğ
p
[0];

432 
	gtmp
 = (
p
[1] << 11è^ 
hash
;

433 
	ghash
 = (
hash
 << 16è^ 
tmp
;

434 
	ghash
 +ğ
hash
 >> 11;

437 
	gp
 = 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt16_t
*>(&
key
.
v®ue
);

438 
	ghash
 +ğ
p
[0];

439 
	gtmp
 = (
p
[1] << 11è^ 
hash
;

440 
	ghash
 = (
hash
 << 16è^ 
tmp
;

441 
	ghash
 +ğ
hash
 >> 11;

442 
ASSERT
((
key
.
v®ue
) == 4 || (key.value) == 8);

443 ià((
	gkey
.
	gv®ue
) == 8) {

444 
p
 += 2;

445 
	ghash
 +ğ
p
[0];

446 
	gtmp
 = (
p
[1] << 11è^ 
hash
;

447 
	ghash
 = (
hash
 << 16è^ 
tmp
;

448 
	ghash
 +ğ
hash
 >> 11;

452 
	ghash
 +ğ
key
.
ty³
;

453 
	ghash
 ^ğ
hash
 << 11;

454 
	ghash
 +ğ
hash
 >> 17;

457 
	ghash
 ^ğ
hash
 << 3;

458 
	ghash
 +ğ
hash
 >> 5;

459 
	ghash
 ^ğ
hash
 << 2;

460 
	ghash
 +ğ
hash
 >> 15;

461 
	ghash
 ^ğ
hash
 << 10;

466 ià(
	ghash
 == 0)

467 
hash
 = 0x80000000;

469  
	ghash
;

472 
	gStyËdEËm’t
::
cİyNÚA‰ribu‹Prİ”t›s
(cÚ¡ 
EËm’t
 *
sourûEËm’t
)

474 cÚ¡ 
StyËdEËm’t
* 
sourû
 = 
¡©ic_ÿ¡
<cÚ¡ StyËdEËm’t*>(
sourûEËm’t
);

475 ià(!
	gsourû
->
	gm_šlšeStyËDeş
)

478 *
g‘IÆšeStyËDeş
(èğ*
sourû
->
m_šlšeStyËDeş
;

479 
	gm_isStyËA‰ribu‹V®id
 = 
sourû
->
m_isStyËA‰ribu‹V®id
;

480 
	gm_synchrÚizšgStyËA‰ribu‹
 = 
sourû
->
m_synchrÚizšgStyËA‰ribu‹
;

482 
	gEËm’t
::
cİyNÚA‰ribu‹Prİ”t›s
(
sourûEËm’t
);

485 
	gStyËdEËm’t
::
addSub»sourûA‰ribu‹URLs
(
Li¡HashS‘
<
KURL
>& 
u¾s
) const

487 ià(
CSSMubËStyËDeş¬©iÚ
* 
¡yË
 = 
šlšeStyËDeş
())

488 
¡yË
->
addSub»sourûStyËURLs
(
u¾s
);

492 
	gStyËdEËm’t
::
didMoveToNewOwÃrDocum’t
()

494 ià(
m_šlšeStyËDeş
)

495 
m_šlšeStyËDeş
->
£tP¬’t
(
docum’t
()->
–em’tSh“t
());

497 
	gEËm’t
::
didMoveToNewOwÃrDocum’t
();

	@StyledElement.h

25 #iâdeà
StyËdEËm’t_h


26 
	#StyËdEËm’t_h


	)

28 
	~"CSSPrim™iveV®ue.h
"

29 
	~"EËm’t.h
"

30 
	~"M­³dA‰ribu‹EÁry.h
"

31 
	~"NamedM­³dA‰rM­.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 
şass
 
	gCSSM­³dA‰ribu‹Deş¬©iÚ
;

36 
şass
 
	gCSSMubËStyËDeş¬©iÚ
;

37 
şass
 
	gM­³dA‰ribu‹
;

39 şas 
	cStyËdEËm’t
 : 
public
 
EËm’t
 {

40 
public
:

41 
vœtu®
 ~
StyËdEËm’t
();

43 
NamedM­³dA‰rM­
* 
m­³dA‰ribu‹s
(è{  
	g¡©ic_ÿ¡
<
	gNamedM­³dA‰rM­
*>(
	gÇmedA‰rM­
.
g‘
()); }

44 cÚ¡ 
NamedM­³dA‰rM­
* 
m­³dA‰ribu‹s
(ècÚ¡ {  
	g¡©ic_ÿ¡
<
	gNamedM­³dA‰rM­
*>(
	gÇmedA‰rM­
.
g‘
()); }

46 
boŞ
 
hasM­³dA‰ribu‹s
(ècÚ¡ {  
	gÇmedA‰rM­
 && 
m­³dA‰ribu‹s
()->hasMappedAttributes(); }

47 
boŞ
 
isM­³dA‰ribu‹
(cÚ¡ 
Qu®if›dName
& 
Çme
ècÚ¡ { 
M­³dA‰ribu‹EÁry
 
	g»s
 = 
eNÚe
; 
m­ToEÁry
Òame, 
»s
); „es !=ƒNone; }

49 
addCSSL’gth
(
M­³dA‰ribu‹
*, 
id
, cÚ¡ 
SŒšg
& 
v®ue
);

50 
addCSSPrİ”ty
(
M­³dA‰ribu‹
*, 
id
, cÚ¡ 
SŒšg
& 
v®ue
);

51 
addCSSPrİ”ty
(
M­³dA‰ribu‹
*, 
id
, 
v®ue
);

52 
addCSSImagePrİ”ty
(
M­³dA‰ribu‹
*, 
´İ”tyID
, cÚ¡ 
SŒšg
& 
u¾
);

53 
addCSSCŞÜ
(
M­³dA‰ribu‹
*, 
id
, cÚ¡ 
SŒšg
& 
cŞÜ
);

55 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
g‘M­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
, cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
);

56 
£tM­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
, cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
, 
CSSM­³dA‰ribu‹Deş¬©iÚ
*);

57 
»moveM­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
, cÚ¡ 
Qu®if›dName
& 
Çme
, cÚ¡ 
AtomicSŒšg
& 
v®ue
);

59 
CSSM­³dA‰ribu‹Deş¬©iÚ
* 
g‘M­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
, 
A‰ribu‹
*);

60 
£tM­³dA‰ribu‹Deş
(
M­³dA‰ribu‹EÁry
, 
A‰ribu‹
*, 
CSSM­³dA‰ribu‹Deş¬©iÚ
*);

62 
CSSMubËStyËDeş¬©iÚ
* 
šlšeStyËDeş
(ècÚ¡ {  
	gm_šlšeStyËDeş
.
g‘
(); }

63 
vœtu®
 
boŞ
 
ÿnHaveAdd™iÚ®A‰ribu‹StyËDeşs
(ècÚ¡ {  
	gçl£
; }

64 
vœtu®
 
add™iÚ®A‰ribu‹StyËDeşs
(
VeùÜ
<
CSSMubËStyËDeş¬©iÚ
*>&) {};

65 
CSSMubËStyËDeş¬©iÚ
* 
g‘IÆšeStyËDeş
();

66 
CSSStyËDeş¬©iÚ
* 
¡yË
();

67 
šv®id©eStyËA‰ribu‹
();

69 cÚ¡ 
	gS·ûS¶™SŒšg
& 
şassNames
(ècÚ¡ { 
ASSERT
(
hasCÏss
()); ASSERT(
m­³dA‰ribu‹s
());  mappedAttributes()->classNames(); }

71 
vœtu®
 
boŞ
 
m­ToEÁry
(cÚ¡ 
Qu®if›dName
& 
©ŒName
, 
M­³dA‰ribu‹EÁry
& 
»suÉ
) const;

73 
vœtu®
 
	gPassRefPŒ
<
	gA‰ribu‹
> 
ü—‹A‰ribu‹
(cÚ¡ 
Qu®if›dName
&, cÚ¡ 
AtomicSŒšg
& 
v®ue
);

75 
	g´Ùeùed
:

76 
StyËdEËm’t
(cÚ¡ 
Qu®if›dName
&, 
Docum’t
*, 
CÚ¡ruùiÚTy³
);

78 
vœtu®
 
©Œibu‹Chªged
(
A‰ribu‹
*, 
boŞ
 
´e£rveDeşs
 = 
çl£
);

79 
vœtu®
 
·r£M­³dA‰ribu‹
(
M­³dA‰ribu‹
*);

80 
vœtu®
 
cİyNÚA‰ribu‹Prİ”t›s
(cÚ¡ 
EËm’t
*);

82 
vœtu®
 
addSub»sourûA‰ribu‹URLs
(
Li¡HashS‘
<
KURL
>&) const;

87 
şassA‰ribu‹Chªged
(cÚ¡ 
AtomicSŒšg
& 
ÃwCÏssSŒšg
);

89 
vœtu®
 
didMoveToNewOwÃrDocum’t
();

91 
	g´iv©e
:

92 
vœtu®
 
boŞ
 
isStyËdEËm’t
(ècÚ¡ {  
Œue
; }

94 
ü—‹M­³dDeş
(
M­³dA‰ribu‹
*);

96 
ü—‹IÆšeStyËDeş
();

97 
de¡royIÆšeStyËDeş
();

98 
vœtu®
 
upd©eStyËA‰ribu‹
() const;

100 
vœtu®
 
ü—‹A‰ribu‹M­
() const;

102 
	gRefPŒ
<
	gCSSMubËStyËDeş¬©iÚ
> 
	gm_šlšeStyËDeş
;

105 
šlše
 
	gStyËdEËm’t
::
	$šv®id©eStyËA‰ribu‹
()

107 
m_isStyËA‰ribu‹V®id
 = 
çl£
;

108 
	}
}

	@TagNodeList.cpp

24 
	~"cÚfig.h
"

25 
	~"TagNodeLi¡.h
"

27 
	~"EËm’t.h
"

28 
	~<wtf/As£¹iÚs.h
>

30 
Çme¥aû
 
	gWebCÜe
 {

32 
	gTagNodeLi¡
::
TagNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
, cÚ¡ AtomicSŒšg& 
loÿlName
, 
DyÇmicNodeLi¡
::
Caches
* 
ÿches
)

33 : 
DyÇmicNodeLi¡
(
roÙNode
, 
ÿches
)

34 , 
m_Çme¥aûURI
(
Çme¥aûURI
)

35 , 
m_loÿlName
(
loÿlName
)

37 
ASSERT
(
m_Çme¥aûURI
.
isNuÎ
(è|| !m_Çme¥aûURI.
isEm±y
());

40 
boŞ
 
	gTagNodeLi¡
::
nodeM©ches
(
EËm’t
* 
‹¡Node
) const

42 ià(
m_Çme¥aûURI
 !ğ
¡¬Atom
 && m_Çme¥aûURI !ğ
‹¡Node
->
Çme¥aûURI
())

43  
çl£
;

45  
	gm_loÿlName
 =ğ
¡¬Atom
 || 
m_loÿlName
 =ğ
‹¡Node
->
loÿlName
();

	@TagNodeList.h

24 #iâdeà
TagNodeLi¡_h


25 
	#TagNodeLi¡_h


	)

27 
	~"AtomicSŒšg.h
"

28 
	~"DyÇmicNodeLi¡.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cTagNodeLi¡
 : 
public
 
DyÇmicNodeLi¡
 {

34 
public
:

35 
PassRefPŒ
<
TagNodeLi¡
> 
ü—‹
(PassRefPŒ<
Node
> 
roÙNode
, cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
, cÚ¡ AtomicSŒšg& 
loÿlName
, 
DyÇmicNodeLi¡
::
Caches
* 
ÿches
)

37  
adİtRef
(
Ãw
 
TagNodeLi¡
(
roÙNode
, 
Çme¥aûURI
, 
loÿlName
, 
ÿches
));

40 
	g´iv©e
:

41 
TagNodeLi¡
(
PassRefPŒ
<
Node
> 
roÙNode
, cÚ¡ 
AtomicSŒšg
& 
Çme¥aûURI
, cÚ¡ AtomicSŒšg& 
loÿlName
, 
DyÇmicNodeLi¡
::
Caches
* 
ÿches
);

43 
vœtu®
 
boŞ
 
nodeM©ches
(
EËm’t
*) const;

45 
AtomicSŒšg
 
	gm_Çme¥aûURI
;

46 
AtomicSŒšg
 
	gm_loÿlName
;

	@Text.cpp

22 
	~"cÚfig.h
"

23 
	~"Text.h
"

25 
	~"Exû±iÚCode.h
"

26 
	~"R’d”Text.h
"

27 
	~"TextB»akI‹¿tÜ.h
"

28 
	~<wtf/‹xt/CSŒšg.h
>

30 #ià
ENABLE
(
SVG
)

31 
	~"R’d”SVGIÆšeText.h
"

32 
	~"SVGNames.h
"

35 #ià
ENABLE
(
WML
)

36 
	~"WMLDocum’t.h
"

37 
	~"WMLV¬ŸbËs.h
"

40 
usšg
 
Çme¥aû
 
	g¡d
;

42 
Çme¥aû
 
	gWebCÜe
 {

44 
	gText
::
Text
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
d©a
)

45 : 
Ch¬aù”D©a
(
docum’t
, 
d©a
, 
C»©eText
)

49 
	gPassRefPŒ
<
	gText
> Text::
ü—‹
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
d©a
)

51  
adİtRef
(
Ãw
 
Text
(
docum’t
, 
d©a
));

54 
	gPassRefPŒ
<
	gText
> Text::
¥l™Text
(
off£t
, 
Exû±iÚCode
& 
ec
)

56 
	gec
 = 0;

60 ià(
	goff£t
 > 
Ëngth
()) {

61 
	gec
 = 
INDEX_SIZE_ERR
;

65 
	gRefPŒ
<
	gSŒšgIm¶
> 
	gŞdSŒ
 = 
d©aIm¶
();

66 
	gRefPŒ
<
	gText
> 
	gÃwText
 = 
vœtu®C»©e
(
ŞdSŒ
->
sub¡ršg
(
off£t
));

67 
£tD©aIm¶
(
ŞdSŒ
->
sub¡ršg
(0, 
off£t
));

69 
di¥©chModif›dEv’t
(
ŞdSŒ
.
g‘
());

71 ià(
·»ÁNode
())

72 
·»ÁNode
()->
š£¹BefÜe
(
ÃwText
.
g‘
(), 
ÃxtSiblšg
(), 
ec
);

73 ià(
	gec
)

76 ià(
·»ÁNode
())

77 
docum’t
()->
‹xtNodeS¶™
(
this
);

79 ià(
»nd””
())

80 
toR’d”Text
(
»nd””
())->
£tText
(
d©aIm¶
());

82  
	gÃwText
.
»Ëa£
();

85 cÚ¡ 
Text
* 
—¾›¡LogiÿÎyAdjaûÁTextNode
(cÚ¡ Text* 
t
)

87 cÚ¡ 
Node
* 
	gn
 = 
t
;

88 (
	gn
 = 
n
->
´eviousSiblšg
())) {

89 
Node
::
NodeTy³
 
ty³
 = 
n
->
nodeTy³
();

90 ià(
	gty³
 =ğ
Node
::
TEXT_NODE
 || 
ty³
 =ğNode::
CDATA_SECTION_NODE
) {

91 
t
 = 
¡©ic_ÿ¡
<cÚ¡ 
Text
*>(
n
);

96 
ASSERT
(
ty³
 !ğ
Node
::
ENTITY_REFERENCE_NODE
 || !
n
->
hasChdNodes
());

99  
	gt
;

102 cÚ¡ 
Text
* 
Ï‹¡LogiÿÎyAdjaûÁTextNode
(cÚ¡ Text* 
t
)

104 cÚ¡ 
Node
* 
	gn
 = 
t
;

105 (
	gn
 = 
n
->
ÃxtSiblšg
())) {

106 
Node
::
NodeTy³
 
ty³
 = 
n
->
nodeTy³
();

107 ià(
	gty³
 =ğ
Node
::
TEXT_NODE
 || 
ty³
 =ğNode::
CDATA_SECTION_NODE
) {

108 
t
 = 
¡©ic_ÿ¡
<cÚ¡ 
Text
*>(
n
);

113 
ASSERT
(
ty³
 !ğ
Node
::
ENTITY_REFERENCE_NODE
 || !
n
->
hasChdNodes
());

116  
	gt
;

119 
SŒšg
 
	gText
::
whŞeText
() const

121 cÚ¡ 
Text
* 
¡¬tText
 = 
—¾›¡LogiÿÎyAdjaûÁTextNode
(
this
);

122 cÚ¡ 
Text
* 
	g’dText
 = 
Ï‹¡LogiÿÎyAdjaûÁTextNode
(
this
);

124 
Node
* 
	gÚePa¡EndText
 = 
’dText
->
ÃxtSiblšg
();

125 
	g»suÉL’gth
 = 0;

126 cÚ¡ 
Node
* 
	gn
 = 
¡¬tText
;‚ !ğ
ÚePa¡EndText
;‚ = 
n
->
ÃxtSiblšg
()) {

127 ià(!
n
->
isTextNode
())

129 cÚ¡ 
Text
* 
	gt
 = 
¡©ic_ÿ¡
<cÚ¡ Text*>(
n
);

130 cÚ¡ 
	gSŒšg
& 
	gd©a
 = 
t
->
d©a
();

131 
	g»suÉL’gth
 +ğ
d©a
.
Ëngth
();

133 
UCh¬
* 
	g»suÉD©a
;

134 
SŒšg
 
	g»suÉ
 = SŒšg::
ü—‹Unš™Ÿlized
(
»suÉL’gth
, 
»suÉD©a
);

135 
UCh¬
* 
	gp
 = 
»suÉD©a
;

136 cÚ¡ 
Node
* 
	gn
 = 
¡¬tText
;‚ !ğ
ÚePa¡EndText
;‚ = 
n
->
ÃxtSiblšg
()) {

137 ià(!
n
->
isTextNode
())

139 cÚ¡ 
Text
* 
	gt
 = 
¡©ic_ÿ¡
<cÚ¡ Text*>(
n
);

140 cÚ¡ 
	gSŒšg
& 
	gd©a
 = 
t
->
d©a
();

141 
	gd©aL’gth
 = 
d©a
.
Ëngth
();

142 
memıy
(
p
, 
d©a
.
ch¬aù”s
(), 
d©aL’gth
 * (
UCh¬
));

143 
	gp
 +ğ
d©aL’gth
;

145 
ASSERT
(
p
 =ğ
»suÉD©a
 + 
»suÉL’gth
);

147  
	g»suÉ
;

150 
	gPassRefPŒ
<
	gText
> Text::
»¶aûWhŞeText
(cÚ¡ 
SŒšg
& 
ÃwText
, 
Exû±iÚCode
&)

155 
	gRefPŒ
<
	gText
> 
	g¡¬tText
 = 
cÚ¡_ÿ¡
<
Text
*>(
—¾›¡LogiÿÎyAdjaûÁTextNode
(
this
));

156 
	gRefPŒ
<
	gText
> 
	g’dText
 = 
cÚ¡_ÿ¡
<
Text
*>(
Ï‹¡LogiÿÎyAdjaûÁTextNode
(
this
));

158 
	gRefPŒ
<
	gText
> 
´ÙeùedThis
(
this
);

159 
Node
* 
	g·»Á
 = 
·»ÁNode
();

160 
Exû±iÚCode
 
	gignÜed
 = 0;

161 
	gRefPŒ
<
	gNode
> 
	gn
 = 
¡¬tText
;‚ &&‚ !ğ
this
 && 
n
->
isTextNode
(è&&‚->
·»ÁNode
(è=ğ
·»Á
;) {

162 
	gRefPŒ
<
	gNode
> 
nodeToRemove
(
n
.
»Ëa£
());

163 
	gn
 = 
nodeToRemove
->
ÃxtSiblšg
();

164 
	g·»Á
->
»moveChd
(
nodeToRemove
.
g‘
(), 
ignÜed
);

167 ià(
	gthis
 !ğ
’dText
) {

168 
Node
* 
ÚePa¡EndText
 = 
’dText
->
ÃxtSiblšg
();

169 
	gRefPŒ
<
	gNode
> 
	gn
 = 
ÃxtSiblšg
();‚ &&‚ !ğ
ÚePa¡EndText
 && 
n
->
isTextNode
(è&&‚->
·»ÁNode
(è=ğ
·»Á
;) {

170 
	gRefPŒ
<
	gNode
> 
nodeToRemove
(
n
.
»Ëa£
());

171 
	gn
 = 
nodeToRemove
->
ÃxtSiblšg
();

172 
	g·»Á
->
»moveChd
(
nodeToRemove
.
g‘
(), 
ignÜed
);

176 ià(
	gÃwText
.
isEm±y
()) {

177 ià(
	g·»Á
 && 
·»ÁNode
(è=ğ
·»Á
)

178 
·»Á
->
»moveChd
(
this
, 
ignÜed
);

182 
£tD©a
(
ÃwText
, 
ignÜed
);

183  
	g´ÙeùedThis
.
»Ëa£
();

186 
SŒšg
 
	gText
::
nodeName
() const

188  
‹xtAtom
.
¡ršg
();

191 
	gNode
::
NodeTy³
 
Text
::
nodeTy³
() const

193  
TEXT_NODE
;

196 
	gPassRefPŒ
<
	gNode
> 
	gText
::
şÚeNode
(
boŞ
 )

198  
ü—‹
(
docum’t
(), 
d©a
());

201 
boŞ
 
	gText
::
»nd””IsN“ded
(
R’d”StyË
 *
¡yË
)

203 ià(!
Ch¬aù”D©a
::
»nd””IsN“ded
(
¡yË
))

204  
çl£
;

206 
boŞ
 
	gÚlyWS
 = 
cÚšsOÆyWh™e¥aû
();

207 ià(!
	gÚlyWS
)

208  
	gŒue
;

210 
R’d”Objeù
 *
	g·r
 = 
·»ÁNode
()->
»nd””
();

212 ià(
	g·r
->
isTabË
(è||…¬->
isTabËRow
(è||…¬->
isTabËSeùiÚ
(è||…¬->
isTabËCŞ
(è||…¬->
isF¿meS‘
())

213  
	gçl£
;

215 ià(
	g¡yË
->
´e£rveNewlše
())

216  
	gŒue
;

218 
R’d”Objeù
 *
	g´ev
 = 
´eviousR’d””
();

219 ià(
	g´ev
 &&…»v->
isBR
())

220  
	gçl£
;

222 ià(
	g·r
->
isR’d”IÆše
()) {

224 ià(
	g´ev
 && !´ev->
isIÆše
())

225  
	gçl£
;

227 ià(
	g·r
->
isR’d”Block
(è&& !·r->
chd»nIÆše
(è&& (!
	g´ev
 || !´ev->
isIÆše
()))

228  
	gçl£
;

230 
R’d”Objeù
 *
	gfœ¡
 = 
·r
->
fœ¡Chd
();

231 
	gfœ¡
 && fœ¡->
isFlßtšgOrPos™iÚed
())

232 
	gfœ¡
 = 
fœ¡
->
ÃxtSiblšg
();

233 
R’d”Objeù
 *
	gÃxt
 = 
ÃxtR’d””
();

234 ià(!
	gfœ¡
 || 
	gÃxt
 =ğ
fœ¡
)

237  
çl£
;

240  
	gŒue
;

243 
R’d”Objeù
* 
	gText
::
ü—‹R’d””
(
R’d”A»Ç
* 
¬’a
, 
R’d”StyË
*)

245 #ià
ENABLE
(
SVG
)

246 ià(
·»ÁNode
()->
isSVGEËm’t
()

247 #ià
ENABLE
(
SVG_FOREIGN_OBJECT
)

248 && !
·»ÁNode
()->
hasTagName
(
SVGNames
::
fÜeignObjeùTag
)

251  
Ãw
 (
¬’a
è
R’d”SVGIÆšeText
(
this
, 
d©aIm¶
());

254  
Ãw
 (
¬’a
è
R’d”Text
(
this
, 
d©aIm¶
());

257 
	gText
::
©ch
()

259 #ià
ENABLE
(
WML
)

260 ià(
docum’t
()->
isWMLDocum’t
(è&& !
cÚšsOÆyWh™e¥aû
()) {

261 
SŒšg
 
‹xt
 = 
d©a
();

262 
ASSERT
(!
‹xt
.
isEm±y
());

264 
	g‹xt
 = 
sub¡™u‹V¬ŸbËReã»nûs
(
‹xt
, 
docum’t
());

266 
Exû±iÚCode
 
	gcode
 = 0;

267 
£tD©a
(
‹xt
, 
code
);

268 
ASSERT
(!
code
);

272 
ü—‹R’d””IfN“ded
();

273 
	gCh¬aù”D©a
::
©ch
();

276 
	gText
::
»ÿlcStyË
(
StyËChªge
 
chªge
)

278 ià(
chªge
 !ğ
NoChªge
 && 
·»ÁNode
()) {

279 ià(
»nd””
())

280 
»nd””
()->
£tStyË
(
·»ÁNode
()->»nd””()->
¡yË
());

282 ià(
ÃedsStyËReÿlc
()) {

283 ià(
»nd””
()) {

284 ià(
»nd””
()->
isText
())

285 
toR’d”Text
(
»nd””
())->
£tText
(
d©aIm¶
());

287 ià(
©ched
())

288 
d‘ach
();

289 
©ch
();

292 
£tN“dsStyËReÿlc
(
NoStyËChªge
);

295 
boŞ
 
	gText
::
chdTy³AÎowed
(
NodeTy³
)

297  
çl£
;

300 
	gPassRefPŒ
<
	gText
> Text::
vœtu®C»©e
(cÚ¡ 
SŒšg
& 
d©a
)

302  
ü—‹
(
docum’t
(), 
d©a
);

305 
	gPassRefPŒ
<
	gText
> Text::
ü—‹W™hL’gthLim™
(
Docum’t
* 
docum’t
, cÚ¡ 
SŒšg
& 
d©a
, & 
ch¬sLeá
, 
maxCh¬s
)

307 
	gd©aL’gth
 = 
d©a
.
Ëngth
();

309 ià(
	gch¬sLeá
 =ğ
d©aL’gth
 && 
ch¬sLeá
 <ğ
maxCh¬s
) {

310 
ch¬sLeá
 = 0;

311  
ü—‹
(
docum’t
, 
d©a
);

314 
	g¡¬t
 = 
d©aL’gth
 - 
ch¬sLeá
;

315 
	g’d
 = 
¡¬t
 + 
mš
(
ch¬sLeá
, 
maxCh¬s
);

321 ià(
	g’d
 < 
	gd©aL’gth
) {

322 
TextB»akI‹¿tÜ
* 
	g™
 = 
ch¬aù”B»akI‹¿tÜ
(
d©a
.
ch¬aù”s
(è+ 
¡¬t
, (
’d
 + 2 > 
d©aL’gth
) ? dataLength - start :ƒnd - start + 2);

323 ià(!
isTextB»ak
(
™
, 
’d
 - 
¡¬t
))

324 
	g’d
 = 
‹xtB»akP»ûdšg
(
™
, 
’d
 - 
¡¬t
è+ 
	g¡¬t
;

331 ià(
	g’d
 <ğ
¡¬t
)

332 
’d
 = 
d©aL’gth
;

334 
	gch¬sLeá
 = 
d©aL’gth
 - 
’d
;

335  
ü—‹
(
docum’t
, 
d©a
.
sub¡ršg
(
¡¬t
, 
’d
 - start));

338 #iâdeà
NDEBUG


339 
	gText
::
fÜm©FÜDebugg”
(*
bufãr
, 
Ëngth
) const

341 
SŒšg
 
	g»suÉ
;

342 
SŒšg
 
	gs
;

344 
	gs
 = 
nodeName
();

345 ià(
	gs
.
Ëngth
() > 0) {

346 
	g»suÉ
 +ğ
s
;

349 
	gs
 = 
d©a
();

350 ià(
	gs
.
Ëngth
() > 0) {

351 ià(
	g»suÉ
.
Ëngth
() > 0)

352 
	g»suÉ
 += "; ";

353 
	g»suÉ
 += "value=";

354 
	g»suÉ
 +ğ
s
;

357 
¡ºıy
(
bufãr
, 
»suÉ
.
utf8
().
d©a
(), 
Ëngth
 - 1);

	@Text.h

23 #iâdeà
Text_h


24 
	#Text_h


	)

26 
	~"Ch¬aù”D©a.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 şas 
	cText
 : 
public
 
Ch¬aù”D©a
 {

31 
public
:

32 cÚ¡ 
deçuÉL’gthLim™
 = 1 << 16;

34 
	gPassRefPŒ
<
	gText
> 
ü—‹
(
Docum’t
*, cÚ¡ 
SŒšg
&);

35 
	gPassRefPŒ
<
	gText
> 
ü—‹W™hL’gthLim™
(
Docum’t
*, cÚ¡ 
SŒšg
&, & 
ch¬sLeá
, 
ËngthLim™
 = 
deçuÉL’gthLim™
);

37 
	gPassRefPŒ
<
	gText
> 
¥l™Text
(
off£t
, 
Exû±iÚCode
&);

41 
SŒšg
 
whŞeText
() const;

42 
	gPassRefPŒ
<
	gText
> 
»¶aûWhŞeText
(cÚ¡ 
SŒšg
&, 
Exû±iÚCode
&);

44 
vœtu®
 
©ch
();

46 
	g´Ùeùed
:

47 
Text
(
Docum’t
*, cÚ¡ 
SŒšg
&);

49 
	g´iv©e
:

50 
vœtu®
 
SŒšg
 
nodeName
() const;

51 
vœtu®
 
NodeTy³
 
nodeTy³
() const;

52 
vœtu®
 
	gPassRefPŒ
<
	gNode
> 
şÚeNode
(
boŞ
 
d“p
);

53 
vœtu®
 
boŞ
 
»nd””IsN“ded
(
R’d”StyË
*);

54 
vœtu®
 
R’d”Objeù
* 
ü—‹R’d””
(
R’d”A»Ç
*, 
R’d”StyË
*);

55 
vœtu®
 
»ÿlcStyË
(
StyËChªge
 = 
NoChªge
);

56 
vœtu®
 
boŞ
 
chdTy³AÎowed
(
NodeTy³
);

58 
vœtu®
 
	gPassRefPŒ
<
	gText
> 
vœtu®C»©e
(cÚ¡ 
SŒšg
&);

60 #iâdeà
NDEBUG


61 
vœtu®
 
fÜm©FÜDebugg”
(* 
bufãr
, 
Ëngth
) const;

	@TextEvent.cpp

27 
	~"cÚfig.h
"

28 
	~"TextEv’t.h
"

30 
	~"Ev’tNames.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 
	gTextEv’t
::
TextEv’t
()

35 : 
m_isLšeB»ak
(
çl£
)

36 , 
m_isBackTab
(
çl£
)

40 
	gTextEv’t
::
TextEv’t
(
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, cÚ¡ 
SŒšg
& 
d©a
)

41 : 
UIEv’t
(
ev’tNames
().
‹xtIÅutEv’t
, 
Œue
,rue, 
v›w
, 0)

42 , 
m_d©a
(
d©a
)

43 , 
m_isLšeB»ak
(
çl£
)

44 , 
m_isBackTab
(
çl£
)

48 
	gTextEv’t
::~
TextEv’t
()

52 
TextEv’t
::
š™TextEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, cÚ¡ 
SŒšg
& 
d©a
)

54 ià(
di¥©ched
())

57 
š™UIEv’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 0);

59 
	gm_d©a
 = 
d©a
;

62 
boŞ
 
	gTextEv’t
::
isTextEv’t
() const

64  
Œue
;

	@TextEvent.h

27 #iâdeà
TextEv’t_h


28 
	#TextEv’t_h


	)

30 
	~"UIEv’t.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 şas 
	cTextEv’t
 : 
public
 
UIEv’t
 {

35 
public
:

36 
PassRefPŒ
<
TextEv’t
> 
ü—‹
()

38  
adİtRef
(
Ãw
 
TextEv’t
);

40 
	gPassRefPŒ
<
	gTextEv’t
> 
ü—‹
(
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, cÚ¡ 
SŒšg
& 
d©a
)

42  
adİtRef
(
Ãw
 
TextEv’t
(
v›w
, 
d©a
));

44 
	gvœtu®
 ~
TextEv’t
();

46 
š™TextEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
>, cÚ¡ 
SŒšg
& 
d©a
);

48 
SŒšg
 
d©a
(ècÚ¡ {  
	gm_d©a
; }

50 
vœtu®
 
boŞ
 
isTextEv’t
() const;

53 
boŞ
 
isLšeB»ak
(ècÚ¡ {  
	gm_isLšeB»ak
; }

54 
£tIsLšeB»ak
(
boŞ
 
isLšeB»ak
è{ 
	gm_isLšeB»ak
 = isLineBreak; }

57 
boŞ
 
isBackTab
(ècÚ¡ {  
	gm_isBackTab
; }

58 
£tIsBackTab
(
boŞ
 
isBackTab
è{ 
	gm_isBackTab
 = isBackTab; }

60 
	g´iv©e
:

61 
TextEv’t
();

62 
TextEv’t
(
PassRefPŒ
<
Ab¡¿ùV›w
>, cÚ¡ 
SŒšg
& 
d©a
);

64 
SŒšg
 
	gm_d©a
;

65 
boŞ
 
	gm_isLšeB»ak
;

66 
boŞ
 
	gm_isBackTab
;

	@Tokenizer.h

23 #iâdeà
Tok’iz”_h


24 
	#Tok’iz”_h


	)

26 
Çme¥aû
 
	gWebCÜe
 {

28 
şass
 
	gSegm’‹dSŒšg
;

29 
şass
 
	gXSSAud™Ü
;

31 şas 
	cTok’iz”
 : 
public
 
NÚcİyabË
 {

32 
public
:

33 
vœtu®
 ~
Tok’iz”
() { }

39 
vœtu®
 
wr™e
(cÚ¡ 
Segm’‹dSŒšg
&, 
boŞ
 
­³ndD©a
) = 0;

40 
vœtu®
 
fšish
() = 0;

41 
vœtu®
 
boŞ
 
isWa™šgFÜSüts
() const = 0;

42 
vœtu®
 
¡İP¬sšg
(è{ 
	gm_·r£rStİ³d
 = 
Œue
; }

43 
vœtu®
 
boŞ
 
´oûssšgD©a
(ècÚ¡ {  
	gçl£
; }

44 
vœtu®
 
executšgSüt
() const {  0; }

46 
vœtu®
 
boŞ
 
wªtsRawD©a
(ècÚ¡ {  
	gçl£
; }

47 
vœtu®
 
boŞ
 
wr™eRawD©a
(cÚ¡ * , è{  
	gçl£
; }

49 
boŞ
 
šV›wSourûMode
(ècÚ¡ {  
	gm_šV›wSourûMode
; }

50 
£tInV›wSourûMode
(
boŞ
 
mode
è{ 
	gm_šV›wSourûMode
 = mode; }

52 
vœtu®
 
boŞ
 
w–lFÜmed
(ècÚ¡ {  
	gŒue
; }

54 
vœtu®
 
lšeNumb”
() const {  -1; }

55 
vœtu®
 
cŞumnNumb”
() const {  -1; }

57 
vœtu®
 
execu‹SütsWa™šgFÜStyËsh“ts
() {}

59 
vœtu®
 
boŞ
 
isHTMLTok’iz”
(ècÚ¡ {  
	gçl£
; }

61 
XSSAud™Ü
* 
xssAud™Ü
(ècÚ¡ {  
	gm_XSSAud™Ü
; }

62 
£tXSSAud™Ü
(
XSSAud™Ü
* 
aud™Ü
è{ 
	gm_XSSAud™Ü
 =‡uditor; }

64 
	g´Ùeùed
:

65 
Tok’iz”
(
boŞ
 
v›wSourûMode
 = 
çl£
)

66 : 
m_·r£rStİ³d
(
çl£
)

67 , 
m_šV›wSourûMode
(
v›wSourûMode
)

68 , 
m_XSSAud™Ü
(0)

75 
boŞ
 
	gm_·r£rStİ³d
;

76 
boŞ
 
	gm_šV›wSourûMode
;

79 
XSSAud™Ü
* 
	gm_XSSAud™Ü
;

	@Touch.cpp

26 
	~"cÚfig.h
"

28 #ià
ENABLE
(
TOUCH_EVENTS
)

30 
	~"Touch.h
"

32 
	~"F¿meV›w.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
cÚ‹ÁsX
(
F¿me
* 
äame
)

38 ià(!
	gäame
)

40 
F¿meV›w
* 
	gäameV›w
 = 
äame
->
v›w
();

41 ià(!
	gäameV›w
)

43  
	gäameV›w
->
süŞlX
(è/ 
	gäame
->
·geZoomFaùÜ
();

46 
cÚ‹ÁsY
(
F¿me
* 
äame
)

48 ià(!
	gäame
)

50 
F¿meV›w
* 
	gäameV›w
 = 
äame
->
v›w
();

51 ià(!
	gäameV›w
)

53  
	gäameV›w
->
süŞlY
(è/ 
	gäame
->
·geZoomFaùÜ
();

56 
	gTouch
::
Touch
(
F¿me
* 
äame
, 
Ev’tT¬g‘
* 
rg‘
, 
id’tif›r
,

57 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
)

58 : 
m_rg‘
(
rg‘
)

59 , 
m_id’tif›r
(
id’tif›r
)

60 , 
m_ş›ÁX
(
·geX
 - 
cÚ‹ÁsX
(
äame
))

61 , 
m_ş›ÁY
(
·geY
 - 
cÚ‹ÁsY
(
äame
))

62 , 
m_sü“nX
(
sü“nX
)

63 , 
m_sü“nY
(
sü“nY
)

64 , 
m_·geX
(
·geX
)

65 , 
m_·geY
(
·geY
)

	@Touch.h

26 #iâdeà
TOUCH_H_


27 
	#TOUCH_H_


	)

29 #ià
ENABLE
(
TOUCH_EVENTS
)

31 
	~"Ev’tT¬g‘.h
"

32 
	~"F¿me.h
"

33 
	~<wtf/PassRefPŒ.h
>

34 
	~<wtf/RefCouÁed.h
>

35 
	~<wtf/RefPŒ.h
>

37 
Çme¥aû
 
	gWebCÜe
 {

39 
şass
 
	gTouch
 : 
public
 
RefCouÁed
<
Touch
> {

40 
public
:

41 
PassRefPŒ
<
Touch
> 
ü—‹
(
F¿me
* 
äame
, 
Ev’tT¬g‘
* 
rg‘
,

42 
id’tif›r
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
)

44  
adİtRef
(
Ãw
 
Touch
(
äame
, 
rg‘
, 
id’tif›r
, 
sü“nX
,

45 
sü“nY
, 
·geX
, 
·geY
));

48 
Ev’tT¬g‘
* 
rg‘
(ècÚ¡ {  
	gm_rg‘
.
g‘
(); }

49 
id’tif›r
(ècÚ¡ {  
	gm_id’tif›r
; }

50 
ş›ÁX
(ècÚ¡ {  
	gm_ş›ÁX
; }

51 
ş›ÁY
(ècÚ¡ {  
	gm_ş›ÁY
; }

52 
sü“nX
(ècÚ¡ {  
	gm_sü“nX
; }

53 
sü“nY
(ècÚ¡ {  
	gm_sü“nY
; }

54 
·geX
(ècÚ¡ {  
	gm_·geX
; }

55 
·geY
(ècÚ¡ {  
	gm_·geY
; }

57 
	g´iv©e
:

58 
Touch
(
F¿me
* 
äame
, 
Ev’tT¬g‘
* 
rg‘
, 
id’tif›r
,

59 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
);

61 
	gRefPŒ
<
	gEv’tT¬g‘
> 
	gm_rg‘
;

62 
	gm_id’tif›r
;

63 
	gm_ş›ÁX
;

64 
	gm_ş›ÁY
;

65 
	gm_sü“nX
;

66 
	gm_sü“nY
;

67 
	gm_·geX
;

68 
	gm_·geY
;

	@TouchEvent.cpp

26 
	~"cÚfig.h
"

28 #ià
ENABLE
(
TOUCH_EVENTS
)

30 
	~"TouchEv’t.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 
	gTouchEv’t
::
TouchEv’t
(
TouchLi¡
* 
touches
, TouchLi¡* 
rg‘Touches
,

35 
TouchLi¡
* 
chªgedTouches
, cÚ¡ 
AtomicSŒšg
& 
ty³
,

36 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

37 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
)

38 : 
Mou£R–©edEv’t
(
ty³
, 
Œue
,rue, 
v›w
, 0, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

39 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
)

40 , 
m_touches
(
touches
)

41 , 
m_rg‘Touches
(
rg‘Touches
)

42 , 
m_chªgedTouches
(
chªgedTouches
)

46 
	gTouchEv’t
::
š™TouchEv’t
(
TouchLi¡
* 
touches
, TouchLi¡* 
rg‘Touches
,

47 
TouchLi¡
* 
chªgedTouches
, cÚ¡ 
AtomicSŒšg
& 
ty³
,

48 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, 
sü“nX
, 
sü“nY
, 
ş›ÁX
, 
ş›ÁY
,

49 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
)

51 ià(
di¥©ched
())

54 
š™UIEv’t
(
ty³
, 
Œue
,rue, 
v›w
, 0);

56 
	gm_sü“nX
 = 
sü“nX
;

57 
	gm_sü“nY
 = 
sü“nY
;

58 
	gm_ù¾Key
 = 
ù¾Key
;

59 
	gm_®tKey
 = 
®tKey
;

60 
	gm_shiáKey
 = 
shiáKey
;

61 
	gm_m‘aKey
 = 
m‘aKey
;

62 
š™CoÜdš©es
(
ş›ÁX
, 
ş›ÁY
);

	@TouchEvent.h

26 #iâdeà
TouchEv’t_h


27 
	#TouchEv’t_h


	)

29 #ià
ENABLE
(
TOUCH_EVENTS
)

31 
	~"Mou£R–©edEv’t.h
"

32 
	~"TouchLi¡.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 şas 
	cTouchEv’t
 : 
public
 
Mou£R–©edEv’t
 {

37 
public
:

38 
PassRefPŒ
<
TouchEv’t
> 
ü—‹
()

40  
adİtRef
(
Ãw
 
TouchEv’t
);

42 
	gPassRefPŒ
<
	gTouchEv’t
> 
ü—‹
(
TouchLi¡
* 
touches
,

43 
TouchLi¡
* 
rg‘Touches
, TouchLi¡* 
chªgedTouches
,

44 cÚ¡ 
AtomicSŒšg
& 
ty³
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
,

45 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

46 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
)

48  
adİtRef
(
Ãw
 
TouchEv’t
(
touches
, 
rg‘Touches
, 
chªgedTouches
,

49 
ty³
, 
v›w
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

50 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
));

53 
š™TouchEv’t
(
TouchLi¡
* 
touches
, TouchLi¡* 
rg‘Touches
,

54 
TouchLi¡
* 
chªgedTouches
, cÚ¡ 
AtomicSŒšg
& 
ty³
,

55 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, 
sü“nX
, 
sü“nY
,

56 
ş›ÁX
, 
ş›ÁY
,

57 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
);

59 
TouchLi¡
* 
touches
(ècÚ¡ {  
	gm_touches
.
g‘
(); }

60 
TouchLi¡
* 
rg‘Touches
(ècÚ¡ {  
	gm_rg‘Touches
.
g‘
(); }

61 
TouchLi¡
* 
chªgedTouches
(ècÚ¡ {  
	gm_chªgedTouches
.
g‘
(); }

63 
	g´iv©e
:

64 
TouchEv’t
() {}

65 
TouchEv’t
(
TouchLi¡
* 
touches
, TouchLi¡* 
rg‘Touches
,

66 
TouchLi¡
* 
chªgedTouches
, cÚ¡ 
AtomicSŒšg
& 
ty³
,

67 
PassRefPŒ
<
Ab¡¿ùV›w
>, 
sü“nX
, 
sü“nY
, 
·geX
,

68 
·geY
,

69 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
);

71 
vœtu®
 
boŞ
 
isTouchEv’t
(ècÚ¡ {  
	gŒue
; }

73 
	gRefPŒ
<
	gTouchLi¡
> 
	gm_touches
;

74 
	gRefPŒ
<
	gTouchLi¡
> 
	gm_rg‘Touches
;

75 
	gRefPŒ
<
	gTouchLi¡
> 
	gm_chªgedTouches
;

	@TouchList.cpp

26 
	~"cÚfig.h
"

28 #ià
ENABLE
(
TOUCH_EVENTS
)

30 
	~"TouchLi¡.h
"

32 
Çme¥aû
 
	gWebCÜe
 {

34 
Touch
* 
	gTouchLi¡
::
™em
(
šdex
)

36 ià(
šdex
 >ğ
m_v®ues
.
size
())

38  
	gm_v®ues
[
šdex
].
g‘
();

	@TouchList.h

26 #iâdeà
TOUCHLIST_H_


27 
	#TOUCHLIST_H_


	)

29 #ià
ENABLE
(
TOUCH_EVENTS
)

31 
	~"Touch.h
"

32 
	~<wtf/RefCouÁed.h
>

33 
	~<wtf/VeùÜ.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gTouchLi¡
 : 
public
 
RefCouÁed
<
TouchLi¡
> {

38 
public
:

39 
PassRefPŒ
<
TouchLi¡
> 
ü—‹
()

41  
adİtRef
(
Ãw
 
TouchLi¡
);

44 
Ëngth
(ècÚ¡ {  
	gm_v®ues
.
size
(); }

46 
Touch
* 
™em
();

48 
­³nd
(cÚ¡ 
PassRefPŒ
<
Touch
> 
touch
è{ 
	gm_v®ues
.append(touch); }

50 
	g´iv©e
:

51 
TouchLi¡
() {}

53 
VeùÜ
<
RefPŒ
<
Touch
> > 
m_v®ues
;

	@TransformSource.h

20 #iâdeà
T¿nsfÜmSourû_h


21 
	#T¿nsfÜmSourû_h


	)

23 #ià
ENABLE
(
XSLT
)

25 
	~"PÏtfÜmSŒšg.h
"

26 
	~<wtf/NÚcİyabË.h
>

28 
Çme¥aû
 
	gWebCÜe
 {

30 #ià
USE
(
QXMLQUERY
)

31 
SŒšg
 
	tPÏtfÜmT¿nsfÜmSourû
;

33 * 
	tPÏtfÜmT¿nsfÜmSourû
;

36 şas 
	cT¿nsfÜmSourû
 : 
public
 
NÚcİyabË
 {

37 
public
:

38 
T¿nsfÜmSourû
(cÚ¡ 
PÏtfÜmT¿nsfÜmSourû
& 
sourû
);

39 ~
T¿nsfÜmSourû
();

41 
PÏtfÜmT¿nsfÜmSourû
 
¶©fÜmSourû
(ècÚ¡ {  
	gm_sourû
; }

43 
	g´iv©e
:

44 
PÏtfÜmT¿nsfÜmSourû
 
m_sourû
;

	@TransformSourceLibxslt.cpp

26 
	~"cÚfig.h
"

28 #ià
ENABLE
(
XSLT
)

29 
	~"T¿nsfÜmSourû.h
"

31 
	~<libxml/Œ“.h
>

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	gT¿nsfÜmSourû
::
T¿nsfÜmSourû
(cÚ¡ 
PÏtfÜmT¿nsfÜmSourû
& 
sourû
)

36 : 
m_sourû
(
sourû
)

40 
T¿nsfÜmSourû
::~TransformSource()

42 
xmlF»eDoc
((
xmlDocPŒ
)
m_sourû
);

	@TransformSourceQt.cpp

20 
	~"cÚfig.h
"

21 
	~"T¿nsfÜmSourû.h
"

23 
Çme¥aû
 
	gWebCÜe
 {

25 
	gT¿nsfÜmSourû
::
T¿nsfÜmSourû
(cÚ¡ 
PÏtfÜmT¿nsfÜmSourû
& 
sourû
)

26 : 
m_sourû
(
sourû
)

30 
T¿nsfÜmSourû
::~TransformSource()

	@Traversal.cpp

25 
	~"cÚfig.h
"

26 
	~"T¿v”§l.h
"

28 
	~"Node.h
"

29 
	~"NodeF‹r.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	gT¿v”§l
::
T¿v”§l
(
PassRefPŒ
<
Node
> 
roÙNode
, 
wh©ToShow
, PassRefPŒ<
NodeF‹r
> 
nodeF‹r
, 
boŞ
 
ex·ndEÁ™yReã»nûs
)

34 : 
m_roÙ
(
roÙNode
)

35 , 
m_wh©ToShow
(
wh©ToShow
)

36 , 
m_f‹r
(
nodeF‹r
)

37 , 
m_ex·ndEÁ™yReã»nûs
(
ex·ndEÁ™yReã»nûs
)

41 
	gT¿v”§l
::
acû±Node
(
SütS‹
* 
¡©e
, 
Node
* 
node
) const

47 ià(!(((1 << (
	gnode
->
nodeTy³
(è- 1)è& 
	gm_wh©ToShow
)))

48  
	gNodeF‹r
::
FILTER_SKIP
;

49 ià(!
	gm_f‹r
)

50  
	gNodeF‹r
::
FILTER_ACCEPT
;

51  
	gm_f‹r
->
acû±Node
(
¡©e
, 
node
);

	@Traversal.h

25 #iâdeà
T¿v”§l_h


26 
	#T¿v”§l_h


	)

28 
	~"SütS‹.h
"

29 
	~<wtf/FÜw¬d.h
>

30 
	~<wtf/RefPŒ.h
>

32 
Çme¥aû
 
	gWebCÜe
 {

34 
şass
 
	gNode
;

35 
şass
 
	gNodeF‹r
;

37 şas 
	cT¿v”§l
 {

38 
	gpublic
:

39 
Node
* 
roÙ
(ècÚ¡ {  
m_roÙ
.
g‘
(); }

40 
wh©ToShow
(ècÚ¡ {  
	gm_wh©ToShow
; }

41 
NodeF‹r
* 
f‹r
(ècÚ¡ {  
	gm_f‹r
.
g‘
(); }

42 
boŞ
 
ex·ndEÁ™yReã»nûs
(ècÚ¡ {  
	gm_ex·ndEÁ™yReã»nûs
; }

44 
	g´Ùeùed
:

45 
T¿v”§l
(
PassRefPŒ
<
Node
>, 
wh©ToShow
, PassRefPŒ<
NodeF‹r
>, 
boŞ
 
ex·ndEÁ™yReã»nûs
);

46 
acû±Node
(
SütS‹
*, 
Node
*) const;

48 
	g´iv©e
:

49 
RefPŒ
<
Node
> 
m_roÙ
;

50 
	gm_wh©ToShow
;

51 
	gRefPŒ
<
	gNodeF‹r
> 
	gm_f‹r
;

52 
boŞ
 
	gm_ex·ndEÁ™yReã»nûs
;

	@TreeWalker.cpp

25 
	~"cÚfig.h
"

26 
	~"T»eW®k”.h
"

28 
	~"Exû±iÚCode.h
"

29 
	~"CÚš”Node.h
"

30 
	~"NodeF‹r.h
"

31 
	~"SütS‹.h
"

32 
	~<wtf/PassRefPŒ.h
>

34 
Çme¥aû
 
	gWebCÜe
 {

36 
	gT»eW®k”
::
T»eW®k”
(
PassRefPŒ
<
Node
> 
roÙNode
, 
wh©ToShow
, PassRefPŒ<
NodeF‹r
> 
f‹r
, 
boŞ
 
ex·ndEÁ™yReã»nûs
)

37 : 
T¿v”§l
(
roÙNode
, 
wh©ToShow
, 
f‹r
, 
ex·ndEÁ™yReã»nûs
)

38 , 
m_cu¼’t
(
roÙ
())

42 
	gT»eW®k”
::
£tCu¼’tNode
(
PassRefPŒ
<
Node
> 
node
, 
Exû±iÚCode
& 
ec
)

44 ià(!
	gnode
) {

45 
	gec
 = 
NOT_SUPPORTED_ERR
;

48 
	gm_cu¼’t
 = 
node
;

51 
šlše
 
Node
* 
	gT»eW®k”
::
£tCu¼’t
(
PassRefPŒ
<Node> 
node
)

53 
m_cu¼’t
 = 
node
;

54  
	gm_cu¼’t
.
g‘
();

57 
Node
* 
	gT»eW®k”
::
·»ÁNode
(
SütS‹
* 
¡©e
)

59 
RefPŒ
<
Node
> 
node
 = 
m_cu¼’t
;

60 
	gnode
 !ğ
roÙ
()) {

61 
node
 =‚ode->
·»ÁNode
();

62 ià(!
	gnode
)

64 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

65 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

67 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_ACCEPT
)

68  
£tCu¼’t
(
node
.
»Ëa£
());

73 
Node
* 
	gT»eW®k”
::
fœ¡Chd
(
SütS‹
* 
¡©e
)

75 
RefPŒ
<
Node
> 
node
 = 
m_cu¼’t
->
fœ¡Chd
(); 
	gnode
; ) {

76 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

77 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

79 
	gacû±NodeResuÉ
) {

80 
	gNodeF‹r
::
FILTER_ACCEPT
:

81 
m_cu¼’t
 = 
node
.
»Ëa£
();

82  
	gm_cu¼’t
.
g‘
();

83 
	gNodeF‹r
::
FILTER_SKIP
:

84 ià(
node
->
fœ¡Chd
()) {

85 
node
 =‚ode->
fœ¡Chd
();

89 
	gNodeF‹r
::
FILTER_REJECT
:

93 ià(
	gnode
->
ÃxtSiblšg
()) {

94 
	gnode
 = 
node
->
ÃxtSiblšg
();

97 
Node
* 
	g·»Á
 = 
node
->
·»ÁNode
();

98 ià(!
	g·»Á
 ||…¬’ˆ=ğ
roÙ
(è|| 
·»Á
 =ğ
m_cu¼’t
)

100 
	gnode
 = 
·»Á
;

101 } 
	gnode
);

106 
Node
* 
	gT»eW®k”
::
Ï¡Chd
(
SütS‹
* 
¡©e
)

108 
RefPŒ
<
Node
> 
node
 = 
m_cu¼’t
->
Ï¡Chd
(); 
	gnode
; ) {

109 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

110 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

112 
	gacû±NodeResuÉ
) {

113 
	gNodeF‹r
::
FILTER_ACCEPT
:

114 
m_cu¼’t
 = 
node
.
»Ëa£
();

115  
	gm_cu¼’t
.
g‘
();

116 
	gNodeF‹r
::
FILTER_SKIP
:

117 ià(
node
->
Ï¡Chd
()) {

118 
node
 =‚ode->
Ï¡Chd
();

122 
	gNodeF‹r
::
FILTER_REJECT
:

126 ià(
	gnode
->
´eviousSiblšg
()) {

127 
	gnode
 = 
node
->
´eviousSiblšg
();

130 
Node
* 
	g·»Á
 = 
node
->
·»ÁNode
();

131 ià(!
	g·»Á
 ||…¬’ˆ=ğ
roÙ
(è|| 
·»Á
 =ğ
m_cu¼’t
)

133 
	gnode
 = 
·»Á
;

134 } 
	gnode
);

139 
Node
* 
	gT»eW®k”
::
´eviousSiblšg
(
SütS‹
* 
¡©e
)

141 
RefPŒ
<
Node
> 
node
 = 
m_cu¼’t
;

142 ià(
	gnode
 =ğ
roÙ
())

145 
	gRefPŒ
<
	gNode
> 
	gsiblšg
 = 
node
->
´eviousSiblšg
(); sibling; ) {

146 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
siblšg
.
g‘
());

147 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

149 
	gacû±NodeResuÉ
) {

150 
	gNodeF‹r
::
FILTER_ACCEPT
:

151 
m_cu¼’t
 = 
siblšg
.
»Ëa£
();

152  
	gm_cu¼’t
.
g‘
();

153 
	gNodeF‹r
::
FILTER_SKIP
:

154 ià(
siblšg
->
fœ¡Chd
()) {

155 
siblšg
 = siblšg->
fœ¡Chd
();

159 
	gNodeF‹r
::
FILTER_REJECT
:

162 
	gsiblšg
 = 
siblšg
->
´eviousSiblšg
();

164 
	gnode
 = 
node
->
·»ÁNode
();

165 ià(!
	gnode
 ||‚od=ğ
roÙ
())

167 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

168 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

170 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_ACCEPT
)

175 
Node
* 
	gT»eW®k”
::
ÃxtSiblšg
(
SütS‹
* 
¡©e
)

177 
RefPŒ
<
Node
> 
node
 = 
m_cu¼’t
;

178 ià(
	gnode
 =ğ
roÙ
())

181 
	gRefPŒ
<
	gNode
> 
	gsiblšg
 = 
node
->
ÃxtSiblšg
(); sibling; ) {

182 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
siblšg
.
g‘
());

183 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

185 
	gacû±NodeResuÉ
) {

186 
	gNodeF‹r
::
FILTER_ACCEPT
:

187 
m_cu¼’t
 = 
siblšg
.
»Ëa£
();

188  
	gm_cu¼’t
.
g‘
();

189 
	gNodeF‹r
::
FILTER_SKIP
:

190 ià(
siblšg
->
fœ¡Chd
()) {

191 
siblšg
 = siblšg->
fœ¡Chd
();

195 
	gNodeF‹r
::
FILTER_REJECT
:

198 
	gsiblšg
 = 
siblšg
->
ÃxtSiblšg
();

200 
	gnode
 = 
node
->
·»ÁNode
();

201 ià(!
	gnode
 ||‚od=ğ
roÙ
())

203 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

204 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

206 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_ACCEPT
)

211 
Node
* 
	gT»eW®k”
::
´eviousNode
(
SütS‹
* 
¡©e
)

213 
RefPŒ
<
Node
> 
node
 = 
m_cu¼’t
;

214 
	gnode
 !ğ
roÙ
()) {

215 
Node
* 
´eviousSiblšg
 = 
node
->previousSibling()) {

216 
node
 = 
´eviousSiblšg
;

217 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

218 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

220 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_REJECT
)

222 
Node
* 
	gÏ¡Chd
 = 
node
->
Ï¡Chd
()) {

223 
node
 = 
Ï¡Chd
;

224 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

225 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

227 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_ACCEPT
)

230 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_ACCEPT
) {

231 
m_cu¼’t
 = 
node
.
»Ëa£
();

232  
	gm_cu¼’t
.
g‘
();

235 ià(
	gnode
 =ğ
roÙ
())

237 
Node
* 
	g·»Á
 = 
node
->
·»ÁNode
();

238 ià(!
	g·»Á
)

240 
	gnode
 = 
·»Á
;

241 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

242 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

244 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_ACCEPT
)

245  
£tCu¼’t
(
node
.
»Ëa£
());

250 
Node
* 
	gT»eW®k”
::
ÃxtNode
(
SütS‹
* 
¡©e
)

252 
RefPŒ
<
Node
> 
node
 = 
m_cu¼’t
;

253 
	gChd»n
:

254 
Node
* 
fœ¡Chd
 = 
node
->firstChild()) {

255 
node
 = 
fœ¡Chd
;

256 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

257 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

259 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_ACCEPT
)

260  
£tCu¼’t
(
node
.
»Ëa£
());

261 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_REJECT
)

264 
Node
* 
	gÃxtSiblšg
 = 
node
->
Œav”£NextSiblšg
(
roÙ
())) {

265 
node
 = 
ÃxtSiblšg
;

266 
	gacû±NodeResuÉ
 = 
acû±Node
(
¡©e
, 
node
.
g‘
());

267 ià(
	g¡©e
 && s‹->
hadExû±iÚ
())

269 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_ACCEPT
)

270  
£tCu¼’t
(
node
.
»Ëa£
());

271 ià(
	gacû±NodeResuÉ
 =ğ
NodeF‹r
::
FILTER_SKIP
)

272 
Chd»n
;

	@TreeWalker.h

25 #iâdeà
T»eW®k”_h


26 
	#T»eW®k”_h


	)

28 
	~"NodeF‹r.h
"

29 
	~"T¿v”§l.h
"

30 
	~<wtf/PassRefPŒ.h
>

31 
	~<wtf/RefCouÁed.h
>

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	tExû±iÚCode
;

37 
şass
 
	gT»eW®k”
 : 
public
 
RefCouÁed
<
T»eW®k”
>,…ubliø
	gT¿v”§l
 {

38 
	gpublic
:

39 
PassRefPŒ
<
T»eW®k”
> 
ü—‹
(PassRefPŒ<
Node
> 
roÙNode
, 
wh©ToShow
, PassRefPŒ<
NodeF‹r
> 
f‹r
, 
boŞ
 
ex·ndEÁ™yReã»nûs
)

41  
adİtRef
(
Ãw
 
T»eW®k”
(
roÙNode
, 
wh©ToShow
, 
f‹r
, 
ex·ndEÁ™yReã»nûs
));

44 
Node
* 
cu¼’tNode
(ècÚ¡ {  
	gm_cu¼’t
.
g‘
(); }

45 
£tCu¼’tNode
(
PassRefPŒ
<
Node
>, 
Exû±iÚCode
&);

47 
Node
* 
·»ÁNode
(
SütS‹
*);

48 
Node
* 
fœ¡Chd
(
SütS‹
*);

49 
Node
* 
Ï¡Chd
(
SütS‹
*);

50 
Node
* 
´eviousSiblšg
(
SütS‹
*);

51 
Node
* 
ÃxtSiblšg
(
SütS‹
*);

52 
Node
* 
´eviousNode
(
SütS‹
*);

53 
Node
* 
ÃxtNode
(
SütS‹
*);

57 
Node
* 
·»ÁNode
(è{ …¬’tNode(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(), 
m_cu¼’t
.
g‘
())); }

58 
Node
* 
fœ¡Chd
(è{  fœ¡Chd(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(), 
m_cu¼’t
.
g‘
())); }

59 
Node
* 
Ï¡Chd
(è{ †a¡Chd(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(), 
m_cu¼’t
.
g‘
())); }

60 
Node
* 
´eviousSiblšg
(è{ …»viousSiblšg(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(), 
m_cu¼’t
.
g‘
())); }

61 
Node
* 
ÃxtSiblšg
(è{ ‚extSiblšg(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(), 
m_cu¼’t
.
g‘
())); }

62 
Node
* 
´eviousNode
(è{ …»viousNode(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(), 
m_cu¼’t
.
g‘
())); }

63 
Node
* 
ÃxtNode
(è{ ‚extNode(
sütS‹FromNode
(
mašTh»adNÜm®WÜld
(), 
m_cu¼’t
.
g‘
())); }

65 
	g´iv©e
:

66 
T»eW®k”
(
PassRefPŒ
<
Node
>, 
wh©ToShow
, PassRefPŒ<
NodeF‹r
>, 
boŞ
 
ex·ndEÁ™yReã»nûs
);

68 
Node
* 
£tCu¼’t
(
PassRefPŒ
<Node>);

70 
	gRefPŒ
<
	gNode
> 
	gm_cu¼’t
;

	@UIEvent.cpp

23 
	~"cÚfig.h
"

24 
	~"UIEv’t.h
"

26 
	~"DOMWšdow.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 
	gUIEv’t
::
UIEv’t
()

31 : 
m_d‘a
(0)

35 
UIEv’t
::UIEv’t(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
boŞ
 
ÿnBubbËArg
, boŞ 
ÿnûÏbËArg
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›wArg
, 
d‘aArg
)

36 : 
Ev’t
(
ev’tTy³
, 
ÿnBubbËArg
, 
ÿnûÏbËArg
)

37 , 
m_v›w
(
v›wArg
)

38 , 
m_d‘a
(
d‘aArg
)

42 
	gUIEv’t
::~
UIEv’t
()

46 
UIEv’t
::
š™UIEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³Arg
, 
boŞ
 
ÿnBubbËArg
, boŞ 
ÿnûÏbËArg
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›wArg
, 
d‘aArg
)

48 ià(
di¥©ched
())

51 
š™Ev’t
(
ty³Arg
, 
ÿnBubbËArg
, 
ÿnûÏbËArg
);

53 
	gm_v›w
 = 
v›wArg
;

54 
	gm_d‘a
 = 
d‘aArg
;

57 
boŞ
 
	gUIEv’t
::
isUIEv’t
() const

59  
Œue
;

62 
	gUIEv’t
::
keyCode
() const

67 
	gUIEv’t
::
ch¬Code
() const

72 
	gUIEv’t
::
Ïy”X
() const

77 
	gUIEv’t
::
Ïy”Y
() const

82 
	gUIEv’t
::
·geX
() const

87 
	gUIEv’t
::
·geY
() const

92 
	gUIEv’t
::
which
() const

	@UIEvent.h

24 #iâdeà
UIEv’t_h


25 
	#UIEv’t_h


	)

27 
	~"DOMWšdow.h
"

28 
	~"Ev’t.h
"

30 
Çme¥aû
 
	gWebCÜe
 {

32 
DOMWšdow
 
	tAb¡¿ùV›w
;

34 şas 
	cUIEv’t
 : 
public
 
Ev’t
 {

35 
public
:

36 
PassRefPŒ
<
UIEv’t
> 
ü—‹
()

38  
adİtRef
(
Ãw
 
UIEv’t
);

40 
	gPassRefPŒ
<
	gUIEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
, 
d‘a
)

42  
adİtRef
(
Ãw
 
UIEv’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 
d‘a
));

44 
	gvœtu®
 ~
UIEv’t
();

46 
š™UIEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
>, 
d‘a
);

48 
Ab¡¿ùV›w
* 
v›w
(ècÚ¡ {  
	gm_v›w
.
g‘
(); }

49 
d‘a
(ècÚ¡ {  
	gm_d‘a
; }

51 
vœtu®
 
boŞ
 
isUIEv’t
() const;

53 
vœtu®
 
keyCode
() const;

54 
vœtu®
 
ch¬Code
() const;

56 
vœtu®
 
Ïy”X
() const;

57 
vœtu®
 
Ïy”Y
() const;

59 
vœtu®
 
·geX
() const;

60 
vœtu®
 
·geY
() const;

62 
vœtu®
 
which
() const;

64 
	g´Ùeùed
:

65 
UIEv’t
();

66 
UIEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
>, 
d‘a
);

68 
	g´iv©e
:

69 
RefPŒ
<
Ab¡¿ùV›w
> 
m_v›w
;

70 
	gm_d‘a
;

	@UIEventWithKeyState.cpp

21 
	~"cÚfig.h
"

22 
	~"UIEv’tW™hKeyS‹.h
"

24 
Çme¥aû
 
	gWebCÜe
 {

26 
UIEv’tW™hKeyS‹
* 
fšdEv’tW™hKeyS‹
(
Ev’t
* 
ev’t
)

28 
Ev’t
* 
	ge
 = 
ev’t
;ƒ;ƒ = 
e
->
und”lyšgEv’t
())

29 ià(
e
->
isKeybßrdEv’t
(è||ƒ->
isMou£Ev’t
())

30  
¡©ic_ÿ¡
<
UIEv’tW™hKeyS‹
*>(
e
);

	@UIEventWithKeyState.h

24 #iâdeà
UIEv’tW™hKeyS‹_h


25 
	#UIEv’tW™hKeyS‹_h


	)

27 
	~"UIEv’t.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 şas 
	cUIEv’tW™hKeyS‹
 : 
public
 
UIEv’t
 {

32 
public
:

33 
boŞ
 
ù¾Key
(ècÚ¡ {  
m_ù¾Key
; }

34 
boŞ
 
shiáKey
(ècÚ¡ {  
	gm_shiáKey
; }

35 
boŞ
 
®tKey
(ècÚ¡ {  
	gm_®tKey
; }

36 
boŞ
 
m‘aKey
(ècÚ¡ {  
	gm_m‘aKey
; }

38 
	g´Ùeùed
:

39 
UIEv’tW™hKeyS‹
()

40 : 
m_ù¾Key
(
çl£
)

41 , 
m_®tKey
(
çl£
)

42 , 
m_shiáKey
(
çl£
)

43 , 
m_m‘aKey
(
çl£
)

47 
UIEv’tW™hKeyS‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, 
boŞ
 
ÿnBubbË
, boŞ 
ÿnûÏbË
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
,

48 
d‘a
, 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
)

49 : 
UIEv’t
(
ty³
, 
ÿnBubbË
, 
ÿnûÏbË
, 
v›w
, 
d‘a
)

50 , 
m_ù¾Key
(
ù¾Key
)

51 , 
m_®tKey
(
®tKey
)

52 , 
m_shiáKey
(
shiáKey
)

53 , 
m_m‘aKey
(
m‘aKey
)

58 
boŞ
 
	gm_ù¾Key
 : 1;

59 
boŞ
 
	gm_®tKey
 : 1;

60 
boŞ
 
	gm_shiáKey
 : 1;

61 
boŞ
 
	gm_m‘aKey
 : 1;

64 
UIEv’tW™hKeyS‹
* 
fšdEv’tW™hKeyS‹
(
Ev’t
*);

	@UserGestureIndicator.cpp

26 
	~"cÚfig.h
"

27 
	~"U£rGe¡u»IndiÿtÜ.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 
boŞ
 
	gU£rGe¡u»IndiÿtÜ
::
s_´oûssšgU£rGe¡u»
 = 
çl£
;

33 
	gU£rGe¡u»IndiÿtÜ
::
U£rGe¡u»IndiÿtÜ
(
ProûssšgU£rGe¡u»S‹
 
¡©e
)

34 : 
m_´eviousV®ue
(
s_´oûssšgU£rGe¡u»
)

36 ià(
¡©e
 =ğ
Defš™–yProûssšgU£rGe¡u»
)

37 
s_´oûssšgU£rGe¡u»
 = 
Œue
;

40 
	gU£rGe¡u»IndiÿtÜ
::~
U£rGe¡u»IndiÿtÜ
()

42 
s_´oûssšgU£rGe¡u»
 = 
m_´eviousV®ue
;

	@UserGestureIndicator.h

26 #iâdeà
U£rGe¡u»IndiÿtÜ_h


27 
	#U£rGe¡u»IndiÿtÜ_h


	)

29 
	~<wtf/NÚcİyabË.h
>

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	eProûssšgU£rGe¡u»S‹
 {

34 
	gDefš™–yProûssšgU£rGe¡u»
,

35 
	gPossiblyProûssšgU£rGe¡u»


38 şas 
	cU£rGe¡u»IndiÿtÜ
 : 
public
 
NÚcİyabË
 {

39 
public
:

40 
boŞ
 
´oûssšgU£rGe¡u»
(è{  
s_´oûssšgU£rGe¡u»
; }

42 
ex¶ic™
 
U£rGe¡u»IndiÿtÜ
(
ProûssšgU£rGe¡u»S‹
);

43 ~
U£rGe¡u»IndiÿtÜ
();

45 
	g´iv©e
:

46 
boŞ
 
s_´oûssšgU£rGe¡u»
;

47 
boŞ
 
	gm_´eviousV®ue
;

	@WebKitAnimationEvent.cpp

26 
	~"cÚfig.h
"

27 
	~"WebK™Anim©iÚEv’t.h
"

29 
	~"Ev’tNames.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	gWebK™Anim©iÚEv’t
::
WebK™Anim©iÚEv’t
()

34 : 
m_–­£dTime
(0.0)

38 
WebK™Anim©iÚEv’t
::WebK™Anim©iÚEv’t(cÚ¡ 
AtomicSŒšg
& 
ty³
, cÚ¡ 
SŒšg
& 
ªim©iÚName
, 
–­£dTime
)

39 : 
Ev’t
(
ty³
, 
Œue
,rue)

40 , 
m_ªim©iÚName
(
ªim©iÚName
)

41 , 
m_–­£dTime
(
–­£dTime
)

45 
	gWebK™Anim©iÚEv’t
::~
WebK™Anim©iÚEv’t
()

49 
WebK™Anim©iÚEv’t
::
š™WebK™Anim©iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
,

50 
boŞ
 
ÿnBubbËArg
,

51 
boŞ
 
ÿnûÏbËArg
,

52 cÚ¡ 
SŒšg
& 
ªim©iÚName
,

53 
–­£dTime
)

55 ià(
di¥©ched
())

58 
š™Ev’t
(
ty³
, 
ÿnBubbËArg
, 
ÿnûÏbËArg
);

60 
	gm_ªim©iÚName
 = 
ªim©iÚName
;

61 
	gm_–­£dTime
 = 
–­£dTime
;

64 cÚ¡ 
	gSŒšg
& 
	gWebK™Anim©iÚEv’t
::
ªim©iÚName
() const

66  
m_ªim©iÚName
;

69 
	gWebK™Anim©iÚEv’t
::
–­£dTime
() const

71  
m_–­£dTime
;

	@WebKitAnimationEvent.h

26 #iâdeà
WebK™Anim©iÚEv’t_h


27 
	#WebK™Anim©iÚEv’t_h


	)

29 
	~"Ev’t.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cWebK™Anim©iÚEv’t
 : 
public
 
Ev’t
 {

34 
public
:

35 
PassRefPŒ
<
WebK™Anim©iÚEv’t
> 
ü—‹
()

37  
adİtRef
(
Ãw
 
WebK™Anim©iÚEv’t
);

39 
	gPassRefPŒ
<
	gWebK™Anim©iÚEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, cÚ¡ 
SŒšg
& 
ªim©iÚName
, 
–­£dTime
)

41  
adİtRef
(
Ãw
 
WebK™Anim©iÚEv’t
(
ty³
, 
ªim©iÚName
, 
–­£dTime
));

44 
	gvœtu®
 ~
WebK™Anim©iÚEv’t
();

46 
š™WebK™Anim©iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
,

47 
boŞ
 
ÿnBubbËArg
,

48 
boŞ
 
ÿnûÏbËArg
,

49 cÚ¡ 
SŒšg
& 
ªim©iÚName
,

50 
–­£dTime
);

52 cÚ¡ 
	gSŒšg
& 
ªim©iÚName
() const;

53 
–­£dTime
() const;

55 
vœtu®
 
boŞ
 
isWebK™Anim©iÚEv’t
(ècÚ¡ {  
	gŒue
; }

57 
	g´iv©e
:

58 
WebK™Anim©iÚEv’t
();

59 
WebK™Anim©iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, cÚ¡ 
SŒšg
& 
ªim©iÚName
, 
–­£dTime
);

61 
SŒšg
 
	gm_ªim©iÚName
;

62 
	gm_–­£dTime
;

	@WebKitTransitionEvent.cpp

26 
	~"cÚfig.h
"

27 
	~"WebK™T¿ns™iÚEv’t.h
"

29 
	~"Ev’tNames.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	gWebK™T¿ns™iÚEv’t
::
WebK™T¿ns™iÚEv’t
()

34 : 
m_´İ”tyName
()

35 , 
m_–­£dTime
(0.0)

39 
	gWebK™T¿ns™iÚEv’t
::
WebK™T¿ns™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, cÚ¡ 
SŒšg
& 
´İ”tyName
, 
–­£dTime
)

40 : 
Ev’t
(
ty³
, 
Œue
,rue)

41 , 
m_´İ”tyName
(
´İ”tyName
)

42 , 
m_–­£dTime
(
–­£dTime
)

46 
	gWebK™T¿ns™iÚEv’t
::~
WebK™T¿ns™iÚEv’t
()

50 
WebK™T¿ns™iÚEv’t
::
š™WebK™T¿ns™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
,

51 
boŞ
 
ÿnBubbËArg
,

52 
boŞ
 
ÿnûÏbËArg
,

53 cÚ¡ 
SŒšg
& 
´İ”tyName
,

54 
–­£dTime
)

56 ià(
di¥©ched
())

59 
š™Ev’t
(
ty³
, 
ÿnBubbËArg
, 
ÿnûÏbËArg
);

61 
	gm_´İ”tyName
 = 
´İ”tyName
;

62 
	gm_–­£dTime
 = 
–­£dTime
;

65 cÚ¡ 
	gSŒšg
& 
	gWebK™T¿ns™iÚEv’t
::
´İ”tyName
() const

67  
m_´İ”tyName
;

70 
	gWebK™T¿ns™iÚEv’t
::
–­£dTime
() const

72  
m_–­£dTime
;

	@WebKitTransitionEvent.h

26 #iâdeà
WebK™T¿ns™iÚEv’t_h


27 
	#WebK™T¿ns™iÚEv’t_h


	)

29 
	~"Ev’t.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 şas 
	cWebK™T¿ns™iÚEv’t
 : 
public
 
Ev’t
 {

34 
public
:

35 
PassRefPŒ
<
WebK™T¿ns™iÚEv’t
> 
ü—‹
()

37  
adİtRef
(
Ãw
 
WebK™T¿ns™iÚEv’t
);

39 
	gPassRefPŒ
<
	gWebK™T¿ns™iÚEv’t
> 
ü—‹
(cÚ¡ 
AtomicSŒšg
& 
ty³
, cÚ¡ 
SŒšg
& 
ªim©iÚName
, 
–­£dTime
)

41  
adİtRef
(
Ãw
 
WebK™T¿ns™iÚEv’t
(
ty³
, 
ªim©iÚName
, 
–­£dTime
));

44 
	gvœtu®
 ~
WebK™T¿ns™iÚEv’t
();

46 
š™WebK™T¿ns™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
,

47 
boŞ
 
ÿnBubbËArg
,

48 
boŞ
 
ÿnûÏbËArg
,

49 cÚ¡ 
SŒšg
& 
´İ”tyName
,

50 
–­£dTime
);

52 cÚ¡ 
	gSŒšg
& 
´İ”tyName
() const;

53 
–­£dTime
() const;

55 
vœtu®
 
boŞ
 
isWebK™T¿ns™iÚEv’t
(ècÚ¡ {  
	gŒue
; }

57 
	g´iv©e
:

58 
WebK™T¿ns™iÚEv’t
();

59 
WebK™T¿ns™iÚEv’t
(cÚ¡ 
AtomicSŒšg
& 
ty³
, cÚ¡ 
SŒšg
& 
´İ”tyName
, 
–­£dTime
);

61 
SŒšg
 
	gm_´İ”tyName
;

62 
	gm_–­£dTime
;

	@WheelEvent.cpp

23 
	~"cÚfig.h
"

24 
	~"Wh“lEv’t.h
"

26 
	~"Ev’tNames.h
"

27 
	~<wtf/M©hExŒas.h
>

29 
Çme¥aû
 
	gWebCÜe
 {

31 
	gWh“lEv’t
::
Wh“lEv’t
()

32 : 
m_wh“lD–X
(0)

33 , 
m_wh“lD–Y
(0)

34 , 
m_¿wD–X
(0)

35 , 
m_¿wD–Y
(0)

36 , 
m_g¿nuÏr™y
(
Pix–
)

40 
	gWh“lEv’t
::
Wh“lEv’t
(
wh“lTicksX
, 
wh“lTicksY
, 
¿wD–X
, 
¿wD–Y
,

41 
G¿nuÏr™y
 
g¿nuÏr™y
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
,

42 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

43 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
)

44 : 
Mou£R–©edEv’t
(
ev’tNames
().
mou£wh“lEv’t
,

45 
Œue
,rue, 
v›w
, 0, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

46 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
)

47 , 
m_wh“lD–X
(
Ìoundf
(
wh“lTicksX
 * 120))

48 , 
m_wh“lD–Y
(
Ìoundf
(
wh“lTicksY
 * 120))

49 , 
m_¿wD–X
(
¿wD–X
)

50 , 
m_¿wD–Y
(
¿wD–Y
)

51 , 
m_g¿nuÏr™y
(
g¿nuÏr™y
)

55 
	gWh“lEv’t
::
š™Wh“lEv’t
(
¿wD–X
, 
¿wD–Y
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
,

56 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

57 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
)

59 ià(
di¥©ched
())

62 
š™UIEv’t
(
ev’tNames
().
mou£wh“lEv’t
, 
Œue
,rue, 
v›w
, 0);

64 
	gm_sü“nX
 = 
sü“nX
;

65 
	gm_sü“nY
 = 
sü“nY
;

66 
	gm_ù¾Key
 = 
ù¾Key
;

67 
	gm_®tKey
 = 
®tKey
;

68 
	gm_shiáKey
 = 
shiáKey
;

69 
	gm_m‘aKey
 = 
m‘aKey
;

72 
	gm_wh“lD–X
 = 
¿wD–X
 * 120;

73 
	gm_wh“lD–Y
 = 
¿wD–Y
 * 120;

75 
	gm_¿wD–X
 = 
¿wD–X
;

76 
	gm_¿wD–Y
 = 
¿wD–Y
;

77 
	gm_g¿nuÏr™y
 = 
Pix–
;

79 
š™CoÜdš©es
(
·geX
, 
·geY
);

82 
	gWh“lEv’t
::
š™WebK™Wh“lEv’t
(
¿wD–X
, 
¿wD–Y
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
,

83 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

84 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
)

86 
š™Wh“lEv’t
(
¿wD–X
, 
¿wD–Y
, 
v›w
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

87 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
);

90 
boŞ
 
	gWh“lEv’t
::
isWh“lEv’t
() const

92  
Œue
;

	@WheelEvent.h

24 #iâdeà
Wh“lEv’t_h


25 
	#Wh“lEv’t_h


	)

27 
	~"Mou£R–©edEv’t.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

32 şas 
	cWh“lEv’t
 : 
public
 
Mou£R–©edEv’t
 {

33 
public
:

34 
	eG¿nuÏr™y
 { 
Pix–
, 
	gLše
, 
	gPage
 };

36 
	gPassRefPŒ
<
	gWh“lEv’t
> 
ü—‹
()

38  
adİtRef
(
Ãw
 
Wh“lEv’t
);

40 
	gPassRefPŒ
<
	gWh“lEv’t
> 
ü—‹
(
wh“lTicksX
, 
wh“lTicksY
,

41 
¿wD–X
, 
¿wD–Y
, 
G¿nuÏr™y
 
g¿nuÏr™y
, 
PassRefPŒ
<
Ab¡¿ùV›w
> 
v›w
,

42 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

43 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
)

45  
adİtRef
(
Ãw
 
Wh“lEv’t
(
wh“lTicksX
, 
wh“lTicksY
, 
¿wD–X
, 
¿wD–Y
,

46 
g¿nuÏr™y
, 
v›w
, 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

47 
ù¾Key
, 
®tKey
, 
shiáKey
, 
m‘aKey
));

50 
š™Wh“lEv’t
(
¿wD–X
, 
¿wD–Y
, 
PassRefPŒ
<
Ab¡¿ùV›w
>,

51 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

52 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
);

54 
š™WebK™Wh“lEv’t
(
¿wD–X
, 
¿wD–Y
, 
PassRefPŒ
<
Ab¡¿ùV›w
>,

55 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

56 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
);

58 
wh“lD–
(ècÚ¡ { ià(
	gm_wh“lD–Y
 =ğ0è 
m_wh“lD–X
;  m_wheelDeltaY; }

59 
wh“lD–X
(ècÚ¡ {  
	gm_wh“lD–X
; }

60 
wh“lD–Y
(ècÚ¡ {  
	gm_wh“lD–Y
; }

61 
¿wD–X
(ècÚ¡ {  
	gm_¿wD–X
; }

62 
¿wD–Y
(ècÚ¡ {  
	gm_¿wD–Y
; }

63 
G¿nuÏr™y
 
g¿nuÏr™y
(ècÚ¡ {  
	gm_g¿nuÏr™y
; }

66 
boŞ
 
isHÜizÚl
(ècÚ¡ {  
	gm_wh“lD–X
; }

68 
	g´iv©e
:

69 
Wh“lEv’t
();

70 
Wh“lEv’t
(
wh“lTicksX
, 
wh“lTicksY
, 
¿wD–X
, 
¿wD–Y
,

71 
G¿nuÏr™y
 
g¿nuÏr™y
, 
PassRefPŒ
<
Ab¡¿ùV›w
>,

72 
sü“nX
, 
sü“nY
, 
·geX
, 
·geY
,

73 
boŞ
 
ù¾Key
, boŞ 
®tKey
, boŞ 
shiáKey
, boŞ 
m‘aKey
);

75 
vœtu®
 
boŞ
 
isWh“lEv’t
() const;

77 
	gm_wh“lD–X
;

78 
	gm_wh“lD–Y
;

80 
	gm_¿wD–X
;

81 
	gm_¿wD–Y
;

82 
G¿nuÏr™y
 
	gm_g¿nuÏr™y
;

	@XMLTokenizer.cpp

26 
	~"cÚfig.h
"

27 
	~"XMLTok’iz”.h
"

29 
	~"CDATASeùiÚ.h
"

30 
	~"CachedSüt.h
"

31 
	~"Comm’t.h
"

32 
	~"DocLßd”.h
"

33 
	~"Docum’t.h
"

34 
	~"Docum’tF¿gm’t.h
"

35 
	~"Docum’tTy³.h
"

36 
	~"F¿me.h
"

37 
	~"F¿meLßd”.h
"

38 
	~"F¿meV›w.h
"

39 
	~"HTMLLškEËm’t.h
"

40 
	~"HTMLNames.h
"

41 
	~"HTMLStyËEËm’t.h
"

42 
	~"ImageLßd”.h
"

43 
	~"ProûssšgIn¡ruùiÚ.h
"

44 
	~"ResourûE¼Ü.h
"

45 
	~"ResourûHªdË.h
"

46 
	~"ResourûReque¡.h
"

47 
	~"ResourûRe¥Ú£.h
"

48 
	~"SütCÚŒŞËr.h
"

49 
	~"SütEËm’t.h
"

50 
	~"SütSourûCode.h
"

51 
	~"SütV®ue.h
"

52 
	~"TextResourûDecod”.h
"

53 
	~<wtf/‹xt/CSŒšg.h
>

54 
	~<wtf/SŒšgExŒas.h
>

55 
	~<wtf/Th»adšg.h
>

56 
	~<wtf/VeùÜ.h
>

58 #ià
ENABLE
(
SVG
)

59 
	~"SVGNames.h
"

60 
	~"SVGStyËEËm’t.h
"

63 
usšg
 
Çme¥aû
 
	g¡d
;

65 
Çme¥aû
 
	gWebCÜe
 {

67 
usšg
 
Çme¥aû
 
	gHTMLNames
;

69 cÚ¡ 
	gmaxE¼Üs
 = 25;

70 cÚ¡ 
size_t
 
	gmaxNe¡šgD•th
 = 4096;

72 #ià
ENABLE
(
WML
)

73 
boŞ
 
	gXMLTok’iz”
::
isWMLDocum’t
() const

75 ià(
m_doc
)

76  
m_doc
->
isWMLDocum’t
();

78  
	gçl£
;

82 
	gXMLTok’iz”
::
pushCu¼’tNode
(
Node
* 
n
)

84 
ASSERT
(
n
);

85 
ASSERT
(
m_cu¼’tNode
);

86 ià(
	gn
 !ğ
m_doc
)

87 
n
->
»f
();

88 
	gm_cu¼’tNodeSck
.
­³nd
(
m_cu¼’tNode
);

89 
	gm_cu¼’tNode
 = 
n
;

90 ià(
	gm_cu¼’tNodeSck
.
size
(è> 
	gmaxNe¡šgD•th
)

91 
hªdËE¼Ü
(
çl
, "ExûssivnodÃ¡šg.", 
lšeNumb”
(), 
cŞumnNumb”
());

94 
	gXMLTok’iz”
::
pİCu¼’tNode
()

96 ià(!
m_cu¼’tNode
)

98 
ASSERT
(
m_cu¼’tNodeSck
.
size
());

100 ià(
	gm_cu¼’tNode
 !ğ
m_doc
)

101 
m_cu¼’tNode
->
d”ef
();

103 
	gm_cu¼’tNode
 = 
m_cu¼’tNodeSck
.
Ï¡
();

104 
	gm_cu¼’tNodeSck
.
»moveLa¡
();

107 
	gXMLTok’iz”
::
ş—rCu¼’tNodeSck
()

109 ià(
m_cu¼’tNode
 && m_cu¼’tNod!ğ
m_doc
)

110 
m_cu¼’tNode
->
d”ef
();

111 
	gm_cu¼’tNode
 = 0;

113 ià(
	gm_cu¼’tNodeSck
.
size
()) {

114 
size_t
 
	gi
 = 
m_cu¼’tNodeSck
.
size
() - 1; i != 0; --i)

115 
	gm_cu¼’tNodeSck
[
i
]->
d”ef
();

116 ià(
	gm_cu¼’tNodeSck
[0] && m_cu¼’tNodeSck[0] !ğ
m_doc
)

117 
m_cu¼’tNodeSck
[0]->
d”ef
();

118 
	gm_cu¼’tNodeSck
.
ş—r
();

122 
	gXMLTok’iz”
::
wr™e
(cÚ¡ 
Segm’‹dSŒšg
& 
s
, 
boŞ
 )

124 
SŒšg
 
	g·r£SŒšg
 = 
s
.
toSŒšg
();

126 ià(
	gm_§wXSLT¿nsfÜm
 || !
	gm_§wFœ¡EËm’t
)

127 
	gm_Üigš®SourûFÜT¿nsfÜm
 +ğ
·r£SŒšg
;

129 ià(
	gm_·r£rStİ³d
 || 
	gm_§wXSLT¿nsfÜm
)

132 ià(
	gm_·r£rPau£d
) {

133 
	gm_³ndšgSrc
.
­³nd
(
s
);

137 
doWr™e
(
s
.
toSŒšg
());

140 
	gImageLßd”
::
di¥©chP’dšgBefÜeLßdEv’ts
();

143 
	gXMLTok’iz”
::
hªdËE¼Ü
(
E¼ÜTy³
 
ty³
, cÚ¡ * 
m
, 
lšeNumb”
, 
cŞumnNumb”
)

145 ià(
	gty³
 =ğ
çl
 || (
m_”rÜCouÁ
 < 
maxE¼Üs
 && 
m_Ï¡E¼ÜLše
 !ğ
lšeNumb”
 && 
m_Ï¡E¼ÜCŞumn
 !ğ
cŞumnNumb”
)) {

146 
ty³
) {

147 
w¬nšg
:

148 
m_”rÜMes§ges
 +ğ
SŒšg
::
fÜm©
("w¬nšg oÀlš%d‡ˆcŞumÀ%d: %s", 
lšeNumb”
, 
cŞumnNumb”
, 
m
);

150 
	gçl
:

151 
nÚF©®
:

152 
m_”rÜMes§ges
 +ğ
SŒšg
::
fÜm©
("”rÜ oÀlš%d‡ˆcŞumÀ%d: %s", 
lšeNumb”
, 
cŞumnNumb”
, 
m
);

155 
	gm_Ï¡E¼ÜLše
 = 
lšeNumb”
;

156 
	gm_Ï¡E¼ÜCŞumn
 = 
cŞumnNumb”
;

157 ++
	gm_”rÜCouÁ
;

160 ià(
	gty³
 !ğ
w¬nšg
)

161 
m_§wE¼Ü
 = 
Œue
;

163 ià(
	gty³
 =ğ
çl
)

164 
¡İP¬sšg
();

167 
boŞ
 
	gXMLTok’iz”
::
’‹rText
()

169 #ià!
USE
(
QXMLSTREAM
)

170 
ASSERT
(
m_bufã»dText
.
size
() == 0);

172 
	gRefPŒ
<
	gNode
> 
	gÃwNode
 = 
Text
::
ü—‹
(
m_doc
, "");

173 ià(!
	gm_cu¼’tNode
->
addChd
(
ÃwNode
.
g‘
()))

174  
	gçl£
;

175 
pushCu¼’tNode
(
ÃwNode
.
g‘
());

176  
	gŒue
;

179 #ià!
USE
(
QXMLSTREAM
)

180 
šlše
 
SŒšg
 
toSŒšg
(cÚ¡ 
xmlCh¬
* 
¡r
, 
Ën
)

182  
UTF8Encodšg
().
decode
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
¡r
), 
Ën
);

187 
	gXMLTok’iz”
::
ex™Text
()

189 ià(
m_·r£rStİ³d
)

192 ià(!
	gm_cu¼’tNode
 || !m_cu¼’tNode->
isTextNode
())

195 #ià!
USE
(
QXMLSTREAM
)

196 
Exû±iÚCode
 
	gec
 = 0;

197 
	g¡©ic_ÿ¡
<
	gText
*>(
	gm_cu¼’tNode
)->
­³ndD©a
(
toSŒšg
(
m_bufã»dText
.
d©a
(), m_bufã»dText.
size
()), 
ec
);

198 
	gVeùÜ
<
	gxmlCh¬
> 
	gem±y
;

199 
	gm_bufã»dText
.
sw­
(
em±y
);

202 ià(
	gm_v›w
 && 
	gm_cu¼’tNode
 && !m_cu¼’tNode->
©ched
())

203 
	gm_cu¼’tNode
->
©ch
();

205 
pİCu¼’tNode
();

208 
	gXMLTok’iz”
::
’d
()

210 
doEnd
();

213 ià(
	gm_·r£rPau£d
)

216 ià(
	gm_§wE¼Ü
)

217 
š£¹E¼ÜMes§geBlock
();

219 
ex™Text
();

220 
	gm_doc
->
upd©eStyËS–eùÜ
();

223 
ş—rCu¼’tNodeSck
();

224 ià(!
	gm_·rsšgF¿gm’t
)

225 
	gm_doc
->
fšishedP¬sšg
();

228 
	gXMLTok’iz”
::
fšish
()

230 ià(
m_·r£rPau£d
)

231 
m_fšishC®Ëd
 = 
Œue
;

233 
’d
();

236 
šlše
 
	gRefPŒ
<
	gEËm’t
> 
ü—‹XHTMLP¬£rE¼ÜH—d”
(
Docum’t
* 
doc
, cÚ¡ 
SŒšg
& 
”rÜMes§ges
)

238 
	gRefPŒ
<
	gEËm’t
> 
	g»pÜtEËm’t
 = 
doc
->
ü—‹EËm’t
(
Qu®if›dName
(
nuÎAtom
, "·r£»¼Ü", 
xhtmlName¥aûURI
), 
çl£
);

239 
	g»pÜtEËm’t
->
£tA‰ribu‹
(
¡yËA‰r
, "display: block; white-space:…re; border: 2px solid #c77;…adding: 0 1em 0 1em; margin: 1em; background-color: #fdd; color: black");

241 
Exû±iÚCode
 
	gec
 = 0;

242 
	gRefPŒ
<
	gEËm’t
> 
	gh3
 = 
doc
->
ü—‹EËm’t
(
h3Tag
, 
çl£
);

243 
	g»pÜtEËm’t
->
­³ndChd
(
h3
.
g‘
(), 
ec
);

244 
	gh3
->
­³ndChd
(
doc
->
ü—‹TextNode
("Thi ·gcÚš thfŞlowšgƒ¼Üs:"), 
ec
);

246 
	gRefPŒ
<
	gEËm’t
> 
	gfixed
 = 
doc
->
ü—‹EËm’t
(
divTag
, 
çl£
);

247 
	g»pÜtEËm’t
->
­³ndChd
(
fixed
.
g‘
(), 
ec
);

248 
	gfixed
->
£tA‰ribu‹
(
¡yËA‰r
, "font-family:monospace;font-size:12px");

249 
	gfixed
->
­³ndChd
(
doc
->
ü—‹TextNode
(
”rÜMes§ges
), 
ec
);

251 
	gh3
 = 
doc
->
ü—‹EËm’t
(
h3Tag
, 
çl£
);

252 
	g»pÜtEËm’t
->
­³ndChd
(
h3
.
g‘
(), 
ec
);

253 
	gh3
->
­³ndChd
(
doc
->
ü—‹TextNode
("B–ow i ¨»nd”šg oàth·gu°tØthfœ¡ƒ¼Ü."), 
ec
);

255  
	g»pÜtEËm’t
;

258 
	gXMLTok’iz”
::
š£¹E¼ÜMes§geBlock
()

260 #ià
USE
(
QXMLSTREAM
)

261 ià(
m_·rsšgF¿gm’t
)

269 
Exû±iÚCode
 
	gec
 = 0;

270 
Docum’t
* 
	gdoc
 = 
m_doc
;

271 
Node
* 
	gdocum’tEËm’t
 = 
doc
->
docum’tEËm’t
();

272 ià(!
	gdocum’tEËm’t
) {

273 
	gRefPŒ
<
	gNode
> 
	groÙEËm’t
 = 
doc
->
ü—‹EËm’t
(
htmlTag
, 
çl£
);

274 
	gdoc
->
­³ndChd
(
roÙEËm’t
, 
ec
);

275 
	gRefPŒ
<
	gNode
> 
	gbody
 = 
doc
->
ü—‹EËm’t
(
bodyTag
, 
çl£
);

276 
	groÙEËm’t
->
­³ndChd
(
body
, 
ec
);

277 
	gdocum’tEËm’t
 = 
body
.
g‘
();

279 #ià
ENABLE
(
SVG
)

280 ià(
	gdocum’tEËm’t
->
Çme¥aûURI
(è=ğ
SVGNames
::
svgName¥aûURI
) {

281 
RefPŒ
<
Node
> 
roÙEËm’t
 = 
doc
->
ü—‹EËm’t
(
htmlTag
, 
çl£
);

282 
	gRefPŒ
<
	gNode
> 
	gbody
 = 
doc
->
ü—‹EËm’t
(
bodyTag
, 
çl£
);

283 
	groÙEËm’t
->
­³ndChd
(
body
, 
ec
);

284 
	gbody
->
­³ndChd
(
docum’tEËm’t
, 
ec
);

285 
	gdoc
->
­³ndChd
(
roÙEËm’t
.
g‘
(), 
ec
);

286 
	gdocum’tEËm’t
 = 
body
.
g‘
();

289 #ià
ENABLE
(
WML
)

290 ià(
isWMLDocum’t
()) {

291 
	gRefPŒ
<
	gNode
> 
	groÙEËm’t
 = 
doc
->
ü—‹EËm’t
(
htmlTag
, 
çl£
);

292 
	gRefPŒ
<
	gNode
> 
	gbody
 = 
doc
->
ü—‹EËm’t
(
bodyTag
, 
çl£
);

293 
	groÙEËm’t
->
­³ndChd
(
body
, 
ec
);

294 
	gbody
->
­³ndChd
(
docum’tEËm’t
, 
ec
);

295 
	gdoc
->
­³ndChd
(
roÙEËm’t
.
g‘
(), 
ec
);

296 
	gdocum’tEËm’t
 = 
body
.
g‘
();

300 
	gRefPŒ
<
	gEËm’t
> 
	g»pÜtEËm’t
 = 
ü—‹XHTMLP¬£rE¼ÜH—d”
(
doc
, 
m_”rÜMes§ges
);

301 
	gdocum’tEËm’t
->
š£¹BefÜe
(
»pÜtEËm’t
, 
docum’tEËm’t
->
fœ¡Chd
(), 
ec
);

302 #ià
ENABLE
(
XSLT
)

303 ià(
	gdoc
->
ŒªsfÜmSourûDocum’t
()) {

304 
	gRefPŒ
<
	gEËm’t
> 
	g·r
 = 
doc
->
ü—‹EËm’t
(
pTag
, 
çl£
);

305 
	g»pÜtEËm’t
->
­³ndChd
(
·r
, 
ec
);

306 
	g·r
->
£tA‰ribu‹
(
¡yËA‰r
, "white-space:‚ormal");

307 
	g·r
->
­³ndChd
(
doc
->
ü—‹TextNode
("Thi docum’ˆwa ü—‹d‡ th»suÉ oàª XSL¿nsfÜm©iÚ. Thlšªd cŞumÀnumb” giv’‡» fromhŒªsfÜmed„esuÉ."), 
ec
);

310 
	gdoc
->
upd©eStyËIfN“ded
();

313 
	gXMLTok’iz”
::
nÙifyFšished
(
CachedResourû
* 
unu£dResourû
)

315 
ASSERT_UNUSED
(
unu£dResourû
, unu£dResourû =ğ
m_³ndšgSüt
);

316 
ASSERT
(
m_³ndšgSüt
->
acûssCouÁ
() > 0);

318 
SütSourûCode
 
sourûCode
(
m_³ndšgSüt
.
g‘
());

319 
boŞ
 
	g”rÜOccu¼ed
 = 
m_³ndšgSüt
->
”rÜOccu¼ed
();

321 
	gm_³ndšgSüt
->
»moveCl›Á
(
this
);

322 
	gm_³ndšgSüt
 = 0;

324 
	gRefPŒ
<
	gEËm’t
> 
	ge
 = 
m_sütEËm’t
;

325 
	gm_sütEËm’t
 = 0;

327 
SütEËm’t
* 
	gsütEËm’t
 = 
toSütEËm’t
(
e
.
g‘
());

328 
ASSERT
(
sütEËm’t
);

330 ià(
	g”rÜOccu¼ed
)

331 
	gsütEËm’t
->
di¥©chE¼ÜEv’t
();

333 
	gm_v›w
->
äame
()->
süt
()->
execu‹Süt
(
sourûCode
);

334 
	gsütEËm’t
->
di¥©chLßdEv’t
();

337 
	gm_sütEËm’t
 = 0;

339 ià(!
	gm_»que¡šgSüt
)

340 
»sumeP¬sšg
();

343 
boŞ
 
	gXMLTok’iz”
::
isWa™šgFÜSüts
() const

345  
m_³ndšgSüt
;

348 
	gXMLTok’iz”
::
·u£P¬sšg
()

350 ià(
m_·rsšgF¿gm’t
)

353 
	gm_·r£rPau£d
 = 
Œue
;

	@XMLTokenizer.h

25 #iâdeà
XMLTok’iz”_h


26 
	#XMLTok’iz”_h


	)

28 
	~"CachedResourûCl›Á.h
"

29 
	~"CachedResourûHªdË.h
"

30 
	~"M­³dA‰ribu‹EÁry.h
"

31 
	~"Segm’‹dSŒšg.h
"

32 
	~"SŒšgHash.h
"

33 
	~"Tok’iz”.h
"

34 
	~<wtf/HashM­.h
>

35 
	~<wtf/OwnPŒ.h
>

37 #ià
USE
(
QXMLSTREAM
)

38 
	~<qxml¡»am.h
>

40 
	~<libxml/Œ“.h
>

41 
	~<libxml/xml¡ršg.h
>

44 
Çme¥aû
 
	gWebCÜe
 {

46 
şass
 
	gNode
;

47 
şass
 
	gCachedSüt
;

48 
şass
 
	gDocLßd”
;

49 
şass
 
	gDocum’tF¿gm’t
;

50 
şass
 
	gDocum’t
;

51 
şass
 
	gEËm’t
;

52 
şass
 
	gF¿meV›w
;

53 
şass
 
	gP’dšgC®lbacks
;

54 
şass
 
	gSütEËm’t
;

56 #ià!
USE
(
QXMLSTREAM
)

57 
şass
 
	gXMLP¬£rCÚ‹xt
 : 
public
 
RefCouÁed
<
XMLP¬£rCÚ‹xt
> {

58 
public
:

59 
PassRefPŒ
<
XMLP¬£rCÚ‹xt
> 
ü—‹MemÜyP¬£r
(
xmlSAXHªdËrPŒ
, *, const *);

60 
	gPassRefPŒ
<
	gXMLP¬£rCÚ‹xt
> 
ü—‹SŒšgP¬£r
(
xmlSAXHªdËrPŒ
, *);

61 ~
XMLP¬£rCÚ‹xt
();

62 
xmlP¬£rCtxtPŒ
 
cÚ‹xt
(ècÚ¡ {  
	gm_cÚ‹xt
; }

64 
	g´iv©e
:

65 
XMLP¬£rCÚ‹xt
(
xmlP¬£rCtxtPŒ
 
cÚ‹xt
)

66 : 
m_cÚ‹xt
(
cÚ‹xt
)

69 
xmlP¬£rCtxtPŒ
 
m_cÚ‹xt
;

73 
şass
 
	gXMLTok’iz”
 : 
public
 
Tok’iz”
,…ubliø
	gCachedResourûCl›Á
 {

74 
	gpublic
:

75 
XMLTok’iz”
(
Docum’t
*, 
F¿meV›w
* = 0);

76 
XMLTok’iz”
(
Docum’tF¿gm’t
*, 
EËm’t
*, 
F¿gm’tSütšgP”missiÚ
);

77 ~
XMLTok’iz”
();

79 
	eE¼ÜTy³
 { 
	gw¬nšg
, 
	gnÚF©®
, 
	gçl
 };

82 
vœtu®
 
wr™e
(cÚ¡ 
Segm’‹dSŒšg
&, 
boŞ
 
­³ndD©a
);

83 
vœtu®
 
fšish
();

84 
vœtu®
 
boŞ
 
isWa™šgFÜSüts
() const;

85 
vœtu®
 
¡İP¬sšg
();

87 
’d
();

89 
·u£P¬sšg
();

90 
»sumeP¬sšg
();

92 
£tIsXHTMLDocum’t
(
boŞ
 
isXHTML
è{ 
	gm_isXHTMLDocum’t
 = isXHTML; }

93 
boŞ
 
isXHTMLDocum’t
(ècÚ¡ {  
	gm_isXHTMLDocum’t
; }

94 #ià
ENABLE
(
XHTMLMP
)

95 
£tIsXHTMLMPDocum’t
(
boŞ
 
isXHTML
è{ 
	gm_isXHTMLMPDocum’t
 = isXHTML; }

96 
boŞ
 
isXHTMLMPDocum’t
(ècÚ¡ {  
	gm_isXHTMLMPDocum’t
; }

98 #ià
ENABLE
(
WML
)

99 
boŞ
 
isWMLDocum’t
() const;

103 
vœtu®
 
nÙifyFšished
(
CachedResourû
* 
fšishedObj
);

106 
hªdËE¼Ü
(
E¼ÜTy³
 
ty³
, cÚ¡ * 
m
, 
lšeNumb”
, 
cŞumnNumb”
);

108 
vœtu®
 
boŞ
 
w–lFÜmed
(ècÚ¡ {  !
	gm_§wE¼Ü
; }

110 
lšeNumb”
() const;

111 
cŞumnNumb”
() const;

113 #ià
USE
(
QXMLSTREAM
)

114 
	g´iv©e
:

115 
·r£
();

116 
¡¬tDocum’t
();

117 
·r£S¹EËm’t
();

118 
·r£EndEËm’t
();

119 
·r£Ch¬aù”s
();

120 
·r£ProûssšgIn¡ruùiÚ
();

121 
·r£Cd©a
();

122 
·r£Comm’t
();

123 
’dDocum’t
();

124 
·r£Dtd
();

125 
boŞ
 
hasE¼Ü
() const;

127 
	gpublic
:

129 
”rÜ
(
E¼ÜTy³
, cÚ¡ * 
mes§ge
, 
va_li¡
 
¬gs
è
WTF_ATTRIBUTE_PRINTF
(3, 0);

130 
¡¬tEËm’tNs
(cÚ¡ 
xmlCh¬
* 
xmlLoÿlName
, cÚ¡ xmlCh¬* 
xmlP»fix
, cÚ¡ xmlCh¬* 
xmlURI
, 
nb_Çme¥aûs
,

131 cÚ¡ 
xmlCh¬
** 
Çme¥aûs
, 
nb_©Œibu‹s
, 
nb_deçuÉed
, cÚ¡ xmlCh¬** 
libxmlA‰ribu‹s
);

132 
’dEËm’tNs
();

133 
ch¬aù”s
(cÚ¡ 
xmlCh¬
* 
s
, 
Ën
);

134 
´oûssšgIn¡ruùiÚ
(cÚ¡ 
xmlCh¬
* 
rg‘
, cÚ¡ xmlCh¬* 
d©a
);

135 
cd©aBlock
(cÚ¡ 
xmlCh¬
* 
s
, 
Ën
);

136 
comm’t
(cÚ¡ 
xmlCh¬
* 
s
);

137 
¡¬tDocum’t
(cÚ¡ 
xmlCh¬
* 
v”siÚ
, cÚ¡ xmlCh¬* 
’codšg
, 
¡ªd®Úe
);

138 
š‹º®Sub£t
(cÚ¡ 
xmlCh¬
* 
Çme
, cÚ¡ xmlCh¬* 
ex‹º®ID
, cÚ¡ xmlCh¬* 
sy¡emID
);

139 
’dDocum’t
();

141 
	g´iv©e
:

142 
ä›nd
 
boŞ
 
·r£XMLDocum’tF¿gm’t
(cÚ¡ 
SŒšg
&, 
Docum’tF¿gm’t
*, 
EËm’t
*, 
F¿gm’tSütšgP”missiÚ
);

144 
š™ŸlizeP¬£rCÚ‹xt
(cÚ¡ * 
chunk
 = 0);

146 
pushCu¼’tNode
(
Node
*);

147 
pİCu¼’tNode
();

148 
ş—rCu¼’tNodeSck
();

150 
š£¹E¼ÜMes§geBlock
();

152 
boŞ
 
’‹rText
();

153 
ex™Text
();

155 
doWr™e
(cÚ¡ 
SŒšg
&);

156 
doEnd
();

158 
Docum’t
* 
	gm_doc
;

159 
F¿meV›w
* 
	gm_v›w
;

161 
SŒšg
 
	gm_Üigš®SourûFÜT¿nsfÜm
;

163 #ià
USE
(
QXMLSTREAM
)

164 
QXmlSŒ—mR—d”
 
	gm_¡»am
;

165 
boŞ
 
	gm_wrÙeText
;

167 
xmlP¬£rCtxtPŒ
 
cÚ‹xt
(ècÚ¡ {  
	gm_cÚ‹xt
 ? m_context->context() : 0; };

168 
	gRefPŒ
<
	gXMLP¬£rCÚ‹xt
> 
	gm_cÚ‹xt
;

169 
	gOwnPŒ
<
	gP’dšgC®lbacks
> 
	gm_³ndšgC®lbacks
;

170 
	gVeùÜ
<
	gxmlCh¬
> 
	gm_bufã»dText
;

172 
Node
* 
	gm_cu¼’tNode
;

173 
	gVeùÜ
<
	gNode
*> 
	gm_cu¼’tNodeSck
;

175 
boŞ
 
	gm_§wE¼Ü
;

176 
boŞ
 
	gm_§wXSLT¿nsfÜm
;

177 
boŞ
 
	gm_§wFœ¡EËm’t
;

178 
boŞ
 
	gm_isXHTMLDocum’t
;

179 #ià
ENABLE
(
XHTMLMP
)

180 
boŞ
 
	gm_isXHTMLMPDocum’t
;

181 
boŞ
 
	gm_hasDocTy³Deş¬©iÚ
;

184 
boŞ
 
	gm_·r£rPau£d
;

185 
boŞ
 
	gm_»que¡šgSüt
;

186 
boŞ
 
	gm_fšishC®Ëd
;

188 
	gm_”rÜCouÁ
;

189 
	gm_Ï¡E¼ÜLše
;

190 
	gm_Ï¡E¼ÜCŞumn
;

191 
SŒšg
 
	gm_”rÜMes§ges
;

193 
	gCachedResourûHªdË
<
	gCachedSüt
> 
	gm_³ndšgSüt
;

194 
	gRefPŒ
<
	gEËm’t
> 
	gm_sütEËm’t
;

195 
	gm_sütS¹Lše
;

197 
boŞ
 
	gm_·rsšgF¿gm’t
;

198 
SŒšg
 
	gm_deçuÉName¥aûURI
;

200 
	gHashM­
<
	tSŒšg
, SŒšg> 
	tP»fixFÜName¥aûM­
;

201 
P»fixFÜName¥aûM­
 
	gm_´efixToName¥aûM­
;

202 
Segm’‹dSŒšg
 
	gm_³ndšgSrc
;

203 
F¿gm’tSütšgP”missiÚ
 
	gm_sütšgP”missiÚ
;

206 #ià
ENABLE
(
XSLT
)

207 * 
xmlDocPŒFÜSŒšg
(
DocLßd”
*, cÚ¡ 
SŒšg
& 
sourû
, cÚ¡ SŒšg& 
u¾
);

210 
	gHashM­
<
	gSŒšg
, SŒšg> 
·r£A‰ribu‹s
(cÚ¡ 
SŒšg
&, 
boŞ
& 
©ŒsOK
);

211 
boŞ
 
·r£XMLDocum’tF¿gm’t
(cÚ¡ 
SŒšg
&, 
Docum’tF¿gm’t
*, 
EËm’t
* 
·»Á
 = 0, 
F¿gm’tSütšgP”missiÚ
 = 
F¿gm’tSütšgAÎowed
);

	@XMLTokenizerLibxml2.cpp

26 
	~"cÚfig.h
"

27 
	~"XMLTok’iz”.h
"

29 
	~"CDATASeùiÚ.h
"

30 
	~"CachedSüt.h
"

31 
	~"Comm’t.h
"

32 
	~"DocLßd”.h
"

33 
	~"Docum’t.h
"

34 
	~"Docum’tF¿gm’t.h
"

35 
	~"Docum’tTy³.h
"

36 
	~"F¿me.h
"

37 
	~"F¿meLßd”.h
"

38 
	~"F¿meV›w.h
"

39 
	~"HTMLLškEËm’t.h
"

40 
	~"HTMLStyËEËm’t.h
"

41 
	~"HTMLTok’iz”.h
"

42 
	~"ProûssšgIn¡ruùiÚ.h
"

43 
	~"ResourûE¼Ü.h
"

44 
	~"ResourûHªdË.h
"

45 
	~"ResourûReque¡.h
"

46 
	~"ResourûRe¥Ú£.h
"

47 
	~"SütCÚŒŞËr.h
"

48 
	~"SütEËm’t.h
"

49 
	~"SütSourûCode.h
"

50 
	~"SütV®ue.h
"

51 
	~"TextResourûDecod”.h
"

52 
	~"T¿nsfÜmSourû.h
"

53 
	~"XMLNSNames.h
"

54 
	~"XMLTok’iz”Scİe.h
"

55 
	~<libxml/·r£r.h
>

56 
	~<libxml/·r£rIÁ”Çls.h
>

57 
	~<wtf/‹xt/CSŒšg.h
>

58 
	~<wtf/SŒšgExŒas.h
>

59 
	~<wtf/Th»adšg.h
>

60 
	~<wtf/Unu£dP¬am.h
>

61 
	~<wtf/VeùÜ.h
>

63 #ià
ENABLE
(
XSLT
)

64 
	~<libx¦t/x¦t.h
>

67 #ià
ENABLE
(
XHTMLMP
)

68 
	~"HTMLNames.h
"

69 
	~"HTMLSütEËm’t.h
"

72 
usšg
 
Çme¥aû
 
	g¡d
;

74 
Çme¥aû
 
	gWebCÜe
 {

76 şas 
	cP’dšgC®lbacks
 : 
public
 
NÚcİyabË
 {

77 
public
:

78 ~
P’dšgC®lbacks
()

80 
d–‘eAÎV®ues
(
m_ÿÎbacks
);

83 
­³ndS¹EËm’tNSC®lback
(cÚ¡ 
xmlCh¬
* 
xmlLoÿlName
, cÚ¡ xmlCh¬* 
xmlP»fix
, cÚ¡ xmlCh¬* 
xmlURI
, 
nb_Çme¥aûs
,

84 cÚ¡ 
xmlCh¬
** 
Çme¥aûs
, 
nb_©Œibu‹s
, 
nb_deçuÉed
, cÚ¡ xmlCh¬** 
©Œibu‹s
)

86 
P’dšgS¹EËm’tNSC®lback
* 
	gÿÎback
 = 
Ãw
 PendingStartElementNSCallback;

88 
	gÿÎback
->
	gxmlLoÿlName
 = 
xmlSŒdup
(
xmlLoÿlName
);

89 
	gÿÎback
->
	gxmlP»fix
 = 
xmlSŒdup
(
xmlP»fix
);

90 
	gÿÎback
->
	gxmlURI
 = 
xmlSŒdup
(
xmlURI
);

91 
	gÿÎback
->
	gnb_Çme¥aûs
 = 
nb_Çme¥aûs
;

92 
	gÿÎback
->
	gÇme¥aûs
 = 
¡©ic_ÿ¡
<
xmlCh¬
**>(
xmlM®loc
((xmlCh¬*è* 
nb_Çme¥aûs
 * 2));

93 
	gi
 = 0; i < 
	gnb_Çme¥aûs
 * 2 ; i++)

94 
	gÿÎback
->
	gÇme¥aûs
[
i
] = 
xmlSŒdup
(
Çme¥aûs
[i]);

95 
	gÿÎback
->
	gnb_©Œibu‹s
 = 
nb_©Œibu‹s
;

96 
	gÿÎback
->
	gnb_deçuÉed
 = 
nb_deçuÉed
;

97 
	gÿÎback
->
	g©Œibu‹s
 = 
¡©ic_ÿ¡
<
xmlCh¬
**>(
xmlM®loc
((xmlCh¬*è* 
nb_©Œibu‹s
 * 5));

98 
	gi
 = 0; i < 
	gnb_©Œibu‹s
; i++) {

102 
	gj
 = 0; j < 3; j++)

103 
	gÿÎback
->
	g©Œibu‹s
[
i
 * 5 + 
j
] = 
xmlSŒdup
(
©Œibu‹s
[i * 5 + j]);

105 
	gËn
 = 
©Œibu‹s
[
i
 * 5 + 4] -‡ttributes[i * 5 + 3];

107 
	gÿÎback
->
	g©Œibu‹s
[
i
 * 5 + 3] = 
xmlSŒndup
(
©Œibu‹s
[˜* 5 + 3], 
Ën
);

108 
	gÿÎback
->
	g©Œibu‹s
[
i
 * 5 + 4] = 
ÿÎback
->
©Œibu‹s
[˜* 5 + 3] + 
Ën
;

111 
	gm_ÿÎbacks
.
­³nd
(
ÿÎback
);

114 
­³ndEndEËm’tNSC®lback
()

116 
P’dšgEndEËm’tNSC®lback
* 
	gÿÎback
 = 
Ãw
 PendingEndElementNSCallback;

118 
	gm_ÿÎbacks
.
­³nd
(
ÿÎback
);

121 
­³ndCh¬aù”sC®lback
(cÚ¡ 
xmlCh¬
* 
s
, 
Ën
)

123 
P’dšgCh¬aù”sC®lback
* 
	gÿÎback
 = 
Ãw
 PendingCharactersCallback;

125 
	gÿÎback
->
	gs
 = 
xmlSŒndup
(
s
, 
Ën
);

126 
	gÿÎback
->
	gËn
 = 
Ën
;

128 
	gm_ÿÎbacks
.
­³nd
(
ÿÎback
);

131 
­³ndProûssšgIn¡ruùiÚC®lback
(cÚ¡ 
xmlCh¬
* 
rg‘
, cÚ¡ xmlCh¬* 
d©a
)

133 
P’dšgProûssšgIn¡ruùiÚC®lback
* 
	gÿÎback
 = 
Ãw
 PendingProcessingInstructionCallback;

135 
	gÿÎback
->
	grg‘
 = 
xmlSŒdup
(
rg‘
);

136 
	gÿÎback
->
	gd©a
 = 
xmlSŒdup
(
d©a
);

138 
	gm_ÿÎbacks
.
­³nd
(
ÿÎback
);

141 
­³ndCDATABlockC®lback
(cÚ¡ 
xmlCh¬
* 
s
, 
Ën
)

143 
P’dšgCDATABlockC®lback
* 
	gÿÎback
 = 
Ãw
 PendingCDATABlockCallback;

145 
	gÿÎback
->
	gs
 = 
xmlSŒndup
(
s
, 
Ën
);

146 
	gÿÎback
->
	gËn
 = 
Ën
;

148 
	gm_ÿÎbacks
.
­³nd
(
ÿÎback
);

151 
­³ndComm’tC®lback
(cÚ¡ 
xmlCh¬
* 
s
)

153 
P’dšgComm’tC®lback
* 
	gÿÎback
 = 
Ãw
 PendingCommentCallback;

155 
	gÿÎback
->
	gs
 = 
xmlSŒdup
(
s
);

157 
	gm_ÿÎbacks
.
­³nd
(
ÿÎback
);

160 
­³ndIÁ”ÇlSub£tC®lback
(cÚ¡ 
xmlCh¬
* 
Çme
, cÚ¡ xmlCh¬* 
ex‹º®ID
, cÚ¡ xmlCh¬* 
sy¡emID
)

162 
P’dšgIÁ”ÇlSub£tC®lback
* 
	gÿÎback
 = 
Ãw
 PendingInternalSubsetCallback;

164 
	gÿÎback
->
	gÇme
 = 
xmlSŒdup
(
Çme
);

165 
	gÿÎback
->
	gex‹º®ID
 = 
xmlSŒdup
(
ex‹º®ID
);

166 
	gÿÎback
->
	gsy¡emID
 = 
xmlSŒdup
(
sy¡emID
);

168 
	gm_ÿÎbacks
.
­³nd
(
ÿÎback
);

171 
­³ndE¼ÜC®lback
(
XMLTok’iz”
::
E¼ÜTy³
 
ty³
, cÚ¡ 
xmlCh¬
* 
mes§ge
, 
lšeNumb”
, 
cŞumnNumb”
)

173 
P’dšgE¼ÜC®lback
* 
	gÿÎback
 = 
Ãw
 PendingErrorCallback;

175 
	gÿÎback
->
	gmes§ge
 = 
xmlSŒdup
(
mes§ge
);

176 
	gÿÎback
->
	gty³
 = 
ty³
;

177 
	gÿÎback
->
	glšeNumb”
 = 
lšeNumb”
;

178 
	gÿÎback
->
	gcŞumnNumb”
 = 
cŞumnNumb”
;

180 
	gm_ÿÎbacks
.
­³nd
(
ÿÎback
);

183 
ÿÎAndRemoveFœ¡C®lback
(
XMLTok’iz”
* 
tok’iz”
)

185 
	gOwnPŒ
<
	gP’dšgC®lback
> 
ÿÎback
(
m_ÿÎbacks
.
fœ¡
());

186 
	gm_ÿÎbacks
.
»moveFœ¡
();

187 
	gÿÎback
->
ÿÎ
(
tok’iz”
);

190 
boŞ
 
isEm±y
(ècÚ¡ {  
	gm_ÿÎbacks
.isEmpty(); }

192 
	g´iv©e
:

193 
	sP’dšgC®lback
 {

194 
vœtu®
 ~
P’dšgC®lback
() { }

195 
vœtu®
 
ÿÎ
(
XMLTok’iz”
* 
tok’iz”
) = 0;

198 
	gP’dšgS¹EËm’tNSC®lback
 : 
public
 
P’dšgC®lback
 {

199 
vœtu®
 ~
P’dšgS¹EËm’tNSC®lback
()

201 
xmlF»e
(
xmlLoÿlName
);

202 
xmlF»e
(
xmlP»fix
);

203 
xmlF»e
(
xmlURI
);

204 
	gi
 = 0; i < 
	gnb_Çme¥aûs
 * 2; i++)

205 
xmlF»e
(
Çme¥aûs
[
i
]);

206 
xmlF»e
(
Çme¥aûs
);

207 
	gi
 = 0; i < 
	gnb_©Œibu‹s
; i++)

208 
	gj
 = 0; j < 4; j++)

209 
xmlF»e
(
©Œibu‹s
[
i
 * 5 + 
j
]);

210 
xmlF»e
(
©Œibu‹s
);

213 
vœtu®
 
ÿÎ
(
XMLTok’iz”
* 
tok’iz”
)

215 
	gtok’iz”
->
¡¬tEËm’tNs
(
xmlLoÿlName
, 
xmlP»fix
, 
xmlURI
,

216 
nb_Çme¥aûs
, 
cÚ¡_ÿ¡
<cÚ¡ 
xmlCh¬
**>(
Çme¥aûs
),

217 
nb_©Œibu‹s
, 
nb_deçuÉed
, 
cÚ¡_ÿ¡
<cÚ¡ 
xmlCh¬
**>(
©Œibu‹s
));

220 
xmlCh¬
* 
	gxmlLoÿlName
;

221 
xmlCh¬
* 
	gxmlP»fix
;

222 
xmlCh¬
* 
	gxmlURI
;

223 
	gnb_Çme¥aûs
;

224 
xmlCh¬
** 
	gÇme¥aûs
;

225 
	gnb_©Œibu‹s
;

226 
	gnb_deçuÉed
;

227 
xmlCh¬
** 
	g©Œibu‹s
;

230 
	gP’dšgEndEËm’tNSC®lback
 : 
public
 
P’dšgC®lback
 {

231 
vœtu®
 
ÿÎ
(
XMLTok’iz”
* 
tok’iz”
)

233 
tok’iz”
->
’dEËm’tNs
();

237 
	gP’dšgCh¬aù”sC®lback
 : 
public
 
P’dšgC®lback
 {

238 
vœtu®
 ~
P’dšgCh¬aù”sC®lback
()

240 
xmlF»e
(
s
);

243 
vœtu®
 
ÿÎ
(
XMLTok’iz”
* 
tok’iz”
)

245 
	gtok’iz”
->
ch¬aù”s
(
s
, 
Ën
);

248 
xmlCh¬
* 
	gs
;

249 
	gËn
;

252 
	gP’dšgProûssšgIn¡ruùiÚC®lback
 : 
public
 
P’dšgC®lback
 {

253 
vœtu®
 ~
P’dšgProûssšgIn¡ruùiÚC®lback
()

255 
xmlF»e
(
rg‘
);

256 
xmlF»e
(
d©a
);

259 
vœtu®
 
ÿÎ
(
XMLTok’iz”
* 
tok’iz”
)

261 
	gtok’iz”
->
´oûssšgIn¡ruùiÚ
(
rg‘
, 
d©a
);

264 
xmlCh¬
* 
	grg‘
;

265 
xmlCh¬
* 
	gd©a
;

268 
	gP’dšgCDATABlockC®lback
 : 
public
 
P’dšgC®lback
 {

269 
vœtu®
 ~
P’dšgCDATABlockC®lback
()

271 
xmlF»e
(
s
);

274 
vœtu®
 
ÿÎ
(
XMLTok’iz”
* 
tok’iz”
)

276 
	gtok’iz”
->
cd©aBlock
(
s
, 
Ën
);

279 
xmlCh¬
* 
	gs
;

280 
	gËn
;

283 
	gP’dšgComm’tC®lback
 : 
public
 
P’dšgC®lback
 {

284 
vœtu®
 ~
P’dšgComm’tC®lback
()

286 
xmlF»e
(
s
);

289 
vœtu®
 
ÿÎ
(
XMLTok’iz”
* 
tok’iz”
)

291 
	gtok’iz”
->
comm’t
(
s
);

294 
xmlCh¬
* 
	gs
;

297 
	gP’dšgIÁ”ÇlSub£tC®lback
 : 
public
 
P’dšgC®lback
 {

298 
vœtu®
 ~
P’dšgIÁ”ÇlSub£tC®lback
()

300 
xmlF»e
(
Çme
);

301 
xmlF»e
(
ex‹º®ID
);

302 
xmlF»e
(
sy¡emID
);

305 
vœtu®
 
ÿÎ
(
XMLTok’iz”
* 
tok’iz”
)

307 
	gtok’iz”
->
š‹º®Sub£t
(
Çme
, 
ex‹º®ID
, 
sy¡emID
);

310 
xmlCh¬
* 
	gÇme
;

311 
xmlCh¬
* 
	gex‹º®ID
;

312 
xmlCh¬
* 
	gsy¡emID
;

315 
	gP’dšgE¼ÜC®lback
: 
public
 
P’dšgC®lback
 {

316 
vœtu®
 ~
P’dšgE¼ÜC®lback
()

318 
xmlF»e
(
mes§ge
);

321 
vœtu®
 
ÿÎ
(
XMLTok’iz”
* 
tok’iz”
)

323 
	gtok’iz”
->
hªdËE¼Ü
(
ty³
, 
»š‹½»t_ÿ¡
<*>(
mes§ge
), 
lšeNumb”
, 
cŞumnNumb”
);

326 
	gXMLTok’iz”
::
E¼ÜTy³
 
ty³
;

327 
xmlCh¬
* 
	gmes§ge
;

328 
	glšeNumb”
;

329 
	gcŞumnNumb”
;

332 
	gDeque
<
	gP’dšgC®lback
*> 
	gm_ÿÎbacks
;

336 
	gglob®DesütÜ
 = 0;

337 
Th»adId’tif›r
 
	glibxmlLßd”Th»ad
 = 0;

339 
	$m©chFunc
(const *)

343  
XMLTok’iz”Scİe
::
cu¼’tDocLßd”
 && 
	`cu¼’tTh»ad
(è=ğ
libxmlLßd”Th»ad
;

344 
	}
}

346 şas 
	cOff£tBufãr
 {

347 
	gpublic
:

348 
Off£tBufãr
(cÚ¡ 
VeùÜ
<>& 
b
è: 
m_bufãr
(b), 
m_cu¼’tOff£t
(0) { }

350 
»adOutBy‹s
(* 
ouutBufãr
, 
askedToR—d
)

352 
	gby‹sLeá
 = 
m_bufãr
.
size
(è- 
m_cu¼’tOff£t
;

353 
	gËnToCİy
 = 
mš
(
askedToR—d
, 
by‹sLeá
);

354 ià(
	gËnToCİy
) {

355 
memıy
(
ouutBufãr
, 
m_bufãr
.
d©a
(è+ 
m_cu¼’tOff£t
, 
ËnToCİy
);

356 
	gm_cu¼’tOff£t
 +ğ
ËnToCİy
;

358  
	gËnToCİy
;

361 
	g´iv©e
:

362 
VeùÜ
<> 
m_bufãr
;

363 
	gm_cu¼’tOff£t
;

366 
boŞ
 
	$shouldAÎowEx‹º®Lßd
(cÚ¡ 
KURL
& 
u¾
)

368 
SŒšg
 
u¾SŒšg
 = 
u¾
.
	`¡ršg
();

372 ià(
u¾SŒšg
 == "file:///etc/xml/catalog")

373  
çl£
;

376 ià(
u¾SŒšg
.
	`¡¬tsW™h
("fe:///", 
çl£
è&& u¾SŒšg.
	`’dsW™h
("/etc/catalog", false))

377  
çl£
;

381 ià(
u¾SŒšg
.
	`¡¬tsW™h
("h‰p://www.w3.Üg/TR/xhtml", 
çl£
))

382  
çl£
;

385 ià(
u¾SŒšg
.
	`¡¬tsW™h
("h‰p://www.w3.Üg/G¿phics/SVG", 
çl£
))

386  
çl£
;

394 ià(!
XMLTok’iz”Scİe
::
cu¼’tDocLßd”
->
	`doc
()->
	`£cur™yOrigš
()->
	`ÿnReque¡
(
u¾
)) {

395 
XMLTok’iz”Scİe
::
cu¼’tDocLßd”
->
	`´štAcûssD’›dMes§ge
(
u¾
);

396  
çl£
;

399  
Œue
;

400 
	}
}

402 * 
	$İ’Func
(cÚ¡ * 
uri
)

404 
	`ASSERT
(
XMLTok’iz”Scİe
::
cu¼’tDocLßd”
);

405 
	`ASSERT
(
	`cu¼’tTh»ad
(è=ğ
libxmlLßd”Th»ad
);

407 
KURL
 
	`u¾
(
	`KURL
(), 
uri
);

409 ià(!
	`shouldAÎowEx‹º®Lßd
(
u¾
))

410  &
glob®DesütÜ
;

412 
ResourûE¼Ü
 
”rÜ
;

413 
ResourûRe¥Ú£
 
»¥Ú£
;

414 
VeùÜ
<> 
d©a
;

418 
DocLßd”
* 
docLßd”
 = 
XMLTok’iz”Scİe
::
cu¼’tDocLßd”
;

419 
XMLTok’iz”Scİe
 
	`scİe
(0);

422 ià(
docLßd”
->
	`äame
())

423 
docLßd”
->
	`äame
()->
	`lßd”
()->
	`lßdResourûSynchrÚou¦y
(
u¾
, 
AÎowStÜedC»d’tŸls
, 
”rÜ
, 
»¥Ú£
, 
d©a
);

428 ià(!
	`shouldAÎowEx‹º®Lßd
(
»¥Ú£
.
	`u¾
()))

429  &
glob®DesütÜ
;

431  
Ãw
 
	`Off£tBufãr
(
d©a
);

432 
	}
}

434 
	$»adFunc
(* 
cÚ‹xt
, * 
bufãr
, 
Ën
)

437 ià(
cÚ‹xt
 =ğ&
glob®DesütÜ
)

440 
Off£tBufãr
* 
d©a
 = 
¡©ic_ÿ¡
<Off£tBufãr*>(
cÚ‹xt
);

441  
d©a
->
	`»adOutBy‹s
(
bufãr
, 
Ën
);

442 
	}
}

444 
	$wr™eFunc
(*, const *, )

448 
	}
}

450 
	$şo£Func
(* 
cÚ‹xt
)

452 ià(
cÚ‹xt
 !ğ&
glob®DesütÜ
) {

453 
Off£tBufãr
* 
d©a
 = 
¡©ic_ÿ¡
<Off£tBufãr*>(
cÚ‹xt
);

454 
d–‘e
 
d©a
;

457 
	}
}

459 #ià
	$ENABLE
(
XSLT
)

460 
	$”rÜFunc
(*, const *, ...)

463 
	}
}

466 
boŞ
 
	gdidIn™
 = 
çl£
;

468 
	gPassRefPŒ
<
	gXMLP¬£rCÚ‹xt
> XMLP¬£rCÚ‹xt::
	$ü—‹SŒšgP¬£r
(
xmlSAXHªdËrPŒ
 
hªdËrs
, * 
u£rD©a
)

470 ià(!
didIn™
) {

471 
	`xmlIn™P¬£r
();

472 
	`xmlRegi¡”IÅutC®lbacks
(
m©chFunc
, 
İ’Func
, 
»adFunc
, 
şo£Func
);

473 
	`xmlRegi¡”OuutC®lbacks
(
m©chFunc
, 
İ’Func
, 
wr™eFunc
, 
şo£Func
);

474 
libxmlLßd”Th»ad
 = 
	`cu¼’tTh»ad
();

475 
didIn™
 = 
Œue
;

478 
xmlP¬£rCtxtPŒ
 
·r£r
 = 
	`xmlC»©ePushP¬£rCtxt
(
hªdËrs
, 0, 0, 0, 0);

479 
·r£r
->
_´iv©e
 = 
u£rD©a
;

480 
·r£r
->
»¶aûEÁ™›s
 = 
Œue
;

481 cÚ¡ 
UCh¬
 
BOM
 = 0xFEFF;

482 cÚ¡ 
BOMHighBy‹
 = *
»š‹½»t_ÿ¡
<cÚ¡ *>(&
BOM
);

483 
	`xmlSw™chEncodšg
(
·r£r
, 
BOMHighBy‹
 =ğ0xFF ? 
XML_CHAR_ENCODING_UTF16LE
 : 
XML_CHAR_ENCODING_UTF16BE
);

485  
	`adİtRef
(
Ãw
 
	`XMLP¬£rCÚ‹xt
(
·r£r
));

486 
	}
}

490 
	gPassRefPŒ
<
	gXMLP¬£rCÚ‹xt
> XMLP¬£rCÚ‹xt::
	$ü—‹MemÜyP¬£r
(
xmlSAXHªdËrPŒ
 
hªdËrs
, * 
u£rD©a
, cÚ¡ * 
chunk
)

492 ià(!
didIn™
) {

493 
	`xmlIn™P¬£r
();

494 
	`xmlRegi¡”IÅutC®lbacks
(
m©chFunc
, 
İ’Func
, 
»adFunc
, 
şo£Func
);

495 
	`xmlRegi¡”OuutC®lbacks
(
m©chFunc
, 
İ’Func
, 
wr™eFunc
, 
şo£Func
);

496 
libxmlLßd”Th»ad
 = 
	`cu¼’tTh»ad
();

497 
didIn™
 = 
Œue
;

500 
xmlP¬£rCtxtPŒ
 
·r£r
 = 
	`xmlC»©eMemÜyP¬£rCtxt
(
chunk
, 
	`xmlSŒËn
((cÚ¡ 
xmlCh¬
*)chunk));

502 ià(!
·r£r
)

506 
	`memıy
(
·r£r
->
§x
, 
hªdËrs
, (
xmlSAXHªdËr
));

511 
	`xmlCtxtU£O±iÚs
(
·r£r
, 
XML_PARSE_NODICT
 | 
XML_PARSE_NOENT
);

514 
·r£r
->
§x2
 = 1;

515 
·r£r
->
š¡©e
 = 
XML_PARSER_CONTENT
;

516 
·r£r
->
d•th
 = 0;

517 
·r£r
->
¡r_xml
 = 
	`xmlDiùLookup
Õ¬£r->
diù
, 
BAD_CAST
 "xml", 3);

518 
·r£r
->
¡r_xmÊs
 = 
	`xmlDiùLookup
Õ¬£r->
diù
, 
BAD_CAST
 "xmlns", 5);

519 
·r£r
->
¡r_xml_ns
 = 
	`xmlDiùLookup
Õ¬£r->
diù
, 
XML_XML_NAMESPACE
, 36);

520 
·r£r
->
_´iv©e
 = 
u£rD©a
;

522  
	`adİtRef
(
Ãw
 
	`XMLP¬£rCÚ‹xt
(
·r£r
));

523 
	}
}

527 
	gXMLTok’iz”
::
	$XMLTok’iz”
(
Docum’t
* 
_doc
, 
F¿meV›w
* 
_v›w
)

528 : 
	`m_doc
(
_doc
)

529 , 
	`m_v›w
(
_v›w
)

530 , 
	`m_cÚ‹xt
(0)

531 , 
	`m_³ndšgC®lbacks
(
Ãw
 
P’dšgC®lbacks
)

532 , 
	`m_cu¼’tNode
(
_doc
)

533 , 
	`m_§wE¼Ü
(
çl£
)

534 , 
	`m_§wXSLT¿nsfÜm
(
çl£
)

535 , 
	`m_§wFœ¡EËm’t
(
çl£
)

536 , 
	$m_isXHTMLDocum’t
(
çl£
)

537 #ià
	`ENABLE
(
XHTMLMP
)

538 , 
	`m_isXHTMLMPDocum’t
(
çl£
)

539 , 
	$m_hasDocTy³Deş¬©iÚ
(
çl£
)

541 , 
	`m_·r£rPau£d
(
çl£
)

542 , 
	`m_»que¡šgSüt
(
çl£
)

543 , 
	`m_fšishC®Ëd
(
çl£
)

544 , 
	`m_”rÜCouÁ
(0)

545 , 
	`m_Ï¡E¼ÜLše
(0)

546 , 
	`m_Ï¡E¼ÜCŞumn
(0)

547 , 
	`m_³ndšgSüt
(0)

548 , 
	`m_sütS¹Lše
(0)

549 , 
	`m_·rsšgF¿gm’t
(
çl£
)

550 , 
	$m_sütšgP”missiÚ
(
F¿gm’tSütšgAÎowed
)

552 
	}
}

554 
	gXMLTok’iz”
::
	$XMLTok’iz”
(
Docum’tF¿gm’t
* 
äagm’t
, 
EËm’t
* 
·»ÁEËm’t
, 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

555 : 
	`m_doc
(
äagm’t
->
	`docum’t
())

556 , 
	`m_v›w
(0)

557 , 
	`m_cÚ‹xt
(0)

558 , 
	`m_³ndšgC®lbacks
(
Ãw
 
P’dšgC®lbacks
)

559 , 
	`m_cu¼’tNode
(
äagm’t
)

560 , 
	`m_§wE¼Ü
(
çl£
)

561 , 
	`m_§wXSLT¿nsfÜm
(
çl£
)

562 , 
	`m_§wFœ¡EËm’t
(
çl£
)

563 , 
	$m_isXHTMLDocum’t
(
çl£
)

564 #ià
	`ENABLE
(
XHTMLMP
)

565 , 
	`m_isXHTMLMPDocum’t
(
çl£
)

566 , 
	$m_hasDocTy³Deş¬©iÚ
(
çl£
)

568 , 
	`m_·r£rPau£d
(
çl£
)

569 , 
	`m_»que¡šgSüt
(
çl£
)

570 , 
	`m_fšishC®Ëd
(
çl£
)

571 , 
	`m_”rÜCouÁ
(0)

572 , 
	`m_Ï¡E¼ÜLše
(0)

573 , 
	`m_Ï¡E¼ÜCŞumn
(0)

574 , 
	`m_³ndšgSüt
(0)

575 , 
	`m_sütS¹Lše
(0)

576 , 
	`m_·rsšgF¿gm’t
(
Œue
)

577 , 
	$m_sütšgP”missiÚ
(
sütšgP”missiÚ
)

579 
äagm’t
->
	`»f
();

580 ià(
m_doc
)

581 
m_doc
->
	`»f
();

584 
VeùÜ
<
EËm’t
*> 
–emSck
;

585 
·»ÁEËm’t
) {

586 
–emSck
.
	`­³nd
(
·»ÁEËm’t
);

588 
Node
* 
n
 = 
·»ÁEËm’t
->
	`·»ÁNode
();

589 ià(!
n
 || !n->
	`isEËm’tNode
())

591 
·»ÁEËm’t
 = 
¡©ic_ÿ¡
<
EËm’t
*>(
n
);

594 ià(
–emSck
.
	`isEm±y
())

597 
EËm’t
* 
–em’t
 = 
–emSck
.
	`Ï¡
(); !–emSck.
	`isEm±y
();ƒËmSck.
	`»moveLa¡
()) {

598 ià(
NamedNodeM­
* 
©Œs
 = 
–em’t
->
	`©Œibu‹s
()) {

599 
i
 = 0; i < 
©Œs
->
	`Ëngth
(); i++) {

600 
A‰ribu‹
* 
©Œ
 = 
©Œs
->
	`©Œibu‹I‹m
(
i
);

601 ià(
©Œ
->
	`loÿlName
(è=ğ
xmÊsAtom
)

602 
m_deçuÉName¥aûURI
 = 
©Œ
->
	`v®ue
();

603 ià(
©Œ
->
	`´efix
(è=ğ
xmÊsAtom
)

604 
m_´efixToName¥aûM­
.
	`£t
(
©Œ
->
	`loÿlName
(),‡‰r->
	`v®ue
());

610 ià(
m_deçuÉName¥aûURI
.
	`isNuÎ
(è&& !
·»ÁEËm’t
->
	`šDocum’t
())

611 
m_deçuÉName¥aûURI
 = 
·»ÁEËm’t
->
	`Çme¥aûURI
();

612 
	}
}

614 
	gXMLP¬£rCÚ‹xt
::~
	$XMLP¬£rCÚ‹xt
()

616 ià(
m_cÚ‹xt
->
myDoc
)

617 
	`xmlF»eDoc
(
m_cÚ‹xt
->
myDoc
);

618 
	`xmlF»eP¬£rCtxt
(
m_cÚ‹xt
);

619 
	}
}

621 
	gXMLTok’iz”
::~
	$XMLTok’iz”
()

623 
	`ş—rCu¼’tNodeSck
();

624 ià(
m_·rsšgF¿gm’t
 && 
m_doc
)

625 
m_doc
->
	`d”ef
();

626 ià(
m_³ndšgSüt
)

627 
m_³ndšgSüt
->
	`»moveCl›Á
(
this
);

628 
	}
}

630 
	gXMLTok’iz”
::
	$doWr™e
(cÚ¡ 
SŒšg
& 
·r£SŒšg
)

632 ià(!
m_cÚ‹xt
)

633 
	`š™ŸlizeP¬£rCÚ‹xt
();

636 
RefPŒ
<
XMLP¬£rCÚ‹xt
> 
cÚ‹xt
 = 
m_cÚ‹xt
;

639 ià(
·r£SŒšg
.
	`Ëngth
()) {

644 cÚ¡ 
UCh¬
 
BOM
 = 0xFEFF;

645 cÚ¡ 
BOMHighBy‹
 = *
»š‹½»t_ÿ¡
<cÚ¡ *>(&
BOM
);

646 
	`xmlSw™chEncodšg
(
cÚ‹xt
->
	`cÚ‹xt
(), 
BOMHighBy‹
 =ğ0xFF ? 
XML_CHAR_ENCODING_UTF16LE
 : 
XML_CHAR_ENCODING_UTF16BE
);

648 
XMLTok’iz”Scİe
 
	`scİe
(
m_doc
->
	`docLßd”
());

649 
	`xmlP¬£Chunk
(
cÚ‹xt
->
	`cÚ‹xt
(), 
»š‹½»t_ÿ¡
<cÚ¡ *>(
·r£SŒšg
.
	`ch¬aù”s
()), (
UCh¬
è*…¬£SŒšg.
	`Ëngth
(), 0);

652 ià(
m_doc
->
	`decod”
(è&& m_doc->decod”()->
	`§wE¼Ü
()) {

654 
	`hªdËE¼Ü
(
çl
, "Encodšgƒ¼Ü", 
cÚ‹xt
->
	`cÚ‹xt
()->
šput
->
lše
, cÚ‹xt->cÚ‹xt()->šput->
cŞ
);

658 
	}
}

660 
šlše
 
SŒšg
 
	$toSŒšg
(cÚ¡ 
xmlCh¬
* 
¡r
, 
Ën
)

662  
	`UTF8Encodšg
().
	`decode
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
¡r
), 
Ën
);

663 
	}
}

665 
šlše
 
SŒšg
 
	$toSŒšg
(cÚ¡ 
xmlCh¬
* 
¡r
)

667 ià(!
¡r
)

668  
	`SŒšg
();

670  
	`UTF8Encodšg
().
	`decode
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
¡r
), 
	`¡¾’
(reinterpret_cast<const *>(str)));

671 
	}
}

673 
	s_xmlSAX2Name¥aû
 {

674 cÚ¡ 
xmlCh¬
* 
	g´efix
;

675 cÚ¡ 
xmlCh¬
* 
	guri
;

677 
_xmlSAX2Name¥aû
 
	txmlSAX2Name¥aû
;

679 
šlše
 
	$hªdËEËm’tName¥aûs
(
EËm’t
* 
ÃwEËm’t
, cÚ¡ 
xmlCh¬
** 
libxmlName¥aûs
, 
nb_Çme¥aûs
, 
Exû±iÚCode
& 
ec
, 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

681 
xmlSAX2Name¥aû
* 
Çme¥aûs
 = 
»š‹½»t_ÿ¡
<xmlSAX2Name¥aû*>(
libxmlName¥aûs
);

682 
i
 = 0; i < 
nb_Çme¥aûs
; i++) {

683 
AtomicSŒšg
 
Çme¥aûQName
 = 
xmÊsAtom
;

684 
SŒšg
 
Çme¥aûURI
 = 
	`toSŒšg
(
Çme¥aûs
[
i
].
uri
);

685 ià(
Çme¥aûs
[
i
].
´efix
)

686 
Çme¥aûQName
 = "xmÊs:" + 
	`toSŒšg
(
Çme¥aûs
[
i
].
´efix
);

687 
ÃwEËm’t
->
	`£tA‰ribu‹NS
(
XMLNSNames
::
xmÊsName¥aûURI
, 
Çme¥aûQName
, 
Çme¥aûURI
, 
ec
, 
sütšgP”missiÚ
);

688 ià(
ec
)

691 
	}
}

693 
	s_xmlSAX2A‰ribu‹s
 {

694 cÚ¡ 
xmlCh¬
* 
	gloÿÊame
;

695 cÚ¡ 
xmlCh¬
* 
	g´efix
;

696 cÚ¡ 
xmlCh¬
* 
	guri
;

697 cÚ¡ 
xmlCh¬
* 
	gv®ue
;

698 cÚ¡ 
xmlCh¬
* 
	g’d
;

700 
_xmlSAX2A‰ribu‹s
 
	txmlSAX2A‰ribu‹s
;

702 
šlše
 
	$hªdËEËm’tA‰ribu‹s
(
EËm’t
* 
ÃwEËm’t
, cÚ¡ 
xmlCh¬
** 
libxmlA‰ribu‹s
, 
nb_©Œibu‹s
, 
Exû±iÚCode
& 
ec
, 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

704 
xmlSAX2A‰ribu‹s
* 
©Œibu‹s
 = 
»š‹½»t_ÿ¡
<xmlSAX2A‰ribu‹s*>(
libxmlA‰ribu‹s
);

705 
i
 = 0; i < 
nb_©Œibu‹s
; i++) {

706 
SŒšg
 
©ŒLoÿlName
 = 
	`toSŒšg
(
©Œibu‹s
[
i
].
loÿÊame
);

707 
v®ueL’gth
 = (è(
©Œibu‹s
[
i
].
’d
 -‡‰ribu‹s[i].
v®ue
);

708 
SŒšg
 
©ŒV®ue
 = 
	`toSŒšg
(
©Œibu‹s
[
i
].
v®ue
, 
v®ueL’gth
);

709 
SŒšg
 
©ŒP»fix
 = 
	`toSŒšg
(
©Œibu‹s
[
i
].
´efix
);

710 
SŒšg
 
©ŒURI
 = 
©ŒP»fix
.
	`isEm±y
(è? 
	`SŒšg
(è: 
	`toSŒšg
(
©Œibu‹s
[
i
].
uri
);

711 
SŒšg
 
©ŒQName
 = 
©ŒP»fix
.
	`isEm±y
(è? 
©ŒLoÿlName
 :‡ttrPrefix + ":" +‡ttrLocalName;

713 
ÃwEËm’t
->
	`£tA‰ribu‹NS
(
©ŒURI
, 
©ŒQName
, 
©ŒV®ue
, 
ec
, 
sütšgP”missiÚ
);

714 ià(
ec
)

717 
	}
}

719 
	gXMLTok’iz”
::
	$¡¬tEËm’tNs
(cÚ¡ 
xmlCh¬
* 
xmlLoÿlName
, cÚ¡ xmlCh¬* 
xmlP»fix
, cÚ¡ xmlCh¬* 
xmlURI
, 
nb_Çme¥aûs
,

720 cÚ¡ 
xmlCh¬
** 
libxmlName¥aûs
, 
nb_©Œibu‹s
, 
nb_deçuÉed
, cÚ¡ xmlCh¬** 
libxmlA‰ribu‹s
)

722 ià(
m_·r£rStİ³d
)

725 ià(
m_·r£rPau£d
) {

726 
m_³ndšgC®lbacks
->
	`­³ndS¹EËm’tNSC®lback
(
xmlLoÿlName
, 
xmlP»fix
, 
xmlURI
, 
nb_Çme¥aûs
, 
libxmlName¥aûs
,

727 
nb_©Œibu‹s
, 
nb_deçuÉed
, 
libxmlA‰ribu‹s
);

731 #ià
	`ENABLE
(
XHTMLMP
)

733 ià(!
m_hasDocTy³Deş¬©iÚ
 && 
m_doc
->
	`isXHTMLMPDocum’t
()) {

734 
	`hªdËE¼Ü
(
çl
, "DOCTYPE deş¬©iÚ†o¡.", 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

739 
	`ex™Text
();

741 
SŒšg
 
loÿlName
 = 
	`toSŒšg
(
xmlLoÿlName
);

742 
SŒšg
 
uri
 = 
	`toSŒšg
(
xmlURI
);

743 
SŒšg
 
´efix
 = 
	`toSŒšg
(
xmlP»fix
);

745 ià(
m_·rsšgF¿gm’t
 && 
uri
.
	`isNuÎ
()) {

746 ià(!
´efix
.
	`isNuÎ
())

747 
uri
 = 
m_´efixToName¥aûM­
.
	`g‘
(
´efix
);

749 
uri
 = 
m_deçuÉName¥aûURI
;

752 #ià
	`ENABLE
(
XHTMLMP
)

753 ià(!
m_§wFœ¡EËm’t
 && 
	`isXHTMLMPDocum’t
()) {

758 ià(
loÿlName
 !ğ
HTMLNames
::
htmlTag
.
	`loÿlName
()) {

759 
	`hªdËE¼Ü
(
çl
, "XHTMLMP docum’ˆex³ù 'html'‡ roÙƒËm’t.", 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

763 ià(
uri
.
	`isNuÎ
()) {

764 
m_deçuÉName¥aûURI
 = 
HTMLNames
::
xhtmlName¥aûURI
;

765 
uri
 = 
m_deçuÉName¥aûURI
;

770 
boŞ
 
isFœ¡EËm’t
 = !
m_§wFœ¡EËm’t
;

771 
m_§wFœ¡EËm’t
 = 
Œue
;

773 
Qu®if›dName
 
	`qName
(
´efix
, 
loÿlName
, 
uri
);

774 
RefPŒ
<
EËm’t
> 
ÃwEËm’t
 = 
m_doc
->
	`ü—‹EËm’t
(
qName
, 
Œue
);

775 ià(!
ÃwEËm’t
) {

776 
	`¡İP¬sšg
();

780 
Exû±iÚCode
 
ec
 = 0;

781 
	`hªdËEËm’tName¥aûs
(
ÃwEËm’t
.
	`g‘
(), 
libxmlName¥aûs
, 
nb_Çme¥aûs
, 
ec
, 
m_sütšgP”missiÚ
);

782 ià(
ec
) {

783 
	`¡İP¬sšg
();

787 
SütCÚŒŞËr
* 
jsProxy
 = 
m_doc
->
	`äame
(è? m_doc->äame()->
	`süt
() : 0;

788 ià(
jsProxy
 && 
m_doc
->
	`äame
()->
	`süt
()->
	`ÿnExecu‹Süts
(
NÙAboutToExecu‹Süt
))

789 
jsProxy
->
	`£tEv’tHªdËrLšeNumb”
(
	`lšeNumb”
());

791 
	`hªdËEËm’tA‰ribu‹s
(
ÃwEËm’t
.
	`g‘
(), 
libxmlA‰ribu‹s
, 
nb_©Œibu‹s
, 
ec
, 
m_sütšgP”missiÚ
);

792 ià(
ec
) {

793 
	`¡İP¬sšg
();

797 ià(
jsProxy
)

798 
jsProxy
->
	`£tEv’tHªdËrLšeNumb”
(0);

800 
ÃwEËm’t
->
	`begšP¬sšgChd»n
();

802 
SütEËm’t
* 
sütEËm’t
 = 
	`toSütEËm’t
(
ÃwEËm’t
.
	`g‘
());

803 ià(
sütEËm’t
)

804 
m_sütS¹Lše
 = 
	`lšeNumb”
();

806 ià(!
m_cu¼’tNode
->
	`addChd
(
ÃwEËm’t
.
	`g‘
())) {

807 
	`¡İP¬sšg
();

811 
	`pushCu¼’tNode
(
ÃwEËm’t
.
	`g‘
());

812 ià(
m_v›w
 && !
ÃwEËm’t
->
	`©ched
())

813 
ÃwEËm’t
->
	`©ch
();

815 ià(!
m_·rsšgF¿gm’t
 && 
isFœ¡EËm’t
 && 
m_doc
->
	`äame
())

816 
m_doc
->
	`äame
()->
	`lßd”
()->
	`di¥©chDocum’tEËm’tAvaabË
();

817 
	}
}

819 
	gXMLTok’iz”
::
	$’dEËm’tNs
()

821 ià(
m_·r£rStİ³d
)

824 ià(
m_·r£rPau£d
) {

825 
m_³ndšgC®lbacks
->
	`­³ndEndEËm’tNSC®lback
();

829 
	`ex™Text
();

831 
Node
* 
n
 = 
m_cu¼’tNode
;

832 
n
->
	`fšishP¬sšgChd»n
();

834 ià(
m_sütšgP”missiÚ
 =ğ
F¿gm’tSütšgNÙAÎowed
 && 
n
->
	`isEËm’tNode
(è&& 
	`toSütEËm’t
(
¡©ic_ÿ¡
<
EËm’t
*>(n))) {

835 
	`pİCu¼’tNode
();

836 
Exû±iÚCode
 
ec
;

837 
n
->
	`»move
(
ec
);

841 ià(!
n
->
	`isEËm’tNode
(è|| !
m_v›w
) {

842 
	`pİCu¼’tNode
();

846 
EËm’t
* 
–em’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
n
);

850 ià(!
–em’t
->
	`šDocum’t
()) {

851 
	`pİCu¼’tNode
();

855 
SütEËm’t
* 
sütEËm’t
 = 
	`toSütEËm’t
(
–em’t
);

856 ià(!
sütEËm’t
) {

857 
	`pİCu¼’tNode
();

862 
	`ASSERT
(!
m_³ndšgSüt
);

863 
m_»que¡šgSüt
 = 
Œue
;

865 #ià
	`ENABLE
(
XHTMLMP
)

866 ià(!
sütEËm’t
->
	`shouldExecu‹AsJavaSüt
())

867 
m_doc
->
	`£tShouldProûssNosütEËm’t
(
Œue
);

871 
SŒšg
 
sütH»f
 = 
sütEËm’t
->
	`sourûA‰ribu‹V®ue
();

872 ià(!
sütH»f
.
	`isEm±y
()) {

874 
SŒšg
 
sütCh¬£t
 = 
sütEËm’t
->
	`sütCh¬£t
();

875 ià(
–em’t
->
	`di¥©chBefÜeLßdEv’t
(
sütH»f
) &&

876 (
m_³ndšgSüt
 = 
m_doc
->
	`docLßd”
()->
	`»que¡Süt
(
sütH»f
, 
sütCh¬£t
))) {

877 
m_sütEËm’t
 = 
–em’t
;

878 
m_³ndšgSüt
->
	`addCl›Á
(
this
);

881 ià(
m_³ndšgSüt
)

882 
	`·u£P¬sšg
();

884 
m_sütEËm’t
 = 0;

886 
m_v›w
->
	`äame
()->
	`süt
()->
	`execu‹Süt
(
	`SütSourûCode
(
sütEËm’t
->
	`sütCÚ‹Á
(), 
m_doc
->
	`u¾
(), 
m_sütS¹Lše
));

888 
m_»que¡šgSüt
 = 
çl£
;

889 
	`pİCu¼’tNode
();

890 
	}
}

892 
	gXMLTok’iz”
::
	$ch¬aù”s
(cÚ¡ 
xmlCh¬
* 
s
, 
Ën
)

894 ià(
m_·r£rStİ³d
)

897 ià(
m_·r£rPau£d
) {

898 
m_³ndšgC®lbacks
->
	`­³ndCh¬aù”sC®lback
(
s
, 
Ën
);

902 ià(
m_cu¼’tNode
->
	`isTextNode
(è|| 
	`’‹rText
())

903 
m_bufã»dText
.
	`­³nd
(
s
, 
Ën
);

904 
	}
}

906 
	gXMLTok’iz”
::
	$”rÜ
(
E¼ÜTy³
 
ty³
, cÚ¡ * 
mes§ge
, 
va_li¡
 
¬gs
)

908 ià(
m_·r£rStİ³d
)

911 #ià
	`COMPILER
(
MSVC
è|| COMPILER(
RVCT
)

912 
m
[1024];

913 
	`v¢´štf
(
m
, (mè- 1, 
mes§ge
, 
¬gs
);

915 * 
m
;

916 ià(
	`va¥rštf
(&
m
, 
mes§ge
, 
¬gs
) == -1)

920 ià(
m_·r£rPau£d
)

921 
m_³ndšgC®lbacks
->
	`­³ndE¼ÜC®lback
(
ty³
, 
»š‹½»t_ÿ¡
<cÚ¡ 
xmlCh¬
*>(
m
), 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

923 
	`hªdËE¼Ü
(
ty³
, 
m
, 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

925 #ià!
	`COMPILER
(
MSVC
è&& !COMPILER(
RVCT
)

926 
	`ä“
(
m
);

928 
	}
}

930 
	gXMLTok’iz”
::
	$´oûssšgIn¡ruùiÚ
(cÚ¡ 
xmlCh¬
* 
rg‘
, cÚ¡ xmlCh¬* 
d©a
)

932 ià(
m_·r£rStİ³d
)

935 ià(
m_·r£rPau£d
) {

936 
m_³ndšgC®lbacks
->
	`­³ndProûssšgIn¡ruùiÚC®lback
(
rg‘
, 
d©a
);

940 
	`ex™Text
();

943 
exû±iÚ
 = 0;

944 
RefPŒ
<
ProûssšgIn¡ruùiÚ
> 
pi
 = 
m_doc
->
	`ü—‹ProûssšgIn¡ruùiÚ
(

945 
	`toSŒšg
(
rg‘
),oSŒšg(
d©a
), 
exû±iÚ
);

946 ià(
exû±iÚ
)

949 
pi
->
	`£tC»©edByP¬£r
(
Œue
);

951 ià(!
m_cu¼’tNode
->
	`addChd
(
pi
.
	`g‘
()))

953 ià(
m_v›w
 && !
pi
->
	`©ched
())

954 
pi
->
	`©ch
();

956 
pi
->
	`fšishP¬sšgChd»n
();

958 #ià
	`ENABLE
(
XSLT
)

959 
m_§wXSLT¿nsfÜm
 = !
m_§wFœ¡EËm’t
 && 
pi
->
	`isXSL
();

960 ià(
m_§wXSLT¿nsfÜm
 && !
m_doc
->
	`ŒªsfÜmSourûDocum’t
())

961 
	`¡İP¬sšg
();

963 
	}
}

965 
	gXMLTok’iz”
::
	$cd©aBlock
(cÚ¡ 
xmlCh¬
* 
s
, 
Ën
)

967 ià(
m_·r£rStİ³d
)

970 ià(
m_·r£rPau£d
) {

971 
m_³ndšgC®lbacks
->
	`­³ndCDATABlockC®lback
(
s
, 
Ën
);

975 
	`ex™Text
();

977 
RefPŒ
<
Node
> 
ÃwNode
 = 
CDATASeùiÚ
::
	`ü—‹
(
m_doc
, 
	`toSŒšg
(
s
, 
Ën
));

978 ià(!
m_cu¼’tNode
->
	`addChd
(
ÃwNode
.
	`g‘
()))

980 ià(
m_v›w
 && !
ÃwNode
->
	`©ched
())

981 
ÃwNode
->
	`©ch
();

982 
	}
}

984 
	gXMLTok’iz”
::
	$comm’t
(cÚ¡ 
xmlCh¬
* 
s
)

986 ià(
m_·r£rStİ³d
)

989 ià(
m_·r£rPau£d
) {

990 
m_³ndšgC®lbacks
->
	`­³ndComm’tC®lback
(
s
);

994 
	`ex™Text
();

996 
RefPŒ
<
Node
> 
ÃwNode
 = 
Comm’t
::
	`ü—‹
(
m_doc
, 
	`toSŒšg
(
s
));

997 
m_cu¼’tNode
->
	`addChd
(
ÃwNode
.
	`g‘
());

998 ià(
m_v›w
 && !
ÃwNode
->
	`©ched
())

999 
ÃwNode
->
	`©ch
();

1000 
	}
}

1002 
	gXMLTok’iz”
::
	$¡¬tDocum’t
(cÚ¡ 
xmlCh¬
* 
v”siÚ
, cÚ¡ xmlCh¬* 
’codšg
, 
¡ªd®Úe
)

1004 
Exû±iÚCode
 
ec
 = 0;

1006 ià(
v”siÚ
)

1007 
m_doc
->
	`£tXMLV”siÚ
(
	`toSŒšg
(
v”siÚ
), 
ec
);

1008 
m_doc
->
	`£tXMLSnd®Úe
(
¡ªd®Úe
 =ğ1, 
ec
);

1009 ià(
’codšg
)

1010 
m_doc
->
	`£tXMLEncodšg
(
	`toSŒšg
(
’codšg
));

1011 
	}
}

1013 
	gXMLTok’iz”
::
	$’dDocum’t
()

1015 
	`ex™Text
();

1016 #ià
	`ENABLE
(
XHTMLMP
)

1017 
m_hasDocTy³Deş¬©iÚ
 = 
çl£
;

1019 
	}
}

1021 
	gXMLTok’iz”
::
	$š‹º®Sub£t
(cÚ¡ 
xmlCh¬
* 
Çme
, cÚ¡ xmlCh¬* 
ex‹º®ID
, cÚ¡ xmlCh¬* 
sy¡emID
)

1023 ià(
m_·r£rStİ³d
)

1026 ià(
m_·r£rPau£d
) {

1027 
m_³ndšgC®lbacks
->
	`­³ndIÁ”ÇlSub£tC®lback
(
Çme
, 
ex‹º®ID
, 
sy¡emID
);

1031 ià(
m_doc
) {

1032 #ià
	`ENABLE
(
WML
è|| ENABLE(
XHTMLMP
)

1033 
SŒšg
 
extId
 = 
	`toSŒšg
(
ex‹º®ID
);

1035 #ià
	`ENABLE
(
WML
)

1036 ià(
	`isWMLDocum’t
()

1037 && 
extId
 != "-//WAPFORUM//DTD WML 1.3//EN"

1038 && 
extId
 != "-//WAPFORUM//DTD WML 1.2//EN"

1039 && 
extId
 != "-//WAPFORUM//DTD WML 1.1//EN"

1040 && 
extId
 != "-//WAPFORUM//DTD WML 1.0//EN")

1041 
	`hªdËE¼Ü
(
çl
, "Inv®id DTD PubliøID", 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

1043 #ià
	`ENABLE
(
XHTMLMP
)

1044 
SŒšg
 
dtdName
 = 
	`toSŒšg
(
Çme
);

1045 ià(
extId
 == "-//WAPFORUM//DTD XHTML Mobile 1.0//EN"

1046 || 
extId
 == "-//WAPFORUM//DTD XHTML Mobile 1.1//EN") {

1047 ià(
dtdName
 !ğ
HTMLNames
::
htmlTag
.
	`loÿlName
()) {

1048 
	`hªdËE¼Ü
(
çl
, "Inv®id DOCTYPE deş¬©iÚ,ƒx³ùed 'html'‡ roÙƒËm’t.", 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

1052 ià(
m_doc
->
	`isXHTMLMPDocum’t
())

1053 
	`£tIsXHTMLMPDocum’t
(
Œue
);

1055 
	`£tIsXHTMLDocum’t
(
Œue
);

1057 
m_hasDocTy³Deş¬©iÚ
 = 
Œue
;

1061 
m_doc
->
	`addChd
(
Docum’tTy³
::
	`ü—‹
(m_doc, 
	`toSŒšg
(
Çme
),oSŒšg(
ex‹º®ID
),oSŒšg(
sy¡emID
)));

1063 
	}
}

1065 
šlše
 
XMLTok’iz”
* 
	$g‘Tok’iz”
(* 
şosu»
)

1067 
xmlP¬£rCtxtPŒ
 
ùxt
 = 
¡©ic_ÿ¡
<xmlP¬£rCtxtPŒ>(
şosu»
);

1068  
¡©ic_ÿ¡
<
XMLTok’iz”
*>(
ùxt
->
_´iv©e
);

1069 
	}
}

1073 
šlše
 
boŞ
 
	$hackAroundLibXMLEÁ™yBug
(* 
şosu»
)

1075 #ià
LIBXML_VERSION
 >= 20627

1076 
	`UNUSED_PARAM
(
şosu»
);

1079  
çl£
;

1081  
¡©ic_ÿ¡
<
xmlP¬£rCtxtPŒ
>(
şosu»
)->
node
;

1083 
	}
}

1085 
	$¡¬tEËm’tNsHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
* 
loÿÊame
, cÚ¡ xmlCh¬* 
´efix
, cÚ¡ xmlCh¬* 
uri
, 
nb_Çme¥aûs
, cÚ¡ xmlCh¬** 
Çme¥aûs
, 
nb_©Œibu‹s
, 
nb_deçuÉed
, cÚ¡ xmlCh¬** 
libxmlA‰ribu‹s
)

1087 ià(
	`hackAroundLibXMLEÁ™yBug
(
şosu»
))

1090 
	`g‘Tok’iz”
(
şosu»
)->
	`¡¬tEËm’tNs
(
loÿÊame
, 
´efix
, 
uri
, 
nb_Çme¥aûs
, 
Çme¥aûs
, 
nb_©Œibu‹s
, 
nb_deçuÉed
, 
libxmlA‰ribu‹s
);

1091 
	}
}

1093 
	$’dEËm’tNsHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
*, const xmlChar*, const xmlChar*)

1095 ià(
	`hackAroundLibXMLEÁ™yBug
(
şosu»
))

1098 
	`g‘Tok’iz”
(
şosu»
)->
	`’dEËm’tNs
();

1099 
	}
}

1101 
	$ch¬aù”sHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
* 
s
, 
Ën
)

1103 ià(
	`hackAroundLibXMLEÁ™yBug
(
şosu»
))

1106 
	`g‘Tok’iz”
(
şosu»
)->
	`ch¬aù”s
(
s
, 
Ën
);

1107 
	}
}

1109 
	$´oûssšgIn¡ruùiÚHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
* 
rg‘
, cÚ¡ xmlCh¬* 
d©a
)

1111 ià(
	`hackAroundLibXMLEÁ™yBug
(
şosu»
))

1114 
	`g‘Tok’iz”
(
şosu»
)->
	`´oûssšgIn¡ruùiÚ
(
rg‘
, 
d©a
);

1115 
	}
}

1117 
	$cd©aBlockHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
* 
s
, 
Ën
)

1119 ià(
	`hackAroundLibXMLEÁ™yBug
(
şosu»
))

1122 
	`g‘Tok’iz”
(
şosu»
)->
	`cd©aBlock
(
s
, 
Ën
);

1123 
	}
}

1125 
	$comm’tHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
* 
comm’t
)

1127 ià(
	`hackAroundLibXMLEÁ™yBug
(
şosu»
))

1130 
	`g‘Tok’iz”
(
şosu»
)->
	`comm’t
(
comm’t
);

1131 
	}
}

1133 
	$WTF_ATTRIBUTE_PRINTF
(2, 3)

1134 
	$w¬nšgHªdËr
(* 
şosu»
, cÚ¡ * 
mes§ge
, ...)

1136 
va_li¡
 
¬gs
;

1137 
	`va_¡¬t
(
¬gs
, 
mes§ge
);

1138 
	`g‘Tok’iz”
(
şosu»
)->
	`”rÜ
(
XMLTok’iz”
::
w¬nšg
, 
mes§ge
, 
¬gs
);

1139 
	`va_’d
(
¬gs
);

1140 
	}
}

1142 
	$WTF_ATTRIBUTE_PRINTF
(2, 3)

1143 
	$çlE¼ÜHªdËr
(* 
şosu»
, cÚ¡ * 
mes§ge
, ...)

1145 
va_li¡
 
¬gs
;

1146 
	`va_¡¬t
(
¬gs
, 
mes§ge
);

1147 
	`g‘Tok’iz”
(
şosu»
)->
	`”rÜ
(
XMLTok’iz”
::
çl
, 
mes§ge
, 
¬gs
);

1148 
	`va_’d
(
¬gs
);

1149 
	}
}

1151 
	$WTF_ATTRIBUTE_PRINTF
(2, 3)

1152 
	$nÜm®E¼ÜHªdËr
(* 
şosu»
, cÚ¡ * 
mes§ge
, ...)

1154 
va_li¡
 
¬gs
;

1155 
	`va_¡¬t
(
¬gs
, 
mes§ge
);

1156 
	`g‘Tok’iz”
(
şosu»
)->
	`”rÜ
(
XMLTok’iz”
::
nÚF©®
, 
mes§ge
, 
¬gs
);

1157 
	`va_’d
(
¬gs
);

1158 
	}
}

1163 
xmlCh¬
 
	gsh¬edXHTMLEÁ™yResuÉ
[5] = {0, 0, 0, 0, 0};

1165 
xmlEÁ™yPŒ
 
	$sh¬edXHTMLEÁ™y
()

1167 
xmlEÁ™y
 
’t™y
;

1168 ià(!
’t™y
.
ty³
) {

1169 
’t™y
.
ty³
 = 
XML_ENTITY_DECL
;

1170 
’t™y
.
Üig
 = 
sh¬edXHTMLEÁ™yResuÉ
;

1171 
’t™y
.
cÚ‹Á
 = 
sh¬edXHTMLEÁ™yResuÉ
;

1172 
’t™y
.
‘y³
 = 
XML_INTERNAL_PREDEFINED_ENTITY
;

1174  &
’t™y
;

1175 
	}
}

1177 
xmlEÁ™yPŒ
 
	$g‘XHTMLEÁ™y
(cÚ¡ 
xmlCh¬
* 
Çme
)

1179 
UCh¬
 
c
 = 
	`decodeNamedEÁ™y
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
Çme
));

1180 ià(!
c
)

1183 
CSŒšg
 
v®ue
 = 
	`SŒšg
(&
c
, 1).
	`utf8
();

1184 
	`ASSERT
(
v®ue
.
	`Ëngth
() < 5);

1185 
xmlEÁ™yPŒ
 
’t™y
 = 
	`sh¬edXHTMLEÁ™y
();

1186 
’t™y
->
Ëngth
 = 
v®ue
.
	`Ëngth
();

1187 
’t™y
->
Çme
 =‚ame;

1188 
	`memıy
(
sh¬edXHTMLEÁ™yResuÉ
, 
v®ue
.
	`d©a
(), 
’t™y
->
Ëngth
 + 1);

1190  
’t™y
;

1191 
	}
}

1193 
xmlEÁ™yPŒ
 
	$g‘EÁ™yHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
* 
Çme
)

1195 
xmlP¬£rCtxtPŒ
 
ùxt
 = 
¡©ic_ÿ¡
<xmlP¬£rCtxtPŒ>(
şosu»
);

1196 
xmlEÁ™yPŒ
 
’t
 = 
	`xmlG‘P»defšedEÁ™y
(
Çme
);

1197 ià(
’t
) {

1198 
’t
->
‘y³
 = 
XML_INTERNAL_PREDEFINED_ENTITY
;

1199  
’t
;

1202 
’t
 = 
	`xmlG‘DocEÁ™y
(
ùxt
->
myDoc
, 
Çme
);

1203 ià(!
’t
 && (
	`g‘Tok’iz”
(
şosu»
)->
	`isXHTMLDocum’t
()

1204 #ià
	`ENABLE
(
XHTMLMP
)

1205 || 
	`g‘Tok’iz”
(
şosu»
)->
	`isXHTMLMPDocum’t
()

1207 #ià
	`ENABLE
(
WML
)

1208 || 
	`g‘Tok’iz”
(
şosu»
)->
	`isWMLDocum’t
()

1211 
’t
 = 
	`g‘XHTMLEÁ™y
(
Çme
);

1212 ià(
’t
)

1213 
’t
->
‘y³
 = 
XML_INTERNAL_GENERAL_ENTITY
;

1216  
’t
;

1217 
	}
}

1219 
	$¡¬tDocum’tHªdËr
(* 
şosu»
)

1221 
xmlP¬£rCtxt
* 
ùxt
 = 
¡©ic_ÿ¡
<xmlP¬£rCtxt*>(
şosu»
);

1222 
	`g‘Tok’iz”
(
şosu»
)->
	`¡¬tDocum’t
(
ùxt
->
v”siÚ
, ctxt->
’codšg
, ctxt->
¡ªd®Úe
);

1223 
	`xmlSAX2S¹Docum’t
(
şosu»
);

1224 
	}
}

1226 
	$’dDocum’tHªdËr
(* 
şosu»
)

1228 
	`g‘Tok’iz”
(
şosu»
)->
	`’dDocum’t
();

1229 
	`xmlSAX2EndDocum’t
(
şosu»
);

1230 
	}
}

1232 
	$š‹º®Sub£tHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
* 
Çme
, cÚ¡ xmlCh¬* 
ex‹º®ID
, cÚ¡ xmlCh¬* 
sy¡emID
)

1234 
	`g‘Tok’iz”
(
şosu»
)->
	`š‹º®Sub£t
(
Çme
, 
ex‹º®ID
, 
sy¡emID
);

1235 
	`xmlSAX2IÁ”ÇlSub£t
(
şosu»
, 
Çme
, 
ex‹º®ID
, 
sy¡emID
);

1236 
	}
}

1238 
	$ex‹º®Sub£tHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
*, cÚ¡ xmlCh¬* 
ex‹º®Id
, const xmlChar*)

1240 
SŒšg
 
extId
 = 
	`toSŒšg
(
ex‹º®Id
);

1241 ià((
extId
 == "-//W3C//DTD XHTML 1.0 Transitional//EN")

1242 || (
extId
 == "-//W3C//DTD XHTML 1.1//EN")

1243 || (
extId
 == "-//W3C//DTD XHTML 1.0 Strict//EN")

1244 || (
extId
 == "-//W3C//DTD XHTML 1.0 Frameset//EN")

1245 || (
extId
 == "-//W3C//DTD XHTML Basic 1.0//EN")

1246 || (
extId
 == "-//W3C//DTD XHTML 1.1…lus MathML 2.0//EN")

1247 || (
extId
 == "-//W3C//DTD XHTML 1.1…lus MathML 2.0…lus SVG 1.1//EN")

1248 #ià
	`ENABLE
(
XHTMLMP
)

1249 || (
extId
 == "-//WAPFORUM//DTD XHTML Mobile 1.0//EN")

1252 
	`g‘Tok’iz”
(
şosu»
)->
	`£tIsXHTMLDocum’t
(
Œue
);

1253 
	}
}

1255 
	$ignÜabËWh™e¥aûHªdËr
(*, cÚ¡ 
xmlCh¬
*, )

1260 
	}
}

1262 
	gXMLTok’iz”
::
	$š™ŸlizeP¬£rCÚ‹xt
(cÚ¡ * 
chunk
)

1264 
xmlSAXHªdËr
 
§x
;

1265 
	`mem£t
(&
§x
, 0, (sax));

1267 
§x
.
”rÜ
 = 
nÜm®E¼ÜHªdËr
;

1268 
§x
.
çlE¼Ü
 = 
çlE¼ÜHªdËr
;

1269 
§x
.
ch¬aù”s
 = 
ch¬aù”sHªdËr
;

1270 
§x
.
´oûssšgIn¡ruùiÚ
 = 
´oûssšgIn¡ruùiÚHªdËr
;

1271 
§x
.
cd©aBlock
 = 
cd©aBlockHªdËr
;

1272 
§x
.
comm’t
 = 
comm’tHªdËr
;

1273 
§x
.
w¬nšg
 = 
w¬nšgHªdËr
;

1274 
§x
.
¡¬tEËm’tNs
 = 
¡¬tEËm’tNsHªdËr
;

1275 
§x
.
’dEËm’tNs
 = 
’dEËm’tNsHªdËr
;

1276 
§x
.
g‘EÁ™y
 = 
g‘EÁ™yHªdËr
;

1277 
§x
.
¡¬tDocum’t
 = 
¡¬tDocum’tHªdËr
;

1278 
§x
.
’dDocum’t
 = 
’dDocum’tHªdËr
;

1279 
§x
.
š‹º®Sub£t
 = 
š‹º®Sub£tHªdËr
;

1280 
§x
.
ex‹º®Sub£t
 = 
ex‹º®Sub£tHªdËr
;

1281 
§x
.
ignÜabËWh™e¥aû
 = 
ignÜabËWh™e¥aûHªdËr
;

1282 
§x
.
’t™yDeş
 = 
xmlSAX2EÁ™yDeş
;

1283 
§x
.
š™Ÿlized
 = 
XML_SAX2_MAGIC
;

1284 
m_·r£rStİ³d
 = 
çl£
;

1285 
m_§wE¼Ü
 = 
çl£
;

1286 
m_§wXSLT¿nsfÜm
 = 
çl£
;

1287 
m_§wFœ¡EËm’t
 = 
çl£
;

1289 
XMLTok’iz”Scİe
 
	`scİe
(
m_doc
->
	`docLßd”
());

1290 ià(
m_·rsšgF¿gm’t
)

1291 
m_cÚ‹xt
 = 
XMLP¬£rCÚ‹xt
::
	`ü—‹MemÜyP¬£r
(&
§x
, 
this
, 
chunk
);

1293 
m_cÚ‹xt
 = 
XMLP¬£rCÚ‹xt
::
	`ü—‹SŒšgP¬£r
(&
§x
, 
this
);

1294 
	}
}

1296 
	gXMLTok’iz”
::
	$doEnd
()

1298 #ià
	`ENABLE
(
XSLT
)

1299 ià(
m_§wXSLT¿nsfÜm
) {

1300 * 
doc
 = 
	`xmlDocPŒFÜSŒšg
(
m_doc
->
	`docLßd”
(), 
m_Üigš®SourûFÜT¿nsfÜm
, m_doc->
	`u¾
().
	`¡ršg
());

1301 
m_doc
->
	`£tT¿nsfÜmSourû
(
Ãw
 
	`T¿nsfÜmSourû
(
doc
));

1303 
m_doc
->
	`£tP¬sšg
(
çl£
);

1304 
m_doc
->
	`upd©eStyËS–eùÜ
();

1305 
m_doc
->
	`£tP¬sšg
(
Œue
);

1306 
m_·r£rStİ³d
 = 
Œue
;

1310 ià(
m_·r£rStİ³d
)

1313 ià(
m_cÚ‹xt
) {

1316 
XMLTok’iz”Scİe
 
	`scİe
(
m_doc
->
	`docLßd”
());

1317 
	`xmlP¬£Chunk
(
	`cÚ‹xt
(), 0, 0, 1);

1320 
m_cÚ‹xt
 = 0;

1322 
	}
}

1324 #ià
	$ENABLE
(
XSLT
)

1325 * 
	$xmlDocPŒFÜSŒšg
(
DocLßd”
* 
docLßd”
, cÚ¡ 
SŒšg
& 
sourû
, cÚ¡ SŒšg& 
u¾
)

1327 ià(
sourû
.
	`isEm±y
())

1333 cÚ¡ 
UCh¬
 
BOM
 = 0xFEFF;

1334 cÚ¡ 
BOMHighBy‹
 = *
»š‹½»t_ÿ¡
<cÚ¡ *>(&
BOM
);

1336 
XMLTok’iz”Scİe
 
	`scİe
(
docLßd”
, 
”rÜFunc
, 0);

1337 
xmlDocPŒ
 
sourûDoc
 = 
	`xmlR—dMemÜy
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
sourû
.
	`ch¬aù”s
()),

1338 
sourû
.
	`Ëngth
(è* (
UCh¬
),

1339 
u¾
.
	`Ïtš1
().
	`d©a
(),

1340 
BOMHighBy‹
 == 0xFF ? "UTF-16LE" : "UTF-16BE",

1341 
XSLT_PARSE_OPTIONS
);

1342  
sourûDoc
;

1343 
	}
}

1346 
	gXMLTok’iz”
::
	$lšeNumb”
() const

1348  
	`cÚ‹xt
(è? cÚ‹xt()->
šput
->
lše
 : 1;

1349 
	}
}

1351 
	gXMLTok’iz”
::
	$cŞumnNumb”
() const

1353  
	`cÚ‹xt
(è? cÚ‹xt()->
šput
->
cŞ
 : 1;

1354 
	}
}

1356 
	gXMLTok’iz”
::
	$¡İP¬sšg
()

1358 
Tok’iz”
::
	`¡İP¬sšg
();

1359 ià(
	`cÚ‹xt
())

1360 
	`xmlStİP¬£r
(
	`cÚ‹xt
());

1361 
	}
}

1363 
	gXMLTok’iz”
::
	$»sumeP¬sšg
()

1365 
	`ASSERT
(
m_·r£rPau£d
);

1367 
m_·r£rPau£d
 = 
çl£
;

1370 !
m_³ndšgC®lbacks
->
	`isEm±y
()) {

1371 
m_³ndšgC®lbacks
->
	`ÿÎAndRemoveFœ¡C®lback
(
this
);

1374 ià(
m_·r£rPau£d
)

1379 
Segm’‹dSŒšg
 
»¡
 = 
m_³ndšgSrc
;

1380 
m_³ndšgSrc
.
	`ş—r
();

1381 
	`wr™e
(
»¡
, 
çl£
);

1385 ià(
m_fšishC®Ëd
 && 
m_³ndšgC®lbacks
->
	`isEm±y
())

1386 
	`’d
();

1387 
	}
}

1389 
boŞ
 
	$·r£XMLDocum’tF¿gm’t
(cÚ¡ 
SŒšg
& 
chunk
, 
Docum’tF¿gm’t
* 
äagm’t
, 
EËm’t
* 
·»Á
, 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

1391 ià(!
chunk
.
	`Ëngth
())

1392  
Œue
;

1394 
XMLTok’iz”
 
	`tok’iz”
(
äagm’t
, 
·»Á
, 
sütšgP”missiÚ
);

1396 
CSŒšg
 
chunkAsUtf8
 = 
chunk
.
	`utf8
();

1397 
tok’iz”
.
	`š™ŸlizeP¬£rCÚ‹xt
(
chunkAsUtf8
.
	`d©a
());

1399 
	`xmlP¬£CÚ‹Á
(
tok’iz”
.
	`cÚ‹xt
());

1401 
tok’iz”
.
	`’dDocum’t
();

1404 
by‹sProûs£d
 = 
	`xmlBy‹CÚsumed
(
tok’iz”
.
	`cÚ‹xt
());

1405 ià(
by‹sProûs£d
 =ğ-1 || (()by‹sProûs£dè!ğ
chunkAsUtf8
.
	`Ëngth
())

1406  
çl£
;

1409  
tok’iz”
.
	`cÚ‹xt
()->
w–lFÜmed
 || 
	`xmlCtxtG‘La¡E¼Ü
(tokenizer.context()) == 0;

1410 
	}
}

1414 
	sA‰ribu‹P¬£S‹
 {

1415 
	gHashM­
<
	gSŒšg
, SŒšg> 
	g©Œibu‹s
;

1416 
boŞ
 
	ggÙA‰ribu‹s
;

1419 
	$©Œibu‹sS¹EËm’tNsHªdËr
(* 
şosu»
, cÚ¡ 
xmlCh¬
* 
xmlLoÿlName
, const xmlChar* ,

1420 cÚ¡ 
xmlCh¬
* , , const xmlChar** ,

1421 
nb_©Œibu‹s
, , cÚ¡ 
xmlCh¬
** 
libxmlA‰ribu‹s
)

1423 ià(
	`¡rcmp
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
xmlLoÿlName
), "attrs") != 0)

1426 
xmlP¬£rCtxtPŒ
 
ùxt
 = 
¡©ic_ÿ¡
<xmlP¬£rCtxtPŒ>(
şosu»
);

1427 
A‰ribu‹P¬£S‹
* 
¡©e
 = 
¡©ic_ÿ¡
<A‰ribu‹P¬£S‹*>(
ùxt
->
_´iv©e
);

1429 
¡©e
->
gÙA‰ribu‹s
 = 
Œue
;

1431 
xmlSAX2A‰ribu‹s
* 
©Œibu‹s
 = 
»š‹½»t_ÿ¡
<xmlSAX2A‰ribu‹s*>(
libxmlA‰ribu‹s
);

1432 
i
 = 0; i < 
nb_©Œibu‹s
; i++) {

1433 
SŒšg
 
©ŒLoÿlName
 = 
	`toSŒšg
(
©Œibu‹s
[
i
].
loÿÊame
);

1434 
v®ueL’gth
 = (è(
©Œibu‹s
[
i
].
’d
 -‡‰ribu‹s[i].
v®ue
);

1435 
SŒšg
 
©ŒV®ue
 = 
	`toSŒšg
(
©Œibu‹s
[
i
].
v®ue
, 
v®ueL’gth
);

1436 
SŒšg
 
©ŒP»fix
 = 
	`toSŒšg
(
©Œibu‹s
[
i
].
´efix
);

1437 
SŒšg
 
©ŒQName
 = 
©ŒP»fix
.
	`isEm±y
(è? 
©ŒLoÿlName
 :‡ttrPrefix + ":" +‡ttrLocalName;

1439 
¡©e
->
©Œibu‹s
.
	`£t
(
©ŒQName
, 
©ŒV®ue
);

1441 
	}
}

1443 
	gHashM­
<
	gSŒšg
, SŒšg> 
	$·r£A‰ribu‹s
(cÚ¡ 
SŒšg
& 
¡ršg
, 
boŞ
& 
©ŒsOK
)

1445 
A‰ribu‹P¬£S‹
 
¡©e
;

1446 
¡©e
.
gÙA‰ribu‹s
 = 
çl£
;

1448 
xmlSAXHªdËr
 
§x
;

1449 
	`mem£t
(&
§x
, 0, (sax));

1450 
§x
.
¡¬tEËm’tNs
 = 
©Œibu‹sS¹EËm’tNsHªdËr
;

1451 
§x
.
š™Ÿlized
 = 
XML_SAX2_MAGIC
;

1452 
RefPŒ
<
XMLP¬£rCÚ‹xt
> 
·r£r
 = XMLP¬£rCÚ‹xt::
	`ü—‹SŒšgP¬£r
(&
§x
, &
¡©e
);

1453 
SŒšg
 
·r£SŒšg
 = "<?xmÈv”siÚ=\"1.0\"?><©Œ " + 
¡ršg
 + " />";

1454 
	`xmlP¬£Chunk
(
·r£r
->
	`cÚ‹xt
(), 
»š‹½»t_ÿ¡
<cÚ¡ *>(
·r£SŒšg
.
	`ch¬aù”s
()),…¬£SŒšg.
	`Ëngth
(è* (
UCh¬
), 1);

1455 
©ŒsOK
 = 
¡©e
.
gÙA‰ribu‹s
;

1456  
¡©e
.
©Œibu‹s
;

1457 
	}
}

	@XMLTokenizerQt.cpp

26 
	~"cÚfig.h
"

27 
	~"XMLTok’iz”.h
"

29 
	~"CDATASeùiÚ.h
"

30 
	~"CachedSüt.h
"

31 
	~"Comm’t.h
"

32 
	~"DocLßd”.h
"

33 
	~"Docum’t.h
"

34 
	~"Docum’tF¿gm’t.h
"

35 
	~"Docum’tTy³.h
"

36 
	~"F¿me.h
"

37 
	~"F¿meLßd”.h
"

38 
	~"F¿meV›w.h
"

39 
	~"HTMLLškEËm’t.h
"

40 
	~"HTMLStyËEËm’t.h
"

41 
	~"HTMLTok’iz”.h
"

42 
	~"ProûssšgIn¡ruùiÚ.h
"

43 
	~"ResourûE¼Ü.h
"

44 
	~"ResourûHªdË.h
"

45 
	~"ResourûReque¡.h
"

46 
	~"ResourûRe¥Ú£.h
"

47 
	~"SütCÚŒŞËr.h
"

48 
	~"SütEËm’t.h
"

49 
	~"SütSourûCode.h
"

50 
	~"SütV®ue.h
"

51 
	~"TextResourûDecod”.h
"

52 
	~"T¿nsfÜmSourû.h
"

53 
	~<QDebug
>

54 
	~<wtf/SŒšgExŒas.h
>

55 
	~<wtf/Th»adšg.h
>

56 
	~<wtf/VeùÜ.h
>

57 
	~<wtf/‹xt/CSŒšg.h
>

59 #ià
ENABLE
(
XHTMLMP
)

60 
	~"HTMLNames.h
"

61 
	~"HTMLSütEËm’t.h
"

64 
usšg
 
Çme¥aû
 
	g¡d
;

66 
Çme¥aû
 
	gWebCÜe
 {

68 şas 
	cEÁ™yResŞv”
 : 
public
 
QXmlSŒ—mEÁ™yResŞv”
 {

69 
vœtu®
 
QSŒšg
 
»sŞveUndeş¬edEÁ™y
(cÚ¡ QSŒšg &
Çme
);

72 
QSŒšg
 
	gEÁ™yResŞv”
::
	$»sŞveUndeş¬edEÁ™y
(cÚ¡ 
QSŒšg
 &
Çme
)

74 
UCh¬
 
c
 = 
	`decodeNamedEÁ™y
(
Çme
.
	`toUtf8
().
	`cÚ¡D©a
());

75  
	`QSŒšg
(
c
);

76 
	}
}

80 
	gXMLTok’iz”
::
	$XMLTok’iz”
(
Docum’t
* 
_doc
, 
F¿meV›w
* 
_v›w
)

81 : 
	`m_doc
(
_doc
)

82 , 
	`m_v›w
(
_v›w
)

83 , 
	`m_wrÙeText
(
çl£
)

84 , 
	`m_cu¼’tNode
(
_doc
)

85 , 
	`m_§wE¼Ü
(
çl£
)

86 , 
	`m_§wXSLT¿nsfÜm
(
çl£
)

87 , 
	`m_§wFœ¡EËm’t
(
çl£
)

88 , 
	$m_isXHTMLDocum’t
(
çl£
)

89 #ià
	`ENABLE
(
XHTMLMP
)

90 , 
	`m_isXHTMLMPDocum’t
(
çl£
)

91 , 
	$m_hasDocTy³Deş¬©iÚ
(
çl£
)

93 , 
	`m_·r£rPau£d
(
çl£
)

94 , 
	`m_»que¡šgSüt
(
çl£
)

95 , 
	`m_fšishC®Ëd
(
çl£
)

96 , 
	`m_”rÜCouÁ
(0)

97 , 
	`m_Ï¡E¼ÜLše
(0)

98 , 
	`m_Ï¡E¼ÜCŞumn
(0)

99 , 
	`m_³ndšgSüt
(0)

100 , 
	`m_sütS¹Lše
(0)

101 , 
	`m_·rsšgF¿gm’t
(
çl£
)

102 , 
	$m_sütšgP”missiÚ
(
F¿gm’tSütšgAÎowed
)

104 
m_¡»am
.
	`£tEÁ™yResŞv”
(
Ãw
 
EÁ™yResŞv”
);

105 
	}
}

107 
	gXMLTok’iz”
::
	$XMLTok’iz”
(
Docum’tF¿gm’t
* 
äagm’t
, 
EËm’t
* 
·»ÁEËm’t
, 
F¿gm’tSütšgP”missiÚ
 
³rmissiÚ
)

108 : 
	`m_doc
(
äagm’t
->
	`docum’t
())

109 , 
	`m_v›w
(0)

110 , 
	`m_wrÙeText
(
çl£
)

111 , 
	`m_cu¼’tNode
(
äagm’t
)

112 , 
	`m_§wE¼Ü
(
çl£
)

113 , 
	`m_§wXSLT¿nsfÜm
(
çl£
)

114 , 
	`m_§wFœ¡EËm’t
(
çl£
)

115 , 
	$m_isXHTMLDocum’t
(
çl£
)

116 #ià
	`ENABLE
(
XHTMLMP
)

117 , 
	`m_isXHTMLMPDocum’t
(
çl£
)

118 , 
	$m_hasDocTy³Deş¬©iÚ
(
çl£
)

120 , 
	`m_·r£rPau£d
(
çl£
)

121 , 
	`m_»que¡šgSüt
(
çl£
)

122 , 
	`m_fšishC®Ëd
(
çl£
)

123 , 
	`m_”rÜCouÁ
(0)

124 , 
	`m_Ï¡E¼ÜLše
(0)

125 , 
	`m_Ï¡E¼ÜCŞumn
(0)

126 , 
	`m_³ndšgSüt
(0)

127 , 
	`m_sütS¹Lše
(0)

128 , 
	`m_·rsšgF¿gm’t
(
Œue
)

129 , 
	$m_sütšgP”missiÚ
(
³rmissiÚ
)

131 
äagm’t
->
	`»f
();

132 ià(
m_doc
)

133 
m_doc
->
	`»f
();

136 
VeùÜ
<
EËm’t
*> 
–emSck
;

137 
·»ÁEËm’t
) {

138 
–emSck
.
	`­³nd
(
·»ÁEËm’t
);

140 
Node
* 
n
 = 
·»ÁEËm’t
->
	`·»ÁNode
();

141 ià(!
n
 || !n->
	`isEËm’tNode
())

143 
·»ÁEËm’t
 = 
¡©ic_ÿ¡
<
EËm’t
*>(
n
);

146 ià(
–emSck
.
	`isEm±y
())

149 
QXmlSŒ—mName¥aûDeş¬©iÚs
 
Çme¥aûs
;

150 
EËm’t
* 
–em’t
 = 
–emSck
.
	`Ï¡
(); !–emSck.
	`isEm±y
();ƒËmSck.
	`»moveLa¡
()) {

151 ià(
NamedNodeM­
* 
©Œs
 = 
–em’t
->
	`©Œibu‹s
()) {

152 
i
 = 0; i < 
©Œs
->
	`Ëngth
(); i++) {

153 
A‰ribu‹
* 
©Œ
 = 
©Œs
->
	`©Œibu‹I‹m
(
i
);

154 ià(
©Œ
->
	`loÿlName
() == "xmlns")

155 
m_deçuÉName¥aûURI
 = 
©Œ
->
	`v®ue
();

156 ià(
©Œ
->
	`´efix
() == "xmlns")

157 
Çme¥aûs
.
	`­³nd
(
	`QXmlSŒ—mName¥aûDeş¬©iÚ
(
©Œ
->
	`loÿlName
(),‡‰r->
	`v®ue
()));

161 
m_¡»am
.
	`addExŒaName¥aûDeş¬©iÚs
(
Çme¥aûs
);

162 
m_¡»am
.
	`£tEÁ™yResŞv”
(
Ãw
 
EÁ™yResŞv”
);

165 ià(
m_deçuÉName¥aûURI
.
	`isNuÎ
(è&& !
·»ÁEËm’t
->
	`šDocum’t
())

166 
m_deçuÉName¥aûURI
 = 
·»ÁEËm’t
->
	`Çme¥aûURI
();

167 
	}
}

169 
	gXMLTok’iz”
::~
	$XMLTok’iz”
()

171 
	`ş—rCu¼’tNodeSck
();

172 ià(
m_·rsšgF¿gm’t
 && 
m_doc
)

173 
m_doc
->
	`d”ef
();

174 ià(
m_³ndšgSüt
)

175 
m_³ndšgSüt
->
	`»moveCl›Á
(
this
);

176 
d–‘e
 
m_¡»am
.
	`’t™yResŞv”
();

177 
	}
}

179 
	gXMLTok’iz”
::
	$doWr™e
(cÚ¡ 
SŒšg
& 
·r£SŒšg
)

181 
m_wrÙeText
 = 
Œue
;

183 ià(
m_doc
->
	`decod”
(è&& m_doc->decod”()->
	`§wE¼Ü
()) {

185 
	`hªdËE¼Ü
(
çl
, "Encodšgƒ¼Ü", 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

189 
QSŒšg
 
	`d©a
(
·r£SŒšg
);

190 ià(!
d©a
.
	`isEm±y
()) {

191 
m_¡»am
.
	`addD©a
(
d©a
);

192 
	`·r£
();

196 
	}
}

198 
	gXMLTok’iz”
::
	$š™ŸlizeP¬£rCÚ‹xt
(const *)

200 
m_·r£rStİ³d
 = 
çl£
;

201 
m_§wE¼Ü
 = 
çl£
;

202 
m_§wXSLT¿nsfÜm
 = 
çl£
;

203 
m_§wFœ¡EËm’t
 = 
çl£
;

204 
	}
}

206 
	gXMLTok’iz”
::
	$doEnd
()

208 #ià
	`ENABLE
(
XSLT
)

209 ià(
m_§wXSLT¿nsfÜm
) {

210 
m_doc
->
	`£tT¿nsfÜmSourû
(
Ãw
 
	`T¿nsfÜmSourû
(
m_Üigš®SourûFÜT¿nsfÜm
));

211 
m_doc
->
	`£tP¬sšg
(
çl£
);

212 
m_doc
->
	`upd©eStyËS–eùÜ
();

213 
m_doc
->
	`£tP¬sšg
(
Œue
);

214 
m_·r£rStİ³d
 = 
Œue
;

218 ià(
m_¡»am
.
	`”rÜ
(è=ğ
QXmlSŒ—mR—d”
::
P»m©u»EndOfDocum’tE¼Ü


219 || (
m_wrÙeText
 && !
m_§wFœ¡EËm’t
 && !
m_§wXSLT¿nsfÜm
 && !
m_§wE¼Ü
))

220 
	`hªdËE¼Ü
(
çl
, 
	`qPršbË
(
m_¡»am
.
	`”rÜSŒšg
()), 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

221 
	}
}

223 
	gXMLTok’iz”
::
	$lšeNumb”
() const

225  
m_¡»am
.
	`lšeNumb”
();

226 
	}
}

228 
	gXMLTok’iz”
::
	$cŞumnNumb”
() const

230  
m_¡»am
.
	`cŞumnNumb”
();

231 
	}
}

233 
	gXMLTok’iz”
::
	$¡İP¬sšg
()

235 
Tok’iz”
::
	`¡İP¬sšg
();

236 
	}
}

238 
	gXMLTok’iz”
::
	$»sumeP¬sšg
()

240 
	`ASSERT
(
m_·r£rPau£d
);

242 
m_·r£rPau£d
 = 
çl£
;

245 
	`·r£
();

246 ià(
m_·r£rPau£d
)

250 
Segm’‹dSŒšg
 
»¡
 = 
m_³ndšgSrc
;

251 
m_³ndšgSrc
.
	`ş—r
();

252 
	`wr™e
(
»¡
, 
çl£
);

256 ià(
m_fšishC®Ëd
 && !
m_·r£rPau£d
 && !
m_³ndšgSüt
)

257 
	`’d
();

258 
	}
}

260 
boŞ
 
	$·r£XMLDocum’tF¿gm’t
(cÚ¡ 
SŒšg
& 
chunk
, 
Docum’tF¿gm’t
* 
äagm’t
, 
EËm’t
* 
·»Á
, 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

262 ià(!
chunk
.
	`Ëngth
())

263  
Œue
;

265 
XMLTok’iz”
 
	`tok’iz”
(
äagm’t
, 
·»Á
, 
sütšgP”missiÚ
);

267 
tok’iz”
.
	`wr™e
(
	`SŒšg
("<qxml¡»amdummy–em’t>"), 
çl£
);

268 
tok’iz”
.
	`wr™e
(
chunk
, 
çl£
);

269 
tok’iz”
.
	`wr™e
(
	`SŒšg
("</qxml¡»amdummy–em’t>"), 
çl£
);

270 
tok’iz”
.
	`fšish
();

271  !
tok’iz”
.
	`hasE¼Ü
();

272 
	}
}

276 
	sA‰ribu‹P¬£S‹
 {

277 
	gHashM­
<
	gSŒšg
, SŒšg> 
	g©Œibu‹s
;

278 
boŞ
 
	ggÙA‰ribu‹s
;

281 
	$©Œibu‹sS¹EËm’tNsHªdËr
(
A‰ribu‹P¬£S‹
* 
¡©e
, cÚ¡ 
QXmlSŒ—mA‰ribu‹s
& 
©Œs
)

283 ià(
©Œs
.
	`couÁ
() <= 0)

286 
¡©e
->
gÙA‰ribu‹s
 = 
Œue
;

288 
i
 = 0; i < 
©Œs
.
	`couÁ
(); i++) {

289 cÚ¡ 
QXmlSŒ—mA‰ribu‹
& 
©Œ
 = 
©Œs
[
i
];

290 
SŒšg
 
©ŒLoÿlName
 = 
©Œ
.
	`Çme
();

291 
SŒšg
 
©ŒV®ue
 = 
©Œ
.
	`v®ue
();

292 
SŒšg
 
©ŒURI
 = 
©Œ
.
	`Çme¥aûUri
();

293 
SŒšg
 
©ŒQName
 = 
©Œ
.
	`qu®if›dName
();

294 
¡©e
->
©Œibu‹s
.
	`£t
(
©ŒQName
, 
©ŒV®ue
);

296 
	}
}

298 
	gHashM­
<
	gSŒšg
, SŒšg> 
	$·r£A‰ribu‹s
(cÚ¡ 
SŒšg
& 
¡ršg
, 
boŞ
& 
©ŒsOK
)

300 
A‰ribu‹P¬£S‹
 
¡©e
;

301 
¡©e
.
gÙA‰ribu‹s
 = 
çl£
;

303 
QXmlSŒ—mR—d”
 
¡»am
;

304 
QSŒšg
 
dummy
 = 
	`QSŒšg
(
	`QL©š1SŒšg
("<?xmÈv”siÚ=\"1.0\"?><©Œ %1 />")).
	`¬g
(
¡ršg
);

305 
¡»am
.
	`addD©a
(
dummy
);

306 !
¡»am
.
	`©End
()) {

307 
¡»am
.
	`»adNext
();

308 ià(
¡»am
.
	`isS¹EËm’t
()) {

309 
	`©Œibu‹sS¹EËm’tNsHªdËr
(&
¡©e
, 
¡»am
.
	`©Œibu‹s
());

312 
©ŒsOK
 = 
¡©e
.
gÙA‰ribu‹s
;

313  
¡©e
.
©Œibu‹s
;

314 
	}
}

316 
šlše
 
SŒšg
 
	$´efixFromQName
(cÚ¡ 
QSŒšg
& 
qName
)

318 cÚ¡ 
off£t
 = 
qName
.
	`šdexOf
(
	`QL©š1Ch¬
(':'));

319 ià(
off£t
 <= 0)

320  
	`SŒšg
();

322  
qName
.
	`Ëá
(
off£t
);

323 
	}
}

325 
šlše
 
	$hªdËEËm’tName¥aûs
(
EËm’t
* 
ÃwEËm’t
, cÚ¡ 
QXmlSŒ—mName¥aûDeş¬©iÚs
 &
ns
,

326 
Exû±iÚCode
& 
ec
, 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

328 
i
 = 0; i < 
ns
.
	`couÁ
(); ++i) {

329 cÚ¡ 
QXmlSŒ—mName¥aûDeş¬©iÚ
 &
deş
 = 
ns
[
i
];

330 
SŒšg
 
Çme¥aûURI
 = 
deş
.
	`Çme¥aûUri
();

331 
SŒšg
 
Çme¥aûQName
 = 
deş
.
	`´efix
().
	`isEm±y
(è? 
	`SŒšg
("xmlns") : String("xmlns:") + String(decl.prefix());

332 
ÃwEËm’t
->
	`£tA‰ribu‹NS
("h‰p://www.w3.Üg/2000/xmÊs/", 
Çme¥aûQName
, 
Çme¥aûURI
, 
ec
, 
sütšgP”missiÚ
);

333 ià(
ec
)

336 
	}
}

338 
šlše
 
	$hªdËEËm’tA‰ribu‹s
(
EËm’t
* 
ÃwEËm’t
, cÚ¡ 
QXmlSŒ—mA‰ribu‹s
 &
©Œs
, 
Exû±iÚCode
& 
ec
,

339 
F¿gm’tSütšgP”missiÚ
 
sütšgP”missiÚ
)

341 
i
 = 0; i < 
©Œs
.
	`couÁ
(); ++i) {

342 cÚ¡ 
QXmlSŒ—mA‰ribu‹
 &
©Œ
 = 
©Œs
[
i
];

343 
SŒšg
 
©ŒLoÿlName
 = 
©Œ
.
	`Çme
();

344 
SŒšg
 
©ŒV®ue
 = 
©Œ
.
	`v®ue
();

345 
SŒšg
 
©ŒURI
 = 
©Œ
.
	`Çme¥aûUri
().
	`isEm±y
(è? 
	`SŒšg
() : String(attr.namespaceUri());

346 
SŒšg
 
©ŒQName
 = 
©Œ
.
	`qu®if›dName
();

347 
ÃwEËm’t
->
	`£tA‰ribu‹NS
(
©ŒURI
, 
©ŒQName
, 
©ŒV®ue
, 
ec
, 
sütšgP”missiÚ
);

348 ià(
ec
)

351 
	}
}

353 
	gXMLTok’iz”
::
	$·r£
()

355 !
m_·r£rStİ³d
 && !
m_·r£rPau£d
 && !
m_¡»am
.
	`©End
()) {

356 
m_¡»am
.
	`»adNext
();

357 
m_¡»am
.
	`tok’Ty³
()) {

358 
QXmlSŒ—mR—d”
::
S¹Docum’t
: {

359 
	`¡¬tDocum’t
();

362 
QXmlSŒ—mR—d”
::
EndDocum’t
: {

363 
	`’dDocum’t
();

366 
QXmlSŒ—mR—d”
::
S¹EËm’t
: {

367 #ià
	`ENABLE
(
XHTMLMP
)

368 ià(
m_doc
->
	`isXHTMLMPDocum’t
(è&& !
m_hasDocTy³Deş¬©iÚ
) {

369 
	`hªdËE¼Ü
(
çl
, "DOCTYPE deş¬©iÚ†o¡.", 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

373 
	`·r£S¹EËm’t
();

376 
QXmlSŒ—mR—d”
::
EndEËm’t
: {

377 
	`·r£EndEËm’t
();

380 
QXmlSŒ—mR—d”
::
Ch¬aù”s
: {

381 ià(
m_¡»am
.
	`isCDATA
()) {

383 
	`·r£Cd©a
();

386 
	`·r£Ch¬aù”s
();

390 
QXmlSŒ—mR—d”
::
Comm’t
: {

391 
	`·r£Comm’t
();

394 
QXmlSŒ—mR—d”
::
DTD
: {

396 
	`·r£Dtd
();

397 #ià
	`ENABLE
(
XHTMLMP
)

398 
m_hasDocTy³Deş¬©iÚ
 = 
Œue
;

402 
QXmlSŒ—mR—d”
::
EÁ™yReã»nû
: {

405 ià(
	`isXHTMLDocum’t
()

406 #ià
	`ENABLE
(
XHTMLMP
)

407 || 
	`isXHTMLMPDocum’t
()

409 #ià
	`ENABLE
(
WML
)

410 || 
	`isWMLDocum’t
()

413 
QSŒšg
 
’t™y
 = 
m_¡»am
.
	`Çme
().
	`toSŒšg
();

414 
UCh¬
 
c
 = 
	`decodeNamedEÁ™y
(
’t™y
.
	`toUtf8
().
	`cÚ¡D©a
());

415 ià(
m_cu¼’tNode
->
	`isTextNode
(è|| 
	`’‹rText
()) {

416 
Exû±iÚCode
 
ec
 = 0;

417 
SŒšg
 
	`¡r
(&
c
, 1);

419 
¡©ic_ÿ¡
<
Text
*>(
m_cu¼’tNode
)->
	`­³ndD©a
(
¡r
, 
ec
);

424 
QXmlSŒ—mR—d”
::
ProûssšgIn¡ruùiÚ
: {

425 
	`·r£ProûssšgIn¡ruùiÚ
();

429 ià(
m_¡»am
.
	`”rÜ
(è!ğ
QXmlSŒ—mR—d”
::
P»m©u»EndOfDocum’tE¼Ü
) {

430 
E¼ÜTy³
 
ty³
 = (
m_¡»am
.
	`”rÜ
(è=ğ
QXmlSŒ—mR—d”
::
NÙW–lFÜmedE¼Ü
) ?

431 
çl
 : 
w¬nšg
;

432 
	`hªdËE¼Ü
(
ty³
, 
	`qPršbË
(
m_¡»am
.
	`”rÜSŒšg
()), 
	`lšeNumb”
(),

433 
	`cŞumnNumb”
());

439 
	}
}

441 
	gXMLTok’iz”
::
	$¡¬tDocum’t
()

443 
	`š™ŸlizeP¬£rCÚ‹xt
();

444 
Exû±iÚCode
 
ec
 = 0;

446 ià(!
m_·rsšgF¿gm’t
) {

447 
m_doc
->
	`£tXMLSnd®Úe
(
m_¡»am
.
	`isSnd®ÚeDocum’t
(), 
ec
);

449 
QSŒšgRef
 
v”siÚ
 = 
m_¡»am
.
	`docum’tV”siÚ
();

450 ià(!
v”siÚ
.
	`isEm±y
())

451 
m_doc
->
	`£tXMLV”siÚ
(
v”siÚ
, 
ec
);

452 
QSŒšgRef
 
’codšg
 = 
m_¡»am
.
	`docum’tEncodšg
();

453 ià(!
’codšg
.
	`isEm±y
())

454 
m_doc
->
	`£tXMLEncodšg
(
’codšg
);

456 
	}
}

458 
	gXMLTok’iz”
::
	$·r£S¹EËm’t
()

460 ià(!
m_§wFœ¡EËm’t
 && 
m_·rsšgF¿gm’t
) {

462 
m_§wFœ¡EËm’t
 = 
Œue
;

466 
	`ex™Text
();

468 
SŒšg
 
loÿlName
 = 
m_¡»am
.
	`Çme
();

469 
SŒšg
 
uri
 = 
m_¡»am
.
	`Çme¥aûUri
();

470 
SŒšg
 
´efix
 = 
	`´efixFromQName
(
m_¡»am
.
	`qu®if›dName
().
	`toSŒšg
());

472 ià(
m_·rsšgF¿gm’t
 && 
uri
.
	`isNuÎ
()) {

473 
	`Q_ASSERT
(
´efix
.
	`isNuÎ
());

474 
uri
 = 
m_deçuÉName¥aûURI
;

477 
Qu®if›dName
 
	`qName
(
´efix
, 
loÿlName
, 
uri
);

478 
RefPŒ
<
EËm’t
> 
ÃwEËm’t
 = 
m_doc
->
	`ü—‹EËm’t
(
qName
, 
Œue
);

479 ià(!
ÃwEËm’t
) {

480 
	`¡İP¬sšg
();

484 #ià
	`ENABLE
(
XHTMLMP
)

485 ià(!
m_§wFœ¡EËm’t
 && 
	`isXHTMLMPDocum’t
()) {

490 ià(
loÿlName
 !ğ
HTMLNames
::
htmlTag
.
	`loÿlName
()) {

491 
	`hªdËE¼Ü
(
çl
, "XHTMLMP docum’ˆex³ù 'html'‡ roÙƒËm’t.", 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

495 ià(
uri
.
	`isNuÎ
()) {

496 
m_deçuÉName¥aûURI
 = 
HTMLNames
::
xhtmlName¥aûURI
;

497 
uri
 = 
m_deçuÉName¥aûURI
;

498 
m_¡»am
.
	`addExŒaName¥aûDeş¬©iÚ
(
	`QXmlSŒ—mName¥aûDeş¬©iÚ
(
´efix
, 
HTMLNames
::
xhtmlName¥aûURI
));

503 
boŞ
 
isFœ¡EËm’t
 = !
m_§wFœ¡EËm’t
;

504 
m_§wFœ¡EËm’t
 = 
Œue
;

506 
Exû±iÚCode
 
ec
 = 0;

507 
	`hªdËEËm’tName¥aûs
(
ÃwEËm’t
.
	`g‘
(), 
m_¡»am
.
	`Çme¥aûDeş¬©iÚs
(), 
ec
, 
m_sütšgP”missiÚ
);

508 ià(
ec
) {

509 
	`¡İP¬sšg
();

513 
	`hªdËEËm’tA‰ribu‹s
(
ÃwEËm’t
.
	`g‘
(), 
m_¡»am
.
	`©Œibu‹s
(), 
ec
, 
m_sütšgP”missiÚ
);

514 ià(
ec
) {

515 
	`¡İP¬sšg
();

519 
SütEËm’t
* 
sütEËm’t
 = 
	`toSütEËm’t
(
ÃwEËm’t
.
	`g‘
());

520 ià(
sütEËm’t
)

521 
m_sütS¹Lše
 = 
	`lšeNumb”
();

523 ià(!
m_cu¼’tNode
->
	`addChd
(
ÃwEËm’t
.
	`g‘
())) {

524 
	`¡İP¬sšg
();

528 
	`pushCu¼’tNode
(
ÃwEËm’t
.
	`g‘
());

529 ià(
m_v›w
 && !
ÃwEËm’t
->
	`©ched
())

530 
ÃwEËm’t
->
	`©ch
();

532 ià(
isFœ¡EËm’t
 && 
m_doc
->
	`äame
())

533 
m_doc
->
	`äame
()->
	`lßd”
()->
	`di¥©chDocum’tEËm’tAvaabË
();

534 
	}
}

536 
	gXMLTok’iz”
::
	$·r£EndEËm’t
()

538 
	`ex™Text
();

540 
Node
* 
n
 = 
m_cu¼’tNode
;

541 
n
->
	`fšishP¬sšgChd»n
();

543 ià(
m_sütšgP”missiÚ
 =ğ
F¿gm’tSütšgNÙAÎowed
 && 
n
->
	`isEËm’tNode
(è&& 
	`toSütEËm’t
(
¡©ic_ÿ¡
<
EËm’t
*>(n))) {

544 
	`pİCu¼’tNode
();

545 
Exû±iÚCode
 
ec
;

546 
n
->
	`»move
(
ec
);

550 ià(!
n
->
	`isEËm’tNode
(è|| !
m_v›w
) {

551 ià(!
m_cu¼’tNodeSck
.
	`isEm±y
())

552 
	`pİCu¼’tNode
();

556 
EËm’t
* 
–em’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
n
);

560 ià(!
–em’t
->
	`šDocum’t
()) {

561 
	`pİCu¼’tNode
();

565 
SütEËm’t
* 
sütEËm’t
 = 
	`toSütEËm’t
(
–em’t
);

566 ià(!
sütEËm’t
) {

567 
	`pİCu¼’tNode
();

572 
	`ASSERT
(!
m_³ndšgSüt
);

573 
m_»que¡šgSüt
 = 
Œue
;

575 #ià
	`ENABLE
(
XHTMLMP
)

576 ià(!
sütEËm’t
->
	`shouldExecu‹AsJavaSüt
())

577 
m_doc
->
	`£tShouldProûssNosütEËm’t
(
Œue
);

581 
SŒšg
 
sütH»f
 = 
sütEËm’t
->
	`sourûA‰ribu‹V®ue
();

582 ià(!
sütH»f
.
	`isEm±y
()) {

584 
SŒšg
 
sütCh¬£t
 = 
sütEËm’t
->
	`sütCh¬£t
();

585 ià(
–em’t
->
	`di¥©chBefÜeLßdEv’t
(
sütH»f
) &&

586 (
m_³ndšgSüt
 = 
m_doc
->
	`docLßd”
()->
	`»que¡Süt
(
sütH»f
, 
sütCh¬£t
))) {

587 
m_sütEËm’t
 = 
–em’t
;

588 
m_³ndšgSüt
->
	`addCl›Á
(
this
);

591 ià(
m_³ndšgSüt
)

592 
	`·u£P¬sšg
();

594 
m_sütEËm’t
 = 0;

596 
m_v›w
->
	`äame
()->
	`süt
()->
	`execu‹Süt
(
	`SütSourûCode
(
sütEËm’t
->
	`sütCÚ‹Á
(), 
m_doc
->
	`u¾
(), 
m_sütS¹Lše
));

598 
m_»que¡šgSüt
 = 
çl£
;

599 
	`pİCu¼’tNode
();

600 
	}
}

602 
	gXMLTok’iz”
::
	$·r£Ch¬aù”s
()

604 ià(
m_cu¼’tNode
->
	`isTextNode
(è|| 
	`’‹rText
()) {

605 
Exû±iÚCode
 
ec
 = 0;

606 
¡©ic_ÿ¡
<
Text
*>(
m_cu¼’tNode
)->
	`­³ndD©a
(
m_¡»am
.
	`‹xt
(), 
ec
);

608 
	}
}

610 
	gXMLTok’iz”
::
	$·r£ProûssšgIn¡ruùiÚ
()

612 
	`ex™Text
();

615 
exû±iÚ
 = 0;

616 
RefPŒ
<
ProûssšgIn¡ruùiÚ
> 
pi
 = 
m_doc
->
	`ü—‹ProûssšgIn¡ruùiÚ
(

617 
m_¡»am
.
	`´oûssšgIn¡ruùiÚT¬g‘
(),

618 
m_¡»am
.
	`´oûssšgIn¡ruùiÚD©a
(), 
exû±iÚ
);

619 ià(
exû±iÚ
)

622 
pi
->
	`£tC»©edByP¬£r
(
Œue
);

624 ià(!
m_cu¼’tNode
->
	`addChd
(
pi
.
	`g‘
()))

626 ià(
m_v›w
 && !
pi
->
	`©ched
())

627 
pi
->
	`©ch
();

629 
pi
->
	`fšishP¬sšgChd»n
();

631 #ià
	`ENABLE
(
XSLT
)

632 
m_§wXSLT¿nsfÜm
 = !
m_§wFœ¡EËm’t
 && 
pi
->
	`isXSL
();

633 ià(
m_§wXSLT¿nsfÜm
 && !
m_doc
->
	`ŒªsfÜmSourûDocum’t
())

634 
	`¡İP¬sšg
();

636 
	}
}

638 
	gXMLTok’iz”
::
	$·r£Cd©a
()

640 
	`ex™Text
();

642 
RefPŒ
<
Node
> 
ÃwNode
 = 
CDATASeùiÚ
::
	`ü—‹
(
m_doc
, 
m_¡»am
.
	`‹xt
());

643 ià(!
m_cu¼’tNode
->
	`addChd
(
ÃwNode
.
	`g‘
()))

645 ià(
m_v›w
 && !
ÃwNode
->
	`©ched
())

646 
ÃwNode
->
	`©ch
();

647 
	}
}

649 
	gXMLTok’iz”
::
	$·r£Comm’t
()

651 
	`ex™Text
();

653 
RefPŒ
<
Node
> 
ÃwNode
 = 
Comm’t
::
	`ü—‹
(
m_doc
, 
m_¡»am
.
	`‹xt
());

654 
m_cu¼’tNode
->
	`addChd
(
ÃwNode
.
	`g‘
());

655 ià(
m_v›w
 && !
ÃwNode
->
	`©ched
())

656 
ÃwNode
->
	`©ch
();

657 
	}
}

659 
	gXMLTok’iz”
::
	$’dDocum’t
()

661 #ià
	`ENABLE
(
XHTMLMP
)

662 
m_hasDocTy³Deş¬©iÚ
 = 
çl£
;

664 
	}
}

666 
boŞ
 
	gXMLTok’iz”
::
	$hasE¼Ü
() const

668  
m_¡»am
.
	`hasE¼Ü
();

669 
	}
}

671 
	gXMLTok’iz”
::
	$·r£Dtd
()

673 
QSŒšgRef
 
Çme
 = 
m_¡»am
.
	`dtdName
();

674 
QSŒšgRef
 
publicId
 = 
m_¡»am
.
	`dtdPublicId
();

675 
QSŒšgRef
 
sy¡emId
 = 
m_¡»am
.
	`dtdSy¡emId
();

678 ià((
publicId
 =ğ
	`QL©š1SŒšg
("-//W3C//DTD XHTML 1.0 Transitional//EN"))

679 || (
publicId
 =ğ
	`QL©š1SŒšg
("-//W3C//DTD XHTML 1.1//EN"))

680 || (
publicId
 =ğ
	`QL©š1SŒšg
("-//W3C//DTD XHTML 1.0 Strict//EN"))

681 || (
publicId
 =ğ
	`QL©š1SŒšg
("-//W3C//DTD XHTML 1.0 Frameset//EN"))

682 || (
publicId
 =ğ
	`QL©š1SŒšg
("-//W3C//DTD XHTML Basic 1.0//EN"))

683 || (
publicId
 =ğ
	`QL©š1SŒšg
("-//W3C//DTD XHTML 1.1…lus MathML 2.0//EN"))

684 || (
publicId
 =ğ
	`QL©š1SŒšg
("-//W3C//DTD XHTML 1.1…lus MathML 2.0…lus SVG 1.1//EN"))

685 #ià!
	`ENABLE
(
XHTMLMP
)

686 || (
publicId
 =ğ
	`QL©š1SŒšg
("-//WAPFORUM//DTD XHTML Mobile 1.0//EN"))

689 
	`£tIsXHTMLDocum’t
(
Œue
);

690 #ià
	`ENABLE
(
XHTMLMP
)

691 ià((
publicId
 =ğ
	`QL©š1SŒšg
("-//WAPFORUM//DTD XHTML Mobile 1.1//EN"))

692 || (
publicId
 =ğ
	`QL©š1SŒšg
("-//WAPFORUM//DTD XHTML Mobile 1.0//EN"))) {

693 ià(
	`AtomicSŒšg
(
Çme
è!ğ
HTMLNames
::
htmlTag
.
	`loÿlName
()) {

694 
	`hªdËE¼Ü
(
çl
, "Inv®id DOCTYPE deş¬©iÚ,ƒx³ùed 'html'‡ roÙƒËm’t.", 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

698 ià(
m_doc
->
	`isXHTMLMPDocum’t
())

699 
	`£tIsXHTMLMPDocum’t
(
Œue
);

701 
	`£tIsXHTMLDocum’t
(
Œue
);

704 #ià
	`ENABLE
(
WML
)

705 ià(
m_doc
->
	`isWMLDocum’t
()

706 && 
publicId
 !ğ
	`QL©š1SŒšg
("-//WAPFORUM//DTD WML 1.3//EN")

707 && 
publicId
 !ğ
	`QL©š1SŒšg
("-//WAPFORUM//DTD WML 1.2//EN")

708 && 
publicId
 !ğ
	`QL©š1SŒšg
("-//WAPFORUM//DTD WML 1.1//EN")

709 && 
publicId
 !ğ
	`QL©š1SŒšg
("-//WAPFORUM//DTD WML 1.0//EN"))

710 
	`hªdËE¼Ü
(
çl
, "Inv®id DTD PubliøID", 
	`lšeNumb”
(), 
	`cŞumnNumb”
());

712 ià(!
m_·rsšgF¿gm’t
)

713 
m_doc
->
	`addChd
(
Docum’tTy³
::
	`ü—‹
(m_doc, 
Çme
, 
publicId
, 
sy¡emId
));

715 
	}
}

	@XMLTokenizerScope.cpp

26 
	~"cÚfig.h
"

27 
	~"XMLTok’iz”Scİe.h
"

29 
Çme¥aû
 
	gWebCÜe
 {

31 
DocLßd”
* 
	gXMLTok’iz”Scİe
::
cu¼’tDocLßd”
 = 0;

33 
	gXMLTok’iz”Scİe
::
XMLTok’iz”Scİe
(
DocLßd”
* 
docLßd”
)

34 : 
m_ŞdDocLßd”
(
cu¼’tDocLßd”
)

35 #ià
ENABLE
(
XSLT
)

36 , 
m_ŞdG’”icE¼ÜFunc
(
xmlG’”icE¼Ü
)

37 , 
m_ŞdSŒuùu»dE¼ÜFunc
(
xmlSŒuùu»dE¼Ü
)

38 , 
m_ŞdE¼ÜCÚ‹xt
(
xmlG’”icE¼ÜCÚ‹xt
)

41 
	gcu¼’tDocLßd”
 = 
docLßd”
;

44 #ià
ENABLE
(
XSLT
)

45 
	gXMLTok’iz”Scİe
::
XMLTok’iz”Scİe
(
DocLßd”
* 
docLßd”
, 
xmlG’”icE¼ÜFunc
 
g’”icE¼ÜFunc
, 
xmlSŒuùu»dE¼ÜFunc
 
¡ruùu»dE¼ÜFunc
, * 
”rÜCÚ‹xt
)

46 : 
m_ŞdDocLßd”
(
cu¼’tDocLßd”
)

47 , 
m_ŞdG’”icE¼ÜFunc
(
xmlG’”icE¼Ü
)

48 , 
m_ŞdSŒuùu»dE¼ÜFunc
(
xmlSŒuùu»dE¼Ü
)

49 , 
m_ŞdE¼ÜCÚ‹xt
(
xmlG’”icE¼ÜCÚ‹xt
)

51 
	gcu¼’tDocLßd”
 = 
docLßd”
;

52 ià(
	gg’”icE¼ÜFunc
)

53 
xmlS‘G’”icE¼ÜFunc
(
”rÜCÚ‹xt
, 
g’”icE¼ÜFunc
);

54 ià(
	g¡ruùu»dE¼ÜFunc
)

55 
xmlS‘SŒuùu»dE¼ÜFunc
(
”rÜCÚ‹xt
, 
¡ruùu»dE¼ÜFunc
);

59 
	gXMLTok’iz”Scİe
::~
XMLTok’iz”Scİe
()

61 
cu¼’tDocLßd”
 = 
m_ŞdDocLßd”
;

62 #ià
ENABLE
(
XSLT
)

63 
xmlS‘G’”icE¼ÜFunc
(
m_ŞdE¼ÜCÚ‹xt
, 
m_ŞdG’”icE¼ÜFunc
);

64 
xmlS‘SŒuùu»dE¼ÜFunc
(
m_ŞdE¼ÜCÚ‹xt
, 
m_ŞdSŒuùu»dE¼ÜFunc
);

	@XMLTokenizerScope.h

26 #iâdeà
XMLTok’iz”Scİe_h


27 
	#XMLTok’iz”Scİe_h


	)

29 
	~<wtf/NÚcİyabË.h
>

31 #ià
ENABLE
(
XSLT
)

32 
	~<libxml/Œ“.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gDocLßd”
;

39 şas 
	cXMLTok’iz”Scİe
 : 
public
 
NÚcİyabË
 {

40 
public
:

41 
XMLTok’iz”Scİe
(
DocLßd”
* 
docLßd”
);

42 ~
XMLTok’iz”Scİe
();

44 
DocLßd”
* 
	gcu¼’tDocLßd”
;

46 #ià
ENABLE
(
XSLT
)

47 
XMLTok’iz”Scİe
(
DocLßd”
* 
docLßd”
, 
xmlG’”icE¼ÜFunc
 
g’”icE¼ÜFunc
, 
xmlSŒuùu»dE¼ÜFunc
 
¡ruùu»dE¼ÜFunc
 = 0, * 
”rÜCÚ‹xt
 = 0);

50 
	g´iv©e
:

51 
DocLßd”
* 
m_ŞdDocLßd”
;

53 #ià
ENABLE
(
XSLT
)

54 
xmlG’”icE¼ÜFunc
 
	gm_ŞdG’”icE¼ÜFunc
;

55 
xmlSŒuùu»dE¼ÜFunc
 
	gm_ŞdSŒuùu»dE¼ÜFunc
;

56 * 
	gm_ŞdE¼ÜCÚ‹xt
;

	@/usr/include/libxslt/xslt.h

10 #iâdeà
__XML_XSLT_H__


11 
	#__XML_XSLT_H__


	)

13 
	~<libxml/Œ“.h
>

14 
	~"x¦‹xpÜts.h
"

16 #ifdeà
__ılu¥lus


25 
	#XSLT_DEFAULT_VERSION
 "1.0"

	)

32 
	#XSLT_DEFAULT_VENDOR
 "libx¦t"

	)

39 
	#XSLT_DEFAULT_URL
 "h‰p://xmlsoá.Üg/XSLT/"

	)

46 
	#XSLT_NAMESPACE
 ((
xmlCh¬
 *è"h‰p://www.w3.Üg/1999/XSL/T¿nsfÜm")

	)

54 
	#XSLT_PARSE_OPTIONS
 \

55 
XML_PARSE_NOENT
 | 
XML_PARSE_DTDLOAD
 | 
XML_PARSE_DTDATTR
 | 
XML_PARSE_NOCDATA


	)

62 
XSLTPUBVAR
 
x¦tMaxD•th
;

69 
XSLTPUBVAR
 cÚ¡ *
x¦tEngšeV”siÚ
;

76 
XSLTPUBVAR
 cÚ¡ 
x¦tLibx¦tV”siÚ
;

83 
XSLTPUBVAR
 cÚ¡ 
x¦tLibxmlV”siÚ
;

89 
XSLTPUBFUN
 
XSLTCALL


90 
x¦tIn™
 ();

95 
XSLTPUBFUN
 
XSLTCALL


96 
x¦tCËªupGlob®s
 ();

98 #ifdeà
__ılu¥lus


	@/usr/include/stdio.h

24 #iâdeà
_STDIO_H


26 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


27 
	#_STDIO_H
 1

	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


32 
	#__Ãed_size_t


	)

33 
	#__Ãed_NULL


	)

34 
	~<¡ddef.h
>

36 
	~<b™s/ty³s.h
>

37 
	#__Ãed_FILE


	)

38 
	#__Ãed___FILE


	)

42 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


45 
	g_IO_FILE
;

47 
__BEGIN_NAMESPACE_STD


49 
_IO_FILE
 
	tFILE
;

50 
	g__END_NAMESPACE_STD


51 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_SVID
 || defšed 
__USE_POSIX
 \

52 || 
defšed
 
	g__USE_BSD
 || defšed 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

53 || 
defšed
 
__USE_POSIX2


54 
	$__USING_NAMESPACE_STD
(
FILE
)

57 
	#__FILE_defšed
 1

	)

59 #undeà
__Ãed_FILE


62 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


65 
_IO_FILE
 
	t__FILE
;

67 
	#____FILE_defšed
 1

	)

69 #undeà
__Ãed___FILE


72 #ifdef 
_STDIO_H


73 
	#_STDIO_USES_IOSTREAM


	)

75 
	~<libio.h
>

77 #ifdeà
__USE_XOPEN


78 #ifdeà
__GNUC__


79 #iâdeà
_VA_LIST_DEFINED


80 
_G_va_li¡
 
	tva_li¡
;

81 
	#_VA_LIST_DEFINED


	)

84 
	~<¡d¬g.h
>

89 
__BEGIN_NAMESPACE_STD


90 #iâdeà
__USE_FILE_OFFSET64


91 
_G_åos_t
 
	tåos_t
;

93 
_G_åos64_t
 
	tåos_t
;

95 
__END_NAMESPACE_STD


96 #ifdeà
__USE_LARGEFILE64


97 
_G_åos64_t
 
	tåos64_t
;

101 
	#_IOFBF
 0

	)

102 
	#_IOLBF
 1

	)

103 
	#_IONBF
 2

	)

107 #iâdeà
BUFSIZ


108 
	#BUFSIZ
 
_IO_BUFSIZ


	)

114 #iâdeà
EOF


115 
	#EOF
 (-1)

	)

121 
	#SEEK_SET
 0

	)

122 
	#SEEK_CUR
 1

	)

123 
	#SEEK_END
 2

	)

126 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


128 
	#P_tmpdœ
 "/tmp"

	)

141 
	~<b™s/¡dio_lim.h
>

145 
_IO_FILE
 *
¡dš
;

146 
_IO_FILE
 *
¡dout
;

147 
_IO_FILE
 *
¡d”r
;

149 
	#¡dš
 
¡dš


	)

150 
	#¡dout
 
¡dout


	)

151 
	#¡d”r
 
¡d”r


	)

153 
__BEGIN_NAMESPACE_STD


155 
	$»move
 (
__cÚ¡
 *
__f’ame
è
__THROW
;

157 
	$»Çme
 (
__cÚ¡
 *
__Şd
, __cÚ¡ *
__Ãw
è
__THROW
;

158 
__END_NAMESPACE_STD


160 #ifdeà
__USE_ATFILE


162 
	$»Çm—t
 (
__Şdfd
, 
__cÚ¡
 *
__Şd
, 
__Ãwfd
,

163 
__cÚ¡
 *
__Ãw
è
__THROW
;

166 
__BEGIN_NAMESPACE_STD


171 #iâdeà
__USE_FILE_OFFSET64


172 
FILE
 *
	$tmpfe
 (è
__wur
;

174 #ifdeà
__REDIRECT


175 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

177 
	#tmpfe
 
tmpfe64


	)

181 #ifdeà
__USE_LARGEFILE64


182 
FILE
 *
	$tmpfe64
 (è
__wur
;

186 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

187 
__END_NAMESPACE_STD


189 #ifdeà
__USE_MISC


192 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

196 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


204 *
	$‹m²am
 (
__cÚ¡
 *
__dœ
, __cÚ¡ *
__pfx
)

205 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

209 
__BEGIN_NAMESPACE_STD


214 
	`fşo£
 (
FILE
 *
__¡»am
);

219 
	`fæush
 (
FILE
 *
__¡»am
);

220 
__END_NAMESPACE_STD


222 #ifdeà
__USE_MISC


229 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

232 #ifdeà
__USE_GNU


239 
	`fşo£®l
 ();

243 
__BEGIN_NAMESPACE_STD


244 #iâdeà
__USE_FILE_OFFSET64


249 
FILE
 *
	$fİ’
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

250 
__cÚ¡
 *
__»¡riù
 
__modes
è
__wur
;

255 
FILE
 *
	$äeİ’
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

256 
__cÚ¡
 *
__»¡riù
 
__modes
,

257 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

259 #ifdeà
__REDIRECT


260 
FILE
 *
	`__REDIRECT
 (
fİ’
, (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

261 
__cÚ¡
 *
__»¡riù
 
__modes
), 
fİ’64
)

262 
__wur
;

263 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

264 
__cÚ¡
 *
__»¡riù
 
__modes
,

265 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

266 
__wur
;

268 
	#fİ’
 
fİ’64


	)

269 
	#äeİ’
 
äeİ’64


	)

272 
__END_NAMESPACE_STD


273 #ifdeà
__USE_LARGEFILE64


274 
FILE
 *
	$fİ’64
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

275 
__cÚ¡
 *
__»¡riù
 
__modes
è
__wur
;

276 
FILE
 *
	$äeİ’64
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

277 
__cÚ¡
 *
__»¡riù
 
__modes
,

278 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

281 #ifdef 
__USE_POSIX


283 
FILE
 *
	$fdİ’
 (
__fd
, 
__cÚ¡
 *
__modes
è
__THROW
 
__wur
;

286 #ifdef 
__USE_GNU


289 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

290 
__cÚ¡
 *
__»¡riù
 
__modes
,

291 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

294 #ifdeà
__USE_XOPEN2K8


296 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, 
__cÚ¡
 *
__modes
)

297 
__THROW
 
__wur
;

302 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

306 
__BEGIN_NAMESPACE_STD


309 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

313 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

314 
__modes
, 
size_t
 
__n
è
__THROW
;

315 
__END_NAMESPACE_STD


317 #ifdef 
__USE_BSD


320 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

321 
size_t
 
__size
è
__THROW
;

324 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

328 
__BEGIN_NAMESPACE_STD


333 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

334 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

339 
	`´štf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

341 
	$¥rštf
 (*
__»¡riù
 
__s
,

342 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

348 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fÜm©
,

349 
_G_va_li¡
 
__¬g
);

354 
	`v´štf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

356 
	$v¥rštf
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fÜm©
,

357 
_G_va_li¡
 
__¬g
è
__THROW
;

358 
__END_NAMESPACE_STD


360 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


361 
__BEGIN_NAMESPACE_C99


363 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

364 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...)

365 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

367 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

368 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

369 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

370 
__END_NAMESPACE_C99


373 #ifdeà
__USE_GNU


376 
	$va¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__f
,

377 
_G_va_li¡
 
__¬g
)

378 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

379 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

380 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

381 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

382 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

383 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

384 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

387 #ifdeà
__USE_XOPEN2K8


394 
	$vd´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
,

395 
_G_va_li¡
 
__¬g
)

396 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

397 
	$d´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

398 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

402 
__BEGIN_NAMESPACE_STD


407 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

408 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

413 
	$sÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

415 
	$ssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

416 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

418 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

419 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

420 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

421 #ifdeà
__REDIRECT


425 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

426 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...),

427 
__isoc99_fsÿnf
è
__wur
;

428 
	`__REDIRECT
 (
sÿnf
, (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...),

429 
__isoc99_sÿnf
è
__wur
;

430 
	`__REDIRECT
 (
ssÿnf
, (
__cÚ¡
 *
__»¡riù
 
__s
,

431 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...),

432 
__isoc99_ssÿnf
è
__THROW
;

434 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

435 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

436 
	$__isoc99_sÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

437 
	$__isoc99_ssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

438 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

439 
	#fsÿnf
 
__isoc99_fsÿnf


	)

440 
	#sÿnf
 
__isoc99_sÿnf


	)

441 
	#ssÿnf
 
__isoc99_ssÿnf


	)

445 
__END_NAMESPACE_STD


447 #ifdef 
__USE_ISOC99


448 
__BEGIN_NAMESPACE_C99


453 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fÜm©
,

454 
_G_va_li¡
 
__¬g
)

455 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

461 
	$vsÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

462 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

465 
	$vssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

466 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

467 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

469 #ià!
defšed
 
__USE_GNU
 \

470 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

471 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

472 #ifdeà
__REDIRECT


476 
	`__REDIRECT
 (
vfsÿnf
,

477 (
FILE
 *
__»¡riù
 
__s
,

478 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

479 
__isoc99_vfsÿnf
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

481 
	`__REDIRECT
 (
vsÿnf
, (
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

482 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

483 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

484 
	`__REDIRECT
 (
vssÿnf
,

485 (
__cÚ¡
 *
__»¡riù
 
__s
,

486 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

487 
__isoc99_vssÿnf
)

488 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

490 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

491 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

492 
_G_va_li¡
 
__¬g
è
__wur
;

493 
	$__isoc99_vsÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

494 
_G_va_li¡
 
__¬g
è
__wur
;

495 
	$__isoc99_vssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

496 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

497 
_G_va_li¡
 
__¬g
è
__THROW
;

498 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

499 
	#vsÿnf
 
__isoc99_vsÿnf


	)

500 
	#vssÿnf
 
__isoc99_vssÿnf


	)

504 
__END_NAMESPACE_C99


508 
__BEGIN_NAMESPACE_STD


513 
	`fg‘c
 (
FILE
 *
__¡»am
);

514 
	`g‘c
 (
FILE
 *
__¡»am
);

520 
	`g‘ch¬
 ();

521 
__END_NAMESPACE_STD


525 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

527 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


532 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

533 
	`g‘ch¬_uÆocked
 ();

536 #ifdeà
__USE_MISC


543 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

547 
__BEGIN_NAMESPACE_STD


555 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

556 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

562 
	`putch¬
 (
__c
);

563 
__END_NAMESPACE_STD


567 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

569 #ifdeà
__USE_MISC


576 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

579 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


584 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

585 
	`putch¬_uÆocked
 (
__c
);

589 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 \

590 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

592 
	`g‘w
 (
FILE
 *
__¡»am
);

595 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

599 
__BEGIN_NAMESPACE_STD


604 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

605 
__wur
;

612 *
	$g‘s
 (*
__s
è
__wur
;

613 
__END_NAMESPACE_STD


615 #ifdeà
__USE_GNU


622 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

623 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

627 #ifdef 
__USE_XOPEN2K8


638 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

639 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

640 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

641 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

642 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

643 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

651 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

652 
size_t
 *
__»¡riù
 
__n
,

653 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

657 
__BEGIN_NAMESPACE_STD


662 
	`åuts
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

668 
	`puts
 (
__cÚ¡
 *
__s
);

675 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

682 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

683 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

688 
size_t
 
	$fwr™e
 (
__cÚ¡
 *
__»¡riù
 
__±r
, 
size_t
 
__size
,

689 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
è
__wur
;

690 
__END_NAMESPACE_STD


692 #ifdeà
__USE_GNU


699 
	`åuts_uÆocked
 (
__cÚ¡
 *
__»¡riù
 
__s
,

700 
FILE
 *
__»¡riù
 
__¡»am
);

703 #ifdeà
__USE_MISC


710 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

711 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

712 
size_t
 
	$fwr™e_uÆocked
 (
__cÚ¡
 *
__»¡riù
 
__±r
, 
size_t
 
__size
,

713 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

717 
__BEGIN_NAMESPACE_STD


722 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

727 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

732 
	`»wšd
 (
FILE
 *
__¡»am
);

733 
__END_NAMESPACE_STD


740 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


741 #iâdeà
__USE_FILE_OFFSET64


746 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

751 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

753 #ifdeà
__REDIRECT


754 
	`__REDIRECT
 (
f£eko
,

755 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

756 
f£eko64
);

757 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

759 
	#f£eko
 
f£eko64


	)

760 
	#á–lo
 
á–lo64


	)

765 
__BEGIN_NAMESPACE_STD


766 #iâdeà
__USE_FILE_OFFSET64


771 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

776 
	`f£os
 (
FILE
 *
__¡»am
, 
__cÚ¡
 
åos_t
 *
__pos
);

778 #ifdeà
__REDIRECT


779 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

780 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

781 
	`__REDIRECT
 (
f£os
,

782 (
FILE
 *
__¡»am
, 
__cÚ¡
 
åos_t
 *
__pos
), 
f£os64
);

784 
	#fg‘pos
 
fg‘pos64


	)

785 
	#f£os
 
f£os64


	)

788 
__END_NAMESPACE_STD


790 #ifdeà
__USE_LARGEFILE64


791 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

792 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

793 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

794 
	`f£os64
 (
FILE
 *
__¡»am
, 
__cÚ¡
 
åos64_t
 *
__pos
);

797 
__BEGIN_NAMESPACE_STD


799 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

801 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

803 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

804 
__END_NAMESPACE_STD


806 #ifdeà
__USE_MISC


808 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

809 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

810 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

814 
__BEGIN_NAMESPACE_STD


819 
	`³¼Ü
 (
__cÚ¡
 *
__s
);

820 
__END_NAMESPACE_STD


826 
	~<b™s/sys_”¾i¡.h
>

829 #ifdef 
__USE_POSIX


831 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

834 #ifdeà
__USE_MISC


836 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

840 #ià(
defšed
 
__USE_POSIX2
 || defšed 
__USE_SVID
 || defšed 
__USE_BSD
 || \

841 
defšed
 
__USE_MISC
)

846 
FILE
 *
	$pİ’
 (
__cÚ¡
 *
__commªd
, __cÚ¡ *
__modes
è
__wur
;

852 
	`pşo£
 (
FILE
 *
__¡»am
);

856 #ifdef 
__USE_POSIX


858 *
	$ù”mid
 (*
__s
è
__THROW
;

862 #ifdeà
__USE_XOPEN


864 *
	`cu£rid
 (*
__s
);

868 #ifdef 
__USE_GNU


869 
ob¡ack
;

872 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

873 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...)

874 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

875 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

876 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

877 
_G_va_li¡
 
__¬gs
)

878 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

882 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


886 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

890 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

893 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

896 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


900 
	#__Ãed_g‘İt


	)

901 
	~<g‘İt.h
>

906 #ifdeà
__USE_EXTERN_INLINES


907 
	~<b™s/¡dio.h
>

909 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


910 
	~<b™s/¡dio2.h
>

912 #ifdeà
__LDBL_COMPAT


913 
	~<b™s/¡dio-ldbl.h
>

916 
__END_DECLS


	@/usr/include/bits/stdio-ldbl.h

20 #iâdeà
_STDIO_H


24 
__BEGIN_NAMESPACE_STD


25 
	$__LDBL_REDIR_DECL
 (
årštf
)

26 
	$__LDBL_REDIR_DECL
 (
´štf
)

27 
	$__LDBL_REDIR_DECL
 (
¥rštf
)

28 
	$__LDBL_REDIR_DECL
 (
vårštf
)

29 
	$__LDBL_REDIR_DECL
 (
v´štf
)

30 
	$__LDBL_REDIR_DECL
 (
v¥rštf
)

31 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

32 && !
defšed
 
__REDIRECT
 \

33 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fsÿnf
, 
__Ædbl___isoc99_fsÿnf
)

35 
	$__LDBL_REDIR1_DECL
 (
sÿnf
, 
__Ædbl___isoc99_sÿnf
)

36 
	$__LDBL_REDIR1_DECL
 (
ssÿnf
, 
__Ædbl___isoc99_ssÿnf
)

38 
	$__LDBL_REDIR_DECL
 (
fsÿnf
)

39 
	$__LDBL_REDIR_DECL
 (
sÿnf
)

40 
	$__LDBL_REDIR_DECL
 (
ssÿnf
)

42 
__END_NAMESPACE_STD


44 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


45 
__BEGIN_NAMESPACE_C99


46 
	$__LDBL_REDIR_DECL
 (
¢´štf
)

47 
	$__LDBL_REDIR_DECL
 (
v¢´štf
)

48 
__END_NAMESPACE_C99


51 #ifdef 
__USE_ISOC99


52 
__BEGIN_NAMESPACE_C99


53 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

54 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

55 
	$__LDBL_REDIR1_DECL
 (
vfsÿnf
, 
__Ædbl___isoc99_vfsÿnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vsÿnf
, 
__Ædbl___isoc99_vsÿnf
)

57 
	$__LDBL_REDIR1_DECL
 (
vssÿnf
, 
__Ædbl___isoc99_vssÿnf
)

59 
	$__LDBL_REDIR_DECL
 (
vfsÿnf
)

60 
	$__LDBL_REDIR_DECL
 (
vssÿnf
)

61 
	$__LDBL_REDIR_DECL
 (
vsÿnf
)

63 
__END_NAMESPACE_C99


66 #ifdeà
__USE_GNU


67 
	$__LDBL_REDIR_DECL
 (
vd´štf
)

68 
	$__LDBL_REDIR_DECL
 (
d´štf
)

69 
	$__LDBL_REDIR_DECL
 (
va¥rštf
)

70 
	$__LDBL_REDIR_DECL
 (
__a¥rštf
)

71 
	$__LDBL_REDIR_DECL
 (
a¥rštf
)

72 
	$__LDBL_REDIR_DECL
 (
ob¡ack_´štf
)

73 
	$__LDBL_REDIR_DECL
 (
ob¡ack_v´štf
)

76 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


77 
	$__LDBL_REDIR_DECL
 (
__¥rštf_chk
)

78 
	$__LDBL_REDIR_DECL
 (
__v¥rštf_chk
)

79 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


80 
	$__LDBL_REDIR_DECL
 (
__¢´štf_chk
)

81 
	$__LDBL_REDIR_DECL
 (
__v¢´štf_chk
)

83 #ià
__USE_FORTIFY_LEVEL
 > 1

84 
	$__LDBL_REDIR_DECL
 (
__årštf_chk
)

85 
	$__LDBL_REDIR_DECL
 (
__´štf_chk
)

86 
	$__LDBL_REDIR_DECL
 (
__vårštf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__v´štf_chk
)

88 #ifdeà
__USE_GNU


89 
	$__LDBL_REDIR_DECL
 (
__a¥rštf_chk
)

90 
	$__LDBL_REDIR_DECL
 (
__va¥rštf_chk
)

91 
	$__LDBL_REDIR_DECL
 (
__d´štf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd´štf_chk
)

93 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_´štf_chk
)

94 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_v´štf_chk
)

	@/usr/include/bits/stdio.h

20 #iâdeà
_STDIO_H


24 #iâdeà
__ex‹º_šlše


25 
	#__STDIO_INLINE
 
šlše


	)

27 
	#__STDIO_INLINE
 
__ex‹º_šlše


	)

31 #ifdeà
__USE_EXTERN_INLINES


34 #ià!(
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše
)

36 
__STDIO_INLINE
 

37 
	$v´štf
 (
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

39  
	`vårštf
 (
¡dout
, 
__fmt
, 
__¬g
);

40 
	}
}

44 
__STDIO_INLINE
 

45 
	$g‘ch¬
 ()

47  
	`_IO_g‘c
 (
¡dš
);

48 
	}
}

51 #ifdeà
__USE_MISC


53 
__STDIO_INLINE
 

54 
	$fg‘c_uÆocked
 (
FILE
 *
__å
)

56  
	`_IO_g‘c_uÆocked
 (
__å
);

57 
	}
}

61 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


63 
__STDIO_INLINE
 

64 
	$g‘c_uÆocked
 (
FILE
 *
__å
)

66  
	`_IO_g‘c_uÆocked
 (
__å
);

67 
	}
}

70 
__STDIO_INLINE
 

71 
	$g‘ch¬_uÆocked
 ()

73  
	`_IO_g‘c_uÆocked
 (
¡dš
);

74 
	}
}

79 
__STDIO_INLINE
 

80 
	$putch¬
 (
__c
)

82  
	`_IO_putc
 (
__c
, 
¡dout
);

83 
	}
}

86 #ifdeà
__USE_MISC


88 
__STDIO_INLINE
 

89 
	$åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

91  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

92 
	}
}

96 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


98 
__STDIO_INLINE
 

99 
	$putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

101  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

102 
	}
}

105 
__STDIO_INLINE
 

106 
	$putch¬_uÆocked
 (
__c
)

108  
	`_IO_putc_uÆocked
 (
__c
, 
¡dout
);

109 
	}
}

113 #ifdef 
__USE_GNU


115 
__STDIO_INLINE
 
_IO_ssize_t


116 
	$g‘lše
 (**
__lš•Œ
, 
size_t
 *
__n
, 
FILE
 *
__¡»am
)

118  
	`__g‘d–im
 (
__lš•Œ
, 
__n
, '\n', 
__¡»am
);

119 
	}
}

123 #ifdeà
__USE_MISC


125 
__STDIO_INLINE
 

126 
__NTH
 (
	$ãof_uÆocked
 (
FILE
 *
__¡»am
))

128  
	`_IO_ãof_uÆocked
 (
__¡»am
);

129 
	}
}

132 
__STDIO_INLINE
 

133 
__NTH
 (
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
))

135  
	`_IO_ã¼Ü_uÆocked
 (
__¡»am
);

136 
	}
}

142 #ià
defšed
 
__USE_MISC
 && defšed 
__GNUC__
 && defšed 
__OPTIMIZE__
 \

143 && !
defšed
 
	g__ılu¥lus


145 
	#ä—d_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

146 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

147 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

148 && (
size_t
è(
size
) != 0) \

149 ? ({ *
__±r
 = (*è(
±r
); \

150 
FILE
 *
__¡»am
 = (
¡»am
); \

151 
size_t
 
__út
; \

152 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

153 
__út
 > 0; --__cnt) \

155 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
); \

156 ià(
__c
 =ğ
EOF
) \

158 *
__±r
++ = 
__c
; \

160 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

161 / (
size_t
è(
size
); }) \

162 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

163 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

165 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

166 (è(
n
), (
size_t
) 0) \

167 : 
	`ä—d_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

169 
	#fwr™e_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

170 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

171 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

172 && (
size_t
è(
size
) != 0) \

173 ? ({ cÚ¡ *
__±r
 = (cÚ¡ *è(
±r
); \

174 
FILE
 *
__¡»am
 = (
¡»am
); \

175 
size_t
 
__út
; \

176 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

177 
__út
 > 0; --__cnt) \

178 ià(
	`_IO_putc_uÆocked
 (*
__±r
++, 
__¡»am
è=ğ
EOF
) \

180 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

181 / (
size_t
è(
size
); }) \

182 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

183 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

185 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

186 (è(
n
), (
size_t
) 0) \

187 : 
	`fwr™e_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

191 #undeà
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

20 #iâdeà
_STDIO_H


24 
	$__¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

25 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

26 
	$__v¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

27 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

28 
_G_va_li¡
 
__­
è
__THROW
;

30 #ifdeà
__va_¬g_·ck


31 
__ex‹º_®ways_šlše
 

32 
	`__NTH
 (
	$¥rštf
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fmt
, ...))

34  
	`__butš___¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

35 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

36 
	}
}

37 #–ià!
defšed
 
__ılu¥lus


38 
	#¥rštf
(
¡r
, ...) \

39 
	`__butš___¥rštf_chk
 (
¡r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

40 
__VA_ARGS__
)

	)

43 
__ex‹º_®ways_šlše
 

44 
__NTH
 (
	$v¥rštf
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fmt
,

45 
_G_va_li¡
 
__­
))

47  
	`__butš___v¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

48 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

49 
	}
}

51 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


53 
	$__¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

54 
size_t
 
__¦’
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

55 ...è
__THROW
;

56 
	$__v¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

57 
size_t
 
__¦’
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

58 
_G_va_li¡
 
__­
è
__THROW
;

60 #ifdeà
__va_¬g_·ck


61 
__ex‹º_®ways_šlše
 

62 
	`__NTH
 (
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

63 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...))

65  
	`__butš___¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

66 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

67 
	}
}

68 #–ià!
defšed
 
__ılu¥lus


69 
	#¢´štf
(
¡r
, 
Ën
, ...) \

70 
	`__butš___¢´štf_chk
 (
¡r
, 
Ën
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

71 
__VA_ARGS__
)

	)

74 
__ex‹º_®ways_šlše
 

75 
__NTH
 (
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

76 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

78  
	`__butš___v¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

79 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

80 
	}
}

84 #ià
__USE_FORTIFY_LEVEL
 > 1

86 
__årštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

87 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

88 
__´štf_chk
 (
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

89 
__vårštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

90 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__­
);

91 
__v´štf_chk
 (
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

92 
_G_va_li¡
 
__­
);

94 #ifdeà
__va_¬g_·ck


95 
__ex‹º_®ways_šlše
 

96 
	$årštf
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__cÚ¡
 *__»¡riù 
__fmt
, ...)

98  
	`__årštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

99 
	`__va_¬g_·ck
 ());

100 
	}
}

102 
__ex‹º_®ways_šlše
 

103 
	$´štf
 (
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

105  
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

106 
	}
}

107 #–ià!
defšed
 
__ılu¥lus


108 
	#´štf
(...) \

109 
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

110 
	#årštf
(
¡»am
, ...) \

111 
	`__årštf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

114 
__ex‹º_®ways_šlše
 

115 
	$v´štf
 (
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

117 #ifdeà
__USE_EXTERN_INLINES


118  
	`__vårštf_chk
 (
¡dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

120  
	`__v´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

122 
	}
}

124 
__ex‹º_®ways_šlše
 

125 
	$vårštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

126 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

128  
	`__vårštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

129 
	}
}

131 #ifdeà
__USE_GNU


133 
	$__a¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

134 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

135 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 4))è
__wur
;

136 
	$__va¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

137 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

138 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 0))è
__wur
;

139 
	$__d´štf_chk
 (
__fd
, 
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fmt
,

140 ...è
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

141 
	$__vd´štf_chk
 (
__fd
, 
__æag
,

142 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

143 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

144 
	$__ob¡ack_´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

145 
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

147 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

148 
	$__ob¡ack_v´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

149 
__æag
,

150 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

151 
_G_va_li¡
 
__¬gs
)

152 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

154 #ifdeà
__va_¬g_·ck


155 
__ex‹º_®ways_šlše
 

156 
	`__NTH
 (
	$a¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__fmt
, ...))

158  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

159 
	`__va_¬g_·ck
 ());

160 
	}
}

162 
__ex‹º_®ways_šlše
 

163 
__NTH
 (
	$__a¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__fmt
,

166  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

167 
	`__va_¬g_·ck
 ());

168 
	}
}

170 
__ex‹º_®ways_šlše
 

171 
	$d´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

173  
	`__d´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

174 
	`__va_¬g_·ck
 ());

175 
	}
}

177 
__ex‹º_®ways_šlše
 

178 
__NTH
 (
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

179 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...))

181  
	`__ob¡ack_´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

182 
	`__va_¬g_·ck
 ());

183 
	}
}

184 #–ià!
defšed
 
__ılu¥lus


185 
	#a¥rštf
(
±r
, ...) \

186 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

187 
	#__a¥rštf
(
±r
, ...) \

188 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

189 
	#d´štf
(
fd
, ...) \

190 
	`__d´štf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

191 
	#ob¡ack_´štf
(
ob¡ack
, ...) \

192 
	`__ob¡ack_´štf_chk
 (
ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

195 
__ex‹º_®ways_šlše
 

196 
__NTH
 (
	$va¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__fmt
,

197 
_G_va_li¡
 
__­
))

199  
	`__va¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

200 
	}
}

202 
__ex‹º_®ways_šlše
 

203 
	$vd´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

205  
	`__vd´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

206 
	}
}

208 
__ex‹º_®ways_šlše
 

209 
__NTH
 (
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

210 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

212  
	`__ob¡ack_v´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

213 
__­
);

214 
	}
}

220 *
	$__g‘s_chk
 (*
__¡r
, 
size_t
è
__wur
;

221 *
	`__REDIRECT
 (
__g‘s_w¬n
, (*
__¡r
), 
g‘s
)

222 
__wur
 
	`__w¬Ç‰r
 ("please use fgets or getline instead, gets can't "

225 
__ex‹º_®ways_šlše
 
__wur
 *

226 
	$g‘s
 (*
__¡r
)

228 ià(
	`__bos
 (
__¡r
è!ğ(
size_t
) -1)

229  
	`__g‘s_chk
 (
__¡r
, 
	`__bos
 (__str));

230  
	`__g‘s_w¬n
 (
__¡r
);

231 
	}
}

233 *
	$__fg‘s_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

234 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

235 *
	`__REDIRECT
 (
__fg‘s_®Ÿs
,

236 (*
__»¡riù
 
__s
, 
__n
,

237 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s
è
__wur
;

238 *
	`__REDIRECT
 (
__fg‘s_chk_w¬n
,

239 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

240 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_chk
)

241 
__wur
 
	`__w¬Ç‰r
 ("fgets called with bigger sizehan†ength "

244 
__ex‹º_®ways_šlše
 
__wur
 *

245 
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

247 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

249 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

250  
	`__fg‘s_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

252 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

253  
	`__fg‘s_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

255  
	`__fg‘s_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

256 
	}
}

258 
size_t
 
	$__ä—d_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

259 
size_t
 
__size
, size_ˆ
__n
,

260 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

261 
size_t
 
	`__REDIRECT
 (
__ä—d_®Ÿs
,

262 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

263 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

264 
ä—d
è
__wur
;

265 
size_t
 
	`__REDIRECT
 (
__ä—d_chk_w¬n
,

266 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

267 
size_t
 
__size
, size_ˆ
__n
,

268 
FILE
 *
__»¡riù
 
__¡»am
),

269 
__ä—d_chk
)

270 
__wur
 
	`__w¬Ç‰r
 ("fread called with bigger size *‚membhan†ength "

273 
__ex‹º_®ways_šlše
 
__wur
 
size_t


274 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

275 
FILE
 *
__»¡riù
 
__¡»am
)

277 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

279 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

280 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

281 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

282  
	`__ä—d_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

284 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

285  
	`__ä—d_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

287  
	`__ä—d_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

288 
	}
}

290 #ifdeà
__USE_GNU


291 *
	$__fg‘s_uÆocked_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
,

292 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

293 *
	`__REDIRECT
 (
__fg‘s_uÆocked_®Ÿs
,

294 (*
__»¡riù
 
__s
, 
__n
,

295 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s_uÆocked
è
__wur
;

296 *
	`__REDIRECT
 (
__fg‘s_uÆocked_chk_w¬n
,

297 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

298 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_uÆocked_chk
)

299 
__wur
 
	`__w¬Ç‰r
 ("fgets_unlocked called with bigger sizehan†ength "

302 
__ex‹º_®ways_šlše
 
__wur
 *

303 
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

305 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

307 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

308  
	`__fg‘s_uÆocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

310 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

311  
	`__fg‘s_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

313  
	`__fg‘s_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

314 
	}
}

317 #ifdeà
__USE_MISC


318 #undeà
ä—d_uÆocked


319 
size_t
 
	$__ä—d_uÆocked_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

320 
size_t
 
__size
, size_ˆ
__n
,

321 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

322 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_®Ÿs
,

323 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

324 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

325 
ä—d_uÆocked
è
__wur
;

326 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_chk_w¬n
,

327 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

328 
size_t
 
__size
, size_ˆ
__n
,

329 
FILE
 *
__»¡riù
 
__¡»am
),

330 
__ä—d_uÆocked_chk
)

331 
__wur
 
	`__w¬Ç‰r
 ("fread_unlocked called with bigger size *‚membhan "

334 
__ex‹º_®ways_šlše
 
__wur
 
size_t


335 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

336 
FILE
 *
__»¡riù
 
__¡»am
)

338 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

340 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

341 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

342 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

343  
	`__ä—d_uÆocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

344 
__¡»am
);

346 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

347  
	`__ä—d_uÆocked_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

348 
__¡»am
);

351 #ifdeà
__USE_EXTERN_INLINES


352 ià(
	`__butš_cÚ¡ªt_p
 (
__size
)

353 && 
	`__butš_cÚ¡ªt_p
 (
__n
)

354 && (
__size
 | 
__n
è< (((
size_t
) 1) << (8 *  (size_t) / 2))

355 && 
__size
 * 
__n
 <= 8)

357 
size_t
 
__út
 = 
__size
 * 
__n
;

358 *
__ıŒ
 = (*è
__±r
;

359 ià(
__út
 == 0)

362 ; 
__út
 > 0; --__cnt)

364 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
);

365 ià(
__c
 =ğ
EOF
)

367 *
__ıŒ
++ = 
__c
;

369  (
__ıŒ
 - (*è
__±r
è/ 
__size
;

372  
	`__ä—d_uÆocked_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

373 
	}
}

	@/usr/include/bits/stdio_lim.h

19 #ià!
defšed
 
_STDIO_H
 && !defšed 
__Ãed_FOPEN_MAX
 && !defšed 
__Ãed_IOV_MAX


23 #ifdeà
_STDIO_H


24 
	#L_tm²am
 20

	)

25 
	#TMP_MAX
 238328

	)

26 
	#FILENAME_MAX
 4096

	)

28 #ifdeà
__USE_POSIX


29 
	#L_ù”mid
 9

	)

30 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


31 
	#L_cu£rid
 9

	)

36 #ià
defšed
 
__Ãed_FOPEN_MAX
 || defšed 
_STDIO_H


37 #undeà
FOPEN_MAX


38 
	#FOPEN_MAX
 16

	)

41 #ià
defšed
 
__Ãed_IOV_MAX
 && !defšed 
IOV_MAX


42 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/sys_errlist.h

20 #iâdeà
_STDIO_H


26 #ifdeà 
__USE_BSD


27 
sys_Ã¼
;

28 
__cÚ¡
 *__cÚ¡ 
sys_”¾i¡
[];

30 #ifdeà 
__USE_GNU


31 
_sys_Ã¼
;

32 
__cÚ¡
 *__cÚ¡ 
_sys_”¾i¡
[];

	@/usr/include/bits/types.h

24 #iâdef 
_BITS_TYPES_H


25 
	#_BITS_TYPES_H
 1

	)

27 
	~<ã©u»s.h
>

28 
	~<b™s/wÜdsize.h
>

31 
	t__u_ch¬
;

32 
	t__u_shÜt
;

33 
	t__u_št
;

34 
	t__u_lÚg
;

37 sigÃd 
	t__št8_t
;

38 
	t__ušt8_t
;

39 sigÃd 
	t__št16_t
;

40 
	t__ušt16_t
;

41 sigÃd 
	t__št32_t
;

42 
	t__ušt32_t
;

43 #ià
__WORDSIZE
 == 64

44 sigÃd 
	t__št64_t
;

45 
	t__ušt64_t
;

46 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


47 
__ex‹nsiÚ__
 sigÃd 
	t__št64_t
;

48 
__ex‹nsiÚ__
 
	t__ušt64_t
;

52 #ià
__WORDSIZE
 == 64

53 
	t__quad_t
;

54 
	t__u_quad_t
;

55 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


56 
__ex‹nsiÚ__
 
	t__quad_t
;

57 
__ex‹nsiÚ__
 
	t__u_quad_t
;

61 
	m__v®
[2];

62 } 
	t__quad_t
;

65 
__u_lÚg
 
	m__v®
[2];

66 } 
	t__u_quad_t
;

99 
	#__S16_TYPE
 

	)

100 
	#__U16_TYPE
 

	)

101 
	#__S32_TYPE
 

	)

102 
	#__U32_TYPE
 

	)

103 
	#__SLONGWORD_TYPE
 

	)

104 
	#__ULONGWORD_TYPE
 

	)

105 #ià
__WORDSIZE
 == 32

106 
	#__SQUAD_TYPE
 
__quad_t


	)

107 
	#__UQUAD_TYPE
 
__u_quad_t


	)

108 
	#__SWORD_TYPE
 

	)

109 
	#__UWORD_TYPE
 

	)

110 
	#__SLONG32_TYPE
 

	)

111 
	#__ULONG32_TYPE
 

	)

112 
	#__S64_TYPE
 
__quad_t


	)

113 
	#__U64_TYPE
 
__u_quad_t


	)

116 
	#__STD_TYPE
 
__ex‹nsiÚ__
 

	)

117 #–ià
__WORDSIZE
 == 64

118 
	t__SQUAD_TYPE
 

	)

119 
	t__UQUAD_TYPE
 

	)

120 
	t__SWORD_TYPE
 

	)

121 
	t__UWORD_TYPE
 

	)

122 
	t__SLONG32_TYPE
 

	)

123 
	t__ULONG32_TYPE
 

	)

124 
	t__S64_TYPE
 

	)

125 
	t__U64_TYPE
 

	)

127 
	t__STD_TYPE
 

	)

131 
	~<b™s/ty³sizes.h
>

134 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

135 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

136 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

137 
__STD_TYPE
 
__INO_T_TYPE
 
	g__šo_t
;

138 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__šo64_t
;

139 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

140 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__Æšk_t
;

141 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

142 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

143 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

144 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

145 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__şock_t
;

146 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__¾im_t
;

147 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__¾im64_t
;

148 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

149 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

150 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£cÚds_t
;

151 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£cÚds_t
;

153 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

154 
__STD_TYPE
 
__SWBLK_T_TYPE
 
	g__swblk_t
;

155 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

158 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__şockid_t
;

161 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__tim”_t
;

164 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

169 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blkút_t
;

170 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blkút64_t
;

173 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblkút_t
;

174 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblkút64_t
;

177 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfút_t
;

178 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfút64_t
;

180 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

184 
__off64_t
 
	t__loff_t
;

185 
__quad_t
 *
	t__qaddr_t
;

186 *
	t__ÿddr_t
;

189 
__STD_TYPE
 
__SWORD_TYPE
 
	g__šŒ_t
;

192 
__STD_TYPE
 
__U32_TYPE
 
	g__sockËn_t
;

195 #undeà
__STD_TYPE


	@/usr/include/features.h

19 #iâdef 
_FEATURES_H


20 
	#_FEATURES_H
 1

	)

95 #undeà
__USE_ISOC99


96 #undeà
__USE_ISOC95


97 #undeà
__USE_POSIX


98 #undeà
__USE_POSIX2


99 #undeà
__USE_POSIX199309


100 #undeà
__USE_POSIX199506


101 #undeà
__USE_XOPEN


102 #undeà
__USE_XOPEN_EXTENDED


103 #undeà
__USE_UNIX98


104 #undeà
__USE_XOPEN2K


105 #undeà
__USE_XOPEN2K8


106 #undeà
__USE_LARGEFILE


107 #undeà
__USE_LARGEFILE64


108 #undeà
__USE_FILE_OFFSET64


109 #undeà
__USE_BSD


110 #undeà
__USE_SVID


111 #undeà
__USE_MISC


112 #undeà
__USE_ATFILE


113 #undeà
__USE_GNU


114 #undeà
__USE_REENTRANT


115 #undeà
__USE_FORTIFY_LEVEL


116 #undeà
__FAVOR_BSD


117 #undeà
__KERNEL_STRICT_NAMES


121 #iâdeà
_LOOSE_KERNEL_NAMES


122 
	#__KERNEL_STRICT_NAMES


	)

126 
	#__USE_ANSI
 1

	)

135 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

137 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

144 #ià
defšed
 
_BSD_SOURCE
 && \

145 !(
defšed
 
	g_POSIX_SOURCE
 || defšed 
	g_POSIX_C_SOURCE
 || \

146 
defšed
 
	g_XOPEN_SOURCE
 || defšed 
	g_XOPEN_SOURCE_EXTENDED
 || \

147 
defšed
 
	g_GNU_SOURCE
 || defšed 
	g_SVID_SOURCE
)

148 
	#__FAVOR_BSD
 1

	)

152 #ifdeà
_GNU_SOURCE


153 #undeà
_ISOC99_SOURCE


154 
	#_ISOC99_SOURCE
 1

	)

155 #undeà
_POSIX_SOURCE


156 
	#_POSIX_SOURCE
 1

	)

157 #undeà
_POSIX_C_SOURCE


158 
	#_POSIX_C_SOURCE
 200809L

	)

159 #undeà
_XOPEN_SOURCE


160 
	#_XOPEN_SOURCE
 700

	)

161 #undeà
_XOPEN_SOURCE_EXTENDED


162 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

163 #undeà
_LARGEFILE64_SOURCE


164 
	#_LARGEFILE64_SOURCE
 1

	)

165 #undeà
_BSD_SOURCE


166 
	#_BSD_SOURCE
 1

	)

167 #undeà
_SVID_SOURCE


168 
	#_SVID_SOURCE
 1

	)

169 #undeà
_ATFILE_SOURCE


170 
	#_ATFILE_SOURCE
 1

	)

175 #ià(!
defšed
 
__STRICT_ANSI__
 && !defšed 
_ISOC99_SOURCE
 && \

176 !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 && \

177 !
defšed
 
	g_XOPEN_SOURCE
 && !defšed 
	g_XOPEN_SOURCE_EXTENDED
 && \

178 !
defšed
 
	g_BSD_SOURCE
 && !defšed 
	g_SVID_SOURCE
)

179 
	#_BSD_SOURCE
 1

	)

180 
	#_SVID_SOURCE
 1

	)

187 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC9X_SOURCE
 \

188 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

189 
	#__USE_ISOC99
 1

	)

193 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC9X_SOURCE
 \

194 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

195 
	#__USE_ISOC95
 1

	)

200 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

201 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

202 
	#_POSIX_SOURCE
 1

	)

203 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

204 
	#_POSIX_C_SOURCE
 2

	)

205 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

206 
	#_POSIX_C_SOURCE
 199506L

	)

207 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

208 
	#_POSIX_C_SOURCE
 200112L

	)

210 
	#_POSIX_C_SOURCE
 200809L

	)

212 
	#__USE_POSIX_IMPLICITLY
 1

	)

215 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


216 
	#__USE_POSIX
 1

	)

219 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


220 
	#__USE_POSIX2
 1

	)

223 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

224 
	#__USE_POSIX199309
 1

	)

227 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

228 
	#__USE_POSIX199506
 1

	)

231 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

232 
	#__USE_XOPEN2K
 1

	)

233 #undeà
__USE_ISOC99


234 
	#__USE_ISOC99
 1

	)

237 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

238 
	#__USE_XOPEN2K8
 1

	)

239 #undeà
_ATFILE_SOURCE


240 
	#_ATFILE_SOURCE
 1

	)

243 #ifdef 
_XOPEN_SOURCE


244 
	#__USE_XOPEN
 1

	)

245 #ià(
_XOPEN_SOURCE
 - 0) >= 500

246 
	#__USE_XOPEN_EXTENDED
 1

	)

247 
	#__USE_UNIX98
 1

	)

248 #undeà
_LARGEFILE_SOURCE


249 
	#_LARGEFILE_SOURCE
 1

	)

250 #ià(
_XOPEN_SOURCE
 - 0) >= 600

251 #ià(
_XOPEN_SOURCE
 - 0) >= 700

252 
	#__USE_XOPEN2K8
 1

	)

254 
	#__USE_XOPEN2K
 1

	)

255 #undeà
__USE_ISOC99


256 
	#__USE_ISOC99
 1

	)

259 #ifdeà
_XOPEN_SOURCE_EXTENDED


260 
	#__USE_XOPEN_EXTENDED
 1

	)

265 #ifdeà
_LARGEFILE_SOURCE


266 
	#__USE_LARGEFILE
 1

	)

269 #ifdeà
_LARGEFILE64_SOURCE


270 
	#__USE_LARGEFILE64
 1

	)

273 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

274 
	#__USE_FILE_OFFSET64
 1

	)

277 #ià
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE


278 
	#__USE_MISC
 1

	)

281 #ifdef 
_BSD_SOURCE


282 
	#__USE_BSD
 1

	)

285 #ifdef 
_SVID_SOURCE


286 
	#__USE_SVID
 1

	)

289 #ifdef 
_ATFILE_SOURCE


290 
	#__USE_ATFILE
 1

	)

293 #ifdef 
_GNU_SOURCE


294 
	#__USE_GNU
 1

	)

297 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


298 
	#__USE_REENTRANT
 1

	)

301 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

302 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

303 #ià
_FORTIFY_SOURCE
 > 1

304 
	#__USE_FORTIFY_LEVEL
 2

	)

306 
	#__USE_FORTIFY_LEVEL
 1

	)

309 
	#__USE_FORTIFY_LEVEL
 0

	)

313 
	~<b™s/´edefs.h
>

316 
	#__STDC_ISO_10646__
 200009L

	)

324 #undeà
__GNU_LIBRARY__


325 
	#__GNU_LIBRARY__
 6

	)

329 
	#__GLIBC__
 2

	)

330 
	#__GLIBC_MINOR__
 10

	)

332 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

333 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

336 #ià
defšed
 
__GNUC__
 \

337 || (
defšed
 
	g__PGI
 && defšed 
	g__i386__
 ) \

338 || (
defšed
 
	g__INTEL_COMPILER
 && (defšed 
	g__i386__
 || defšed 
	g__Ÿ64__
)) \

339 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

340 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

344 #iâdeà
__ASSEMBLER__


345 #iâdeà
_SYS_CDEFS_H


346 
	~<sys/cdefs.h
>

351 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


352 
	#__USE_LARGEFILE
 1

	)

353 
	#__USE_LARGEFILE64
 1

	)

359 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

360 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

361 && 
defšed
 
	g__ex‹º_šlše


362 
	#__USE_EXTERN_INLINES
 1

	)

367 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

368 && (
defšed
 
	g_LIBC
 || !defšed 
	g__OPTIMIZE_SIZE__
è&& !defšed 
	g__NO_INLINE__
 \

369 && 
defšed
 
	g__ex‹º_šlše


370 
	#__USE_EXTERN_INLINES_IN_LIBC
 1

	)

378 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

21 #iâdeà
_GETOPT_H


23 #iâdeà
__Ãed_g‘İt


24 
	#_GETOPT_H
 1

	)

34 #ià!
defšed
 
__GNU_LIBRARY__


35 
	~<ùy³.h
>

38 #iâdeà
__THROW


39 #iâdeà
__GNUC_PREREQ


40 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

42 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

43 
	#__THROW
 
	`throw
 ()

	)

45 
	#__THROW


	)

49 #ifdef 
__ılu¥lus


59 *
İrg
;

73 
İtšd
;

78 
İ‹¼
;

82 
İtİt
;

84 #iâdeà
__Ãed_g‘İt


106 
	sİtiÚ


108 cÚ¡ *
	gÇme
;

111 
	ghas_¬g
;

112 *
	gæag
;

113 
	gv®
;

118 
	#no_¬gum’t
 0

	)

119 
	#»quœed_¬gum’t
 1

	)

120 
	#İtiÚ®_¬gum’t
 2

	)

148 #ifdeà
__GNU_LIBRARY__


152 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

153 
__THROW
;

155 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

156 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


160 #ifdeà
__REDIRECT


161 
__REDIRECT
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

162 cÚ¡ *
__shÜtİts
),

163 
__posix_g‘İt
è
__THROW
;

165 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

166 cÚ¡ *
__shÜtİts
è
__THROW
;

167 
	#g‘İt
 
__posix_g‘İt


	)

171 
g‘İt
 ();

174 #iâdeà
__Ãed_g‘İt


175 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

176 cÚ¡ *
__shÜtİts
,

177 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

178 
__THROW
;

179 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

180 cÚ¡ *
__shÜtİts
,

181 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

182 
__THROW
;

186 #ifdef 
__ılu¥lus


191 #undeà
__Ãed_g‘İt


	@/usr/include/libio.h

29 #iâdeà
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_cÚfig.h
>

34 
	#_IO_pos_t
 
_G_åos_t


	)

35 
	#_IO_åos_t
 
_G_åos_t


	)

36 
	#_IO_åos64_t
 
_G_åos64_t


	)

37 
	#_IO_size_t
 
_G_size_t


	)

38 
	#_IO_ssize_t
 
_G_ssize_t


	)

39 
	#_IO_off_t
 
_G_off_t


	)

40 
	#_IO_off64_t
 
_G_off64_t


	)

41 
	#_IO_pid_t
 
_G_pid_t


	)

42 
	#_IO_uid_t
 
_G_uid_t


	)

43 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

44 
	#_IO_HAVE_SYS_WAIT
 
_G_HAVE_SYS_WAIT


	)

45 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

46 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

47 
	#_IO_va_li¡
 
_G_va_li¡


	)

48 
	#_IO_wšt_t
 
_G_wšt_t


	)

50 #ifdeà
_G_NEED_STDARG_H


52 
	#__Ãed___va_li¡


	)

53 
	~<¡d¬g.h
>

54 #ifdeà
__GNUC_VA_LIST


55 #undeà
_IO_va_li¡


56 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

60 #iâdeà
__P


61 #ià
_G_HAVE_SYS_CDEFS


62 
	~<sys/cdefs.h
>

64 #ifdeà
__STDC__


65 
	#__P
(
p
è
	)
p

66 
	#__PMT
(
p
è
	)
p

68 
	#__P
(
p
è()

	)

69 
	#__PMT
(
p
è()

	)

75 #iâdeà
_PARAMS


76 
	#_PARAMS
(
´Ùos
è
	`__P
ÕrÙos)

	)

79 #iâdeà
__STDC__


81 cÚ¡

	)

84 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

85 #iâdeà
_G_HAVE_PRINTF_FP


86 
	#_IO_USE_DTOA
 1

	)

89 #iâdeà
EOF


90 
	#EOF
 (-1)

	)

92 #iâdeà
NULL


93 #ià
defšed
 
__GNUG__
 && \

94 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

95 
	#NULL
 (
__nuÎ
)

	)

97 #ià!
defšed
(
__ılu¥lus
)

98 
	#NULL
 ((*)0)

	)

100 
	#NULL
 (0)

	)

105 
	#_IOS_INPUT
 1

	)

106 
	#_IOS_OUTPUT
 2

	)

107 
	#_IOS_ATEND
 4

	)

108 
	#_IOS_APPEND
 8

	)

109 
	#_IOS_TRUNC
 16

	)

110 
	#_IOS_NOCREATE
 32

	)

111 
	#_IOS_NOREPLACE
 64

	)

112 
	#_IOS_BIN
 128

	)

120 
	#_IO_MAGIC
 0xFBAD0000

	)

121 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

122 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

123 
	#_IO_USER_BUF
 1

	)

124 
	#_IO_UNBUFFERED
 2

	)

125 
	#_IO_NO_READS
 4

	)

126 
	#_IO_NO_WRITES
 8

	)

127 
	#_IO_EOF_SEEN
 0x10

	)

128 
	#_IO_ERR_SEEN
 0x20

	)

129 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

130 
	#_IO_LINKED
 0x80

	)

131 
	#_IO_IN_BACKUP
 0x100

	)

132 
	#_IO_LINE_BUF
 0x200

	)

133 
	#_IO_TIED_PUT_GET
 0x400

	)

134 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

135 
	#_IO_IS_APPENDING
 0x1000

	)

136 
	#_IO_IS_FILEBUF
 0x2000

	)

137 
	#_IO_BAD_SEEN
 0x4000

	)

138 
	#_IO_USER_LOCK
 0x8000

	)

140 
	#_IO_FLAGS2_MMAP
 1

	)

141 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

142 #ifdeà
_LIBC


143 
	#_IO_FLAGS2_FORTIFY
 4

	)

145 
	#_IO_FLAGS2_USER_WBUF
 8

	)

146 #ifdeà
_LIBC


147 
	#_IO_FLAGS2_SCANF_STD
 16

	)

151 
	#_IO_SKIPWS
 01

	)

152 
	#_IO_LEFT
 02

	)

153 
	#_IO_RIGHT
 04

	)

154 
	#_IO_INTERNAL
 010

	)

155 
	#_IO_DEC
 020

	)

156 
	#_IO_OCT
 040

	)

157 
	#_IO_HEX
 0100

	)

158 
	#_IO_SHOWBASE
 0200

	)

159 
	#_IO_SHOWPOINT
 0400

	)

160 
	#_IO_UPPERCASE
 01000

	)

161 
	#_IO_SHOWPOS
 02000

	)

162 
	#_IO_SCIENTIFIC
 04000

	)

163 
	#_IO_FIXED
 010000

	)

164 
	#_IO_UNITBUF
 020000

	)

165 
	#_IO_STDIO
 040000

	)

166 
	#_IO_DONT_CLOSE
 0100000

	)

167 
	#_IO_BOOLALPHA
 0200000

	)

170 
_IO_jump_t
; 
	g_IO_FILE
;

173 #ifdeà
_IO_MTSAFE_IO


174 #ià
defšed
 
__GLIBC__
 && __GLIBC__ >= 2

175 
	~<b™s/¡dio-lock.h
>

180 
	t_IO_lock_t
;

186 
	s_IO_m¬k”
 {

187 
_IO_m¬k”
 *
	m_Ãxt
;

188 
_IO_FILE
 *
	m_sbuf
;

192 
	m_pos
;

194 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

195 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

196 
	mpublic
:

197 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

198 ~
¡»amm¬k”
();

199 
§všg
(è{  
	m_¥os
 == -2; }

200 
d–
(
¡»amm¬k”
&);

201 
d–
();

206 
	e__codecvt_»suÉ


208 
	m__codecvt_ok
,

209 
	m__codecvt_·¹Ÿl
,

210 
	m__codecvt_”rÜ
,

211 
	m__codecvt_nocÚv


214 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


217 
	s_IO_codecvt


219 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

220 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

221 
	m__mb¡©e_t
 *,

222 cÚ¡ 
	mwch¬_t
 *,

223 cÚ¡ 
	mwch¬_t
 *,

224 cÚ¡ 
	mwch¬_t
 **, *,

226 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

227 
	m__mb¡©e_t
 *, *,

229 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

230 
	m__mb¡©e_t
 *,

232 cÚ¡ **, 
	mwch¬_t
 *,

233 
	mwch¬_t
 *, wchar_t **);

234 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

235 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

236 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

237 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

238 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

240 
_IO_icÚv_t
 
	m__cd_š
;

241 
_IO_icÚv_t
 
	m__cd_out
;

245 
	s_IO_wide_d©a


247 
wch¬_t
 *
	m_IO_»ad_±r
;

248 
wch¬_t
 *
	m_IO_»ad_’d
;

249 
wch¬_t
 *
	m_IO_»ad_ba£
;

250 
wch¬_t
 *
	m_IO_wr™e_ba£
;

251 
wch¬_t
 *
	m_IO_wr™e_±r
;

252 
wch¬_t
 *
	m_IO_wr™e_’d
;

253 
wch¬_t
 *
	m_IO_buf_ba£
;

254 
wch¬_t
 *
	m_IO_buf_’d
;

256 
wch¬_t
 *
	m_IO_§ve_ba£
;

257 
wch¬_t
 *
	m_IO_backup_ba£
;

259 
wch¬_t
 *
	m_IO_§ve_’d
;

261 
__mb¡©e_t
 
	m_IO_¡©e
;

262 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

263 
_IO_codecvt
 
	m_codecvt
;

265 
wch¬_t
 
	m_shÜtbuf
[1];

267 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

271 
	s_IO_FILE
 {

272 
	m_æags
;

273 
	#_IO_fe_æags
 
_æags


	)

277 * 
	m_IO_»ad_±r
;

278 * 
	m_IO_»ad_’d
;

279 * 
	m_IO_»ad_ba£
;

280 * 
	m_IO_wr™e_ba£
;

281 * 
	m_IO_wr™e_±r
;

282 * 
	m_IO_wr™e_’d
;

283 * 
	m_IO_buf_ba£
;

284 * 
	m_IO_buf_’d
;

286 *
	m_IO_§ve_ba£
;

287 *
	m_IO_backup_ba£
;

288 *
	m_IO_§ve_’d
;

290 
_IO_m¬k”
 *
	m_m¬k”s
;

292 
_IO_FILE
 *
	m_chaš
;

294 
	m_f’o
;

296 
	m_blksize
;

298 
	m_æags2
;

300 
_IO_off_t
 
	m_Şd_off£t
;

302 
	#__HAVE_COLUMN


	)

304 
	m_cur_cŞumn
;

305 sigÃd 
	m_vbË_off£t
;

306 
	m_shÜtbuf
[1];

310 
_IO_lock_t
 *
	m_lock
;

311 #ifdeà
_IO_USE_OLD_IO_FILE


314 
	s_IO_FILE_com¶‘e


316 
_IO_FILE
 
	m_fe
;

318 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

319 
_IO_off64_t
 
	m_off£t
;

320 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


322 
_IO_codecvt
 *
	m_codecvt
;

323 
_IO_wide_d©a
 *
	m_wide_d©a
;

324 
_IO_FILE
 *
	m_ä“»s_li¡
;

325 *
	m_ä“»s_buf
;

326 
size_t
 
	m_ä“»s_size
;

328 *
	m__·d1
;

329 *
	m__·d2
;

330 *
	m__·d3
;

331 *
	m__·d4
;

332 
size_t
 
	m__·d5
;

334 
	m_mode
;

336 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

340 #iâdeà
__ılu¥lus


341 
_IO_FILE
 
	t_IO_FILE
;

344 
	g_IO_FILE_¶us
;

346 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

347 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

348 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

349 #iâdeà
_LIBC


350 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

351 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

352 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

354 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

355 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

356 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

364 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

372 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, 
	t__cÚ¡
 *
	t__buf
,

373 
	tsize_t
 
	t__n
);

381 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

384 
	t__io_şo£_â
 (*
	t__cook›
);

387 #ifdeà
_GNU_SOURCE


389 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

390 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

391 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

392 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

397 
__io_»ad_â
 *
	m»ad
;

398 
__io_wr™e_â
 *
	mwr™e
;

399 
__io_£ek_â
 *
	m£ek
;

400 
__io_şo£_â
 *
	mşo£
;

401 } 
	t_IO_cook›_io_funùiÚs_t
;

402 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

404 
	g_IO_cook›_fe
;

407 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

408 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

412 #ifdeà
__ılu¥lus


416 
__und”æow
 (
_IO_FILE
 *);

417 
__uæow
 (
_IO_FILE
 *);

418 
__ov”æow
 (
_IO_FILE
 *, );

419 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


420 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

421 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

422 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

425 #ià 
__GNUC__
 >= 3

426 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

428 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

431 
	#_IO_g‘c_uÆocked
(
_å
) \

432 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

433 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

434 
	#_IO_³ekc_uÆocked
(
_å
) \

435 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

436 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

437 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

438 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

439 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

440 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

441 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

443 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


444 
	#_IO_g‘wc_uÆocked
(
_å
) \

445 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 >ğ(_å)->_wide_d©a->
_IO_»ad_’d
,\

447 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

448 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

449 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

450 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
, 0) \

451 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

452 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

455 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

456 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

458 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

459 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

460 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

461 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

463 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

466 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

467 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

469 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

470 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

471 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

473 #ifdeà
_IO_MTSAFE_IO


474 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

475 
	#_IO_æockfe
(
_å
) \

476 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

477 
	#_IO_fuÆockfe
(
_å
) \

478 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

480 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

481 
	#_IO_æockfe
(
_å
è

	)

482 
	#_IO_fuÆockfe
(
_å
è

	)

483 
	#_IO_árylockfe
(
_å
è

	)

484 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

485 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

488 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

489 
_IO_va_li¡
, *
__»¡riù
);

490 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

491 
_IO_va_li¡
);

492 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

493 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

495 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

496 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

498 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

500 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


501 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

502 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

503 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

504 #ià
__GNUC__
 >= 2

507 #ià
defšed
 
_LIBC
 && defšed 
SHARED


508 
	~<shlib-com·t.h
>

509 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

510 
	#_IO_fwide_maybe_šcom·tibË
 \

511 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

512 cÚ¡ 
_IO_¡dš_u£d
;

513 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

516 #iâdeà
_IO_fwide_maybe_šcom·tibË


517 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

521 
	#_IO_fwide
(
__å
, 
__mode
) \

522 ({ 
__»suÉ
 = (
__mode
); \

523 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

525 ià((
__å
)->
_mode
 == 0) \

527 (
__å
)->
_mode
 = -1; \

528 
__»suÉ
 = (
__å
)->
_mode
; \

530 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

531 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

533 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

534 
__»suÉ
; })

	)

537 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

538 
_IO_va_li¡
, *
__»¡riù
);

539 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

540 
_IO_va_li¡
);

541 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

542 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

545 #ifdeà
__LDBL_COMPAT


546 
	~<b™s/libio-ldbl.h
>

549 #ifdeà
__ılu¥lus


	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

21 
	#_G_size_t
 
size_t


	)

24 
__off_t
 
	m__pos
;

25 
__mb¡©e_t
 
	m__¡©e
;

26 } 
	t_G_åos_t
;

29 
__off64_t
 
	m__pos
;

30 
__mb¡©e_t
 
	m__¡©e
;

31 } 
	t_G_åos64_t
;

32 
	#_G_ssize_t
 
__ssize_t


	)

33 
	#_G_off_t
 
__off_t


	)

34 
	#_G_off64_t
 
__off64_t


	)

35 
	#_G_pid_t
 
__pid_t


	)

36 
	#_G_uid_t
 
__uid_t


	)

37 
	#_G_wch¬_t
 
wch¬_t


	)

38 
	#_G_wšt_t
 
wšt_t


	)

39 
	#_G_¡©64
 
¡©64


	)

40 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


41 
	~<gcÚv.h
>

44 
__gcÚv_šfo
 
	m__cd
;

47 
__gcÚv_šfo
 
	m__cd
;

48 
__gcÚv_¡•_d©a
 
	m__d©a
;

49 } 
	m__combšed
;

50 } 
	t_G_icÚv_t
;

53 
	t_G_št16_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__HI__
)));

54 
	t_G_št32_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__SI__
)));

55 
	t_G_ušt16_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__HI__
)));

56 
	t_G_ušt32_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__SI__
)));

58 
	#_G_HAVE_BOOL
 1

	)

62 
	#_G_HAVE_ATEXIT
 1

	)

63 
	#_G_HAVE_SYS_CDEFS
 1

	)

64 
	#_G_HAVE_SYS_WAIT
 1

	)

65 
	#_G_NEED_STDARG_H
 1

	)

66 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

68 
	#_G_HAVE_PRINTF_FP
 1

	)

69 
	#_G_HAVE_MMAP
 1

	)

70 
	#_G_HAVE_MREMAP
 1

	)

71 
	#_G_HAVE_LONG_DOUBLE_IO
 1

	)

72 
	#_G_HAVE_IO_FILE_OPEN
 1

	)

73 
	#_G_HAVE_IO_GETLINE_INFO
 1

	)

75 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

77 
	#_G_OPEN64
 
__İ’64


	)

78 
	#_G_LSEEK64
 
__l£ek64


	)

79 
	#_G_MMAP64
 
__mm­64


	)

80 
	#_G_FSTAT64
(
fd
,
buf
è
	`__fx¡©64
 (
_STAT_VER
, fd, buf)

	)

83 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

85 
	#_G_BUFSIZ
 8192

	)

88 
	#_G_NAMES_HAVE_UNDERSCORE
 0

	)

89 
	#_G_VTABLE_LABEL_HAS_LENGTH
 1

	)

90 
	#_G_USING_THUNKS
 1

	)

91 
	#_G_VTABLE_LABEL_PREFIX
 "__vt_"

	)

92 
	#_G_VTABLE_LABEL_PREFIX_ID
 
__vt_


	)

95 #ià
defšed
 
__ılu¥lus
 || defšed 
__STDC__


96 
	#_G_ARGS
(
ARGLIST
è
	)
ARGLIST

98 
	#_G_ARGS
(
ARGLIST
è()

	)

	@/usr/include/bits/libio-ldbl.h

20 #iâdeà
_IO_STDIO_H


24 
	$__LDBL_REDIR_DECL
 (
_IO_vfsÿnf
)

25 
	`__LDBL_REDIR_DECL
 (
_IO_vårštf
)

	@/usr/include/bits/predefs.h

19 #iâdeà
_FEATURES_H


23 #iâdeà
_PREDEFS_H


24 
	#_PREDEFS_H


	)

27 
	#__STDC_IEC_559__
 1

	)

28 
	#__STDC_IEC_559_COMPLEX__
 1

	)

	@/usr/include/bits/stdio-lock.h

20 #iâdeà
_BITS_STDIO_LOCK_H


21 
	#_BITS_STDIO_LOCK_H
 1

	)

23 
	~<b™s/libc-lock.h
>

24 
	~<lowËv–lock.h
>

28 
	#_IO_lock_šex³nsive
 1

	)

30 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t_IO_lock_t
;

32 
	#_IO_lock_š™Ÿliz”
 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

34 
	#_IO_lock_š™
(
_Çme
) \

35 ((
_Çme
èğ(
_IO_lock_t
è
_IO_lock_š™Ÿliz”
 , 0)

	)

37 
	#_IO_lock_fši
(
_Çme
) \

38 ((è0)

	)

40 
	#_IO_lock_lock
(
_Çme
) \

42 *
__£lf
 = 
THREAD_SELF
; \

43 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

45 
	`Îl_lock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

46 (
_Çme
).
owÃr
 = 
__£lf
; \

48 ++(
_Çme
).
út
; \

49 } 0)

	)

51 
	#_IO_lock_Œylock
(
_Çme
) \

53 
__»suÉ
 = 0; \

54 *
__£lf
 = 
THREAD_SELF
; \

55 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

57 ià(
	`Îl_Œylock
 ((
_Çme
).
lock
) == 0) \

59 (
_Çme
).
owÃr
 = 
__£lf
; \

60 (
_Çme
).
út
 = 1; \

63 
__»suÉ
 = 
EBUSY
; \

66 ++(
_Çme
).
út
; \

67 
__»suÉ
; \

68 })

	)

70 
	#_IO_lock_uÆock
(
_Çme
) \

72 ià(--(
_Çme
).
út
 == 0) \

74 (
_Çme
).
owÃr
 = 
NULL
; \

75 
	`Îl_uÆock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

77 } 0)

	)

81 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
) \

82 
	`__libc_ş—nup_»giÚ_¡¬t
 (((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0, 
_fù
, _å)

	)

83 
	#_IO_ş—nup_»giÚ_¡¬t_nßrg
(
_fù
) \

84 
	`__libc_ş—nup_»giÚ_¡¬t
 (1, 
_fù
, 
NULL
)

	)

85 
	#_IO_ş—nup_»giÚ_’d
(
_do™
) \

86 
	`__libc_ş—nup_»giÚ_’d
 (
_do™
)

	)

88 #ià
defšed
 
_LIBC
 && !defšed 
NOT_IN_libc


90 #ifdeà
__EXCEPTIONS


91 
	#_IO_acquœe_lock
(
_å
) \

93 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

94 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_fù
))) \

95 ğ(
_å
); \

96 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

97 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
) \

99 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

100 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_ş—r_æags2_fù
))) \

101 ğ(
_å
); \

102 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

104 
	#_IO_acquœe_lock
(
_å
è
_IO_acquœe_lock_Ãeds_exû±iÚs_’abËd


	)

105 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
è
	`_IO_acquœe_lock
 (_å)

	)

107 
	#_IO_»Ëa£_lock
(
_å
è; } 0)

	)

	@/usr/include/bits/typesizes.h

20 #iâdeà
_BITS_TYPES_H


24 #iâdef 
_BITS_TYPESIZES_H


25 
	#_BITS_TYPESIZES_H
 1

	)

30 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

31 
	#__UID_T_TYPE
 
__U32_TYPE


	)

32 
	#__GID_T_TYPE
 
__U32_TYPE


	)

33 
	#__INO_T_TYPE
 
__ULONGWORD_TYPE


	)

34 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

35 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

36 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

37 
	#__OFF_T_TYPE
 
__SLONGWORD_TYPE


	)

38 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

39 
	#__PID_T_TYPE
 
__S32_TYPE


	)

40 
	#__RLIM_T_TYPE
 
__ULONGWORD_TYPE


	)

41 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

42 
	#__BLKCNT_T_TYPE
 
__SLONGWORD_TYPE


	)

43 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

44 
	#__FSBLKCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

45 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

46 
	#__FSFILCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

47 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

48 
	#__ID_T_TYPE
 
__U32_TYPE


	)

49 
	#__CLOCK_T_TYPE
 
__SLONGWORD_TYPE


	)

50 
	#__TIME_T_TYPE
 
__SLONGWORD_TYPE


	)

51 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

52 
	#__SUSECONDS_T_TYPE
 
__SLONGWORD_TYPE


	)

53 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

54 
	#__SWBLK_T_TYPE
 
__SLONGWORD_TYPE


	)

55 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

56 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

57 
	#__TIMER_T_TYPE
 *

	)

58 
	#__BLKSIZE_T_TYPE
 
__SLONGWORD_TYPE


	)

59 
	#__FSID_T_TYPE
 sŒuù { 
__v®
[2]; }

	)

60 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

63 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/bits/wordsize.h

3 #ià
defšed
 
__x86_64__


4 
	#__WORDSIZE
 64

	)

5 
	#__WORDSIZE_COMPAT32
 1

	)

7 
	#__WORDSIZE
 32

	)

	@/usr/include/ctype.h

24 #iâdef 
_CTYPE_H


25 
	#_CTYPE_H
 1

	)

27 
	~<ã©u»s.h
>

28 
	~<b™s/ty³s.h
>

30 
	g__BEGIN_DECLS


32 #iâdeà
_ISb™


41 
	~<’dŸn.h
>

42 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


43 
	#_ISb™
(
b™
è(1 << (b™))

	)

45 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

50 
	m_ISuµ”
 = 
_ISb™
 (0),

51 
	m_ISlow”
 = 
_ISb™
 (1),

52 
	m_IS®pha
 = 
_ISb™
 (2),

53 
	m_ISdig™
 = 
_ISb™
 (3),

54 
	m_ISxdig™
 = 
_ISb™
 (4),

55 
	m_IS¥aû
 = 
_ISb™
 (5),

56 
	m_IS´št
 = 
_ISb™
 (6),

57 
	m_ISg¿ph
 = 
_ISb™
 (7),

58 
	m_ISbÏnk
 = 
_ISb™
 (8),

59 
	m_ISúŒl
 = 
_ISb™
 (9),

60 
	m_ISpunù
 = 
_ISb™
 (10),

61 
	m_IS®num
 = 
_ISb™
 (11)

81 
__cÚ¡
 **
	$__ùy³_b_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡
));

83 
__cÚ¡
 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡
));

85 
__cÚ¡
 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

86 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡
));

88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

91 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

92 
	#__tßscii
(
c
è((cè& 0x7fè

	)

94 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

96 
__BEGIN_NAMESPACE_STD


102 
	`__exùy³
 (
i§Êum
);

103 
	`__exùy³
 (
i§Íha
);

104 
	`__exùy³
 (
isúŒl
);

105 
	`__exùy³
 (
isdig™
);

106 
	`__exùy³
 (
i¦ow”
);

107 
	`__exùy³
 (
isg¿ph
);

108 
	`__exùy³
 (
i¥ršt
);

109 
	`__exùy³
 (
i¥unù
);

110 
	`__exùy³
 (
is¥aû
);

111 
	`__exùy³
 (
isuµ”
);

112 
	`__exùy³
 (
isxdig™
);

116 
	$tŞow”
 (
__c
è
__THROW
;

119 
	$touµ”
 (
__c
è
__THROW
;

121 
__END_NAMESPACE_STD


125 #ifdef 
__USE_ISOC99


126 
__BEGIN_NAMESPACE_C99


128 
	`__exùy³
 (
isbÏnk
);

130 
__END_NAMESPACE_C99


133 #ifdeà
__USE_GNU


135 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

138 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


142 
	$i§scii
 (
__c
è
__THROW
;

146 
	$tßscii
 (
__c
è
__THROW
;

150 
	`__exùy³
 (
_touµ”
);

151 
	`__exùy³
 (
_tŞow”
);

155 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

156 (
__ex‹nsiÚ__
 \

157 ({ 
__»s
; \

158 ià( (
c
) > 1) \

160 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

162 
__c
 = (
c
); \

163 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

166 
__»s
 = 
f
 
¬gs
; \

169 
__»s
 = (
a
)[(è(
c
)]; \

170 
__»s
; 
	}
}))

	)

172 #ià!
defšed
 
__NO_CTYPE
 && !defšed 
__ılu¥lus


173 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

174 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

175 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

176 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

177 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

178 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

179 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

180 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

181 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

182 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

183 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

185 #ifdeà
__USE_ISOC99


186 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

189 #ifdeà
__USE_EXTERN_INLINES


190 
__ex‹º_šlše
 

191 
__NTH
 (
	$tŞow”
 (
__c
))

193  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

194 
	}
}

196 
__ex‹º_šlše
 

197 
__NTH
 (
	$touµ”
 (
__c
))

199  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

200 
	}
}

203 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


204 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

205 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

208 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


209 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

210 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

212 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

213 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

219 #ifdeà
__USE_XOPEN2K8


233 
	~<xloÿË.h
>

237 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

238 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

240 
	#__exùy³_l
(
Çme
) \

241 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

247 
__exùy³_l
 (
i§Êum_l
);

248 
__exùy³_l
 (
i§Íha_l
);

249 
__exùy³_l
 (
isúŒl_l
);

250 
__exùy³_l
 (
isdig™_l
);

251 
__exùy³_l
 (
i¦ow”_l
);

252 
__exùy³_l
 (
isg¿ph_l
);

253 
__exùy³_l
 (
i¥ršt_l
);

254 
__exùy³_l
 (
i¥unù_l
);

255 
__exùy³_l
 (
is¥aû_l
);

256 
__exùy³_l
 (
isuµ”_l
);

257 
__exùy³_l
 (
isxdig™_l
);

259 
__exùy³_l
 (
isbÏnk_l
);

263 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

264 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

267 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

268 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

270 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


271 
	#__tŞow”_l
(
c
, 
loÿË
) \

272 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

273 
	#__touµ”_l
(
c
, 
loÿË
) \

274 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

275 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

276 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

280 #iâdeà
__NO_CTYPE


281 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

282 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

283 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

284 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

285 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

286 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

287 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

288 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

289 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

290 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

291 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

293 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

295 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


296 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

297 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

300 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

301 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

302 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

303 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

304 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

305 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

306 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

307 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

308 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

309 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

310 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

312 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

314 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


315 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

316 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

323 
__END_DECLS


	@/usr/include/gnu/stubs.h

4 
	~<b™s/wÜdsize.h
>

6 #ià
__WORDSIZE
 == 32

7 
	~<gnu/¡ubs-32.h
>

8 #–ià
__WORDSIZE
 == 64

9 
	~<gnu/¡ubs-64.h
>

	@/usr/include/sys/cdefs.h

20 #iâdef 
_SYS_CDEFS_H


21 
	#_SYS_CDEFS_H
 1

	)

24 #iâdeà
_FEATURES_H


25 
	~<ã©u»s.h
>

31 #ià
defšed
 
__GNUC__
 && !defšed 
__STDC__


36 #undeà
__P


37 #undeà
__PMT


39 #ifdeà
__GNUC__


46 #ià!
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (3, 3)

47 
	#__THROW
 
	`__©Œibu‹__
 ((
__nÙhrow__
))

	)

48 
	#__NTH
(
fù
è
	`__©Œibu‹__
 ((
__nÙhrow__
)è
	)
fct

50 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

51 
	#__THROW
 
	`throw
 ()

	)

52 
	#__NTH
(
fù
èfù 
	`throw
 ()

	)

54 
	#__THROW


	)

55 
	#__NTH
(
fù
è
	)
fct

61 
	#__šlše


	)

63 
	#__THROW


	)

64 
	#__NTH
(
fù
è
	)
fct

66 
	#__cÚ¡
 cÚ¡

	)

67 
	#__sigÃd
 sigÃd

	)

68 
	#__vŞ©e
 vŞ©e

	)

74 
	#__P
(
¬gs
è
	)
args

75 
	#__PMT
(
¬gs
è
	)
args

80 
	#__CONCAT
(
x
,
y
èx ## 
	)
y

81 
	#__STRING
(
x
è#x

	)

84 
	#__±r_t
 *

	)

85 
	#__lÚg_doubË_t
 

	)

89 #ifdef 
__ılu¥lus


90 
	#__BEGIN_DECLS
 "C" {

	)

91 
	#__END_DECLS
 }

	)

93 
	#__BEGIN_DECLS


	)

94 
	#__END_DECLS


	)

103 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES


104 
	#__BEGIN_NAMESPACE_STD
 
Çme¥aû
 
¡d
 {

	)

105 
	#__END_NAMESPACE_STD
 }

	)

106 
	#__USING_NAMESPACE_STD
(
Çme
è
usšg
 
¡d
::Çme;

	)

107 
	#__BEGIN_NAMESPACE_C99
 
Çme¥aû
 
__c99
 {

	)

108 
	#__END_NAMESPACE_C99
 }

	)

109 
	#__USING_NAMESPACE_C99
(
Çme
è
usšg
 
__c99
::Çme;

	)

114 
	#__BEGIN_NAMESPACE_STD


	)

115 
	#__END_NAMESPACE_STD


	)

116 
	#__USING_NAMESPACE_STD
(
Çme
)

	)

117 
	#__BEGIN_NAMESPACE_C99


	)

118 
	#__END_NAMESPACE_C99


	)

119 
	#__USING_NAMESPACE_C99
(
Çme
)

	)

124 #iâdeà
__BOUNDED_POINTERS__


125 
	#__bounded


	)

126 
	#__unbounded


	)

127 
	#__±rv®ue


	)

132 
	#__bos
(
±r
è
	`__butš_objeù_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

133 
	#__bos0
(
±r
è
	`__butš_objeù_size
 (±r, 0)

	)

135 #ià
__GNUC_PREREQ
 (4,3)

136 
	#__w¬ndeş
(
Çme
, 
msg
) \

137 
	`Çme
 (è
	`__©Œibu‹__
((
	`__w¬nšg__
 (
msg
)))

	)

138 
	#__w¬Ç‰r
(
msg
è
	`__©Œibu‹__
((
	`__w¬nšg__
 (msg)))

	)

139 
	#__”rÜdeş
(
Çme
, 
msg
) \

140 
	`Çme
 (è
	`__©Œibu‹__
((
	`__”rÜ__
 (
msg
)))

	)

142 
	#__w¬ndeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

143 
	#__w¬Ç‰r
(
msg
)

	)

144 
	#__”rÜdeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

148 #ià
__GNUC_PREREQ
 (2,97)

150 
	#__æex¬r
 []

	)

152 #ifdeà
__GNUC__


153 
	#__æex¬r
 [0]

	)

155 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

156 
	#__æex¬r
 []

	)

159 
	#__æex¬r
 [1]

	)

175 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

177 
	#__REDIRECT
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

178 #ifdeà
__ılu¥lus


179 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

180 
Çme
 
´Ùo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

182 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

183 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROW


	)

185 
	#__ASMNAME
(
úame
è
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, cÇme)

	)

186 
	#__ASMNAME2
(
´efix
, 
úame
è
	`__STRING
 (´efixè
	)
cname

199 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

200 
	#__©Œibu‹__
(
xyz
è

	)

206 #ià
__GNUC_PREREQ
 (2,96)

207 
	#__©Œibu‹_m®loc__
 
	`__©Œibu‹__
 ((
__m®loc__
))

	)

209 
	#__©Œibu‹_m®loc__


	)

215 #ià
__GNUC_PREREQ
 (2,96)

216 
	#__©Œibu‹_pu»__
 
	`__©Œibu‹__
 ((
__pu»__
))

	)

218 
	#__©Œibu‹_pu»__


	)

224 #ià
__GNUC_PREREQ
 (3,1)

225 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__u£d__
))

	)

226 
	#__©Œibu‹_nošlše__
 
	`__©Œibu‹__
 ((
__nošlše__
))

	)

228 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__unu£d__
))

	)

229 
	#__©Œibu‹_nošlše__


	)

233 #ià
__GNUC_PREREQ
 (3,2)

234 
	#__©Œibu‹_d•»ÿ‹d__
 
	`__©Œibu‹__
 ((
__d•»ÿ‹d__
))

	)

236 
	#__©Œibu‹_d•»ÿ‹d__


	)

245 #ià
__GNUC_PREREQ
 (2,8)

246 
	#__©Œibu‹_fÜm©_¬g__
(
x
è
	`__©Œibu‹__
 ((
	`__fÜm©_¬g__
 (x)))

	)

248 
	#__©Œibu‹_fÜm©_¬g__
(
x
è

	)

255 #ià
__GNUC_PREREQ
 (2,97)

256 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
) \

257 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__¡rfmÚ__
, 
a
, 
b
)))

	)

259 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
è

	)

264 #ià
__GNUC_PREREQ
 (3,3)

265 
	#__nÚnuÎ
(
·¿ms
è
	`__©Œibu‹__
 ((
__nÚnuÎ__
…¬ams))

	)

267 
	#__nÚnuÎ
(
·¿ms
)

	)

272 #ià
__GNUC_PREREQ
 (3,4)

273 
	#__©Œibu‹_w¬n_unu£d_»suÉ__
 \

274 
	`__©Œibu‹__
 ((
__w¬n_unu£d_»suÉ__
))

	)

275 #ià
__USE_FORTIFY_LEVEL
 > 0

276 
	#__wur
 
__©Œibu‹_w¬n_unu£d_»suÉ__


	)

279 
	#__©Œibu‹_w¬n_unu£d_»suÉ__


	)

281 #iâdeà
__wur


282 
	#__wur


	)

286 #ià
__GNUC_PREREQ
 (3,2)

287 
	#__®ways_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__®ways_šlše__
))

	)

289 
	#__®ways_šlše
 
__šlše


	)

294 #ià!
defšed
 
__ılu¥lus
 || 
__GNUC_PREREQ
 (4,3)

295 #ià
defšed
 
__GNUC_STDC_INLINE__
 || defšed 
__ılu¥lus


296 
	#__ex‹º_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

297 #ià
__GNUC_PREREQ
 (4,3)

298 
	#__ex‹º_®ways_šlše
 \

299 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
, 
__¬tificŸl__
))

	)

301 
	#__ex‹º_®ways_šlše
 \

302 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

305 
	#__ex‹º_šlše
 
__šlše


	)

306 #ià
__GNUC_PREREQ
 (4,3)

307 
	#__ex‹º_®ways_šlše
 \

308 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__¬tificŸl__
))

	)

310 
	#__ex‹º_®ways_šlše
 
__®ways_šlše


	)

317 #ià
__GNUC_PREREQ
 (4,3)

318 
	#__va_¬g_·ck
(è
	`__butš_va_¬g_·ck
 ()

	)

319 
	#__va_¬g_·ck_Ën
(è
	`__butš_va_¬g_·ck_Ën
 ()

	)

326 #ià!
__GNUC_PREREQ
 (2,8)

327 
	#__ex‹nsiÚ__


	)

331 #ià!
__GNUC_PREREQ
 (2,92)

332 
	#__»¡riù


	)

338 #ià
__GNUC_PREREQ
 (3,1è&& !
defšed
 
__GNUG__


339 
	#__»¡riù_¬r
 
__»¡riù


	)

341 #ifdeà
__GNUC__


342 
	#__»¡riù_¬r


	)

344 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

345 
	#__»¡riù_¬r
 
»¡riù


	)

348 
	#__»¡riù_¬r


	)

353 
	~<b™s/wÜdsize.h
>

355 #ià
defšed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && defšed 
__NO_LONG_DOUBLE_MATH


356 
	#__LDBL_COMPAT
 1

	)

357 #ifdeà
__REDIRECT


358 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

359 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
) \

360 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

361 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT_NTH
 (Çme,…rÙo,‡lŸs)

	)

362 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
) \

363 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

364 
	#__LDBL_REDIR1_DECL
(
Çme
, 
®Ÿs
) \

365 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 (#®Ÿs));

	)

366 
	#__LDBL_REDIR_DECL
(
Çme
) \

367 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 ("__Ædbl_" #Çme));

	)

368 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

369 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

370 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

371 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

374 #ià!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT


375 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm
	)
proto

376 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
èÇm
	)
proto

377 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
__THROW


	)

378 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
èÇm´ÙØ
__THROW


	)

379 
	#__LDBL_REDIR_DECL
(
Çme
)

	)

380 #ifdeà
__REDIRECT


381 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

382 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

383 
	`__REDIRECT_NTH
 (
Çme
, 
´Ùo
, 
®Ÿs
)

	)

	@/usr/include/bits/libc-lock.h

20 #iâdeà
_BITS_LIBC_LOCK_H


21 
	#_BITS_LIBC_LOCK_H
 1

	)

23 
	~<±h»ad.h
>

24 
	#__Ãed_NULL


	)

25 
	~<¡ddef.h
>

34 #ifdeà
_LIBC


35 
	~<lowËv–lock.h
>

36 
	~<s.h
>

37 
	~<±h»ad-funùiÚs.h
>

41 #ià
defšed
 
_LIBC
 || defšed 
_IO_MTSAFE_IO


42 #ià(
defšed
 
NOT_IN_libc
 && !defšed 
IS_IN_lib±h»ad
è|| !defšed 
_LIBC


43 
±h»ad_mu‹x_t
 
	t__libc_lock_t
;

44 ¡ruù { 
±h»ad_mu‹x_t
 
	mmu‹x
; } 
	t__libc_lock_»cursive_t
;

46 
	t__libc_lock_t
;

47 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t__libc_lock_»cursive_t
;

49 ¡ruù { 
±h»ad_mu‹x_t
 
	mmu‹x
; } 
	t__¹ld_lock_»cursive_t
;

50 #ifdeà
__USE_UNIX98


51 
±h»ad_rwlock_t
 
	t__libc_rwlock_t
;

53 
__libc_rwlock_İaque__
 
	t__libc_rwlock_t
;

56 
__libc_lock_İaque__
 
	t__libc_lock_t
;

57 
__libc_lock_»cursive_İaque__
 
	t__libc_lock_»cursive_t
;

58 
__libc_rwlock_İaque__
 
	t__libc_rwlock_t
;

62 
±h»ad_key_t
 
	t__libc_key_t
;

71 
	#__libc_lock_defše
(
CLASS
,
NAME
) \

72 
CLASS
 
__libc_lock_t
 
NAME
;

	)

73 
	#__libc_rwlock_defše
(
CLASS
,
NAME
) \

74 
CLASS
 
__libc_rwlock_t
 
NAME
;

	)

75 
	#__libc_lock_defše_»cursive
(
CLASS
,
NAME
) \

76 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

77 
	#__¹ld_lock_defše_»cursive
(
CLASS
,
NAME
) \

78 
CLASS
 
__¹ld_lock_»cursive_t
 
NAME
;

	)

89 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

90 #ià
LLL_LOCK_INITIALIZER
 == 0

91 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

92 
CLASS
 
__libc_lock_t
 
NAME
;

	)

94 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

95 
CLASS
 
__libc_lock_t
 
NAME
 = 
LLL_LOCK_INITIALIZER
;

	)

98 #ià
__LT_SPINLOCK_INIT
 == 0

99 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

100 
CLASS
 
__libc_lock_t
 
NAME
;

	)

102 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

103 
CLASS
 
__libc_lock_t
 
NAME
 = 
PTHREAD_MUTEX_INITIALIZER
;

	)

107 
	#__libc_rwlock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

108 
CLASS
 
__libc_rwlock_t
 
NAME
 = 
PTHREAD_RWLOCK_INITIALIZER
;

	)

112 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

113 #ià
LLL_LOCK_INITIALIZER
 == 0

114 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

115 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

117 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

118 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

120 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

121 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

123 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

124 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

125 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

126 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

129 
	#__¹ld_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

130 
CLASS
 
__¹ld_lock_»cursive_t
 
NAME
 = 
_RTLD_LOCK_RECURSIVE_INITIALIZER
;

	)

131 
	#_RTLD_LOCK_RECURSIVE_INITIALIZER
 \

132 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

134 
	#__¹ld_lock_š™Ÿlize
(
NAME
) \

135 (è((
NAME
èğ(
__¹ld_lock_»cursive_t
è
_RTLD_LOCK_RECURSIVE_INITIALIZER
)

	)

142 #ifdeà
__PIC__


143 
	#__libc_maybe_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

144 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of
 (
FUNC
è*
_â
 = (FUNC); \

145 
_â
 !ğ
NULL
 ? (*_âè
ARGS
 : 
ELSE
; }))

	)

147 
	#__libc_maybe_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

148 (
FUNC
 !ğ
NULL
 ? FUNC 
ARGS
 : 
ELSE
)

	)

152 #ià
defšed
 
SHARED
 && !defšed 
NOT_IN_libc


153 
	#PTFAVAIL
(
NAME
è
__libc_±h»ad_funùiÚs_š™


	)

154 
	#__libc_±f_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

155 (
__libc_±h»ad_funùiÚs_š™
 ? 
	`PTHFCT_CALL
 (
±r_
##
FUNC
, 
ARGS
è: 
ELSE
)

	)

156 
	#__libc_±f_ÿÎ_®ways
(
FUNC
, 
ARGS
) \

157 
	`PTHFCT_CALL
 (
±r_
##
FUNC
, 
ARGS
)

	)

159 
	#PTFAVAIL
(
NAME
è(NAME !ğ
NULL
)

	)

160 
	#__libc_±f_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

161 
	`__libc_maybe_ÿÎ
 (
FUNC
, 
ARGS
, 
ELSE
)

	)

162 
	#__libc_±f_ÿÎ_®ways
(
FUNC
, 
ARGS
) \

163 
FUNC
 
ARGS


	)

169 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

170 
	#__libc_lock_š™
(
NAME
è((NAMEèğ
LLL_LOCK_INITIALIZER
, 0)

	)

172 
	#__libc_lock_š™
(
NAME
) \

173 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_š™
, (&(
NAME
), 
NULL
), 0)

	)

175 #ià
defšed
 
SHARED
 && !defšed 
NOT_IN_libc


178 
	#__libc_rwlock_š™
(
NAME
) \

179 (
	`__butš_mem£t
 (&(
NAME
), '\0',  (NAME)), 0)

	)

181 
	#__libc_rwlock_š™
(
NAME
) \

182 
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_š™
, (&(
NAME
), 
NULL
), 0)

	)

186 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

187 
	#__libc_lock_š™_»cursive
(
NAME
) \

188 ((
NAME
èğ(
__libc_lock_»cursive_t
è
_LIBC_LOCK_RECURSIVE_INITIALIZER
, 0)

	)

190 
	#__libc_lock_š™_»cursive
(
NAME
) \

192 ià(
__±h»ad_mu‹x_š™
 !ğ
NULL
) \

194 
±h»ad_mu‹x©Œ_t
 
__©Œ
; \

195 
	`__±h»ad_mu‹x©Œ_š™
 (&
__©Œ
); \

196 
	`__±h»ad_mu‹x©Œ_£‰y³
 (&
__©Œ
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

197 
	`__±h»ad_mu‹x_š™
 (&(
NAME
).
mu‹x
, &
__©Œ
); \

198 
	`__±h»ad_mu‹x©Œ_de¡roy
 (&
__©Œ
); \

200 } 0)

	)

203 
	#__¹ld_lock_š™_»cursive
(
NAME
) \

205 ià(
__±h»ad_mu‹x_š™
 !ğ
NULL
) \

207 
±h»ad_mu‹x©Œ_t
 
__©Œ
; \

208 
	`__±h»ad_mu‹x©Œ_š™
 (&
__©Œ
); \

209 
	`__±h»ad_mu‹x©Œ_£‰y³
 (&
__©Œ
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

210 
	`__±h»ad_mu‹x_š™
 (&(
NAME
).
mu‹x
, &
__©Œ
); \

211 
	`__±h»ad_mu‹x©Œ_de¡roy
 (&
__©Œ
); \

213 } 0)

	)

218 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

219 
	#__libc_lock_fši
(
NAME
è((è0)

	)

221 
	#__libc_lock_fši
(
NAME
) \

222 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_de¡roy
, (&(
NAME
)), 0)

	)

224 #ià
defšed
 
SHARED
 && !defšed 
NOT_IN_libc


225 
	#__libc_rwlock_fši
(
NAME
è((è0)

	)

227 
	#__libc_rwlock_fši
(
NAME
) \

228 
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_de¡roy
, (&(
NAME
)), 0)

	)

232 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

233 
	#__libc_lock_fši_»cursive
(
NAME
è((è0)

	)

235 
	#__libc_lock_fši_»cursive
(
NAME
) \

236 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_de¡roy
, (&(
NAME
)), 0)

	)

240 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

241 
	#__libc_lock_lock
(
NAME
) \

242 ({ 
	`Îl_lock
 (
NAME
, 
LLL_PRIVATE
); 0; })

	)

244 
	#__libc_lock_lock
(
NAME
) \

245 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_lock
, (&(
NAME
)), 0)

	)

247 
	#__libc_rwlock_rdlock
(
NAME
) \

248 
	`__libc_±f_ÿÎ
 (
__±h»ad_rwlock_rdlock
, (&(
NAME
)), 0)

	)

249 
	#__libc_rwlock_w¾ock
(
NAME
) \

250 
	`__libc_±f_ÿÎ
 (
__±h»ad_rwlock_w¾ock
, (&(
NAME
)), 0)

	)

253 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

254 
	#__libc_lock_lock_»cursive
(
NAME
) \

256 *
£lf
 = 
THREAD_SELF
; \

257 ià((
NAME
).
owÃr
 !ğ
£lf
) \

259 
	`Îl_lock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

260 (
NAME
).
owÃr
 = 
£lf
; \

262 ++(
NAME
).
út
; \

263 } 0)

	)

265 
	#__libc_lock_lock_»cursive
(
NAME
) \

266 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_lock
, (&(
NAME
).
mu‹x
), 0)

	)

270 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

271 
	#__libc_lock_Œylock
(
NAME
) \

272 
	`Îl_Œylock
 (
NAME
)

	)

274 
	#__libc_lock_Œylock
(
NAME
) \

275 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_Œylock
, (&(
NAME
)), 0)

	)

277 
	#__libc_rwlock_Œyrdlock
(
NAME
) \

278 
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_Œyrdlock
, (&(
NAME
)), 0)

	)

279 
	#__libc_rwlock_Œyw¾ock
(
NAME
) \

280 
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_Œyw¾ock
, (&(
NAME
)), 0)

	)

283 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

284 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

286 
»suÉ
 = 0; \

287 *
£lf
 = 
THREAD_SELF
; \

288 ià((
NAME
).
owÃr
 !ğ
£lf
) \

290 ià(
	`Îl_Œylock
 ((
NAME
).
lock
) == 0) \

292 (
NAME
).
owÃr
 = 
£lf
; \

293 (
NAME
).
út
 = 1; \

296 
»suÉ
 = 
EBUSY
; \

299 ++(
NAME
).
út
; \

300 
»suÉ
; \

301 })

	)

303 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

304 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_Œylock
, (&(
NAME
)), 0)

	)

307 
	#__¹ld_lock_Œylock_»cursive
(
NAME
) \

308 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_Œylock
, (&(
NAME
).
mu‹x
), 0)

	)

311 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

312 
	#__libc_lock_uÆock
(
NAME
) \

313 
	`Îl_uÆock
 (
NAME
, 
LLL_PRIVATE
)

	)

315 
	#__libc_lock_uÆock
(
NAME
) \

316 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_uÆock
, (&(
NAME
)), 0)

	)

318 
	#__libc_rwlock_uÆock
(
NAME
) \

319 
	`__libc_±f_ÿÎ
 (
__±h»ad_rwlock_uÆock
, (&(
NAME
)), 0)

	)

322 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

324 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

326 ià(--(
NAME
).
út
 == 0) \

328 (
NAME
).
owÃr
 = 
NULL
; \

329 
	`Îl_uÆock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

331 } 0)

	)

333 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

334 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_uÆock
, (&(
NAME
)), 0)

	)

337 #ià
defšed
 
_LIBC
 && defšed 
SHARED


338 
	#__¹ld_lock_deçuÉ_lock_»cursive
(
lock
) \

339 ++((
±h»ad_mu‹x_t
 *)(
lock
))->
__d©a
.
__couÁ
;

	)

341 
	#__¹ld_lock_deçuÉ_uÆock_»cursive
(
lock
) \

342 --((
±h»ad_mu‹x_t
 *)(
lock
))->
__d©a
.
__couÁ
;

	)

344 
	#__¹ld_lock_lock_»cursive
(
NAME
) \

345 
	`GL
(
dl_¹ld_lock_»cursive
è(&(
NAME
).
mu‹x
)

	)

347 
	#__¹ld_lock_uÆock_»cursive
(
NAME
) \

348 
	`GL
(
dl_¹ld_uÆock_»cursive
è(&(
NAME
).
mu‹x
)

	)

350 
	#__¹ld_lock_lock_»cursive
(
NAME
) \

351 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_lock
, (&(
NAME
).
mu‹x
), 0)

	)

353 
	#__¹ld_lock_uÆock_»cursive
(
NAME
) \

354 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_uÆock
, (&(
NAME
).
mu‹x
), 0)

	)

358 #ià
PTHREAD_ONCE_INIT
 == 0

361 
	#__libc_Úû_defše
(
CLASS
, 
NAME
) \

362 
CLASS
 
±h»ad_Úû_t
 
NAME


	)

364 
	#__libc_Úû_defše
(
CLASS
, 
NAME
) \

365 
CLASS
 
±h»ad_Úû_t
 
NAME
 = 
PTHREAD_ONCE_INIT


	)

369 
	#__libc_Úû
(
ONCE_CONTROL
, 
INIT_FUNCTION
) \

371 ià(
	`PTFAVAIL
 (
__±h»ad_Úû
)) \

372 
	`__libc_±f_ÿÎ_®ways
 (
__±h»ad_Úû
, (&(
ONCE_CONTROL
), \

373 
INIT_FUNCTION
)); \

374 ià((
ONCE_CONTROL
è=ğ
PTHREAD_ONCE_INIT
) { \

375 
	`INIT_FUNCTION
 (); \

376 (
ONCE_CONTROL
) |= 2; \

378 } 0)

	)

381 
	#__libc_Úû_g‘
(
ONCE_CONTROL
) \

382 ((
ONCE_CONTROL
è!ğ
PTHREAD_ONCE_INIT
)

	)

388 
_±h»ad_ş—nup_push
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

389 (*
routše
è(*), *
¬g
);

390 
	`_±h»ad_ş—nup_pİ
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

391 
execu‹
);

392 
	`_±h»ad_ş—nup_push_deãr
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

393 (*
routše
è(*), *
¬g
);

394 
	`_±h»ad_ş—nup_pİ_»¡Üe
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

395 
execu‹
);

398 
	#__libc_ş—nup_»giÚ_¡¬t
(
DOIT
, 
FCT
, 
ARG
) \

399 { 
_±h»ad_ş—nup_bufãr
 
_bufãr
; \

400 
_ava
; \

401 ià(
DOIT
) { \

402 
_ava
 = 
	`PTFAVAIL
 (
_±h»ad_ş—nup_push_deãr
); \

403 ià(
_ava
) { \

404 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_push_deãr
, (&
_bufãr
, 
FCT
, \

405 
ARG
)); \

407 
_bufãr
.
__routše
 = (
FCT
); \

408 
_bufãr
.
__¬g
 = (
ARG
); \

411 
_ava
 = 0; \

412 }

	)

415 
	#__libc_ş—nup_»giÚ_’d
(
DOIT
) \

416 ià(
_ava
) { \

417 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_pİ_»¡Üe
, (&
_bufãr
, 
DOIT
));\

418 } ià(
DOIT
) \

419 
_bufãr
.
	`__routše
 (_bufãr.
__¬g
); \

420 
	}

	)
}

423 
	#__libc_ş—nup_’d
(
DOIT
) \

424 ià(
_ava
) { \

425 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_pİ_»¡Üe
, (&
_bufãr
, 
DOIT
));\

426 } ià(
DOIT
) \

427 
_bufãr
.
	`__routše
 (_bufãr.
__¬g
)

	)

431 
__ex‹º_šlše
 

432 
	$__libc_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
f
)

434 ià(
f
->
__do_™
)

435 
f
->
	`__ÿnûl_routše
 (f->
__ÿnûl_¬g
);

436 
	}
}

438 
	#__libc_ş—nup_push
(
fù
, 
¬g
) \

440 
__±h»ad_ş—nup_äame
 
__şäame
 \

441 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__libc_ş—nup_routše
))) \

442 ğ{ .
__ÿnûl_routše
 = (
fù
), .
__ÿnûl_¬g
 = (
¬g
), \

443 .
__do_™
 = 1 };

	)

445 
	#__libc_ş—nup_pİ
(
execu‹
) \

446 
__şäame
.
__do_™
 = (
execu‹
); \

447 } 0)

	)

451 
	#__libc_key_ü—‹
(
KEY
, 
DESTRUCTOR
) \

452 
	`__libc_±f_ÿÎ
 (
__±h»ad_key_ü—‹
, (
KEY
, 
DESTRUCTOR
), 1)

	)

455 
	#__libc_g‘¥ecific
(
KEY
) \

456 
	`__libc_±f_ÿÎ
 (
__±h»ad_g‘¥ecific
, (
KEY
), 
NULL
)

	)

459 
	#__libc_£t¥ecific
(
KEY
, 
VALUE
) \

460 
	`__libc_±f_ÿÎ
 (
__±h»ad_£t¥ecific
, (
KEY
, 
VALUE
), 0)

	)

466 
	#__libc_©fÜk
(
PREPARE
, 
PARENT
, 
CHILD
) \

467 
	`__»gi¡”_©fÜk
 (
PREPARE
, 
PARENT
, 
CHILD
, 
NULL
)

	)

468 
__»gi¡”_©fÜk
 ((*
__´•¬e
) (),

469 (*
__·»Á
) (),

470 (*
__chd
) (),

471 *
__dso_hªdË
);

476 
	`__±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

477 
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__mu‹x_©Œ
);

479 
	`__±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

481 
	`__±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

483 
	`__±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

485 
	`__±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

487 
	`__±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
);

489 
	`__±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
);

491 
	`__±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

492 
__kšd
);

494 #ifdeà
__USE_UNIX98


495 
	`__±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__rwlock
,

496 
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *
__©Œ
);

498 
	`__±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
);

500 
	`__±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
);

502 
	`__±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
);

504 
	`__±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
);

506 
	`__±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
);

508 
	`__±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
);

511 
	`__±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

512 (*
__de¡r_funùiÚ
) (*));

514 
	`__±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

515 
__cÚ¡
 *
__poš‹r
);

517 *
	`__±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
);

519 
	`__±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

520 (*
__š™_routše
) ());

522 
	`__±h»ad_©fÜk
 ((*
__´•¬e
) (),

523 (*
__·»Á
) (),

524 (*
__chd
) ());

530 #iâdeà
__NO_WEAK_PTHREAD_ALIASES


531 #ifdeà
w—k_ex‹º


532 #ià
_LIBC


533 
	~<bp-sym.h
>

535 
	#BP_SYM
(
sym
è
	)
sym

537 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_š™
))

538 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_de¡roy
))

539 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_lock
))

540 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_Œylock
))

541 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_uÆock
))

542 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x©Œ_š™
))

543 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x©Œ_de¡roy
))

544 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x©Œ_£‰y³
))

545 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_š™
))

546 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_de¡roy
))

547 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_rdlock
))

548 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_Œyrdlock
))

549 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_w¾ock
))

550 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_Œyw¾ock
))

551 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_uÆock
))

552 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_key_ü—‹
))

553 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_£t¥ecific
))

554 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_g‘¥ecific
))

555 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_Úû
))

556 
	$w—k_ex‹º
 (
__±h»ad_š™Ÿlize
)

557 
	$w—k_ex‹º
 (
__±h»ad_©fÜk
)

558 
	`w—k_ex‹º
 (
	$BP_SYM
 (
_±h»ad_ş—nup_push_deãr
))

559 
	`w—k_ex‹º
 (
	$BP_SYM
 (
_±h»ad_ş—nup_pİ_»¡Üe
))

560 
	`w—k_ex‹º
 (
	$BP_SYM
 (
±h»ad_£tÿnûl¡©e
))

562 #´agm¨
w—k
 
__±h»ad_mu‹x_š™


563 #´agm¨
w—k
 
__±h»ad_mu‹x_de¡roy


564 #´agm¨
w—k
 
__±h»ad_mu‹x_lock


565 #´agm¨
w—k
 
__±h»ad_mu‹x_Œylock


566 #´agm¨
w—k
 
__±h»ad_mu‹x_uÆock


567 #´agm¨
w—k
 
__±h»ad_mu‹x©Œ_š™


568 #´agm¨
w—k
 
__±h»ad_mu‹x©Œ_de¡roy


569 #´agm¨
w—k
 
__±h»ad_mu‹x©Œ_£‰y³


570 #´agm¨
w—k
 
__±h»ad_rwlock_de¡roy


571 #´agm¨
w—k
 
__±h»ad_rwlock_rdlock


572 #´agm¨
w—k
 
__±h»ad_rwlock_Œyrdlock


573 #´agm¨
w—k
 
__±h»ad_rwlock_w¾ock


574 #´agm¨
w—k
 
__±h»ad_rwlock_Œyw¾ock


575 #´agm¨
w—k
 
__±h»ad_rwlock_uÆock


576 #´agm¨
w—k
 
__±h»ad_key_ü—‹


577 #´agm¨
w—k
 
__±h»ad_£t¥ecific


578 #´agm¨
w—k
 
__±h»ad_g‘¥ecific


579 #´agm¨
w—k
 
__±h»ad_Úû


580 #´agm¨
w—k
 
__±h»ad_š™Ÿlize


581 #´agm¨
w—k
 
__±h»ad_©fÜk


582 #´agm¨
w—k
 
_±h»ad_ş—nup_push_deãr


583 #´agm¨
w—k
 
_±h»ad_ş—nup_pİ_»¡Üe


584 #´agm¨
w—k
 
±h»ad_£tÿnûl¡©e


	@/usr/include/endian.h

19 #iâdef 
_ENDIAN_H


20 
	#_ENDIAN_H
 1

	)

22 
	~<ã©u»s.h
>

32 
	#__LITTLE_ENDIAN
 1234

	)

33 
	#__BIG_ENDIAN
 4321

	)

34 
	#__PDP_ENDIAN
 3412

	)

37 
	~<b™s/’dŸn.h
>

41 #iâdeà
__FLOAT_WORD_ORDER


42 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

45 #ifdef 
__USE_BSD


46 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

47 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

48 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

49 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

52 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


53 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

54 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


55 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

59 #ifdeà
__USE_BSD


61 
	~<b™s/by‹sw­.h
>

63 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


64 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

65 
	#htŞe16
(
x
è(x)

	)

66 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

67 
	#Ë16toh
(
x
è(x)

	)

69 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

70 
	#htŞe32
(
x
è(x)

	)

71 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

72 
	#Ë32toh
(
x
è(x)

	)

74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è(x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è(x)

	)

79 
	#htobe16
(
x
è(x)

	)

80 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

81 
	#be16toh
(
x
è(x)

	)

82 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

84 
	#htobe32
(
x
è(x)

	)

85 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

86 
	#be32toh
(
x
è(x)

	)

87 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

89 
	#htobe64
(
x
è(x)

	)

90 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

91 
	#be64toh
(
x
è(x)

	)

92 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/gconv.h

23 #iâdeà
_GCONV_H


24 
	#_GCONV_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	#__Ãed_mb¡©e_t


	)

28 
	#__Ãed_wšt_t


	)

29 
	~<wch¬.h
>

30 
	#__Ãed_size_t


	)

31 
	#__Ãed_wch¬_t


	)

32 
	~<¡ddef.h
>

35 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

40 
	m__GCONV_OK
 = 0,

41 
	m__GCONV_NOCONV
,

42 
	m__GCONV_NODB
,

43 
	m__GCONV_NOMEM
,

45 
	m__GCONV_EMPTY_INPUT
,

46 
	m__GCONV_FULL_OUTPUT
,

47 
	m__GCONV_ILLEGAL_INPUT
,

48 
	m__GCONV_INCOMPLETE_INPUT
,

50 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

51 
	m__GCONV_INTERNAL_ERROR


58 
	m__GCONV_IS_LAST
 = 0x0001,

59 
	m__GCONV_IGNORE_ERRORS
 = 0x0002

64 
	g__gcÚv_¡•
;

65 
	g__gcÚv_¡•_d©a
;

66 
	g__gcÚv_lßded_objeù
;

67 
	g__gcÚv_Œªs_d©a
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

72 
	t__cÚ¡
 **, __const *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 (*
	t__gcÚv_Œªs_fù
è(
	t__gcÚv_¡•
 *,

85 
	t__gcÚv_¡•_d©a
 *, *,

86 
	t__cÚ¡
 *,

87 
	t__cÚ¡
 **,

88 
	t__cÚ¡
 *, **,

89 
	tsize_t
 *);

92 (*
	t__gcÚv_Œªs_cÚ‹xt_fù
è(*, 
	t__cÚ¡
 *,

93 
	t__cÚ¡
 *,

97 (*
	t__gcÚv_Œªs_qu”y_fù
è(
	t__cÚ¡
 *, __const ***,

98 
	tsize_t
 *);

101 (*
	t__gcÚv_Œªs_š™_fù
) (**, const *);

102 (*
	t__gcÚv_Œªs_’d_fù
) (*);

104 
	s__gcÚv_Œªs_d©a


107 
__gcÚv_Œªs_fù
 
__Œªs_fù
;

108 
__gcÚv_Œªs_cÚ‹xt_fù
 
__Œªs_cÚ‹xt_fù
;

109 
__gcÚv_Œªs_’d_fù
 
__Œªs_’d_fù
;

110 *
__d©a
;

111 
__gcÚv_Œªs_d©a
 *
__Ãxt
;

116 
	s__gcÚv_¡•


118 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

119 
__cÚ¡
 *
__modÇme
;

121 
__couÁ”
;

123 *
__äom_Çme
;

124 *
__to_Çme
;

126 
__gcÚv_fù
 
__fù
;

127 
__gcÚv_btowc_fù
 
__btowc_fù
;

128 
__gcÚv_š™_fù
 
__š™_fù
;

129 
__gcÚv_’d_fù
 
__’d_fù
;

133 
__mš_Ãeded_äom
;

134 
__max_Ãeded_äom
;

135 
__mš_Ãeded_to
;

136 
__max_Ãeded_to
;

139 
__¡©eful
;

141 *
__d©a
;

146 
	s__gcÚv_¡•_d©a


148 *
__outbuf
;

149 *
__outbuãnd
;

153 
__æags
;

157 
__švoÿtiÚ_couÁ”
;

161 
__š‹º®_u£
;

163 
__mb¡©e_t
 *
__¡©•
;

164 
__mb¡©e_t
 
__¡©e
;

168 
__gcÚv_Œªs_d©a
 *
__Œªs
;

173 
	s__gcÚv_šfo


175 
size_t
 
__n¡•s
;

176 
__gcÚv_¡•
 *
__¡•s
;

177 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

178 } *
	t__gcÚv_t
;

	@/usr/include/gnu/stubs-32.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub___k”Ãl_co¦


	)

11 
	#__¡ub___k”Ãl_sšl


	)

12 
	#__¡ub___k”Ãl_Æ


	)

13 
	#__¡ub_chæags


	)

14 
	#__¡ub_ç‰ach


	)

15 
	#__¡ub_fchæags


	)

16 
	#__¡ub_fd‘ach


	)

17 
	#__¡ub_g‰y


	)

18 
	#__¡ub_lchmod


	)

19 
	#__¡ub_»voke


	)

20 
	#__¡ub_£ogš


	)

21 
	#__¡ub_sig»tuº


	)

22 
	#__¡ub_s¡k


	)

23 
	#__¡ub_¡ty


	)

	@/usr/include/wchar.h

24 #iâdeà
_WCHAR_H


26 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


27 
	#_WCHAR_H
 1

	)

28 
	~<ã©u»s.h
>

31 #ifdeà
_WCHAR_H


33 
	#__Ãed___FILE


	)

34 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


35 
	#__Ãed_FILE


	)

37 
	~<¡dio.h
>

39 
	#__Ãed___va_li¡


	)

40 
	~<¡d¬g.h
>

42 
	~<b™s/wch¬.h
>

45 
	#__Ãed_size_t


	)

46 
	#__Ãed_wch¬_t


	)

47 
	#__Ãed_NULL


	)

49 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


50 #undeà
__Ãed_wšt_t


51 
	#__Ãed_wšt_t


	)

52 
	~<¡ddef.h
>

55 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

56 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

61 #iâdeà
_WINT_T


66 
	#_WINT_T


	)

67 
	twšt_t
;

71 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

72 && 
defšed
 
__WINT_TYPE__


73 
__BEGIN_NAMESPACE_STD


74 
__WINT_TYPE__
 
	twšt_t
;

75 
	g__END_NAMESPACE_STD


80 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
__mb¡©e_t_defšed


81 
	#__mb¡©e_t_defšed
 1

	)

85 
	m__couÁ
;

88 #ifdeà
__WINT_TYPE__


89 
__WINT_TYPE__
 
	m__wch
;

91 
wšt_t
 
	m__wch
;

93 
	m__wchb
[4];

94 } 
	m__v®ue
;

95 } 
	t__mb¡©e_t
;

97 #undeà
__Ãed_mb¡©e_t


102 #ifdeà
_WCHAR_H


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 #ifdeà
__USE_GNU


109 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

112 #iâdeà
WCHAR_MIN


114 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

115 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

118 #iâdeà
WEOF


119 
	#WEOF
 (0xffffffffu)

	)

124 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


125 
	~<wùy³.h
>

129 
__BEGIN_DECLS


131 
__BEGIN_NAMESPACE_STD


134 
tm
;

135 
__END_NAMESPACE_STD


139 
	$__USING_NAMESPACE_STD
(
tm
)

142 
__BEGIN_NAMESPACE_STD


144 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

145 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

147 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

149 
__THROW
;

152 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

153 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

155 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

156 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

157 
__THROW
;

160 
	$wcscmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
)

161 
__THROW
 
__©Œibu‹_pu»__
;

163 
	$wc¢cmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

164 
__THROW
 
__©Œibu‹_pu»__
;

165 
__END_NAMESPACE_STD


167 #ifdeà
__USE_XOPEN2K8


169 
	$wcsÿ£cmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

172 
	$wc¢ÿ£cmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

173 
size_t
 
__n
è
__THROW
;

177 
	~<xloÿË.h
>

179 
	$wcsÿ£cmp_l
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

180 
__loÿË_t
 
__loc
è
__THROW
;

182 
	$wc¢ÿ£cmp_l
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

183 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

186 
__BEGIN_NAMESPACE_STD


189 
	$wcscŞl
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

193 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

194 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

195 
__END_NAMESPACE_STD


197 #ifdeà
__USE_XOPEN2K8


203 
	$wcscŞl_l
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

204 
__loÿË_t
 
__loc
è
__THROW
;

209 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
,

210 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

213 
wch¬_t
 *
	$wcsdup
 (
__cÚ¡
 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

216 
__BEGIN_NAMESPACE_STD


218 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


219 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

220 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

221 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wcschr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

222 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

224 
wch¬_t
 *
	$wcschr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

225 
__THROW
 
__©Œibu‹_pu»__
;

228 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


229 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

230 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

231 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wc¤chr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

232 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

234 
wch¬_t
 *
	$wc¤chr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

235 
__THROW
 
__©Œibu‹_pu»__
;

237 
__END_NAMESPACE_STD


239 #ifdeà
__USE_GNU


242 
wch¬_t
 *
	$wcschºul
 (
__cÚ¡
 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

243 
__THROW
 
__©Œibu‹_pu»__
;

246 
__BEGIN_NAMESPACE_STD


249 
size_t
 
	$wcsc¥n
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, __cÚ¡ wch¬_ˆ*
__»jeù
)

250 
__THROW
 
__©Œibu‹_pu»__
;

253 
size_t
 
	$wcs¥n
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, __cÚ¡ wch¬_ˆ*
__acû±
)

254 
__THROW
 
__©Œibu‹_pu»__
;

256 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


257 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, 
__cÚ¡
 wch¬_ˆ*
__acû±
)

258 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

259 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wc¥brk
 (
__cÚ¡
 
wch¬_t
 *
__wcs
,

260 
__cÚ¡
 
wch¬_t
 *
__acû±
)

261 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

263 
wch¬_t
 *
	$wc¥brk
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, __cÚ¡ wch¬_ˆ*
__acû±
)

264 
__THROW
 
__©Œibu‹_pu»__
;

267 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


268 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, 
__cÚ¡
 wch¬_ˆ*
__ÃedË
)

269 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

270 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wcs¡r
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
,

271 
__cÚ¡
 
wch¬_t
 *
__ÃedË
)

272 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

274 
wch¬_t
 *
	$wcs¡r
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
, __cÚ¡ wch¬_ˆ*
__ÃedË
)

275 
__THROW
 
__©Œibu‹_pu»__
;

279 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

280 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__d–im
,

281 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

284 
size_t
 
	$wc¦’
 (
__cÚ¡
 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

285 
__END_NAMESPACE_STD


287 #ifdeà
__USE_XOPEN


289 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


290 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, 
__cÚ¡
 wch¬_ˆ*
__ÃedË
)

291 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

292 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wcswcs
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
,

293 
__cÚ¡
 
wch¬_t
 *
__ÃedË
)

294 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

296 
wch¬_t
 *
	$wcswcs
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
, __cÚ¡ wch¬_ˆ*
__ÃedË
)

297 
__THROW
 
__©Œibu‹_pu»__
;

301 #ifdeà
__USE_XOPEN2K8


303 
size_t
 
	$wc¢Ën
 (
__cÚ¡
 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

304 
__THROW
 
__©Œibu‹_pu»__
;

308 
__BEGIN_NAMESPACE_STD


310 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


311 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

312 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

313 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wmemchr
 (
__cÚ¡
 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

314 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

317 
wch¬_t
 *
	$wmemchr
 (
__cÚ¡
 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

318 
__THROW
 
__©Œibu‹_pu»__
;

322 
	$wmemcmp
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s1
,

323 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

324 
__THROW
 
__©Œibu‹_pu»__
;

327 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

328 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

332 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
, 
size_t
 
__n
)

333 
__THROW
;

336 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

337 
__END_NAMESPACE_STD


339 #ifdeà
__USE_GNU


342 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

343 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

344 
__THROW
;

348 
__BEGIN_NAMESPACE_STD


351 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

355 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

359 
	$mbsš™
 (
__cÚ¡
 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

363 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

364 
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

365 
mb¡©e_t
 *
__p
è
__THROW
;

368 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

369 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

372 
size_t
 
	$__mb¾’
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

373 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

374 
size_t
 
	$mb¾’
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

375 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

376 
__END_NAMESPACE_STD


378 #ifdeà
__USE_EXTERN_INLINES


384 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

385 
__ex‹º_šlše
 
wšt_t


386 
	`__NTH
 (
	$btowc
 (
__c
))

387 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

388 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

390 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

391 
__ex‹º_šlše
 

392 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

393 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

394 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

396 
__ex‹º_šlše
 
size_t


397 
__NTH
 (
	$mb¾’
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

398 
mb¡©e_t
 *
__»¡riù
 
__ps
))

399 {  (
__ps
 !ğ
NULL


400 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

403 
__BEGIN_NAMESPACE_STD


406 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

407 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

408 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

412 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

413 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

414 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

415 
__END_NAMESPACE_STD


418 #ifdef 
__USE_XOPEN2K8


421 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

422 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

423 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

427 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

428 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

429 
size_t
 
__nwc
, size_ˆ
__Ën
,

430 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

435 #ifdeà
__USE_XOPEN


437 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

441 
	$wcswidth
 (
__cÚ¡
 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

445 
__BEGIN_NAMESPACE_STD


448 
	$wc¡od
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

449 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

450 
__END_NAMESPACE_STD


452 #ifdeà
__USE_ISOC99


453 
__BEGIN_NAMESPACE_C99


455 
	$wc¡of
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

456 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

457 
	$wc¡Şd
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

459 
__END_NAMESPACE_C99


463 
__BEGIN_NAMESPACE_STD


466 
	$wc¡Ş
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

467 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

471 
	$wc¡oul
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

472 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

473 
__THROW
;

474 
__END_NAMESPACE_STD


476 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GNUC__
 && defšed 
__USE_GNU
)

477 
__BEGIN_NAMESPACE_C99


480 
__ex‹nsiÚ__


481 
	$wc¡Şl
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

482 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

483 
__THROW
;

487 
__ex‹nsiÚ__


488 
	$wc¡ouÎ
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

489 
wch¬_t
 **
__»¡riù
 
__’d±r
,

490 
__ba£
è
__THROW
;

491 
__END_NAMESPACE_C99


494 #ià
defšed
 
__GNUC__
 && defšed 
__USE_GNU


497 
__ex‹nsiÚ__


498 
	$wc¡oq
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

499 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

500 
__THROW
;

504 
__ex‹nsiÚ__


505 
	$wc¡ouq
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

506 
wch¬_t
 **
__»¡riù
 
__’d±r
,

507 
__ba£
è
__THROW
;

510 #ifdeà
__USE_GNU


524 
	~<xloÿË.h
>

528 
	$wc¡Ş_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

529 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

530 
__loÿË_t
 
__loc
è
__THROW
;

532 
	$wc¡oul_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

533 
wch¬_t
 **
__»¡riù
 
__’d±r
,

534 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

536 
__ex‹nsiÚ__


537 
	$wc¡Şl_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

538 
wch¬_t
 **
__»¡riù
 
__’d±r
,

539 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

541 
__ex‹nsiÚ__


542 
	$wc¡ouÎ_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

543 
wch¬_t
 **
__»¡riù
 
__’d±r
,

544 
__ba£
, 
__loÿË_t
 
__loc
)

545 
__THROW
;

547 
	$wc¡od_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

548 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

549 
__THROW
;

551 
	$wc¡of_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

552 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

553 
__THROW
;

555 
	$wc¡Şd_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

556 
wch¬_t
 **
__»¡riù
 
__’d±r
,

557 
__loÿË_t
 
__loc
è
__THROW
;

561 #ifdef 
__USE_XOPEN2K8


564 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
è
__THROW
;

568 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
, 
size_t
 
__n
)

569 
__THROW
;

575 #ifdef 
__USE_XOPEN2K8


578 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

581 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


582 
__BEGIN_NAMESPACE_STD


585 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

592 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

593 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

599 
	`w´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

602 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

603 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
__THROW
 ;

610 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

611 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

612 
__gnuc_va_li¡
 
__¬g
)

618 
	`vw´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

619 
__gnuc_va_li¡
 
__¬g
)

623 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

624 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

625 
__gnuc_va_li¡
 
__¬g
)

626 
__THROW
 ;

633 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

634 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

640 
	`wsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

643 
	$swsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

644 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
__THROW
 ;

647 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

648 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

649 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

650 #ifdeà
__REDIRECT


654 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

655 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

656 
__isoc99_fwsÿnf
)

658 
	`__REDIRECT
 (
wsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

659 
__isoc99_wsÿnf
)

661 
	`__REDIRECT
 (
swsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

662 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

663 
__isoc99_swsÿnf
)

664 
__THROW
 ;

666 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

667 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

668 
	`__isoc99_wsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

669 
	$__isoc99_swsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

670 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

671 
__THROW
;

672 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

673 
	#wsÿnf
 
__isoc99_wsÿnf


	)

674 
	#swsÿnf
 
__isoc99_swsÿnf


	)

678 
__END_NAMESPACE_STD


681 #ifdeà
__USE_ISOC99


682 
__BEGIN_NAMESPACE_C99


687 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

688 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

689 
__gnuc_va_li¡
 
__¬g
)

695 
	`vwsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

696 
__gnuc_va_li¡
 
__¬g
)

699 
	$vswsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

700 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

701 
__gnuc_va_li¡
 
__¬g
)

702 
__THROW
 ;

704 #ià!
defšed
 
__USE_GNU
 \

705 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

706 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

707 #ifdeà
__REDIRECT


708 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

709 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

710 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

712 
	`__REDIRECT
 (
vwsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

713 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

715 
	`__REDIRECT
 (
vswsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

716 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

717 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

718 
__THROW
 ;

720 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

721 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

722 
__gnuc_va_li¡
 
__¬g
);

723 
	`__isoc99_vwsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

724 
__gnuc_va_li¡
 
__¬g
);

725 
	$__isoc99_vswsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

726 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

727 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

728 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

729 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

730 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

734 
__END_NAMESPACE_C99


738 
__BEGIN_NAMESPACE_STD


743 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

744 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

750 
wšt_t
 
	`g‘wch¬
 ();

757 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

758 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

764 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

772 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

773 
__FILE
 *
__»¡riù
 
__¡»am
);

779 
	`åutws
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ws
,

780 
__FILE
 *
__»¡riù
 
__¡»am
);

787 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

788 
__END_NAMESPACE_STD


791 #ifdeà
__USE_GNU


799 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

800 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

808 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

816 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

825 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

826 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

835 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

836 
__FILE
 *
__»¡riù
 
__¡»am
);

844 
	`åutws_uÆocked
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ws
,

845 
__FILE
 *
__»¡riù
 
__¡»am
);

849 
__BEGIN_NAMESPACE_C99


853 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

854 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

855 
__cÚ¡
 
tm
 *
__»¡riù
 
__
è
__THROW
;

856 
__END_NAMESPACE_C99


858 #ifdeà
__USE_GNU


859 
	~<xloÿË.h
>

863 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

864 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

865 
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

866 
__loÿË_t
 
__loc
è
__THROW
;

875 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


876 
	#__Ãed_iswxxx


	)

877 
	~<wùy³.h
>

881 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


882 
	~<b™s/wch¬2.h
>

885 #ifdeà
__LDBL_COMPAT


886 
	~<b™s/wch¬-ldbl.h
>

889 
__END_DECLS


897 #undeà
__Ãed_mb¡©e_t


898 #undeà
__Ãed_wšt_t


	@/usr/include/xlocale.h

21 #iâdeà
_XLOCALE_H


22 
	#_XLOCALE_H
 1

	)

28 
	s__loÿË_¡ruù


31 
loÿË_d©a
 *
	m__loÿËs
[13];

34 cÚ¡ *
	m__ùy³_b
;

35 cÚ¡ *
	m__ùy³_tŞow”
;

36 cÚ¡ *
	m__ùy³_touµ”
;

39 cÚ¡ *
	m__Çmes
[13];

40 } *
	t__loÿË_t
;

43 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/bits/byteswap.h

21 #ià!
defšed
 
_BYTESWAP_H
 && !defšed 
_NETINET_IN_H
 && !defšed 
_ENDIAN_H


25 #iâdeà
_BITS_BYTESWAP_H


26 
	#_BITS_BYTESWAP_H
 1

	)

28 
	~<b™s/wÜdsize.h
>

31 
	#__bsw­_cÚ¡ªt_16
(
x
) \

32 ((((
x
è>> 8è& 0xffè| (((xè& 0xffè<< 8))

	)

34 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

35 
	#__bsw­_16
(
x
) \

36 (
__ex‹nsiÚ__
 \

37 ({ 
__v
, 
__x
 = (
x
); \

38 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

39 
__v
 = 
	`__bsw­_cÚ¡ªt_16
 (
__x
); \

41 
	`__asm__
 ("rorw $8, %w0" \

42 : "ô" (
__v
) \

43 : "0" (
__x
) \

45 
__v
; }))

	)

48 
	#__bsw­_16
(
x
) \

49 (
__ex‹nsiÚ__
 \

50 ({ 
__x
 = (
x
); 
	`__bsw­_cÚ¡ªt_16
 (__x); }))

	)

55 
	#__bsw­_cÚ¡ªt_32
(
x
) \

56 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

57 (((
x
è& 0x0000ff00è<< 8è| (((xè& 0x000000ffè<< 24))

	)

59 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

60 #ià
__WORDSIZE
 =ğ64 || (
defšed
 
__i486__
 || defšed 
__³Áium__
 \

61 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

62 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

63 || 
defšed
 
	g__k6__
 || defšed 
	g__nocÚa__
 \

64 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__geode__
 \

65 || 
defšed
 
	g__amdçm10__
)

68 
	#__bsw­_32
(
x
) \

69 (
__ex‹nsiÚ__
 \

70 ({ 
__v
, 
__x
 = (
x
); \

71 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

72 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

74 
	`__asm__
 ("bsw­ %0" : "ô" (
__v
è: "0" (
__x
)); \

75 
__v
; }))

	)

77 
	#__bsw­_32
(
x
) \

78 (
__ex‹nsiÚ__
 \

79 ({ 
__v
, 
__x
 = (
x
); \

80 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

81 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

83 
	`__asm__
 ("rorw $8, %w0;" \

86 : "ô" (
__v
) \

87 : "0" (
__x
) \

89 
__v
; }))

	)

92 
	#__bsw­_32
(
x
) \

93 (
__ex‹nsiÚ__
 \

94 ({ 
__x
 = (
x
); 
	`__bsw­_cÚ¡ªt_32
 (__x); }))

	)

98 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

100 
	#__bsw­_cÚ¡ªt_64
(
x
) \

101 ((((
x
) & 0xff00000000000000ull) >> 56) \

102 | (((
x
) & 0x00ff000000000000ull) >> 40) \

103 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

104 | (((
x
) & 0x000000ff00000000ull) >> 8) \

105 | (((
x
) & 0x00000000ff000000ull) << 8) \

106 | (((
x
) & 0x0000000000ff0000ull) << 24) \

107 | (((
x
) & 0x000000000000ff00ull) << 40) \

108 | (((
x
è& 0x00000000000000ffuÎè<< 56))

	)

110 #ià
__WORDSIZE
 == 64

111 
	#__bsw­_64
(
x
) \

112 (
__ex‹nsiÚ__
 \

113 ({ 
__v
, 
__x
 = (
x
); \

114 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

115 
__v
 = 
	`__bsw­_cÚ¡ªt_64
 (
__x
); \

117 
	`__asm__
 ("bsw­ %q0" : "ô" (
__v
è: "0" (
__x
)); \

118 
__v
; }))

	)

120 
	#__bsw­_64
(
x
) \

121 (
__ex‹nsiÚ__
 \

122 ({ uniÚ { 
__ex‹nsiÚ__
 
__Î
; \

123 
__l
[2]; } 
__w
, 
__r
; \

124 ià(
	`__butš_cÚ¡ªt_p
 (
x
)) \

125 
__r
.
__Î
 = 
	`__bsw­_cÚ¡ªt_64
 (
x
); \

128 
__w
.
__Î
 = (
x
); \

129 
__r
.
__l
[0] = 
	`__bsw­_32
 (
__w
.__l[1]); \

130 
__r
.
__l
[1] = 
	`__bsw­_32
 (
__w
.__l[0]); \

132 
__r
.
__Î
; }))

	)

	@/usr/include/bits/endian.h

3 #iâdeà
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/wchar-ldbl.h

20 #iâdeà
_WCHAR_H


24 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


25 
__BEGIN_NAMESPACE_C99


26 
__LDBL_REDIR_DECL
 (
fw´štf
);

27 
__LDBL_REDIR_DECL
 (
w´štf
);

28 
__LDBL_REDIR_DECL
 (
sw´štf
);

29 
__LDBL_REDIR_DECL
 (
vfw´štf
);

30 
__LDBL_REDIR_DECL
 (
vw´štf
);

31 
__LDBL_REDIR_DECL
 (
vsw´štf
);

32 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

33 && !
defšed
 
	g__REDIRECT
 \

34 && (
defšed
 
	g__STRICT_ANSI__
 || defšed 
	g__USE_XOPEN2K
)

35 
	$__LDBL_REDIR1_DECL
 (
fwsÿnf
, 
__Ædbl___isoc99_fwsÿnf
)

36 
	$__LDBL_REDIR1_DECL
 (
wsÿnf
, 
__Ædbl___isoc99_wsÿnf
)

37 
	$__LDBL_REDIR1_DECL
 (
swsÿnf
, 
__Ædbl___isoc99_swsÿnf
)

39 
	`__LDBL_REDIR_DECL
 (
fwsÿnf
);

40 
	`__LDBL_REDIR_DECL
 (
wsÿnf
);

41 
	`__LDBL_REDIR_DECL
 (
swsÿnf
);

43 
__END_NAMESPACE_C99


46 #ifdeà
__USE_ISOC99


47 
__BEGIN_NAMESPACE_C99


48 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd
, 
wc¡od
);

49 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

50 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

51 
	$__LDBL_REDIR1_DECL
 (
vfwsÿnf
, 
__Ædbl___isoc99_vfwsÿnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vwsÿnf
, 
__Ædbl___isoc99_vwsÿnf
)

53 
	$__LDBL_REDIR1_DECL
 (
vswsÿnf
, 
__Ædbl___isoc99_vswsÿnf
)

55 
	`__LDBL_REDIR_DECL
 (
vfwsÿnf
);

56 
	`__LDBL_REDIR_DECL
 (
vwsÿnf
);

57 
	`__LDBL_REDIR_DECL
 (
vswsÿnf
);

59 
__END_NAMESPACE_C99


62 #ifdeà
__USE_GNU


63 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd_l
, 
wc¡od_l
);

66 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


67 
	$__LDBL_REDIR_DECL
 (
__sw´štf_chk
)

68 
	$__LDBL_REDIR_DECL
 (
__vsw´štf_chk
)

69 #ià
__USE_FORTIFY_LEVEL
 > 1

70 
	$__LDBL_REDIR_DECL
 (
__fw´štf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__w´štf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vfw´štf_chk
)

73 
	$__LDBL_REDIR_DECL
 (
__vw´štf_chk
)

	@/usr/include/bits/wchar.h

20 #iâdeà
_BITS_WCHAR_H


21 
	#_BITS_WCHAR_H
 1

	)

24 #ifdeà
__WCHAR_MAX__


25 
	#__WCHAR_MAX
 
__WCHAR_MAX__


	)

27 
	#__WCHAR_MAX
 (2147483647)

	)

32 #ifdeà
__WCHAR_UNSIGNED__


33 
	#__WCHAR_MIN
 
L
'\0'

	)

37 #–ià
L
'\0' - 1 > 0

38 
	#__WCHAR_MIN
 
L
'\0'

	)

40 
	#__WCHAR_MIN
 (-
__WCHAR_MAX
 - 1)

	)

	@/usr/include/bits/wchar2.h

20 #iâdeà
_WCHAR_H


25 
wch¬_t
 *
	$__wmemıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

26 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

27 
size_t
 
__ns1
è
__THROW
;

28 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_®Ÿs
,

29 (
wch¬_t
 *
__»¡riù
 
__s1
,

30 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
),

31 
wmemıy
);

32 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_chk_w¬n
,

33 (
wch¬_t
 *
__»¡riù
 
__s1
,

34 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

35 
size_t
 
__ns1
), 
__wmemıy_chk
)

36 
	`__w¬Ç‰r
 ("wmemcpy called with†ength biggerhan size of destination "

39 
__ex‹º_®ways_šlše
 
wch¬_t
 *

40 
	`__NTH
 (
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__s2
,

41 
size_t
 
__n
))

43 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

45 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

46  
	`__wmemıy_chk
 (
__s1
, 
__s2
, 
__n
,

47 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

49 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

50  
	`__wmemıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

51 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

53  
	`__wmemıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

54 
	}
}

57 
wch¬_t
 *
	$__wmemmove_chk
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
,

58 
size_t
 
__n
, size_ˆ
__ns1
è
__THROW
;

59 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_®Ÿs
, (wch¬_ˆ*
__s1
,

60 
__cÚ¡
 
wch¬_t
 *
__s2
,

61 
size_t
 
__n
), 
wmemmove
);

62 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¬n
,

63 (
wch¬_t
 *
__»¡riù
 
__s1
,

64 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

65 
size_t
 
__ns1
), 
__wmemmove_chk
)

66 
	`__w¬Ç‰r
 ("wmemmove called with†ength biggerhan size of destination "

69 
__ex‹º_®ways_šlše
 
wch¬_t
 *

70 
	`__NTH
 (
	$wmemmove
 (
wch¬_t
 *
__»¡riù
 
__s1
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__s2
,

71 
size_t
 
__n
))

73 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

75 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

76  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

77 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

79 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

80  
	`__wmemmove_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

81 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

83  
	`__wmemmove_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

84 
	}
}

87 #ifdeà
__USE_GNU


88 
wch¬_t
 *
	$__wmempıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

89 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

90 
size_t
 
__ns1
è
__THROW
;

91 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_®Ÿs
,

92 (
wch¬_t
 *
__»¡riù
 
__s1
,

93 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
,

94 
size_t
 
__n
), 
wmempıy
);

95 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_chk_w¬n
,

96 (
wch¬_t
 *
__»¡riù
 
__s1
,

97 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

98 
size_t
 
__ns1
), 
__wmempıy_chk
)

99 
	`__w¬Ç‰r
 ("wmempcpy called with†ength biggerhan size of destination "

102 
__ex‹º_®ways_šlše
 
wch¬_t
 *

103 
	`__NTH
 (
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__s2
,

104 
size_t
 
__n
))

106 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

108 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

109  
	`__wmempıy_chk
 (
__s1
, 
__s2
, 
__n
,

110 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

112 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

113  
	`__wmempıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

114 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

116  
	`__wmempıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

117 
	}
}

121 
wch¬_t
 *
	$__wmem£t_chk
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

122 
size_t
 
__ns
è
__THROW
;

123 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_®Ÿs
, (wch¬_ˆ*
__s
, wch¬_ˆ
__c
,

124 
size_t
 
__n
), 
wmem£t
);

125 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¬n
,

126 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

127 
size_t
 
__ns
), 
__wmem£t_chk
)

128 
	`__w¬Ç‰r
 ("wmemset called with†ength biggerhan size of destination "

131 
__ex‹º_®ways_šlše
 
wch¬_t
 *

132 
	`__NTH
 (
	$wmem£t
 (
wch¬_t
 *
__»¡riù
 
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
))

134 ià(
	`__bos0
 (
__s
è!ğ(
size_t
) -1)

136 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

137  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sè/  (
wch¬_t
));

139 ià(
__n
 > 
	`__bos0
 (
__s
è/  (
wch¬_t
))

140  
	`__wmem£t_chk_w¬n
 (
__s
, 
__c
, 
__n
,

141 
	`__bos0
 (
__s
è/  (
wch¬_t
));

143  
	`__wmem£t_®Ÿs
 (
__s
, 
__c
, 
__n
);

144 
	}
}

147 
wch¬_t
 *
	$__wcsıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

149 
size_t
 
__n
è
__THROW
;

150 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsıy_®Ÿs
,

151 (
wch¬_t
 *
__»¡riù
 
__de¡
,

152 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsıy
);

154 
__ex‹º_®ways_šlše
 
wch¬_t
 *

155 
	`__NTH
 (
	$wcsıy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
))

157 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

158  
	`__wcsıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

159  
	`__wcsıy_®Ÿs
 (
__de¡
, 
__¤c
);

160 
	}
}

163 
wch¬_t
 *
	$__wııy_chk
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
,

164 
size_t
 
__de¡Ën
è
__THROW
;

165 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wııy_®Ÿs
, (wch¬_ˆ*
__de¡
,

166 
__cÚ¡
 
wch¬_t
 *
__¤c
),

167 
wııy
);

169 
__ex‹º_®ways_šlše
 
wch¬_t
 *

170 
	`__NTH
 (
	$wııy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
))

172 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

173  
	`__wııy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

174  
	`__wııy_®Ÿs
 (
__de¡
, 
__¤c
);

175 
	}
}

178 
wch¬_t
 *
	$__wc¢ıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

179 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

180 
size_t
 
__de¡Ën
è
__THROW
;

181 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_®Ÿs
,

182 (
wch¬_t
 *
__»¡riù
 
__de¡
,

183 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

184 
size_t
 
__n
), 
wc¢ıy
);

185 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_chk_w¬n
,

186 (
wch¬_t
 *
__»¡riù
 
__de¡
,

187 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

188 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wc¢ıy_chk
)

189 
	`__w¬Ç‰r
 ("wcsncpy called with†ength biggerhan size of destination "

192 
__ex‹º_®ways_šlše
 
wch¬_t
 *

193 
	`__NTH
 (
	$wc¢ıy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
, 
size_t
 
__n
))

195 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

197 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

198  
	`__wc¢ıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

199 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

200 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

201  
	`__wc¢ıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

202 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

204  
	`__wc¢ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

205 
	}
}

208 
wch¬_t
 *
	$__wınıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

209 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

210 
size_t
 
__de¡Ën
è
__THROW
;

211 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_®Ÿs
,

212 (
wch¬_t
 *
__»¡riù
 
__de¡
,

213 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

214 
size_t
 
__n
), 
wınıy
);

215 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_chk_w¬n
,

216 (
wch¬_t
 *
__»¡riù
 
__de¡
,

217 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

218 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wınıy_chk
)

219 
	`__w¬Ç‰r
 ("wcpncpy called with†ength biggerhan size of destination "

222 
__ex‹º_®ways_šlše
 
wch¬_t
 *

223 
	`__NTH
 (
	$wınıy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
, 
size_t
 
__n
))

225 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

227 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

228  
	`__wınıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

229 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

230 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

231  
	`__wınıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

232 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

234  
	`__wınıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

235 
	}
}

238 
wch¬_t
 *
	$__wcsÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

239 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

240 
size_t
 
__de¡Ën
è
__THROW
;

241 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsÿt_®Ÿs
,

242 (
wch¬_t
 *
__»¡riù
 
__de¡
,

243 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsÿt
);

245 
__ex‹º_®ways_šlše
 
wch¬_t
 *

246 
	`__NTH
 (
	$wcsÿt
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
))

248 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

249  
	`__wcsÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

250  
	`__wcsÿt_®Ÿs
 (
__de¡
, 
__¤c
);

251 
	}
}

254 
wch¬_t
 *
	$__wc¢ÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

255 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

256 
size_t
 
__n
, size_ˆ
__de¡Ën
è
__THROW
;

257 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ÿt_®Ÿs
,

258 (
wch¬_t
 *
__»¡riù
 
__de¡
,

259 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

260 
size_t
 
__n
), 
wc¢ÿt
);

262 
__ex‹º_®ways_šlše
 
wch¬_t
 *

263 
	`__NTH
 (
	$wc¢ÿt
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
, 
size_t
 
__n
))

265 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

266  
	`__wc¢ÿt_chk
 (
__de¡
, 
__¤c
, 
__n
,

267 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

268  
	`__wc¢ÿt_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

269 
	}
}

272 
	$__sw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

273 
__æag
, 
size_t
 
__s_Ën
,

274 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

275 
__THROW
 ;

277 
	`__REDIRECT_NTH_LDBL
 (
__sw´štf_®Ÿs
,

278 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

279 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, ...),

280 
sw´štf
);

282 #ifdeà
__va_¬g_·ck


283 
__ex‹º_®ways_šlše
 

284 
	`__NTH
 (
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

285 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, ...))

287 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

288  
	`__sw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

289 
	`__bos
 (
__s
è/  (
wch¬_t
),

290 
__fmt
, 
	`__va_¬g_·ck
 ());

291  
	`__sw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¬g_·ck
 ());

292 
	}
}

293 #–ià!
defšed
 
__ılu¥lus


295 
	#sw´štf
(
s
, 
n
, ...) \

296 (
	`__bos
 (
s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

297 ? 
	`__sw´štf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

298 
	`__bos
 (
s
è/  (
wch¬_t
), 
__VA_ARGS__
) \

299 : 
	`sw´štf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

302 
	$__vsw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

303 
__æag
, 
size_t
 
__s_Ën
,

304 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

305 
__gnuc_va_li¡
 
__¬g
)

306 
__THROW
 ;

308 
	`__REDIRECT_NTH_LDBL
 (
__vsw´štf_®Ÿs
,

309 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

310 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
,

311 
__gnuc_va_li¡
 
__­
), 
vsw´štf
);

313 
__ex‹º_®ways_šlše
 

314 
	`__NTH
 (
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

315 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
))

317 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

318  
	`__vsw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

319 
	`__bos
 (
__s
è/  (
wch¬_t
), 
__fmt
, 
__­
);

320  
	`__vsw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
__­
);

321 
	}
}

324 #ià
__USE_FORTIFY_LEVEL
 > 1

326 
__fw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

327 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

328 
__w´štf_chk
 (
__æag
, 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

330 
__vfw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

331 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

332 
__gnuc_va_li¡
 
__­
);

333 
__vw´štf_chk
 (
__æag
, 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

334 
__gnuc_va_li¡
 
__­
);

336 #ifdeà
__va_¬g_·ck


337 
__ex‹º_®ways_šlše
 

338 
	$w´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, ...)

340  
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

341 
	}
}

343 
__ex‹º_®ways_šlše
 

344 
	$fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__cÚ¡
 
wch¬_t
 *__»¡riù 
__fmt
, ...)

346  
	`__fw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

347 
	`__va_¬g_·ck
 ());

348 
	}
}

349 #–ià!
defšed
 
__ılu¥lus


350 
	#w´štf
(...) \

351 
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

352 
	#fw´štf
(
¡»am
, ...) \

353 
	`__fw´štf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

356 
__ex‹º_®ways_šlše
 

357 
	$vw´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

359  
	`__vw´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

360 
	}
}

362 
__ex‹º_®ways_šlše
 

363 
	$vfw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

364 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

366  
	`__vfw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

367 
	}
}

371 
wch¬_t
 *
	$__fg‘ws_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

372 
__FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

373 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_®Ÿs
,

374 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

375 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws
è
__wur
;

376 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_chk_w¬n
,

377 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

378 
__FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘ws_chk
)

379 
__wur
 
	`__w¬Ç‰r
 ("fgetws called with bigger sizehan†ength "

382 
__ex‹º_®ways_šlše
 
__wur
 
wch¬_t
 *

383 
	$fg‘ws
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

385 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

387 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

388  
	`__fg‘ws_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

389 
__n
, 
__¡»am
);

391 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

392  
	`__fg‘ws_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

393 
__n
, 
__¡»am
);

395  
	`__fg‘ws_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

396 
	}
}

398 #ifdeà
__USE_GNU


399 
wch¬_t
 *
	$__fg‘ws_uÆocked_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
,

400 
__n
, 
__FILE
 *
__»¡riù
 
__¡»am
)

401 
__wur
;

402 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_®Ÿs
,

403 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

404 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws_uÆocked
)

405 
__wur
;

406 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_chk_w¬n
,

407 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

408 
__FILE
 *
__»¡riù
 
__¡»am
),

409 
__fg‘ws_uÆocked_chk
)

410 
__wur
 
	`__w¬Ç‰r
 ("fgetws_unlocked called with bigger sizehan†ength "

413 
__ex‹º_®ways_šlše
 
__wur
 
wch¬_t
 *

414 
	$fg‘ws_uÆocked
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

416 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

418 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

419  
	`__fg‘ws_uÆocked_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

420 
__n
, 
__¡»am
);

422 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

423  
	`__fg‘ws_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

424 
__n
, 
__¡»am
);

426  
	`__fg‘ws_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

427 
	}
}

431 
size_t
 
	$__wütomb_chk
 (*
__s
, 
wch¬_t
 
__wch¬
, 
mb¡©e_t
 *
__p
,

432 
size_t
 
__buæ’
è
__THROW
 
__wur
;

433 
size_t
 
	`__REDIRECT_NTH
 (
__wütomb_®Ÿs
,

434 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

435 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wütomb
è
__wur
;

437 
__ex‹º_®ways_šlše
 
__wur
 
size_t


438 
	`__NTH
 (
	$wütomb
 (*
__s
, 
wch¬_t
 
__wch¬
, 
mb¡©e_t
 *
__ps
))

443 
	#__WCHAR_MB_LEN_MAX
 16

	)

444 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__WCHAR_MB_LEN_MAX


447 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

448  
	`__wütomb_chk
 (
__s
, 
__wch¬
, 
__ps
, 
	`__bos
 (__s));

449  
	`__wütomb_®Ÿs
 (
__s
, 
__wch¬
, 
__ps
);

450 
	}
}

453 
size_t
 
	$__mb¤towcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

454 
__cÚ¡
 **
__»¡riù
 
__¤c
,

455 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

456 
size_t
 
__d¡Ën
è
__THROW
;

457 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_®Ÿs
,

458 (
wch¬_t
 *
__»¡riù
 
__d¡
,

459 
__cÚ¡
 **
__»¡riù
 
__¤c
,

460 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

461 
mb¤towcs
);

462 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_chk_w¬n
,

463 (
wch¬_t
 *
__»¡riù
 
__d¡
,

464 
__cÚ¡
 **
__»¡riù
 
__¤c
,

465 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

466 
size_t
 
__d¡Ën
), 
__mb¤towcs_chk
)

467 
	`__w¬Ç‰r
 ("mbsrtowcs called with dst buffer smallerhan†en "

470 
__ex‹º_®ways_šlše
 
size_t


471 
	`__NTH
 (
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, 
__cÚ¡
 **__»¡riù 
__¤c
,

472 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

474 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

476 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

477  
	`__mb¤towcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

478 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

480 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

481  
	`__mb¤towcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

482 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

484  
	`__mb¤towcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

485 
	}
}

488 
size_t
 
	$__wc¤tombs_chk
 (*
__»¡riù
 
__d¡
,

489 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

490 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

491 
size_t
 
__d¡Ën
è
__THROW
;

492 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_®Ÿs
,

493 (*
__»¡riù
 
__d¡
,

494 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

495 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

496 
wc¤tombs
);

497 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_chk_w¬n
,

498 (*
__»¡riù
 
__d¡
,

499 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

500 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

501 
size_t
 
__d¡Ën
), 
__wc¤tombs_chk
)

502 
	`__w¬Ç‰r
 ("wcsrtombs called with dst buffer smallerhan†en");

504 
__ex‹º_®ways_šlše
 
size_t


505 
	`__NTH
 (
	$wc¤tombs
 (*
__»¡riù
 
__d¡
, 
__cÚ¡
 
wch¬_t
 **__»¡riù 
__¤c
,

506 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

508 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

510 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

511  
	`__wc¤tombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

513 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

514  
	`__wc¤tombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

516  
	`__wc¤tombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

517 
	}
}

520 #ifdeà
__USE_GNU


521 
size_t
 
	$__mb¢¹owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

522 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

523 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

524 
size_t
 
__d¡Ën
è
__THROW
;

525 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_®Ÿs
,

526 (
wch¬_t
 *
__»¡riù
 
__d¡
,

527 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

528 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

529 
mb¢¹owcs
);

530 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_chk_w¬n
,

531 (
wch¬_t
 *
__»¡riù
 
__d¡
,

532 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

533 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

534 
size_t
 
__d¡Ën
), 
__mb¢¹owcs_chk
)

535 
	`__w¬Ç‰r
 ("mbsnrtowcs called with dst buffer smallerhan†en "

538 
__ex‹º_®ways_šlše
 
size_t


539 
	`__NTH
 (
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, 
__cÚ¡
 **__»¡riù 
__¤c
,

540 
size_t
 
__nmc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

542 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

544 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

545  
	`__mb¢¹owcs_chk
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

546 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

548 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

549  
	`__mb¢¹owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

550 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

552  
	`__mb¢¹owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
);

553 
	}
}

556 
size_t
 
	$__wc¢¹ombs_chk
 (*
__»¡riù
 
__d¡
,

557 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

558 
size_t
 
__nwc
, size_ˆ
__Ën
,

559 
mb¡©e_t
 *
__»¡riù
 
__ps
, 
size_t
 
__d¡Ën
)

560 
__THROW
;

561 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_®Ÿs
,

562 (*
__»¡riù
 
__d¡
,

563 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

564 
size_t
 
__nwc
, size_ˆ
__Ën
,

565 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wc¢¹ombs
);

566 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_chk_w¬n
,

567 (*
__»¡riù
 
__d¡
,

568 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

569 
size_t
 
__nwc
, size_ˆ
__Ën
,

570 
mb¡©e_t
 *
__»¡riù
 
__ps
,

571 
size_t
 
__d¡Ën
), 
__wc¢¹ombs_chk
)

572 
	`__w¬Ç‰r
 ("wcsnrtombs called with dst buffer smallerhan†en");

574 
__ex‹º_®ways_šlše
 
size_t


575 
	`__NTH
 (
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
, 
__cÚ¡
 
wch¬_t
 **__»¡riù 
__¤c
,

576 
size_t
 
__nwc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

578 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

580 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

581  
	`__wc¢¹ombs_chk
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

582 
	`__bos
 (
__d¡
));

584 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

585  
	`__wc¢¹ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

586 
	`__bos
 (
__d¡
));

588  
	`__wc¢¹ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
);

589 
	}
}

	@/usr/include/pthread.h

20 #iâdeà
_PTHREAD_H


21 
	#_PTHREAD_H
 1

	)

23 
	~<ã©u»s.h
>

24 
	~<’dŸn.h
>

25 
	~<sched.h
>

26 
	~<time.h
>

28 
	#__Ãed_sig£t_t


	)

29 
	~<sigÇl.h
>

30 
	~<b™s/±h»adty³s.h
>

31 
	~<b™s/£tjmp.h
>

32 
	~<b™s/wÜdsize.h
>

38 
	mPTHREAD_CREATE_JOINABLE
,

39 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

40 
	mPTHREAD_CREATE_DETACHED


41 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

48 
	mPTHREAD_MUTEX_TIMED_NP
,

49 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

50 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

51 
	mPTHREAD_MUTEX_ADAPTIVE_NP


52 #ifdeà
__USE_UNIX98


54 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

55 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

56 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

57 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


59 #ifdeà
__USE_GNU


61 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


66 #ifdeà
__USE_XOPEN2K


70 
	mPTHREAD_MUTEX_STALLED
,

71 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

72 
	mPTHREAD_MUTEX_ROBUST
,

73 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


78 #ifdeà
__USE_UNIX98


82 
	mPTHREAD_PRIO_NONE
,

83 
	mPTHREAD_PRIO_INHERIT
,

84 
	mPTHREAD_PRIO_PROTECT


90 #ià
__WORDSIZE
 == 64

91 
	#PTHREAD_MUTEX_INITIALIZER
 \

92 { { 0, 0, 0, 0, 0, 0, { 0, 0 } } }

	)

93 #ifdeà
__USE_GNU


94 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0, 0 } } }

	)

96 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

97 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0, 0 } } }

	)

98 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

99 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0, 0 } } }

	)

102 
	#PTHREAD_MUTEX_INITIALIZER
 \

103 { { 0, 0, 0, 0, 0, { 0 } } }

	)

104 #ifdeà
__USE_GNU


105 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0 } } }

	)

107 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

108 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0 } } }

	)

109 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

110 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0 } } }

	)

116 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


119 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

120 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

121 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

122 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


126 
	#PTHREAD_RWLOCK_INITIALIZER
 \

127 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

128 #ifdeà
__USE_GNU


129 #ià
__WORDSIZE
 == 64

130 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

132 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

134 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


135 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

136 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

137 0, 0, 0, 0 } }

	)

139 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

140 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

141 0 } }

	)

151 
	mPTHREAD_INHERIT_SCHED
,

152 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

153 
	mPTHREAD_EXPLICIT_SCHED


154 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

161 
	mPTHREAD_SCOPE_SYSTEM
,

162 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

163 
	mPTHREAD_SCOPE_PROCESS


164 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

171 
	mPTHREAD_PROCESS_PRIVATE
,

172 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

173 
	mPTHREAD_PROCESS_SHARED


174 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

180 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*è0, 0, 0 } }

	)

184 
	s_±h»ad_ş—nup_bufãr


186 (*
	m__routše
) (*);

187 *
	m__¬g
;

188 
	m__ÿnûÉy³
;

189 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

195 
	mPTHREAD_CANCEL_ENABLE
,

196 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

197 
	mPTHREAD_CANCEL_DISABLE


198 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

202 
	mPTHREAD_CANCEL_DEFERRED
,

203 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

204 
	mPTHREAD_CANCEL_ASYNCHRONOUS


205 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

207 
	#PTHREAD_CANCELED
 ((*è-1)

	)

211 
	#PTHREAD_ONCE_INIT
 0

	)

214 #ifdeà
__USE_XOPEN2K


218 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

222 
__BEGIN_DECLS


227 
±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

228 
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

229 *(*
__¡¬t_routše
) (*),

230 *
__»¡riù
 
__¬g
è
__THROW
 
__nÚnuÎ
 ((1, 3));

236 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

244 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

246 #ifdeà
__USE_GNU


249 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

257 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

258 
__cÚ¡
 
time¥ec
 *
__ab¡ime
);

265 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

269 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

272 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
è
__THROW
;

280 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

283 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

284 
__THROW
 
	`__nÚnuÎ
 ((1));

287 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__©Œ
,

288 *
__d‘ach¡©e
)

289 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

292 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

293 
__d‘ach¡©e
)

294 
__THROW
 
	`__nÚnuÎ
 ((1));

298 
	$±h»ad_©Œ_g‘gu¬dsize
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__©Œ
,

299 
size_t
 *
__gu¬dsize
)

300 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

303 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

304 
size_t
 
__gu¬dsize
)

305 
__THROW
 
	`__nÚnuÎ
 ((1));

309 
	$±h»ad_©Œ_g‘sched·¿m
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


310 
__©Œ
,

311 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

312 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

315 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

316 
__cÚ¡
 
sched_·¿m
 *
__»¡riù


317 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

320 
	$±h»ad_©Œ_g‘schedpŞicy
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


321 
__©Œ
, *
__»¡riù
 
__pŞicy
)

322 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

325 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

326 
__THROW
 
	`__nÚnuÎ
 ((1));

329 
	$±h»ad_©Œ_g‘šh”™sched
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


330 
__©Œ
, *
__»¡riù
 
__šh”™
)

331 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

334 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

335 
__šh”™
)

336 
__THROW
 
	`__nÚnuÎ
 ((1));

340 
	$±h»ad_©Œ_g‘scİe
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

341 *
__»¡riù
 
__scİe
)

342 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

345 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

346 
__THROW
 
	`__nÚnuÎ
 ((1));

349 
	$±h»ad_©Œ_g‘¡ackaddr
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


350 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

351 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

357 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

358 *
__¡ackaddr
)

359 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

362 
	$±h»ad_©Œ_g‘¡acksize
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


363 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

364 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

369 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

370 
size_t
 
__¡acksize
)

371 
__THROW
 
	`__nÚnuÎ
 ((1));

373 #ifdeà
__USE_XOPEN2K


375 
	$±h»ad_©Œ_g‘¡ack
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

376 **
__»¡riù
 
__¡ackaddr
,

377 
size_t
 *
__»¡riù
 
__¡acksize
)

378 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

383 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

384 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

387 #ifdeà
__USE_GNU


390 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

391 
size_t
 
__ıu£tsize
,

392 
__cÚ¡
 
ıu_£t_t
 *
__ıu£t
)

393 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

397 
	$±h»ad_©Œ_g‘affš™y_Å
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__©Œ
,

398 
size_t
 
__ıu£tsize
,

399 
ıu_£t_t
 *
__ıu£t
)

400 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

406 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

407 
__THROW
 
	`__nÚnuÎ
 ((2));

415 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

416 
__cÚ¡
 
sched_·¿m
 *
__·¿m
)

417 
__THROW
 
	`__nÚnuÎ
 ((3));

420 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

421 *
__»¡riù
 
__pŞicy
,

422 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

423 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

426 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

427 
__THROW
;

430 #ifdeà
__USE_UNIX98


432 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

435 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

438 #ifdeà
__USE_GNU


443 
	$±h»ad_y›ld
 (è
__THROW
;

448 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

449 
__cÚ¡
 
ıu_£t_t
 *
__ıu£t
)

450 
__THROW
 
	`__nÚnuÎ
 ((3));

453 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

454 
ıu_£t_t
 *
__ıu£t
)

455 
__THROW
 
	`__nÚnuÎ
 ((3));

468 
	`±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

469 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

480 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

484 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

487 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

492 
	`±h»ad_‹¡ÿnûl
 ();

501 
__jmp_buf
 
__ÿnûl_jmp_buf
;

502 
__mask_was_§ved
;

503 } 
__ÿnûl_jmp_buf
[1];

504 *
__·d
[4];

505 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

508 #iâdeà
__ş—nup_fù_©Œibu‹


509 
	#__ş—nup_fù_©Œibu‹


	)

514 
	s__±h»ad_ş—nup_äame


516 (*
__ÿnûl_routše
) (*);

517 *
__ÿnûl_¬g
;

518 
__do_™
;

519 
__ÿnûl_ty³
;

522 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


523 #ifdeà
__ılu¥lus


525 şas 
	c__±h»ad_ş—nup_şass


527 (*
__ÿnûl_routše
) (*);

528 *
__ÿnûl_¬g
;

529 
__do_™
;

530 
__ÿnûl_ty³
;

532 
public
:

533 
	`__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

534 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

535 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

536 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

537 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

538 &
__ÿnûl_ty³
); 
	}
}

539 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

549 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

551 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

555 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

556 
__şäame
.
	`__£tdo™
 (
execu‹
); \

557 } 0)

	)

559 #ifdeà
__USE_GNU


563 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

565 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

566 
__şäame
.
	`__deãr
 ()

	)

571 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

572 
__şäame
.
	`__»¡Üe
 (); \

573 
__şäame
.
	`__£tdo™
 (
execu‹
); \

574 } 0)

	)

581 
__ex‹º_šlše
 

582 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

584 ià(
__äame
->
__do_™
)

585 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

586 
	}
}

595 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

597 
__±h»ad_ş—nup_äame
 
__şäame
 \

598 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

599 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

600 .
__do_™
 = 1 };

	)

604 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

605 
__şäame
.
__do_™
 = (
execu‹
); \

606 } 0)

	)

608 #ifdeà
__USE_GNU


612 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

614 
__±h»ad_ş—nup_äame
 
__şäame
 \

615 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

616 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

617 .
__do_™
 = 1 }; \

618 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

619 &
__şäame
.
__ÿnûl_ty³
)

	)

624 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

625 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

626 
__şäame
.
__do_™
 = (
execu‹
); \

627 } 0)

	)

638 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

640 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

641 (*
__ÿnûl_routše
è(*èğ(
routše
); \

642 *
__ÿnûl_¬g
 = (
¬g
); \

643 
nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

644 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

645 ià(
	`__butš_ex³ù
 (
nÙ_fœ¡_ÿÎ
, 0)) \

647 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

648 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

652 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

653 dØ{

	)

654 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

655 
__ş—nup_fù_©Œibu‹
;

659 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

662 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

663 ià(
execu‹
) \

664 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

665 } 0)

	)

666 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

667 
__ş—nup_fù_©Œibu‹
;

669 #ifdeà
__USE_GNU


673 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

675 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

676 (*
__ÿnûl_routše
è(*èğ(
routše
); \

677 *
__ÿnûl_¬g
 = (
¬g
); \

678 
nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

679 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

680 ià(
	`__butš_ex³ù
 (
nÙ_fœ¡_ÿÎ
, 0)) \

682 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

683 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

687 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

688 dØ{

	)

689 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

690 
__ş—nup_fù_©Œibu‹
;

695 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

698 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

699 ià(
execu‹
) \

700 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

701 
	}
} 0)

	)

702 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

703 
__ş—nup_fù_©Œibu‹
;

707 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

708 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

709 #iâdeà
SHARED


710 
	`__©Œibu‹__
 ((
__w—k__
))

716 
__jmp_buf_g
;

717 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROW
;

723 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

724 
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

725 
__THROW
 
	`__nÚnuÎ
 ((1));

728 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

729 
__THROW
 
	`__nÚnuÎ
 ((1));

732 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

733 
__THROW
 
	`__nÚnuÎ
 ((1));

736 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

737 
__THROW
 
	`__nÚnuÎ
 ((1));

739 #ifdeà
__USE_XOPEN2K


741 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

742 
__cÚ¡
 
time¥ec
 *
__»¡riù


743 
__ab¡ime
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

747 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

748 
__THROW
 
	`__nÚnuÎ
 ((1));

751 #ifdeà
__USE_UNIX98


753 
	$±h»ad_mu‹x_g‘´ioûšg
 (
__cÚ¡
 
±h»ad_mu‹x_t
 *

754 
__»¡riù
 
__mu‹x
,

755 *
__»¡riù
 
__´ioûšg
)

756 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

760 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

761 
__´ioûšg
,

762 *
__»¡riù
 
__Şd_ûšg
)

763 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

767 #ifdeà
__USE_XOPEN2K8


769 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

770 
__THROW
 
	`__nÚnuÎ
 ((1));

771 #ifdeà
__USE_GNU


772 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

773 
__THROW
 
	`__nÚnuÎ
 ((1));

782 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

783 
__THROW
 
	`__nÚnuÎ
 ((1));

786 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

787 
__THROW
 
	`__nÚnuÎ
 ((1));

790 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *

791 
__»¡riù
 
__©Œ
,

792 *
__»¡riù
 
__psh¬ed
)

793 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

796 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

797 
__psh¬ed
)

798 
__THROW
 
	`__nÚnuÎ
 ((1));

800 #ifdeà
__USE_UNIX98


802 
	$±h»ad_mu‹x©Œ_g‘ty³
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


803 
__©Œ
, *
__»¡riù
 
__kšd
)

804 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

809 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

810 
__THROW
 
	`__nÚnuÎ
 ((1));

813 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *

814 
__»¡riù
 
__©Œ
,

815 *
__»¡riù
 
__´ÙocŞ
)

816 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

820 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

821 
__´ÙocŞ
)

822 
__THROW
 
	`__nÚnuÎ
 ((1));

825 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *

826 
__»¡riù
 
__©Œ
,

827 *
__»¡riù
 
__´ioûšg
)

828 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

831 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

832 
__´ioûšg
)

833 
__THROW
 
	`__nÚnuÎ
 ((1));

836 #ifdeà
__USE_XOPEN2K


838 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

839 *
__robu¡Ãss
)

840 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

841 #ifdeà
__USE_GNU


842 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

843 *
__robu¡Ãss
)

844 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

848 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

849 
__robu¡Ãss
)

850 
__THROW
 
	`__nÚnuÎ
 ((1));

851 #ifdeà
__USE_GNU


852 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

853 
__robu¡Ãss
)

854 
__THROW
 
	`__nÚnuÎ
 ((1));

859 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


864 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

865 
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *
__»¡riù


866 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

869 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

870 
__THROW
 
	`__nÚnuÎ
 ((1));

873 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

874 
__THROW
 
	`__nÚnuÎ
 ((1));

877 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

878 
__THROW
 
	`__nÚnuÎ
 ((1));

880 #ifdeà
__USE_XOPEN2K


882 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

883 
__cÚ¡
 
time¥ec
 *
__»¡riù


884 
__ab¡ime
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

888 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

889 
__THROW
 
	`__nÚnuÎ
 ((1));

892 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

893 
__THROW
 
	`__nÚnuÎ
 ((1));

895 #ifdeà
__USE_XOPEN2K


897 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

898 
__cÚ¡
 
time¥ec
 *
__»¡riù


899 
__ab¡ime
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

903 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

904 
__THROW
 
	`__nÚnuÎ
 ((1));

910 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

911 
__THROW
 
	`__nÚnuÎ
 ((1));

914 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

915 
__THROW
 
	`__nÚnuÎ
 ((1));

918 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *

919 
__»¡riù
 
__©Œ
,

920 *
__»¡riù
 
__psh¬ed
)

921 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

924 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

925 
__psh¬ed
)

926 
__THROW
 
	`__nÚnuÎ
 ((1));

929 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *

930 
__»¡riù
 
__©Œ
,

931 *
__»¡riù
 
__´ef
)

932 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

935 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

936 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

944 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

945 
__cÚ¡
 
±h»ad_cÚd©Œ_t
 *
__»¡riù


946 
__cÚd_©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

949 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

950 
__THROW
 
	`__nÚnuÎ
 ((1));

953 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

954 
__THROW
 
	`__nÚnuÎ
 ((1));

957 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

958 
__THROW
 
	`__nÚnuÎ
 ((1));

965 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

966 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

967 
	`__nÚnuÎ
 ((1, 2));

976 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

977 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

978 
__cÚ¡
 
time¥ec
 *
__»¡riù


979 
__ab¡ime
è
	`__nÚnuÎ
 ((1, 2, 3));

984 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

985 
__THROW
 
	`__nÚnuÎ
 ((1));

988 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

989 
__THROW
 
	`__nÚnuÎ
 ((1));

992 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_cÚd©Œ_t
 *

993 
__»¡riù
 
__©Œ
,

994 *
__»¡riù
 
__psh¬ed
)

995 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

998 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

999 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1001 #ifdeà
__USE_XOPEN2K


1003 
	$±h»ad_cÚd©Œ_g‘şock
 (
__cÚ¡
 
±h»ad_cÚd©Œ_t
 *

1004 
__»¡riù
 
__©Œ
,

1005 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1006 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1009 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1010 
__şockid_t
 
__şock_id
)

1011 
__THROW
 
	`__nÚnuÎ
 ((1));

1015 #ifdeà
__USE_XOPEN2K


1020 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1021 
__THROW
 
	`__nÚnuÎ
 ((1));

1024 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1025 
__THROW
 
	`__nÚnuÎ
 ((1));

1028 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1029 
__THROW
 
	`__nÚnuÎ
 ((1));

1032 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1033 
__THROW
 
	`__nÚnuÎ
 ((1));

1036 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1037 
__THROW
 
	`__nÚnuÎ
 ((1));

1044 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1045 
__cÚ¡
 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1046 
__©Œ
, 
__couÁ
)

1047 
__THROW
 
	`__nÚnuÎ
 ((1));

1050 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1051 
__THROW
 
	`__nÚnuÎ
 ((1));

1054 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1055 
__THROW
 
	`__nÚnuÎ
 ((1));

1059 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1060 
__THROW
 
	`__nÚnuÎ
 ((1));

1063 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1064 
__THROW
 
	`__nÚnuÎ
 ((1));

1067 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_b¬r›¿‰r_t
 *

1068 
__»¡riù
 
__©Œ
,

1069 *
__»¡riù
 
__psh¬ed
)

1070 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1073 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1074 
__psh¬ed
)

1075 
__THROW
 
	`__nÚnuÎ
 ((1));

1087 
	`±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1088 (*
__de¡r_funùiÚ
) (*))

1089 
__THROW
 
	`__nÚnuÎ
 ((1));

1092 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1095 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1098 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1099 
__cÚ¡
 *
__poš‹r
è
__THROW
 ;

1102 #ifdeà
__USE_XOPEN2K


1104 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1105 
__şockid_t
 *
__şock_id
)

1106 
__THROW
 
	`__nÚnuÎ
 ((2));

1121 
	`±h»ad_©fÜk
 ((*
__´•¬e
) (),

1122 (*
__·»Á
) (),

1123 (*
__chd
è()è
__THROW
;

1126 #ifdeà
__USE_EXTERN_INLINES


1128 
__ex‹º_šlše
 

1129 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1131  
__th»ad1
 =ğ
__th»ad2
;

1132 
	}
}

1135 
	g__END_DECLS


	@/usr/include/wctype.h

24 #iâdeà
_WCTYPE_H


26 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

29 #iâdeà
__Ãed_iswxxx


30 
	#_WCTYPE_H
 1

	)

33 
	#__Ãed_wšt_t


	)

34 
	~<¡ddef.h
>

38 #iâdeà
WEOF


39 
	#WEOF
 (0xffffffffu)

	)

42 #undeà
__Ãed_iswxxx


47 #iâdeà
__iswxxx_defšed


48 
	#__iswxxx_defšed
 1

	)

50 
__BEGIN_NAMESPACE_C99


53 
	twùy³_t
;

54 
	g__END_NAMESPACE_C99


56 #iâdeà
_ISwb™


61 
	~<’dŸn.h
>

62 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


63 
	#_ISwb™
(
b™
è(1 << (b™))

	)

65 
	#_ISwb™
(
b™
) \

66 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

67 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

68 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

69 : (è((1UL << (
b™
)è>> 24))))

	)

74 
	m__ISwuµ”
 = 0,

75 
	m__ISwlow”
 = 1,

76 
	m__ISw®pha
 = 2,

77 
	m__ISwdig™
 = 3,

78 
	m__ISwxdig™
 = 4,

79 
	m__ISw¥aû
 = 5,

80 
	m__ISw´št
 = 6,

81 
	m__ISwg¿ph
 = 7,

82 
	m__ISwbÏnk
 = 8,

83 
	m__ISwúŒl
 = 9,

84 
	m__ISwpunù
 = 10,

85 
	m__ISw®num
 = 11,

87 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

88 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

89 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

90 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

91 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

92 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

93 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

94 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

95 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

96 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

97 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

98 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

103 
__BEGIN_DECLS


105 
__BEGIN_NAMESPACE_C99


112 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

118 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

121 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

125 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

129 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

134 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

137 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

142 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

147 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

152 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

157 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

162 #ifdeà
__USE_ISOC99


163 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

172 
wùy³_t
 
	$wùy³
 (
__cÚ¡
 *
__´İ”ty
è
__THROW
;

176 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

177 
__END_NAMESPACE_C99


184 
__BEGIN_NAMESPACE_C99


187 
__cÚ¡
 
	t__št32_t
 *
	twù¿ns_t
;

188 
__END_NAMESPACE_C99


189 #ifdeà
__USE_GNU


190 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

193 
__BEGIN_NAMESPACE_C99


195 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

198 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

199 
__END_NAMESPACE_C99


201 
__END_DECLS


208 #ifdeà
_WCTYPE_H


214 
__BEGIN_DECLS


216 
__BEGIN_NAMESPACE_C99


219 
wù¿ns_t
 
	$wù¿ns
 (
__cÚ¡
 *
__´İ”ty
è
__THROW
;

222 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

223 
__END_NAMESPACE_C99


225 #ifdeà
__USE_XOPEN2K8


227 
	~<xloÿË.h
>

231 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

237 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

240 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

244 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

248 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

253 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

256 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

261 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

266 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

271 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

276 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

281 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

285 
wùy³_t
 
	$wùy³_l
 (
__cÚ¡
 *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

286 
__THROW
;

290 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

291 
__THROW
;

299 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

302 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

306 
wù¿ns_t
 
	$wù¿ns_l
 (
__cÚ¡
 *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

307 
__THROW
;

310 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

311 
__loÿË_t
 
__loÿË
è
__THROW
;

315 
__END_DECLS


	@/usr/include/bits/pthreadtypes.h

20 #iâdeà
_BITS_PTHREADTYPES_H


21 
	#_BITS_PTHREADTYPES_H
 1

	)

23 
	~<b™s/wÜdsize.h
>

25 #ià
__WORDSIZE
 == 64

26 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

27 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

28 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

29 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

30 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

31 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

32 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

33 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

34 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

36 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

37 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

38 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

39 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

40 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

41 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

42 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

43 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

44 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

50 
	t±h»ad_t
;

55 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

56 
	m__®ign
;

57 } 
	t±h»ad_©Œ_t
;

60 #ià
__WORDSIZE
 == 64

61 
	s__±h»ad_š‹º®_li¡


63 
__±h»ad_š‹º®_li¡
 *
	m__´ev
;

64 
__±h»ad_š‹º®_li¡
 *
	m__Ãxt
;

65 } 
	t__±h»ad_li¡_t
;

67 
	s__±h»ad_š‹º®_¦i¡


69 
__±h»ad_š‹º®_¦i¡
 *
	m__Ãxt
;

70 } 
	t__±h»ad_¦i¡_t
;

78 
	s__±h»ad_mu‹x_s


80 
	m__lock
;

81 
	m__couÁ
;

82 
	m__owÃr
;

83 #ià
__WORDSIZE
 == 64

84 
	m__nu£rs
;

88 
	m__kšd
;

89 #ià
__WORDSIZE
 == 64

90 
	m__¥šs
;

91 
__±h»ad_li¡_t
 
	m__li¡
;

92 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

94 
	m__nu£rs
;

95 
__ex‹nsiÚ__
 union

97 
	m__¥šs
;

98 
__±h»ad_¦i¡_t
 
	m__li¡
;

101 } 
	m__d©a
;

102 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

103 
	m__®ign
;

104 } 
	t±h»ad_mu‹x_t
;

108 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

109 
	m__®ign
;

110 } 
	t±h»ad_mu‹x©Œ_t
;

119 
	m__lock
;

120 
	m__fu‹x
;

121 
__ex‹nsiÚ__
 
	m__tÙ®_£q
;

122 
__ex‹nsiÚ__
 
	m__wakeup_£q
;

123 
__ex‹nsiÚ__
 
	m__wok’_£q
;

124 *
	m__mu‹x
;

125 
	m__nwa™”s
;

126 
	m__brßdÿ¡_£q
;

127 } 
	m__d©a
;

128 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

129 
__ex‹nsiÚ__
 
	m__®ign
;

130 } 
	t±h»ad_cÚd_t
;

134 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

135 
	m__®ign
;

136 } 
	t±h»ad_cÚd©Œ_t
;

140 
	t±h»ad_key_t
;

144 
	t±h»ad_Úû_t
;

147 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


152 #ià
__WORDSIZE
 == 64

155 
	m__lock
;

156 
	m__Ä_»ad”s
;

157 
	m__»ad”s_wakeup
;

158 
	m__wr™”_wakeup
;

159 
	m__Ä_»ad”s_queued
;

160 
	m__Ä_wr™”s_queued
;

161 
	m__wr™”
;

162 
	m__sh¬ed
;

163 
	m__·d1
;

164 
	m__·d2
;

167 
	m__æags
;

168 } 
	m__d©a
;

172 
	m__lock
;

173 
	m__Ä_»ad”s
;

174 
	m__»ad”s_wakeup
;

175 
	m__wr™”_wakeup
;

176 
	m__Ä_»ad”s_queued
;

177 
	m__Ä_wr™”s_queued
;

180 
	m__æags
;

181 
	m__sh¬ed
;

182 
	m__·d1
;

183 
	m__·d2
;

184 
	m__wr™”
;

185 } 
	m__d©a
;

187 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

188 
	m__®ign
;

189 } 
	t±h»ad_rwlock_t
;

193 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

194 
	m__®ign
;

195 } 
	t±h»ad_rwlock©Œ_t
;

199 #ifdeà
__USE_XOPEN2K


201 vŞ©
	t±h»ad_¥šlock_t
;

208 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

209 
	m__®ign
;

210 } 
	t±h»ad_b¬r›r_t
;

214 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

215 
	m__®ign
;

216 } 
	t±h»ad_b¬r›¿‰r_t
;

220 #ià
__WORDSIZE
 == 32

222 
	#__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
	`__»g·rm__
 (1)))

	)

	@/usr/include/bits/setjmp.h

20 #iâdeà
_BITS_SETJMP_H


21 
	#_BITS_SETJMP_H
 1

	)

23 #ià!
defšed
 
_SETJMP_H
 && !defšed 
_PTHREAD_H


27 
	~<b™s/wÜdsize.h
>

29 #iâdeà
_ASM


31 #ià
__WORDSIZE
 == 64

32 
	t__jmp_buf
[8];

34 
	t__jmp_buf
[6];

	@/usr/include/sched.h

20 #iâdef 
_SCHED_H


21 
	#_SCHED_H
 1

	)

23 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	#__Ãed_size_t


	)

29 
	~<¡ddef.h
>

31 
	#__Ãed_time¥ec


	)

32 
	~<time.h
>

35 
	~<b™s/sched.h
>

37 
	#sched_´iÜ™y
 
__sched_´iÜ™y


	)

40 
__BEGIN_DECLS


43 
	$sched_£¬am
 (
__pid_t
 
__pid
, 
__cÚ¡
 
sched_·¿m
 *
__·¿m
)

44 
__THROW
;

47 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

50 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

51 
__cÚ¡
 
sched_·¿m
 *
__·¿m
è
__THROW
;

54 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

57 
	$sched_y›ld
 (è
__THROW
;

60 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

63 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

66 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

69 #ifdeà
__USE_GNU


71 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

72 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

73 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

74 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

75 
ıu£
)

	)

76 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

77 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

79 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

80 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

81 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

82 
ıu£
)

	)

83 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

84 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

86 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

87 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

88 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

89 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

91 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

92 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

93 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

94 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

95 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

96 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

97 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

98 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

99 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

100 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

101 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

102 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

104 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

105 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

106 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

110 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

111 
__cÚ¡
 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

114 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

115 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

118 
__END_DECLS


	@/usr/include/signal.h

23 #iâdef 
_SIGNAL_H


25 #ià!
defšed
 
__Ãed_sig_©omic_t
 && !defšed 
__Ãed_sig£t_t


26 
	#_SIGNAL_H


	)

29 
	~<ã©u»s.h
>

31 
	g__BEGIN_DECLS


33 
	~<b™s/sig£t.h
>

37 #ià
defšed
 
__Ãed_sig_©omic_t
 || defšed 
_SIGNAL_H


38 #iâdeà
__sig_©omic_t_defšed


39 
	#__sig_©omic_t_defšed


	)

40 
__BEGIN_NAMESPACE_STD


41 
__sig_©omic_t
 
	tsig_©omic_t
;

42 
	g__END_NAMESPACE_STD


44 #undeà
__Ãed_sig_©omic_t


47 #ià
defšed
 
__Ãed_sig£t_t
 || (defšed 
_SIGNAL_H
 && defšed 
__USE_POSIX
)

48 #iâdeà
__sig£t_t_defšed


49 
	#__sig£t_t_defšed


	)

50 
__sig£t_t
 
	tsig£t_t
;

52 #undeà
__Ãed_sig£t_t


55 #ifdeà
_SIGNAL_H


57 
	~<b™s/ty³s.h
>

58 
	~<b™s/signum.h
>

60 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


61 #iâdeà
__pid_t_defšed


62 
__pid_t
 
	tpid_t
;

63 
	#__pid_t_defšed


	)

65 #ifdeà
__USE_XOPEN


67 #iâdeà
__uid_t_defšed


68 
__uid_t
 
	tuid_t
;

69 
	#__uid_t_defšed


	)

73 #ifdeà
__USE_POSIX199309


75 
	#__Ãed_time¥ec


	)

76 
	~<time.h
>

79 
	~<b™s/sigšfo.h
>

84 (*
	t__sighªdËr_t
) ();

89 
__sighªdËr_t
 
	$__sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

90 
__THROW
;

91 #ifdeà
__USE_GNU


92 
__sighªdËr_t
 
	$sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

93 
__THROW
;

99 
__BEGIN_NAMESPACE_STD


100 #ifdeà
__USE_BSD


101 
__sighªdËr_t
 
	$sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

102 
__THROW
;

105 #ifdeà
__REDIRECT_NTH


106 
__sighªdËr_t
 
	`__REDIRECT_NTH
 (
sigÇl
,

107 (
__sig
, 
__sighªdËr_t
 
__hªdËr
),

108 
__sysv_sigÇl
);

110 
	#sigÇl
 
__sysv_sigÇl


	)

113 
__END_NAMESPACE_STD


115 #ifdeà
__USE_XOPEN


118 
__sighªdËr_t
 
	$bsd_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

119 
__THROW
;

125 #ifdeà
__USE_POSIX


126 
	$kl
 (
__pid_t
 
__pid
, 
__sig
è
__THROW
;

129 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


133 
	$kÍg
 (
__pid_t
 
__pg½
, 
__sig
è
__THROW
;

136 
__BEGIN_NAMESPACE_STD


138 
	$¿i£
 (
__sig
è
__THROW
;

139 
__END_NAMESPACE_STD


141 #ifdeà
__USE_SVID


143 
__sighªdËr_t
 
	$ssigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

144 
__THROW
;

145 
	$gsigÇl
 (
__sig
è
__THROW
;

148 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN2K


150 
	`psigÇl
 (
__sig
, 
__cÚ¡
 *
__s
);

153 #ifdeà
__USE_XOPEN2K


155 
	`psigšfo
 (
__cÚ¡
 
sigšfo_t
 *
__pšfo
, __cÚ¡ *
__s
);

168 
	`__sig·u£
 (
__sig_Ü_mask
, 
__is_sig
);

170 #ifdeà
__FAVOR_BSD


173 
	$sig·u£
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

175 #ifdeà
__USE_XOPEN


176 #ifdeà
__GNUC__


177 
	$sig·u£
 (
__sig
è
	`__asm__
 ("__xpg_sigpause");

180 
	#sig·u£
(
sig
è
	`__sig·u£
 ((sig), 1)

	)

186 #ifdeà
__USE_BSD


193 
	#sigmask
(
sig
è
	`__sigmask
(sig)

	)

196 
	$sigblock
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

199 
	$sig£tmask
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

202 
	$sigg‘mask
 (è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

206 #ifdeà
__USE_MISC


207 
	#NSIG
 
_NSIG


	)

210 #ifdeà
__USE_GNU


211 
__sighªdËr_t
 
	tsighªdËr_t
;

215 #ifdeà
__USE_BSD


216 
__sighªdËr_t
 
	tsig_t
;

219 #ifdeà
__USE_POSIX


222 
	$sigem±y£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

225 
	$sigfl£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

228 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

231 
	$sigd–£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

234 
	$sigismemb”
 (
__cÚ¡
 
sig£t_t
 *
__£t
, 
__signo
)

235 
__THROW
 
	`__nÚnuÎ
 ((1));

237 #ifdeà
__USE_GNU


239 
	$sigi£m±y£t
 (
__cÚ¡
 
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

242 
	$sigªd£t
 (
sig£t_t
 *
__£t
, 
__cÚ¡
 sig£t_ˆ*
__Ëá
,

243 
__cÚ¡
 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

246 
	$sigÜ£t
 (
sig£t_t
 *
__£t
, 
__cÚ¡
 sig£t_ˆ*
__Ëá
,

247 
__cÚ¡
 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

252 
	~<b™s/sigaùiÚ.h
>

255 
	$sig´ocmask
 (
__how
, 
__cÚ¡
 
sig£t_t
 *
__»¡riù
 
__£t
,

256 
sig£t_t
 *
__»¡riù
 
__o£t
è
__THROW
;

263 
	$sigsu¥’d
 (
__cÚ¡
 
sig£t_t
 *
__£t
è
	`__nÚnuÎ
 ((1));

266 
	$sigaùiÚ
 (
__sig
, 
__cÚ¡
 
sigaùiÚ
 *
__»¡riù
 
__aù
,

267 
sigaùiÚ
 *
__»¡riù
 
__ßù
è
__THROW
;

270 
	$sig³ndšg
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

277 
	$sigwa™
 (
__cÚ¡
 
sig£t_t
 *
__»¡riù
 
__£t
, *__»¡riù 
__sig
)

278 
	`__nÚnuÎ
 ((1, 2));

280 #ifdeà
__USE_POSIX199309


285 
	$sigwa™šfo
 (
__cÚ¡
 
sig£t_t
 *
__»¡riù
 
__£t
,

286 
sigšfo_t
 *
__»¡riù
 
__šfo
è
	`__nÚnuÎ
 ((1));

293 
	$sigtimedwa™
 (
__cÚ¡
 
sig£t_t
 *
__»¡riù
 
__£t
,

294 
sigšfo_t
 *
__»¡riù
 
__šfo
,

295 
__cÚ¡
 
time¥ec
 *
__»¡riù
 
__timeout
)

296 
	`__nÚnuÎ
 ((1));

300 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, 
__cÚ¡
 
sigv®
 
__v®
)

301 
__THROW
;

306 #ifdeà
__USE_BSD


310 
__cÚ¡
 *__cÚ¡ 
_sys_sigli¡
[
_NSIG
];

311 
__cÚ¡
 *__cÚ¡ 
sys_sigli¡
[
_NSIG
];

314 
	ssigvec


316 
__sighªdËr_t
 
sv_hªdËr
;

317 
sv_mask
;

319 
sv_æags
;

320 
	#sv_Ú¡ack
 
sv_æags


	)

324 
	#SV_ONSTACK
 (1 << 0)

	)

325 
	#SV_INTERRUPT
 (1 << 1)

	)

326 
	#SV_RESETHAND
 (1 << 2)

	)

334 
	$sigvec
 (
__sig
, 
__cÚ¡
 
sigvec
 *
__vec
,

335 
sigvec
 *
__ovec
è
__THROW
;

339 
	~<b™s/sigcÚ‹xt.h
>

342 
	$sig»tuº
 (
sigcÚ‹xt
 *
__sı
è
__THROW
;

347 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


348 
	#__Ãed_size_t


	)

349 
	~<¡ddef.h
>

354 
	$sigš‹¼u±
 (
__sig
, 
__š‹¼u±
è
__THROW
;

356 
	~<b™s/sig¡ack.h
>

357 #ifdeà
__USE_XOPEN


359 
	~<sys/ucÚ‹xt.h
>

365 
	$sig¡ack
 (
sig¡ack
 *
__ss
, sig¡ack *
__oss
)

366 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

370 
	$sig®t¡ack
 (
__cÚ¡
 
sig®t¡ack
 *
__»¡riù
 
__ss
,

371 
sig®t¡ack
 *
__»¡riù
 
__oss
è
__THROW
;

375 #ifdeà
__USE_XOPEN_EXTENDED


379 
	$sighŞd
 (
__sig
è
__THROW
;

382 
	$sig»l£
 (
__sig
è
__THROW
;

385 
	$sigignÜe
 (
__sig
è
__THROW
;

388 
__sighªdËr_t
 
	$sig£t
 (
__sig
, 
__sighªdËr_t
 
__di¥
è
__THROW
;

391 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


394 
	~<b™s/±h»adty³s.h
>

395 
	~<b™s/sigth»ad.h
>

402 
	$__libc_cu¼’t_sig¹mš
 (è
__THROW
;

404 
	$__libc_cu¼’t_sig¹max
 (è
__THROW
;

408 
__END_DECLS


	@/usr/include/time.h

23 #iâdef 
_TIME_H


25 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

26 ! 
defšed
 
	g__Ãed_time¥ec
)

27 
	#_TIME_H
 1

	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


34 #ifdef 
_TIME_H


36 
	#__Ãed_size_t


	)

37 
	#__Ãed_NULL


	)

38 
	~<¡ddef.h
>

42 
	~<b™s/time.h
>

45 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


46 #iâdeà
CLK_TCK


47 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

53 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

54 
	#__şock_t_defšed
 1

	)

56 
	~<b™s/ty³s.h
>

58 
__BEGIN_NAMESPACE_STD


60 
__şock_t
 
	tşock_t
;

61 
	g__END_NAMESPACE_STD


62 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


63 
	$__USING_NAMESPACE_STD
(
şock_t
)

67 #undeà
__Ãed_şock_t


69 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

70 
	#__time_t_defšed
 1

	)

72 
	~<b™s/ty³s.h
>

74 
__BEGIN_NAMESPACE_STD


76 
__time_t
 
	ttime_t
;

77 
__END_NAMESPACE_STD


78 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC
 || defšed 
__USE_SVID


79 
	$__USING_NAMESPACE_STD
(
time_t
)

83 #undeà
__Ãed_time_t


85 #ià!
defšed
 
__şockid_t_defšed
 && \

86 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

87 
	#__şockid_t_defšed
 1

	)

89 
	~<b™s/ty³s.h
>

92 
__şockid_t
 
	tşockid_t
;

95 #undeà
__şockid_time_t


97 #ià!
defšed
 
__tim”_t_defšed
 && \

98 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

99 
	#__tim”_t_defšed
 1

	)

101 
	~<b™s/ty³s.h
>

104 
__tim”_t
 
	ttim”_t
;

107 #undeà
__Ãed_tim”_t


110 #ià!
defšed
 
__time¥ec_defšed
 && \

111 ((
defšed
 
_TIME_H
 && \

112 (
defšed
 
__USE_POSIX199309
 || defšed 
__USE_MISC
)) || \

113 
defšed
 
__Ãed_time¥ec
)

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 
__cÚ¡
 *
tm_zÚe
;

149 
__tm_gmtoff
;

150 
__cÚ¡
 *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 
__BEGIN_NAMESPACE_STD


183 
şock_t
 
	$şock
 (è
__THROW
;

186 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

189 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

190 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

193 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

199 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

200 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

201 
__cÚ¡
 
tm
 *
__»¡riù
 
__
è
__THROW
;

202 
__END_NAMESPACE_STD


204 #ifdeà
__USE_XOPEN


207 *
	$¡½time
 (
__cÚ¡
 *
__»¡riù
 
__s
,

208 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
tm
 *
__
)

209 
__THROW
;

212 #ifdeà
__USE_XOPEN2K8


215 
	~<xloÿË.h
>

217 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

218 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

219 
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

220 
__loÿË_t
 
__loc
è
__THROW
;

223 #ifdeà
__USE_GNU


224 *
	$¡½time_l
 (
__cÚ¡
 *
__»¡riù
 
__s
,

225 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
tm
 *
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

230 
__BEGIN_NAMESPACE_STD


233 
tm
 *
	$gmtime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

237 
tm
 *
	$loÿÉime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

238 
__END_NAMESPACE_STD


240 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


243 
tm
 *
	$gmtime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

244 
tm
 *
__»¡riù
 
__
è
__THROW
;

248 
tm
 *
	$loÿÉime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

249 
tm
 *
__»¡riù
 
__
è
__THROW
;

252 
__BEGIN_NAMESPACE_STD


255 *
	$asùime
 (
__cÚ¡
 
tm
 *
__
è
__THROW
;

258 *
	$ùime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

259 
__END_NAMESPACE_STD


261 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


266 *
	$asùime_r
 (
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

267 *
__»¡riù
 
__buf
è
__THROW
;

270 *
	$ùime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

271 *
__»¡riù
 
__buf
è
__THROW
;

276 *
__tzÇme
[2];

277 
__daylight
;

278 
__timezÚe
;

281 #ifdef 
__USE_POSIX


283 *
tzÇme
[2];

287 
	$tz£t
 (è
__THROW
;

290 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


291 
daylight
;

292 
timezÚe
;

295 #ifdeà
__USE_SVID


298 
	$¡ime
 (
__cÚ¡
 
time_t
 *
__wh’
è
__THROW
;

304 
	#__i¦—p
(
y—r
) \

305 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

308 #ifdeà
__USE_MISC


313 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

316 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

319 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

323 #ifdeà
__USE_POSIX199309


328 
	`Çno¦“p
 (
__cÚ¡
 
time¥ec
 *
__»que¡ed_time
,

329 
time¥ec
 *
__»maššg
);

333 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

336 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

339 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, 
__cÚ¡
 
time¥ec
 *
__
)

340 
__THROW
;

342 #ifdeà
__USE_XOPEN2K


347 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

348 
__cÚ¡
 
time¥ec
 *
__»q
,

349 
time¥ec
 *
__»m
);

352 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

357 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

358 
sigev’t
 *
__»¡riù
 
__evp
,

359 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

362 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

365 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

366 
__cÚ¡
 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

367 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

370 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

371 
__THROW
;

374 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

378 #ifdeà
__USE_XOPEN_EXTENDED


390 
g‘d©e_”r
;

399 
tm
 *
	`g‘d©e
 (
__cÚ¡
 *
__¡ršg
);

402 #ifdeà
__USE_GNU


413 
	`g‘d©e_r
 (
__cÚ¡
 *
__»¡riù
 
__¡ršg
,

414 
tm
 *
__»¡riù
 
__»sbuå
);

417 
__END_DECLS


	@/usr/include/bits/sched.h

22 #iâdeà
__Ãed_sched·¿m


24 #iâdeà
_SCHED_H


30 
	#SCHED_OTHER
 0

	)

31 
	#SCHED_FIFO
 1

	)

32 
	#SCHED_RR
 2

	)

33 #ifdeà
__USE_GNU


34 
	#SCHED_BATCH
 3

	)

37 #ifdeà
__USE_MISC


39 
	#CSIGNAL
 0x000000fà

	)

40 
	#CLONE_VM
 0x00000100

	)

41 
	#CLONE_FS
 0x00000200

	)

42 
	#CLONE_FILES
 0x00000400

	)

43 
	#CLONE_SIGHAND
 0x00000800

	)

44 
	#CLONE_PTRACE
 0x00002000

	)

45 
	#CLONE_VFORK
 0x00004000

	)

47 
	#CLONE_PARENT
 0x00008000

	)

49 
	#CLONE_THREAD
 0x00010000

	)

50 
	#CLONE_NEWNS
 0x00020000

	)

51 
	#CLONE_SYSVSEM
 0x00040000

	)

52 
	#CLONE_SETTLS
 0x00080000

	)

53 
	#CLONE_PARENT_SETTID
 0x00100000

	)

55 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

57 
	#CLONE_DETACHED
 0x00400000

	)

58 
	#CLONE_UNTRACED
 0x00800000

	)

60 
	#CLONE_CHILD_SETTID
 0x01000000

	)

62 
	#CLONE_NEWUTS
 0x04000000

	)

63 
	#CLONE_NEWIPC
 0x08000000

	)

64 
	#CLONE_NEWUSER
 0x10000000

	)

65 
	#CLONE_NEWPID
 0x20000000

	)

66 
	#CLONE_NEWNET
 0x40000000

	)

67 
	#CLONE_IO
 0x80000000

	)

71 
	ssched_·¿m


73 
	m__sched_´iÜ™y
;

76 
	g__BEGIN_DECLS


78 #ifdeà
__USE_MISC


80 
şÚe
 ((*
__â
è(*
__¬g
), *
__chd_¡ack
,

81 
__æags
, *
__¬g
, ...è
__THROW
;

84 
	$unsh¬e
 (
__æags
è
__THROW
;

87 
	$sched_g‘ıu
 (è
__THROW
;

90 
__END_DECLS


94 #ià!
defšed
 
__defšed_sched·¿m
 \

95 && (
defšed
 
__Ãed_sched·¿m
 || defšed 
_SCHED_H
)

96 
	#__defšed_sched·¿m
 1

	)

98 
	s__sched_·¿m


100 
__sched_´iÜ™y
;

102 #undeà
__Ãed_sched·¿m


106 #ià
defšed
 
_SCHED_H
 && !defšed 
__ıu_£t_t_defšed


107 
	#__ıu_£t_t_defšed


	)

109 
	#__CPU_SETSIZE
 1024

	)

110 
	#__NCPUBITS
 (8 *  (
__ıu_mask
))

	)

113 
	t__ıu_mask
;

116 
	#__CPUELT
(
ıu
è((ıuè/ 
__NCPUBITS
)

	)

117 
	#__CPUMASK
(
ıu
è((
__ıu_mask
è1 << ((ıuè% 
__NCPUBITS
))

	)

122 
__ıu_mask
 
__b™s
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

123 } 
	tıu_£t_t
;

126 #ià
	`__GNUC_PREREQ
 (2, 91)

127 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

128 dØ
	`__butš_mem£t
 (
ıu£
, '\0', 
£tsize
); 0)

	)

130 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

132 
size_t
 
__i
; \

133 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

134 
__ıu_mask
 *
__b™s
 = (
ıu£
)->__bits; \

135 
__i
 = 0; __˜< 
__imax
; ++__i) \

136 
__b™s
[
__i
] = 0; \

137 
	}
} 0)

	)

139 
	#__CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
) \

140 (
__ex‹nsiÚ__
 \

141 ({ 
size_t
 
__ıu
 = (
ıu
); \

142 
__ıu
 < 8 * (
£tsize
) \

143 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

144 |ğ
	`__CPUMASK
 (
__ıu
)) \

145 : 0; }))

	)

146 
	#__CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
) \

147 (
__ex‹nsiÚ__
 \

148 ({ 
size_t
 
__ıu
 = (
ıu
); \

149 
__ıu
 < 8 * (
£tsize
) \

150 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

151 &ğ~
	`__CPUMASK
 (
__ıu
)) \

152 : 0; }))

	)

153 
	#__CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
) \

154 (
__ex‹nsiÚ__
 \

155 ({ 
size_t
 
__ıu
 = (
ıu
); \

156 
__ıu
 < 8 * (
£tsize
) \

157 ? ((((
__cÚ¡
 
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

158 & 
	`__CPUMASK
 (
__ıu
))) != 0 \

159 : 0; }))

	)

161 
	#__CPU_COUNT_S
(
£tsize
, 
ıu£
) \

162 
	`__sched_ıucouÁ
 (
£tsize
, 
ıu£
)

	)

164 #ià
__GNUC_PREREQ
 (2, 91)

165 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

166 (
	`__butš_memcmp
 (
ıu£1
, 
ıu£2
, 
£tsize
è=ğ0)

	)

168 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

169 (
__ex‹nsiÚ__
 \

170 ({ 
__cÚ¡
 
__ıu_mask
 *
__¬r1
 = (
ıu£1
)->
__b™s
; \

171 
__cÚ¡
 
__ıu_mask
 *
__¬r2
 = (
ıu£2
)->
__b™s
; \

172 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

173 
size_t
 
__i
; \

174 
__i
 = 0; __˜< 
__imax
; ++__i) \

175 ià(
__b™s
[
__i
] != __bits[__i]) \

177 
__i
 =ğ
__imax
; }))

	)

180 
	#__CPU_OP_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, 
İ
) \

181 (
__ex‹nsiÚ__
 \

182 ({ 
ıu_£t_t
 *
__de¡
 = (
de¡£t
); \

183 
__cÚ¡
 
__ıu_mask
 *
__¬r1
 = (
¤c£t1
)->
__b™s
; \

184 
__cÚ¡
 
__ıu_mask
 *
__¬r2
 = (
¤c£t2
)->
__b™s
; \

185 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

186 
size_t
 
__i
; \

187 
__i
 = 0; __˜< 
__imax
; ++__i) \

188 ((
__ıu_mask
 *è
__de¡
->
__b™s
)[
__i
] = 
__¬r1
[__i] 
İ
 
__¬r2
[__i]; \

189 
__de¡
; }))

	)

191 
	#__CPU_ALLOC_SIZE
(
couÁ
) \

192 ((((
couÁ
è+ 
__NCPUBITS
 - 1è/ __NCPUBITSè*  (
__ıu_mask
))

	)

193 
	#__CPU_ALLOC
(
couÁ
è
	`__sched_ıu®loc
 (couÁ)

	)

194 
	#__CPU_FREE
(
ıu£t
è
	`__sched_ıuä“
 (ıu£t)

	)

196 
__BEGIN_DECLS


198 
	$__sched_ıucouÁ
 (
size_t
 
__£tsize
, cÚ¡ 
ıu_£t_t
 *
__£
)

199 
__THROW
;

200 
ıu_£t_t
 *
	$__sched_ıu®loc
 (
size_t
 
__couÁ
è
__THROW
 
__wur
;

201 
	$__sched_ıuä“
 (
ıu_£t_t
 *
__£t
è
__THROW
;

203 
__END_DECLS


	@/usr/include/bits/sigaction.h

20 #iâdeà
_SIGNAL_H


25 
	ssigaùiÚ


28 #ifdeà
__USE_POSIX199309


32 
__sighªdËr_t
 
	m§_hªdËr
;

34 (*
	m§_sigaùiÚ
è(, 
	msigšfo_t
 *, *);

36 
	m__sigaùiÚ_hªdËr
;

37 
	#§_hªdËr
 
__sigaùiÚ_hªdËr
.
§_hªdËr


	)

38 
	#§_sigaùiÚ
 
__sigaùiÚ_hªdËr
.
§_sigaùiÚ


	)

40 
__sighªdËr_t
 
	m§_hªdËr
;

44 
__sig£t_t
 
	m§_mask
;

47 
	m§_æags
;

50 (*
	m§_»¡Ü”
) ();

54 
	#SA_NOCLDSTOP
 1

	)

55 
	#SA_NOCLDWAIT
 2

	)

56 
	#SA_SIGINFO
 4

	)

58 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_MISC


59 
	#SA_ONSTACK
 0x08000000

	)

60 
	#SA_RESTART
 0x10000000

	)

61 
	#SA_NODEFER
 0x40000000

	)

63 
	#SA_RESETHAND
 0x80000000

	)

65 #ifdeà
__USE_MISC


66 
	#SA_INTERRUPT
 0x20000000

	)

69 
	#SA_NOMASK
 
SA_NODEFER


	)

70 
	#SA_ONESHOT
 
SA_RESETHAND


	)

71 
	#SA_STACK
 
SA_ONSTACK


	)

75 
	#SIG_BLOCK
 0

	)

76 
	#SIG_UNBLOCK
 1

	)

77 
	#SIG_SETMASK
 2

	)

	@/usr/include/bits/sigcontext.h

19 #iâdeà
_BITS_SIGCONTEXT_H


20 
	#_BITS_SIGCONTEXT_H
 1

	)

22 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
_SYS_UCONTEXT_H


26 
	~<b™s/wÜdsize.h
>

28 
	s_å»g


30 
	msignifiÿnd
[4];

31 
	mexpÚ’t
;

34 
	s_åx»g


36 
	msignifiÿnd
[4];

37 
	mexpÚ’t
;

38 
	m·ddšg
[3];

41 
	s_xmm»g


43 
__ušt32_t
 
	m–em’t
[4];

48 #ià
__WORDSIZE
 == 32

50 
	s_å¡©e


53 
__ušt32_t
 
	mcw
;

54 
__ušt32_t
 
	msw
;

55 
__ušt32_t
 
	mg
;

56 
__ušt32_t
 
	moff
;

57 
__ušt32_t
 
	mcs£l
;

58 
__ušt32_t
 
	md©aoff
;

59 
__ušt32_t
 
	md©a£l
;

60 
_å»g
 
	m_¡
[8];

61 
	m¡©us
;

62 
	mmagic
;

65 
__ušt32_t
 
	m_fx¤_’v
[6];

66 
__ušt32_t
 
	mmxc¤
;

67 
__ušt32_t
 
	m»£rved
;

68 
_åx»g
 
	m_fx¤_¡
[8];

69 
_xmm»g
 
	m_xmm
[8];

70 
__ušt32_t
 
	m·ddšg
[56];

73 #iâdeà
sigcÚ‹xt_¡ruù


78 
	#sigcÚ‹xt_¡ruù
 
sigcÚ‹xt


	)

81 
	ssigcÚ‹xt


83 
	mgs
, 
	m__gsh
;

84 
	mfs
, 
	m__fsh
;

85 
	mes
, 
	m__esh
;

86 
	mds
, 
	m__dsh
;

87 
	medi
;

88 
	mesi
;

89 
	mebp
;

90 
	me¥
;

91 
	mebx
;

92 
	medx
;

93 
	mecx
;

94 
	m—x
;

95 
	mŒ­no
;

96 
	m”r
;

97 
	me
;

98 
	mcs
, 
	m__csh
;

99 
	meæags
;

100 
	me¥_©_sigÇl
;

101 
	mss
, 
	m__ssh
;

102 
_å¡©e
 * 
	må¡©e
;

103 
	mŞdmask
;

104 
	mü2
;

109 
	s_å¡©e


112 
__ušt16_t
 
	mcwd
;

113 
__ušt16_t
 
	mswd
;

114 
__ušt16_t
 
	máw
;

115 
__ušt16_t
 
	mfİ
;

116 
__ušt64_t
 
	mr
;

117 
__ušt64_t
 
	mrdp
;

118 
__ušt32_t
 
	mmxc¤
;

119 
__ušt32_t
 
	mmxü_mask
;

120 
_åx»g
 
	m_¡
[8];

121 
_xmm»g
 
	m_xmm
[16];

122 
__ušt32_t
 
	m·ddšg
[24];

125 
	ssigcÚ‹xt


127 
	mr8
;

128 
	mr9
;

129 
	mr10
;

130 
	mr11
;

131 
	mr12
;

132 
	mr13
;

133 
	mr14
;

134 
	mr15
;

135 
	mrdi
;

136 
	mrsi
;

137 
	mrbp
;

138 
	mrbx
;

139 
	mrdx
;

140 
	m¿x
;

141 
	mrcx
;

142 
	mr¥
;

143 
	mr
;

144 
	meæags
;

145 
	mcs
;

146 
	mgs
;

147 
	mfs
;

148 
	m__·d0
;

149 
	m”r
;

150 
	mŒ­no
;

151 
	mŞdmask
;

152 
	mü2
;

153 
_å¡©e
 * 
	må¡©e
;

154 
	m__»£rved1
 [8];

	@/usr/include/bits/siginfo.h

20 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
__Ãed_sigšfo_t
 \

21 && !
defšed
 
	g__Ãed_sigev’t_t


25 
	~<b™s/wÜdsize.h
>

27 #ià(!
defšed
 
__have_sigv®_t
 \

28 && (
defšed
 
	g_SIGNAL_H
 || defšed 
	g__Ãed_sigšfo_t
 \

29 || 
defšed
 
	g__Ãed_sigev’t_t
))

30 
	#__have_sigv®_t
 1

	)

33 
	usigv®


35 
	msiv®_št
;

36 *
	msiv®_±r
;

37 } 
	tsigv®_t
;

40 #ià(!
defšed
 
__have_sigšfo_t
 \

41 && (
defšed
 
	g_SIGNAL_H
 || defšed 
	g__Ãed_sigšfo_t
))

42 
	#__have_sigšfo_t
 1

	)

44 
	#__SI_MAX_SIZE
 128

	)

45 #ià
__WORDSIZE
 == 64

46 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()è- 4)

	)

48 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()è- 3)

	)

51 
	ssigšfo


53 
	msi_signo
;

54 
	msi_”ºo
;

56 
	msi_code
;

60 
	m_·d
[
__SI_PAD_SIZE
];

65 
__pid_t
 
	msi_pid
;

66 
__uid_t
 
	msi_uid
;

67 } 
	m_kl
;

72 
	msi_tid
;

73 
	msi_ov”run
;

74 
sigv®_t
 
	msi_sigv®
;

75 } 
	m_tim”
;

80 
__pid_t
 
	msi_pid
;

81 
__uid_t
 
	msi_uid
;

82 
sigv®_t
 
	msi_sigv®
;

83 } 
	m_¹
;

88 
__pid_t
 
	msi_pid
;

89 
__uid_t
 
	msi_uid
;

90 
	msi_¡©us
;

91 
__şock_t
 
	msi_utime
;

92 
__şock_t
 
	msi_¡ime
;

93 } 
	m_sigchld
;

98 *
	msi_addr
;

99 } 
	m_sigçuÉ
;

104 
	msi_bªd
;

105 
	msi_fd
;

106 } 
	m_sigpŞl
;

107 } 
	m_sif›lds
;

108 } 
	tsigšfo_t
;

112 
	#si_pid
 
_sif›lds
.
_kl
.
si_pid


	)

113 
	#si_uid
 
_sif›lds
.
_kl
.
si_uid


	)

114 
	#si_tim”id
 
_sif›lds
.
_tim”
.
si_tid


	)

115 
	#si_ov”run
 
_sif›lds
.
_tim”
.
si_ov”run


	)

116 
	#si_¡©us
 
_sif›lds
.
_sigchld
.
si_¡©us


	)

117 
	#si_utime
 
_sif›lds
.
_sigchld
.
si_utime


	)

118 
	#si_¡ime
 
_sif›lds
.
_sigchld
.
si_¡ime


	)

119 
	#si_v®ue
 
_sif›lds
.
_¹
.
si_sigv®


	)

120 
	#si_št
 
_sif›lds
.
_¹
.
si_sigv®
.
siv®_št


	)

121 
	#si_±r
 
_sif›lds
.
_¹
.
si_sigv®
.
siv®_±r


	)

122 
	#si_addr
 
_sif›lds
.
_sigçuÉ
.
si_addr


	)

123 
	#si_bªd
 
_sif›lds
.
_sigpŞl
.
si_bªd


	)

124 
	#si_fd
 
_sif›lds
.
_sigpŞl
.
si_fd


	)

131 
	mSI_ASYNCNL
 = -60,

132 
	#SI_ASYNCNL
 
SI_ASYNCNL


	)

133 
	mSI_TKILL
 = -6,

134 
	#SI_TKILL
 
SI_TKILL


	)

135 
	mSI_SIGIO
,

136 
	#SI_SIGIO
 
SI_SIGIO


	)

137 
	mSI_ASYNCIO
,

138 
	#SI_ASYNCIO
 
SI_ASYNCIO


	)

139 
	mSI_MESGQ
,

140 
	#SI_MESGQ
 
SI_MESGQ


	)

141 
	mSI_TIMER
,

142 
	#SI_TIMER
 
SI_TIMER


	)

143 
	mSI_QUEUE
,

144 
	#SI_QUEUE
 
SI_QUEUE


	)

145 
	mSI_USER
,

146 
	#SI_USER
 
SI_USER


	)

147 
	mSI_KERNEL
 = 0x80

148 
	#SI_KERNEL
 
SI_KERNEL


	)

155 
	mILL_ILLOPC
 = 1,

156 
	#ILL_ILLOPC
 
ILL_ILLOPC


	)

157 
	mILL_ILLOPN
,

158 
	#ILL_ILLOPN
 
ILL_ILLOPN


	)

159 
	mILL_ILLADR
,

160 
	#ILL_ILLADR
 
ILL_ILLADR


	)

161 
	mILL_ILLTRP
,

162 
	#ILL_ILLTRP
 
ILL_ILLTRP


	)

163 
	mILL_PRVOPC
,

164 
	#ILL_PRVOPC
 
ILL_PRVOPC


	)

165 
	mILL_PRVREG
,

166 
	#ILL_PRVREG
 
ILL_PRVREG


	)

167 
	mILL_COPROC
,

168 
	#ILL_COPROC
 
ILL_COPROC


	)

169 
	mILL_BADSTK


170 
	#ILL_BADSTK
 
ILL_BADSTK


	)

176 
	mFPE_INTDIV
 = 1,

177 
	#FPE_INTDIV
 
FPE_INTDIV


	)

178 
	mFPE_INTOVF
,

179 
	#FPE_INTOVF
 
FPE_INTOVF


	)

180 
	mFPE_FLTDIV
,

181 
	#FPE_FLTDIV
 
FPE_FLTDIV


	)

182 
	mFPE_FLTOVF
,

183 
	#FPE_FLTOVF
 
FPE_FLTOVF


	)

184 
	mFPE_FLTUND
,

185 
	#FPE_FLTUND
 
FPE_FLTUND


	)

186 
	mFPE_FLTRES
,

187 
	#FPE_FLTRES
 
FPE_FLTRES


	)

188 
	mFPE_FLTINV
,

189 
	#FPE_FLTINV
 
FPE_FLTINV


	)

190 
	mFPE_FLTSUB


191 
	#FPE_FLTSUB
 
FPE_FLTSUB


	)

197 
	mSEGV_MAPERR
 = 1,

198 
	#SEGV_MAPERR
 
SEGV_MAPERR


	)

199 
	mSEGV_ACCERR


200 
	#SEGV_ACCERR
 
SEGV_ACCERR


	)

206 
	mBUS_ADRALN
 = 1,

207 
	#BUS_ADRALN
 
BUS_ADRALN


	)

208 
	mBUS_ADRERR
,

209 
	#BUS_ADRERR
 
BUS_ADRERR


	)

210 
	mBUS_OBJERR


211 
	#BUS_OBJERR
 
BUS_OBJERR


	)

217 
	mTRAP_BRKPT
 = 1,

218 
	#TRAP_BRKPT
 
TRAP_BRKPT


	)

219 
	mTRAP_TRACE


220 
	#TRAP_TRACE
 
TRAP_TRACE


	)

226 
	mCLD_EXITED
 = 1,

227 
	#CLD_EXITED
 
CLD_EXITED


	)

228 
	mCLD_KILLED
,

229 
	#CLD_KILLED
 
CLD_KILLED


	)

230 
	mCLD_DUMPED
,

231 
	#CLD_DUMPED
 
CLD_DUMPED


	)

232 
	mCLD_TRAPPED
,

233 
	#CLD_TRAPPED
 
CLD_TRAPPED


	)

234 
	mCLD_STOPPED
,

235 
	#CLD_STOPPED
 
CLD_STOPPED


	)

236 
	mCLD_CONTINUED


237 
	#CLD_CONTINUED
 
CLD_CONTINUED


	)

243 
	mPOLL_IN
 = 1,

244 
	#POLL_IN
 
POLL_IN


	)

245 
	mPOLL_OUT
,

246 
	#POLL_OUT
 
POLL_OUT


	)

247 
	mPOLL_MSG
,

248 
	#POLL_MSG
 
POLL_MSG


	)

249 
	mPOLL_ERR
,

250 
	#POLL_ERR
 
POLL_ERR


	)

251 
	mPOLL_PRI
,

252 
	#POLL_PRI
 
POLL_PRI


	)

253 
	mPOLL_HUP


254 
	#POLL_HUP
 
POLL_HUP


	)

257 #undeà
__Ãed_sigšfo_t


261 #ià(
defšed
 
_SIGNAL_H
 || defšed 
__Ãed_sigev’t_t
) \

262 && !
defšed
 
	g__have_sigev’t_t


263 
	#__have_sigev’t_t
 1

	)

266 
	#__SIGEV_MAX_SIZE
 64

	)

267 #ià
__WORDSIZE
 == 64

268 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()è- 4)

	)

270 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()è- 3)

	)

273 
	ssigev’t


275 
sigv®_t
 
	msigev_v®ue
;

276 
	msigev_signo
;

277 
	msigev_nÙify
;

281 
	m_·d
[
__SIGEV_PAD_SIZE
];

285 
__pid_t
 
	m_tid
;

289 (*
	m_funùiÚ
è(
	msigv®_t
);

290 *
	m_©Œibu‹
;

291 } 
	m_sigev_th»ad
;

292 } 
	m_sigev_un
;

293 } 
	tsigev’t_t
;

296 
	#sigev_nÙify_funùiÚ
 
_sigev_un
.
_sigev_th»ad
.
_funùiÚ


	)

297 
	#sigev_nÙify_©Œibu‹s
 
_sigev_un
.
_sigev_th»ad
.
_©Œibu‹


	)

302 
	mSIGEV_SIGNAL
 = 0,

303 
	#SIGEV_SIGNAL
 
SIGEV_SIGNAL


	)

304 
	mSIGEV_NONE
,

305 
	#SIGEV_NONE
 
SIGEV_NONE


	)

306 
	mSIGEV_THREAD
,

307 
	#SIGEV_THREAD
 
SIGEV_THREAD


	)

309 
	mSIGEV_THREAD_ID
 = 4

310 
	#SIGEV_THREAD_ID
 
SIGEV_THREAD_ID


	)

	@/usr/include/bits/signum.h

20 #ifdef 
_SIGNAL_H


23 
	#SIG_ERR
 ((
__sighªdËr_t
è-1è

	)

24 
	#SIG_DFL
 ((
__sighªdËr_t
è0è

	)

25 
	#SIG_IGN
 ((
__sighªdËr_t
è1è

	)

27 #ifdeà
__USE_UNIX98


28 
	#SIG_HOLD
 ((
__sighªdËr_t
è2è

	)

33 
	#SIGHUP
 1

	)

34 
	#SIGINT
 2

	)

35 
	#SIGQUIT
 3

	)

36 
	#SIGILL
 4

	)

37 
	#SIGTRAP
 5

	)

38 
	#SIGABRT
 6

	)

39 
	#SIGIOT
 6

	)

40 
	#SIGBUS
 7

	)

41 
	#SIGFPE
 8

	)

42 
	#SIGKILL
 9

	)

43 
	#SIGUSR1
 10

	)

44 
	#SIGSEGV
 11

	)

45 
	#SIGUSR2
 12

	)

46 
	#SIGPIPE
 13

	)

47 
	#SIGALRM
 14

	)

48 
	#SIGTERM
 15

	)

49 
	#SIGSTKFLT
 16

	)

50 
	#SIGCLD
 
SIGCHLD


	)

51 
	#SIGCHLD
 17

	)

52 
	#SIGCONT
 18

	)

53 
	#SIGSTOP
 19

	)

54 
	#SIGTSTP
 20

	)

55 
	#SIGTTIN
 21

	)

56 
	#SIGTTOU
 22

	)

57 
	#SIGURG
 23

	)

58 
	#SIGXCPU
 24

	)

59 
	#SIGXFSZ
 25

	)

60 
	#SIGVTALRM
 26

	)

61 
	#SIGPROF
 27

	)

62 
	#SIGWINCH
 28

	)

63 
	#SIGPOLL
 
SIGIO


	)

64 
	#SIGIO
 29

	)

65 
	#SIGPWR
 30

	)

66 
	#SIGSYS
 31

	)

67 
	#SIGUNUSED
 31

	)

69 
	#_NSIG
 65

	)

72 
	#SIGRTMIN
 (
	`__libc_cu¼’t_sig¹mš
 ())

	)

73 
	#SIGRTMAX
 (
	`__libc_cu¼’t_sig¹max
 ())

	)

77 
	#__SIGRTMIN
 32

	)

78 
	#__SIGRTMAX
 (
_NSIG
 - 1)

	)

	@/usr/include/bits/sigset.h

21 #iâdef 
_SIGSET_H_ty³s


22 
	#_SIGSET_H_ty³s
 1

	)

24 
	t__sig_©omic_t
;

28 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

31 
	m__v®
[
_SIGSET_NWORDS
];

32 } 
	t__sig£t_t
;

43 #ià!
defšed
 
_SIGSET_H_âs
 && defšed 
_SIGNAL_H


44 
	#_SIGSET_H_âs
 1

	)

46 #iâdeà
_EXTERN_INLINE


47 
	#_EXTERN_INLINE
 
__ex‹º_šlše


	)

51 
	#__sigmask
(
sig
) \

52 (((è1è<< (((
sig
è- 1è% (8 *  ())))

	)

55 
	#__sigwÜd
(
sig
è(((sigè- 1è/ (8 *  ()))

	)

57 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

58 
	#__sigem±y£t
(
£t
) \

59 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

60 
sig£t_t
 *
__£t
 = (
£t
); \

61 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = 0; \

62 0; }))

	)

63 
	#__sigfl£t
(
£t
) \

64 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

65 
sig£t_t
 *
__£t
 = (
£t
); \

66 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = ~0UL; \

67 0; }))

	)

69 #ifdeà
__USE_GNU


73 
	#__sigi£m±y£t
(
£t
) \

74 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

75 cÚ¡ 
sig£t_t
 *
__£t
 = (
£t
); \

76 
__»t
 = 
__£t
->
__v®
[--
__út
]; \

77 !
__»t
 && --
__út
 >= 0) \

78 
__»t
 = 
__£t
->
__v®
[
__út
]; \

79 
__»t
 =ğ0; }))

	)

80 
	#__sigªd£t
(
de¡
, 
Ëá
, 
right
) \

81 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

82 
sig£t_t
 *
__de¡
 = (
de¡
); \

83 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

84 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

85 --
__út
 >= 0) \

86 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

87 & 
__right
->
__v®
[
__út
]); \

88 0; }))

	)

89 
	#__sigÜ£t
(
de¡
, 
Ëá
, 
right
) \

90 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

91 
sig£t_t
 *
__de¡
 = (
de¡
); \

92 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

93 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

94 --
__út
 >= 0) \

95 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

96 | 
__right
->
__v®
[
__út
]); \

97 0; }))

	)

104 
__sigismemb”
 (
__cÚ¡
 
__sig£t_t
 *, );

105 
__sigadd£t
 (
__sig£t_t
 *, );

106 
__sigd–£t
 (
__sig£t_t
 *, );

108 #ifdeà
__USE_EXTERN_INLINES


109 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

110 
_EXTERN_INLINE
 \

111 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

113 
__mask
 = 
	`__sigmask
 (
__sig
); \

114 
__wÜd
 = 
	`__sigwÜd
 (
__sig
); \

115  
BODY
; \

116 }

	)

118 
__SIGSETFN
 (
__sigismemb”
, (
__£t
->
__v®
[
__wÜd
] & 
__mask
è? 1 : 0, 
__cÚ¡
)

119 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__v®
[
__wÜd
] |ğ
__mask
), 0), )

120 
__SIGSETFN
 (
__sigd–£t
, ((
__£t
->
__v®
[
__wÜd
] &ğ~
__mask
), 0), )

122 #undeà
__SIGSETFN


	@/usr/include/bits/sigstack.h

20 #iâdeà
_SIGNAL_H


26 
	ssig¡ack


28 *
	mss_¥
;

29 
	mss_Ú¡ack
;

36 
	mSS_ONSTACK
 = 1,

37 
	#SS_ONSTACK
 
SS_ONSTACK


	)

38 
	mSS_DISABLE


39 
	#SS_DISABLE
 
SS_DISABLE


	)

43 
	#MINSIGSTKSZ
 2048

	)

46 
	#SIGSTKSZ
 8192

	)

50 
	ssig®t¡ack


52 *
	mss_¥
;

53 
	mss_æags
;

54 
size_t
 
	mss_size
;

55 } 
	t¡ack_t
;

	@/usr/include/bits/sigthread.h

20 #iâdeà
_BITS_SIGTHREAD_H


21 
	#_BITS_SIGTHREAD_H
 1

	)

23 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
_PTHREAD_H


31 
	$±h»ad_sigmask
 (
__how
,

32 
__cÚ¡
 
__sig£t_t
 *
__»¡riù
 
__Ãwmask
,

33 
__sig£t_t
 *
__»¡riù
 
__Şdmask
)
__THROW
;

36 
	$±h»ad_kl
 (
±h»ad_t
 
__th»adid
, 
__signo
è
__THROW
;

	@/usr/include/bits/time.h

24 #iâdeà
__Ãed_timev®


25 #iâdeà
_BITS_TIME_H


26 
	#_BITS_TIME_H
 1

	)

34 
	#CLOCKS_PER_SEC
 1000000l

	)

36 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


39 
	~<b™s/ty³s.h
>

40 
__syscÚf
 ();

41 
	#CLK_TCK
 ((
__şock_t
è
	`__syscÚf
 (2)è

	)

44 #ifdeà
__USE_POSIX199309


46 
	#CLOCK_REALTIME
 0

	)

48 
	#CLOCK_MONOTONIC
 1

	)

50 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

52 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

55 
	#TIMER_ABSTIME
 1

	)

61 #ifdeà
__Ãed_timev®


62 #undeà
__Ãed_timev®


63 #iâdeà
_STRUCT_TIMEVAL


64 
	#_STRUCT_TIMEVAL
 1

	)

65 
	~<b™s/ty³s.h
>

69 
	stimev®


71 
__time_t
 
	mtv_£c
;

72 
__su£cÚds_t
 
	mtv_u£c
;

	@/usr/include/sys/ucontext.h

19 #iâdeà
_SYS_UCONTEXT_H


20 
	#_SYS_UCONTEXT_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	~<sigÇl.h
>

24 
	~<b™s/wÜdsize.h
>

28 
	~<b™s/sigcÚ‹xt.h
>

30 #ià
__WORDSIZE
 == 64

33 
	tg»g_t
;

36 
	#NGREG
 23

	)

39 
g»g_t
 
	tg»g£t_t
[
NGREG
];

41 #ifdeà
__USE_GNU


45 
	mREG_R8
 = 0,

46 
	#REG_R8
 
REG_R8


	)

47 
	mREG_R9
,

48 
	#REG_R9
 
REG_R9


	)

49 
	mREG_R10
,

50 
	#REG_R10
 
REG_R10


	)

51 
	mREG_R11
,

52 
	#REG_R11
 
REG_R11


	)

53 
	mREG_R12
,

54 
	#REG_R12
 
REG_R12


	)

55 
	mREG_R13
,

56 
	#REG_R13
 
REG_R13


	)

57 
	mREG_R14
,

58 
	#REG_R14
 
REG_R14


	)

59 
	mREG_R15
,

60 
	#REG_R15
 
REG_R15


	)

61 
	mREG_RDI
,

62 
	#REG_RDI
 
REG_RDI


	)

63 
	mREG_RSI
,

64 
	#REG_RSI
 
REG_RSI


	)

65 
	mREG_RBP
,

66 
	#REG_RBP
 
REG_RBP


	)

67 
	mREG_RBX
,

68 
	#REG_RBX
 
REG_RBX


	)

69 
	mREG_RDX
,

70 
	#REG_RDX
 
REG_RDX


	)

71 
	mREG_RAX
,

72 
	#REG_RAX
 
REG_RAX


	)

73 
	mREG_RCX
,

74 
	#REG_RCX
 
REG_RCX


	)

75 
	mREG_RSP
,

76 
	#REG_RSP
 
REG_RSP


	)

77 
	mREG_RIP
,

78 
	#REG_RIP
 
REG_RIP


	)

79 
	mREG_EFL
,

80 
	#REG_EFL
 
REG_EFL


	)

81 
	mREG_CSGSFS
,

82 
	#REG_CSGSFS
 
REG_CSGSFS


	)

83 
	mREG_ERR
,

84 
	#REG_ERR
 
REG_ERR


	)

85 
	mREG_TRAPNO
,

86 
	#REG_TRAPNO
 
REG_TRAPNO


	)

87 
	mREG_OLDMASK
,

88 
	#REG_OLDMASK
 
REG_OLDMASK


	)

89 
	mREG_CR2


90 
	#REG_CR2
 
REG_CR2


	)

94 
	s_libc_åx»g


96 
	msignifiÿnd
[4];

97 
	mexpÚ’t
;

98 
	m·ddšg
[3];

101 
	s_libc_xmm»g


103 
__ušt32_t
 
	m–em’t
[4];

106 
	s_libc_å¡©e


109 
__ušt16_t
 
	mcwd
;

110 
__ušt16_t
 
	mswd
;

111 
__ušt16_t
 
	máw
;

112 
__ušt16_t
 
	mfİ
;

113 
__ušt64_t
 
	mr
;

114 
__ušt64_t
 
	mrdp
;

115 
__ušt32_t
 
	mmxc¤
;

116 
__ušt32_t
 
	mmxü_mask
;

117 
_libc_åx»g
 
	m_¡
[8];

118 
_libc_xmm»g
 
	m_xmm
[16];

119 
__ušt32_t
 
	m·ddšg
[24];

123 
_libc_å¡©e
 *
	tå»g£t_t
;

128 
g»g£t_t
 
	mg»gs
;

130 
å»g£t_t
 
	må»gs
;

131 
	m__»£rved1
 [8];

132 } 
	tmcÚ‹xt_t
;

135 
	sucÚ‹xt


137 
	muc_æags
;

138 
ucÚ‹xt
 *
	muc_lšk
;

139 
¡ack_t
 
	muc_¡ack
;

140 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

141 
__sig£t_t
 
	muc_sigmask
;

142 
_libc_å¡©e
 
	m__å»gs_mem
;

143 } 
	tucÚ‹xt_t
;

148 
	tg»g_t
;

151 
	#NGREG
 19

	)

154 
g»g_t
 
	tg»g£t_t
[
NGREG
];

156 #ifdeà
__USE_GNU


160 
	mREG_GS
 = 0,

161 
	#REG_GS
 
REG_GS


	)

162 
	mREG_FS
,

163 
	#REG_FS
 
REG_FS


	)

164 
	mREG_ES
,

165 
	#REG_ES
 
REG_ES


	)

166 
	mREG_DS
,

167 
	#REG_DS
 
REG_DS


	)

168 
	mREG_EDI
,

169 
	#REG_EDI
 
REG_EDI


	)

170 
	mREG_ESI
,

171 
	#REG_ESI
 
REG_ESI


	)

172 
	mREG_EBP
,

173 
	#REG_EBP
 
REG_EBP


	)

174 
	mREG_ESP
,

175 
	#REG_ESP
 
REG_ESP


	)

176 
	mREG_EBX
,

177 
	#REG_EBX
 
REG_EBX


	)

178 
	mREG_EDX
,

179 
	#REG_EDX
 
REG_EDX


	)

180 
	mREG_ECX
,

181 
	#REG_ECX
 
REG_ECX


	)

182 
	mREG_EAX
,

183 
	#REG_EAX
 
REG_EAX


	)

184 
	mREG_TRAPNO
,

185 
	#REG_TRAPNO
 
REG_TRAPNO


	)

186 
	mREG_ERR
,

187 
	#REG_ERR
 
REG_ERR


	)

188 
	mREG_EIP
,

189 
	#REG_EIP
 
REG_EIP


	)

190 
	mREG_CS
,

191 
	#REG_CS
 
REG_CS


	)

192 
	mREG_EFL
,

193 
	#REG_EFL
 
REG_EFL


	)

194 
	mREG_UESP
,

195 
	#REG_UESP
 
REG_UESP


	)

196 
	mREG_SS


197 
	#REG_SS
 
REG_SS


	)

202 
	s_libc_å»g


204 
	msignifiÿnd
[4];

205 
	mexpÚ’t
;

208 
	s_libc_å¡©e


210 
	mcw
;

211 
	msw
;

212 
	mg
;

213 
	moff
;

214 
	mcs£l
;

215 
	md©aoff
;

216 
	md©a£l
;

217 
_libc_å»g
 
	m_¡
[8];

218 
	m¡©us
;

222 
_libc_å¡©e
 *
	tå»g£t_t
;

227 
g»g£t_t
 
	mg»gs
;

230 
å»g£t_t
 
	må»gs
;

231 
	mŞdmask
;

232 
	mü2
;

233 } 
	tmcÚ‹xt_t
;

236 
	sucÚ‹xt


238 
	muc_æags
;

239 
ucÚ‹xt
 *
	muc_lšk
;

240 
¡ack_t
 
	muc_¡ack
;

241 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

242 
__sig£t_t
 
	muc_sigmask
;

243 
_libc_å¡©e
 
	m__å»gs_mem
;

244 } 
	tucÚ‹xt_t
;

	@
1
.
1
/usr/include
249
4740
ActiveDOMObject.cpp
ActiveDOMObject.h
Attr.cpp
Attr.h
Attribute.cpp
Attribute.h
BeforeLoadEvent.h
BeforeTextInsertedEvent.cpp
BeforeTextInsertedEvent.h
BeforeUnloadEvent.cpp
BeforeUnloadEvent.h
CDATASection.cpp
CDATASection.h
CSSMappedAttributeDeclaration.cpp
CSSMappedAttributeDeclaration.h
CanvasSurface.cpp
CanvasSurface.h
CharacterData.cpp
CharacterData.h
CheckedRadioButtons.cpp
CheckedRadioButtons.h
ChildNodeList.cpp
ChildNodeList.h
ClassNodeList.cpp
ClassNodeList.h
ClientRect.cpp
ClientRect.h
ClientRectList.cpp
ClientRectList.h
Clipboard.cpp
Clipboard.h
ClipboardAccessPolicy.h
ClipboardEvent.cpp
ClipboardEvent.h
Comment.cpp
Comment.h
CompositionEvent.cpp
CompositionEvent.h
ContainerNode.cpp
ContainerNode.h
ContainerNodeAlgorithms.h
CustomEvent.cpp
CustomEvent.h
DOMCoreException.h
DOMImplementation.cpp
DOMImplementation.h
Document.cpp
Document.h
DocumentFragment.cpp
DocumentFragment.h
DocumentMarker.h
DocumentType.cpp
DocumentType.h
DynamicNodeList.cpp
DynamicNodeList.h
EditingText.cpp
EditingText.h
Element.cpp
Element.h
ElementRareData.h
Entity.cpp
Entity.h
EntityReference.cpp
EntityReference.h
ErrorEvent.cpp
ErrorEvent.h
Event.cpp
Event.h
EventException.h
EventListener.h
EventNames.cpp
EventNames.h
EventTarget.cpp
EventTarget.h
ExceptionBase.cpp
ExceptionBase.h
ExceptionCode.cpp
ExceptionCode.h
InputElement.cpp
InputElement.h
KeyboardEvent.cpp
KeyboardEvent.h
MappedAttribute.cpp
MappedAttribute.h
MappedAttributeEntry.h
MessageChannel.cpp
MessageChannel.h
MessageEvent.cpp
MessageEvent.h
MessagePort.cpp
MessagePort.h
MessagePortChannel.cpp
MessagePortChannel.h
MouseEvent.cpp
MouseEvent.h
MouseRelatedEvent.cpp
MouseRelatedEvent.h
MutationEvent.cpp
MutationEvent.h
NameNodeList.cpp
NameNodeList.h
NamedAttrMap.cpp
NamedAttrMap.h
NamedMappedAttrMap.cpp
NamedMappedAttrMap.h
NamedNodeMap.h
Node.cpp
Node.h
NodeFilter.cpp
NodeFilter.h
NodeFilterCondition.cpp
NodeFilterCondition.h
NodeIterator.cpp
NodeIterator.h
NodeList.h
NodeRareData.h
NodeRenderStyle.h
NodeWithIndex.h
Notation.cpp
Notation.h
OptionElement.cpp
OptionElement.h
OptionGroupElement.cpp
OptionGroupElement.h
OverflowEvent.cpp
OverflowEvent.h
PageTransitionEvent.cpp
PageTransitionEvent.h
PopStateEvent.cpp
PopStateEvent.h
Position.cpp
Position.h
PositionCreationFunctions.h
PositionIterator.cpp
PositionIterator.h
ProcessingInstruction.cpp
ProcessingInstruction.h
ProgressEvent.cpp
ProgressEvent.h
QualifiedName.cpp
QualifiedName.h
Range.cpp
Range.h
RangeBoundaryPoint.h
RangeException.h
RegisteredEventListener.cpp
RegisteredEventListener.h
ScriptElement.cpp
ScriptElement.h
ScriptExecutionContext.cpp
ScriptExecutionContext.h
SelectElement.cpp
SelectElement.h
SelectorNodeList.cpp
SelectorNodeList.h
SpaceSplitString.cpp
SpaceSplitString.h
StaticNodeList.cpp
StaticNodeList.h
StyleElement.cpp
StyleElement.h
StyledElement.cpp
StyledElement.h
TagNodeList.cpp
TagNodeList.h
Text.cpp
Text.h
TextEvent.cpp
TextEvent.h
Tokenizer.h
Touch.cpp
Touch.h
TouchEvent.cpp
TouchEvent.h
TouchList.cpp
TouchList.h
TransformSource.h
TransformSourceLibxslt.cpp
TransformSourceQt.cpp
Traversal.cpp
Traversal.h
TreeWalker.cpp
TreeWalker.h
UIEvent.cpp
UIEvent.h
UIEventWithKeyState.cpp
UIEventWithKeyState.h
UserGestureIndicator.cpp
UserGestureIndicator.h
WebKitAnimationEvent.cpp
WebKitAnimationEvent.h
WebKitTransitionEvent.cpp
WebKitTransitionEvent.h
WheelEvent.cpp
WheelEvent.h
XMLTokenizer.cpp
XMLTokenizer.h
XMLTokenizerLibxml2.cpp
XMLTokenizerQt.cpp
XMLTokenizerScope.cpp
XMLTokenizerScope.h
/usr/include/libxslt/xslt.h
/usr/include/stdio.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/types.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/_G_config.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/predefs.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/typesizes.h
/usr/include/bits/wordsize.h
/usr/include/ctype.h
/usr/include/gnu/stubs.h
/usr/include/sys/cdefs.h
/usr/include/bits/libc-lock.h
/usr/include/endian.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/wchar.h
/usr/include/xlocale.h
/usr/include/bits/byteswap.h
/usr/include/bits/endian.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar.h
/usr/include/bits/wchar2.h
/usr/include/pthread.h
/usr/include/wctype.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/setjmp.h
/usr/include/sched.h
/usr/include/signal.h
/usr/include/time.h
/usr/include/bits/sched.h
/usr/include/bits/sigaction.h
/usr/include/bits/sigcontext.h
/usr/include/bits/siginfo.h
/usr/include/bits/signum.h
/usr/include/bits/sigset.h
/usr/include/bits/sigstack.h
/usr/include/bits/sigthread.h
/usr/include/bits/time.h
/usr/include/sys/ucontext.h
