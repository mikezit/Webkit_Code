cscope 15 /data/WebKit-r57509_back/WebKit-r57509/WebCore/page               0000795621
	@BarInfo.cpp

29 
	~"cÚfig.h
"

30 
	~"B¬Info.h
"

32 
	~"Chrome.h
"

33 
	~"F¿me.h
"

34 
	~"Page.h
"

36 
Çme¥aû
 
	gWebCÜe
 {

38 
	gB¬Info
::
B¬Info
(
F¿me
* 
äame
, 
Ty³
 
ty³
)

39 : 
m_äame
(
äame
)

40 , 
m_ty³
(
ty³
)

44 
F¿me
* 
	gB¬Info
::
äame
() const

46  
m_äame
;

49 
	gB¬Info
::
discÚÃùF¿me
()

51 
m_äame
 = 0;

54 
	gB¬Info
::
Ty³
 
B¬Info
::
ty³
() const

56  
m_ty³
;

59 
boŞ
 
	gB¬Info
::
visibË
() const

61 ià(!
m_äame
)

62  
çl£
;

63 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

64 ià(!
	g·ge
)

65  
	gçl£
;

67 
	gm_ty³
) {

68 
	gLoÿtiÚb¬
:

69 
P”sÚ®b¬
:

70 
ToŞb¬
:

71  
·ge
->
chrome
()->
toŞb¬sVisibË
();

72 
	gM’ub¬
:

73  
·ge
->
chrome
()->
m’ub¬VisibË
();

74 
	gSüŞlb¬s
:

75  
·ge
->
chrome
()->
süŞlb¬sVisibË
();

76 
	gStusb¬
:

77  
·ge
->
chrome
()->
¡©usb¬VisibË
();

80 
ASSERT_NOT_REACHED
();

81  
	gçl£
;

	@BarInfo.h

29 #iâdeà
B¬Info_h


30 
	#B¬Info_h


	)

32 
	~<wtf/PassRefPŒ.h
>

33 
	~<wtf/RefCouÁed.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gF¿me
;

39 
şass
 
	gB¬Info
 : 
public
 
RefCouÁed
<
B¬Info
> {

40 
public
:

41 
	eTy³
 { 
LoÿtiÚb¬
, 
	gM’ub¬
, 
	gP”sÚ®b¬
, 
	gSüŞlb¬s
, 
	gStusb¬
, 
	gToŞb¬
 };

43 
	gPassRefPŒ
<
	gB¬Info
> 
ü—‹
(
F¿me
* 
äame
, 
Ty³
 
ty³
è{  
adİtRef
(
Ãw
 
B¬Info
(frame,ype)); }

45 
F¿me
* 
äame
() const;

46 
discÚÃùF¿me
();

48 
Ty³
 
ty³
() const;

50 
boŞ
 
visibË
() const;

52 
	g´iv©e
:

53 
B¬Info
(
F¿me
*, 
Ty³
);

54 
F¿me
* 
	gm_äame
;

55 
Ty³
 
	gm_ty³
;

	@Chrome.cpp

21 
	~"cÚfig.h
"

22 
	~"Chrome.h
"

24 
	~"ChromeCl›Á.h
"

25 
	~"DNS.h
"

26 
	~"Docum’t.h
"

27 
	~"FeLi¡.h
"

28 
	~"FlßtReù.h
"

29 
	~"F¿me.h
"

30 
	~"F¿meT»e.h
"

31 
	~"GeŞoÿtiÚ.h
"

32 
	~"HTMLFÜmEËm’t.h
"

33 
	~"HTMLIÅutEËm’t.h
"

34 
	~"HTMLNames.h
"

35 
	~"H™Te¡ResuÉ.h
"

36 
	~"In¥eùÜCÚŒŞËr.h
"

37 
	~"Page.h
"

38 
	~"PageGroupLßdDeã¼”.h
"

39 
	~"R’d”Objeù.h
"

40 
	~"ResourûHªdË.h
"

41 
	~"SütCÚŒŞËr.h
"

42 
	~"Secur™yOrigš.h
"

43 
	~"S‘tšgs.h
"

44 
	~"WšdowF—tu»s.h
"

45 
	~<wtf/PassRefPŒ.h
>

46 
	~<wtf/RefPŒ.h
>

47 
	~<wtf/VeùÜ.h
>

49 #ià
ENABLE
(
DOM_STORAGE
)

50 
	~"StÜageName¥aû.h
"

53 
Çme¥aû
 
	gWebCÜe
 {

55 
usšg
 
Çme¥aû
 
	gHTMLNames
;

56 
usšg
 
Çme¥aû
 
	g¡d
;

58 
	gChrome
::
Chrome
(
Page
* 
·ge
, 
ChromeCl›Á
* 
ş›Á
)

59 : 
m_·ge
(
·ge
)

60 , 
m_ş›Á
(
ş›Á
)

62 
ASSERT
(
m_ş›Á
);

65 
	gChrome
::~
Chrome
()

67 
m_ş›Á
->
chromeDe¡royed
();

70 
	gChrome
::
šv®id©eWšdow
(cÚ¡ 
IÁReù
& 
upd©eReù
, 
boŞ
 
immedŸ‹
)

72 
	gm_ş›Á
->
šv®id©eWšdow
(
upd©eReù
, 
immedŸ‹
);

75 
	gChrome
::
šv®id©eCÚ‹ÁsAndWšdow
(cÚ¡ 
IÁReù
& 
upd©eReù
, 
boŞ
 
immedŸ‹
)

77 
	gm_ş›Á
->
šv®id©eCÚ‹ÁsAndWšdow
(
upd©eReù
, 
immedŸ‹
);

80 
	gChrome
::
šv®id©eCÚ‹ÁsFÜSlowSüŞl
(cÚ¡ 
IÁReù
& 
upd©eReù
, 
boŞ
 
immedŸ‹
)

82 
	gm_ş›Á
->
šv®id©eCÚ‹ÁsFÜSlowSüŞl
(
upd©eReù
, 
immedŸ‹
);

85 
	gChrome
::
süŞl
(cÚ¡ 
IÁSize
& 
süŞlD–
, cÚ¡ 
IÁReù
& 
»ùToSüŞl
, cÚ¡ IÁReù& 
şReù
)

87 
	gm_ş›Á
->
süŞl
(
süŞlD–
, 
»ùToSüŞl
, 
şReù
);

90 
IÁPošt
 
	gChrome
::
sü“nToWšdow
(cÚ¡ IÁPošt& 
pošt
) const

92  
m_ş›Á
->
sü“nToWšdow
(
pošt
);

95 
IÁReù
 
	gChrome
::
wšdowToSü“n
(cÚ¡ IÁReù& 
»ù
) const

97  
m_ş›Á
->
wšdowToSü“n
(
»ù
);

100 
PÏtfÜmPageCl›Á
 
	gChrome
::
¶©fÜmPageCl›Á
() const

102  
m_ş›Á
->
¶©fÜmPageCl›Á
();

105 
	gChrome
::
cÚ‹ÁsSizeChªged
(
F¿me
* 
äame
, cÚ¡ 
IÁSize
& 
size
) const

107 
	gm_ş›Á
->
cÚ‹ÁsSizeChªged
(
äame
, 
size
);

110 
	gChrome
::
süŞlReùIÁoV›w
(cÚ¡ 
IÁReù
& 
»ù
, cÚ¡ 
SüŞlV›w
* 
süŞlV›w
) const

112 
	gm_ş›Á
->
süŞlReùIÁoV›w
(
»ù
, 
süŞlV›w
);

115 
	gChrome
::
süŞlb¬sModeDidChªge
() const

117 
m_ş›Á
->
süŞlb¬sModeDidChªge
();

120 
	gChrome
::
£tWšdowReù
(cÚ¡ 
FlßtReù
& 
»ù
) const

122 
m_ş›Á
->
£tWšdowReù
(
»ù
);

125 
FlßtReù
 
	gChrome
::
wšdowReù
() const

127  
m_ş›Á
->
wšdowReù
();

130 
FlßtReù
 
	gChrome
::
·geReù
() const

132  
m_ş›Á
->
·geReù
();

135 
	gChrome
::
sÿËFaùÜ
()

137  
m_ş›Á
->
sÿËFaùÜ
();

140 
	gChrome
::
focus
() const

142 
m_ş›Á
->
focus
();

145 
	gChrome
::
unfocus
() const

147 
m_ş›Á
->
unfocus
();

150 
boŞ
 
	gChrome
::
ÿnTakeFocus
(
FocusDœeùiÚ
 
dœeùiÚ
) const

152  
m_ş›Á
->
ÿnTakeFocus
(
dœeùiÚ
);

155 
	gChrome
::
keFocus
(
FocusDœeùiÚ
 
dœeùiÚ
) const

157 
m_ş›Á
->
keFocus
(
dœeùiÚ
);

160 
	gChrome
::
focu£dNodeChªged
(
Node
* 
node
) const

162 
m_ş›Á
->
focu£dNodeChªged
(
node
);

165 
Page
* 
	gChrome
::
ü—‹Wšdow
(
F¿me
* 
äame
, cÚ¡ 
F¿meLßdReque¡
& 
»que¡
, cÚ¡ 
WšdowF—tu»s
& 
ã©u»s
) const

167 
Page
* 
	gÃwPage
 = 
m_ş›Á
->
ü—‹Wšdow
(
äame
, 
»que¡
, 
ã©u»s
);

169 #ià
ENABLE
(
DOM_STORAGE
)

170 ià(
	gÃwPage
) {

171 ià(
StÜageName¥aû
* 
	gŞdSessiÚStÜage
 = 
m_·ge
->
£ssiÚStÜage
(
çl£
))

172 
ÃwPage
->
£tSessiÚStÜage
(
ŞdSessiÚStÜage
->
cİy
());

176  
	gÃwPage
;

179 
	gChrome
::
show
() const

181 
m_ş›Á
->
show
();

184 
boŞ
 
	gChrome
::
ÿnRunMod®
() const

186  
m_ş›Á
->
ÿnRunMod®
();

189 
boŞ
 
	gChrome
::
ÿnRunMod®Now
() const

193  
ÿnRunMod®
(è&& !
ResourûHªdË
::
lßdsBlocked
();

196 
	gChrome
::
runMod®
() const

200 
PageGroupLßdDeã¼”
 
deã¼”
(
m_·ge
, 
çl£
);

202 
	gTim”Ba£
::
fœeTim”sInNe¡edEv’tLoİ
();

203 
	gm_ş›Á
->
runMod®
();

206 
	gChrome
::
£tToŞb¬sVisibË
(
boŞ
 
b
) const

208 
m_ş›Á
->
£tToŞb¬sVisibË
(
b
);

211 
boŞ
 
	gChrome
::
toŞb¬sVisibË
() const

213  
m_ş›Á
->
toŞb¬sVisibË
();

216 
	gChrome
::
£tStusb¬VisibË
(
boŞ
 
b
) const

218 
m_ş›Á
->
£tStusb¬VisibË
(
b
);

221 
boŞ
 
	gChrome
::
¡©usb¬VisibË
() const

223  
m_ş›Á
->
¡©usb¬VisibË
();

226 
	gChrome
::
£tSüŞlb¬sVisibË
(
boŞ
 
b
) const

228 
m_ş›Á
->
£tSüŞlb¬sVisibË
(
b
);

231 
boŞ
 
	gChrome
::
süŞlb¬sVisibË
() const

233  
m_ş›Á
->
süŞlb¬sVisibË
();

236 
	gChrome
::
£tM’ub¬VisibË
(
boŞ
 
b
) const

238 
m_ş›Á
->
£tM’ub¬VisibË
(
b
);

241 
boŞ
 
	gChrome
::
m’ub¬VisibË
() const

243  
m_ş›Á
->
m’ub¬VisibË
();

246 
	gChrome
::
£tResizabË
(
boŞ
 
b
) const

248 
m_ş›Á
->
£tResizabË
(
b
);

251 
boŞ
 
	gChrome
::
ÿnRunBefÜeUÆßdCÚfœmPª–
()

253  
m_ş›Á
->
ÿnRunBefÜeUÆßdCÚfœmPª–
();

256 
boŞ
 
	gChrome
::
runBefÜeUÆßdCÚfœmPª–
(cÚ¡ 
SŒšg
& 
mes§ge
, 
F¿me
* 
äame
)

260 
PageGroupLßdDeã¼”
 
deã¼”
(
m_·ge
, 
Œue
);

262  
	gm_ş›Á
->
runBefÜeUÆßdCÚfœmPª–
(
mes§ge
, 
äame
);

265 
	gChrome
::
şo£WšdowSoÚ
()

267 
m_ş›Á
->
şo£WšdowSoÚ
();

270 
	gChrome
::
runJavaSütAË¹
(
F¿me
* 
äame
, cÚ¡ 
SŒšg
& 
mes§ge
)

274 
PageGroupLßdDeã¼”
 
deã¼”
(
m_·ge
, 
Œue
);

276 
ASSERT
(
äame
);

277 
	gm_ş›Á
->
runJavaSütAË¹
(
äame
, f¿me->
di¥ÏySŒšgModif›dByEncodšg
(
mes§ge
));

280 
boŞ
 
	gChrome
::
runJavaSütCÚfœm
(
F¿me
* 
äame
, cÚ¡ 
SŒšg
& 
mes§ge
)

284 
PageGroupLßdDeã¼”
 
deã¼”
(
m_·ge
, 
Œue
);

286 
ASSERT
(
äame
);

287  
	gm_ş›Á
->
runJavaSütCÚfœm
(
äame
, f¿me->
di¥ÏySŒšgModif›dByEncodšg
(
mes§ge
));

290 
boŞ
 
	gChrome
::
runJavaSütProm±
(
F¿me
* 
äame
, cÚ¡ 
SŒšg
& 
´om±
, cÚ¡ SŒšg& 
deçuÉV®ue
, SŒšg& 
»suÉ
)

294 
PageGroupLßdDeã¼”
 
deã¼”
(
m_·ge
, 
Œue
);

296 
ASSERT
(
äame
);

297 
boŞ
 
	gok
 = 
m_ş›Á
->
runJavaSütProm±
(
äame
, f¿me->
di¥ÏySŒšgModif›dByEncodšg
(
´om±
), f¿me->di¥ÏySŒšgModif›dByEncodšg(
deçuÉV®ue
), 
»suÉ
);

299 ià(
	gok
)

300 
	g»suÉ
 = 
äame
->
di¥ÏySŒšgModif›dByEncodšg
(
»suÉ
);

302  
	gok
;

305 
	gChrome
::
£tStusb¬Text
(
F¿me
* 
äame
, cÚ¡ 
SŒšg
& 
¡©us
)

307 
ASSERT
(
äame
);

308 
	gm_ş›Á
->
£tStusb¬Text
(
äame
->
di¥ÏySŒšgModif›dByEncodšg
(
¡©us
));

311 
boŞ
 
	gChrome
::
shouldIÁ”ru±JavaSüt
()

315 
PageGroupLßdDeã¼”
 
deã¼”
(
m_·ge
, 
Œue
);

317  
	gm_ş›Á
->
shouldIÁ”ru±JavaSüt
();

320 
	gChrome
::
»gi¡”PrÙocŞHªdËr
(cÚ¡ 
SŒšg
& 
scheme
, cÚ¡ SŒšg& 
ba£URL
, cÚ¡ SŒšg& 
u¾
, cÚ¡ SŒšg& 
t™Ë
)

322 
	gm_ş›Á
->
»gi¡”PrÙocŞHªdËr
(
scheme
, 
ba£URL
, 
u¾
, 
t™Ë
);

325 
	gChrome
::
»gi¡”CÚ‹ÁHªdËr
(cÚ¡ 
SŒšg
& 
mimeTy³
, cÚ¡ SŒšg& 
ba£URL
, cÚ¡ SŒšg& 
u¾
, cÚ¡ SŒšg& 
t™Ë
)

327 
	gm_ş›Á
->
»gi¡”CÚ‹ÁHªdËr
(
mimeTy³
, 
ba£URL
, 
u¾
, 
t™Ë
);

330 
IÁReù
 
	gChrome
::
wšdowResiz”Reù
() const

332  
m_ş›Á
->
wšdowResiz”Reù
();

335 
	gChrome
::
mou£DidMoveOv”EËm’t
(cÚ¡ 
H™Te¡ResuÉ
& 
»suÉ
, 
modif›rFÏgs
)

337 ià(
	g»suÉ
.
šÃrNode
()) {

338 
Docum’t
* 
	gdocum’t
 = 
»suÉ
.
šÃrNode
()->
docum’t
();

339 ià(
	gdocum’t
 && docum’t->
isDNSP»ãtchEÇbËd
())

340 
	gResourûHªdË
::
´•¬eFÜURL
(
»suÉ
.
absŞu‹LškURL
());

342 
	gm_ş›Á
->
mou£DidMoveOv”EËm’t
(
»suÉ
, 
modif›rFÏgs
);

344 #ià
ENABLE
(
INSPECTOR
)

345 ià(
In¥eùÜCÚŒŞËr
* 
	gš¥eùÜ
 = 
m_·ge
->
š¥eùÜCÚŒŞËr
())

346 
š¥eùÜ
->
mou£DidMoveOv”EËm’t
(
»suÉ
, 
modif›rFÏgs
);

350 
	gChrome
::
£tToŞT
(cÚ¡ 
H™Te¡ResuÉ
& 
»suÉ
)

353 
TextDœeùiÚ
 
toŞTDœeùiÚ
;

354 
SŒšg
 
	gtoŞT
 = 
»suÉ
.
¥–lšgToŞT
(
toŞTDœeùiÚ
);

357 ià(
	gtoŞT
.
isEm±y
(è&& 
	gm_·ge
->
£‰šgs
()->
showsURLsInToŞTs
()) {

358 ià(
Node
* 
	gnode
 = 
»suÉ
.
šÃrNÚSh¬edNode
()) {

360 ià(
node
->
hasTagName
(
šputTag
)) {

361 
HTMLIÅutEËm’t
* 
šput
 = 
¡©ic_ÿ¡
<HTMLIÅutEËm’t*>(
node
);

362 ià(
	gšput
->
šputTy³
(è=ğ
HTMLIÅutEËm’t
::
SUBMIT
)

363 ià(
HTMLFÜmEËm’t
* 
fÜm
 = 
šput
->form()) {

364 
toŞT
 = 
fÜm
->
aùiÚ
();

365 ià(
	gfÜm
->
»nd””
())

366 
	gtoŞTDœeùiÚ
 = 
fÜm
->
»nd””
()->
¡yË
()->
dœeùiÚ
();

368 
	gtoŞTDœeùiÚ
 = 
LTR
;

374 ià(
	gtoŞT
.
isEm±y
()) {

376 
	gtoŞT
 = 
»suÉ
.
absŞu‹LškURL
().
¡ršg
();

378 
	gtoŞTDœeùiÚ
 = 
LTR
;

383 ià(
	gtoŞT
.
isEm±y
())

384 
	gtoŞT
 = 
»suÉ
.
t™Ë
(
toŞTDœeùiÚ
);

387 ià(
	gtoŞT
.
isEm±y
()) {

388 ià(
Node
* 
	gnode
 = 
»suÉ
.
šÃrNÚSh¬edNode
()) {

389 ià(
node
->
hasTagName
(
šputTag
)) {

390 
HTMLIÅutEËm’t
* 
šput
 = 
¡©ic_ÿ¡
<HTMLIÅutEËm’t*>(
node
);

391 ià(
	gšput
->
šputTy³
(è=ğ
HTMLIÅutEËm’t
::
FILE
) {

392 
FeLi¡
* 
fes
 = 
šput
->files();

393 
	gli¡Size
 = 
fes
->
Ëngth
();

394 ià(
	gfes
 && 
	gli¡Size
 > 1) {

395 
	gVeùÜ
<
	gUCh¬
> 
	gÇmes
;

396 
size_t
 
	gi
 = 0; i < 
	gli¡Size
; ++i) {

397 
­³nd
(
Çmes
, 
fes
->
™em
(
i
)->
feName
());

398 ià(
	gi
 !ğ
li¡Size
 - 1)

399 
Çmes
.
­³nd
('\n');

401 
	gtoŞT
 = 
SŒšg
::
adİt
(
Çmes
);

403 
	gtoŞTDœeùiÚ
 = 
LTR
;

410 
	gm_ş›Á
->
£tToŞT
(
toŞT
, 
toŞTDœeùiÚ
);

413 
	gChrome
::
´št
(
F¿me
* 
äame
)

415 
m_ş›Á
->
´št
(
äame
);

418 
	gChrome
::
»que¡GeŞoÿtiÚP”missiÚFÜF¿me
(
F¿me
* 
äame
, 
GeŞoÿtiÚ
* 
geŞoÿtiÚ
)

420 
	gm_ş›Á
->
»que¡GeŞoÿtiÚP”missiÚFÜF¿me
(
äame
, 
geŞoÿtiÚ
);

423 
	gChrome
::
ÿnûlGeŞoÿtiÚP”missiÚReque¡FÜF¿me
(
F¿me
* 
äame
, 
GeŞoÿtiÚ
* 
geŞoÿtiÚ
)

425 
	gm_ş›Á
->
ÿnûlGeŞoÿtiÚP”missiÚReque¡FÜF¿me
(
äame
, 
geŞoÿtiÚ
);

428 
	gChrome
::
runO³nPª–
(
F¿me
* 
äame
, 
PassRefPŒ
<
FeChoo£r
> 
feChoo£r
)

430 
	gm_ş›Á
->
runO³nPª–
(
äame
, 
feChoo£r
);

433 
	gChrome
::
choo£IcÚFÜFes
(cÚ¡ 
VeùÜ
<
SŒšg
>& 
f’ames
, 
PassRefPŒ
<
FeChoo£r
> 
feChoo£r
)

435 
	gm_ş›Á
->
choo£IcÚFÜFes
(
f’ames
, 
feChoo£r
);

438 
boŞ
 
	gChrome
::
£tCursÜ
(
PÏtfÜmCursÜHªdË
 
cursÜ
)

440  
m_ş›Á
->
£tCursÜ
(
cursÜ
);

443 #ià
ENABLE
(
NOTIFICATIONS
)

444 
NÙifiÿtiÚP»£Á”
* 
	gChrome
::
nÙifiÿtiÚP»£Á”
() const

446  
m_ş›Á
->
nÙifiÿtiÚP»£Á”
();

452 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

453 
	gChromeCl›Á
::
dashbßrdRegiÚsChªged
()

458 
ChromeCl›Á
::
pİuÏ‹Vis™edLšks
()

462 
FlßtReù
 
ChromeCl›Á
::
cu¡omHighlightReù
(
Node
*, cÚ¡ 
AtomicSŒšg
&, const FloatRect&)

464  
FlßtReù
();

467 
	gChromeCl›Á
::
·štCu¡omHighlight
(
Node
*, cÚ¡ 
AtomicSŒšg
&, cÚ¡ 
FlßtReù
&, cÚ¡ FlßtReù&, 
boŞ
, bool)

471 
boŞ
 
	gChromeCl›Á
::
shouldR•ÏûW™hG’”©edFeFÜU¶ßd
(cÚ¡ 
SŒšg
&, String&)

473  
	gçl£
;

476 
SŒšg
 
	gChromeCl›Á
::
g’”©eR•Ïûm’tFe
(const String&)

478 
ASSERT_NOT_REACHED
();

479  
SŒšg
();

482 
boŞ
 
	gChromeCl›Á
::
·štCu¡omSüŞlb¬
(
G¿phicsCÚ‹xt
*, cÚ¡ 
FlßtReù
&, 
SüŞlb¬CÚŒŞSize
,

483 
SüŞlb¬CÚŒŞS‹
, 
SüŞlb¬P¬t
, 
boŞ
,

484 , , 
SüŞlb¬CÚŒŞP¬tMask
)

486  
	gçl£
;

489 
boŞ
 
	gChromeCl›Á
::
·štCu¡omSüŞlCÜÃr
(
G¿phicsCÚ‹xt
*, cÚ¡ 
FlßtReù
&)

491  
	gçl£
;

	@Chrome.h

20 #iâdeà
Chrome_h


21 
	#Chrome_h


	)

23 
	~"CursÜ.h
"

24 
	~"FeChoo£r.h
"

25 
	~"FocusDœeùiÚ.h
"

26 
	~"Ho¡Wšdow.h
"

27 
	~<wtf/FÜw¬d.h
>

28 
	~<wtf/RefPŒ.h
>

30 #ià
PLATFORM
(
MAC
)

31 #iâdeà
__OBJC__


32 
şass
 
	gNSV›w
;

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gChromeCl›Á
;

39 
şass
 
	gCÚ‹xtM’u
;

40 
şass
 
	gFlßtReù
;

41 
şass
 
	gF¿me
;

42 
şass
 
	gGeŞoÿtiÚ
;

43 
şass
 
	gH™Te¡ResuÉ
;

44 
şass
 
	gIÁReù
;

45 
şass
 
	gNode
;

46 
şass
 
	gPage
;

47 
şass
 
	gSŒšg
;

48 #ià
ENABLE
(
NOTIFICATIONS
)

49 
şass
 
	gNÙifiÿtiÚP»£Á”
;

52 
	gF¿meLßdReque¡
;

53 
	gWšdowF—tu»s
;

55 şas 
	cChrome
 : 
public
 
Ho¡Wšdow
 {

56 
public
:

57 
Chrome
(
Page
*, 
ChromeCl›Á
*);

58 ~
Chrome
();

60 
ChromeCl›Á
* 
ş›Á
(è{  
	gm_ş›Á
; }

64 
vœtu®
 
šv®id©eWšdow
(cÚ¡ 
IÁReù
&, 
boŞ
);

65 
vœtu®
 
šv®id©eCÚ‹ÁsAndWšdow
(cÚ¡ 
IÁReù
&, 
boŞ
);

66 
vœtu®
 
šv®id©eCÚ‹ÁsFÜSlowSüŞl
(cÚ¡ 
IÁReù
&, 
boŞ
);

67 
vœtu®
 
süŞl
(cÚ¡ 
IÁSize
&, cÚ¡ 
IÁReù
&, const IntRect&);

68 
vœtu®
 
IÁPošt
 
sü“nToWšdow
(const IntPoint&) const;

69 
vœtu®
 
IÁReù
 
wšdowToSü“n
(const IntRect&) const;

70 
vœtu®
 
PÏtfÜmPageCl›Á
 
¶©fÜmPageCl›Á
() const;

71 
vœtu®
 
süŞlReùIÁoV›w
(cÚ¡ 
IÁReù
&, cÚ¡ 
SüŞlV›w
*) const;

72 
vœtu®
 
süŞlb¬sModeDidChªge
() const;

74 
cÚ‹ÁsSizeChªged
(
F¿me
*, cÚ¡ 
IÁSize
&) const;

76 
£tWšdowReù
(cÚ¡ 
FlßtReù
&) const;

77 
FlßtReù
 
wšdowReù
() const;

79 
FlßtReù
 
·geReù
() const;

81 
sÿËFaùÜ
();

83 
focus
() const;

84 
unfocus
() const;

86 
boŞ
 
ÿnTakeFocus
(
FocusDœeùiÚ
) const;

87 
keFocus
(
FocusDœeùiÚ
) const;

89 
focu£dNodeChªged
(
Node
*) const;

91 
Page
* 
ü—‹Wšdow
(
F¿me
*, cÚ¡ 
F¿meLßdReque¡
&, cÚ¡ 
WšdowF—tu»s
&) const;

92 
show
() const;

94 
boŞ
 
ÿnRunMod®
() const;

95 
boŞ
 
ÿnRunMod®Now
() const;

96 
runMod®
() const;

98 
£tToŞb¬sVisibË
(
boŞ
) const;

99 
boŞ
 
toŞb¬sVisibË
() const;

101 
£tStusb¬VisibË
(
boŞ
) const;

102 
boŞ
 
¡©usb¬VisibË
() const;

104 
£tSüŞlb¬sVisibË
(
boŞ
) const;

105 
boŞ
 
süŞlb¬sVisibË
() const;

107 
£tM’ub¬VisibË
(
boŞ
) const;

108 
boŞ
 
m’ub¬VisibË
() const;

110 
£tResizabË
(
boŞ
) const;

112 
boŞ
 
ÿnRunBefÜeUÆßdCÚfœmPª–
();

113 
boŞ
 
runBefÜeUÆßdCÚfœmPª–
(cÚ¡ 
SŒšg
& 
mes§ge
, 
F¿me
* 
äame
);

115 
şo£WšdowSoÚ
();

117 
runJavaSütAË¹
(
F¿me
*, cÚ¡ 
SŒšg
&);

118 
boŞ
 
runJavaSütCÚfœm
(
F¿me
*, cÚ¡ 
SŒšg
&);

119 
boŞ
 
runJavaSütProm±
(
F¿me
*, cÚ¡ 
SŒšg
& 
mes§ge
, cÚ¡ SŒšg& 
deçuÉV®ue
, SŒšg& 
»suÉ
);

120 
£tStusb¬Text
(
F¿me
*, cÚ¡ 
SŒšg
&);

121 
boŞ
 
shouldIÁ”ru±JavaSüt
();

123 
»gi¡”PrÙocŞHªdËr
(cÚ¡ 
SŒšg
& 
scheme
, cÚ¡ SŒšg& 
ba£URL
, cÚ¡ SŒšg& 
u¾
, cÚ¡ SŒšg& 
t™Ë
);

124 
»gi¡”CÚ‹ÁHªdËr
(cÚ¡ 
SŒšg
& 
mimeTy³
, cÚ¡ SŒšg& 
ba£URL
, cÚ¡ SŒšg& 
u¾
, cÚ¡ SŒšg& 
t™Ë
);

126 
IÁReù
 
wšdowResiz”Reù
() const;

128 
mou£DidMoveOv”EËm’t
(cÚ¡ 
H™Te¡ResuÉ
&, 
modif›rFÏgs
);

130 
£tToŞT
(cÚ¡ 
H™Te¡ResuÉ
&);

132 
´št
(
F¿me
*);

134 
»que¡GeŞoÿtiÚP”missiÚFÜF¿me
(
F¿me
*, 
GeŞoÿtiÚ
*);

135 
ÿnûlGeŞoÿtiÚP”missiÚReque¡FÜF¿me
(
F¿me
*, 
GeŞoÿtiÚ
*);

137 
runO³nPª–
(
F¿me
*, 
PassRefPŒ
<
FeChoo£r
>);

138 
choo£IcÚFÜFes
(cÚ¡ 
VeùÜ
<
SŒšg
>&, 
PassRefPŒ
<
FeChoo£r
>);

140 
boŞ
 
£tCursÜ
(
PÏtfÜmCursÜHªdË
);

142 #ià
PLATFORM
(
MAC
)

143 
focusNSV›w
(
NSV›w
*);

146 #ià
ENABLE
(
NOTIFICATIONS
)

147 
NÙifiÿtiÚP»£Á”
* 
nÙifiÿtiÚP»£Á”
() const;

150 
	g´iv©e
:

151 
Page
* 
m_·ge
;

152 
ChromeCl›Á
* 
	gm_ş›Á
;

	@ChromeClient.h

20 #iâdeà
ChromeCl›Á_h


21 
	#ChromeCl›Á_h


	)

23 
	~"CÚsŞe.h
"

24 
	~"CursÜ.h
"

25 
	~"FocusDœeùiÚ.h
"

26 
	~"G¿phicsCÚ‹xt.h
"

27 
	~"HTMLP¬£rQuœks.h
"

28 
	~"Ho¡Wšdow.h
"

29 
	~"SüŞlTy³s.h
"

30 
	~<wtf/FÜw¬d.h
>

31 
	~<wtf/PassOwnPŒ.h
>

32 
	~<wtf/VeùÜ.h
>

34 #ià
PLATFORM
(
MAC
)

35 
	~"WebCÜeKeybßrdUIMode.h
"

38 #iâdeà
__OBJC__


39 
şass
 
	gNSM’u
;

40 
şass
 
	gNSRe¥Úd”
;

43 
Çme¥aû
 
	gWebCÜe
 {

45 
şass
 
	gAtomicSŒšg
;

46 
şass
 
	gFeChoo£r
;

47 
şass
 
	gFlßtReù
;

48 
şass
 
	gF¿me
;

49 
şass
 
	gGeŞoÿtiÚ
;

50 
şass
 
	gHTMLP¬£rQuœks
;

51 
şass
 
	gH™Te¡ResuÉ
;

52 
şass
 
	gIÁReù
;

53 
şass
 
	gNode
;

54 
şass
 
	gPage
;

55 
şass
 
	gSŒšg
;

56 
şass
 
	gWidg‘
;

58 
	gF¿meLßdReque¡
;

59 
	gWšdowF—tu»s
;

61 #ià
USE
(
ACCELERATED_COMPOSITING
)

62 
şass
 
	gG¿phicsLay”
;

65 #ià
ENABLE
(
NOTIFICATIONS
)

66 
şass
 
	gNÙifiÿtiÚP»£Á”
;

69 şas 
	cChromeCl›Á
 {

70 
	gpublic
:

71 
vœtu®
 
chromeDe¡royed
() = 0;

73 
vœtu®
 
£tWšdowReù
(cÚ¡ 
FlßtReù
&) = 0;

74 
vœtu®
 
FlßtReù
 
wšdowReù
() = 0;

76 
vœtu®
 
FlßtReù
 
·geReù
() = 0;

78 
vœtu®
 
sÿËFaùÜ
() = 0;

80 
vœtu®
 
focus
() = 0;

81 
vœtu®
 
unfocus
() = 0;

83 
vœtu®
 
boŞ
 
ÿnTakeFocus
(
FocusDœeùiÚ
) = 0;

84 
vœtu®
 
keFocus
(
FocusDœeùiÚ
) = 0;

86 
vœtu®
 
focu£dNodeChªged
(
Node
*) = 0;

92 
vœtu®
 
Page
* 
ü—‹Wšdow
(
F¿me
*, cÚ¡ 
F¿meLßdReque¡
&, cÚ¡ 
WšdowF—tu»s
&) = 0;

93 
vœtu®
 
show
() = 0;

95 
vœtu®
 
boŞ
 
ÿnRunMod®
() = 0;

96 
vœtu®
 
runMod®
() = 0;

98 
vœtu®
 
£tToŞb¬sVisibË
(
boŞ
) = 0;

99 
vœtu®
 
boŞ
 
toŞb¬sVisibË
() = 0;

101 
vœtu®
 
£tStusb¬VisibË
(
boŞ
) = 0;

102 
vœtu®
 
boŞ
 
¡©usb¬VisibË
() = 0;

104 
vœtu®
 
£tSüŞlb¬sVisibË
(
boŞ
) = 0;

105 
vœtu®
 
boŞ
 
süŞlb¬sVisibË
() = 0;

107 
vœtu®
 
£tM’ub¬VisibË
(
boŞ
) = 0;

108 
vœtu®
 
boŞ
 
m’ub¬VisibË
() = 0;

110 
vœtu®
 
£tResizabË
(
boŞ
) = 0;

112 
vœtu®
 
addMes§geToCÚsŞe
(
Mes§geSourû
, 
Mes§geTy³
, 
Mes§geLev–
, cÚ¡ 
SŒšg
& 
mes§ge
, 
lšeNumb”
, cÚ¡ SŒšg& 
sourûID
) = 0;

114 
vœtu®
 
boŞ
 
ÿnRunBefÜeUÆßdCÚfœmPª–
() = 0;

115 
vœtu®
 
boŞ
 
runBefÜeUÆßdCÚfœmPª–
(cÚ¡ 
SŒšg
& 
mes§ge
, 
F¿me
* 
äame
) = 0;

117 
vœtu®
 
şo£WšdowSoÚ
() = 0;

119 
vœtu®
 
runJavaSütAË¹
(
F¿me
*, cÚ¡ 
SŒšg
&) = 0;

120 
vœtu®
 
boŞ
 
runJavaSütCÚfœm
(
F¿me
*, cÚ¡ 
SŒšg
&) = 0;

121 
vœtu®
 
boŞ
 
runJavaSütProm±
(
F¿me
*, cÚ¡ 
SŒšg
& 
mes§ge
, cÚ¡ SŒšg& 
deçuÉV®ue
, SŒšg& 
»suÉ
) = 0;

122 
vœtu®
 
£tStusb¬Text
(cÚ¡ 
SŒšg
&) = 0;

123 
vœtu®
 
boŞ
 
shouldIÁ”ru±JavaSüt
() = 0;

124 
vœtu®
 
boŞ
 
bsToLšks
() const = 0;

126 
vœtu®
 
»gi¡”PrÙocŞHªdËr
(cÚ¡ 
SŒšg
&, const String&, const String&, const String&) { }

127 
vœtu®
 
»gi¡”CÚ‹ÁHªdËr
(cÚ¡ 
SŒšg
&, const String&, const String&, const String&) { }

129 
vœtu®
 
IÁReù
 
wšdowResiz”Reù
() const = 0;

132 
vœtu®
 
šv®id©eWšdow
(cÚ¡ 
IÁReù
&, 
boŞ
) = 0;

133 
vœtu®
 
šv®id©eCÚ‹ÁsAndWšdow
(cÚ¡ 
IÁReù
&, 
boŞ
) = 0;

134 
vœtu®
 
šv®id©eCÚ‹ÁsFÜSlowSüŞl
(cÚ¡ 
IÁReù
&, 
boŞ
) = 0;

135 
vœtu®
 
süŞl
(cÚ¡ 
IÁSize
&, cÚ¡ 
IÁReù
&, const IntRect&) = 0;

136 
vœtu®
 
IÁPošt
 
sü“nToWšdow
(const IntPoint&) const = 0;

137 
vœtu®
 
IÁReù
 
wšdowToSü“n
(const IntRect&) const = 0;

138 
vœtu®
 
PÏtfÜmPageCl›Á
 
¶©fÜmPageCl›Á
() const = 0;

139 
vœtu®
 
cÚ‹ÁsSizeChªged
(
F¿me
*, cÚ¡ 
IÁSize
&) const = 0;

140 
vœtu®
 
süŞlReùIÁoV›w
(cÚ¡ 
IÁReù
&, cÚ¡ 
SüŞlV›w
*) const = 0;

143 
vœtu®
 
süŞlb¬sModeDidChªge
() const = 0;

144 
vœtu®
 
mou£DidMoveOv”EËm’t
(cÚ¡ 
H™Te¡ResuÉ
&, 
modif›rFÏgs
) = 0;

146 
vœtu®
 
£tToŞT
(cÚ¡ 
SŒšg
&, 
TextDœeùiÚ
) = 0;

148 
vœtu®
 
´št
(
F¿me
*) = 0;

150 #ià
ENABLE
(
DATABASE
)

151 
vœtu®
 
exûededD©aba£QuÙa
(
F¿me
*, cÚ¡ 
SŒšg
& 
d©aba£Name
) = 0;

154 #ià
ENABLE
(
OFFLINE_WEB_APPLICATIONS
)

160 
vœtu®
 
»achedMaxAµCacheSize
(
št64_t
 
¥aûN“ded
) = 0;

163 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

164 
vœtu®
 
dashbßrdRegiÚsChªged
();

167 #ià
ENABLE
(
NOTIFICATIONS
)

168 
vœtu®
 
NÙifiÿtiÚP»£Á”
* 
nÙifiÿtiÚP»£Á”
() const = 0;

171 
vœtu®
 
pİuÏ‹Vis™edLšks
();

173 
vœtu®
 
FlßtReù
 
cu¡omHighlightReù
(
Node
*, cÚ¡ 
AtomicSŒšg
& 
ty³
, cÚ¡ FlßtReù& 
lšeReù
);

174 
vœtu®
 
·štCu¡omHighlight
(
Node
*, cÚ¡ 
AtomicSŒšg
& 
ty³
, cÚ¡ 
FlßtReù
& 
boxReù
, cÚ¡ FlßtReù& 
lšeReù
,

175 
boŞ
 
behšdText
, boŞ 
’tœeLše
);

177 
vœtu®
 
boŞ
 
shouldR•ÏûW™hG’”©edFeFÜU¶ßd
(cÚ¡ 
SŒšg
& 
·th
, SŒšg& 
g’”©edF’ame
);

178 
vœtu®
 
SŒšg
 
g’”©eR•Ïûm’tFe
(cÚ¡ SŒšg& 
·th
);

180 
vœtu®
 
boŞ
 
·štCu¡omSüŞlb¬
(
G¿phicsCÚ‹xt
*, cÚ¡ 
FlßtReù
&, 
SüŞlb¬CÚŒŞSize
,

181 
SüŞlb¬CÚŒŞS‹
, 
SüŞlb¬P¬t
 
´es£dP¬t
, 
boŞ
 
v”tiÿl
,

182 
v®ue
, 
´İÜtiÚ
, 
SüŞlb¬CÚŒŞP¬tMask
);

183 
vœtu®
 
boŞ
 
·štCu¡omSüŞlCÜÃr
(
G¿phicsCÚ‹xt
*, cÚ¡ 
FlßtReù
&);

187 
vœtu®
 
»que¡GeŞoÿtiÚP”missiÚFÜF¿me
(
F¿me
*, 
GeŞoÿtiÚ
*) = 0;

188 
vœtu®
 
ÿnûlGeŞoÿtiÚP”missiÚReque¡FÜF¿me
(
F¿me
*, 
GeŞoÿtiÚ
*) = 0;

190 
vœtu®
 
runO³nPª–
(
F¿me
*, 
PassRefPŒ
<
FeChoo£r
>) = 0;

192 
vœtu®
 
choo£IcÚFÜFes
(cÚ¡ 
VeùÜ
<
SŒšg
>&, 
PassRefPŒ
<
FeChoo£r
>) = 0;

194 
vœtu®
 
boŞ
 
£tCursÜ
(
PÏtfÜmCursÜHªdË
) = 0;

198 
vœtu®
 
fÜmS‹DidChªge
(cÚ¡ 
Node
*) = 0;

200 
vœtu®
 
fÜmDidFocus
(cÚ¡ 
Node
*) { };

201 
vœtu®
 
fÜmDidBlur
(cÚ¡ 
Node
*) { };

203 
vœtu®
 
	gPassOwnPŒ
<
	gHTMLP¬£rQuœks
> 
ü—‹HTMLP¬£rQuœks
() = 0;

205 #ià
USE
(
ACCELERATED_COMPOSITING
)

207 
vœtu®
 
©chRoÙG¿phicsLay”
(
F¿me
*, 
G¿phicsLay”
*) = 0;

210 
vœtu®
 
£tN“dsOÃShÙD¿wšgSynchrÚiz©iÚ
() = 0;

213 
vœtu®
 
scheduËCompos™šgLay”Sync
() = 0;

216 
vœtu®
 
boŞ
 
suµÜtsFuÎsü“nFÜNode
(cÚ¡ 
Node
*è{  
	gçl£
; }

217 
vœtu®
 
’‹rFuÎsü“nFÜNode
(
Node
*) { }

218 
vœtu®
 
ex™FuÎsü“nFÜNode
(
Node
*) { }

220 #ià
PLATFORM
(
MAC
)

221 
vœtu®
 
KeybßrdUIMode
 
keybßrdUIMode
(è{  
	gKeybßrdAcûssDeçuÉ
; }

223 
vœtu®
 
NSRe¥Úd”
 *
fœ¡Re¥Úd”
() {  0; }

224 
vœtu®
 
makeFœ¡Re¥Úd”
(
NSRe¥Úd”
 *) { }

226 
vœtu®
 
wlPİUpM’u
(
NSM’u
 *) { }

229 #ià
ENABLE
(
TOUCH_EVENTS
)

230 
vœtu®
 
ÃedTouchEv’ts
(
boŞ
) = 0;

233 #ià
ENABLE
(
WIDGETS_10_SUPPORT
)

234 
vœtu®
 
boŞ
 
isDocked
(è{  
	gçl£
; }

235 
vœtu®
 
boŞ
 
isFlßtšg
(è{  
	gçl£
; }

236 
vœtu®
 
boŞ
 
isAµliÿtiÚ
(è{  
	gçl£
; }

237 
vœtu®
 
boŞ
 
isFuÎsü“n
(è{  
	gçl£
; }

240 
	g´Ùeùed
:

241 
vœtu®
 ~
ChromeCl›Á
() { }

	@Console.cpp

29 
	~"cÚfig.h
"

30 
	~"CÚsŞe.h
"

32 
	~"Chrome.h
"

33 
	~"ChromeCl›Á.h
"

34 
	~"CÚsŞeMes§ge.h
"

35 
	~"F¿me.h
"

36 
	~"F¿meLßd”.h
"

37 
	~"F¿meT»e.h
"

38 
	~"In¥eùÜCÚŒŞËr.h
"

39 
	~"Page.h
"

40 
	~"PageGroup.h
"

41 
	~"PÏtfÜmSŒšg.h
"

43 
	~"SütC®lSck.h
"

44 
	~"SütProfe.h
"

45 
	~"SütProf”.h
"

46 
	~<¡dio.h
>

47 
	~<wtf/‹xt/CSŒšg.h
>

48 
	~<wtf/Unu£dP¬am.h
>

50 
Çme¥aû
 
	gWebCÜe
 {

52 
	gCÚsŞe
::
CÚsŞe
(
F¿me
* 
äame
)

53 : 
m_äame
(
äame
)

57 
F¿me
* 
CÚsŞe
::
äame
() const

59  
m_äame
;

62 
	gCÚsŞe
::
discÚÃùF¿me
()

64 
m_äame
 = 0;

67 
´štSourûURLAndLše
(cÚ¡ 
SŒšg
& 
sourûURL
, 
lšeNumb”
)

69 ià(!
	gsourûURL
.
isEm±y
()) {

70 ià(
	glšeNumb”
 > 0)

71 
´štf
("%s:%d: ", 
sourûURL
.
utf8
().
d©a
(), 
lšeNumb”
);

73 
´štf
("%s: ", 
sourûURL
.
utf8
().
d©a
());

77 
boŞ
 
g‘Fœ¡Argum’tAsSŒšg
(
SütS‹
* 
sütS‹
, cÚ¡ 
SütC®lF¿me
& 
ÿÎF¿me
, 
SŒšg
& 
»suÉ
, boŞ 
checkFÜNuÎOrUndefšed
 = 
çl£
)

79 ià(!
ÿÎF¿me
.
¬gum’tCouÁ
())

80  
çl£
;

82 cÚ¡ 
	gSütV®ue
& 
	gv®ue
 = 
ÿÎF¿me
.
¬gum’tAt
(0);

83 ià(
	gcheckFÜNuÎOrUndefšed
 && (
	gv®ue
.
isNuÎ
(è|| v®ue.
isUndefšed
()))

84  
	gçl£
;

86 
	g»suÉ
 = 
v®ue
.
toSŒšg
(
sütS‹
);

87  
	gŒue
;

90 
´štMes§geSourûAndLev–P»fix
(
Mes§geSourû
 
sourû
, 
Mes§geLev–
 
Ëv–
)

92 cÚ¡ * 
	gsourûSŒšg
;

93 
	gsourû
) {

94 
	gHTMLMes§geSourû
:

95 
sourûSŒšg
 = "HTML";

97 
	gWMLMes§geSourû
:

98 
sourûSŒšg
 = "WML";

100 
	gXMLMes§geSourû
:

101 
sourûSŒšg
 = "XML";

103 
	gJSMes§geSourû
:

104 
sourûSŒšg
 = "JS";

106 
	gCSSMes§geSourû
:

107 
sourûSŒšg
 = "CSS";

109 
	gOth”Mes§geSourû
:

110 
sourûSŒšg
 = "OTHER";

113 
ASSERT_NOT_REACHED
();

114 
	gsourûSŒšg
 = "UNKNOWN";

118 cÚ¡ * 
	gËv–SŒšg
;

119 
	gËv–
) {

120 
	gTMes§geLev–
:

121 
Ëv–SŒšg
 = "TIP";

123 
	gLogMes§geLev–
:

124 
Ëv–SŒšg
 = "LOG";

126 
	gW¬nšgMes§geLev–
:

127 
Ëv–SŒšg
 = "WARN";

129 
	gE¼ÜMes§geLev–
:

130 
Ëv–SŒšg
 = "ERROR";

132 
	gDebugMes§geLev–
:

133 
Ëv–SŒšg
 = "DEBUG";

136 
ASSERT_NOT_REACHED
();

137 
	gËv–SŒšg
 = "UNKNOWN";

141 
´štf
("% %s:", 
sourûSŒšg
, 
Ëv–SŒšg
);

144 
	gCÚsŞe
::
addMes§ge
(
Mes§geSourû
 
sourû
, 
Mes§geTy³
 
ty³
, 
Mes§geLev–
 
Ëv–
, cÚ¡ 
SŒšg
& 
mes§ge
, 
lšeNumb”
, cÚ¡ SŒšg& 
sourûURL
)

146 
Page
* 
	g·ge
 = 
this
->
·ge
();

147 ià(!
	g·ge
)

150 ià(
	gsourû
 =ğ
JSMes§geSourû
)

151 
·ge
->
chrome
()->
ş›Á
()->
addMes§geToCÚsŞe
(
sourû
, 
ty³
, 
Ëv–
, 
mes§ge
, 
lšeNumb”
, 
sourûURL
);

153 #ià
ENABLE
(
INSPECTOR
)

154 
	g·ge
->
š¥eùÜCÚŒŞËr
()->
addMes§geToCÚsŞe
(
sourû
, 
ty³
, 
Ëv–
, 
mes§ge
, 
lšeNumb”
, 
sourûURL
);

157 ià(!
	gCÚsŞe
::
shouldPrštExû±iÚs
())

160 
´štSourûURLAndLše
(
sourûURL
, 
lšeNumb”
);

161 
´štMes§geSourûAndLev–P»fix
(
sourû
, 
Ëv–
);

163 
´štf
(" %s\n", 
mes§ge
.
utf8
().
d©a
());

166 
	gCÚsŞe
::
addMes§ge
(
Mes§geTy³
 
ty³
, 
Mes§geLev–
 
Ëv–
, 
SütC®lSck
* 
ÿÎSck
, 
boŞ
 
acû±NoArgum’ts
)

168 
Page
* 
	g·ge
 = 
this
->
·ge
();

169 ià(!
	g·ge
)

172 cÚ¡ 
	gSütC®lF¿me
& 
	gÏ¡C®Ër
 = 
ÿÎSck
->
©
(0);

174 ià(!
	gacû±NoArgum’ts
 && !
	gÏ¡C®Ër
.
¬gum’tCouÁ
())

177 
SŒšg
 
	gmes§ge
;

178 ià(
g‘Fœ¡Argum’tAsSŒšg
(
ÿÎSck
->
¡©e
(), 
Ï¡C®Ër
, 
mes§ge
))

179 
	g·ge
->
chrome
()->
ş›Á
()->
addMes§geToCÚsŞe
(
JSMes§geSourû
, 
ty³
, 
Ëv–
, 
mes§ge
, 
Ï¡C®Ër
.
lšeNumb”
(),†a¡C®Ër.
sourûURL
().
´‘tyURL
());

181 #ià
ENABLE
(
INSPECTOR
)

182 
	g·ge
->
š¥eùÜCÚŒŞËr
()->
addMes§geToCÚsŞe
(
JSMes§geSourû
, 
ty³
, 
Ëv–
, 
ÿÎSck
);

185 ià(!
	gCÚsŞe
::
shouldPrštExû±iÚs
())

188 
´štSourûURLAndLše
(
Ï¡C®Ër
.
sourûURL
().
´‘tyURL
(), 0);

189 
´štMes§geSourûAndLev–P»fix
(
JSMes§geSourû
, 
Ëv–
);

191 
	gi
 = 0; i < 
	gÏ¡C®Ër
.
¬gum’tCouÁ
(); ++i) {

192 
SŒšg
 
	g¬gAsSŒšg
;

193 ià(
	gÏ¡C®Ër
.
¬gum’tAt
(
i
).
g‘SŒšg
(
ÿÎSck
->
¡©e
(), 
¬gAsSŒšg
))

194 
´štf
(" %s", 
¬gAsSŒšg
.
utf8
().
d©a
());

196 
´štf
("\n");

199 
	gCÚsŞe
::
debug
(
SütC®lSck
* 
ÿÎSck
)

202 
log
(
ÿÎSck
);

205 
	gCÚsŞe
::
”rÜ
(
SütC®lSck
* 
ÿÎSck
)

207 
addMes§ge
(
LogMes§geTy³
, 
E¼ÜMes§geLev–
, 
ÿÎSck
);

210 
	gCÚsŞe
::
šfo
(
SütC®lSck
* 
ÿÎSck
)

212 
log
(
ÿÎSck
);

215 
	gCÚsŞe
::
log
(
SütC®lSck
* 
ÿÎSck
)

217 
addMes§ge
(
LogMes§geTy³
, 
LogMes§geLev–
, 
ÿÎSck
);

220 
	gCÚsŞe
::
dœ
(
SütC®lSck
* 
ÿÎSck
)

222 
addMes§ge
(
ObjeùMes§geTy³
, 
LogMes§geLev–
, 
ÿÎSck
);

225 
	gCÚsŞe
::
dœxml
(
SütC®lSck
* 
ÿÎSck
)

228 
log
(
ÿÎSck
);

231 
	gCÚsŞe
::
Œaû
(
SütC®lSck
* 
ÿÎSck
)

233 
addMes§ge
(
T¿ûMes§geTy³
, 
LogMes§geLev–
, 
ÿÎSck
, 
Œue
);

235 ià(!
shouldPrštExû±iÚs
())

238 
´štf
("Stack Trace\n");

239 
	gi
 = 0; i < 
	gÿÎSck
->
size
(); ++i) {

240 
SŒšg
 
	gfunùiÚName
 = SŒšg(
ÿÎSck
->
©
(
i
).
funùiÚName
());

241 
´štf
("\t%s\n", 
funùiÚName
.
utf8
().
d©a
());

245 
	gCÚsŞe
::
as£¹CÚd™iÚ
(
boŞ
 
cÚd™iÚ
, 
SütC®lSck
* 
ÿÎSck
)

247 ià(
	gcÚd™iÚ
)

250 
addMes§ge
(
As£¹Mes§geTy³
, 
E¼ÜMes§geLev–
, 
ÿÎSck
, 
Œue
);

253 
	gCÚsŞe
::
couÁ
(
SütC®lSck
* 
ÿÎSck
)

255 #ià
ENABLE
(
INSPECTOR
)

256 
Page
* 
·ge
 = 
this
->page();

257 ià(!
	g·ge
)

260 cÚ¡ 
	gSütC®lF¿me
& 
	gÏ¡C®Ër
 = 
ÿÎSck
->
©
(0);

263 
SŒšg
 
	gt™Ë
;

264 
g‘Fœ¡Argum’tAsSŒšg
(
ÿÎSck
->
¡©e
(), 
Ï¡C®Ër
, 
t™Ë
);

266 
	g·ge
->
š¥eùÜCÚŒŞËr
()->
couÁ
(
t™Ë
, 
Ï¡C®Ër
.
lšeNumb”
(),†a¡C®Ër.
sourûURL
().
¡ršg
());

268 
UNUSED_PARAM
(
ÿÎSck
);

272 
	gCÚsŞe
::
m¬kTim–še
(
SütC®lSck
* 
ÿÎSck
)

274 #ià
ENABLE
(
INSPECTOR
)

275 
Page
* 
·ge
 = 
this
->page();

276 ià(!
	g·ge
)

279 cÚ¡ 
	gSütC®lF¿me
& 
	gÏ¡C®Ër
 = 
ÿÎSck
->
©
(0);

280 
SŒšg
 
	gmes§ge
;

281 
g‘Fœ¡Argum’tAsSŒšg
(
ÿÎSck
->
¡©e
(), 
Ï¡C®Ër
, 
mes§ge
);

283 
	g·ge
->
š¥eùÜCÚŒŞËr
()->
m¬kTim–še
(
mes§ge
);

285 
UNUSED_PARAM
(
ÿÎSck
);

289 #ià
ENABLE
(
WML
)

290 
SŒšg
 
	gCÚsŞe
::
Ï¡WMLE¼ÜMes§ge
() const

292 
Page
* 
·ge
 = 
this
->page();

293 ià(!
	g·ge
)

294  
SŒšg
();

296 cÚ¡ 
	gVeùÜ
<
	gCÚsŞeMes§ge
*>& 
	gcÚsŞeMes§ges
 = 
·ge
->
š¥eùÜCÚŒŞËr
()->
cÚsŞeMes§ges
();

297 ià(
	gcÚsŞeMes§ges
.
isEm±y
())

298  
SŒšg
();

300 
	gVeùÜ
<
	gCÚsŞeMes§ge
*>::
cÚ¡_™”©Ü
 
™
 = 
cÚsŞeMes§ges
.
begš
();

301 cÚ¡ 
	gVeùÜ
<
	gCÚsŞeMes§ge
*>::
cÚ¡_™”©Ü
 
’d
 = 
cÚsŞeMes§ges
.end();

303 ; 
	g™
 !ğ
’d
; ++it) {

304 
CÚsŞeMes§ge
* 
	gmes§ge
 = *
™
;

305 ià(
	gmes§ge
->
sourû
(è!ğ
WMLMes§geSourû
)

308  
	gmes§ge
->
mes§ge
();

311  
SŒšg
();

315 #ià
ENABLE
(
JAVASCRIPT_DEBUGGER
)

317 
	gCÚsŞe
::
´ofe
(cÚ¡ 
SŒšg
& 
t™Ë
, 
SütC®lSck
* 
ÿÎSck
)

319 
Page
* 
	g·ge
 = 
this
->
·ge
();

320 ià(!
	g·ge
)

323 #ià
ENABLE
(
INSPECTOR
)

324 
In¥eùÜCÚŒŞËr
* 
	gcÚŒŞËr
 = 
·ge
->
š¥eùÜCÚŒŞËr
();

326 ià(!
	gcÚŒŞËr
->
´of”EÇbËd
())

330 
SŒšg
 
	g»sŞvedT™Ë
 = 
t™Ë
;

331 ià(
	gt™Ë
.
isNuÎ
())

332 #ià
ENABLE
(
INSPECTOR
)

333 
	g»sŞvedT™Ë
 = 
cÚŒŞËr
->
g‘Cu¼’tU£rIn™Ÿ‹dProfeName
(
Œue
);

335 
	g»sŞvedT™Ë
 = "";

338 
	gSütProf”
::
¡¬t
(
ÿÎSck
->
¡©e
(), 
»sŞvedT™Ë
);

340 #ià
ENABLE
(
INSPECTOR
)

341 cÚ¡ 
	gSütC®lF¿me
& 
	gÏ¡C®Ër
 = 
ÿÎSck
->
©
(0);

342 
	gcÚŒŞËr
->
addS¹ProfšgMes§geToCÚsŞe
(
»sŞvedT™Ë
, 
Ï¡C®Ër
.
lšeNumb”
(),†a¡C®Ër.
sourûURL
());

346 
	gCÚsŞe
::
´ofeEnd
(cÚ¡ 
SŒšg
& 
t™Ë
, 
SütC®lSck
* 
ÿÎSck
)

348 
Page
* 
	g·ge
 = 
this
->
·ge
();

349 ià(!
	g·ge
)

352 #ià
ENABLE
(
INSPECTOR
)

353 
In¥eùÜCÚŒŞËr
* 
	gcÚŒŞËr
 = 
·ge
->
š¥eùÜCÚŒŞËr
();

354 ià(!
	gcÚŒŞËr
->
´of”EÇbËd
())

358 
	gRefPŒ
<
	gSütProfe
> 
	g´ofe
 = 
SütProf”
::
¡İ
(
ÿÎSck
->
¡©e
(), 
t™Ë
);

359 ià(!
	g´ofe
)

362 
	gm_´ofes
.
­³nd
(
´ofe
);

364 #ià
ENABLE
(
INSPECTOR
)

365 cÚ¡ 
	gSütC®lF¿me
& 
	gÏ¡C®Ër
 = 
ÿÎSck
->
©
(0);

366 
	gcÚŒŞËr
->
addProfe
(
´ofe
, 
Ï¡C®Ër
.
lšeNumb”
(),†a¡C®Ër.
sourûURL
());

372 
	gCÚsŞe
::
time
(cÚ¡ 
SŒšg
& 
t™Ë
)

374 #ià
ENABLE
(
INSPECTOR
)

375 
Page
* 
·ge
 = 
this
->page();

376 ià(!
	g·ge
)

381 ià(
	gt™Ë
.
isNuÎ
())

384 
	g·ge
->
š¥eùÜCÚŒŞËr
()->
¡¬tTimšg
(
t™Ë
);

386 
UNUSED_PARAM
(
t™Ë
);

390 
	gCÚsŞe
::
timeEnd
(cÚ¡ 
SŒšg
& 
t™Ë
, 
SütC®lSck
* 
ÿÎSck
)

392 #ià
ENABLE
(
INSPECTOR
)

393 
Page
* 
	g·ge
 = 
this
->
·ge
();

394 ià(!
	g·ge
)

399 ià(
	gt™Ë
.
isNuÎ
())

402 
	g–­£d
;

403 ià(!
	g·ge
->
š¥eùÜCÚŒŞËr
()->
¡İTimšg
(
t™Ë
, 
–­£d
))

406 
SŒšg
 
	gmes§ge
 = 
t™Ë
 + SŒšg::
fÜm©
(": %.0fms", 
–­£d
);

408 cÚ¡ 
	gSütC®lF¿me
& 
	gÏ¡C®Ër
 = 
ÿÎSck
->
©
(0);

409 
	g·ge
->
š¥eùÜCÚŒŞËr
()->
addMes§geToCÚsŞe
(
JSMes§geSourû
, 
LogMes§geTy³
, 
LogMes§geLev–
, 
mes§ge
, 
Ï¡C®Ër
.
lšeNumb”
(),†a¡C®Ër.
sourûURL
().
¡ršg
());

411 
UNUSED_PARAM
(
t™Ë
);

412 
UNUSED_PARAM
(
ÿÎSck
);

416 
	gCÚsŞe
::
group
(
SütC®lSck
* 
ÿÎSck
)

418 #ià
ENABLE
(
INSPECTOR
)

419 
Page
* 
·ge
 = 
this
->page();

420 ià(!
	g·ge
)

423 
	g·ge
->
š¥eùÜCÚŒŞËr
()->
¡¬tGroup
(
JSMes§geSourû
, 
ÿÎSck
);

425 
UNUSED_PARAM
(
ÿÎSck
);

429 
	gCÚsŞe
::
groupEnd
()

431 #ià
ENABLE
(
INSPECTOR
)

432 
Page
* 
·ge
 = 
this
->page();

433 ià(!
	g·ge
)

436 
	g·ge
->
š¥eùÜCÚŒŞËr
()->
’dGroup
(
JSMes§geSourû
, 0, 
SŒšg
());

440 
	gCÚsŞe
::
w¬n
(
SütC®lSck
* 
ÿÎSck
)

442 
addMes§ge
(
LogMes§geTy³
, 
W¬nšgMes§geLev–
, 
ÿÎSck
);

445 
boŞ
 
	g´štExû±iÚs
 = 
çl£
;

447 
boŞ
 
	gCÚsŞe
::
shouldPrštExû±iÚs
()

449  
´štExû±iÚs
;

452 
	gCÚsŞe
::
£tShouldPrštExû±iÚs
(
boŞ
 
´št
)

454 
´štExû±iÚs
 = 
´št
;

457 
Page
* 
	gCÚsŞe
::
·ge
() const

459 ià(!
m_äame
)

461  
	gm_äame
->
·ge
();

	@Console.h

29 #iâdeà
CÚsŞe_h


30 
	#CÚsŞe_h


	)

32 
	~"PÏtfÜmSŒšg.h
"

34 
	~"SütProfe.h
"

36 
	~<wtf/PassRefPŒ.h
>

37 
	~<wtf/RefCouÁed.h
>

39 
Çme¥aû
 
	gWebCÜe
 {

41 #ià
ENABLE
(
JAVASCRIPT_DEBUGGER
)

42 
	gVeùÜ
<
	tRefPŒ
<
	tSütProfe
> > 
	tProfesA¼ay
;

45 
şass
 
	gF¿me
;

46 
şass
 
	gPage
;

47 
şass
 
	gSŒšg
;

48 
şass
 
	gSütC®lSck
;

51 
	eMes§geSourû
 {

52 
	gHTMLMes§geSourû
,

53 
	gWMLMes§geSourû
,

54 
	gXMLMes§geSourû
,

55 
	gJSMes§geSourû
,

56 
	gCSSMes§geSourû
,

57 
	gOth”Mes§geSourû


60 
	eMes§geTy³
 {

61 
	gLogMes§geTy³
,

62 
	gObjeùMes§geTy³
,

63 
	gT¿ûMes§geTy³
,

64 
	gS¹GroupMes§geTy³
,

65 
	gEndGroupMes§geTy³
,

66 
	gAs£¹Mes§geTy³


69 
	eMes§geLev–
 {

70 
	gTMes§geLev–
,

71 
	gLogMes§geLev–
,

72 
	gW¬nšgMes§geLev–
,

73 
	gE¼ÜMes§geLev–
,

74 
	gDebugMes§geLev–


77 
şass
 
	gCÚsŞe
 : 
public
 
RefCouÁed
<
CÚsŞe
> {

78 
public
:

79 
PassRefPŒ
<
CÚsŞe
> 
ü—‹
(
F¿me
* 
äame
è{  
adİtRef
(
Ãw
 Console(frame)); }

81 
F¿me
* 
äame
() const;

82 
discÚÃùF¿me
();

84 
addMes§ge
(
Mes§geSourû
, 
Mes§geTy³
, 
Mes§geLev–
, cÚ¡ 
SŒšg
& 
mes§ge
, 
lšeNumb”
, cÚ¡ SŒšg& 
sourûURL
);

86 
debug
(
SütC®lSck
*);

87 
”rÜ
(
SütC®lSck
*);

88 
šfo
(
SütC®lSck
*);

89 
log
(
SütC®lSck
*);

90 
w¬n
(
SütC®lSck
*);

91 
dœ
(
SütC®lSck
*);

92 
dœxml
(
SütC®lSck
*);

93 
Œaû
(
SütC®lSck
*);

94 
as£¹CÚd™iÚ
(
boŞ
 
cÚd™iÚ
, 
SütC®lSck
*);

95 
couÁ
(
SütC®lSck
*);

96 
m¬kTim–še
(
SütC®lSck
*);

97 #ià
ENABLE
(
WML
)

98 
SŒšg
 
Ï¡WMLE¼ÜMes§ge
() const;

100 #ià
ENABLE
(
JAVASCRIPT_DEBUGGER
)

101 
´ofe
(cÚ¡ 
SŒšg
&, 
SütC®lSck
*);

102 
´ofeEnd
(cÚ¡ 
SŒšg
&, 
SütC®lSck
*);

104 
time
(cÚ¡ 
SŒšg
&);

105 
timeEnd
(cÚ¡ 
SŒšg
&, 
SütC®lSck
*);

106 
group
(
SütC®lSck
*);

107 
groupEnd
();

109 
boŞ
 
shouldPrštExû±iÚs
();

110 
£tShouldPrštExû±iÚs
(
boŞ
);

112 #ià
ENABLE
(
JAVASCRIPT_DEBUGGER
)

113 cÚ¡ 
	gProfesA¼ay
& 
´ofes
(ècÚ¡ {  
	gm_´ofes
; }

116 
	g´iv©e
:

117 
šlše
 
Page
* 
·ge
() const;

118 
addMes§ge
(
Mes§geTy³
, 
Mes§geLev–
, 
SütC®lSck
*, 
boŞ
 
acû±NoArgum’ts
 = 
çl£
);

120 
CÚsŞe
(
F¿me
*);

122 
F¿me
* 
	gm_äame
;

123 #ià
ENABLE
(
JAVASCRIPT_DEBUGGER
)

124 
ProfesA¼ay
 
	gm_´ofes
;

	@ContextMenuClient.h

26 #iâdeà
CÚ‹xtM’uCl›Á_h


27 
	#CÚ‹xtM’uCl›Á_h


	)

29 
	~"PÏtfÜmM’uDesütiÚ.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

32 
şass
 
	gCÚ‹xtM’u
;

33 
şass
 
	gCÚ‹xtM’uI‹m
;

34 
şass
 
	gF¿me
;

35 
şass
 
	gH™Te¡ResuÉ
;

36 
şass
 
	gKURL
;

37 
şass
 
	gSŒšg
;

39 şas 
	cCÚ‹xtM’uCl›Á
 {

40 
	gpublic
:

41 
vœtu®
 ~
CÚ‹xtM’uCl›Á
() { }

42 
vœtu®
 
cÚ‹xtM’uDe¡royed
() = 0;

44 
vœtu®
 
PÏtfÜmM’uDesütiÚ
 
g‘Cu¡omM’uFromDeçuÉI‹ms
(
CÚ‹xtM’u
*) = 0;

45 
vœtu®
 
cÚ‹xtM’uI‹mS–eùed
(
CÚ‹xtM’uI‹m
*, cÚ¡ 
CÚ‹xtM’u
*) = 0;

47 
vœtu®
 
dowÆßdURL
(cÚ¡ 
KURL
& 
u¾
) = 0;

48 
vœtu®
 
£¬chW™hGoogË
(cÚ¡ 
F¿me
*) = 0;

49 
vœtu®
 
lookUpInDiùiÚ¬y
(
F¿me
*) = 0;

50 
vœtu®
 
boŞ
 
isS³akšg
() = 0;

51 
vœtu®
 
¥—k
(cÚ¡ 
SŒšg
&) = 0;

52 
vœtu®
 
¡İS³akšg
() = 0;

54 #ià
PLATFORM
(
MAC
)

55 
vœtu®
 
£¬chW™hSpÙlight
() = 0;

	@ContextMenuController.cpp

26 
	~"cÚfig.h
"

27 
	~"CÚ‹xtM’uCÚŒŞËr.h
"

29 #ià
ENABLE
(
CONTEXT_MENUS
)

31 
	~"Chrome.h
"

32 
	~"CÚ‹xtM’u.h
"

33 
	~"CÚ‹xtM’uCl›Á.h
"

34 
	~"CÚ‹xtM’uProvid”.h
"

35 
	~"Docum’t.h
"

36 
	~"Docum’tF¿gm’t.h
"

37 
	~"Docum’tLßd”.h
"

38 
	~"Ed™Ü.h
"

39 
	~"Ed™ÜCl›Á.h
"

40 
	~"Ev’t.h
"

41 
	~"Ev’tHªdËr.h
"

42 
	~"Ev’tNames.h
"

43 
	~"FÜmS‹.h
"

44 
	~"F¿me.h
"

45 
	~"F¿meLßdReque¡.h
"

46 
	~"F¿meLßd”.h
"

47 
	~"HTMLFÜmEËm’t.h
"

48 
	~"H™Te¡Reque¡.h
"

49 
	~"H™Te¡ResuÉ.h
"

50 
	~"In¥eùÜCÚŒŞËr.h
"

51 
	~"Mou£Ev’t.h
"

52 
	~"Node.h
"

53 
	~"Page.h
"

54 
	~"R’d”Lay”.h
"

55 
	~"R’d”Objeù.h
"

56 
	~"R•ÏûS–eùiÚCommªd.h
"

57 
	~"ResourûReque¡.h
"

58 
	~"S–eùiÚCÚŒŞËr.h
"

59 
	~"S‘tšgs.h
"

60 
	~"TextI‹¿tÜ.h
"

61 
	~"WšdowF—tu»s.h
"

62 
	~"m¬kup.h
"

64 
Çme¥aû
 
	gWebCÜe
 {

66 
	gCÚ‹xtM’uCÚŒŞËr
::
CÚ‹xtM’uCÚŒŞËr
(
Page
* 
·ge
, 
CÚ‹xtM’uCl›Á
* 
ş›Á
)

67 : 
m_·ge
(
·ge
)

68 , 
m_ş›Á
(
ş›Á
)

69 , 
m_cÚ‹xtM’u
(0)

71 
ASSERT_ARG
(
·ge
,…age);

72 
ASSERT_ARG
(
ş›Á
, client);

75 
	gCÚ‹xtM’uCÚŒŞËr
::~
CÚ‹xtM’uCÚŒŞËr
()

77 
m_ş›Á
->
cÚ‹xtM’uDe¡royed
();

80 
	gCÚ‹xtM’uCÚŒŞËr
::
ş—rCÚ‹xtM’u
()

82 
m_cÚ‹xtM’u
.
£t
(0);

83 ià(
	gm_m’uProvid”
)

84 
	gm_m’uProvid”
->
cÚ‹xtM’uCË¬ed
();

85 
	gm_m’uProvid”
 = 0;

88 
	gCÚ‹xtM’uCÚŒŞËr
::
hªdËCÚ‹xtM’uEv’t
(
Ev’t
* 
ev’t
)

90 
m_cÚ‹xtM’u
.
£t
(
ü—‹CÚ‹xtM’u
(
ev’t
));

91 ià(!
	gm_cÚ‹xtM’u
)

93 
	gm_cÚ‹xtM’u
->
pİuÏ‹
();

94 
showCÚ‹xtM’u
(
ev’t
);

97 
	gCÚ‹xtM’uCÚŒŞËr
::
showCÚ‹xtM’u
(
Ev’t
* 
ev’t
, 
PassRefPŒ
<
CÚ‹xtM’uProvid”
> 
m’uProvid”
)

99 
	gm_m’uProvid”
 = 
m’uProvid”
;

101 
	gm_cÚ‹xtM’u
.
£t
(
ü—‹CÚ‹xtM’u
(
ev’t
));

102 ià(!
	gm_cÚ‹xtM’u
) {

103 
ş—rCÚ‹xtM’u
();

107 
	gm_m’uProvid”
->
pİuÏ‹CÚ‹xtM’u
(
m_cÚ‹xtM’u
.
g‘
());

108 
showCÚ‹xtM’u
(
ev’t
);

111 
CÚ‹xtM’u
* 
	gCÚ‹xtM’uCÚŒŞËr
::
ü—‹CÚ‹xtM’u
(
Ev’t
* 
ev’t
)

113 ià(!
ev’t
->
isMou£Ev’t
())

115 
Mou£Ev’t
* 
	gmou£Ev’t
 = 
¡©ic_ÿ¡
<Mou£Ev’t*>(
ev’t
);

116 
H™Te¡ResuÉ
 
»suÉ
(
mou£Ev’t
->
absŞu‹LoÿtiÚ
());

118 ià(
F¿me
* 
	gäame
 = 
ev’t
->
rg‘
()->
toNode
()->
docum’t
()->
äame
())

119 
»suÉ
 = 
äame
->
ev’tHªdËr
()->
h™Te¡ResuÉAtPošt
(
mou£Ev’t
->
absŞu‹LoÿtiÚ
(), 
çl£
);

121 ià(!
	g»suÉ
.
šÃrNÚSh¬edNode
())

123  
Ãw
 
CÚ‹xtM’u
(
»suÉ
);

126 
	gCÚ‹xtM’uCÚŒŞËr
::
showCÚ‹xtM’u
(
Ev’t
* 
ev’t
)

128 #ià
ENABLE
(
INSPECTOR
)

129 ià(
m_·ge
->
š¥eùÜCÚŒŞËr
()->
’abËd
())

130 
m_cÚ‹xtM’u
->
addIn¥eùEËm’tI‹m
();

132 
PÏtfÜmM’uDesütiÚ
 
	gcu¡omM’u
 = 
m_ş›Á
->
g‘Cu¡omM’uFromDeçuÉI‹ms
(
m_cÚ‹xtM’u
.
g‘
());

133 
	gm_cÚ‹xtM’u
->
£tPÏtfÜmDesütiÚ
(
cu¡omM’u
);

134 
	gev’t
->
£tDeçuÉHªdËd
();

137 
İ’NewWšdow
(cÚ¡ 
KURL
& 
u¾ToLßd
, 
F¿me
* 
äame
)

139 ià(
Page
* 
	gŞdPage
 = 
äame
->
·ge
()) {

140 
WšdowF—tu»s
 
ã©u»s
;

141 ià(
Page
* 
	gÃwPage
 = 
ŞdPage
->
chrome
()->
ü—‹Wšdow
(
äame
, 
F¿meLßdReque¡
(
ResourûReque¡
(
u¾ToLßd
, f¿me->
lßd”
()->
outgošgReã¼”
())), 
ã©u»s
))

142 
	gÃwPage
->
chrome
()->
show
();

146 
	gCÚ‹xtM’uCÚŒŞËr
::
cÚ‹xtM’uI‹mS–eùed
(
CÚ‹xtM’uI‹m
* 
™em
)

148 
ASSERT
(
™em
->
ty³
(è=ğ
AùiÚTy³
 || i‹m->ty³(è=ğ
CheckabËAùiÚTy³
);

150 ià(
	g™em
->
aùiÚ
(è>ğ
CÚ‹xtM’uI‹mBa£AµliÿtiÚTag
) {

151 
m_ş›Á
->
cÚ‹xtM’uI‹mS–eùed
(
™em
, 
m_cÚ‹xtM’u
.
g‘
());

155 ià(
	g™em
->
aùiÚ
(è>ğ
CÚ‹xtM’uI‹mBa£Cu¡omTag
) {

156 
ASSERT
(
m_m’uProvid”
);

157 
	gm_m’uProvid”
->
cÚ‹xtM’uI‹mS–eùed
(
™em
);

161 
H™Te¡ResuÉ
 
	g»suÉ
 = 
m_cÚ‹xtM’u
->
h™Te¡ResuÉ
();

162 
F¿me
* 
	gäame
 = 
»suÉ
.
šÃrNÚSh¬edNode
()->
docum’t
()->
äame
();

163 ià(!
	gäame
)

166 
	g™em
->
aùiÚ
()) {

167 
	gCÚ‹xtM’uI‹mTagO³nLškInNewWšdow
:

168 
İ’NewWšdow
(
»suÉ
.
absŞu‹LškURL
(), 
äame
);

170 
	gCÚ‹xtM’uI‹mTagDowÆßdLškToDisk
:

172 
m_ş›Á
->
dowÆßdURL
(
»suÉ
.
absŞu‹LškURL
());

174 
	gCÚ‹xtM’uI‹mTagCİyLškToClbßrd
:

175 
äame
->
ed™Ü
()->
cİyURL
(
»suÉ
.
absŞu‹LškURL
(),„esuÉ.
‹xtCÚ‹Á
());

177 
	gCÚ‹xtM’uI‹mTagO³nImageInNewWšdow
:

178 
İ’NewWšdow
(
»suÉ
.
absŞu‹ImageURL
(), 
äame
);

180 
	gCÚ‹xtM’uI‹mTagDowÆßdImageToDisk
:

182 
m_ş›Á
->
dowÆßdURL
(
»suÉ
.
absŞu‹ImageURL
());

184 
	gCÚ‹xtM’uI‹mTagCİyImageToClbßrd
:

187 
äame
->
ed™Ü
()->
cİyImage
(
»suÉ
);

189 
	gCÚ‹xtM’uI‹mTagO³nF¿meInNewWšdow
: {

190 
Docum’tLßd”
* 
lßd”
 = 
äame
->lßd”()->
docum’tLßd”
();

191 ià(!
	glßd”
->
uÄ—chabËURL
().
isEm±y
())

192 
İ’NewWšdow
(
lßd”
->
uÄ—chabËURL
(), 
äame
);

194 
İ’NewWšdow
(
lßd”
->
u¾
(), 
äame
);

197 
	gCÚ‹xtM’uI‹mTagCİy
:

198 
äame
->
ed™Ü
()->
cİy
();

200 
	gCÚ‹xtM’uI‹mTagGoBack
:

201 ià(
Page
* 
·ge
 = 
äame
->page())

202 
·ge
->
goBackOrFÜw¬d
(-1);

204 
	gCÚ‹xtM’uI‹mTagGoFÜw¬d
:

205 ià(
Page
* 
·ge
 = 
äame
->page())

206 
·ge
->
goBackOrFÜw¬d
(1);

208 
	gCÚ‹xtM’uI‹mTagStİ
:

209 
äame
->
lßd”
()->
¡İ
();

211 
	gCÚ‹xtM’uI‹mTagR–ßd
:

212 
äame
->
lßd”
()->
»lßd
();

214 
	gCÚ‹xtM’uI‹mTagCut
:

215 
äame
->
ed™Ü
()->
cut
();

217 
	gCÚ‹xtM’uI‹mTagPa¡e
:

218 
äame
->
ed™Ü
()->
·¡e
();

220 #ià
PLATFORM
(
GTK
)

221 
	gCÚ‹xtM’uI‹mTagD–‘e
:

222 
äame
->
ed™Ü
()->
³rfÜmD–‘e
();

224 
	gCÚ‹xtM’uI‹mTagS–eùAÎ
:

225 
äame
->
ed™Ü
()->
commªd
("S–eùAÎ").
execu‹
();

228 
	gCÚ‹xtM’uI‹mTagS³ÎšgGuess
:

229 
ASSERT
(
äame
->
£ËùedText
().
Ëngth
());

230 ià(
	gäame
->
ed™Ü
()->
shouldIn£¹Text
(
™em
->
t™Ë
(), 
äame
->
£ËùiÚ
()->
toNÜm®izedRªge
().
g‘
(), 
Ed™ÜIn£¹AùiÚPa¡ed
)) {

231 
Docum’t
* 
	gdocum’t
 = 
äame
->
docum’t
();

232 
	gRefPŒ
<
	gR•ÏûS–eùiÚCommªd
> 
	gcommªd
 = 
R•ÏûS–eùiÚCommªd
::
ü—‹
(
docum’t
, 
ü—‹F¿gm’tFromM¬kup
(docum’t, 
™em
->
t™Ë
(), ""), 
Œue
, 
çl£
,rue);

233 
­¶yCommªd
(
commªd
);

234 
	gäame
->
»v—lS–eùiÚ
(
SüŞlAlignm’t
::
®ignToEdgeIfN“ded
);

237 
	gCÚ‹xtM’uI‹mTagIgnÜeS³Îšg
:

238 
äame
->
ed™Ü
()->
ignÜeS³Îšg
();

240 
	gCÚ‹xtM’uI‹mTagL—ºS³Îšg
:

241 
äame
->
ed™Ü
()->
Ë¬nS³Îšg
();

243 
	gCÚ‹xtM’uI‹mTagS—rchWeb
:

244 
m_ş›Á
->
£¬chW™hGoogË
(
äame
);

246 
	gCÚ‹xtM’uI‹mTagLookUpInDiùiÚ¬y
:

248 
m_ş›Á
->
lookUpInDiùiÚ¬y
(
äame
);

250 
	gCÚ‹xtM’uI‹mTagO³nLšk
:

251 ià(
F¿me
* 
rg‘F¿me
 = 
»suÉ
.targetFrame())

252 
rg‘F¿me
->
lßd”
()->
lßdF¿meReque¡
(
F¿meLßdReque¡
(
ResourûReque¡
(
»suÉ
.
absŞu‹LškURL
(), 
äame
->lßd”()->
outgošgReã¼”
())), 
çl£
, f®£, 0, 0, 
S’dReã¼”
);

254 
İ’NewWšdow
(
»suÉ
.
absŞu‹LškURL
(), 
äame
);

256 
	gCÚ‹xtM’uI‹mTagBŞd
:

257 
äame
->
ed™Ü
()->
commªd
("ToggËBŞd").
execu‹
();

259 
	gCÚ‹xtM’uI‹mTagIlic
:

260 
äame
->
ed™Ü
()->
commªd
("ToggËIlic").
execu‹
();

262 
	gCÚ‹xtM’uI‹mTagUnd”lše
:

263 
äame
->
ed™Ü
()->
toggËUnd”lše
();

265 
	gCÚ‹xtM’uI‹mTagOuše
:

269 
	gCÚ‹xtM’uI‹mTagS¹S³akšg
: {

270 
Exû±iÚCode
 
ec
;

271 
	gRefPŒ
<
	gRªge
> 
	g£ËùedRªge
 = 
äame
->
£ËùiÚ
()->
toNÜm®izedRªge
();

272 ià(!
	g£ËùedRªge
 || s–eùedRªge->
cŞÏp£d
(
ec
)) {

273 
Docum’t
* 
	gdocum’t
 = 
»suÉ
.
šÃrNÚSh¬edNode
()->
docum’t
();

274 
	g£ËùedRªge
 = 
docum’t
->
ü—‹Rªge
();

275 
	g£ËùedRªge
->
£ËùNode
(
docum’t
->
docum’tEËm’t
(), 
ec
);

277 
	gm_ş›Á
->
¥—k
(
¶ašText
(
£ËùedRªge
.
g‘
()));

280 
	gCÚ‹xtM’uI‹mTagStİS³akšg
:

281 
m_ş›Á
->
¡İS³akšg
();

283 
	gCÚ‹xtM’uI‹mTagDeçuÉDœeùiÚ
:

284 
äame
->
ed™Ü
()->
£tBa£Wr™šgDœeùiÚ
(
N©u¿lWr™šgDœeùiÚ
);

286 
	gCÚ‹xtM’uI‹mTagLeáToRight
:

287 
äame
->
ed™Ü
()->
£tBa£Wr™šgDœeùiÚ
(
LeáToRightWr™šgDœeùiÚ
);

289 
	gCÚ‹xtM’uI‹mTagRightToLeá
:

290 
äame
->
ed™Ü
()->
£tBa£Wr™šgDœeùiÚ
(
RightToLeáWr™šgDœeùiÚ
);

292 
	gCÚ‹xtM’uI‹mTagTextDœeùiÚDeçuÉ
:

293 
äame
->
ed™Ü
()->
commªd
("MakeTextWr™šgDœeùiÚN©u¿l").
execu‹
();

295 
	gCÚ‹xtM’uI‹mTagTextDœeùiÚLeáToRight
:

296 
äame
->
ed™Ü
()->
commªd
("MakeTextWr™šgDœeùiÚLeáToRight").
execu‹
();

298 
	gCÚ‹xtM’uI‹mTagTextDœeùiÚRightToLeá
:

299 
äame
->
ed™Ü
()->
commªd
("MakeTextWr™šgDœeùiÚRightToLeá").
execu‹
();

301 #ià
PLATFORM
(
MAC
)

302 
	gCÚ‹xtM’uI‹mTagS—rchInSpÙlight
:

303 
m_ş›Á
->
£¬chW™hSpÙlight
();

306 
	gCÚ‹xtM’uI‹mTagShowS³ÎšgPª–
:

307 
äame
->
ed™Ü
()->
showS³ÎšgGuessPª–
();

309 
	gCÚ‹xtM’uI‹mTagCheckS³Îšg
:

310 
äame
->
ed™Ü
()->
advªûToNextMis¥–lšg
();

312 
	gCÚ‹xtM’uI‹mTagCheckS³ÎšgWheTypšg
:

313 
äame
->
ed™Ü
()->
toggËCÚtšuousS³ÎCheckšg
();

315 #iâdeà
BUILDING_ON_TIGER


316 
	gCÚ‹xtM’uI‹mTagCheckG¿mm¬W™hS³Îšg
:

317 
äame
->
ed™Ü
()->
toggËG¿mm¬Checkšg
();

320 #ià
PLATFORM
(
MAC
)

321 
	gCÚ‹xtM’uI‹mTagShowFÚts
:

322 
äame
->
ed™Ü
()->
showFÚtPª–
();

324 
	gCÚ‹xtM’uI‹mTagStyËs
:

325 
äame
->
ed™Ü
()->
showStyËsPª–
();

327 
	gCÚ‹xtM’uI‹mTagShowCŞÜs
:

328 
äame
->
ed™Ü
()->
showCŞÜPª–
();

331 #ià
PLATFORM
(
MAC
è&& !
defšed
(
BUILDING_ON_TIGER
è&& !defšed(
BUILDING_ON_LEOPARD
)

332 
	gCÚ‹xtM’uI‹mTagMakeUµ”Ca£
:

333 
äame
->
ed™Ü
()->
uµ”ÿ£WÜd
();

335 
	gCÚ‹xtM’uI‹mTagMakeLow”Ca£
:

336 
äame
->
ed™Ü
()->
low”ÿ£WÜd
();

338 
	gCÚ‹xtM’uI‹mTagC­™®ize
:

339 
äame
->
ed™Ü
()->
ÿp™®izeWÜd
();

341 
	gCÚ‹xtM’uI‹mTagShowSub¡™utiÚs
:

342 
äame
->
ed™Ü
()->
showSub¡™utiÚsPª–
();

344 
	gCÚ‹xtM’uI‹mTagSm¬tCİyPa¡e
:

345 
äame
->
ed™Ü
()->
toggËSm¬tIn£¹D–‘e
();

347 
	gCÚ‹xtM’uI‹mTagSm¬tQuÙes
:

348 
äame
->
ed™Ü
()->
toggËAutom©icQuÙeSub¡™utiÚ
();

350 
	gCÚ‹xtM’uI‹mTagSm¬tDashes
:

351 
äame
->
ed™Ü
()->
toggËAutom©icDashSub¡™utiÚ
();

353 
	gCÚ‹xtM’uI‹mTagSm¬tLšks
:

354 
äame
->
ed™Ü
()->
toggËAutom©icLškD‘eùiÚ
();

356 
	gCÚ‹xtM’uI‹mTagTextR•Ïûm’t
:

357 
äame
->
ed™Ü
()->
toggËAutom©icTextR•Ïûm’t
();

359 
	gCÚ‹xtM’uI‹mTagCÜ»ùS³ÎšgAutom©iÿÎy
:

360 
äame
->
ed™Ü
()->
toggËAutom©icS³ÎšgCÜ»ùiÚ
();

362 
	gCÚ‹xtM’uI‹mTagChªgeBack
:

363 
äame
->
ed™Ü
()->
chªgeBackToR•ÏûdSŒšg
(
»suÉ
.
»¶aûdSŒšg
());

366 #ià
ENABLE
(
INSPECTOR
)

367 
	gCÚ‹xtM’uI‹mTagIn¥eùEËm’t
:

368 ià(
Page
* 
·ge
 = 
äame
->page())

369 
·ge
->
š¥eùÜCÚŒŞËr
()->
š¥eù
(
»suÉ
.
šÃrNÚSh¬edNode
());

	@ContextMenuController.h

26 #iâdeà
CÚ‹xtM’uCÚŒŞËr_h


27 
	#CÚ‹xtM’uCÚŒŞËr_h


	)

29 
	~<wtf/NÚcİyabË.h
>

30 
	~<wtf/OwnPŒ.h
>

31 
	~<wtf/PassRefPŒ.h
>

32 
	~<wtf/RefPŒ.h
>

34 
Çme¥aû
 
	gWebCÜe
 {

36 
şass
 
	gCÚ‹xtM’u
;

37 
şass
 
	gCÚ‹xtM’uCl›Á
;

38 
şass
 
	gCÚ‹xtM’uI‹m
;

39 
şass
 
	gCÚ‹xtM’uProvid”
;

40 
şass
 
	gEv’t
;

41 
şass
 
	gPage
;

43 şas 
	cCÚ‹xtM’uCÚŒŞËr
 : 
public
 
NÚcİyabË
 {

44 
public
:

45 
CÚ‹xtM’uCÚŒŞËr
(
Page
*, 
CÚ‹xtM’uCl›Á
*);

46 ~
CÚ‹xtM’uCÚŒŞËr
();

48 
CÚ‹xtM’uCl›Á
* 
ş›Á
(è{  
	gm_ş›Á
; }

50 
CÚ‹xtM’u
* 
cÚ‹xtM’u
(ècÚ¡ {  
	gm_cÚ‹xtM’u
.
g‘
(); }

51 
ş—rCÚ‹xtM’u
();

53 
hªdËCÚ‹xtM’uEv’t
(
Ev’t
*);

54 
showCÚ‹xtM’u
(
Ev’t
*, 
PassRefPŒ
<
CÚ‹xtM’uProvid”
>);

56 
cÚ‹xtM’uI‹mS–eùed
(
CÚ‹xtM’uI‹m
*);

58 
	g´iv©e
:

59 
CÚ‹xtM’u
* 
ü—‹CÚ‹xtM’u
(
Ev’t
*);

60 
showCÚ‹xtM’u
(
Ev’t
*);

62 
Page
* 
	gm_·ge
;

63 
CÚ‹xtM’uCl›Á
* 
	gm_ş›Á
;

64 
	gOwnPŒ
<
	gCÚ‹xtM’u
> 
	gm_cÚ‹xtM’u
;

65 
	gRefPŒ
<
	gCÚ‹xtM’uProvid”
> 
	gm_m’uProvid”
;

	@ContextMenuProvider.h

31 #iâdeà
CÚ‹xtM’uProvid”_h


32 
	#CÚ‹xtM’uProvid”_h


	)

34 
	~<wtf/RefCouÁed.h
>

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gCÚ‹xtM’u
;

39 
şass
 
	gCÚ‹xtM’uI‹m
;

41 
şass
 
	gCÚ‹xtM’uProvid”
 : 
public
 
RefCouÁed
<
CÚ‹xtM’uProvid”
> {

42 
public
:

43 
vœtu®
 ~
CÚ‹xtM’uProvid”
() { };

45 
vœtu®
 
pİuÏ‹CÚ‹xtM’u
(
CÚ‹xtM’u
*) = 0;

46 
vœtu®
 
cÚ‹xtM’uI‹mS–eùed
(
CÚ‹xtM’uI‹m
*) = 0;

47 
vœtu®
 
cÚ‹xtM’uCË¬ed
() = 0;

	@Coordinates.h

26 #iâdeà
CoÜdš©es_h


27 
	#CoÜdš©es_h


	)

29 
	~"Ev’t.h
"

30 
	~"PÏtfÜmSŒšg.h
"

31 
	~<wtf/RefCouÁed.h
>

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	tExû±iÚCode
;

37 
şass
 
	gCoÜdš©es
 : 
public
 
RefCouÁed
<
CoÜdš©es
> {

38 
public
:

39 
PassRefPŒ
<
CoÜdš©es
> 
ü—‹
(
Ït™ude
, 
lÚg™ude
, 
boŞ
 
´ovidesAÉ™ude
, 
®t™ude
, 
accu¿cy
, boŞ 
´ovidesAÉ™udeAccu¿cy
, 
®t™udeAccu¿cy
, boŞ 
´ovidesH—dšg
, 
h—dšg
, boŞ 
´ovidesS³ed
, 
¥“d
è{  
adİtRef
(
Ãw
 Coordinates(latitude,†ongitude,…rovidesAltitude,‡ltitude,‡ccuracy,…rovidesAltitudeAccuracy,‡ltitudeAccuracy,…rovidesHeading, heading,…rovidesSpeed, speed)); }

41 
Ït™ude
(ècÚ¡ {  
	gm_Ït™ude
; }

42 
lÚg™ude
(ècÚ¡ {  
	gm_lÚg™ude
; }

43 
®t™ude
(ècÚ¡ {  
	gm_®t™ude
; }

44 
accu¿cy
(ècÚ¡ {  
	gm_accu¿cy
; }

45 
®t™udeAccu¿cy
(ècÚ¡ {  
	gm_®t™udeAccu¿cy
; }

46 
h—dšg
(ècÚ¡ {  
	gm_h—dšg
; }

47 
¥“d
(ècÚ¡ {  
	gm_¥“d
; }

49 
boŞ
 
ÿnProvideAÉ™ude
(ècÚ¡ {  
	gm_ÿnProvideAÉ™ude
; }

50 
boŞ
 
ÿnProvideAÉ™udeAccu¿cy
(ècÚ¡ {  
	gm_ÿnProvideAÉ™udeAccu¿cy
; }

51 
boŞ
 
ÿnProvideH—dšg
(ècÚ¡ {  
	gm_ÿnProvideH—dšg
; }

52 
boŞ
 
ÿnProvideS³ed
(ècÚ¡ {  
	gm_ÿnProvideS³ed
; }

54 
	g´iv©e
:

55 
CoÜdš©es
(
Ït™ude
, 
lÚg™ude
, 
boŞ
 
´ovidesAÉ™ude
, 
®t™ude
, 
accu¿cy
, boŞ 
´ovidesAÉ™udeAccu¿cy
, 
®t™udeAccu¿cy
, boŞ 
´ovidesH—dšg
, 
h—dšg
, boŞ 
´ovidesS³ed
, 
¥“d
)

56 : 
m_Ït™ude
(
Ït™ude
)

57 , 
m_lÚg™ude
(
lÚg™ude
)

58 , 
m_®t™ude
(
®t™ude
)

59 , 
m_accu¿cy
(
accu¿cy
)

60 , 
m_®t™udeAccu¿cy
(
®t™udeAccu¿cy
)

61 , 
m_h—dšg
(
h—dšg
)

62 , 
m_¥“d
(
¥“d
)

63 , 
m_ÿnProvideAÉ™ude
(
´ovidesAÉ™ude
)

64 , 
m_ÿnProvideAÉ™udeAccu¿cy
(
´ovidesAÉ™udeAccu¿cy
)

65 , 
m_ÿnProvideH—dšg
(
´ovidesH—dšg
)

66 , 
m_ÿnProvideS³ed
(
´ovidesS³ed
)

70 
	gm_Ït™ude
;

71 
	gm_lÚg™ude
;

72 
	gm_®t™ude
;

73 
	gm_accu¿cy
;

74 
	gm_®t™udeAccu¿cy
;

75 
	gm_h—dšg
;

76 
	gm_¥“d
;

78 
boŞ
 
	gm_ÿnProvideAÉ™ude
;

79 
boŞ
 
	gm_ÿnProvideAÉ™udeAccu¿cy
;

80 
boŞ
 
	gm_ÿnProvideH—dšg
;

81 
boŞ
 
	gm_ÿnProvideS³ed
;

	@DOMSelection.cpp

30 
	~"cÚfig.h
"

31 
	~"DOMS–eùiÚ.h
"

33 
	~"Exû±iÚCode.h
"

34 
	~"F¿me.h
"

35 
	~"Node.h
"

36 
	~"PÏtfÜmSŒšg.h
"

37 
	~"Rªge.h
"

38 
	~"S–eùiÚCÚŒŞËr.h
"

39 
	~"TextI‹¿tÜ.h
"

40 
	~"htmËd™šg.h
"

42 
Çme¥aû
 
	gWebCÜe
 {

44 
Node
* 
£ËùiÚShadowAnû¡Ü
(
F¿me
* 
äame
)

46 
Node
* 
	gnode
 = 
äame
->
£ËùiÚ
()->£ËùiÚ().
ba£
().
ªchÜNode
();

47 ià(!
	gnode
)

49 
Node
* 
	gshadowAnû¡Ü
 = 
node
->
shadowAnû¡ÜNode
();

50 ià(
	gshadowAnû¡Ü
 =ğ
node
)

52  
	gshadowAnû¡Ü
;

55 
	gDOMS–eùiÚ
::
DOMS–eùiÚ
(
F¿me
* 
äame
)

56 : 
m_äame
(
äame
)

60 
F¿me
* 
DOMS–eùiÚ
::
äame
() const

62  
m_äame
;

65 
	gDOMS–eùiÚ
::
discÚÃùF¿me
()

67 
m_äame
 = 0;

70 cÚ¡ 
	gVisibËS–eùiÚ
& 
	gDOMS–eùiÚ
::
visibËS–eùiÚ
() const

72 
ASSERT
(
m_äame
);

73  
	gm_äame
->
£ËùiÚ
()->selection();

76 
Pos™iÚ
 
ªchÜPos™iÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
£ËùiÚ
)

78 
Pos™iÚ
 
	gªchÜ
 = 
£ËùiÚ
.
isBa£Fœ¡
(è? s–eùiÚ.
¡¬t
(è: s–eùiÚ.
’d
();

79  
¿ngeCom¶ŸÁEquiv®’t
(
ªchÜ
);

82 
Pos™iÚ
 
focusPos™iÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
£ËùiÚ
)

84 
Pos™iÚ
 
	gfocus
 = 
£ËùiÚ
.
isBa£Fœ¡
(è? s–eùiÚ.
’d
(è: s–eùiÚ.
¡¬t
();

85  
¿ngeCom¶ŸÁEquiv®’t
(
focus
);

88 
Pos™iÚ
 
ba£Pos™iÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
£ËùiÚ
)

90  
¿ngeCom¶ŸÁEquiv®’t
(
£ËùiÚ
.
ba£
());

93 
Pos™iÚ
 
ex‹ÁPos™iÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
£ËùiÚ
)

95  
¿ngeCom¶ŸÁEquiv®’t
(
£ËùiÚ
.
ex‹Á
());

98 
Node
* 
	gDOMS–eùiÚ
::
ªchÜNode
() const

100 ià(!
m_äame
)

102 ià(
Node
* 
	gshadowAnû¡Ü
 = 
£ËùiÚShadowAnû¡Ü
(
m_äame
))

103  
shadowAnû¡Ü
->
·»ÁNode
();

104  
ªchÜPos™iÚ
(
visibËS–eùiÚ
()).
node
();

107 
	gDOMS–eùiÚ
::
ªchÜOff£t
() const

109 ià(!
m_äame
)

111 ià(
Node
* 
	gshadowAnû¡Ü
 = 
£ËùiÚShadowAnû¡Ü
(
m_äame
))

112  
shadowAnû¡Ü
->
nodeIndex
();

113  
ªchÜPos™iÚ
(
visibËS–eùiÚ
()).
d•»ÿ‹dEd™šgOff£t
();

116 
Node
* 
	gDOMS–eùiÚ
::
focusNode
() const

118 ià(!
m_äame
)

120 ià(
Node
* 
	gshadowAnû¡Ü
 = 
£ËùiÚShadowAnû¡Ü
(
m_äame
))

121  
shadowAnû¡Ü
->
·»ÁNode
();

122  
focusPos™iÚ
(
visibËS–eùiÚ
()).
node
();

125 
	gDOMS–eùiÚ
::
focusOff£t
() const

127 ià(!
m_äame
)

129 ià(
Node
* 
	gshadowAnû¡Ü
 = 
£ËùiÚShadowAnû¡Ü
(
m_äame
))

130  
shadowAnû¡Ü
->
nodeIndex
();

131  
focusPos™iÚ
(
visibËS–eùiÚ
()).
d•»ÿ‹dEd™šgOff£t
();

134 
Node
* 
	gDOMS–eùiÚ
::
ba£Node
() const

136 ià(!
m_äame
)

138 ià(
Node
* 
	gshadowAnû¡Ü
 = 
£ËùiÚShadowAnû¡Ü
(
m_äame
))

139  
shadowAnû¡Ü
->
·»ÁNode
();

140  
ba£Pos™iÚ
(
visibËS–eùiÚ
()).
node
();

143 
	gDOMS–eùiÚ
::
ba£Off£t
() const

145 ià(!
m_äame
)

147 ià(
Node
* 
	gshadowAnû¡Ü
 = 
£ËùiÚShadowAnû¡Ü
(
m_äame
))

148  
shadowAnû¡Ü
->
nodeIndex
();

149  
ba£Pos™iÚ
(
visibËS–eùiÚ
()).
d•»ÿ‹dEd™šgOff£t
();

152 
Node
* 
	gDOMS–eùiÚ
::
ex‹ÁNode
() const

154 ià(!
m_äame
)

156 ià(
Node
* 
	gshadowAnû¡Ü
 = 
£ËùiÚShadowAnû¡Ü
(
m_äame
))

157  
shadowAnû¡Ü
->
·»ÁNode
();

158  
ex‹ÁPos™iÚ
(
visibËS–eùiÚ
()).
node
();

161 
	gDOMS–eùiÚ
::
ex‹ÁOff£t
() const

163 ià(!
m_äame
)

165 ià(
Node
* 
	gshadowAnû¡Ü
 = 
£ËùiÚShadowAnû¡Ü
(
m_äame
))

166  
shadowAnû¡Ü
->
nodeIndex
();

167  
ex‹ÁPos™iÚ
(
visibËS–eùiÚ
()).
d•»ÿ‹dEd™šgOff£t
();

170 
boŞ
 
	gDOMS–eùiÚ
::
isCŞÏp£d
() const

172 ià(!
m_äame
 || 
£ËùiÚShadowAnû¡Ü
(m_frame))

173  
Œue
;

174  !
	gm_äame
->
£ËùiÚ
()->
isRªge
();

177 
SŒšg
 
	gDOMS–eùiÚ
::
ty³
() const

179 ià(!
m_äame
)

180  
SŒšg
();

182 
S–eùiÚCÚŒŞËr
* 
	g£ËùiÚ
 = 
m_äame
->
£ËùiÚ
();

187 ià(
	g£ËùiÚ
->
isNÚe
())

189 ià(
	g£ËùiÚ
->
isC¬‘
())

194 
	gDOMS–eùiÚ
::
¿ngeCouÁ
() const

196 ià(!
m_äame
)

198  
	gm_äame
->
£ËùiÚ
()->
isNÚe
() ? 0 : 1;

201 
	gDOMS–eùiÚ
::
cŞÏp£
(
Node
* 
node
, 
off£t
, 
Exû±iÚCode
& 
ec
)

203 ià(!
	gm_äame
)

206 ià(
	goff£t
 < 0) {

207 
	gec
 = 
INDEX_SIZE_ERR
;

211 ià(!
isV®idFÜPos™iÚ
(
node
))

214 
	gm_äame
->
£ËùiÚ
()->
moveTo
(
VisibËPos™iÚ
(
node
, 
off£t
, 
DOWNSTREAM
));

217 
	gDOMS–eùiÚ
::
cŞÏp£ToEnd
()

219 ià(!
m_äame
)

222 cÚ¡ 
	gVisibËS–eùiÚ
& 
	g£ËùiÚ
 = 
m_äame
->
£ËùiÚ
()->selection();

223 
	gm_äame
->
£ËùiÚ
()->
moveTo
(
VisibËPos™iÚ
(£ËùiÚ.
’d
(), 
DOWNSTREAM
));

226 
	gDOMS–eùiÚ
::
cŞÏp£ToS¹
()

228 ià(!
m_äame
)

231 cÚ¡ 
	gVisibËS–eùiÚ
& 
	g£ËùiÚ
 = 
m_äame
->
£ËùiÚ
()->selection();

232 
	gm_äame
->
£ËùiÚ
()->
moveTo
(
VisibËPos™iÚ
(£ËùiÚ.
¡¬t
(), 
DOWNSTREAM
));

235 
	gDOMS–eùiÚ
::
em±y
()

237 ià(!
m_äame
)

239 
	gm_äame
->
£ËùiÚ
()->
ş—r
();

242 
	gDOMS–eùiÚ
::
£tBa£AndEx‹Á
(
Node
* 
ba£Node
, 
ba£Off£t
, Node* 
ex‹ÁNode
, 
ex‹ÁOff£t
, 
Exû±iÚCode
& 
ec
)

244 ià(!
	gm_äame
)

247 ià(
	gba£Off£t
 < 0 || 
	gex‹ÁOff£t
 < 0) {

248 
	gec
 = 
INDEX_SIZE_ERR
;

252 ià(!
isV®idFÜPos™iÚ
(
ba£Node
è|| !isV®idFÜPos™iÚ(
ex‹ÁNode
))

255 
VisibËPos™iÚ
 
	gvisibËBa£
 = VisibËPos™iÚ(
ba£Node
, 
ba£Off£t
, 
DOWNSTREAM
);

256 
VisibËPos™iÚ
 
	gvisibËEx‹Á
 = VisibËPos™iÚ(
ex‹ÁNode
, 
ex‹ÁOff£t
, 
DOWNSTREAM
);

258 
	gm_äame
->
£ËùiÚ
()->
moveTo
(
visibËBa£
, 
visibËEx‹Á
);

261 
	gDOMS–eùiÚ
::
£tPos™iÚ
(
Node
* 
node
, 
off£t
, 
Exû±iÚCode
& 
ec
)

263 ià(!
	gm_äame
)

265 ià(
	goff£t
 < 0) {

266 
	gec
 = 
INDEX_SIZE_ERR
;

270 ià(!
isV®idFÜPos™iÚ
(
node
))

273 
	gm_äame
->
£ËùiÚ
()->
moveTo
(
VisibËPos™iÚ
(
node
, 
off£t
, 
DOWNSTREAM
));

276 
	gDOMS–eùiÚ
::
modify
(cÚ¡ 
SŒšg
& 
®‹rSŒšg
, cÚ¡ SŒšg& 
dœeùiÚSŒšg
, cÚ¡ SŒšg& 
g¿nuÏr™ySŒšg
)

278 ià(!
	gm_äame
)

281 
	gS–eùiÚCÚŒŞËr
::
EAÉ”©iÚ
 
®‹r
;

282 ià(
equ®IgnÜšgCa£
(
®‹rSŒšg
, "extend"))

283 
	g®‹r
 = 
S–eùiÚCÚŒŞËr
::
EXTEND
;

284 ià(
equ®IgnÜšgCa£
(
®‹rSŒšg
, "move"))

285 
	g®‹r
 = 
S–eùiÚCÚŒŞËr
::
MOVE
;

289 
	gS–eùiÚCÚŒŞËr
::
EDœeùiÚ
 
dœeùiÚ
;

290 ià(
equ®IgnÜšgCa£
(
dœeùiÚSŒšg
, "forward"))

291 
	gdœeùiÚ
 = 
S–eùiÚCÚŒŞËr
::
FORWARD
;

292 ià(
equ®IgnÜšgCa£
(
dœeùiÚSŒšg
, "backward"))

293 
	gdœeùiÚ
 = 
S–eùiÚCÚŒŞËr
::
BACKWARD
;

294 ià(
equ®IgnÜšgCa£
(
dœeùiÚSŒšg
, "left"))

295 
	gdœeùiÚ
 = 
S–eùiÚCÚŒŞËr
::
LEFT
;

296 ià(
equ®IgnÜšgCa£
(
dœeùiÚSŒšg
, "right"))

297 
	gdœeùiÚ
 = 
S–eùiÚCÚŒŞËr
::
RIGHT
;

301 
TextG¿nuÏr™y
 
	gg¿nuÏr™y
;

302 ià(
equ®IgnÜšgCa£
(
g¿nuÏr™ySŒšg
, "character"))

303 
	gg¿nuÏr™y
 = 
Ch¬aù”G¿nuÏr™y
;

304 ià(
equ®IgnÜšgCa£
(
g¿nuÏr™ySŒšg
, "word"))

305 
	gg¿nuÏr™y
 = 
WÜdG¿nuÏr™y
;

306 ià(
equ®IgnÜšgCa£
(
g¿nuÏr™ySŒšg
, "sentence"))

307 
	gg¿nuÏr™y
 = 
S’‹nûG¿nuÏr™y
;

308 ià(
equ®IgnÜšgCa£
(
g¿nuÏr™ySŒšg
, "line"))

309 
	gg¿nuÏr™y
 = 
LšeG¿nuÏr™y
;

310 ià(
equ®IgnÜšgCa£
(
g¿nuÏr™ySŒšg
, "paragraph"))

311 
	gg¿nuÏr™y
 = 
P¬ag¿phG¿nuÏr™y
;

312 ià(
equ®IgnÜšgCa£
(
g¿nuÏr™ySŒšg
, "lineboundary"))

313 
	gg¿nuÏr™y
 = 
LšeBound¬y
;

314 ià(
equ®IgnÜšgCa£
(
g¿nuÏr™ySŒšg
, "sentenceboundary"))

315 
	gg¿nuÏr™y
 = 
S’‹nûBound¬y
;

316 ià(
equ®IgnÜšgCa£
(
g¿nuÏr™ySŒšg
, "paragraphboundary"))

317 
	gg¿nuÏr™y
 = 
P¬ag¿phBound¬y
;

318 ià(
equ®IgnÜšgCa£
(
g¿nuÏr™ySŒšg
, "documentboundary"))

319 
	gg¿nuÏr™y
 = 
Docum’tBound¬y
;

323 
	gm_äame
->
£ËùiÚ
()->
modify
(
®‹r
, 
dœeùiÚ
, 
g¿nuÏr™y
, 
çl£
);

326 
	gDOMS–eùiÚ
::
ex‹nd
(
Node
* 
node
, 
off£t
, 
Exû±iÚCode
& 
ec
)

328 ià(!
	gm_äame
)

331 ià(!
	gnode
) {

332 
	gec
 = 
TYPE_MISMATCH_ERR
;

336 ià(
	goff£t
 < 0 || off£ˆ> (
	gnode
->
off£tInCh¬aù”s
(è? 
ÿ»tMaxOff£t
(
node
è: (êode->
chdNodeCouÁ
())) {

337 
ec
 = 
INDEX_SIZE_ERR
;

341 ià(!
isV®idFÜPos™iÚ
(
node
))

344 
	gm_äame
->
£ËùiÚ
()->
£tEx‹Á
(
VisibËPos™iÚ
(
node
, 
off£t
, 
DOWNSTREAM
));

347 
	gPassRefPŒ
<
	gRªge
> 
	gDOMS–eùiÚ
::
g‘RªgeAt
(
šdex
, 
Exû±iÚCode
& 
ec
)

349 ià(!
	gm_äame
)

352 ià(
	gšdex
 < 0 || index >ğ
¿ngeCouÁ
()) {

353 
ec
 = 
INDEX_SIZE_ERR
;

358 
ASSERT
(
¿ngeCouÁ
() == 1);

360 ià(
Node
* 
	gshadowAnû¡Ü
 = 
£ËùiÚShadowAnû¡Ü
(
m_äame
)) {

361 
Node
* 
cÚš”
 = 
shadowAnû¡Ü
->
·»ÁNode
();

362 
	goff£t
 = 
shadowAnû¡Ü
->
nodeIndex
();

363  
	gRªge
::
ü—‹
(
shadowAnû¡Ü
->
docum’t
(), 
cÚš”
, 
off£t
, container, offset);

366 cÚ¡ 
	gVisibËS–eùiÚ
& 
	g£ËùiÚ
 = 
m_äame
->
£ËùiÚ
()->selection();

367  
	g£ËùiÚ
.
fœ¡Rªge
();

370 
	gDOMS–eùiÚ
::
»moveAÎRªges
()

372 ià(!
m_äame
)

374 
	gm_äame
->
£ËùiÚ
()->
ş—r
();

377 
	gDOMS–eùiÚ
::
addRªge
(
Rªge
* 
r
)

379 ià(!
m_äame
)

381 ià(!
	gr
)

384 
S–eùiÚCÚŒŞËr
* 
	g£ËùiÚ
 = 
m_äame
->
£ËùiÚ
();

386 ià(
	g£ËùiÚ
->
isNÚe
()) {

387 
	g£ËùiÚ
->
£tS–eùiÚ
(
VisibËS–eùiÚ
(
r
));

391 
	gRefPŒ
<
	gRªge
> 
	g¿nge
 = 
£ËùiÚ
->£ËùiÚ().
toNÜm®izedRªge
();

392 
Exû±iÚCode
 
	gec
 = 0;

393 ià(
	gr
->
com·»Bound¬yPošts
(
Rªge
::
START_TO_START
, 
¿nge
.
g‘
(), 
ec
) == -1) {

395 ià(
r
->
com·»Bound¬yPošts
(
Rªge
::
START_TO_END
, 
¿nge
.
g‘
(), 
ec
) > -1) {

396 ià(
r
->
com·»Bound¬yPošts
(
Rªge
::
END_TO_END
, 
¿nge
.
g‘
(), 
ec
) == -1)

398 
£ËùiÚ
->
£tS–eùiÚ
(
VisibËS–eùiÚ
(
r
->
¡¬tPos™iÚ
(), 
¿nge
->
’dPos™iÚ
(), 
DOWNSTREAM
));

401 
	g£ËùiÚ
->
£tS–eùiÚ
(
VisibËS–eùiÚ
(
r
));

405 ià(
	gr
->
com·»Bound¬yPošts
(
Rªge
::
END_TO_START
, 
¿nge
.
g‘
(), 
ec
) < 1) {

406 ià(
	gr
->
com·»Bound¬yPošts
(
Rªge
::
END_TO_END
, 
¿nge
.
g‘
(), 
ec
) == -1)

408 
£ËùiÚ
->
£tS–eùiÚ
(
VisibËS–eùiÚ
(
¿nge
.
g‘
()));

411 
	g£ËùiÚ
->
£tS–eùiÚ
(
VisibËS–eùiÚ
(
¿nge
->
¡¬tPos™iÚ
(), 
r
->
’dPos™iÚ
(), 
DOWNSTREAM
));

416 
	gDOMS–eùiÚ
::
d–‘eFromDocum’t
()

418 ià(!
m_äame
)

421 
S–eùiÚCÚŒŞËr
* 
	g£ËùiÚ
 = 
m_äame
->
£ËùiÚ
();

423 ià(
	g£ËùiÚ
->
isNÚe
())

426 ià(
isCŞÏp£d
())

427 
	g£ËùiÚ
->
modify
(
S–eùiÚCÚŒŞËr
::
EXTEND
, S–eùiÚCÚŒŞËr::
BACKWARD
, 
Ch¬aù”G¿nuÏr™y
);

429 
	gRefPŒ
<
	gRªge
> 
	g£ËùedRªge
 = 
£ËùiÚ
->£ËùiÚ().
toNÜm®izedRªge
();

431 
Exû±iÚCode
 
	gec
 = 0;

432 
	g£ËùedRªge
->
d–‘eCÚ‹Ás
(
ec
);

433 
ASSERT
(!
ec
);

435 
£tBa£AndEx‹Á
(
£ËùedRªge
->
¡¬tCÚš”
(
ec
), s–eùedRªge->
¡¬tOff£t
(ec), selectedRange->startContainer(ec), selectedRange->startOffset(ec),ƒc);

436 
ASSERT
(!
ec
);

439 
boŞ
 
	gDOMS–eùiÚ
::
cÚšsNode
(cÚ¡ 
Node
* 
n
, boŞ 
®lowP¬tŸl
) const

441 ià(!
	gm_äame
)

442  
	gçl£
;

444 
S–eùiÚCÚŒŞËr
* 
	g£ËùiÚ
 = 
m_äame
->
£ËùiÚ
();

446 ià(!
	gn
 || 
	gm_äame
->
docum’t
(è!ğ
n
->docum’t(è|| 
£ËùiÚ
->
isNÚe
())

447  
çl£
;

449 
Node
* 
	g·»ÁNode
 = 
n
->
·»ÁNode
();

450 
	gnodeIndex
 = 
n
->
nodeIndex
();

451 
	gRefPŒ
<
	gRªge
> 
	g£ËùedRªge
 = 
£ËùiÚ
->£ËùiÚ().
toNÜm®izedRªge
();

453 ià(!
	g·»ÁNode
)

454  
	gçl£
;

456 
Exû±iÚCode
 
	gec
 = 0;

457 
boŞ
 
	gnodeFuÎyS–eùed
 = 
Rªge
::
com·»Bound¬yPošts
(
·»ÁNode
, 
nodeIndex
, 
£ËùedRªge
->
¡¬tCÚš”
(
ec
), s–eùedRªge->
¡¬tOff£t
(ec)) >= 0

458 && 
Rªge
::
com·»Bound¬yPošts
(
·»ÁNode
, 
nodeIndex
 + 1, 
£ËùedRªge
->
’dCÚš”
(
ec
), s–eùedRªge->
’dOff£t
(ec)) <= 0;

459 
ASSERT
(!
ec
);

460 ià(
	gnodeFuÎyS–eùed
)

461  
	gŒue
;

463 
boŞ
 
	gnodeFuÎyUn£Ëùed
 = 
Rªge
::
com·»Bound¬yPošts
(
·»ÁNode
, 
nodeIndex
, 
£ËùedRªge
->
’dCÚš”
(
ec
), s–eùedRªge->
’dOff£t
(ec)) > 0

464 || 
	gRªge
::
com·»Bound¬yPošts
(
·»ÁNode
, 
nodeIndex
 + 1, 
£ËùedRªge
->
¡¬tCÚš”
(
ec
), s–eùedRªge->
¡¬tOff£t
(ec)) < 0;

465 
ASSERT
(!
ec
);

466 ià(
	gnodeFuÎyUn£Ëùed
)

467  
	gçl£
;

469  
	g®lowP¬tŸl
 || 
	gn
->
isTextNode
();

472 
	gDOMS–eùiÚ
::
£ËùAÎChd»n
(
Node
* 
n
, 
Exû±iÚCode
& 
ec
)

474 ià(!
	gn
)

478 
£tBa£AndEx‹Á
(
n
, 0,‚,‚->
chdNodeCouÁ
(), 
ec
);

481 
SŒšg
 
	gDOMS–eùiÚ
::
toSŒšg
()

483 ià(!
m_äame
)

484  
SŒšg
();

486  
¶ašText
(
m_äame
->
£ËùiÚ
()->£ËùiÚ().
toNÜm®izedRªge
().
g‘
());

489 
boŞ
 
	gDOMS–eùiÚ
::
isV®idFÜPos™iÚ
(
Node
* 
node
) const

491 
ASSERT
(
m_äame
);

492 ià(!
	gnode
)

493  
	gŒue
;

494  
	gnode
->
docum’t
(è=ğ
m_äame
->document();

	@DOMSelection.h

30 #iâdeà
DOMS–eùiÚ_h


31 
	#DOMS–eùiÚ_h


	)

33 
	~<wtf/FÜw¬d.h
>

34 
	~<wtf/PassRefPŒ.h
>

35 
	~<wtf/RefCouÁed.h
>

37 
Çme¥aû
 
	gWebCÜe
 {

39 
şass
 
	gF¿me
;

40 
şass
 
	gRªge
;

41 
şass
 
	gNode
;

42 
şass
 
	gSŒšg
;

43 
şass
 
	gVisibËS–eùiÚ
;

45 
	tExû±iÚCode
;

47 
şass
 
	gDOMS–eùiÚ
 : 
public
 
RefCouÁed
<
DOMS–eùiÚ
> {

48 
public
:

49 
PassRefPŒ
<
DOMS–eùiÚ
> 
ü—‹
(
F¿me
* 
äame
è{  
adİtRef
(
Ãw
 DOMSelection(frame)); }

51 
F¿me
* 
äame
() const;

52 
discÚÃùF¿me
();

56 
Node
* 
ba£Node
() const;

57 
Node
* 
ex‹ÁNode
() const;

58 
ba£Off£t
() const;

59 
ex‹ÁOff£t
() const;

60 
SŒšg
 
ty³
() const;

61 
£tBa£AndEx‹Á
(
Node
* 
ba£Node
, 
ba£Off£t
, Node* 
ex‹ÁNode
, 
ex‹ÁOff£t
, 
Exû±iÚCode
&);

62 
£tPos™iÚ
(
Node
*, 
off£t
, 
Exû±iÚCode
&);

63 
modify
(cÚ¡ 
SŒšg
& 
®‹r
, cÚ¡ SŒšg& 
dœeùiÚ
, cÚ¡ SŒšg& 
g¿nuÏr™y
);

71 
Node
* 
ªchÜNode
() const;

72 
ªchÜOff£t
() const;

73 
Node
* 
focusNode
() const;

74 
focusOff£t
() const;

75 
boŞ
 
isCŞÏp£d
() const;

76 
¿ngeCouÁ
() const;

77 
cŞÏp£
(
Node
*, 
off£t
, 
Exû±iÚCode
&);

78 
cŞÏp£ToEnd
();

79 
cŞÏp£ToS¹
();

80 
ex‹nd
(
Node
*, 
off£t
, 
Exû±iÚCode
&);

81 
	gPassRefPŒ
<
	gRªge
> 
g‘RªgeAt
(, 
Exû±iÚCode
&);

82 
»moveAÎRªges
();

83 
addRªge
(
Rªge
*);

84 
d–‘eFromDocum’t
();

85 
boŞ
 
cÚšsNode
(cÚ¡ 
Node
*, boŞ 
·¹lyCÚšed
) const;

86 
£ËùAÎChd»n
(
Node
*, 
Exû±iÚCode
&);

88 
SŒšg
 
toSŒšg
();

91 
em±y
();

93 
	g´iv©e
:

94 
DOMS–eùiÚ
(
F¿me
*);

97 cÚ¡ 
	gVisibËS–eùiÚ
& 
visibËS–eùiÚ
() const;

99 
boŞ
 
isV®idFÜPos™iÚ
(
Node
*) const;

100 
F¿me
* 
	gm_äame
;

	@DOMTimer.cpp

27 
	~"cÚfig.h
"

28 
	~"DOMTim”.h
"

30 
	~"In¥eùÜTim–šeAg’t.h
"

31 
	~"ScheduËdAùiÚ.h
"

32 
	~"SütExecutiÚCÚ‹xt.h
"

33 
	~<wtf/HashS‘.h
>

34 
	~<wtf/StdLibExŒas.h
>

36 
usšg
 
Çme¥aû
 
	g¡d
;

38 
Çme¥aû
 
	gWebCÜe
 {

40 cÚ¡ 
	gmaxTim”Ne¡šgLev–
 = 5;

41 cÚ¡ 
	gÚeMli£cÚd
 = 0.001;

42 
	gDOMTim”
::
s_mšTim”IÁ”v®
 = 0.010;

44 
	gtim”Ne¡šgLev–
 = 0;

46 
	gDOMTim”
::
DOMTim”
(
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
, 
PassOwnPŒ
<
ScheduËdAùiÚ
> 
aùiÚ
, 
timeout
, 
boŞ
 
sšgËShÙ
)

47 : 
AùiveDOMObjeù
(
cÚ‹xt
, 
this
)

48 , 
m_aùiÚ
(
aùiÚ
)

49 , 
m_ÃxtFœeIÁ”v®
(0)

50 , 
m_»³©IÁ”v®
(0)

51 #ià!
ASSERT_DISABLED


52 , 
m_su¥’ded
(
çl£
)

55 
	gÏ¡U£dTimeoutId
 = 0;

56 ++
	gÏ¡U£dTimeoutId
;

58 ià(
	gÏ¡U£dTimeoutId
 <= 0)

59 
Ï¡U£dTimeoutId
 = 1;

60 
	gm_timeoutId
 = 
Ï¡U£dTimeoutId
;

62 
	gm_Ã¡šgLev–
 = 
tim”Ne¡šgLev–
 + 1;

64 
sütExecutiÚCÚ‹xt
()->
addTimeout
(
m_timeoutId
, 
this
);

66 
	gš‹rv®Mli£cÚds
 = 
max
(
ÚeMli£cÚd
, 
timeout
 * oneMillisecond);

71 ià(
	gš‹rv®Mli£cÚds
 < 
	gs_mšTim”IÁ”v®
 && 
	gm_Ã¡šgLev–
 >ğ
maxTim”Ne¡šgLev–
)

72 
š‹rv®Mli£cÚds
 = 
s_mšTim”IÁ”v®
;

73 ià(
	gsšgËShÙ
)

74 
¡¬tOÃShÙ
(
š‹rv®Mli£cÚds
);

76 
¡¬tR•—tšg
(
š‹rv®Mli£cÚds
);

79 
	gDOMTim”
::~
DOMTim”
()

81 ià(
sütExecutiÚCÚ‹xt
())

82 
sütExecutiÚCÚ‹xt
()->
»moveTimeout
(
m_timeoutId
);

85 
	gDOMTim”
::
š¡®l
(
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
, 
PassOwnPŒ
<
ScheduËdAùiÚ
> 
aùiÚ
, 
timeout
, 
boŞ
 
sšgËShÙ
)

90 
DOMTim”
* 
	gtim”
 = 
Ãw
 DOMTim”(
cÚ‹xt
, 
aùiÚ
, 
timeout
, 
sšgËShÙ
);

92 #ià
ENABLE
(
INSPECTOR
)

93 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = In¥eùÜTim–šeAg’t::
»Œ›ve
(
cÚ‹xt
))

94 
tim–šeAg’t
->
didIn¡®lTim”
(
tim”
->
m_timeoutId
, 
timeout
, 
sšgËShÙ
);

97  
	gtim”
->
	gm_timeoutId
;

100 
	gDOMTim”
::
»moveById
(
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
, 
timeoutId
)

105 ià(
	gtimeoutId
 <= 0)

108 #ià
ENABLE
(
INSPECTOR
)

109 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = In¥eùÜTim–šeAg’t::
»Œ›ve
(
cÚ‹xt
))

110 
tim–šeAg’t
->
didRemoveTim”
(
timeoutId
);

113 
d–‘e
 
	gcÚ‹xt
->
fšdTimeout
(
timeoutId
);

116 
	gDOMTim”
::
fœed
()

118 
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
 = 
sütExecutiÚCÚ‹xt
();

119 
	gtim”Ne¡šgLev–
 = 
m_Ã¡šgLev–
;

121 #ià
ENABLE
(
INSPECTOR
)

122 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = In¥eùÜTim–šeAg’t::
»Œ›ve
(
cÚ‹xt
))

123 
tim–šeAg’t
->
wlFœeTim”
(
m_timeoutId
);

127 ià(
isAùive
()) {

128 ià(
»³©IÁ”v®
(è&&„•—tIÁ”v®(è< 
	gs_mšTim”IÁ”v®
) {

129 
	gm_Ã¡šgLev–
++;

130 ià(
	gm_Ã¡šgLev–
 >ğ
maxTim”Ne¡šgLev–
)

131 
augm’tR•—tIÁ”v®
(
s_mšTim”IÁ”v®
 - 
»³©IÁ”v®
());

135 
	gm_aùiÚ
->
execu‹
(
cÚ‹xt
);

136 #ià
ENABLE
(
INSPECTOR
)

137 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = In¥eùÜTim–šeAg’t::
»Œ›ve
(
cÚ‹xt
))

138 
tim–šeAg’t
->
didFœeTim”
();

144 
ScheduËdAùiÚ
* 
	gaùiÚ
 = 
m_aùiÚ
.
»Ëa£
();

147 
d–‘e
 
	gthis
;

149 
	gaùiÚ
->
execu‹
(
cÚ‹xt
);

150 #ià
ENABLE
(
INSPECTOR
)

151 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = In¥eùÜTim–šeAg’t::
»Œ›ve
(
cÚ‹xt
))

152 
tim–šeAg’t
->
didFœeTim”
();

154 
d–‘e
 
	gaùiÚ
;

155 
	gtim”Ne¡šgLev–
 = 0;

158 
boŞ
 
	gDOMTim”
::
hasP’dšgAùiv™y
() const

160  
isAùive
();

163 
	gDOMTim”
::
cÚ‹xtDe¡royed
()

165 
AùiveDOMObjeù
::
cÚ‹xtDe¡royed
();

166 
d–‘e
 
	gthis
;

169 
	gDOMTim”
::
¡İ
()

171 
Tim”Ba£
::
¡İ
();

175 
	gm_aùiÚ
.
ş—r
();

178 
	gDOMTim”
::
su¥’d
()

180 #ià!
ASSERT_DISABLED


181 
ASSERT
(!
m_su¥’ded
);

182 
	gm_su¥’ded
 = 
Œue
;

184 
	gm_ÃxtFœeIÁ”v®
 = 
ÃxtFœeIÁ”v®
();

185 
	gm_»³©IÁ”v®
 = 
»³©IÁ”v®
();

186 
	gTim”Ba£
::
¡İ
();

189 
	gDOMTim”
::
»sume
()

191 #ià!
ASSERT_DISABLED


192 
ASSERT
(
m_su¥’ded
);

193 
	gm_su¥’ded
 = 
çl£
;

195 
¡¬t
(
m_ÃxtFœeIÁ”v®
, 
m_»³©IÁ”v®
);

199 
boŞ
 
	gDOMTim”
::
ÿnSu¥’d
() const

201  
Œue
;

	@DOMTimer.h

27 #iâdeà
DOMTim”_h


28 
	#DOMTim”_h


	)

30 
	~"AùiveDOMObjeù.h
"

31 
	~"ScheduËdAùiÚ.h
"

32 
	~"Tim”.h
"

33 
	~<wtf/OwnPŒ.h
>

34 
	~<wtf/PassOwnPŒ.h
>

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gIn¥eùÜTim–šeAg’t
;

40 
şass
 
	gDOMTim”
 : 
public
 
Tim”Ba£
,…ubliø
	gAùiveDOMObjeù
 {

41 
	gpublic
:

42 
vœtu®
 ~
DOMTim”
();

45 
š¡®l
(
SütExecutiÚCÚ‹xt
*, 
PassOwnPŒ
<
ScheduËdAùiÚ
>, 
timeout
, 
boŞ
 
sšgËShÙ
);

46 
»moveById
(
SütExecutiÚCÚ‹xt
*, 
timeoutId
);

49 
vœtu®
 
boŞ
 
hasP’dšgAùiv™y
() const;

50 
vœtu®
 
cÚ‹xtDe¡royed
();

51 
vœtu®
 
¡İ
();

52 
vœtu®
 
boŞ
 
ÿnSu¥’d
() const;

53 
vœtu®
 
su¥’d
();

54 
vœtu®
 
»sume
();

59 
mšTim”IÁ”v®
(è{  
	gs_mšTim”IÁ”v®
; }

60 
£tMšTim”IÁ”v®
(
v®ue
è{ 
	gs_mšTim”IÁ”v®
 = value; }

62 
	g´iv©e
:

63 
DOMTim”
(
SütExecutiÚCÚ‹xt
*, 
PassOwnPŒ
<
ScheduËdAùiÚ
>, 
timeout
, 
boŞ
 
sšgËShÙ
);

64 
vœtu®
 
fœed
();

66 
	gm_timeoutId
;

67 
	gm_Ã¡šgLev–
;

68 
	gOwnPŒ
<
	gScheduËdAùiÚ
> 
	gm_aùiÚ
;

69 
	gm_ÃxtFœeIÁ”v®
;

70 
	gm_»³©IÁ”v®
;

71 #ià!
ASSERT_DISABLED


72 
boŞ
 
	gm_su¥’ded
;

74 
	gs_mšTim”IÁ”v®
;

	@DOMWindow.cpp

26 
	~"cÚfig.h
"

27 
	~"DOMWšdow.h
"

29 
	~"Ba£64.h
"

30 
	~"B¬Info.h
"

31 
	~"BefÜeUÆßdEv’t.h
"

32 
	~"CSSCompu‹dStyËDeş¬©iÚ.h
"

33 
	~"CSSRuËLi¡.h
"

34 
	~"CSSStyËS–eùÜ.h
"

35 
	~"Chrome.h
"

36 
	~"CÚsŞe.h
"

37 
	~"D©aba£.h
"

38 
	~"D©aba£C®lback.h
"

39 
	~"DOMAµliÿtiÚCache.h
"

40 
	~"DOMS–eùiÚ.h
"

41 
	~"DOMTim”.h
"

42 
	~"PageT¿ns™iÚEv’t.h
"

43 
	~"Docum’t.h
"

44 
	~"EËm’t.h
"

45 
	~"Ev’tExû±iÚ.h
"

46 
	~"Ev’tLi¡’”.h
"

47 
	~"Ev’tNames.h
"

48 
	~"Exû±iÚCode.h
"

49 
	~"FlßtReù.h
"

50 
	~"F¿me.h
"

51 
	~"F¿meLßd”.h
"

52 
	~"F¿meT»e.h
"

53 
	~"F¿meV›w.h
"

54 
	~"HTMLF¿meOwÃrEËm’t.h
"

55 
	~"Hi¡Üy.h
"

56 
	~"IndexedD©aba£.h
"

57 
	~"IndexedD©aba£Reque¡.h
"

58 
	~"In¥eùÜCÚŒŞËr.h
"

59 
	~"In¥eùÜTim–šeAg’t.h
"

60 
	~"LoÿtiÚ.h
"

61 
	~"MedŸ.h
"

62 
	~"Mes§geEv’t.h
"

63 
	~"Navig©Ü.h
"

64 
	~"NÙifiÿtiÚC’‹r.h
"

65 
	~"Page.h
"

66 
	~"PageGroup.h
"

67 
	~"PÏtfÜmSü“n.h
"

68 
	~"PÏtfÜmSŒšg.h
"

69 
	~"Sü“n.h
"

70 
	~"Secur™yOrigš.h
"

71 
	~"S”ŸlizedSütV®ue.h
"

72 
	~"S‘tšgs.h
"

73 
	~"StÜage.h
"

74 
	~"StÜageA»a.h
"

75 
	~"StÜageName¥aû.h
"

76 
	~"Sudd’T”mš©iÚ.h
"

77 
	~"WebK™Pošt.h
"

78 
	~<®gÜ™hm
>

79 
	~<wtf/‹xt/CSŒšg.h
>

80 
	~<wtf/M©hExŒas.h
>

82 
usšg
 
	g¡d
::
mš
;

83 
usšg
 
	g¡d
::
max
;

85 
Çme¥aû
 
	gWebCÜe
 {

87 şas 
	cPo¡Mes§geTim”
 : 
public
 
Tim”Ba£
 {

88 
public
:

89 
Po¡Mes§geTim”
(
DOMWšdow
* 
wšdow
, 
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, cÚ¡ 
SŒšg
& 
sourûOrigš
, PassRefPŒ<DOMWšdow> 
sourû
, 
PassOwnPŒ
<
Mes§gePÜtChªÃlA¼ay
> 
chªÃls
, 
Secur™yOrigš
* 
rg‘Origš
)

90 : 
m_wšdow
(
wšdow
)

91 , 
m_mes§ge
(
mes§ge
)

92 , 
m_Üigš
(
sourûOrigš
)

93 , 
m_sourû
(
sourû
)

94 , 
m_chªÃls
(
chªÃls
)

95 , 
m_rg‘Origš
(
rg‘Origš
)

99 
	gPassRefPŒ
<
	gMes§geEv’t
> 
ev’t
(
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
)

101 
	gOwnPŒ
<
	gMes§gePÜtA¼ay
> 
	gmes§gePÜts
 = 
Mes§gePÜt
::
’ngËPÜts
(*
cÚ‹xt
, 
m_chªÃls
.
»Ëa£
());

102  
	gMes§geEv’t
::
ü—‹
(
mes§gePÜts
.
»Ëa£
(), 
m_mes§ge
, 
m_Üigš
, "", 
m_sourû
);

104 
Secur™yOrigš
* 
rg‘Origš
(ècÚ¡ {  
	gm_rg‘Origš
.
g‘
(); }

106 
	g´iv©e
:

107 
vœtu®
 
fœed
()

109 
m_wšdow
->
po¡Mes§geTim”Fœed
(
this
);

112 
	gRefPŒ
<
	gDOMWšdow
> 
	gm_wšdow
;

113 
	gRefPŒ
<
	gS”ŸlizedSütV®ue
> 
	gm_mes§ge
;

114 
SŒšg
 
	gm_Üigš
;

115 
	gRefPŒ
<
	gDOMWšdow
> 
	gm_sourû
;

116 
	gOwnPŒ
<
	gMes§gePÜtChªÃlA¼ay
> 
	gm_chªÃls
;

117 
	gRefPŒ
<
	gSecur™yOrigš
> 
	gm_rg‘Origš
;

120 
	gHashCouÁedS‘
<
	tDOMWšdow
*> 
	tDOMWšdowS‘
;

122 
	gDOMWšdowS‘
& 
	$wšdowsW™hUÆßdEv’tLi¡’”s
()

124 
	`DEFINE_STATIC_LOCAL
(
DOMWšdowS‘
, 
wšdowsW™hUÆßdEv’tLi¡’”s
, ());

125  
wšdowsW™hUÆßdEv’tLi¡’”s
;

126 
	}
}

128 
	gDOMWšdowS‘
& 
	$wšdowsW™hBefÜeUÆßdEv’tLi¡’”s
()

130 
	`DEFINE_STATIC_LOCAL
(
DOMWšdowS‘
, 
wšdowsW™hBefÜeUÆßdEv’tLi¡’”s
, ());

131  
wšdowsW™hBefÜeUÆßdEv’tLi¡’”s
;

132 
	}
}

134 
	$addUÆßdEv’tLi¡’”
(
DOMWšdow
* 
domWšdow
)

136 
DOMWšdowS‘
& 
£t
 = 
	`wšdowsW™hUÆßdEv’tLi¡’”s
();

137 ià(
£t
.
	`isEm±y
())

138 
	`di§bËSudd’T”mš©iÚ
();

139 
£t
.
	`add
(
domWšdow
);

140 
	}
}

142 
	$»moveUÆßdEv’tLi¡’”
(
DOMWšdow
* 
domWšdow
)

144 
DOMWšdowS‘
& 
£t
 = 
	`wšdowsW™hUÆßdEv’tLi¡’”s
();

145 
DOMWšdowS‘
::
™”©Ü
 
™
 = 
£t
.
	`fšd
(
domWšdow
);

146 ià(
™
 =ğ
£t
.
	`’d
())

148 
£t
.
	`»move
(
™
);

149 ià(
£t
.
	`isEm±y
())

150 
	`’abËSudd’T”mš©iÚ
();

151 
	}
}

153 
	$»moveAÎUÆßdEv’tLi¡’”s
(
DOMWšdow
* 
domWšdow
)

155 
DOMWšdowS‘
& 
£t
 = 
	`wšdowsW™hUÆßdEv’tLi¡’”s
();

156 
DOMWšdowS‘
::
™”©Ü
 
™
 = 
£t
.
	`fšd
(
domWšdow
);

157 ià(
™
 =ğ
£t
.
	`’d
())

159 
£t
.
	`»moveAÎ
(
™
);

160 ià(
£t
.
	`isEm±y
())

161 
	`’abËSudd’T”mš©iÚ
();

162 
	}
}

164 
	$addBefÜeUÆßdEv’tLi¡’”
(
DOMWšdow
* 
domWšdow
)

166 
DOMWšdowS‘
& 
£t
 = 
	`wšdowsW™hBefÜeUÆßdEv’tLi¡’”s
();

167 ià(
£t
.
	`isEm±y
())

168 
	`di§bËSudd’T”mš©iÚ
();

169 
£t
.
	`add
(
domWšdow
);

170 
	}
}

172 
	$»moveBefÜeUÆßdEv’tLi¡’”
(
DOMWšdow
* 
domWšdow
)

174 
DOMWšdowS‘
& 
£t
 = 
	`wšdowsW™hBefÜeUÆßdEv’tLi¡’”s
();

175 
DOMWšdowS‘
::
™”©Ü
 
™
 = 
£t
.
	`fšd
(
domWšdow
);

176 ià(
™
 =ğ
£t
.
	`’d
())

178 
£t
.
	`»move
(
™
);

179 ià(
£t
.
	`isEm±y
())

180 
	`’abËSudd’T”mš©iÚ
();

181 
	}
}

183 
	$»moveAÎBefÜeUÆßdEv’tLi¡’”s
(
DOMWšdow
* 
domWšdow
)

185 
DOMWšdowS‘
& 
£t
 = 
	`wšdowsW™hBefÜeUÆßdEv’tLi¡’”s
();

186 
DOMWšdowS‘
::
™”©Ü
 
™
 = 
£t
.
	`fšd
(
domWšdow
);

187 ià(
™
 =ğ
£t
.
	`’d
())

189 
£t
.
	`»moveAÎ
(
™
);

190 ià(
£t
.
	`isEm±y
())

191 
	`’abËSudd’T”mš©iÚ
();

192 
	}
}

194 
boŞ
 
	$®lowsBefÜeUÆßdLi¡’”s
(
DOMWšdow
* 
wšdow
)

196 
	`ASSERT_ARG
(
wšdow
, window);

197 
F¿me
* 
äame
 = 
wšdow
->
	`äame
();

198 ià(!
äame
)

199  
çl£
;

200 
Page
* 
·ge
 = 
äame
->
	`·ge
();

201 ià(!
·ge
)

202  
çl£
;

203  
äame
 =ğ
·ge
->
	`mašF¿me
();

204 
	}
}

206 
boŞ
 
	gDOMWšdow
::
	$di¥©chAÎP’dšgBefÜeUÆßdEv’ts
()

208 
DOMWšdowS‘
& 
£t
 = 
	`wšdowsW™hBefÜeUÆßdEv’tLi¡’”s
();

209 ià(
£t
.
	`isEm±y
())

210  
Œue
;

212 
boŞ
 
®»adyDi¥©ched
 = 
çl£
;

213 
	`ASSERT
(!
®»adyDi¥©ched
);

214 ià(
®»adyDi¥©ched
)

215  
Œue
;

217 
VeùÜ
<
RefPŒ
<
DOMWšdow
> > 
wšdows
;

218 
DOMWšdowS‘
::
™”©Ü
 
’d
 = 
£t
.
	`’d
();

219 
DOMWšdowS‘
::
™”©Ü
 
™
 = 
£t
.
	`begš
(); iˆ!ğ
’d
; ++it)

220 
wšdows
.
	`­³nd
(
™
->
fœ¡
);

222 
size_t
 
size
 = 
wšdows
.
	`size
();

223 
size_t
 
i
 = 0; i < 
size
; ++i) {

224 
DOMWšdow
* 
wšdow
 = 
wšdows
[
i
].
	`g‘
();

225 ià(!
£t
.
	`cÚšs
(
wšdow
))

228 
F¿me
* 
äame
 = 
wšdow
->
	`äame
();

229 ià(!
äame
)

232 ià(!
äame
->
	`shouldClo£
())

233  
çl£
;

236 
	`’abËSudd’T”mš©iÚ
();

238 
®»adyDi¥©ched
 = 
Œue
;

240  
Œue
;

241 
	}
}

243 
	gDOMWšdow
::
	$³ndšgUÆßdEv’tLi¡’”s
() const

245  
	`wšdowsW™hUÆßdEv’tLi¡’”s
().
	`couÁ
(
cÚ¡_ÿ¡
<
DOMWšdow
*>(
this
));

246 
	}
}

248 
	gDOMWšdow
::
	$di¥©chAÎP’dšgUÆßdEv’ts
()

250 
DOMWšdowS‘
& 
£t
 = 
	`wšdowsW™hUÆßdEv’tLi¡’”s
();

251 ià(
£t
.
	`isEm±y
())

254 
boŞ
 
®»adyDi¥©ched
 = 
çl£
;

255 
	`ASSERT
(!
®»adyDi¥©ched
);

256 ià(
®»adyDi¥©ched
)

259 
VeùÜ
<
RefPŒ
<
DOMWšdow
> > 
wšdows
;

260 
DOMWšdowS‘
::
™”©Ü
 
’d
 = 
£t
.
	`’d
();

261 
DOMWšdowS‘
::
™”©Ü
 
™
 = 
£t
.
	`begš
(); iˆ!ğ
’d
; ++it)

262 
wšdows
.
	`­³nd
(
™
->
fœ¡
);

264 
size_t
 
size
 = 
wšdows
.
	`size
();

265 
size_t
 
i
 = 0; i < 
size
; ++i) {

266 
DOMWšdow
* 
wšdow
 = 
wšdows
[
i
].
	`g‘
();

267 ià(!
£t
.
	`cÚšs
(
wšdow
))

270 
wšdow
->
	`di¥©chEv’t
(
PageT¿ns™iÚEv’t
::
	`ü—‹
(
	`ev’tNames
().
·gehideEv’t
, 
çl£
), wšdow->
	`docum’t
());

271 
wšdow
->
	`di¥©chEv’t
(
Ev’t
::
	`ü—‹
(
	`ev’tNames
().
uÆßdEv’t
, 
çl£
, f®£), wšdow->
	`docum’t
());

274 
	`’abËSudd’T”mš©iÚ
();

276 
®»adyDi¥©ched
 = 
Œue
;

277 
	}
}

288 
	gDOMWšdow
::
	$adju¡WšdowReù
(cÚ¡ 
FlßtReù
& 
sü“n
, FlßtReù& 
wšdow
, cÚ¡ FlßtReù& 
³ndšgChªges
)

291 
	`ASSERT
(
	`isfš™e
(
sü“n
.
	`x
()));

292 
	`ASSERT
(
	`isfš™e
(
sü“n
.
	`y
()));

293 
	`ASSERT
(
	`isfš™e
(
sü“n
.
	`width
()));

294 
	`ASSERT
(
	`isfš™e
(
sü“n
.
	`height
()));

295 
	`ASSERT
(
	`isfš™e
(
wšdow
.
	`x
()));

296 
	`ASSERT
(
	`isfš™e
(
wšdow
.
	`y
()));

297 
	`ASSERT
(
	`isfš™e
(
wšdow
.
	`width
()));

298 
	`ASSERT
(
	`isfš™e
(
wšdow
.
	`height
()));

301 ià(!
	`i¢ª
(
³ndšgChªges
.
	`x
()))

302 
wšdow
.
	`£tX
(
³ndšgChªges
.
	`x
());

303 ià(!
	`i¢ª
(
³ndšgChªges
.
	`y
()))

304 
wšdow
.
	`£tY
(
³ndšgChªges
.
	`y
());

305 ià(!
	`i¢ª
(
³ndšgChªges
.
	`width
()))

306 
wšdow
.
	`£tWidth
(
³ndšgChªges
.
	`width
());

307 ià(!
	`i¢ª
(
³ndšgChªges
.
	`height
()))

308 
wšdow
.
	`£tHeight
(
³ndšgChªges
.
	`height
());

311 
wšdow
.
	`£tWidth
(
	`mš
(
	`max
(100.0f, wšdow.
	`width
()), 
sü“n
.width()));

312 
wšdow
.
	`£tHeight
(
	`mš
(
	`max
(100.0f, wšdow.
	`height
()), 
sü“n
.height()));

315 
wšdow
.
	`£tX
(
	`max
(
sü“n
.
	`x
(), 
	`mš
(wšdow.x(), sü“n.
	`right
(è- wšdow.
	`width
())));

316 
wšdow
.
	`£tY
(
	`max
(
sü“n
.
	`y
(), 
	`mš
(wšdow.y(), sü“n.
	`bÙtom
(è- wšdow.
	`height
())));

317 
	}
}

319 
	gDOMWšdow
::
·r£Mod®DŸlogF—tu»s
(cÚ¡ 
SŒšg
& 
ã©u»sArg
, 
HashM­
<SŒšg, SŒšg>& 
m­
)

321 
	gVeùÜ
<
	gSŒšg
> 
	gã©u»s
;

322 
	gã©u»sArg
.
¥l™
(';', 
ã©u»s
);

323 
	gVeùÜ
<
	gSŒšg
>::
cÚ¡_™”©Ü
 
’d
 = 
ã©u»s
.end();

324 
	gVeùÜ
<
	gSŒšg
>::
cÚ¡_™”©Ü
 
™
 = 
ã©u»s
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

325 
SŒšg
 
	gs
 = *
™
;

326 
	gpos
 = 
s
.
fšd
('=');

327 
	gcŞÚPos
 = 
s
.
fšd
(':');

328 ià(
	gpos
 >ğ0 && 
cŞÚPos
 >= 0)

330 ià(
	gpos
 < 0)

331 
	gpos
 = 
cŞÚPos
;

332 ià(
	gpos
 < 0) {

334 
	gm­
.
£t
(
s
.
¡rWh™eS·û
().
low”
(), 
SŒšg
());

336 
SŒšg
 
	gkey
 = 
s
.
Ëá
(
pos
).
¡rWh™eS·û
().
low”
();

337 
SŒšg
 
	gv®
 = 
s
.
sub¡ršg
(
pos
 + 1).
¡rWh™eS·û
().
low”
();

338 
	g¥aûPos
 = 
v®
.
fšd
(' ');

339 ià(
	g¥aûPos
 != -1)

340 
v®
 = v®.
Ëá
(
¥aûPos
);

341 
	gm­
.
£t
(
key
, 
v®
);

346 
boŞ
 
	gDOMWšdow
::
	$®lowPİUp
(
F¿me
* 
aùiveF¿me
)

348 
	`ASSERT
(
aùiveF¿me
);

349 
S‘tšgs
* 
£‰šgs
 = 
aùiveF¿me
->
	`£‰šgs
();

350  
£‰šgs
 && s‘tšgs->
	`javaSütCªO³nWšdowsAutom©iÿÎy
();

351 
	}
}

353 
boŞ
 
	gDOMWšdow
::
	$ÿnShowMod®DŸlog
(cÚ¡ 
F¿me
* 
äame
)

355 ià(!
äame
)

356  
çl£
;

357 
Page
* 
·ge
 = 
äame
->
	`·ge
();

358 ià(!
·ge
)

359  
çl£
;

360  
·ge
->
	`chrome
()->
	`ÿnRunMod®
();

361 
	}
}

363 
boŞ
 
	gDOMWšdow
::
	$ÿnShowMod®DŸlogNow
(cÚ¡ 
F¿me
* 
äame
)

365 ià(!
äame
)

366  
çl£
;

367 
Page
* 
·ge
 = 
äame
->
	`·ge
();

368 ià(!
·ge
)

369  
çl£
;

370  
·ge
->
	`chrome
()->
	`ÿnRunMod®Now
();

371 
	}
}

373 
	gDOMWšdow
::
	$DOMWšdow
(
F¿me
* 
äame
)

374 : 
	$m_äame
(
äame
)

376 
	}
}

378 
DOMWšdow
::~
	$DOMWšdow
()

380 ià(
m_äame
)

381 
m_äame
->
	`ş—rFÜm”DOMWšdow
(
this
);

383 
	`»moveAÎUÆßdEv’tLi¡’”s
(
this
);

384 
	`»moveAÎBefÜeUÆßdEv’tLi¡’”s
(
this
);

385 
	}
}

387 
SütExecutiÚCÚ‹xt
* 
	gDOMWšdow
::
	$sütExecutiÚCÚ‹xt
() const

389  
	`docum’t
();

390 
	}
}

392 
	gDOMWšdow
::
	$discÚÃùF¿me
()

394 
m_äame
 = 0;

395 
	`ş—r
();

396 
	}
}

398 
	gDOMWšdow
::
	$ş—r
()

400 ià(
m_sü“n
)

401 
m_sü“n
->
	`discÚÃùF¿me
();

402 
m_sü“n
 = 0;

404 ià(
m_£ËùiÚ
)

405 
m_£ËùiÚ
->
	`discÚÃùF¿me
();

406 
m_£ËùiÚ
 = 0;

408 ià(
m_hi¡Üy
)

409 
m_hi¡Üy
->
	`discÚÃùF¿me
();

410 
m_hi¡Üy
 = 0;

412 ià(
m_loÿtiÚb¬
)

413 
m_loÿtiÚb¬
->
	`discÚÃùF¿me
();

414 
m_loÿtiÚb¬
 = 0;

416 ià(
m_m’ub¬
)

417 
m_m’ub¬
->
	`discÚÃùF¿me
();

418 
m_m’ub¬
 = 0;

420 ià(
m_³rsÚ®b¬
)

421 
m_³rsÚ®b¬
->
	`discÚÃùF¿me
();

422 
m_³rsÚ®b¬
 = 0;

424 ià(
m_süŞlb¬s
)

425 
m_süŞlb¬s
->
	`discÚÃùF¿me
();

426 
m_süŞlb¬s
 = 0;

428 ià(
m_¡©usb¬
)

429 
m_¡©usb¬
->
	`discÚÃùF¿me
();

430 
m_¡©usb¬
 = 0;

432 ià(
m_toŞb¬
)

433 
m_toŞb¬
->
	`discÚÃùF¿me
();

434 
m_toŞb¬
 = 0;

436 ià(
m_cÚsŞe
)

437 
m_cÚsŞe
->
	`discÚÃùF¿me
();

438 
m_cÚsŞe
 = 0;

440 ià(
m_Çvig©Ü
)

441 
m_Çvig©Ü
->
	`discÚÃùF¿me
();

442 
m_Çvig©Ü
 = 0;

444 ià(
m_loÿtiÚ
)

445 
m_loÿtiÚ
->
	`discÚÃùF¿me
();

446 
m_loÿtiÚ
 = 0;

448 ià(
m_medŸ
)

449 
m_medŸ
->
	`discÚÃùF¿me
();

450 
m_medŸ
 = 0;

452 #ià
	`ENABLE
(
DOM_STORAGE
)

453 ià(
m_£ssiÚStÜage
)

454 
m_£ssiÚStÜage
->
	`discÚÃùF¿me
();

455 
m_£ssiÚStÜage
 = 0;

457 ià(
m_loÿlStÜage
)

458 
m_loÿlStÜage
->
	`discÚÃùF¿me
();

459 
m_loÿlStÜage
 = 0;

462 #ià
	`ENABLE
(
OFFLINE_WEB_APPLICATIONS
)

463 ià(
m_­¶iÿtiÚCache
)

464 
m_­¶iÿtiÚCache
->
	`discÚÃùF¿me
();

465 
m_­¶iÿtiÚCache
 = 0;

468 #ià
	`ENABLE
(
NOTIFICATIONS
)

469 ià(
m_nÙifiÿtiÚs
)

470 
m_nÙifiÿtiÚs
->
	`discÚÃùF¿me
();

471 
m_nÙifiÿtiÚs
 = 0;

474 #ià
	`ENABLE
(
INDEXED_DATABASE
)

475 ià(
m_šdexedD©aba£Reque¡
)

476 
m_šdexedD©aba£Reque¡
->
	`discÚÃùF¿me
();

477 
m_šdexedD©aba£Reque¡
 = 0;

479 
	}
}

481 #ià
	$ENABLE
(
ORIENTATION_EVENTS
)

482 
DOMWšdow
::
	$Ü›Á©iÚ
() const

484 ià(!
m_äame
)

487  
m_äame
->
	`Ü›Á©iÚ
();

488 
	}
}

491 
Sü“n
* 
	gDOMWšdow
::
	$sü“n
() const

493 ià(!
m_sü“n
)

494 
m_sü“n
 = 
Sü“n
::
	`ü—‹
(
m_äame
);

495  
m_sü“n
.
	`g‘
();

496 
	}
}

498 
Hi¡Üy
* 
	gDOMWšdow
::
	$hi¡Üy
() const

500 ià(!
m_hi¡Üy
)

501 
m_hi¡Üy
 = 
Hi¡Üy
::
	`ü—‹
(
m_äame
);

502  
m_hi¡Üy
.
	`g‘
();

503 
	}
}

505 
B¬Info
* 
	gDOMWšdow
::
	$loÿtiÚb¬
() const

507 ià(!
m_loÿtiÚb¬
)

508 
m_loÿtiÚb¬
 = 
B¬Info
::
	`ü—‹
(
m_äame
, B¬Info::
LoÿtiÚb¬
);

509  
m_loÿtiÚb¬
.
	`g‘
();

510 
	}
}

512 
B¬Info
* 
	gDOMWšdow
::
	$m’ub¬
() const

514 ià(!
m_m’ub¬
)

515 
m_m’ub¬
 = 
B¬Info
::
	`ü—‹
(
m_äame
, B¬Info::
M’ub¬
);

516  
m_m’ub¬
.
	`g‘
();

517 
	}
}

519 
B¬Info
* 
	gDOMWšdow
::
	$³rsÚ®b¬
() const

521 ià(!
m_³rsÚ®b¬
)

522 
m_³rsÚ®b¬
 = 
B¬Info
::
	`ü—‹
(
m_äame
, B¬Info::
P”sÚ®b¬
);

523  
m_³rsÚ®b¬
.
	`g‘
();

524 
	}
}

526 
B¬Info
* 
	gDOMWšdow
::
	$süŞlb¬s
() const

528 ià(!
m_süŞlb¬s
)

529 
m_süŞlb¬s
 = 
B¬Info
::
	`ü—‹
(
m_äame
, B¬Info::
SüŞlb¬s
);

530  
m_süŞlb¬s
.
	`g‘
();

531 
	}
}

533 
B¬Info
* 
	gDOMWšdow
::
	$¡©usb¬
() const

535 ià(!
m_¡©usb¬
)

536 
m_¡©usb¬
 = 
B¬Info
::
	`ü—‹
(
m_äame
, B¬Info::
Stusb¬
);

537  
m_¡©usb¬
.
	`g‘
();

538 
	}
}

540 
B¬Info
* 
	gDOMWšdow
::
	$toŞb¬
() const

542 ià(!
m_toŞb¬
)

543 
m_toŞb¬
 = 
B¬Info
::
	`ü—‹
(
m_äame
, B¬Info::
ToŞb¬
);

544  
m_toŞb¬
.
	`g‘
();

545 
	}
}

547 
CÚsŞe
* 
	gDOMWšdow
::
	$cÚsŞe
() const

549 ià(!
m_cÚsŞe
)

550 
m_cÚsŞe
 = 
CÚsŞe
::
	`ü—‹
(
m_äame
);

551  
m_cÚsŞe
.
	`g‘
();

552 
	}
}

554 #ià
	$ENABLE
(
OFFLINE_WEB_APPLICATIONS
)

555 
DOMAµliÿtiÚCache
* 
DOMWšdow
::
	$­¶iÿtiÚCache
() const

557 ià(!
m_­¶iÿtiÚCache
)

558 
m_­¶iÿtiÚCache
 = 
DOMAµliÿtiÚCache
::
	`ü—‹
(
m_äame
);

559  
m_­¶iÿtiÚCache
.
	`g‘
();

560 
	}
}

563 
Navig©Ü
* 
	gDOMWšdow
::
	$Çvig©Ü
() const

565 ià(!
m_Çvig©Ü
)

566 
m_Çvig©Ü
 = 
Navig©Ü
::
	`ü—‹
(
m_äame
);

567  
m_Çvig©Ü
.
	`g‘
();

568 
	}
}

570 
LoÿtiÚ
* 
	gDOMWšdow
::
	$loÿtiÚ
() const

572 ià(!
m_loÿtiÚ
)

573 
m_loÿtiÚ
 = 
LoÿtiÚ
::
	`ü—‹
(
m_äame
);

574  
m_loÿtiÚ
.
	`g‘
();

575 
	}
}

577 #ià
	$ENABLE
(
DOM_STORAGE
)

578 
StÜage
* 
DOMWšdow
::
	$£ssiÚStÜage
() const

580 ià(
m_£ssiÚStÜage
)

581  
m_£ssiÚStÜage
.
	`g‘
();

583 
Docum’t
* 
docum’t
 = 
this
->
	`docum’t
();

584 ià(!
docum’t
)

587 
Page
* 
·ge
 = 
docum’t
->
	`·ge
();

588 ià(!
·ge
)

591 
RefPŒ
<
StÜageA»a
> 
¡ÜageA»a
 = 
·ge
->
	`£ssiÚStÜage
()->
	`¡ÜageA»a
(
docum’t
->
	`£cur™yOrigš
());

592 #ià
	`ENABLE
(
INSPECTOR
)

593 
·ge
->
	`š¥eùÜCÚŒŞËr
()->
	`didU£DOMStÜage
(
¡ÜageA»a
.
	`g‘
(), 
çl£
, 
m_äame
);

596 
m_£ssiÚStÜage
 = 
StÜage
::
	`ü—‹
(
m_äame
, 
¡ÜageA»a
.
	`»Ëa£
());

597  
m_£ssiÚStÜage
.
	`g‘
();

598 
	}
}

600 
StÜage
* 
	gDOMWšdow
::
	$loÿlStÜage
(
Exû±iÚCode
& 
ec
) const

602 ià(
m_loÿlStÜage
)

603  
m_loÿlStÜage
.
	`g‘
();

605 
Docum’t
* 
docum’t
 = 
this
->
	`docum’t
();

606 ià(!
docum’t
)

609 ià(!
docum’t
->
	`£cur™yOrigš
()->
	`ÿnAcûssLoÿlStÜage
()) {

610 
ec
 = 
SECURITY_ERR
;

614 
Page
* 
·ge
 = 
docum’t
->
	`·ge
();

615 ià(!
·ge
)

618 ià(!
·ge
->
	`£‰šgs
()->
	`loÿlStÜageEÇbËd
())

621 
RefPŒ
<
StÜageA»a
> 
¡ÜageA»a
 = 
·ge
->
	`group
().
	`loÿlStÜage
()->
	`¡ÜageA»a
(
docum’t
->
	`£cur™yOrigš
());

622 #ià
	`ENABLE
(
INSPECTOR
)

623 
·ge
->
	`š¥eùÜCÚŒŞËr
()->
	`didU£DOMStÜage
(
¡ÜageA»a
.
	`g‘
(), 
Œue
, 
m_äame
);

626 
m_loÿlStÜage
 = 
StÜage
::
	`ü—‹
(
m_äame
, 
¡ÜageA»a
.
	`»Ëa£
());

627  
m_loÿlStÜage
.
	`g‘
();

628 
	}
}

631 #ià
	$ENABLE
(
NOTIFICATIONS
)

632 
NÙifiÿtiÚC’‹r
* 
DOMWšdow
::
	$webk™NÙifiÿtiÚs
() const

634 ià(
m_nÙifiÿtiÚs
)

635  
m_nÙifiÿtiÚs
.
	`g‘
();

637 
Docum’t
* 
docum’t
 = 
this
->
	`docum’t
();

638 ià(!
docum’t
)

641 
Page
* 
·ge
 = 
docum’t
->
	`·ge
();

642 ià(!
·ge
)

645 
NÙifiÿtiÚP»£Á”
* 
´ovid”
 = 
·ge
->
	`chrome
()->
	`nÙifiÿtiÚP»£Á”
();

646 ià(
´ovid”
)

647 
m_nÙifiÿtiÚs
 = 
NÙifiÿtiÚC’‹r
::
	`ü—‹
(
docum’t
, 
´ovid”
);

649  
m_nÙifiÿtiÚs
.
	`g‘
();

650 
	}
}

653 #ià
	$ENABLE
(
INDEXED_DATABASE
)

654 
IndexedD©aba£Reque¡
* 
DOMWšdow
::
	$šdexedDB
() const

656 ià(
m_šdexedD©aba£Reque¡
)

657  
m_šdexedD©aba£Reque¡
.
	`g‘
();

659 
Docum’t
* 
docum’t
 = 
this
->
	`docum’t
();

660 ià(!
docum’t
)

665 
Page
* 
·ge
 = 
docum’t
->
	`·ge
();

666 ià(!
·ge
)

671 
m_šdexedD©aba£Reque¡
 = 
IndexedD©aba£Reque¡
::
	`ü—‹
(
·ge
->
	`group
().
	`šdexedD©aba£
(), 
m_äame
);

672  
m_šdexedD©aba£Reque¡
.
	`g‘
();

673 
	}
}

676 
	gDOMWšdow
::
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, 
Mes§gePÜt
* 
pÜt
, cÚ¡ 
SŒšg
& 
rg‘Origš
, 
DOMWšdow
* 
sourû
, 
Exû±iÚCode
& 
ec
)

678 
Mes§gePÜtA¼ay
 
	gpÜts
;

679 ià(
	gpÜt
)

680 
	gpÜts
.
­³nd
(
pÜt
);

681 
po¡Mes§ge
(
mes§ge
, &
pÜts
, 
rg‘Origš
, 
sourû
, 
ec
);

684 
	gDOMWšdow
::
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, cÚ¡ 
Mes§gePÜtA¼ay
* 
pÜts
, cÚ¡ 
SŒšg
& 
rg‘Origš
, 
DOMWšdow
* 
sourû
, 
Exû±iÚCode
& 
ec
)

686 ià(!
	gm_äame
)

691 
	gRefPŒ
<
	gSecur™yOrigš
> 
	grg‘
;

692 ià(
	grg‘Origš
 != "*") {

693 
rg‘
 = 
Secur™yOrigš
::
ü—‹FromSŒšg
(
rg‘Origš
);

694 ià(
	grg‘
->
isEm±y
()) {

695 
	gec
 = 
SYNTAX_ERR
;

700 
	gOwnPŒ
<
	gMes§gePÜtChªÃlA¼ay
> 
	gchªÃls
 = 
Mes§gePÜt
::
di£ÁªgËPÜts
(
pÜts
, 
ec
);

701 ià(
	gec
)

706 
Docum’t
* 
	gsourûDocum’t
 = 
sourû
->
docum’t
();

707 ià(!
	gsourûDocum’t
)

709 
SŒšg
 
	gsourûOrigš
 = 
sourûDocum’t
->
£cur™yOrigš
()->
toSŒšg
();

712 
Po¡Mes§geTim”
* 
	gtim”
 = 
Ãw
 Po¡Mes§geTim”(
this
, 
mes§ge
, 
sourûOrigš
, 
sourû
, 
chªÃls
.
»Ëa£
(), 
rg‘
.
g‘
());

713 
	gtim”
->
¡¬tOÃShÙ
(0);

716 
	gDOMWšdow
::
	$po¡Mes§geTim”Fœed
(
Po¡Mes§geTim”
* 
t
)

718 
OwnPŒ
<
Po¡Mes§geTim”
> 
	`tim”
(
t
);

720 ià(!
	`docum’t
())

723 ià(
tim”
->
	`rg‘Origš
()) {

725 ià(!
tim”
->
	`rg‘Origš
()->
	`isSameSchemeHo¡PÜt
(
	`docum’t
()->
	`£cur™yOrigš
())) {

726 
SŒšg
 
mes§ge
 = SŒšg::
	`fÜm©
("Unableo…ost messageo %s. Recipient has origin %s.\n",

727 
tim”
->
	`rg‘Origš
()->
	`toSŒšg
().
	`utf8
().
	`d©a
(), 
	`docum’t
()->
	`£cur™yOrigš
()->toString().utf8().data());

728 
	`cÚsŞe
()->
	`addMes§ge
(
JSMes§geSourû
, 
LogMes§geTy³
, 
E¼ÜMes§geLev–
, 
mes§ge
, 0, 
	`SŒšg
());

733 
	`di¥©chEv’t
(
tim”
->
	`ev’t
(
	`docum’t
()));

734 
	}
}

736 
DOMS–eùiÚ
* 
	gDOMWšdow
::
	$g‘S–eùiÚ
()

738 ià(!
m_£ËùiÚ
)

739 
m_£ËùiÚ
 = 
DOMS–eùiÚ
::
	`ü—‹
(
m_äame
);

740  
m_£ËùiÚ
.
	`g‘
();

741 
	}
}

743 
EËm’t
* 
	gDOMWšdow
::
	$äameEËm’t
() const

745 ià(!
m_äame
)

748  
m_äame
->
	`owÃrEËm’t
();

749 
	}
}

751 
	gDOMWšdow
::
	$focus
()

753 ià(!
m_äame
)

756 
m_äame
->
	`focusWšdow
();

757 
	}
}

759 
	gDOMWšdow
::
	$blur
()

761 ià(!
m_äame
)

764 
m_äame
->
	`unfocusWšdow
();

765 
	}
}

767 
	gDOMWšdow
::
	$şo£
()

769 ià(!
m_äame
)

772 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

773 ià(!
·ge
)

776 ià(
m_äame
 !ğ
·ge
->
	`mašF¿me
())

779 
S‘tšgs
* 
£‰šgs
 = 
m_äame
->
	`£‰šgs
();

780 
boŞ
 
®lowSütsToClo£Wšdows
 = 
£‰šgs
 && s‘tšgs->
	`®lowSütsToClo£Wšdows
();

782 ià(
·ge
->
	`İ’edByDOM
(è||…age->
	`g‘Hi¡ÜyL’gth
(è<ğ1 || 
®lowSütsToClo£Wšdows
)

783 
m_äame
->
	`scheduËClo£
();

784 
	}
}

786 
	gDOMWšdow
::
	$´št
()

788 ià(!
m_äame
)

791 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

792 ià(!
·ge
)

795 
·ge
->
	`chrome
()->
	`´št
(
m_äame
);

796 
	}
}

798 
	gDOMWšdow
::
	$¡İ
()

800 ià(!
m_äame
)

805 
m_äame
->
	`lßd”
()->
	`¡İFÜU£rCªûl
(
Œue
);

806 
	}
}

808 
	gDOMWšdow
::
	$®”t
(cÚ¡ 
SŒšg
& 
mes§ge
)

810 ià(!
m_äame
)

813 
m_äame
->
	`docum’t
()->
	`upd©eStyËIfN“ded
();

815 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

816 ià(!
·ge
)

819 
·ge
->
	`chrome
()->
	`runJavaSütAË¹
(
m_äame
, 
mes§ge
);

820 
	}
}

822 
boŞ
 
	gDOMWšdow
::
	$cÚfœm
(cÚ¡ 
SŒšg
& 
mes§ge
)

824 ià(!
m_äame
)

825  
çl£
;

827 
m_äame
->
	`docum’t
()->
	`upd©eStyËIfN“ded
();

829 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

830 ià(!
·ge
)

831  
çl£
;

833  
·ge
->
	`chrome
()->
	`runJavaSütCÚfœm
(
m_äame
, 
mes§ge
);

834 
	}
}

836 
SŒšg
 
	gDOMWšdow
::
	$´om±
(cÚ¡ 
SŒšg
& 
mes§ge
, cÚ¡ SŒšg& 
deçuÉV®ue
)

838 ià(!
m_äame
)

839  
	`SŒšg
();

841 
m_äame
->
	`docum’t
()->
	`upd©eStyËIfN“ded
();

843 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

844 ià(!
·ge
)

845  
	`SŒšg
();

847 
SŒšg
 
»tuºV®ue
;

848 ià(
·ge
->
	`chrome
()->
	`runJavaSütProm±
(
m_äame
, 
mes§ge
, 
deçuÉV®ue
, 
»tuºV®ue
))

849  
»tuºV®ue
;

851  
	`SŒšg
();

852 
	}
}

854 
boŞ
 
	$isSaãToCÚv”tCh¬Li¡
(cÚ¡ 
SŒšg
& 
¡ršg
)

856 
i
 = 0; i < 
¡ršg
.
	`Ëngth
(); i++) {

857 ià(
¡ršg
[
i
] > 0xFF)

858  
çl£
;

861  
Œue
;

862 
	}
}

864 
SŒšg
 
	gDOMWšdow
::
	$btß
(cÚ¡ 
SŒšg
& 
¡ršgToEncode
, 
Exû±iÚCode
& 
ec
)

866 ià(
¡ršgToEncode
.
	`isNuÎ
())

867  
	`SŒšg
();

869 ià(!
	`isSaãToCÚv”tCh¬Li¡
(
¡ršgToEncode
)) {

870 
ec
 = 
INVALID_CHARACTER_ERR
;

871  
	`SŒšg
();

874 
VeùÜ
<> 
š
;

875 
š
.
	`­³nd
(
¡ršgToEncode
.
	`ch¬aù”s
(), sŒšgToEncode.
	`Ëngth
());

876 
VeùÜ
<> 
out
;

878 
	`ba£64Encode
(
š
, 
out
);

880  
	`SŒšg
(
out
.
	`d©a
(), out.
	`size
());

881 
	}
}

883 
SŒšg
 
	gDOMWšdow
::
	$©ob
(cÚ¡ 
SŒšg
& 
’codedSŒšg
, 
Exû±iÚCode
& 
ec
)

885 ià(
’codedSŒšg
.
	`isNuÎ
())

886  
	`SŒšg
();

888 ià(!
	`isSaãToCÚv”tCh¬Li¡
(
’codedSŒšg
)) {

889 
ec
 = 
INVALID_CHARACTER_ERR
;

890  
	`SŒšg
();

893 
VeùÜ
<> 
š
;

894 
š
.
	`­³nd
(
’codedSŒšg
.
	`ch¬aù”s
(),ƒncodedSŒšg.
	`Ëngth
());

895 
VeùÜ
<> 
out
;

897 ià(!
	`ba£64Decode
(
š
, 
out
)) {

898 
ec
 = 
INVALID_CHARACTER_ERR
;

899  
	`SŒšg
();

902  
	`SŒšg
(
out
.
	`d©a
(), out.
	`size
());

903 
	}
}

905 
boŞ
 
	gDOMWšdow
::
	$fšd
(cÚ¡ 
SŒšg
& 
¡ršg
, 
boŞ
 
ÿ£S’s™ive
, boŞ 
backw¬ds
, boŞ 
w¿p
, bool , bool , bool ) const

907 ià(!
m_äame
)

908  
çl£
;

911  
m_äame
->
	`fšdSŒšg
(
¡ršg
, !
backw¬ds
, 
ÿ£S’s™ive
, 
w¿p
, 
çl£
);

912 
	}
}

914 
boŞ
 
	gDOMWšdow
::
	$offsü“nBufãršg
() const

916  
Œue
;

917 
	}
}

919 
	gDOMWšdow
::
	$ou‹rHeight
() const

921 ià(!
m_äame
)

924 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

925 ià(!
·ge
)

928  
¡©ic_ÿ¡
<>(
·ge
->
	`chrome
()->
	`wšdowReù
().
	`height
());

929 
	}
}

931 
	gDOMWšdow
::
	$ou‹rWidth
() const

933 ià(!
m_äame
)

936 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

937 ià(!
·ge
)

940  
¡©ic_ÿ¡
<>(
·ge
->
	`chrome
()->
	`wšdowReù
().
	`width
());

941 
	}
}

943 
	gDOMWšdow
::
	$šÃrHeight
() const

945 ià(!
m_äame
)

948 
F¿meV›w
* 
v›w
 = 
m_äame
->
	`v›w
();

949 ià(!
v›w
)

952  
¡©ic_ÿ¡
<>(
v›w
->
	`height
(è/ 
m_äame
->
	`·geZoomFaùÜ
());

953 
	}
}

955 
	gDOMWšdow
::
	$šÃrWidth
() const

957 ià(!
m_äame
)

960 
F¿meV›w
* 
v›w
 = 
m_äame
->
	`v›w
();

961 ià(!
v›w
)

964  
¡©ic_ÿ¡
<>(
v›w
->
	`width
(è/ 
m_äame
->
	`·geZoomFaùÜ
());

965 
	}
}

967 
	gDOMWšdow
::
	$sü“nX
() const

969 ià(!
m_äame
)

972 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

973 ià(!
·ge
)

976  
¡©ic_ÿ¡
<>(
·ge
->
	`chrome
()->
	`wšdowReù
().
	`x
());

977 
	}
}

979 
	gDOMWšdow
::
	$sü“nY
() const

981 ià(!
m_äame
)

984 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

985 ià(!
·ge
)

988  
¡©ic_ÿ¡
<>(
·ge
->
	`chrome
()->
	`wšdowReù
().
	`y
());

989 
	}
}

991 
	gDOMWšdow
::
	$süŞlX
() const

993 ià(!
m_äame
)

996 
F¿meV›w
* 
v›w
 = 
m_äame
->
	`v›w
();

997 ià(!
v›w
)

1000 
m_äame
->
	`docum’t
()->
	`upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1002  
¡©ic_ÿ¡
<>(
v›w
->
	`süŞlX
(è/ 
m_äame
->
	`·geZoomFaùÜ
());

1003 
	}
}

1005 
	gDOMWšdow
::
	$süŞlY
() const

1007 ià(!
m_äame
)

1010 
F¿meV›w
* 
v›w
 = 
m_äame
->
	`v›w
();

1011 ià(!
v›w
)

1014 
m_äame
->
	`docum’t
()->
	`upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1016  
¡©ic_ÿ¡
<>(
v›w
->
	`süŞlY
(è/ 
m_äame
->
	`·geZoomFaùÜ
());

1017 
	}
}

1019 
boŞ
 
	gDOMWšdow
::
	$şo£d
() const

1021  !
m_äame
;

1022 
	}
}

1024 
	gDOMWšdow
::
	$Ëngth
() const

1026 ià(!
m_äame
)

1029  
m_äame
->
	`Œ“
()->
	`chdCouÁ
();

1030 
	}
}

1032 
SŒšg
 
	gDOMWšdow
::
	$Çme
() const

1034 ià(!
m_äame
)

1035  
	`SŒšg
();

1037  
m_äame
->
	`Œ“
()->
	`Çme
();

1038 
	}
}

1040 
	gDOMWšdow
::
	$£tName
(cÚ¡ 
SŒšg
& 
¡ršg
)

1042 ià(!
m_äame
)

1045 
m_äame
->
	`Œ“
()->
	`£tName
(
¡ršg
);

1046 
	}
}

1048 
SŒšg
 
	gDOMWšdow
::
	$¡©us
() const

1050 ià(!
m_äame
)

1051  
	`SŒšg
();

1053  
m_äame
->
	`jsStusB¬Text
();

1054 
	}
}

1056 
	gDOMWšdow
::
	$£tStus
(cÚ¡ 
SŒšg
& 
¡ršg
)

1058 ià(!
m_äame
)

1061 
m_äame
->
	`£tJSStusB¬Text
(
¡ršg
);

1062 
	}
}

1064 
SŒšg
 
	gDOMWšdow
::
	$deçuÉStus
() const

1066 ià(!
m_äame
)

1067  
	`SŒšg
();

1069  
m_äame
->
	`jsDeçuÉStusB¬Text
();

1070 
	}
}

1072 
	gDOMWšdow
::
	$£tDeçuÉStus
(cÚ¡ 
SŒšg
& 
¡ršg
)

1074 ià(!
m_äame
)

1077 
m_äame
->
	`£tJSDeçuÉStusB¬Text
(
¡ršg
);

1078 
	}
}

1080 
DOMWšdow
* 
	gDOMWšdow
::
	$£lf
() const

1082 ià(!
m_äame
)

1085  
m_äame
->
	`domWšdow
();

1086 
	}
}

1088 
DOMWšdow
* 
	gDOMWšdow
::
	$İ’”
() const

1090 ià(!
m_äame
)

1093 
F¿me
* 
İ’”
 = 
m_äame
->
	`lßd”
()->
	`İ’”
();

1094 ià(!
İ’”
)

1097  
İ’”
->
	`domWšdow
();

1098 
	}
}

1100 
DOMWšdow
* 
	gDOMWšdow
::
	$·»Á
() const

1102 ià(!
m_äame
)

1105 
F¿me
* 
·»Á
 = 
m_äame
->
	`Œ“
()->
	`·»Á
(
Œue
);

1106 ià(
·»Á
)

1107  
·»Á
->
	`domWšdow
();

1109  
m_äame
->
	`domWšdow
();

1110 
	}
}

1112 
DOMWšdow
* 
	gDOMWšdow
::
	$tİ
() const

1114 ià(!
m_äame
)

1117 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

1118 ià(!
·ge
)

1121  
m_äame
->
	`Œ“
()->
	`tİ
(
Œue
)->
	`domWšdow
();

1122 
	}
}

1124 
Docum’t
* 
	gDOMWšdow
::
	$docum’t
() const

1127 ià(!
m_äame
)

1132 ià(
m_äame
->
	`domWšdow
(è!ğ
this
)

1135 
	`ASSERT
(
m_äame
->
	`docum’t
());

1136  
m_äame
->
	`docum’t
();

1137 
	}
}

1139 
	gPassRefPŒ
<
	gMedŸ
> 
	gDOMWšdow
::
	$medŸ
() const

1141 ià(!
m_medŸ
)

1142 
m_medŸ
 = 
MedŸ
::
	`ü—‹
(
m_äame
);

1143  
m_medŸ
.
	`g‘
();

1144 
	}
}

1146 
	gPassRefPŒ
<
	gCSSStyËDeş¬©iÚ
> 
	gDOMWšdow
::
	$g‘Compu‹dStyË
(
EËm’t
* 
–t
, cÚ¡ 
SŒšg
&) const

1148 ià(!
–t
)

1152  
	`compu‹dStyË
(
–t
);

1153 
	}
}

1155 
	gPassRefPŒ
<
	gCSSRuËLi¡
> 
	gDOMWšdow
::
	$g‘M©chedCSSRuËs
(
EËm’t
* 
–t
, cÚ¡ 
SŒšg
&, 
boŞ
 
authÜOÆy
) const

1157 ià(!
m_äame
)

1160 
Docum’t
* 
doc
 = 
m_äame
->
	`docum’t
();

1161  
doc
->
	`¡yËS–eùÜ
()->
	`¡yËRuËsFÜEËm’t
(
–t
, 
authÜOÆy
);

1162 
	}
}

1164 
	gPassRefPŒ
<
	gWebK™Pošt
> 
	gDOMWšdow
::
	$webk™CÚv”tPoštFromNodeToPage
(
Node
* 
node
, cÚ¡ 
WebK™Pošt
* 
p
) const

1166 ià(!
node
 || !
p
)

1169 
m_äame
->
	`docum’t
()->
	`upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1171 
FlßtPošt
 
	`·gePošt
(
p
->
	`x
(),…->
	`y
());

1172 
·gePošt
 = 
node
->
	`cÚv”tToPage
(pagePoint);

1173  
WebK™Pošt
::
	`ü—‹
(
·gePošt
.
	`x
(),…agePošt.
	`y
());

1174 
	}
}

1176 
	gPassRefPŒ
<
	gWebK™Pošt
> 
	gDOMWšdow
::
	$webk™CÚv”tPoštFromPageToNode
(
Node
* 
node
, cÚ¡ 
WebK™Pošt
* 
p
) const

1178 ià(!
node
 || !
p
)

1181 
m_äame
->
	`docum’t
()->
	`upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1183 
FlßtPošt
 
	`nodePošt
(
p
->
	`x
(),…->
	`y
());

1184 
nodePošt
 = 
node
->
	`cÚv”tFromPage
(nodePoint);

1185  
WebK™Pošt
::
	`ü—‹
(
nodePošt
.
	`x
(),‚odePošt.
	`y
());

1186 
	}
}

1188 
	gDOMWšdow
::
	$deviûPix–R©io
() const

1190 ià(!
m_äame
)

1193 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

1194 ià(!
·ge
)

1197  
·ge
->
	`chrome
()->
	`sÿËFaùÜ
();

1198 
	}
}

1200 #ià
	$ENABLE
(
DATABASE
)

1201 
PassRefPŒ
<
D©aba£
> 
DOMWšdow
::
	`İ’D©aba£
(cÚ¡ 
SŒšg
& 
Çme
, cÚ¡ SŒšg& 
v”siÚ
, cÚ¡ SŒšg& 
di¥ÏyName
, 
e¡im©edSize
, PassRefPŒ<
D©aba£C®lback
> 
ü—tiÚC®lback
, 
Exû±iÚCode
& 
ec
)

1203 ià(!
m_äame
)

1206 ià(!
D©aba£
::
	`isAvaabË
())

1209 
Docum’t
* 
docum’t
 = 
m_äame
->
	`docum’t
();

1210 ià(!
docum’t
->
	`£cur™yOrigš
()->
	`ÿnAcûssD©aba£
()) {

1211 
ec
 = 
SECURITY_ERR
;

1215  
D©aba£
::
	`İ’D©aba£
(
docum’t
, 
Çme
, 
v”siÚ
, 
di¥ÏyName
, 
e¡im©edSize
, 
ü—tiÚC®lback
, 
ec
);

1216 
	}
}

1219 
	gDOMWšdow
::
	$süŞlBy
(
x
, 
y
) const

1221 ià(!
m_äame
)

1224 
m_äame
->
	`docum’t
()->
	`upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1226 
F¿meV›w
* 
v›w
 = 
m_äame
->
	`v›w
();

1227 ià(!
v›w
)

1230 
v›w
->
	`süŞlBy
(
	`IÁSize
(
x
, 
y
));

1231 
	}
}

1233 
	gDOMWšdow
::
	$süŞlTo
(
x
, 
y
) const

1235 ià(!
m_äame
)

1238 
m_äame
->
	`docum’t
()->
	`upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1240 
F¿meV›w
* 
v›w
 = 
m_äame
->
	`v›w
();

1241 ià(!
v›w
)

1244 
zoomedX
 = 
¡©ic_ÿ¡
<>(
x
 * 
m_äame
->
	`·geZoomFaùÜ
());

1245 
zoomedY
 = 
¡©ic_ÿ¡
<>(
y
 * 
m_äame
->
	`·geZoomFaùÜ
());

1246 
v›w
->
	`£tSüŞlPos™iÚ
(
	`IÁPošt
(
zoomedX
, 
zoomedY
));

1247 
	}
}

1249 
	gDOMWšdow
::
	$moveBy
(
x
, 
y
) const

1251 ià(!
m_äame
)

1254 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

1255 ià(!
·ge
)

1258 ià(
m_äame
 !ğ
·ge
->
	`mašF¿me
())

1261 
FlßtReù
 
ä
 = 
·ge
->
	`chrome
()->
	`wšdowReù
();

1262 
FlßtReù
 
upd©e
 = 
ä
;

1263 
upd©e
.
	`move
(
x
, 
y
);

1265 
	`adju¡WšdowReù
(
	`sü“nAvaabËReù
(
·ge
->
	`mašF¿me
()->
	`v›w
()), 
ä
, 
upd©e
);

1266 
·ge
->
	`chrome
()->
	`£tWšdowReù
(
ä
);

1267 
	}
}

1269 
	gDOMWšdow
::
	$moveTo
(
x
, 
y
) const

1271 ià(!
m_äame
)

1274 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

1275 ià(!
·ge
)

1278 ià(
m_äame
 !ğ
·ge
->
	`mašF¿me
())

1281 
FlßtReù
 
ä
 = 
·ge
->
	`chrome
()->
	`wšdowReù
();

1282 
FlßtReù
 
¤
 = 
	`sü“nAvaabËReù
(
·ge
->
	`mašF¿me
()->
	`v›w
());

1283 
ä
.
	`£tLoÿtiÚ
(
¤
.
	`loÿtiÚ
());

1284 
FlßtReù
 
upd©e
 = 
ä
;

1285 
upd©e
.
	`move
(
x
, 
y
);

1287 
	`adju¡WšdowReù
(
¤
, 
ä
, 
upd©e
);

1288 
·ge
->
	`chrome
()->
	`£tWšdowReù
(
ä
);

1289 
	}
}

1291 
	gDOMWšdow
::
	$»sizeBy
(
x
, 
y
) const

1293 ià(!
m_äame
)

1296 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

1297 ià(!
·ge
)

1300 ià(
m_äame
 !ğ
·ge
->
	`mašF¿me
())

1303 
FlßtReù
 
ä
 = 
·ge
->
	`chrome
()->
	`wšdowReù
();

1304 
FlßtSize
 
de¡
 = 
ä
.
	`size
(è+ 
	`FlßtSize
(
x
, 
y
);

1305 
FlßtReù
 
	`upd©e
(
ä
.
	`loÿtiÚ
(), 
de¡
);

1306 
	`adju¡WšdowReù
(
	`sü“nAvaabËReù
(
·ge
->
	`mašF¿me
()->
	`v›w
()), 
ä
, 
upd©e
);

1307 
·ge
->
	`chrome
()->
	`£tWšdowReù
(
ä
);

1308 
	}
}

1310 
	gDOMWšdow
::
	$»sizeTo
(
width
, 
height
) const

1312 ià(!
m_äame
)

1315 
Page
* 
·ge
 = 
m_äame
->
	`·ge
();

1316 ià(!
·ge
)

1319 ià(
m_äame
 !ğ
·ge
->
	`mašF¿me
())

1322 
FlßtReù
 
ä
 = 
·ge
->
	`chrome
()->
	`wšdowReù
();

1323 
FlßtSize
 
de¡
 = 
	`FlßtSize
(
width
, 
height
);

1324 
FlßtReù
 
	`upd©e
(
ä
.
	`loÿtiÚ
(), 
de¡
);

1325 
	`adju¡WšdowReù
(
	`sü“nAvaabËReù
(
·ge
->
	`mašF¿me
()->
	`v›w
()), 
ä
, 
upd©e
);

1326 
·ge
->
	`chrome
()->
	`£tWšdowReù
(
ä
);

1327 
	}
}

1329 
	gDOMWšdow
::
£tTimeout
(
PassOwnPŒ
<
ScheduËdAùiÚ
> 
aùiÚ
, 
timeout
, 
Exû±iÚCode
& 
ec
)

1331 
SütExecutiÚCÚ‹xt
* 
	gcÚ‹xt
 = 
sütExecutiÚCÚ‹xt
();

1332 ià(!
	gcÚ‹xt
) {

1333 
	gec
 = 
INVALID_ACCESS_ERR
;

1336  
	gDOMTim”
::
š¡®l
(
cÚ‹xt
, 
aùiÚ
, 
timeout
, 
Œue
);

1339 
	gDOMWšdow
::
	$ş—rTimeout
(
timeoutId
)

1341 
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
 = 
	`sütExecutiÚCÚ‹xt
();

1342 ià(!
cÚ‹xt
)

1344 
DOMTim”
::
	`»moveById
(
cÚ‹xt
, 
timeoutId
);

1345 
	}
}

1347 
	gDOMWšdow
::
£tIÁ”v®
(
PassOwnPŒ
<
ScheduËdAùiÚ
> 
aùiÚ
, 
timeout
, 
Exû±iÚCode
& 
ec
)

1349 
SütExecutiÚCÚ‹xt
* 
	gcÚ‹xt
 = 
sütExecutiÚCÚ‹xt
();

1350 ià(!
	gcÚ‹xt
) {

1351 
	gec
 = 
INVALID_ACCESS_ERR
;

1354  
	gDOMTim”
::
š¡®l
(
cÚ‹xt
, 
aùiÚ
, 
timeout
, 
çl£
);

1357 
	gDOMWšdow
::
	$ş—rIÁ”v®
(
timeoutId
)

1359 
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
 = 
	`sütExecutiÚCÚ‹xt
();

1360 ià(!
cÚ‹xt
)

1362 
DOMTim”
::
	`»moveById
(
cÚ‹xt
, 
timeoutId
);

1363 
	}
}

1365 
boŞ
 
	gDOMWšdow
::
addEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
> 
li¡’”
, boŞ 
u£C­tu»
)

1367 ià(!
	gEv’tT¬g‘
::
addEv’tLi¡’”
(
ev’tTy³
, 
li¡’”
, 
u£C­tu»
))

1368  
	gçl£
;

1370 ià(
Docum’t
* 
	gdocum’t
 = 
this
->
docum’t
())

1371 
docum’t
->
addLi¡’”Ty³IfN“ded
(
ev’tTy³
);

1373 ià(
	gev’tTy³
 =ğ
ev’tNames
().
uÆßdEv’t
)

1374 
addUÆßdEv’tLi¡’”
(
this
);

1375 ià(
	gev’tTy³
 =ğ
ev’tNames
().
befÜeuÆßdEv’t
 && 
®lowsBefÜeUÆßdLi¡’”s
(
this
))

1376 
addBefÜeUÆßdEv’tLi¡’”
(
this
);

1378  
	gŒue
;

1381 
boŞ
 
	gDOMWšdow
::
	$»moveEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Ev’tLi¡’”
* 
li¡’”
, 
boŞ
 
u£C­tu»
)

1383 ià(!
Ev’tT¬g‘
::
	`»moveEv’tLi¡’”
(
ev’tTy³
, 
li¡’”
, 
u£C­tu»
))

1384  
çl£
;

1386 ià(
ev’tTy³
 =ğ
	`ev’tNames
().
uÆßdEv’t
)

1387 
	`»moveUÆßdEv’tLi¡’”
(
this
);

1388 ià(
ev’tTy³
 =ğ
	`ev’tNames
().
befÜeuÆßdEv’t
 && 
	`®lowsBefÜeUÆßdLi¡’”s
(
this
))

1389 
	`»moveBefÜeUÆßdEv’tLi¡’”
(
this
);

1391  
Œue
;

1392 
	}
}

1394 
	gDOMWšdow
::
	$di¥©chLßdEv’t
()

1396 
	`di¥©chEv’t
(
Ev’t
::
	`ü—‹
(
	`ev’tNames
().
lßdEv’t
, 
çl£
, f®£), 
	`docum’t
());

1401 
EËm’t
* 
owÃrEËm’t
 = 
	`docum’t
()->
	`owÃrEËm’t
();

1402 ià(
owÃrEËm’t
) {

1403 
RefPŒ
<
Ev’t
> 
owÃrEv’t
 = Ev’t::
	`ü—‹
(
	`ev’tNames
().
lßdEv’t
, 
çl£
, false);

1404 
owÃrEv’t
->
	`£tT¬g‘
(
owÃrEËm’t
);

1405 
owÃrEËm’t
->
	`di¥©chG’”icEv’t
(
owÃrEv’t
.
	`»Ëa£
());

1408 #ià
	`ENABLE
(
INSPECTOR
)

1409 ià(!
	`äame
(è|| !äame()->
	`·ge
())

1412 ià(
In¥eùÜCÚŒŞËr
* 
cÚŒŞËr
 = 
	`äame
()->
	`·ge
()->
	`š¥eùÜCÚŒŞËr
())

1413 
cÚŒŞËr
->
	`mašResourûFœedLßdEv’t
(
	`äame
()->
	`lßd”
()->
	`docum’tLßd”
(), 
	`u¾
());

1415 
	}
}

1417 #ià
	$ENABLE
(
INSPECTOR
)

1418 
In¥eùÜTim–šeAg’t
* 
DOMWšdow
::
	$š¥eùÜTim–šeAg’t
()

1420 ià(
	`äame
(è&& f¿me()->
	`·ge
())

1421  
	`äame
()->
	`·ge
()->
	`š¥eùÜTim–šeAg’t
();

1423 
	}
}

1426 
boŞ
 
	gDOMWšdow
::
di¥©chEv’t
(
PassRefPŒ
<
Ev’t
> 
´pEv’t
, PassRefPŒ<
Ev’tT¬g‘
> 
´pT¬g‘
)

1428 
	gRefPŒ
<
	gEv’tT¬g‘
> 
	g´Ùeù
 = 
this
;

1429 
	gRefPŒ
<
	gEv’t
> 
	gev’t
 = 
´pEv’t
;

1431 
	gev’t
->
£tT¬g‘
(
´pT¬g‘
 ?…½T¬g‘ : 
this
);

1432 
	gev’t
->
£tCu¼’tT¬g‘
(
this
);

1433 
	gev’t
->
£tEv’tPha£
(
Ev’t
::
AT_TARGET
);

1435 #ià
ENABLE
(
INSPECTOR
)

1436 
Page
* 
	gš¥eùedPage
 = 
In¥eùÜTim–šeAg’t
::
š¡ªûCouÁ
(è&& 
äame
(è? f¿me()->
·ge
() : 0;

1437 ià(
	gš¥eùedPage
) {

1438 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = 
hasEv’tLi¡’”s
(
ev’t
->
ty³
()è? 
š¥eùedPage
->
š¥eùÜTim–šeAg’t
() : 0)

1439 
tim–šeAg’t
->
wlDi¥©chEv’t
(*
ev’t
);

1441 
	gš¥eùedPage
 = 0;

1445 
boŞ
 
	g»suÉ
 = 
fœeEv’tLi¡’”s
(
ev’t
.
g‘
());

1447 #ià
ENABLE
(
INSPECTOR
)

1448 ià(
	gš¥eùedPage
)

1449 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = 
š¥eùedPage
->
š¥eùÜTim–šeAg’t
())

1450 
tim–šeAg’t
->
didDi¥©chEv’t
();

1453  
	g»suÉ
;

1456 
	gDOMWšdow
::
	$»moveAÎEv’tLi¡’”s
()

1458 
Ev’tT¬g‘
::
	`»moveAÎEv’tLi¡’”s
();

1460 
	`»moveAÎUÆßdEv’tLi¡’”s
(
this
);

1461 
	`»moveAÎBefÜeUÆßdEv’tLi¡’”s
(
this
);

1462 
	}
}

1464 
	gDOMWšdow
::
	$ÿ±u»Ev’ts
()

1467 
	}
}

1469 
DOMWšdow
::
	$»Ëa£Ev’ts
()

1472 
	}
}

1474 
Ev’tT¬g‘D©a
* 
DOMWšdow
::
	$ev’tT¬g‘D©a
()

1476  &
m_ev’tT¬g‘D©a
;

1477 
	}
}

1479 
Ev’tT¬g‘D©a
* 
	gDOMWšdow
::
	$’su»Ev’tT¬g‘D©a
()

1481  &
m_ev’tT¬g‘D©a
;

1482 
	}
}

	@DOMWindow.h

26 #iâdeà
DOMWšdow_h


27 
	#DOMWšdow_h


	)

29 
	~"Ev’tT¬g‘.h
"

30 
	~"KURL.h
"

31 
	~"Mes§gePÜt.h
"

32 
	~"PÏtfÜmSŒšg.h
"

33 
	~"Regi¡”edEv’tLi¡’”.h
"

34 
	~"Secur™yOrigš.h
"

35 
	~<wtf/FÜw¬d.h
>

36 
	~<wtf/RefCouÁed.h
>

37 
	~<wtf/RefPŒ.h
>

39 
Çme¥aû
 
	gWebCÜe
 {

41 
şass
 
	gB¬Info
;

42 
şass
 
	gBefÜeUÆßdEv’t
;

43 
şass
 
	gCSSRuËLi¡
;

44 
şass
 
	gCSSStyËDeş¬©iÚ
;

45 
şass
 
	gCÚsŞe
;

46 
şass
 
	gDOMS–eùiÚ
;

47 
şass
 
	gD©aba£
;

48 
şass
 
	gD©aba£C®lback
;

49 
şass
 
	gDocum’t
;

50 
şass
 
	gEËm’t
;

51 
şass
 
	gEv’t
;

52 
şass
 
	gEv’tLi¡’”
;

53 
şass
 
	gFlßtReù
;

54 
şass
 
	gF¿me
;

55 
şass
 
	gHi¡Üy
;

56 
şass
 
	gIndexedD©aba£Reque¡
;

57 
şass
 
	gIn¥eùÜTim–šeAg’t
;

58 
şass
 
	gLoÿtiÚ
;

59 
şass
 
	gMedŸ
;

60 
şass
 
	gNavig©Ü
;

61 
şass
 
	gNode
;

62 
şass
 
	gNÙifiÿtiÚC’‹r
;

63 
şass
 
	gPo¡Mes§geTim”
;

64 
şass
 
	gScheduËdAùiÚ
;

65 
şass
 
	gS”ŸlizedSütV®ue
;

66 
şass
 
	gSü“n
;

67 
şass
 
	gWebK™Pošt
;

69 #ià
ENABLE
(
DOM_STORAGE
)

70 
şass
 
	gStÜage
;

73 #ià
ENABLE
(
OFFLINE_WEB_APPLICATIONS
)

74 
şass
 
	gDOMAµliÿtiÚCache
;

77 
	tExû±iÚCode
;

79 
şass
 
	gDOMWšdow
 : 
public
 
RefCouÁed
<
DOMWšdow
>,…ubliø
	gEv’tT¬g‘
 {

80 
	gpublic
:

81 
PassRefPŒ
<
DOMWšdow
> 
ü—‹
(
F¿me
* 
äame
è{  
adİtRef
(
Ãw
 DOMWindow(frame)); }

82 
	gvœtu®
 ~
DOMWšdow
();

84 
vœtu®
 
DOMWšdow
* 
toDOMWšdow
(è{  
	gthis
; }

85 
vœtu®
 
SütExecutiÚCÚ‹xt
* 
sütExecutiÚCÚ‹xt
() const;

87 
F¿me
* 
äame
(ècÚ¡ {  
	gm_äame
; }

88 
discÚÃùF¿me
();

90 
ş—r
();

92 #ià
ENABLE
(
ORIENTATION_EVENTS
)

96 
Ü›Á©iÚ
() const;

99 
£tSecur™yOrigš
(
Secur™yOrigš
* 
£cur™yOrigš
è{ 
	gm_£cur™yOrigš
 = securityOrigin; }

100 
Secur™yOrigš
* 
£cur™yOrigš
(ècÚ¡ {  
	gm_£cur™yOrigš
.
g‘
(); }

102 
£tURL
(cÚ¡ 
KURL
& 
u¾
è{ 
	gm_u¾
 = url; }

103 
KURL
 
u¾
(ècÚ¡ {  
	gm_u¾
; }

105 
³ndšgUÆßdEv’tLi¡’”s
() const;

107 
boŞ
 
di¥©chAÎP’dšgBefÜeUÆßdEv’ts
();

108 
di¥©chAÎP’dšgUÆßdEv’ts
();

110 
adju¡WšdowReù
(cÚ¡ 
FlßtReù
& 
sü“n
, FlßtReù& 
wšdow
, cÚ¡ FlßtReù& 
³ndšgChªges
);

111 
·r£Mod®DŸlogF—tu»s
(cÚ¡ 
SŒšg
& 
ã©u»sArg
, 
HashM­
<SŒšg, SŒšg>& 
m­
);

113 
boŞ
 
®lowPİUp
(
F¿me
* 
aùiveF¿me
);

114 
boŞ
 
ÿnShowMod®DŸlog
(cÚ¡ 
F¿me
*);

115 
boŞ
 
ÿnShowMod®DŸlogNow
(cÚ¡ 
F¿me
*);

118 
Sü“n
* 
sü“n
() const;

119 
Hi¡Üy
* 
hi¡Üy
() const;

120 
B¬Info
* 
loÿtiÚb¬
() const;

121 
B¬Info
* 
m’ub¬
() const;

122 
B¬Info
* 
³rsÚ®b¬
() const;

123 
B¬Info
* 
süŞlb¬s
() const;

124 
B¬Info
* 
¡©usb¬
() const;

125 
B¬Info
* 
toŞb¬
() const;

126 
Navig©Ü
* 
Çvig©Ü
() const;

127 
Navig©Ü
* 
ş›ÁInfÜm©iÚ
(ècÚ¡ {  
Çvig©Ü
(); }

128 
LoÿtiÚ
* 
loÿtiÚ
() const;

130 
DOMS–eùiÚ
* 
g‘S–eùiÚ
();

132 
EËm’t
* 
äameEËm’t
() const;

134 
focus
();

135 
blur
();

136 
şo£
();

137 
´št
();

138 
¡İ
();

140 
®”t
(cÚ¡ 
SŒšg
& 
mes§ge
);

141 
boŞ
 
cÚfœm
(cÚ¡ 
SŒšg
& 
mes§ge
);

142 
SŒšg
 
´om±
(cÚ¡ SŒšg& 
mes§ge
, cÚ¡ SŒšg& 
deçuÉV®ue
);

143 
SŒšg
 
btß
(cÚ¡ SŒšg& 
¡ršgToEncode
, 
Exû±iÚCode
&);

144 
SŒšg
 
©ob
(cÚ¡ SŒšg& 
’codedSŒšg
, 
Exû±iÚCode
&);

146 
boŞ
 
fšd
(cÚ¡ 
SŒšg
&, boŞ 
ÿ£S’s™ive
, boŞ 
backw¬ds
, boŞ 
w¿p
, boŞ 
whŞeWÜd
, boŞ 
£¬chInF¿mes
, boŞ 
showDŸlog
) const;

148 
boŞ
 
offsü“nBufãršg
() const;

150 
ou‹rHeight
() const;

151 
ou‹rWidth
() const;

152 
šÃrHeight
() const;

153 
šÃrWidth
() const;

154 
sü“nX
() const;

155 
sü“nY
() const;

156 
sü“nLeá
(ècÚ¡ {  
sü“nX
(); }

157 
sü“nTİ
(ècÚ¡ {  
sü“nY
(); }

158 
süŞlX
() const;

159 
süŞlY
() const;

160 
·geXOff£t
(ècÚ¡ {  
süŞlX
(); }

161 
·geYOff£t
(ècÚ¡ {  
süŞlY
(); }

163 
boŞ
 
şo£d
() const;

165 
Ëngth
() const;

167 
SŒšg
 
Çme
() const;

168 
£tName
(cÚ¡ 
SŒšg
&);

170 
SŒšg
 
¡©us
() const;

171 
£tStus
(cÚ¡ 
SŒšg
&);

172 
SŒšg
 
deçuÉStus
() const;

173 
£tDeçuÉStus
(cÚ¡ 
SŒšg
&);

175 
SŒšg
 
deçuÉ¡©us
(ècÚ¡ {  
deçuÉStus
(); }

176 
£tDeçuÉ¡©us
(cÚ¡ 
SŒšg
& 
¡©us
è{ 
£tDeçuÉStus
(status); }

179 
DOMWšdow
* 
£lf
() const;

180 
DOMWšdow
* 
wšdow
(ècÚ¡ {  
£lf
(); }

181 
DOMWšdow
* 
äames
(ècÚ¡ {  
£lf
(); }

183 
DOMWšdow
* 
İ’”
() const;

184 
DOMWšdow
* 
·»Á
() const;

185 
DOMWšdow
* 
tİ
() const;

188 
Docum’t
* 
docum’t
() const;

190 
	gPassRefPŒ
<
	gMedŸ
> 
medŸ
() const;

193 
	gPassRefPŒ
<
	gCSSStyËDeş¬©iÚ
> 
g‘Compu‹dStyË
(
EËm’t
*, cÚ¡ 
SŒšg
& 
p£udoEÉ
) const;

196 
	gPassRefPŒ
<
	gCSSRuËLi¡
> 
g‘M©chedCSSRuËs
(
EËm’t
*, cÚ¡ 
SŒšg
& 
p£udoEÉ
, 
boŞ
 
authÜOÆy
 = 
Œue
) const;

197 
deviûPix–R©io
() const;

199 
	gPassRefPŒ
<
	gWebK™Pošt
> 
webk™CÚv”tPoštFromPageToNode
(
Node
* 
node
, cÚ¡ 
WebK™Pošt
* 
p
) const;

200 
	gPassRefPŒ
<
	gWebK™Pošt
> 
webk™CÚv”tPoštFromNodeToPage
(
Node
* 
node
, cÚ¡ 
WebK™Pošt
* 
p
) const;

202 #ià
ENABLE
(
DATABASE
)

204 
	gPassRefPŒ
<
	gD©aba£
> 
İ’D©aba£
(cÚ¡ 
SŒšg
& 
Çme
, cÚ¡ SŒšg& 
v”siÚ
, cÚ¡ SŒšg& 
di¥ÏyName
, 
e¡im©edSize
, 
PassRefPŒ
<
D©aba£C®lback
> 
ü—tiÚC®lback
, 
Exû±iÚCode
&);

207 #ià
ENABLE
(
DOM_STORAGE
)

209 
StÜage
* 
£ssiÚStÜage
() const;

210 
StÜage
* 
loÿlStÜage
(
Exû±iÚCode
&) const;

213 
CÚsŞe
* 
cÚsŞe
() const;

215 #ià
ENABLE
(
OFFLINE_WEB_APPLICATIONS
)

216 
DOMAµliÿtiÚCache
* 
­¶iÿtiÚCache
() const;

219 #ià
ENABLE
(
NOTIFICATIONS
)

220 
NÙifiÿtiÚC’‹r
* 
webk™NÙifiÿtiÚs
() const;

223 #ià
ENABLE
(
INDEXED_DATABASE
)

224 
IndexedD©aba£Reque¡
* 
šdexedDB
() const;

227 
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, cÚ¡ 
Mes§gePÜtA¼ay
*, cÚ¡ 
SŒšg
& 
rg‘Origš
, 
DOMWšdow
* 
sourû
, 
Exû±iÚCode
&);

229 
po¡Mes§ge
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
mes§ge
, 
Mes§gePÜt
*, cÚ¡ 
SŒšg
& 
rg‘Origš
, 
DOMWšdow
* 
sourû
, 
Exû±iÚCode
&);

230 
po¡Mes§geTim”Fœed
(
Po¡Mes§geTim”
*);

232 
süŞlBy
(
x
, 
y
) const;

233 
süŞlTo
(
x
, 
y
) const;

234 
süŞl
(
x
, 
y
ècÚ¡ { 
süŞlTo
(x, y); }

236 
moveBy
(
x
, 
y
) const;

237 
moveTo
(
x
, 
y
) const;

239 
»sizeBy
(
x
, 
y
) const;

240 
»sizeTo
(
width
, 
height
) const;

243 
£tTimeout
(
PassOwnPŒ
<
ScheduËdAùiÚ
>, 
timeout
, 
Exû±iÚCode
&);

244 
ş—rTimeout
(
timeoutId
);

245 
£tIÁ”v®
(
PassOwnPŒ
<
ScheduËdAùiÚ
>, 
timeout
, 
Exû±iÚCode
&);

246 
ş—rIÁ”v®
(
timeoutId
);

250 
vœtu®
 
boŞ
 
addEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
PassRefPŒ
<
Ev’tLi¡’”
>, boŞ 
u£C­tu»
);

251 
vœtu®
 
boŞ
 
»moveEv’tLi¡’”
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Ev’tLi¡’”
*, boŞ 
u£C­tu»
);

252 
vœtu®
 
»moveAÎEv’tLi¡’”s
();

254 
usšg
 
	gEv’tT¬g‘
::
di¥©chEv’t
;

255 
boŞ
 
di¥©chEv’t
(
PassRefPŒ
<
Ev’t
> 
´pEv’t
, PassRefPŒ<
Ev’tT¬g‘
> 
´pT¬g‘
);

256 
di¥©chLßdEv’t
();

258 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
abÜt
);

259 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
befÜeuÆßd
);

260 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
blur
);

261 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
ÿÅÏy
);

262 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
ÿÅÏythrough
);

263 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
chªge
);

264 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
şick
);

265 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
cÚ‹xtm’u
);

266 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
dblşick
);

267 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g
);

268 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g’d
);

269 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g’‹r
);

270 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿gËave
);

271 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿gov”
);

272 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
d¿g¡¬t
);

273 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
drİ
);

274 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
du¿tiÚchªge
);

275 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
em±›d
);

276 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
’ded
);

277 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
”rÜ
);

278 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
focus
);

279 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
hashchªge
);

280 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
šput
);

281 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
šv®id
);

282 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
keydown
);

283 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
key´ess
);

284 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
keyup
);

285 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
lßd
);

286 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
lßdedd©a
);

287 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
lßdedm‘ad©a
);

288 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
lßd¡¬t
);

289 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mes§ge
);

290 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£down
);

291 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£move
);

292 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£out
);

293 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£ov”
);

294 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£up
);

295 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mou£wh“l
);

296 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
ofæše
);

297 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
Úlše
);

298 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
·gehide
);

299 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
·geshow
);

300 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
·u£
);

301 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
¶ay
);

302 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
¶ayšg
);

303 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
pİ¡©e
);

304 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
´og»ss
);

305 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
¿‹chªge
);

306 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
»£t
);

307 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
»size
);

308 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
süŞl
);

309 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£¬ch
);

310 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£eked
);

311 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£ekšg
);

312 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
£Ëù
);

313 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
¡®Ëd
);

314 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
¡Üage
);

315 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
subm™
);

316 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
su¥’d
);

317 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
timeupd©e
);

318 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
uÆßd
);

319 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
vŞumechªge
);

320 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
wa™šg
);

321 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
webk™begšfuÎsü“n
);

322 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
webk™’dfuÎsü“n
);

324 #ià
ENABLE
(
ORIENTATION_EVENTS
)

325 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
Ü›Á©iÚchªge
);

328 
DEFINE_MAPPED_ATTRIBUTE_EVENT_LISTENER
(
webk™ªim©iÚ¡¬t
, 
webk™Anim©iÚS¹
);

329 
DEFINE_MAPPED_ATTRIBUTE_EVENT_LISTENER
(
webk™ªim©iÚ™”©iÚ
, 
webk™Anim©iÚI‹¿tiÚ
);

330 
DEFINE_MAPPED_ATTRIBUTE_EVENT_LISTENER
(
webk™ªim©iÚ’d
, 
webk™Anim©iÚEnd
);

331 
DEFINE_MAPPED_ATTRIBUTE_EVENT_LISTENER
(
webk™Œªs™iÚ’d
, 
webk™T¿ns™iÚEnd
);

333 #ià
ENABLE
(
TOUCH_EVENTS
)

334 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touch¡¬t
);

335 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touchmove
);

336 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touch’d
);

337 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
touchÿnûl
);

339 
ÿ±u»Ev’ts
();

340 
»Ëa£Ev’ts
();

344 
Sü“n
* 
İtiÚ®Sü“n
(ècÚ¡ {  
	gm_sü“n
.
g‘
(); }

345 
DOMS–eùiÚ
* 
İtiÚ®S–eùiÚ
(ècÚ¡ {  
	gm_£ËùiÚ
.
g‘
(); }

346 
Hi¡Üy
* 
İtiÚ®Hi¡Üy
(ècÚ¡ {  
	gm_hi¡Üy
.
g‘
(); }

347 
B¬Info
* 
İtiÚ®LoÿtiÚb¬
(ècÚ¡ {  
	gm_loÿtiÚb¬
.
g‘
(); }

348 
B¬Info
* 
İtiÚ®M’ub¬
(ècÚ¡ {  
	gm_m’ub¬
.
g‘
(); }

349 
B¬Info
* 
İtiÚ®P”sÚ®b¬
(ècÚ¡ {  
	gm_³rsÚ®b¬
.
g‘
(); }

350 
B¬Info
* 
İtiÚ®SüŞlb¬s
(ècÚ¡ {  
	gm_süŞlb¬s
.
g‘
(); }

351 
B¬Info
* 
İtiÚ®Stusb¬
(ècÚ¡ {  
	gm_¡©usb¬
.
g‘
(); }

352 
B¬Info
* 
İtiÚ®ToŞb¬
(ècÚ¡ {  
	gm_toŞb¬
.
g‘
(); }

353 
CÚsŞe
* 
İtiÚ®CÚsŞe
(ècÚ¡ {  
	gm_cÚsŞe
.
g‘
(); }

354 
Navig©Ü
* 
İtiÚ®Navig©Ü
(ècÚ¡ {  
	gm_Çvig©Ü
.
g‘
(); }

355 
LoÿtiÚ
* 
İtiÚ®LoÿtiÚ
(ècÚ¡ {  
	gm_loÿtiÚ
.
g‘
(); }

356 
MedŸ
* 
İtiÚ®MedŸ
(ècÚ¡ {  
	gm_medŸ
.
g‘
(); }

357 #ià
ENABLE
(
DOM_STORAGE
)

358 
StÜage
* 
İtiÚ®SessiÚStÜage
(ècÚ¡ {  
	gm_£ssiÚStÜage
.
g‘
(); }

359 
StÜage
* 
İtiÚ®LoÿlStÜage
(ècÚ¡ {  
	gm_loÿlStÜage
.
g‘
(); }

361 #ià
ENABLE
(
OFFLINE_WEB_APPLICATIONS
)

362 
DOMAµliÿtiÚCache
* 
İtiÚ®AµliÿtiÚCache
(ècÚ¡ {  
	gm_­¶iÿtiÚCache
.
g‘
(); }

365 
usšg
 
	gRefCouÁed
<
	gDOMWšdow
>::
»f
;

366 
usšg
 
	gRefCouÁed
<
	gDOMWšdow
>::
d”ef
;

368 
	g´iv©e
:

369 
DOMWšdow
(
F¿me
*);

371 
vœtu®
 
»fEv’tT¬g‘
(è{ 
»f
(); }

372 
vœtu®
 
d”efEv’tT¬g‘
(è{ 
d”ef
(); }

373 
vœtu®
 
Ev’tT¬g‘D©a
* 
ev’tT¬g‘D©a
();

374 
vœtu®
 
Ev’tT¬g‘D©a
* 
’su»Ev’tT¬g‘D©a
();

375 
In¥eùÜTim–šeAg’t
* 
š¥eùÜTim–šeAg’t
();

377 
	gRefPŒ
<
	gSecur™yOrigš
> 
	gm_£cur™yOrigš
;

378 
KURL
 
	gm_u¾
;

380 
F¿me
* 
	gm_äame
;

381 
mubË
 
	gRefPŒ
<
	gSü“n
> 
	gm_sü“n
;

382 
mubË
 
	gRefPŒ
<
	gDOMS–eùiÚ
> 
	gm_£ËùiÚ
;

383 
mubË
 
	gRefPŒ
<
	gHi¡Üy
> 
	gm_hi¡Üy
;

384 
mubË
 
	gRefPŒ
<
	gB¬Info
> 
	gm_loÿtiÚb¬
;

385 
mubË
 
	gRefPŒ
<
	gB¬Info
> 
	gm_m’ub¬
;

386 
mubË
 
	gRefPŒ
<
	gB¬Info
> 
	gm_³rsÚ®b¬
;

387 
mubË
 
	gRefPŒ
<
	gB¬Info
> 
	gm_süŞlb¬s
;

388 
mubË
 
	gRefPŒ
<
	gB¬Info
> 
	gm_¡©usb¬
;

389 
mubË
 
	gRefPŒ
<
	gB¬Info
> 
	gm_toŞb¬
;

390 
mubË
 
	gRefPŒ
<
	gCÚsŞe
> 
	gm_cÚsŞe
;

391 
mubË
 
	gRefPŒ
<
	gNavig©Ü
> 
	gm_Çvig©Ü
;

392 
mubË
 
	gRefPŒ
<
	gLoÿtiÚ
> 
	gm_loÿtiÚ
;

393 
mubË
 
	gRefPŒ
<
	gMedŸ
> 
	gm_medŸ
;

394 #ià
ENABLE
(
DOM_STORAGE
)

395 
mubË
 
	gRefPŒ
<
	gStÜage
> 
	gm_£ssiÚStÜage
;

396 
mubË
 
	gRefPŒ
<
	gStÜage
> 
	gm_loÿlStÜage
;

398 #ià
ENABLE
(
OFFLINE_WEB_APPLICATIONS
)

399 
mubË
 
	gRefPŒ
<
	gDOMAµliÿtiÚCache
> 
	gm_­¶iÿtiÚCache
;

401 #ià
ENABLE
(
NOTIFICATIONS
)

402 
mubË
 
	gRefPŒ
<
	gNÙifiÿtiÚC’‹r
> 
	gm_nÙifiÿtiÚs
;

404 #ià
ENABLE
(
INDEXED_DATABASE
)

405 
mubË
 
	gRefPŒ
<
	gIndexedD©aba£Reque¡
> 
	gm_šdexedD©aba£Reque¡
;

408 
Ev’tT¬g‘D©a
 
	gm_ev’tT¬g‘D©a
;

	@DragActions.h

26 #iâdeà
D¿gAùiÚs_h


27 
	#D¿gAùiÚs_h


	)

29 
	~<lim™s.h
>

31 
Çme¥aû
 
	gWebCÜe
 {

35 
	gD¿gDe¡š©iÚAùiÚNÚe
 = 0,

36 
	gD¿gDe¡š©iÚAùiÚDHTML
 = 1,

37 
	gD¿gDe¡š©iÚAùiÚEd™
 = 2,

38 
	gD¿gDe¡š©iÚAùiÚLßd
 = 4,

39 
	gD¿gDe¡š©iÚAùiÚAny
 = 
UINT_MAX


40 } 
	tD¿gDe¡š©iÚAùiÚ
;

44 
	gD¿gSourûAùiÚNÚe
 = 0,

45 
	gD¿gSourûAùiÚDHTML
 = 1,

46 
	gD¿gSourûAùiÚImage
 = 2,

47 
	gD¿gSourûAùiÚLšk
 = 4,

48 
	gD¿gSourûAùiÚS–eùiÚ
 = 8,

49 
	gD¿gSourûAùiÚAny
 = 
UINT_MAX


50 } 
	tD¿gSourûAùiÚ
;

54 
	gD¿gO³¿tiÚNÚe
 = 0,

55 
	gD¿gO³¿tiÚCİy
 = 1,

56 
	gD¿gO³¿tiÚLšk
 = 2,

57 
	gD¿gO³¿tiÚG’”ic
 = 4,

58 
	gD¿gO³¿tiÚPriv©e
 = 8,

59 
	gD¿gO³¿tiÚMove
 = 16,

60 
	gD¿gO³¿tiÚD–‘e
 = 32,

61 
	gD¿gO³¿tiÚEv”y
 = 
UINT_MAX


62 } 
	tD¿gO³¿tiÚ
;

	@DragClient.h

27 #iâdeà
D¿gCl›Á_h


28 
	#D¿gCl›Á_h


	)

30 
	~"D¿gAùiÚs.h
"

31 
	~"D¿gImage.h
"

32 
	~"IÁPošt.h
"

34 #ià
PLATFORM
(
MAC
)

35 #ifdeà
__OBJC__


36 @
şass
 
	gDOMEËm’t
;

37 @
şass
 
	gNSURL
;

38 @
şass
 
	gNSSŒšg
;

39 @
şass
 
	gNSPa¡ebßrd
;

41 
şass
 
	gDOMEËm’t
;

42 
şass
 
	gNSURL
;

43 
şass
 
	gNSSŒšg
;

44 
şass
 
	gNSPa¡ebßrd
;

48 
Çme¥aû
 
	gWebCÜe
 {

50 
şass
 
	gClbßrd
;

51 
şass
 
	gD¿gD©a
;

52 
şass
 
	gF¿me
;

53 
şass
 
	gImage
;

54 
şass
 
	gHTMLImageEËm’t
;

56 şas 
	cD¿gCl›Á
 {

57 
	gpublic
:

58 
vœtu®
 
wlP”fÜmD¿gDe¡š©iÚAùiÚ
(
D¿gDe¡š©iÚAùiÚ
, 
D¿gD©a
*) = 0;

59 
vœtu®
 
wlP”fÜmD¿gSourûAùiÚ
(
D¿gSourûAùiÚ
, cÚ¡ 
IÁPošt
&, 
Clbßrd
*) = 0;

60 
vœtu®
 
D¿gDe¡š©iÚAùiÚ
 
aùiÚMaskFÜD¿g
(
D¿gD©a
*) = 0;

62 
vœtu®
 
D¿gSourûAùiÚ
 
d¿gSourûAùiÚMaskFÜPošt
(cÚ¡ 
IÁPošt
& 
wšdowPošt
) = 0;

64 
vœtu®
 
¡¬tD¿g
(
D¿gImageRef
 
d¿gImage
, cÚ¡ 
IÁPošt
& 
d¿gImageOrigš
, cÚ¡ IÁPošt& 
ev’tPos
, 
Clbßrd
*, 
F¿me
*, 
boŞ
 
lškD¿g
 = 
çl£
) = 0;

65 
vœtu®
 
D¿gImageRef
 
ü—‹D¿gImageFÜLšk
(
KURL
&, cÚ¡ 
SŒšg
& 
Ïb–
, 
F¿me
*) = 0;

67 
vœtu®
 
d¿gCÚŒŞËrDe¡royed
() = 0;

68 #ià
PLATFORM
(
MAC
)

72 
vœtu®
 
deş¬eAndWr™eD¿gImage
(
NSPa¡ebßrd
*, 
DOMEËm’t
*, 
NSURL
*, 
NSSŒšg
*, 
F¿me
*) {};

75 
	gvœtu®
 ~
D¿gCl›Á
() {};

	@DragController.cpp

26 
	~"cÚfig.h
"

27 
	~"D¿gCÚŒŞËr.h
"

29 #ià
ENABLE
(
DRAG_SUPPORT
)

30 
	~"CSSStyËDeş¬©iÚ.h
"

31 
	~"Clbßrd.h
"

32 
	~"ClbßrdAcûssPŞicy.h
"

33 
	~"DocLßd”.h
"

34 
	~"Docum’t.h
"

35 
	~"Docum’tF¿gm’t.h
"

36 
	~"D¿gAùiÚs.h
"

37 
	~"D¿gCl›Á.h
"

38 
	~"D¿gD©a.h
"

39 
	~"Ed™Ü.h
"

40 
	~"Ed™ÜCl›Á.h
"

41 
	~"EËm’t.h
"

42 
	~"Ev’tHªdËr.h
"

43 
	~"FlßtReù.h
"

44 
	~"F¿me.h
"

45 
	~"F¿meLßd”.h
"

46 
	~"F¿meV›w.h
"

47 
	~"HTMLAnchÜEËm’t.h
"

48 
	~"HTMLIÅutEËm’t.h
"

49 
	~"HTMLNames.h
"

50 
	~"H™Te¡Reque¡.h
"

51 
	~"H™Te¡ResuÉ.h
"

52 
	~"Image.h
"

53 
	~"MoveS–eùiÚCommªd.h
"

54 
	~"Node.h
"

55 
	~"Page.h
"

56 
	~"PÏtfÜmKeybßrdEv’t.h
"

57 
	~"R’d”FeU¶ßdCÚŒŞ.h
"

58 
	~"R’d”Image.h
"

59 
	~"R’d”V›w.h
"

60 
	~"R•ÏûS–eùiÚCommªd.h
"

61 
	~"ResourûReque¡.h
"

62 
	~"S–eùiÚCÚŒŞËr.h
"

63 
	~"S‘tšgs.h
"

64 
	~"Text.h
"

65 
	~"htmËd™šg.h
"

66 
	~"m¬kup.h
"

67 
	~<wtf/Cu¼’tTime.h
>

68 
	~<wtf/RefPŒ.h
>

70 
Çme¥aû
 
	gWebCÜe
 {

72 
PÏtfÜmMou£Ev’t
 
ü—‹Mou£Ev’t
(
D¿gD©a
* 
d¿gD©a
)

74 
boŞ
 
	gshiáKey
, 
	gù¾Key
, 
	g®tKey
, 
	gm‘aKey
;

75 
	gshiáKey
 = 
ù¾Key
 = 
®tKey
 = 
m‘aKey
 = 
çl£
;

76 
	gPÏtfÜmKeybßrdEv’t
::
g‘Cu¼’tModif›rS‹
(
shiáKey
, 
ù¾Key
, 
®tKey
, 
m‘aKey
);

77  
PÏtfÜmMou£Ev’t
(
d¿gD©a
->
ş›ÁPos™iÚ
(), d¿gD©a->
glob®Pos™iÚ
(),

78 
LeáBu‰Ú
, 
Mou£Ev’tMoved
, 0, 
shiáKey
, 
ù¾Key
, 
®tKey
,

79 
m‘aKey
, 
cu¼’tTime
());

82 
	gD¿gCÚŒŞËr
::
D¿gCÚŒŞËr
(
Page
* 
·ge
, 
D¿gCl›Á
* 
ş›Á
)

83 : 
m_·ge
(
·ge
)

84 , 
m_ş›Á
(
ş›Á
)

85 , 
m_docum’tUnd”Mou£
(0)

86 , 
m_d¿gIn™ŸtÜ
(0)

87 , 
m_d¿gDe¡š©iÚAùiÚ
(
D¿gDe¡š©iÚAùiÚNÚe
)

88 , 
m_d¿gSourûAùiÚ
(
D¿gSourûAùiÚNÚe
)

89 , 
m_didIn™Ÿ‹D¿g
(
çl£
)

90 , 
m_isHªdlšgD¿g
(
çl£
)

91 , 
m_sourûD¿gO³¿tiÚ
(
D¿gO³¿tiÚNÚe
)

95 
	gD¿gCÚŒŞËr
::~
D¿gCÚŒŞËr
()

97 
m_ş›Á
->
d¿gCÚŒŞËrDe¡royed
();

100 
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
docum’tF¿gm’tFromD¿gD©a
(
D¿gD©a
* 
d¿gD©a
, 
RefPŒ
<
Rªge
> 
cÚ‹xt
,

101 
boŞ
 
®lowPÏšText
, boŞ& 
cho£PÏšText
)

103 
ASSERT
(
d¿gD©a
);

104 
	gcho£PÏšText
 = 
çl£
;

106 
Docum’t
* 
	gdocum’t
 = 
cÚ‹xt
->
owÃrDocum’t
();

107 
ASSERT
(
docum’t
);

108 ià(
	gdocum’t
 && 
	gd¿gD©a
->
cÚšsCom·tibËCÚ‹Á
()) {

109 ià(
	gPassRefPŒ
<
	gDocum’tF¿gm’t
> 
	gäagm’t
 = 
d¿gD©a
->
asF¿gm’t
(
docum’t
))

110  
äagm’t
;

112 ià(
	gd¿gD©a
->
cÚšsURL
()) {

113 
SŒšg
 
	gt™Ë
;

114 
SŒšg
 
	gu¾
 = 
d¿gD©a
->
asURL
(&
t™Ë
);

115 ià(!
	gu¾
.
isEm±y
()) {

116 
	gRefPŒ
<
	gHTMLAnchÜEËm’t
> 
	gªchÜ
 = 
HTMLAnchÜEËm’t
::
ü—‹
(
docum’t
);

117 
	gªchÜ
->
£tH»f
(
u¾
);

118 
Exû±iÚCode
 
	gec
;

119 
	gRefPŒ
<
	gNode
> 
	gªchÜText
 = 
docum’t
->
ü—‹TextNode
(
t™Ë
);

120 
	gªchÜ
->
­³ndChd
(
ªchÜText
, 
ec
);

121 
	gRefPŒ
<
	gDocum’tF¿gm’t
> 
	gäagm’t
 = 
docum’t
->
ü—‹Docum’tF¿gm’t
();

122 
	gäagm’t
->
­³ndChd
(
ªchÜ
, 
ec
);

123  
	gäagm’t
.
g‘
();

127 ià(
	g®lowPÏšText
 && 
	gd¿gD©a
->
cÚšsPÏšText
()) {

128 
	gcho£PÏšText
 = 
Œue
;

129  
ü—‹F¿gm’tFromText
(
cÚ‹xt
.
g‘
(), 
d¿gD©a
->
asPÏšText
()).get();

135 
boŞ
 
	gD¿gCÚŒŞËr
::
d¿gIsMove
(
S–eùiÚCÚŒŞËr
* 
£ËùiÚ
)

137  
m_docum’tUnd”Mou£
 =ğ
m_d¿gIn™ŸtÜ
 && 
£ËùiÚ
->
isCÚ‹ÁEd™abË
(è&& !
isCİyKeyDown
();

141 
	gD¿gCÚŒŞËr
::
ÿnûlD¿g
()

143 
m_·ge
->
d¿gC¬‘CÚŒŞËr
()->
ş—r
();

146 
	gD¿gCÚŒŞËr
::
d¿gEnded
()

148 
m_d¿gIn™ŸtÜ
 = 0;

149 
	gm_didIn™Ÿ‹D¿g
 = 
çl£
;

150 
	gm_·ge
->
d¿gC¬‘CÚŒŞËr
()->
ş—r
();

153 
D¿gO³¿tiÚ
 
	gD¿gCÚŒŞËr
::
d¿gEÁ”ed
(
D¿gD©a
* 
d¿gD©a
)

155  
d¿gEÁ”edOrUpd©ed
(
d¿gD©a
);

158 
	gD¿gCÚŒŞËr
::
d¿gEx™ed
(
D¿gD©a
* 
d¿gD©a
)

160 
ASSERT
(
d¿gD©a
);

161 
F¿me
* 
	gmašF¿me
 = 
m_·ge
->
mašF¿me
();

163 ià(
	gRefPŒ
<
	gF¿meV›w
> 
	gv
 = 
mašF¿me
->
v›w
()) {

164 
ClbßrdAcûssPŞicy
 
pŞicy
 = (!
m_docum’tUnd”Mou£
 || m_docum’tUnd”Mou£->
£cur™yOrigš
()->
isLoÿl
()è? 
ClbßrdR—dabË
 : 
ClbßrdTy³sR—dabË
;

165 
	gRefPŒ
<
	gClbßrd
> 
	gşbßrd
 = 
d¿gD©a
->
ü—‹Clbßrd
(
pŞicy
);

166 
	gşbßrd
->
£tSourûO³¿tiÚ
(
d¿gD©a
->
d¿ggšgSourûO³¿tiÚMask
());

167 
	gmašF¿me
->
ev’tHªdËr
()->
ÿnûlD¿gAndDrİ
(
ü—‹Mou£Ev’t
(
d¿gD©a
), 
şbßrd
.
g‘
());

168 
	gşbßrd
->
£tAcûssPŞicy
(
ClbßrdNumb
);

170 
mou£MovedIÁoDocum’t
(0);

173 
D¿gO³¿tiÚ
 
	gD¿gCÚŒŞËr
::
d¿gUpd©ed
(
D¿gD©a
* 
d¿gD©a
)

175  
d¿gEÁ”edOrUpd©ed
(
d¿gD©a
);

178 
boŞ
 
	gD¿gCÚŒŞËr
::
³rfÜmD¿g
(
D¿gD©a
* 
d¿gD©a
)

180 
ASSERT
(
d¿gD©a
);

181 
	gm_docum’tUnd”Mou£
 = 
m_·ge
->
mašF¿me
()->
docum’tAtPošt
(
d¿gD©a
->
ş›ÁPos™iÚ
());

182 ià(
	gm_isHªdlšgD¿g
) {

183 
ASSERT
(
m_d¿gDe¡š©iÚAùiÚ
 & 
D¿gDe¡š©iÚAùiÚDHTML
);

184 
	gm_ş›Á
->
wlP”fÜmD¿gDe¡š©iÚAùiÚ
(
D¿gDe¡š©iÚAùiÚDHTML
, 
d¿gD©a
);

185 
	gRefPŒ
<
	gF¿me
> 
	gmašF¿me
 = 
m_·ge
->
mašF¿me
();

186 ià(
	gmašF¿me
->
v›w
()) {

188 
	gRefPŒ
<
	gClbßrd
> 
	gşbßrd
 = 
d¿gD©a
->
ü—‹Clbßrd
(
ClbßrdR—dabË
);

189 
	gşbßrd
->
£tSourûO³¿tiÚ
(
d¿gD©a
->
d¿ggšgSourûO³¿tiÚMask
());

190 
	gmašF¿me
->
ev’tHªdËr
()->
³rfÜmD¿gAndDrİ
(
ü—‹Mou£Ev’t
(
d¿gD©a
), 
şbßrd
.
g‘
());

191 
	gşbßrd
->
£tAcûssPŞicy
(
ClbßrdNumb
);

193 
	gm_docum’tUnd”Mou£
 = 0;

194  
	gŒue
;

197 ià((
	gm_d¿gDe¡š©iÚAùiÚ
 & 
	gD¿gDe¡š©iÚAùiÚEd™
è&& 
cÚşudeEd™D¿g
(
d¿gD©a
)) {

198 
	gm_docum’tUnd”Mou£
 = 0;

199  
	gŒue
;

202 
	gm_docum’tUnd”Mou£
 = 0;

204 ià(
İ”©iÚFÜLßd
(
d¿gD©a
è=ğ
D¿gO³¿tiÚNÚe
)

205  
çl£
;

207 
	gm_ş›Á
->
wlP”fÜmD¿gDe¡š©iÚAùiÚ
(
D¿gDe¡š©iÚAùiÚLßd
, 
d¿gD©a
);

208 
	gm_·ge
->
mašF¿me
()->
lßd”
()->
lßd
(
ResourûReque¡
(
d¿gD©a
->
asURL
()), 
çl£
);

209  
	gŒue
;

212 
	gD¿gCÚŒŞËr
::
mou£MovedIÁoDocum’t
(
Docum’t
* 
ÃwDocum’t
)

214 ià(
m_docum’tUnd”Mou£
 =ğ
ÃwDocum’t
)

218 ià(
	gm_docum’tUnd”Mou£
)

219 
ÿnûlD¿g
();

220 
	gm_docum’tUnd”Mou£
 = 
ÃwDocum’t
;

223 
D¿gO³¿tiÚ
 
	gD¿gCÚŒŞËr
::
d¿gEÁ”edOrUpd©ed
(
D¿gD©a
* 
d¿gD©a
)

225 
ASSERT
(
d¿gD©a
);

226 
ASSERT
(
m_·ge
->
mašF¿me
());

227 
mou£MovedIÁoDocum’t
(
m_·ge
->
mašF¿me
()->
docum’tAtPošt
(
d¿gD©a
->
ş›ÁPos™iÚ
()));

229 
	gm_d¿gDe¡š©iÚAùiÚ
 = 
m_ş›Á
->
aùiÚMaskFÜD¿g
(
d¿gD©a
);

230 ià(
	gm_d¿gDe¡š©iÚAùiÚ
 =ğ
D¿gDe¡š©iÚAùiÚNÚe
) {

231 
ÿnûlD¿g
();

232  
	gD¿gO³¿tiÚNÚe
;

235 
D¿gO³¿tiÚ
 
	gİ”©iÚ
 = 
D¿gO³¿tiÚNÚe
;

236 
boŞ
 
	ghªdËdByDocum’t
 = 
ŒyDocum’tD¿g
(
d¿gD©a
, 
m_d¿gDe¡š©iÚAùiÚ
, 
İ”©iÚ
);

237 ià(!
	ghªdËdByDocum’t
 && (
	gm_d¿gDe¡š©iÚAùiÚ
 & 
	gD¿gDe¡š©iÚAùiÚLßd
))

238  
İ”©iÚFÜLßd
(
d¿gD©a
);

239  
	gİ”©iÚ
;

242 
HTMLIÅutEËm’t
* 
asFeIÅut
(
Node
* 
node
)

244 
ASSERT
(
node
);

249 ià(
	gnode
->
hasTagName
(
HTMLNames
::
šputTag
è&& 
node
->
isShadowNode
(è&& 
¡©ic_ÿ¡
<
HTMLIÅutEËm’t
*>Òode)->
šputTy³
(è!ğHTMLIÅutEËm’t::
FILE
)

250 
node
 =‚ode->
shadowP¬’tNode
();

252 ià(!
	gnode
 || !node->
hasTagName
(
HTMLNames
::
šputTag
))

255 
HTMLIÅutEËm’t
* 
	gšputEËm
 = 
¡©ic_ÿ¡
<HTMLIÅutEËm’t*>(
node
);

256 ià(
	gšputEËm
->
šputTy³
(è=ğ
HTMLIÅutEËm’t
::
FILE
)

257  
šputEËm
;

262 
EËm’t
* 
–em’tUnd”Mou£
(
Docum’t
* 
docum’tUnd”Mou£
, cÚ¡ 
IÁPošt
& 
p
)

264 
	gzoomFaùÜ
 = 
docum’tUnd”Mou£
->
äame
()->
·geZoomFaùÜ
();

265 
IÁPošt
 
	gpošt
 = 
roundedIÁPošt
(
FlßtPošt
(
p
.
x
(è* 
zoomFaùÜ
,….
y
() * zoomFactor));

267 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
 | H™Te¡Reque¡::
Aùive
);

268 
H™Te¡ResuÉ
 
»suÉ
(
pošt
);

269 
	gdocum’tUnd”Mou£
->
»nd”V›w
()->
Ïy”
()->
h™Te¡
(
»que¡
, 
»suÉ
);

271 
Node
* 
	gn
 = 
»suÉ
.
šÃrNode
();

272 
	gn
 && !n->
isEËm’tNode
())

273 
	gn
 = 
n
->
·»ÁNode
();

274 ià(
	gn
)

275 
	gn
 = 
n
->
shadowAnû¡ÜNode
();

277 
ASSERT
(
n
);

278  
	g¡©ic_ÿ¡
<
	gEËm’t
*>(
	gn
);

281 
boŞ
 
	gD¿gCÚŒŞËr
::
ŒyDocum’tD¿g
(
D¿gD©a
* 
d¿gD©a
, 
D¿gDe¡š©iÚAùiÚ
 
aùiÚMask
, 
D¿gO³¿tiÚ
& 
İ”©iÚ
)

283 
ASSERT
(
d¿gD©a
);

285 ià(!
	gm_docum’tUnd”Mou£
)

286  
	gçl£
;

288 
	gm_isHªdlšgD¿g
 = 
çl£
;

289 ià(
	gaùiÚMask
 & 
	gD¿gDe¡š©iÚAùiÚDHTML
) {

290 
	gm_isHªdlšgD¿g
 = 
ŒyDHTMLD¿g
(
d¿gD©a
, 
İ”©iÚ
);

296 ià(!
	gm_docum’tUnd”Mou£
)

297  
	gçl£
;

302 
	gRefPŒ
<
	gF¿meV›w
> 
	gäameV›w
 = 
m_docum’tUnd”Mou£
->
v›w
();

303 ià(!
	gäameV›w
)

304  
	gçl£
;

306 ià(
	gm_isHªdlšgD¿g
) {

307 
	gm_·ge
->
d¿gC¬‘CÚŒŞËr
()->
ş—r
();

308  
	gŒue
;

309 } ià((
	gaùiÚMask
 & 
	gD¿gDe¡š©iÚAùiÚEd™
è&& 
ÿnProûssD¿g
(
d¿gD©a
)) {

310 ià(
	gd¿gD©a
->
cÚšsCŞÜ
()) {

311 
	gİ”©iÚ
 = 
D¿gO³¿tiÚG’”ic
;

312  
	gŒue
;

315 
IÁPošt
 
	gpošt
 = 
äameV›w
->
wšdowToCÚ‹Ás
(
d¿gD©a
->
ş›ÁPos™iÚ
());

316 
EËm’t
* 
	g–em’t
 = 
–em’tUnd”Mou£
(
m_docum’tUnd”Mou£
, 
pošt
);

317 ià(!
asFeIÅut
(
–em’t
)) {

318 
VisibËS–eùiÚ
 
	gd¿gC¬‘
 = 
m_docum’tUnd”Mou£
->
äame
()->
visibËPos™iÚFÜPošt
(
pošt
);

319 
	gm_·ge
->
d¿gC¬‘CÚŒŞËr
()->
£tS–eùiÚ
(
d¿gC¬‘
);

322 
F¿me
* 
	gšÃrF¿me
 = 
–em’t
->
docum’t
()->
äame
();

323 
	gİ”©iÚ
 = 
d¿gIsMove
(
šÃrF¿me
->
£ËùiÚ
()è? 
D¿gO³¿tiÚMove
 : 
D¿gO³¿tiÚCİy
;

324  
	gŒue
;

327 
	gm_·ge
->
d¿gC¬‘CÚŒŞËr
()->
ş—r
();

328  
	gçl£
;

331 
D¿gSourûAùiÚ
 
	gD¿gCÚŒŞËr
::
d–eg©eD¿gSourûAùiÚ
(cÚ¡ 
IÁPošt
& 
wšdowPošt
)

333 
m_d¿gSourûAùiÚ
 = 
m_ş›Á
->
d¿gSourûAùiÚMaskFÜPošt
(
wšdowPošt
);

334  
	gm_d¿gSourûAùiÚ
;

337 
D¿gO³¿tiÚ
 
	gD¿gCÚŒŞËr
::
İ”©iÚFÜLßd
(
D¿gD©a
* 
d¿gD©a
)

339 
ASSERT
(
d¿gD©a
);

340 
Docum’t
* 
	gdoc
 = 
m_·ge
->
mašF¿me
()->
docum’tAtPošt
(
d¿gD©a
->
ş›ÁPos™iÚ
());

341 ià(
	gdoc
 && (
	gm_didIn™Ÿ‹D¿g
 || doc->
isPlugšDocum’t
(è|| (doc->
äame
(è&& doc->äame()->
ed™Ü
()->
ş›ÁIsEd™abË
())))

342  
	gD¿gO³¿tiÚNÚe
;

343  
d¿gO³¿tiÚ
(
d¿gD©a
);

346 
boŞ
 
£tS–eùiÚToD¿gC¬‘
(
F¿me
* 
äame
, 
VisibËS–eùiÚ
& 
d¿gC¬‘
, 
RefPŒ
<
Rªge
>& 
¿nge
, cÚ¡ 
IÁPošt
& 
pošt
)

348 
	gäame
->
£ËùiÚ
()->
£tS–eùiÚ
(
d¿gC¬‘
);

349 ià(
	gäame
->
£ËùiÚ
()->
isNÚe
()) {

350 
	gd¿gC¬‘
 = 
äame
->
visibËPos™iÚFÜPošt
(
pošt
);

351 
	gäame
->
£ËùiÚ
()->
£tS–eùiÚ
(
d¿gC¬‘
);

352 
	g¿nge
 = 
d¿gC¬‘
.
toNÜm®izedRªge
();

354  !
	gäame
->
£ËùiÚ
()->
isNÚe
(è&& f¿me->£ËùiÚ()->
isCÚ‹ÁEd™abË
();

357 
boŞ
 
	gD¿gCÚŒŞËr
::
cÚşudeEd™D¿g
(
D¿gD©a
* 
d¿gD©a
)

359 
ASSERT
(
d¿gD©a
);

360 
ASSERT
(!
m_isHªdlšgD¿g
);

362 ià(!
	gm_docum’tUnd”Mou£
)

363  
	gçl£
;

365 
IÁPošt
 
	gpošt
 = 
m_docum’tUnd”Mou£
->
v›w
()->
wšdowToCÚ‹Ás
(
d¿gD©a
->
ş›ÁPos™iÚ
());

366 
EËm’t
* 
	g–em’t
 = 
–em’tUnd”Mou£
(
m_docum’tUnd”Mou£
, 
pošt
);

367 
F¿me
* 
	gšÃrF¿me
 = 
–em’t
->
owÃrDocum’t
()->
äame
();

368 
ASSERT
(
šÃrF¿me
);

370 ià(
	gd¿gD©a
->
cÚšsCŞÜ
()) {

371 
CŞÜ
 
	gcŞÜ
 = 
d¿gD©a
->
asCŞÜ
();

372 ià(!
	gcŞÜ
.
isV®id
())

373  
	gçl£
;

374 ià(!
	gšÃrF¿me
)

375  
	gçl£
;

376 
	gRefPŒ
<
	gRªge
> 
	gšÃrRªge
 = 
šÃrF¿me
->
£ËùiÚ
()->
toNÜm®izedRªge
();

377 
	gRefPŒ
<
	gCSSStyËDeş¬©iÚ
> 
	g¡yË
 = 
m_docum’tUnd”Mou£
->
ü—‹CSSStyËDeş¬©iÚ
();

378 
Exû±iÚCode
 
	gec
;

379 
	g¡yË
->
£tPrİ”ty
("cŞÜ", 
cŞÜ
.
Çme
(), 
ec
);

380 ià(!
	gšÃrF¿me
->
ed™Ü
()->
shouldAµlyStyË
(
¡yË
.
g‘
(), 
šÃrRªge
.get()))

381  
	gçl£
;

382 
	gm_ş›Á
->
wlP”fÜmD¿gDe¡š©iÚAùiÚ
(
D¿gDe¡š©iÚAùiÚEd™
, 
d¿gD©a
);

383 
	gšÃrF¿me
->
ed™Ü
()->
­¶yStyË
(
¡yË
.
g‘
(), 
Ed™AùiÚS‘CŞÜ
);

384  
	gŒue
;

387 ià(!
	gm_·ge
->
d¿gCÚŒŞËr
()->
ÿnProûssD¿g
(
d¿gD©a
)) {

388 
	gm_·ge
->
d¿gC¬‘CÚŒŞËr
()->
ş—r
();

389  
	gçl£
;

392 ià(
HTMLIÅutEËm’t
* 
	gfeIÅut
 = 
asFeIÅut
(
–em’t
)) {

393 ià(!
feIÅut
->
isEÇbËdFÜmCÚŒŞ
())

394  
çl£
;

396 ià(!
	gd¿gD©a
->
cÚšsFes
())

397  
	gçl£
;

399 
	gVeùÜ
<
	gSŒšg
> 
	gf’ames
;

400 
	gd¿gD©a
->
asF’ames
(
f’ames
);

401 ià(
	gf’ames
.
isEm±y
())

402  
	gçl£
;

407 
R’d”FeU¶ßdCÚŒŞ
* 
	g»nd””
 = 
toR’d”FeU¶ßdCÚŒŞ
(
feIÅut
->
»nd””
());

408 ià(!
	g»nd””
)

409  
	gçl£
;

411 
	g»nd””
->
»ûiveDrİ³dFes
(
f’ames
);

412  
	gŒue
;

415 
VisibËS–eùiÚ
 
d¿gC¬‘
(
m_·ge
->
d¿gC¬‘CÚŒŞËr
()->
£ËùiÚ
());

416 
	gm_·ge
->
d¿gC¬‘CÚŒŞËr
()->
ş—r
();

417 
	gRefPŒ
<
	gRªge
> 
	g¿nge
 = 
d¿gC¬‘
.
toNÜm®izedRªge
();

421 ià(!
	g¿nge
)

422  
	gçl£
;

423 
DocLßd”
* 
	glßd”
 = 
¿nge
->
owÃrDocum’t
()->
docLßd”
();

424 
	glßd”
->
£tAÎowSËResourûs
(
Œue
);

425 ià(
d¿gIsMove
(
šÃrF¿me
->
£ËùiÚ
()è|| 
	gd¿gC¬‘
.
isCÚ‹ÁRichlyEd™abË
()) {

426 
boŞ
 
	gcho£PÏšText
 = 
çl£
;

427 
	gRefPŒ
<
	gDocum’tF¿gm’t
> 
	gäagm’t
 = 
docum’tF¿gm’tFromD¿gD©a
(
d¿gD©a
, 
¿nge
, 
Œue
, 
cho£PÏšText
);

428 ià(!
	gäagm’t
 || !
	gšÃrF¿me
->
ed™Ü
()->
shouldIn£¹F¿gm’t
(
äagm’t
, 
¿nge
, 
Ed™ÜIn£¹AùiÚDrİ³d
)) {

429 
	glßd”
->
£tAÎowSËResourûs
(
çl£
);

430  
	gçl£
;

433 
	gm_ş›Á
->
wlP”fÜmD¿gDe¡š©iÚAùiÚ
(
D¿gDe¡š©iÚAùiÚEd™
, 
d¿gD©a
);

434 ià(
d¿gIsMove
(
šÃrF¿me
->
£ËùiÚ
())) {

437 
boŞ
 
	gsm¬tD–‘e
 = 
šÃrF¿me
->
ed™Ü
()->
sm¬tIn£¹D–‘eEÇbËd
();

438 
boŞ
 
	gsm¬tIn£¹
 = 
sm¬tD–‘e
 && 
šÃrF¿me
->
£ËùiÚG¿nuÏr™y
(è=ğ
WÜdG¿nuÏr™y
 && 
d¿gD©a
->
ÿnSm¬tR•Ïû
();

439 
­¶yCommªd
(
MoveS–eùiÚCommªd
::
ü—‹
(
äagm’t
, 
d¿gC¬‘
.
ba£
(), 
sm¬tIn£¹
, 
sm¬tD–‘e
));

441 ià(
£tS–eùiÚToD¿gC¬‘
(
šÃrF¿me
, 
d¿gC¬‘
, 
¿nge
, 
pošt
))

442 
­¶yCommªd
(
R•ÏûS–eùiÚCommªd
::
ü—‹
(
m_docum’tUnd”Mou£
, 
äagm’t
, 
Œue
, 
d¿gD©a
->
ÿnSm¬tR•Ïû
(), 
cho£PÏšText
));

445 
SŒšg
 
	g‹xt
 = 
d¿gD©a
->
asPÏšText
();

446 ià(
	g‹xt
.
isEm±y
(è|| !
	gšÃrF¿me
->
ed™Ü
()->
shouldIn£¹Text
(
‹xt
, 
¿nge
.
g‘
(), 
Ed™ÜIn£¹AùiÚDrİ³d
)) {

447 
	glßd”
->
£tAÎowSËResourûs
(
çl£
);

448  
	gçl£
;

451 
	gm_ş›Á
->
wlP”fÜmD¿gDe¡š©iÚAùiÚ
(
D¿gDe¡š©iÚAùiÚEd™
, 
d¿gD©a
);

452 ià(
£tS–eùiÚToD¿gC¬‘
(
šÃrF¿me
, 
d¿gC¬‘
, 
¿nge
, 
pošt
))

453 
­¶yCommªd
(
R•ÏûS–eùiÚCommªd
::
ü—‹
(
m_docum’tUnd”Mou£
, 
ü—‹F¿gm’tFromText
(
¿nge
.
g‘
(), 
‹xt
), 
Œue
, 
çl£
,rue));

455 
	glßd”
->
£tAÎowSËResourûs
(
çl£
);

457  
	gŒue
;

460 
boŞ
 
	gD¿gCÚŒŞËr
::
ÿnProûssD¿g
(
D¿gD©a
* 
d¿gD©a
)

462 
ASSERT
(
d¿gD©a
);

464 ià(!
	gd¿gD©a
->
cÚšsCom·tibËCÚ‹Á
())

465  
	gçl£
;

467 
IÁPošt
 
	gpošt
 = 
m_·ge
->
mašF¿me
()->
v›w
()->
wšdowToCÚ‹Ás
(
d¿gD©a
->
ş›ÁPos™iÚ
());

468 
H™Te¡ResuÉ
 
	g»suÉ
 = H™Te¡ResuÉ(
pošt
);

469 ià(!
	gm_·ge
->
mašF¿me
()->
cÚ‹ÁR’d””
())

470  
	gçl£
;

472 
	g»suÉ
 = 
m_·ge
->
mašF¿me
()->
ev’tHªdËr
()->
h™Te¡ResuÉAtPošt
(
pošt
, 
Œue
);

474 ià(!
	g»suÉ
.
šÃrNÚSh¬edNode
())

475  
	gçl£
;

477 ià(
	gd¿gD©a
->
cÚšsFes
(è&& 
asFeIÅut
(
»suÉ
.
šÃrNÚSh¬edNode
()))

478  
	gŒue
;

480 ià(!
	g»suÉ
.
šÃrNÚSh¬edNode
()->
isCÚ‹ÁEd™abË
())

481  
	gçl£
;

483 ià(
	gm_didIn™Ÿ‹D¿g
 && 
	gm_docum’tUnd”Mou£
 =ğ
m_d¿gIn™ŸtÜ
 && 
»suÉ
.
isS–eùed
())

484  
çl£
;

486  
	gŒue
;

489 
D¿gO³¿tiÚ
 
deçuÉO³¿tiÚFÜD¿g
(D¿gO³¿tiÚ 
¤cOpMask
)

493 ià(
	g¤cOpMask
 =ğ
D¿gO³¿tiÚEv”y
)

494  
D¿gO³¿tiÚCİy
;

495 ià(
	g¤cOpMask
 =ğ
D¿gO³¿tiÚNÚe
)

496  
D¿gO³¿tiÚNÚe
;

497 ià(
	g¤cOpMask
 & 
	gD¿gO³¿tiÚMove
 || srcOpMask & 
	gD¿gO³¿tiÚG’”ic
)

498  
	gD¿gO³¿tiÚMove
;

499 ià(
	g¤cOpMask
 & 
	gD¿gO³¿tiÚCİy
)

500  
	gD¿gO³¿tiÚCİy
;

501 ià(
	g¤cOpMask
 & 
	gD¿gO³¿tiÚLšk
)

502  
	gD¿gO³¿tiÚLšk
;

505  
	gD¿gO³¿tiÚG’”ic
;

508 
boŞ
 
	gD¿gCÚŒŞËr
::
ŒyDHTMLD¿g
(
D¿gD©a
* 
d¿gD©a
, 
D¿gO³¿tiÚ
& 
İ”©iÚ
)

510 
ASSERT
(
d¿gD©a
);

511 
ASSERT
(
m_docum’tUnd”Mou£
);

512 
	gRefPŒ
<
	gF¿me
> 
	gmašF¿me
 = 
m_·ge
->
mašF¿me
();

513 
	gRefPŒ
<
	gF¿meV›w
> 
	gv›wPrÙeùÜ
 = 
mašF¿me
->
v›w
();

514 ià(!
	gv›wPrÙeùÜ
)

515  
	gçl£
;

517 
ClbßrdAcûssPŞicy
 
	gpŞicy
 = 
m_docum’tUnd”Mou£
->
£cur™yOrigš
()->
isLoÿl
(è? 
ClbßrdR—dabË
 : 
ClbßrdTy³sR—dabË
;

518 
	gRefPŒ
<
	gClbßrd
> 
	gşbßrd
 = 
d¿gD©a
->
ü—‹Clbßrd
(
pŞicy
);

519 
D¿gO³¿tiÚ
 
	g¤cOpMask
 = 
d¿gD©a
->
d¿ggšgSourûO³¿tiÚMask
();

520 
	gşbßrd
->
£tSourûO³¿tiÚ
(
¤cOpMask
);

522 
PÏtfÜmMou£Ev’t
 
	gev’t
 = 
ü—‹Mou£Ev’t
(
d¿gD©a
);

523 ià(!
	gmašF¿me
->
ev’tHªdËr
()->
upd©eD¿gAndDrİ
(
ev’t
, 
şbßrd
.
g‘
())) {

524 
	gşbßrd
->
£tAcûssPŞicy
(
ClbßrdNumb
);

525  
	gçl£
;

528 
	gİ”©iÚ
 = 
şbßrd
->
de¡š©iÚO³¿tiÚ
();

529 ià(
	gşbßrd
->
drİEfãùIsUnš™Ÿlized
())

530 
	gİ”©iÚ
 = 
deçuÉO³¿tiÚFÜD¿g
(
¤cOpMask
);

531 ià(!(
	g¤cOpMask
 & 
	gİ”©iÚ
)) {

533 
	gİ”©iÚ
 = 
D¿gO³¿tiÚNÚe
;

536 
	gşbßrd
->
£tAcûssPŞicy
(
ClbßrdNumb
);

537  
	gŒue
;

540 
boŞ
 
	gD¿gCÚŒŞËr
::
mayS¹D¿gAtEv’tLoÿtiÚ
(cÚ¡ 
F¿me
* 
äame
, cÚ¡ 
IÁPošt
& 
äamePos
, 
Node
* 
node
)

542 
ASSERT
(
äame
);

543 
ASSERT
(
äame
->
£‰šgs
());

545 ià(!
	gäame
->
v›w
(è|| !äame->
cÚ‹ÁR’d””
())

546  
	gçl£
;

548 
H™Te¡ResuÉ
 
	gmou£DownT¬g‘
 = H™Te¡ResuÉ(
äamePos
);

550 
	gmou£DownT¬g‘
 = 
äame
->
ev’tHªdËr
()->
h™Te¡ResuÉAtPošt
(
äamePos
, 
Œue
);

551 ià(
	gnode
)

552 
	gmou£DownT¬g‘
.
£tIÂ”NÚSh¬edNode
(
node
);

554 ià(
	gmou£DownT¬g‘
.
image
()

555 && !
	gmou£DownT¬g‘
.
absŞu‹ImageURL
().
isEm±y
()

556 && 
	gäame
->
£‰šgs
()->
lßdsImagesAutom©iÿÎy
()

557 && 
	gm_d¿gSourûAùiÚ
 & 
	gD¿gSourûAùiÚImage
)

558  
	gŒue
;

560 ià(!
	gmou£DownT¬g‘
.
absŞu‹LškURL
().
isEm±y
()

561 && 
	gm_d¿gSourûAùiÚ
 & 
	gD¿gSourûAùiÚLšk


562 && 
	gmou£DownT¬g‘
.
isLiveLšk
()

563 && 
	gmou£DownT¬g‘
.
URLEËm’t
()->
»nd””
(è&& mou£DownT¬g‘.URLEËm’t()->»nd””()->
¡yË
()->
u£rD¿g
(è!ğ
DRAG_NONE
)

564  
Œue
;

566 ià(
	gmou£DownT¬g‘
.
isS–eùed
()

567 && 
	gm_d¿gSourûAùiÚ
 & 
	gD¿gSourûAùiÚS–eùiÚ
)

568  
	gŒue
;

570  
	gçl£
;

573 
CachedImage
* 
g‘CachedImage
(
EËm’t
* 
–em’t
)

575 
ASSERT
(
–em’t
);

576 
R’d”Objeù
* 
	g»nd””
 = 
–em’t
->
»nd””
();

577 ià(!
	g»nd””
 || !»nd””->
isImage
())

579 
R’d”Image
* 
	gimage
 = 
toR’d”Image
(
»nd””
);

580  
	gimage
->
ÿchedImage
();

583 
Image
* 
g‘Image
(
EËm’t
* 
–em’t
)

585 
ASSERT
(
–em’t
);

586 
CachedImage
* 
	gÿchedImage
 = 
g‘CachedImage
(
–em’t
);

587  (
	gÿchedImage
 && !ÿchedImage->
”rÜOccu¼ed
()) ?

588 
	gÿchedImage
->
image
() : 0;

591 
´•¬eClbßrdFÜImageD¿g
(
F¿me
* 
¤c
, 
Clbßrd
* 
şbßrd
, 
EËm’t
* 
node
, cÚ¡ 
KURL
& 
lškURL
, cÚ¡ KURL& 
imageURL
, cÚ¡ 
SŒšg
& 
Ïb–
)

593 
	gRefPŒ
<
	gRªge
> 
	g¿nge
 = 
¤c
->
docum’t
()->
ü—‹Rªge
();

594 
Exû±iÚCode
 
	gec
 = 0;

595 
	g¿nge
->
£ËùNode
(
node
, 
ec
);

596 
ASSERT
(!
ec
);

597 
	g¤c
->
£ËùiÚ
()->
£tS–eùiÚ
(
VisibËS–eùiÚ
(
¿nge
.
g‘
(), 
DOWNSTREAM
));

598 
	gşbßrd
->
deş¬eAndWr™eD¿gImage
(
node
, !
lškURL
.
isEm±y
(è?†škURL : 
imageURL
, 
Ïb–
, 
¤c
);

601 
IÁPošt
 
d¿gLocFÜDHTMLD¿g
(cÚ¡ IÁPošt& 
mou£D¿ggedPošt
, cÚ¡ IÁPošt& 
d¿gOrigš
, cÚ¡ IÁPošt& 
d¿gImageOff£t
, 
boŞ
 
isLškImage
)

604 #ià
PLATFORM
(
MAC
)

606 cÚ¡ 
	gyOff£t
 = 
d¿gImageOff£t
.
y
();

608 cÚ¡ 
	gyOff£t
 = -
d¿gImageOff£t
.
y
();

611 ià(
	gisLškImage
)

612  
IÁPošt
(
mou£D¿ggedPošt
.
x
(è- 
d¿gImageOff£t
.x(), mou£D¿ggedPošt.
y
(è+ 
yOff£t
);

614  
IÁPošt
(
d¿gOrigš
.
x
(è- 
d¿gImageOff£t
.x(), d¿gOrigš.
y
(è+ 
yOff£t
);

617 
IÁPošt
 
d¿gLocFÜS–eùiÚD¿g
(
F¿me
* 
¤c
)

619 
IÁReù
 
	gd¿ggšgReù
 = 
’şosšgIÁReù
(
¤c
->
£ËùiÚBounds
());

620 
	gxpos
 = 
d¿ggšgReù
.
right
();

621 
	gxpos
 = 
d¿ggšgReù
.
x
(è< 
xpos
 ? draggingRect.x() : xpos;

622 
	gypos
 = 
d¿ggšgReù
.
bÙtom
();

623 #ià
PLATFORM
(
MAC
)

625 
	gypos
 = 
d¿ggšgReù
.
y
(è> 
ypos
 ? draggingRect.y() : ypos;

627 
	gypos
 = 
d¿ggšgReù
.
y
(è< 
ypos
 ? draggingRect.y() : ypos;

629  
IÁPošt
(
xpos
, 
ypos
);

632 
boŞ
 
	gD¿gCÚŒŞËr
::
¡¬tD¿g
(
F¿me
* 
¤c
, 
Clbßrd
* 
şbßrd
, 
D¿gO³¿tiÚ
 
¤cOp
, cÚ¡ 
PÏtfÜmMou£Ev’t
& 
d¿gEv’t
, cÚ¡ 
IÁPošt
& 
d¿gOrigš
, boŞ 
isDHTMLD¿g
)

634 
ASSERT
(
¤c
);

635 
ASSERT
(
şbßrd
);

637 ià(!
	g¤c
->
v›w
(è|| !¤c->
cÚ‹ÁR’d””
())

638  
	gçl£
;

640 
H™Te¡ResuÉ
 
	gd¿gSourû
 = H™Te¡ResuÉ(
d¿gOrigš
);

641 
	gd¿gSourû
 = 
¤c
->
ev’tHªdËr
()->
h™Te¡ResuÉAtPošt
(
d¿gOrigš
, 
Œue
);

642 
KURL
 
	glškURL
 = 
d¿gSourû
.
absŞu‹LškURL
();

643 
KURL
 
	gimageURL
 = 
d¿gSourû
.
absŞu‹ImageURL
();

644 
boŞ
 
	gisS–eùed
 = 
d¿gSourû
.
isS–eùed
();

646 
IÁPošt
 
	gmou£D¿ggedPošt
 = 
¤c
->
v›w
()->
wšdowToCÚ‹Ás
(
d¿gEv’t
.
pos
());

648 
	gm_d¿ggšgImageURL
 = 
KURL
();

649 
	gm_sourûD¿gO³¿tiÚ
 = 
¤cOp
;

651 
D¿gImageRef
 
	gd¿gImage
 = 0;

652 
IÁPošt
 
d¿gLoc
(0, 0);

653 
IÁPošt
 
d¿gImageOff£t
(0, 0);

655 ià(
	gisDHTMLD¿g
)

656 
	gd¿gImage
 = 
şbßrd
->
ü—‹D¿gImage
(
d¿gImageOff£t
);

661 
	gm_sourûD¿gO³¿tiÚ
 = (
D¿gO³¿tiÚ
)(
D¿gO³¿tiÚG’”ic
 | 
D¿gO³¿tiÚCİy
);

666 ià(
	gd¿gImage
) {

667 
	gd¿gLoc
 = 
d¿gLocFÜDHTMLD¿g
(
mou£D¿ggedPošt
, 
d¿gOrigš
, 
d¿gImageOff£t
, !
lškURL
.
isEm±y
());

668 
	gm_d¿gOff£t
 = 
d¿gImageOff£t
;

671 
boŞ
 
	g¡¬‹dD¿g
 = 
Œue
;

673 
Node
* 
	gnode
 = 
d¿gSourû
.
šÃrNÚSh¬edNode
();

675 
Image
* 
	gimage
 = 
g‘Image
(
¡©ic_ÿ¡
<
EËm’t
*>(
node
));

676 ià(!
	gimageURL
.
isEm±y
(è&& 
	gnode
 &&‚ode->
isEËm’tNode
(è&& 
	gimage


677 && (
	gm_d¿gSourûAùiÚ
 & 
	gD¿gSourûAùiÚImage
)) {

680 
ASSERT
(!
image
->
f’ameEx‹nsiÚ
().
isEm±y
());

681 
EËm’t
* 
	g–em’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
node
);

682 ià(!
	gşbßrd
->
hasD©a
()) {

683 
	gm_d¿ggšgImageURL
 = 
imageURL
;

684 
´•¬eClbßrdFÜImageD¿g
(
¤c
, 
şbßrd
, 
–em’t
, 
lškURL
, 
imageURL
, 
d¿gSourû
.
®tDi¥ÏySŒšg
());

687 
	gm_ş›Á
->
wlP”fÜmD¿gSourûAùiÚ
(
D¿gSourûAùiÚImage
, 
d¿gOrigš
, 
şbßrd
);

689 ià(!
	gd¿gImage
) {

690 
IÁReù
 
	gimageReù
 = 
d¿gSourû
.
imageReù
();

691 
	gimageReù
.
£tLoÿtiÚ
(
m_·ge
->
mašF¿me
()->
v›w
()->
wšdowToCÚ‹Ás
(
¤c
->v›w()->
cÚ‹ÁsToWšdow
(
imageReù
.
loÿtiÚ
())));

692 
doImageD¿g
(
–em’t
, 
d¿gOrigš
, 
d¿gSourû
.
imageReù
(), 
şbßrd
, 
¤c
, 
m_d¿gOff£t
);

695 
doSy¡emD¿g
(
d¿gImage
, 
d¿gLoc
, 
d¿gOrigš
, 
şbßrd
, 
¤c
, 
çl£
);

697 } ià(!
	glškURL
.
isEm±y
(è&& (
	gm_d¿gSourûAùiÚ
 & 
	gD¿gSourûAùiÚLšk
)) {

698 ià(!
	gşbßrd
->
hasD©a
())

701 
	gşbßrd
->
wr™eURL
(
lškURL
, 
d¿gSourû
.
‹xtCÚ‹Á
().
sim¶ifyWh™eS·û
(), 
¤c
);

703 ià(
	g¤c
->
£ËùiÚ
()->
isC¬‘
(è&& src->£ËùiÚ()->
isCÚ‹ÁEd™abË
()) {

707 
Pos™iÚ
 
	gpos
 = 
¤c
->
£ËùiÚ
()->
ba£
();

708 
Node
* 
	gnode
 = 
’şosšgAnchÜEËm’t
(
pos
);

709 ià(
	gnode
)

710 
	g¤c
->
£ËùiÚ
()->
£tS–eùiÚ
(
VisibËS–eùiÚ
::
£ËùiÚFromCÚ‹ÁsOfNode
(
node
));

713 
	gm_ş›Á
->
wlP”fÜmD¿gSourûAùiÚ
(
D¿gSourûAùiÚLšk
, 
d¿gOrigš
, 
şbßrd
);

714 ià(!
	gd¿gImage
) {

715 
	gd¿gImage
 = 
m_ş›Á
->
ü—‹D¿gImageFÜLšk
(
lškURL
, 
d¿gSourû
.
‹xtCÚ‹Á
(), 
¤c
);

716 
IÁSize
 
	gsize
 = 
d¿gImageSize
(
d¿gImage
);

717 
	gm_d¿gOff£t
 = 
IÁPošt
(-
size
.
width
(è/ 2, -
LškD¿gBÜd”In£t
);

718 
	gd¿gLoc
 = 
IÁPošt
(
mou£D¿ggedPošt
.
x
(è+ 
m_d¿gOff£t
.x(), mou£D¿ggedPošt.
y
() + m_dragOffset.y());

720 
doSy¡emD¿g
(
d¿gImage
, 
d¿gLoc
, 
mou£D¿ggedPošt
, 
şbßrd
, 
¤c
, 
Œue
);

721 } ià(
	gisS–eùed
 && (
	gm_d¿gSourûAùiÚ
 & 
	gD¿gSourûAùiÚS–eùiÚ
)) {

722 ià(!
	gşbßrd
->
hasD©a
()) {

723 ià(
isNodeInTextFÜmCÚŒŞ
(
¤c
->
£ËùiÚ
()->
¡¬t
().
node
()))

724 
	gşbßrd
->
wr™ePÏšText
(
¤c
->
£ËùedText
());

726 
	gRefPŒ
<
	gRªge
> 
	g£ËùiÚRªge
 = 
¤c
->
£ËùiÚ
()->
toNÜm®izedRªge
();

727 
ASSERT
(
£ËùiÚRªge
);

729 
	gşbßrd
->
wr™eRªge
(
£ËùiÚRªge
.
g‘
(), 
¤c
);

732 
	gm_ş›Á
->
wlP”fÜmD¿gSourûAùiÚ
(
D¿gSourûAùiÚS–eùiÚ
, 
d¿gOrigš
, 
şbßrd
);

733 ià(!
	gd¿gImage
) {

734 
	gd¿gImage
 = 
ü—‹D¿gImageFÜS–eùiÚ
(
¤c
);

735 
	gd¿gLoc
 = 
d¿gLocFÜS–eùiÚD¿g
(
¤c
);

736 
	gm_d¿gOff£t
 = 
IÁPošt
(()(
d¿gOrigš
.
x
(è- 
d¿gLoc
.x()), ()(d¿gOrigš.
y
() - dragLoc.y()));

738 
doSy¡emD¿g
(
d¿gImage
, 
d¿gLoc
, 
d¿gOrigš
, 
şbßrd
, 
¤c
, 
çl£
);

739 } ià(
	gisDHTMLD¿g
) {

740 
ASSERT
(
m_d¿gSourûAùiÚ
 & 
D¿gSourûAùiÚDHTML
);

741 
	gm_ş›Á
->
wlP”fÜmD¿gSourûAùiÚ
(
D¿gSourûAùiÚDHTML
, 
d¿gOrigš
, 
şbßrd
);

742 
doSy¡emD¿g
(
d¿gImage
, 
d¿gLoc
, 
d¿gOrigš
, 
şbßrd
, 
¤c
, 
çl£
);

746 
	g¡¬‹dD¿g
 = 
çl£
;

749 ià(
	gd¿gImage
)

750 
d–‘eD¿gImage
(
d¿gImage
);

751  
	g¡¬‹dD¿g
;

754 
	gD¿gCÚŒŞËr
::
doImageD¿g
(
EËm’t
* 
–em’t
, cÚ¡ 
IÁPošt
& 
d¿gOrigš
, cÚ¡ 
IÁReù
& 
»ù
, 
Clbßrd
* 
şbßrd
, 
F¿me
* 
äame
, IÁPošt& 
d¿gImageOff£t
)

756 
IÁPošt
 
	gmou£DownPošt
 = 
d¿gOrigš
;

757 
D¿gImageRef
 
	gd¿gImage
;

758 
IÁPošt
 
	gÜigš
;

760 
Image
* 
	gimage
 = 
g‘Image
(
–em’t
);

761 ià(
	gimage
 && image->
size
().
height
(è* image->size().
width
(è<ğ
MaxOrigš®ImageA»a


762 && (
d¿gImage
 = 
ü—‹D¿gImageFromImage
(
image
))) {

763 
IÁSize
 
Üigš®Size
 = 
»ù
.
size
();

764 
	gÜigš
 = 
»ù
.
loÿtiÚ
();

766 
	gd¿gImage
 = 
f™D¿gImageToMaxSize
(
d¿gImage
, 
»ù
.
size
(), 
maxD¿gImageSize
());

767 
	gd¿gImage
 = 
dissŞveD¿gImageToF¿ùiÚ
(
d¿gImage
, 
D¿gImageAÍha
);

768 
IÁSize
 
	gÃwSize
 = 
d¿gImageSize
(
d¿gImage
);

771 
	gsÿË
 = 
ÃwSize
.
width
(è/ ()
Üigš®Size
.width();

772 
	gdx
 = 
Üigš
.
x
(è- 
mou£DownPošt
.x();

773 
	gdx
 *ğ
sÿË
;

774 
	gÜigš
.
£tX
(()(
dx
 + 0.5));

775 #ià
PLATFORM
(
MAC
)

777 
	gÜigš
.
£tY
(
Üigš
.
y
(è+ 
Üigš®Size
.
height
());

779 
	gdy
 = 
Üigš
.
y
(è- 
mou£DownPošt
.y();

780 
	gdy
 *ğ
sÿË
;

781 
	gÜigš
.
£tY
(()(
dy
 + 0.5));

783 
	gd¿gImage
 = 
ü—‹D¿gImageIcÚFÜCachedImage
(
g‘CachedImage
(
–em’t
));

784 ià(
	gd¿gImage
)

785 
	gÜigš
 = 
IÁPošt
(
D¿gIcÚRightIn£t
 - 
d¿gImageSize
(
d¿gImage
).
width
(), 
D¿gIcÚBÙtomIn£t
);

788 
	gd¿gImageOff£t
.
£tX
(
mou£DownPošt
.
x
(è+ 
Üigš
.x());

789 
	gd¿gImageOff£t
.
£tY
(
mou£DownPošt
.
y
(è+ 
Üigš
.y());

790 
doSy¡emD¿g
(
d¿gImage
, 
d¿gImageOff£t
, 
d¿gOrigš
, 
şbßrd
, 
äame
, 
çl£
);

792 
d–‘eD¿gImage
(
d¿gImage
);

795 
	gD¿gCÚŒŞËr
::
doSy¡emD¿g
(
D¿gImageRef
 
image
, cÚ¡ 
IÁPošt
& 
d¿gLoc
, cÚ¡ IÁPošt& 
ev’tPos
, 
Clbßrd
* 
şbßrd
, 
F¿me
* 
äame
, 
boŞ
 
fÜLšk
)

797 
	gm_didIn™Ÿ‹D¿g
 = 
Œue
;

798 
	gm_d¿gIn™ŸtÜ
 = 
äame
->
docum’t
();

800 
	gRefPŒ
<
	gF¿me
> 
	gäamePrÙeùÜ
 = 
m_·ge
->
mašF¿me
();

801 
	gRefPŒ
<
	gF¿meV›w
> 
	gv›wPrÙeùÜ
 = 
äamePrÙeùÜ
->
v›w
();

802 
	gm_ş›Á
->
¡¬tD¿g
(
image
, 
v›wPrÙeùÜ
->
wšdowToCÚ‹Ás
(
äame
->
v›w
()->
cÚ‹ÁsToWšdow
(
d¿gLoc
)),

803 
v›wPrÙeùÜ
->
wšdowToCÚ‹Ás
(
äame
->
v›w
()->
cÚ‹ÁsToWšdow
(
ev’tPos
)), 
şbßrd
, 
äamePrÙeùÜ
.
g‘
(), 
fÜLšk
);

805 
ş—nupAá”Sy¡emD¿g
();

809 
	gD¿gCÚŒŞËr
::
¶aûD¿gC¬‘
(cÚ¡ 
IÁPošt
& 
wšdowPošt
)

811 
mou£MovedIÁoDocum’t
(
m_·ge
->
mašF¿me
()->
docum’tAtPošt
(
wšdowPošt
));

812 ià(!
	gm_docum’tUnd”Mou£
)

814 
F¿me
* 
	gäame
 = 
m_docum’tUnd”Mou£
->
äame
();

815 
F¿meV›w
* 
	gäameV›w
 = 
äame
->
v›w
();

816 ià(!
	gäameV›w
)

818 
IÁPošt
 
	gäamePošt
 = 
äameV›w
->
wšdowToCÚ‹Ás
(
wšdowPošt
);

819 
VisibËS–eùiÚ
 
d¿gC¬‘
(
äame
->
visibËPos™iÚFÜPošt
(
äamePošt
));

820 
	gm_·ge
->
d¿gC¬‘CÚŒŞËr
()->
£tS–eùiÚ
(
d¿gC¬‘
);

	@DragController.h

26 #iâdeà
D¿gCÚŒŞËr_h


27 
	#D¿gCÚŒŞËr_h


	)

29 
	~"D¿gAùiÚs.h
"

30 
	~"D¿gImage.h
"

31 
	~"IÁPošt.h
"

32 
	~"KURL.h
"

34 
Çme¥aû
 
	gWebCÜe
 {

36 
şass
 
	gClbßrd
;

37 
şass
 
	gDocum’t
;

38 
şass
 
	gD¿gCl›Á
;

39 
şass
 
	gD¿gD©a
;

40 
şass
 
	gEËm’t
;

41 
şass
 
	gF¿me
;

42 
şass
 
	gImage
;

43 
şass
 
	gIÁReù
;

44 
şass
 
	gNode
;

45 
şass
 
	gPage
;

46 
şass
 
	gPÏtfÜmMou£Ev’t
;

47 
şass
 
	gRªge
;

48 
şass
 
	gS–eùiÚCÚŒŞËr
;

50 şas 
	cD¿gCÚŒŞËr
 : 
public
 
NÚcİyabË
 {

51 
public
:

52 
D¿gCÚŒŞËr
(
Page
*, 
D¿gCl›Á
*);

53 ~
D¿gCÚŒŞËr
();

54 
D¿gCl›Á
* 
ş›Á
(ècÚ¡ {  
	gm_ş›Á
; }

56 
D¿gO³¿tiÚ
 
d¿gEÁ”ed
(
D¿gD©a
*);

57 
d¿gEx™ed
(
D¿gD©a
*);

58 
D¿gO³¿tiÚ
 
d¿gUpd©ed
(
D¿gD©a
*);

59 
boŞ
 
³rfÜmD¿g
(
D¿gD©a
*);

63 
£tDidIn™Ÿ‹D¿g
(
boŞ
 
š™Ÿ‹d
è{ 
	gm_didIn™Ÿ‹D¿g
 = initiated; }

64 
boŞ
 
didIn™Ÿ‹D¿g
(ècÚ¡ {  
	gm_didIn™Ÿ‹D¿g
; }

65 
£tIsHªdlšgD¿g
(
boŞ
 
hªdlšg
è{ 
	gm_isHªdlšgD¿g
 = handling; }

66 
boŞ
 
isHªdlšgD¿g
(ècÚ¡ {  
	gm_isHªdlšgD¿g
; }

67 
D¿gO³¿tiÚ
 
sourûD¿gO³¿tiÚ
(ècÚ¡ {  
	gm_sourûD¿gO³¿tiÚ
; }

68 
£tD¿ggšgImageURL
(cÚ¡ 
KURL
& 
u¾
è{ 
	gm_d¿ggšgImageURL
 = url; }

69 cÚ¡ 
	gKURL
& 
d¿ggšgImageURL
(ècÚ¡ {  
	gm_d¿ggšgImageURL
; }

70 
£tD¿gIn™ŸtÜ
(
Docum’t
* 
š™ŸtÜ
è{ 
	gm_d¿gIn™ŸtÜ
 = in™ŸtÜ; 
	gm_didIn™Ÿ‹D¿g
 = 
Œue
; }

71 
Docum’t
* 
d¿gIn™ŸtÜ
(ècÚ¡ {  
	gm_d¿gIn™ŸtÜ
; }

72 
£tD¿gOff£t
(cÚ¡ 
IÁPošt
& 
off£t
è{ 
	gm_d¿gOff£t
 = offset; }

73 cÚ¡ 
	gIÁPošt
& 
d¿gOff£t
(ècÚ¡ {  
	gm_d¿gOff£t
; }

74 
D¿gSourûAùiÚ
 
d¿gSourûAùiÚ
(ècÚ¡ {  
	gm_d¿gSourûAùiÚ
; }

76 
Docum’t
* 
docum’tUnd”Mou£
(ècÚ¡ {  
	gm_docum’tUnd”Mou£
; }

77 
D¿gDe¡š©iÚAùiÚ
 
d¿gDe¡š©iÚAùiÚ
(ècÚ¡ {  
	gm_d¿gDe¡š©iÚAùiÚ
; }

78 
D¿gSourûAùiÚ
 
d–eg©eD¿gSourûAùiÚ
(cÚ¡ 
IÁPošt
& 
·gePošt
);

80 
boŞ
 
mayS¹D¿gAtEv’tLoÿtiÚ
(cÚ¡ 
F¿me
*, cÚ¡ 
IÁPošt
& 
äamePos
, 
Node
*);

81 
d¿gEnded
();

83 
¶aûD¿gC¬‘
(cÚ¡ 
IÁPošt
&);

85 
boŞ
 
¡¬tD¿g
(
F¿me
* 
¤c
, 
Clbßrd
*, 
D¿gO³¿tiÚ
 
¤cOp
, cÚ¡ 
PÏtfÜmMou£Ev’t
& 
d¿gEv’t
, cÚ¡ 
IÁPošt
& 
d¿gOrigš
, boŞ 
isDHTMLD¿g
);

86 cÚ¡ 
	gIÁSize
& 
maxD¿gImageSize
();

88 cÚ¡ 
	gLškD¿gBÜd”In£t
;

89 cÚ¡ 
	gMaxOrigš®ImageA»a
;

90 cÚ¡ 
	gD¿gIcÚRightIn£t
;

91 cÚ¡ 
	gD¿gIcÚBÙtomIn£t
;

92 cÚ¡ 
	gD¿gImageAÍha
;

94 
	g´iv©e
:

95 
boŞ
 
ÿnProûssD¿g
(
D¿gD©a
*);

96 
boŞ
 
cÚşudeEd™D¿g
(
D¿gD©a
*);

97 
D¿gO³¿tiÚ
 
d¿gEÁ”edOrUpd©ed
(
D¿gD©a
*);

98 
D¿gO³¿tiÚ
 
İ”©iÚFÜLßd
(
D¿gD©a
*);

99 
boŞ
 
ŒyDocum’tD¿g
(
D¿gD©a
*, 
D¿gDe¡š©iÚAùiÚ
, 
D¿gO³¿tiÚ
&);

100 
boŞ
 
ŒyDHTMLD¿g
(
D¿gD©a
*, 
D¿gO³¿tiÚ
&);

101 
D¿gO³¿tiÚ
 
d¿gO³¿tiÚ
(
D¿gD©a
*);

102 
ÿnûlD¿g
();

103 
boŞ
 
d¿gIsMove
(
S–eùiÚCÚŒŞËr
*);

104 
boŞ
 
isCİyKeyDown
();

106 
mou£MovedIÁoDocum’t
(
Docum’t
*);

108 
IÁReù
 
£ËùiÚD¿ggšgReù
(
F¿me
*);

109 
boŞ
 
doD¿g
(
F¿me
* 
¤c
, 
Clbßrd
* 
şbßrd
, 
D¿gImageRef
 
d¿gImage
, cÚ¡ 
KURL
& 
lškURL
, cÚ¡ KURL& 
imageURL
, 
Node
* 
node
, 
IÁPošt
& 
d¿gLoc
, IÁPošt& 
d¿gImageOff£t
);

110 
doImageD¿g
(
EËm’t
*, cÚ¡ 
IÁPošt
&, cÚ¡ 
IÁReù
&, 
Clbßrd
*, 
F¿me
*, IntPoint&);

111 
doSy¡emD¿g
(
D¿gImageRef
, cÚ¡ 
IÁPošt
&, cÚ¡ IÁPošt&, 
Clbßrd
*, 
F¿me
*, 
boŞ
 
fÜLšk
);

112 
ş—nupAá”Sy¡emD¿g
();

114 
Page
* 
	gm_·ge
;

115 
D¿gCl›Á
* 
	gm_ş›Á
;

117 
Docum’t
* 
	gm_docum’tUnd”Mou£
;

118 
Docum’t
* 
	gm_d¿gIn™ŸtÜ
;

120 
D¿gDe¡š©iÚAùiÚ
 
	gm_d¿gDe¡š©iÚAùiÚ
;

121 
D¿gSourûAùiÚ
 
	gm_d¿gSourûAùiÚ
;

122 
boŞ
 
	gm_didIn™Ÿ‹D¿g
;

123 
boŞ
 
	gm_isHªdlšgD¿g
;

124 
D¿gO³¿tiÚ
 
	gm_sourûD¿gO³¿tiÚ
;

125 
IÁPošt
 
	gm_d¿gOff£t
;

126 
KURL
 
	gm_d¿ggšgImageURL
;

	@EditorClient.h

27 #iâdeà
Ed™ÜCl›Á_h


28 
	#Ed™ÜCl›Á_h


	)

30 
	~"Ed™ÜIn£¹AùiÚ.h
"

31 
	~"PÏtfÜmSŒšg.h
"

32 
	~"TextAffš™y.h
"

33 
	~<wtf/FÜw¬d.h
>

34 
	~<wtf/VeùÜ.h
>

36 #ià
PLATFORM
(
MAC
)

37 
şass
 
	gNSA¼ay
;

38 
şass
 
	gNSD©a
;

39 
şass
 
	gNSSŒšg
;

40 
şass
 
	gNSURL
;

43 
Çme¥aû
 
	gWebCÜe
 {

45 
şass
 
	gCSSStyËDeş¬©iÚ
;

46 
şass
 
	gEd™Commªd
;

47 
şass
 
	gEËm’t
;

48 
şass
 
	gF¿me
;

49 
şass
 
	gHTMLEËm’t
;

50 
şass
 
	gKeybßrdEv’t
;

51 
şass
 
	gNode
;

52 
şass
 
	gRªge
;

53 
şass
 
	gVisibËS–eùiÚ
;

54 
şass
 
	gSŒšg
;

55 
şass
 
	gVisibËPos™iÚ
;

57 
	sG¿mm¬D‘a
 {

58 
	gloÿtiÚ
;

59 
	gËngth
;

60 
	gVeùÜ
<
	gSŒšg
> 
	ggues£s
;

61 
SŒšg
 
	gu£rDesütiÚ
;

64 
	eTextCheckšgTy³
 {

65 
	gTextCheckšgTy³S³Îšg
 = 1 << 1,

66 
	gTextCheckšgTy³G¿mm¬
 = 1 << 2,

67 
	gTextCheckšgTy³Lšk
 = 1 << 5,

68 
	gTextCheckšgTy³QuÙe
 = 1 << 6,

69 
	gTextCheckšgTy³Dash
 = 1 << 7,

70 
	gTextCheckšgTy³R•Ïûm’t
 = 1 << 8,

71 
	gTextCheckšgTy³CÜ»ùiÚ
 = 1 << 9

74 
	sTextCheckšgResuÉ
 {

75 
TextCheckšgTy³
 
	gty³
;

76 
	gloÿtiÚ
;

77 
	gËngth
;

78 
	gVeùÜ
<
	gG¿mm¬D‘a
> 
	gd‘as
;

79 
SŒšg
 
	g»¶aûm’t
;

82 şas 
	cEd™ÜCl›Á
 {

83 
	gpublic
:

84 
vœtu®
 ~
Ed™ÜCl›Á
() { }

85 
vœtu®
 
·geDe¡royed
() = 0;

87 
vœtu®
 
boŞ
 
shouldD–‘eRªge
(
Rªge
*) = 0;

88 
vœtu®
 
boŞ
 
shouldShowD–‘eIÁ”çû
(
HTMLEËm’t
*) = 0;

89 
vœtu®
 
boŞ
 
sm¬tIn£¹D–‘eEÇbËd
() = 0;

90 
vœtu®
 
boŞ
 
isS–eùT¿šgWh™e¥aûEÇbËd
() = 0;

91 
vœtu®
 
boŞ
 
isCÚtšuousS³ÎCheckšgEÇbËd
() = 0;

92 
vœtu®
 
toggËCÚtšuousS³ÎCheckšg
() = 0;

93 
vœtu®
 
boŞ
 
isG¿mm¬CheckšgEÇbËd
() = 0;

94 
vœtu®
 
toggËG¿mm¬Checkšg
() = 0;

95 
vœtu®
 
¥–lCheck”Docum’tTag
() = 0;

97 
vœtu®
 
boŞ
 
isEd™abË
() = 0;

99 
vœtu®
 
boŞ
 
shouldBegšEd™šg
(
Rªge
*) = 0;

100 
vœtu®
 
boŞ
 
shouldEndEd™šg
(
Rªge
*) = 0;

101 
vœtu®
 
boŞ
 
shouldIn£¹Node
(
Node
*, 
Rªge
*, 
Ed™ÜIn£¹AùiÚ
) = 0;

102 
vœtu®
 
boŞ
 
shouldIn£¹Text
(cÚ¡ 
SŒšg
&, 
Rªge
*, 
Ed™ÜIn£¹AùiÚ
) = 0;

103 
vœtu®
 
boŞ
 
shouldChªgeS–eùedRªge
(
Rªge
* 
äomRªge
, Rªge* 
toRªge
, 
EAffš™y
, boŞ 
¡lS–eùšg
) = 0;

105 
vœtu®
 
boŞ
 
shouldAµlyStyË
(
CSSStyËDeş¬©iÚ
*, 
Rªge
*) = 0;

108 
vœtu®
 
boŞ
 
shouldMoveRªgeAá”D–‘e
(
Rªge
*, Range*) = 0;

110 
vœtu®
 
didBegšEd™šg
() = 0;

111 
vœtu®
 
»¥ÚdToChªgedCÚ‹Ás
() = 0;

112 
vœtu®
 
»¥ÚdToChªgedS–eùiÚ
() = 0;

113 
vœtu®
 
didEndEd™šg
() = 0;

114 
vœtu®
 
didWr™eS–eùiÚToPa¡ebßrd
() = 0;

115 
vœtu®
 
didS‘S–eùiÚTy³sFÜPa¡ebßrd
() = 0;

120 
vœtu®
 
»gi¡”CommªdFÜUndo
(
PassRefPŒ
<
Ed™Commªd
>) = 0;

121 
vœtu®
 
»gi¡”CommªdFÜRedo
(
PassRefPŒ
<
Ed™Commªd
>) = 0;

122 
vœtu®
 
ş—rUndoRedoO³¿tiÚs
() = 0;

124 
vœtu®
 
boŞ
 
ÿnUndo
() const = 0;

125 
vœtu®
 
boŞ
 
ÿnRedo
() const = 0;

127 
vœtu®
 
undo
() = 0;

128 
vœtu®
 
»do
() = 0;

130 
vœtu®
 
hªdËKeybßrdEv’t
(
KeybßrdEv’t
*) = 0;

131 
vœtu®
 
hªdËIÅutM‘hodKeydown
(
KeybßrdEv’t
*) = 0;

133 
vœtu®
 
‹xtF›ldDidBegšEd™šg
(
EËm’t
*) = 0;

134 
vœtu®
 
‹xtF›ldDidEndEd™šg
(
EËm’t
*) = 0;

135 
vœtu®
 
‹xtDidChªgeInTextF›ld
(
EËm’t
*) = 0;

136 
vœtu®
 
boŞ
 
doTextF›ldCommªdFromEv’t
(
EËm’t
*, 
KeybßrdEv’t
*) = 0;

137 
vœtu®
 
‹xtWlBeD–‘edInTextF›ld
(
EËm’t
*) = 0;

138 
vœtu®
 
‹xtDidChªgeInTextA»a
(
EËm’t
*) = 0;

140 #ià
PLATFORM
(
MAC
)

141 
vœtu®
 
NSSŒšg
* 
u£rVisibËSŒšg
(
NSURL
*) = 0;

142 #ifdeà
BUILDING_ON_TIGER


143 
vœtu®
 
NSA¼ay
* 
·¡ebßrdTy³sFÜS–eùiÚ
(
F¿me
*) = 0;

147 #ià
PLATFORM
(
MAC
è&& !
defšed
(
BUILDING_ON_TIGER
è&& !defšed(
BUILDING_ON_LEOPARD
)

148 
vœtu®
 
uµ”ÿ£WÜd
() = 0;

149 
vœtu®
 
low”ÿ£WÜd
() = 0;

150 
vœtu®
 
ÿp™®izeWÜd
() = 0;

151 
vœtu®
 
showSub¡™utiÚsPª–
(
boŞ
 
show
) = 0;

152 
vœtu®
 
boŞ
 
sub¡™utiÚsPª–IsShowšg
() = 0;

153 
vœtu®
 
toggËSm¬tIn£¹D–‘e
() = 0;

154 
vœtu®
 
boŞ
 
isAutom©icQuÙeSub¡™utiÚEÇbËd
() = 0;

155 
vœtu®
 
toggËAutom©icQuÙeSub¡™utiÚ
() = 0;

156 
vœtu®
 
boŞ
 
isAutom©icLškD‘eùiÚEÇbËd
() = 0;

157 
vœtu®
 
toggËAutom©icLškD‘eùiÚ
() = 0;

158 
vœtu®
 
boŞ
 
isAutom©icDashSub¡™utiÚEÇbËd
() = 0;

159 
vœtu®
 
toggËAutom©icDashSub¡™utiÚ
() = 0;

160 
vœtu®
 
boŞ
 
isAutom©icTextR•Ïûm’tEÇbËd
() = 0;

161 
vœtu®
 
toggËAutom©icTextR•Ïûm’t
() = 0;

162 
vœtu®
 
boŞ
 
isAutom©icS³ÎšgCÜ»ùiÚEÇbËd
() = 0;

163 
vœtu®
 
toggËAutom©icS³ÎšgCÜ»ùiÚ
() = 0;

166 
vœtu®
 
ignÜeWÜdInS³ÎDocum’t
(cÚ¡ 
SŒšg
&) = 0;

167 
vœtu®
 
Ë¬nWÜd
(cÚ¡ 
SŒšg
&) = 0;

168 
vœtu®
 
checkS³ÎšgOfSŒšg
(cÚ¡ 
UCh¬
*, 
Ëngth
, * 
mis¥–lšgLoÿtiÚ
, * 
mis¥–lšgL’gth
) = 0;

169 
vœtu®
 
SŒšg
 
g‘AutoCÜ»ùSugge¡iÚFÜMis¥–ËdWÜd
(cÚ¡ SŒšg& 
mis¥–ËdWÜd
) = 0;

170 
vœtu®
 
checkG¿mm¬OfSŒšg
(cÚ¡ 
UCh¬
*, 
Ëngth
, 
VeùÜ
<
G¿mm¬D‘a
>&, * 
badG¿mm¬LoÿtiÚ
, * 
badG¿mm¬L’gth
) = 0;

171 #ià
PLATFORM
(
MAC
è&& !
defšed
(
BUILDING_ON_TIGER
è&& !defšed(
BUILDING_ON_LEOPARD
)

172 
vœtu®
 
checkTextOfP¬ag¿ph
(cÚ¡ 
UCh¬
* 
‹xt
, 
Ëngth
, 
ušt64_t
 
checkšgTy³s
, 
VeùÜ
<
TextCheckšgResuÉ
>& 
»suÉs
) = 0;

174 
vœtu®
 
upd©eS³ÎšgUIW™hG¿mm¬SŒšg
(cÚ¡ 
SŒšg
&, cÚ¡ 
G¿mm¬D‘a
& 
d‘a
) = 0;

175 
vœtu®
 
upd©eS³ÎšgUIW™hMis¥–ËdWÜd
(cÚ¡ 
SŒšg
&) = 0;

176 
vœtu®
 
showS³ÎšgUI
(
boŞ
 
show
) = 0;

177 
vœtu®
 
boŞ
 
¥–lšgUIIsShowšg
() = 0;

178 
vœtu®
 
g‘Gues£sFÜWÜd
(cÚ¡ 
SŒšg
&, 
VeùÜ
<SŒšg>& 
gues£s
) = 0;

179 
vœtu®
 
£tIÅutM‘hodS‹
(
boŞ
 
’abËd
) = 0;

	@EventHandler.cpp

27 
	~"cÚfig.h
"

28 
	~"Ev’tHªdËr.h
"

30 
	~"AXObjeùCache.h
"

31 
	~"CachedImage.h
"

32 
	~"Chrome.h
"

33 
	~"ChromeCl›Á.h
"

34 
	~"CursÜ.h
"

35 
	~"Docum’t.h
"

36 
	~"D¿gCÚŒŞËr.h
"

37 
	~"Ed™Ü.h
"

38 
	~"Ev’tNames.h
"

39 
	~"FlßtPošt.h
"

40 
	~"FlßtReù.h
"

41 
	~"FocusCÚŒŞËr.h
"

42 
	~"F¿me.h
"

43 
	~"F¿meLßd”.h
"

44 
	~"F¿meT»e.h
"

45 
	~"F¿meV›w.h
"

46 
	~"HTMLF¿meEËm’tBa£.h
"

47 
	~"HTMLF¿meS‘EËm’t.h
"

48 
	~"HTMLIÅutEËm’t.h
"

49 
	~"HTMLNames.h
"

50 
	~"H™Te¡Reque¡.h
"

51 
	~"H™Te¡ResuÉ.h
"

52 
	~"Image.h
"

53 
	~"In¥eùÜCÚŒŞËr.h
"

54 
	~"KeybßrdEv’t.h
"

55 
	~"Mou£Ev’t.h
"

56 
	~"Mou£Ev’tW™hH™Te¡ResuÉs.h
"

57 
	~"Page.h
"

58 
	~"PÏtfÜmKeybßrdEv’t.h
"

59 
	~"PÏtfÜmWh“lEv’t.h
"

60 
	~"PlugšDocum’t.h
"

61 
	~"R’d”F¿meS‘.h
"

62 
	~"R’d”TextCÚŒŞSšgËLše.h
"

63 
	~"R’d”V›w.h
"

64 
	~"R’d”Widg‘.h
"

65 
	~"SüŞlb¬.h
"

66 
	~"S–eùiÚCÚŒŞËr.h
"

67 
	~"S‘tšgs.h
"

68 
	~"TextEv’t.h
"

69 
	~"U£rGe¡u»IndiÿtÜ.h
"

70 
	~"Wh“lEv’t.h
"

71 
	~"htmËd™šg.h
"

72 
	~<wtf/Cu¼’tTime.h
>

73 
	~<wtf/StdLibExŒas.h
>

75 #ià
ENABLE
(
SVG
)

76 
	~"SVGDocum’t.h
"

77 
	~"SVGEËm’tIn¡ªû.h
"

78 
	~"SVGNames.h
"

79 
	~"SVGU£EËm’t.h
"

82 #ià
ENABLE
(
TOUCH_EVENTS
)

83 
	~"PÏtfÜmTouchEv’t.h
"

84 
	~"TouchEv’t.h
"

87 
Çme¥aû
 
	gWebCÜe
 {

89 
usšg
 
Çme¥aû
 
	gHTMLNames
;

91 #ià
ENABLE
(
DRAG_SUPPORT
)

95 cÚ¡ 
	gLškD¿gHy¡”esis
 = 40;

96 cÚ¡ 
	gImageD¿gHy¡”esis
 = 5;

97 cÚ¡ 
	gTextD¿gHy¡”esis
 = 3;

98 cÚ¡ 
	gG’”®D¿gHy¡”esis
 = 3;

103 cÚ¡ 
	gCompos™iÚEv’tKeyCode
 = 229;

105 #ià
ENABLE
(
SVG
)

106 
usšg
 
Çme¥aû
 
	gSVGNames
;

110 cÚ¡ 
	gautosüŞlIÁ”v®
 = 0.05;

112 cÚ¡ 
	gçkeMou£MoveIÁ”v®
 = 0.1;

114 
F¿me
* 
subäameFÜH™Te¡ResuÉ
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

116 
šlše
 
boŞ
 
süŞlNode
(
d–
, 
Wh“lEv’t
::
G¿nuÏr™y
 
g¿nuÏr™y
, 
SüŞlDœeùiÚ
 
pos™iveDœeùiÚ
, SüŞlDœeùiÚ 
Ãg©iveDœeùiÚ
, 
Node
* 
node
, Node** 
¡İNode
)

118 ià(!
	gd–
)

119  
	gçl£
;

121 ià(!
	gnode
->
»nd””
())

122  
	gçl£
;

125 
R’d”Box
* 
	g’şosšgBox
 = 
node
->
»nd””
()->
’şosšgBox
();

127 
	gabsD–
 = 
d–
 > 0 ? delta : -delta;

129 ià(
	gg¿nuÏr™y
 =ğ
Wh“lEv’t
::
Page
)

130  
’şosšgBox
->
süŞl
(
d–
 < 0 ? 
Ãg©iveDœeùiÚ
 : 
pos™iveDœeùiÚ
, 
SüŞlByPage
, 
absD–
, 
¡İNode
);

132 ià(
	gg¿nuÏr™y
 =ğ
Wh“lEv’t
::
Lše
)

133  
’şosšgBox
->
süŞl
(
d–
 < 0 ? 
Ãg©iveDœeùiÚ
 : 
pos™iveDœeùiÚ
, 
SüŞlByLše
, 
absD–
, 
¡İNode
);

135 ià(
	gg¿nuÏr™y
 =ğ
Wh“lEv’t
::
Pix–
)

136  
’şosšgBox
->
süŞl
(
d–
 < 0 ? 
Ãg©iveDœeùiÚ
 : 
pos™iveDœeùiÚ
, 
SüŞlByPix–
, 
absD–
, 
¡İNode
);

138  
	gçl£
;

141 #ià!
PLATFORM
(
MAC
è|| 
ENABLE
(
EXPERIMENTAL_SINGLE_VIEW_MODE
)

143 
šlše
 
boŞ
 
	gEv’tHªdËr
::
ev’tLoİHªdËMou£Up
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&)

145  
çl£
;

148 #ià
ENABLE
(
DRAG_SUPPORT
)

149 
šlše
 
boŞ
 
	gEv’tHªdËr
::
ev’tLoİHªdËMou£D¿gged
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&)

151  
çl£
;

157 
	gEv’tHªdËr
::
Ev’tHªdËr
(
F¿me
* 
äame
)

158 : 
m_äame
(
äame
)

159 , 
m_mou£P»s£d
(
çl£
)

160 , 
m_ÿ±u»sD¿ggšg
(
çl£
)

161 , 
m_mou£DownMayS¹S–eù
(
çl£
)

162 #ià
ENABLE
(
DRAG_SUPPORT
)

163 , 
m_mou£DownMayS¹D¿g
(
çl£
)

165 , 
m_mou£DownWasSšgËClickInS–eùiÚ
(
çl£
)

166 , 
m_begªS–eùšgText
(
çl£
)

167 , 
m_·nSüŞlInProg»ss
(
çl£
)

168 , 
m_·nSüŞlBu‰ÚP»s£d
(
çl£
)

169 , 
m_¥ršgLßdedPªSüŞlInProg»ss
(
çl£
)

170 , 
m_hov”Tim”
(
this
, &
Ev’tHªdËr
::
hov”Tim”Fœed
)

171 , 
m_autosüŞlTim”
(
this
, &
Ev’tHªdËr
::
autosüŞlTim”Fœed
)

172 , 
m_autosüŞlR’d””
(0)

173 , 
m_autosüŞlInProg»ss
(
çl£
)

174 , 
m_mou£DownMayS¹AutosüŞl
(
çl£
)

175 , 
m_mou£DownWasInSubäame
(
çl£
)

176 , 
m_çkeMou£MoveEv’tTim”
(
this
, &
Ev’tHªdËr
::
çkeMou£MoveEv’tTim”Fœed
)

177 #ià
ENABLE
(
SVG
)

178 , 
m_svgPª
(
çl£
)

180 , 
m_»sizeLay”
(0)

181 , 
m_ÿ±uršgMou£Ev’tsNode
(0)

182 , 
m_şickCouÁ
(0)

183 , 
m_mou£DownTime¡amp
(0)

184 , 
m_u£L©chedWh“lEv’tNode
(
çl£
)

185 , 
m_widg‘IsL©ched
(
çl£
)

186 #ià
PLATFORM
(
MAC
è&& !
ENABLE
(
EXPERIMENTAL_SINGLE_VIEW_MODE
)

187 , 
m_mou£DownV›w
(
n
)

188 , 
m_£ndšgEv’tToSubv›w
(
çl£
)

189 , 
m_aùiv©iÚEv’tNumb”
(0)

194 
	gEv’tHªdËr
::~
Ev’tHªdËr
()

196 
ASSERT
(!
m_çkeMou£MoveEv’tTim”
.
isAùive
());

199 #ià
ENABLE
(
DRAG_SUPPORT
)

200 
	gEv’tHªdËr
::
Ev’tHªdËrD¿gS‹
& 
Ev’tHªdËr
::
d¿gS‹
()

202 
DEFINE_STATIC_LOCAL
(
Ev’tHªdËrD¿gS‹
, 
¡©e
, ());

203  
	g¡©e
;

207 
	gEv’tHªdËr
::
ş—r
()

209 
m_hov”Tim”
.
¡İ
();

210 
	gm_çkeMou£MoveEv’tTim”
.
¡İ
();

211 
	gm_»sizeLay”
 = 0;

212 
	gm_nodeUnd”Mou£
 = 0;

213 
	gm_Ï¡NodeUnd”Mou£
 = 0;

214 #ià
ENABLE
(
SVG
)

215 
	gm_š¡ªûUnd”Mou£
 = 0;

216 
	gm_Ï¡In¡ªûUnd”Mou£
 = 0;

218 
	gm_Ï¡Mou£MoveEv’tSubäame
 = 0;

219 
	gm_Ï¡SüŞlb¬Und”Mou£
 = 0;

220 
	gm_şickCouÁ
 = 0;

221 
	gm_şickNode
 = 0;

222 
	gm_äameS‘BešgResized
 = 0;

223 #ià
ENABLE
(
DRAG_SUPPORT
)

224 
	gm_d¿gT¬g‘
 = 0;

225 
	gm_shouldOÆyFœeD¿gOv”Ev’t
 = 
çl£
;

227 
	gm_cu¼’tMou£Pos™iÚ
 = 
IÁPošt
();

228 
	gm_mou£P»ssNode
 = 0;

229 
	gm_mou£P»s£d
 = 
çl£
;

230 
	gm_ÿ±u»sD¿ggšg
 = 
çl£
;

231 
	gm_ÿ±uršgMou£Ev’tsNode
 = 0;

232 
	gm_ÏtchedWh“lEv’tNode
 = 0;

233 
	gm_´eviousWh“lSüŞËdNode
 = 0;

236 
	gEv’tHªdËr
::
£ËùClo£¡WÜdFromMou£Ev’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
»suÉ
)

238 
Node
* 
šÃrNode
 = 
»suÉ
.
rg‘Node
();

239 
VisibËS–eùiÚ
 
	gÃwS–eùiÚ
;

241 ià(
	gšÃrNode
 && iÂ”Node->
»nd””
(è&& 
	gm_mou£DownMayS¹S–eù
) {

242 
VisibËPos™iÚ
 
pos
(
šÃrNode
->
»nd””
()->
pos™iÚFÜPošt
(
»suÉ
.
loÿlPošt
()));

243 
TextG¿nuÏr™y
 
	gg¿nuÏr™y
 = 
Ch¬aù”G¿nuÏr™y
;

244 ià(
	gpos
.
isNÙNuÎ
()) {

245 
	gÃwS–eùiÚ
 = 
VisibËS–eùiÚ
(
pos
);

246 
	gÃwS–eùiÚ
.
ex·ndUsšgG¿nuÏr™y
(
WÜdG¿nuÏr™y
);

249 ià(
	gÃwS–eùiÚ
.
isRªge
()) {

250 
	gg¿nuÏr™y
 = 
WÜdG¿nuÏr™y
;

251 
	gm_begªS–eùšgText
 = 
Œue
;

252 ià(
	g»suÉ
.
ev’t
().
şickCouÁ
(è=ğ2 && 
m_äame
->
ed™Ü
()->
isS–eùT¿šgWh™e¥aûEÇbËd
())

253 
ÃwS–eùiÚ
.
­³ndT¿šgWh™e¥aû
();

256 ià(
	gm_äame
->
shouldChªgeS–eùiÚ
(
ÃwS–eùiÚ
))

257 
	gm_äame
->
£ËùiÚ
()->
£tS–eùiÚ
(
ÃwS–eùiÚ
, 
g¿nuÏr™y
);

261 
	gEv’tHªdËr
::
£ËùClo£¡WÜdOrLškFromMou£Ev’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
»suÉ
)

263 ià(!
»suÉ
.
h™Te¡ResuÉ
().
isLiveLšk
())

264  
£ËùClo£¡WÜdFromMou£Ev’t
(
»suÉ
);

266 
Node
* 
	gšÃrNode
 = 
»suÉ
.
rg‘Node
();

268 ià(
	gšÃrNode
 && iÂ”Node->
»nd””
(è&& 
	gm_mou£DownMayS¹S–eù
) {

269 
VisibËS–eùiÚ
 
	gÃwS–eùiÚ
;

270 
EËm’t
* 
	gURLEËm’t
 = 
»suÉ
.
h™Te¡ResuÉ
().
URLEËm’t
();

271 
VisibËPos™iÚ
 
pos
(
šÃrNode
->
»nd””
()->
pos™iÚFÜPošt
(
»suÉ
.
loÿlPošt
()));

272 ià(
	gpos
.
isNÙNuÎ
(è&&…os.
d“pEquiv®’t
().
node
()->
isDesûndªtOf
(
URLEËm’t
))

273 
	gÃwS–eùiÚ
 = 
VisibËS–eùiÚ
::
£ËùiÚFromCÚ‹ÁsOfNode
(
URLEËm’t
);

275 
TextG¿nuÏr™y
 
	gg¿nuÏr™y
 = 
Ch¬aù”G¿nuÏr™y
;

276 ià(
	gÃwS–eùiÚ
.
isRªge
()) {

277 
	gg¿nuÏr™y
 = 
WÜdG¿nuÏr™y
;

278 
	gm_begªS–eùšgText
 = 
Œue
;

281 ià(
	gm_äame
->
shouldChªgeS–eùiÚ
(
ÃwS–eùiÚ
))

282 
	gm_äame
->
£ËùiÚ
()->
£tS–eùiÚ
(
ÃwS–eùiÚ
, 
g¿nuÏr™y
);

286 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£P»ssEv’tDoubËClick
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
ev’t
)

288 ià(
ev’t
.ev’t().
bu‰Ú
(è!ğ
LeáBu‰Ú
)

289  
çl£
;

291 ià(
	gm_äame
->
£ËùiÚ
()->
isRªge
())

297 
	gm_begªS–eùšgText
 = 
Œue
;

299 
£ËùClo£¡WÜdFromMou£Ev’t
(
ev’t
);

301  
	gŒue
;

304 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£P»ssEv’tTrËClick
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
ev’t
)

306 ià(
ev’t
.ev’t().
bu‰Ú
(è!ğ
LeáBu‰Ú
)

307  
çl£
;

309 
Node
* 
	gšÃrNode
 = 
ev’t
.
rg‘Node
();

310 ià(!(
	gšÃrNode
 && iÂ”Node->
»nd””
(è&& 
	gm_mou£DownMayS¹S–eù
))

311  
	gçl£
;

313 
VisibËS–eùiÚ
 
	gÃwS–eùiÚ
;

314 
VisibËPos™iÚ
 
pos
(
šÃrNode
->
»nd””
()->
pos™iÚFÜPošt
(
ev’t
.
loÿlPošt
()));

315 ià(
	gpos
.
isNÙNuÎ
()) {

316 
	gÃwS–eùiÚ
 = 
VisibËS–eùiÚ
(
pos
);

317 
	gÃwS–eùiÚ
.
ex·ndUsšgG¿nuÏr™y
(
P¬ag¿phG¿nuÏr™y
);

320 
TextG¿nuÏr™y
 
	gg¿nuÏr™y
 = 
Ch¬aù”G¿nuÏr™y
;

321 ià(
	gÃwS–eùiÚ
.
isRªge
()) {

322 
	gg¿nuÏr™y
 = 
P¬ag¿phG¿nuÏr™y
;

323 
	gm_begªS–eùšgText
 = 
Œue
;

326 ià(
	gm_äame
->
shouldChªgeS–eùiÚ
(
ÃwS–eùiÚ
))

327 
	gm_äame
->
£ËùiÚ
()->
£tS–eùiÚ
(
ÃwS–eùiÚ
, 
g¿nuÏr™y
);

329  
	gŒue
;

332 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£P»ssEv’tSšgËClick
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
ev’t
)

334 
Node
* 
šÃrNode
 = 
ev’t
.
rg‘Node
();

335 ià(!(
	gšÃrNode
 && iÂ”Node->
»nd””
(è&& 
	gm_mou£DownMayS¹S–eù
))

336  
	gçl£
;

339 
boŞ
 
	gex‹ndS–eùiÚ
 = 
ev’t
.ev’t().
shiáKey
(è&& !ev’t.
isOv”Lšk
();

343 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
()) {

344 
IÁPošt
 
vPošt
 = 
v›w
->
wšdowToCÚ‹Ás
(
ev’t
.ev’t().
pos
());

345 ià(!
	gex‹ndS–eùiÚ
 && 
	gm_äame
->
£ËùiÚ
()->
cÚšs
(
vPošt
)) {

346 
	gm_mou£DownWasSšgËClickInS–eùiÚ
 = 
Œue
;

347  
	gçl£
;

351 
VisibËPos™iÚ
 
visibËPos
(
šÃrNode
->
»nd””
()->
pos™iÚFÜPošt
(
ev’t
.
loÿlPošt
()));

352 ià(
	gvisibËPos
.
isNuÎ
())

353 
	gvisibËPos
 = 
VisibËPos™iÚ
(
šÃrNode
, 0, 
DOWNSTREAM
);

354 
Pos™iÚ
 
	gpos
 = 
visibËPos
.
d“pEquiv®’t
();

356 
VisibËS–eùiÚ
 
	gÃwS–eùiÚ
 = 
m_äame
->
£ËùiÚ
()->selection();

357 
TextG¿nuÏr™y
 
	gg¿nuÏr™y
 = 
Ch¬aù”G¿nuÏr™y
;

359 ià(
	gex‹ndS–eùiÚ
 && 
	gÃwS–eùiÚ
.
isC¬‘OrRªge
()) {

360 
	gm_äame
->
£ËùiÚ
()->
£tIsDœeùiÚ®
(
çl£
);

364 
Pos™iÚ
 
	g¡¬t
 = 
ÃwS–eùiÚ
.
¡¬t
();

365 
Pos™iÚ
 
	g’d
 = 
ÃwS–eùiÚ
.
’d
();

366 ià(
com·»Pos™iÚs
(
pos
, 
¡¬t
) <= 0)

367 
ÃwS–eùiÚ
 = 
VisibËS–eùiÚ
(
pos
, 
’d
);

369 
	gÃwS–eùiÚ
 = 
VisibËS–eùiÚ
(
¡¬t
, 
pos
);

371 ià(
	gm_äame
->
£ËùiÚG¿nuÏr™y
(è!ğ
Ch¬aù”G¿nuÏr™y
) {

372 
g¿nuÏr™y
 = 
m_äame
->
£ËùiÚG¿nuÏr™y
();

373 
	gÃwS–eùiÚ
.
ex·ndUsšgG¿nuÏr™y
(
m_äame
->
£ËùiÚG¿nuÏr™y
());

376 
	gm_begªS–eùšgText
 = 
Œue
;

378 
	gÃwS–eùiÚ
 = 
VisibËS–eùiÚ
(
visibËPos
);

380 ià(
	gm_äame
->
shouldChªgeS–eùiÚ
(
ÃwS–eùiÚ
))

381 
	gm_äame
->
£ËùiÚ
()->
£tS–eùiÚ
(
ÃwS–eùiÚ
, 
g¿nuÏr™y
);

383  
	gŒue
;

386 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£P»ssEv’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
ev’t
)

388 #ià
ENABLE
(
DRAG_SUPPORT
)

390 
d¿gS‹
().
m_d¿gSrc
 = 0;

393 
ÿnûlFakeMou£MoveEv’t
();

395 ià(
SüŞlV›w
* 
	gsüŞlV›w
 = 
m_äame
->
v›w
()) {

396 ià(
süŞlV›w
->
isPoštInSüŞlb¬CÜÃr
(
ev’t
.ev’t().
pos
()))

397  
çl£
;

400 
boŞ
 
	gsšgËClick
 = 
ev’t
.ev’t().
şickCouÁ
() <= 1;

404 
	gm_mou£DownMayS¹S–eù
 = 
ÿnMou£DownS¹S–eù
(
ev’t
.
rg‘Node
());

406 #ià
ENABLE
(
DRAG_SUPPORT
)

408 
	gm_mou£DownMayS¹D¿g
 = 
sšgËClick
;

411 
	gm_mou£DownWasSšgËClickInS–eùiÚ
 = 
çl£
;

413 
	gm_mou£Down
 = 
ev’t
.event();

415 ià(
	gev’t
.
isOv”Widg‘
(è&& 
·ssWidg‘Mou£DownEv’tToWidg‘
(
ev’t
))

416  
	gŒue
;

418 #ià
ENABLE
(
SVG
)

419 ià(
	gm_äame
->
docum’t
()->
isSVGDocum’t
() &&

420 
	g¡©ic_ÿ¡
<
	gSVGDocum’t
*>(
	gm_äame
->
docum’t
())->
zoomAndPªEÇbËd
()) {

421 ià(
	gev’t
.
ev’t
().
shiáKey
(è&& 
	gsšgËClick
) {

422 
	gm_svgPª
 = 
Œue
;

423 
	g¡©ic_ÿ¡
<
	gSVGDocum’t
*>(
	gm_äame
->
docum’t
())->
¡¬tPª
(
ev’t
.ev’t().
pos
());

424  
	gŒue
;

431 ià(
	gsšgËClick
)

432 
focusDocum’tV›w
();

434 
Node
* 
	gšÃrNode
 = 
ev’t
.
rg‘Node
();

436 
	gm_mou£P»ssNode
 = 
šÃrNode
;

437 #ià
ENABLE
(
DRAG_SUPPORT
)

438 
	gm_d¿gS¹Pos
 = 
ev’t
.ev’t().
pos
();

441 
boŞ
 
	gsw®lowEv’t
 = 
çl£
;

442 
	gm_äame
->
£ËùiÚ
()->
£tC¬‘BlškšgSu¥’ded
(
Œue
);

443 
	gm_mou£P»s£d
 = 
Œue
;

444 
	gm_begªS–eùšgText
 = 
çl£
;

446 ià(
	gev’t
.
ev’t
().
şickCouÁ
() == 2)

447 
sw®lowEv’t
 = 
hªdËMou£P»ssEv’tDoubËClick
(
ev’t
);

448 ià(
	gev’t
.
ev’t
().
şickCouÁ
() >= 3)

449 
sw®lowEv’t
 = 
hªdËMou£P»ssEv’tTrËClick
(
ev’t
);

451 
	gsw®lowEv’t
 = 
hªdËMou£P»ssEv’tSšgËClick
(
ev’t
);

453 
	gm_mou£DownMayS¹AutosüŞl
 = 
m_mou£DownMayS¹S–eù
 ||

454 (
m_mou£P»ssNode
 && m_mou£P»ssNode->
»nd”Box
(è&& m_mou£P»ssNode->»nd”Box()->
ÿnBeProg¿m©iÿÎySüŞËd
(
Œue
));

456  
	gsw®lowEv’t
;

459 #ià
ENABLE
(
DRAG_SUPPORT
)

460 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£D¿ggedEv’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
ev’t
)

462 ià(
hªdËD¿g
(
ev’t
))

463  
Œue
;

465 ià(!
	gm_mou£P»s£d
)

466  
	gçl£
;

468 
Node
* 
	grg‘Node
 = 
ev’t
.
rg‘Node
();

469 ià(
	gev’t
.
ev’t
().
bu‰Ú
(è!ğ
LeáBu‰Ú
 || !
rg‘Node
 || !rg‘Node->
»nd””
())

470  
çl£
;

472 #ià
PLATFORM
(
MAC
)

473 
ASSERT
(
m_mou£DownMayS¹S–eù
 || 
m_mou£DownMayS¹AutosüŞl
);

476 
	gm_mou£DownMayS¹D¿g
 = 
çl£
;

478 ià(
	gm_mou£DownMayS¹AutosüŞl
 && !
	gm_·nSüŞlInProg»ss
) {

481 
R’d”Objeù
* 
	g»nd””
 = 
rg‘Node
->
»nd””
();

482 
	g»nd””
 && (!»nd””->
isBox
(è|| !
toR’d”Box
(
»nd””
)->
ÿnBeSüŞËdAndHasSüŞÏbËA»a
())) {

483 ià(!
	g»nd””
->
·»Á
(è&&„’d””->
node
(è=ğ
»nd””
->
docum’t
(è&&„’d””->docum’t()->
owÃrEËm’t
())

484 
»nd””
 =„’d””->
docum’t
()->
owÃrEËm’t
()->renderer();

486 
	g»nd””
 = 
»nd””
->
·»Á
();

489 ià(
	g»nd””
) {

490 
	gm_autosüŞlInProg»ss
 = 
Œue
;

491 
hªdËAutosüŞl
(
»nd””
);

494 
	gm_mou£DownMayS¹AutosüŞl
 = 
çl£
;

497 
upd©eS–eùiÚFÜMou£D¿g
(
rg‘Node
, 
ev’t
.
loÿlPošt
());

498  
	gŒue
;

501 
boŞ
 
	gEv’tHªdËr
::
ev’tMayS¹D¿g
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
) const

507 ià(!
m_äame
->
cÚ‹ÁR’d””
(è|| !m_äame->cÚ‹ÁR’d””()->
hasLay”
())

508  
çl£
;

510 ià(
	gev’t
.
bu‰Ú
(è!ğ
LeáBu‰Ú
 || 
ev’t
.
şickCouÁ
() != 1)

511  
çl£
;

513 
boŞ
 
	gDHTMLFÏg
;

514 
boŞ
 
	gUAFÏg
;

515 
®lowDHTMLD¿g
(
DHTMLFÏg
, 
UAFÏg
);

516 ià(!
	gDHTMLFÏg
 && !
	gUAFÏg
)

517  
	gçl£
;

519 
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
();

520 ià(!
	gv›w
)

521  
	gçl£
;

523 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
);

524 
H™Te¡ResuÉ
 
»suÉ
(
v›w
->
wšdowToCÚ‹Ás
(
ev’t
.
pos
()));

525 
	gm_äame
->
cÚ‹ÁR’d””
()->
Ïy”
()->
h™Te¡
(
»que¡
, 
»suÉ
);

526 
boŞ
 
	g¤cIsDHTML
;

527  
	g»suÉ
.
šÃrNode
(è&&„esuÉ.šÃrNode()->
»nd””
()->
d¿ggabËNode
(
DHTMLFÏg
, 
UAFÏg
, 
»suÉ
.
pošt
().
x
(),„esuÉ.pošt().
y
(), 
¤cIsDHTML
);

530 
	gEv’tHªdËr
::
upd©eS–eùiÚFÜMou£D¿g
()

532 
F¿meV›w
* 
v›w
 = 
m_äame
->view();

533 ià(!
	gv›w
)

535 
R’d”V›w
* 
	g»nd””
 = 
m_äame
->
cÚ‹ÁR’d””
();

536 ià(!
	g»nd””
)

538 
R’d”Lay”
* 
	gÏy”
 = 
»nd””
->
Ïy”
();

539 ià(!
	gÏy”
)

542 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
 |

543 
H™Te¡Reque¡
::
Aùive
 |

544 
H™Te¡Reque¡
::
Mou£Move
);

545 
H™Te¡ResuÉ
 
»suÉ
(
v›w
->
wšdowToCÚ‹Ás
(
m_cu¼’tMou£Pos™iÚ
));

546 
	gÏy”
->
h™Te¡
(
»que¡
, 
»suÉ
);

547 
upd©eS–eùiÚFÜMou£D¿g
(
»suÉ
.
šÃrNode
(),„esuÉ.
loÿlPošt
());

550 
	gEv’tHªdËr
::
upd©eS–eùiÚFÜMou£D¿g
(
Node
* 
rg‘Node
, cÚ¡ 
IÁPošt
& 
loÿlPošt
)

552 ià(!
	gm_mou£DownMayS¹S–eù
)

555 ià(!
	grg‘Node
)

558 
R’d”Objeù
* 
	grg‘R’d””
 = 
rg‘Node
->
»nd””
();

559 ià(!
	grg‘R’d””
)

562 ià(!
ÿnMou£D¿gEx‹ndS–eù
(
rg‘Node
))

565 
VisibËPos™iÚ
 
rg‘Pos™iÚ
(
rg‘R’d””
->
pos™iÚFÜPošt
(
loÿlPošt
));

568 ià(
	grg‘Pos™iÚ
.
isNuÎ
())

573 
VisibËS–eùiÚ
 
	gÃwS–eùiÚ
 = 
m_äame
->
£ËùiÚ
()->selection();

575 #ià
ENABLE
(
SVG
)

578 ià(
Node
* 
	g£ËùiÚBa£Node
 = 
ÃwS–eùiÚ
.
ba£
().
node
())

579 ià(
R’d”Objeù
* 
£ËùiÚBa£R’d””
 = 
£ËùiÚBa£Node
->
»nd””
())

580 ià(
£ËùiÚBa£R’d””
->
isSVGText
())

581 ià(
rg‘Node
->
»nd””
()->
cÚššgBlock
(è!ğ
£ËùiÚBa£R’d””
->containingBlock())

585 ià(!
	gm_begªS–eùšgText
) {

586 
	gm_begªS–eùšgText
 = 
Œue
;

587 
	gÃwS–eùiÚ
 = 
VisibËS–eùiÚ
(
rg‘Pos™iÚ
);

590 
	gÃwS–eùiÚ
.
£tEx‹Á
(
rg‘Pos™iÚ
);

591 ià(
	gm_äame
->
£ËùiÚG¿nuÏr™y
(è!ğ
Ch¬aù”G¿nuÏr™y
)

592 
ÃwS–eùiÚ
.
ex·ndUsšgG¿nuÏr™y
(
m_äame
->
£ËùiÚG¿nuÏr™y
());

594 ià(
	gm_äame
->
shouldChªgeS–eùiÚ
(
ÃwS–eùiÚ
)) {

595 
	gm_äame
->
£ËùiÚ
()->
£tIsDœeùiÚ®
(
çl£
);

596 
	gm_äame
->
£ËùiÚ
()->
£tS–eùiÚ
(
ÃwS–eùiÚ
, 
m_äame
->
£ËùiÚG¿nuÏr™y
());

601 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£Up
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
ev’t
)

603 ià(
ev’tLoİHªdËMou£Up
(
ev’t
))

604  
Œue
;

611  
ev’tAùiv©edV›w
(
ev’t
.event());

614 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£R–—£Ev’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
ev’t
)

616 ià(
m_autosüŞlInProg»ss
)

617 
¡İAutosüŞlTim”
();

619 ià(
hªdËMou£Up
(
ev’t
))

620  
	gŒue
;

624 
	gm_äame
->
£ËùiÚ
()->
£tC¬‘BlškšgSu¥’ded
(
çl£
);

625 
	gm_mou£P»s£d
 = 
çl£
;

626 
	gm_ÿ±u»sD¿ggšg
 = 
çl£
;

627 #ià
ENABLE
(
DRAG_SUPPORT
)

628 
	gm_mou£DownMayS¹D¿g
 = 
çl£
;

630 
	gm_mou£DownMayS¹S–eù
 = 
çl£
;

631 
	gm_mou£DownMayS¹AutosüŞl
 = 
çl£
;

632 
	gm_mou£DownWasInSubäame
 = 
çl£
;

634 
boŞ
 
	ghªdËd
 = 
çl£
;

640 ià(
	gm_mou£DownWasSšgËClickInS–eùiÚ
 && !
	gm_begªS–eùšgText


641 #ià
ENABLE
(
DRAG_SUPPORT
)

642 && 
	gm_d¿gS¹Pos
 =ğ
ev’t
.ev’t().
pos
()

644 && 
m_äame
->
£ËùiÚ
()->
isRªge
()

645 && 
ev’t
.ev’t().
bu‰Ú
(è!ğ
RightBu‰Ú
) {

646 
VisibËS–eùiÚ
 
ÃwS–eùiÚ
;

647 
Node
 *
	gnode
 = 
ev’t
.
rg‘Node
();

648 
boŞ
 
	gÿ»tBrowsšg
 = 
m_äame
->
£‰šgs
()->
ÿ»tBrowsšgEÇbËd
();

649 ià(
	gnode
 && (
	gÿ»tBrowsšg
 ||‚ode->
isCÚ‹ÁEd™abË
()è&&‚ode->
»nd””
()) {

650 
VisibËPos™iÚ
 
	gpos
 = 
node
->
»nd””
()->
pos™iÚFÜPošt
(
ev’t
.
loÿlPošt
());

651 
	gÃwS–eùiÚ
 = 
VisibËS–eùiÚ
(
pos
);

653 ià(
	gm_äame
->
shouldChªgeS–eùiÚ
(
ÃwS–eùiÚ
))

654 
	gm_äame
->
£ËùiÚ
()->
£tS–eùiÚ
(
ÃwS–eùiÚ
);

656 
	ghªdËd
 = 
Œue
;

659 
	gm_äame
->
nÙifyR’d””OfS–eùiÚChªge
(
Œue
);

661 
	gm_äame
->
£ËùiÚ
()->
£ËùF¿meEËm’tInP¬’tIfFuÎyS–eùed
();

663  
	ghªdËd
;

666 
	gEv’tHªdËr
::
hªdËAutosüŞl
(
R’d”Objeù
* 
»nd””
)

669 ià(
m_autosüŞlTim”
.
isAùive
())

672 
£tAutosüŞlR’d””
(
»nd””
);

674 #ià
ENABLE
(
PAN_SCROLLING
)

675 ià(
	gm_·nSüŞlInProg»ss
) {

676 
	gm_·nSüŞlS¹Pos
 = 
cu¼’tMou£Pos™iÚ
();

677 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
())

678 
v›w
->
addPªSüŞlIcÚ
(
m_·nSüŞlS¹Pos
);

680 ià(
Page
* 
	g·ge
 = 
m_äame
->
·ge
()) {

681 
F¿me
* 
mašF¿me
 = 
·ge
->mainFrame();

682 ià(
	gm_äame
 !ğ
mašF¿me
)

683 
mašF¿me
->
ev’tHªdËr
()->
£tPªSüŞlInProg»ss
(
Œue
);

688 
¡¬tAutosüŞlTim”
();

691 
	gEv’tHªdËr
::
autosüŞlTim”Fœed
(
Tim”
<
Ev’tHªdËr
>*)

693 
R’d”Objeù
* 
r
 = 
autosüŞlR’d””
();

694 ià(!
	gr
 || !r->
isBox
()) {

695 
¡İAutosüŞlTim”
();

699 ià(
	gm_autosüŞlInProg»ss
) {

700 ià(!
	gm_mou£P»s£d
) {

701 
¡İAutosüŞlTim”
();

704 
toR’d”Box
(
r
)->
autosüŞl
();

707 ià(
Page
* 
	g·ge
 = 
m_äame
->
·ge
()) {

708 ià(!
·ge
->
mašF¿me
()->
ev’tHªdËr
()->
·nSüŞlInProg»ss
()) {

709 
¡İAutosüŞlTim”
();

713 #ià
ENABLE
(
PAN_SCROLLING
)

714 
upd©ePªSüŞlS‹
();

715 
toR’d”Box
(
r
)->
·nSüŞl
(
m_·nSüŞlS¹Pos
);

720 #ià
ENABLE
(
PAN_SCROLLING
)

722 
	gEv’tHªdËr
::
¡¬tPªSüŞlšg
(
R’d”Objeù
* 
»nd””
)

724 
m_·nSüŞlInProg»ss
 = 
Œue
;

725 
	gm_·nSüŞlBu‰ÚP»s£d
 = 
Œue
;

726 
hªdËAutosüŞl
(
»nd””
);

727 
šv®id©eClick
();

730 
	gEv’tHªdËr
::
upd©ePªSüŞlS‹
()

732 
F¿meV›w
* 
v›w
 = 
m_äame
->view();

733 ià(!
	gv›w
)

738 
boŞ
 
	g—¡
 = 
m_·nSüŞlS¹Pos
.
x
(è< (
m_cu¼’tMou£Pos™iÚ
.x(è- 
SüŞlV›w
::
noPªSüŞlRadius
);

739 
boŞ
 
	gwe¡
 = 
m_·nSüŞlS¹Pos
.
x
(è> (
m_cu¼’tMou£Pos™iÚ
.x(è+ 
SüŞlV›w
::
noPªSüŞlRadius
);

740 
boŞ
 
	gnÜth
 = 
m_·nSüŞlS¹Pos
.
y
(è> (
m_cu¼’tMou£Pos™iÚ
.y(è+ 
SüŞlV›w
::
noPªSüŞlRadius
);

741 
boŞ
 
	gsouth
 = 
m_·nSüŞlS¹Pos
.
y
(è< (
m_cu¼’tMou£Pos™iÚ
.y(è- 
SüŞlV›w
::
noPªSüŞlRadius
);

743 ià((
	g—¡
 || 
	gwe¡
 || 
	gnÜth
 || 
	gsouth
è&& 
	gm_·nSüŞlBu‰ÚP»s£d
)

744 
	gm_¥ršgLßdedPªSüŞlInProg»ss
 = 
Œue
;

746 ià(
	gnÜth
) {

747 ià(
	g—¡
)

748 
	gv›w
->
£tCursÜ
(
nÜthEa¡PªnšgCursÜ
());

749 ià(
	gwe¡
)

750 
	gv›w
->
£tCursÜ
(
nÜthWe¡PªnšgCursÜ
());

752 
	gv›w
->
£tCursÜ
(
nÜthPªnšgCursÜ
());

753 } ià(
	gsouth
) {

754 ià(
	g—¡
)

755 
	gv›w
->
£tCursÜ
(
southEa¡PªnšgCursÜ
());

756 ià(
	gwe¡
)

757 
	gv›w
->
£tCursÜ
(
southWe¡PªnšgCursÜ
());

759 
	gv›w
->
£tCursÜ
(
southPªnšgCursÜ
());

760 } ià(
	g—¡
)

761 
	gv›w
->
£tCursÜ
(
—¡PªnšgCursÜ
());

762 ià(
	gwe¡
)

763 
	gv›w
->
£tCursÜ
(
we¡PªnšgCursÜ
());

765 
	gv›w
->
£tCursÜ
(
middËPªnšgCursÜ
());

770 
R’d”Objeù
* 
	gEv’tHªdËr
::
autosüŞlR’d””
() const

772  
m_autosüŞlR’d””
;

775 
	gEv’tHªdËr
::
upd©eAutosüŞlR’d””
()

777 ià(!
m_autosüŞlR’d””
)

780 
H™Te¡ResuÉ
 
	gh™Te¡
 = 
h™Te¡ResuÉAtPošt
(
m_·nSüŞlS¹Pos
, 
Œue
);

782 ià(
Node
* 
	gnodeAtPošt
 = 
h™Te¡
.
šÃrNode
())

783 
m_autosüŞlR’d””
 = 
nodeAtPošt
->
»nd””
();

785 
	gm_autosüŞlR’d””
 && (!m_autosüŞlR’d””->
isBox
(è|| !
toR’d”Box
(
m_autosüŞlR’d””
)->
ÿnBeSüŞËdAndHasSüŞÏbËA»a
()))

786 
	gm_autosüŞlR’d””
 = 
m_autosüŞlR’d””
->
·»Á
();

789 
	gEv’tHªdËr
::
£tAutosüŞlR’d””
(
R’d”Objeù
* 
»nd””
)

791 
m_autosüŞlR’d””
 = 
»nd””
;

794 #ià
ENABLE
(
DRAG_SUPPORT
)

795 
	gEv’tHªdËr
::
®lowDHTMLD¿g
(
boŞ
& 
æagDHTML
, boŞ& 
æagUA
) const

797 
	gæagDHTML
 = 
çl£
;

798 
	gæagUA
 = 
çl£
;

800 ià(!
	gm_äame
)

803 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

804 ià(!
	g·ge
)

807 
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
();

808 ià(!
	gv›w
)

811 
	gmask
 = 
·ge
->
d¿gCÚŒŞËr
()->
d–eg©eD¿gSourûAùiÚ
(
v›w
->
cÚ‹ÁsToWšdow
(
m_mou£DownPos
));

812 
	gæagDHTML
 = (
mask
 & 
D¿gSourûAùiÚDHTML
è!ğ
D¿gSourûAùiÚNÚe
;

813 
	gæagUA
 = ((
mask
 & 
D¿gSourûAùiÚImage
è|| (mask & 
D¿gSourûAùiÚLšk
è|| (mask & 
D¿gSourûAùiÚS–eùiÚ
));

817 
H™Te¡ResuÉ
 
	gEv’tHªdËr
::
h™Te¡ResuÉAtPošt
(cÚ¡ 
IÁPošt
& 
pošt
, 
boŞ
 
®lowShadowCÚ‹Á
, boŞ 
ignÜeClpšg
, 
H™Te¡SüŞlb¬s
 
‹¡SüŞlb¬s
)

819 
H™Te¡ResuÉ
 
»suÉ
(
pošt
);

820 ià(!
	gm_äame
->
cÚ‹ÁR’d””
())

821  
	g»suÉ
;

822 
	gh™Ty³
 = 
H™Te¡Reque¡
::
R—dOÆy
 | H™Te¡Reque¡::
Aùive
;

823 ià(
	gignÜeClpšg
)

824 
	gh™Ty³
 |ğ
H™Te¡Reque¡
::
IgnÜeClpšg
;

825 
	gm_äame
->
cÚ‹ÁR’d””
()->
Ïy”
()->
h™Te¡
(
H™Te¡Reque¡
(
h™Ty³
), 
»suÉ
);

827 
	gŒue
) {

828 
Node
* 
	gn
 = 
»suÉ
.
šÃrNode
();

829 ià(!
	g»suÉ
.
isOv”Widg‘
(è|| !
	gn
 || !n->
»nd””
(è|| !n->»nd””()->
isWidg‘
())

831 
R’d”Widg‘
* 
	g»nd”Widg‘
 = 
toR’d”Widg‘
(
n
->
»nd””
());

832 
Widg‘
* 
	gwidg‘
 = 
»nd”Widg‘
->
widg‘
();

833 ià(!
	gwidg‘
 || !widg‘->
isF¿meV›w
())

835 
F¿me
* 
	gäame
 = 
¡©ic_ÿ¡
<
HTMLF¿meEËm’tBa£
*>(
n
)->
cÚ‹ÁF¿me
();

836 ià(!
	gäame
 || !äame->
cÚ‹ÁR’d””
())

838 
F¿meV›w
* 
	gv›w
 = 
¡©ic_ÿ¡
<F¿meV›w*>(
widg‘
);

839 
IÁPošt
 
widg‘Pošt
(
»suÉ
.
loÿlPošt
().
x
(è+ 
v›w
->
süŞlX
(è- 
»nd”Widg‘
->
bÜd”Leá
(è-„’d”Widg‘->
·ddšgLeá
(),

840 
»suÉ
.
loÿlPošt
().
y
(è+ 
v›w
->
süŞlY
(è- 
»nd”Widg‘
->
bÜd”Tİ
(è-„’d”Widg‘->
·ddšgTİ
());

841 
H™Te¡ResuÉ
 
widg‘H™Te¡ResuÉ
(
widg‘Pošt
);

842 
	gäame
->
cÚ‹ÁR’d””
()->
Ïy”
()->
h™Te¡
(
H™Te¡Reque¡
(
h™Ty³
), 
widg‘H™Te¡ResuÉ
);

843 
	g»suÉ
 = 
widg‘H™Te¡ResuÉ
;

845 ià(
	g‹¡SüŞlb¬s
 =ğ
ShouldH™Te¡SüŞlb¬s
) {

846 
SüŞlb¬
* 
ev’tSüŞlb¬
 = 
v›w
->
süŞlb¬AtPošt
(
pošt
);

847 ià(
	gev’tSüŞlb¬
)

848 
	g»suÉ
.
£tSüŞlb¬
(
ev’tSüŞlb¬
);

854 
F¿me
* 
	g»suÉF¿me
 = 
»suÉ
.
šÃrNÚSh¬edNode
(è?„esuÉ.šÃrNÚSh¬edNode()->
docum’t
()->
äame
() : 0;

855 ià(
Page
* 
	g·ge
 = 
m_äame
->
·ge
()) {

856 
F¿me
* 
mašF¿me
 = 
·ge
->mainFrame();

857 ià(
	gm_äame
 !ğ
mašF¿me
 && 
»suÉF¿me
 &&„esuÉF¿m!ğmašF¿m&& !»suÉF¿me->
ed™Ü
()->
šsideVisibËA»a
(
»suÉ
.
pošt
())) {

858 
F¿meV›w
* 
»suÉV›w
 = 
»suÉF¿me
->
v›w
();

859 
F¿meV›w
* 
	gmašV›w
 = 
mašF¿me
->
v›w
();

860 ià(
	g»suÉV›w
 && 
	gmašV›w
) {

861 
IÁPošt
 
	gwšdowPošt
 = 
»suÉV›w
->
cÚ‹ÁsToWšdow
(
»suÉ
.
pošt
());

862 
IÁPošt
 
	gmašF¿mePošt
 = 
mašV›w
->
wšdowToCÚ‹Ás
(
wšdowPošt
);

863 
	g»suÉ
 = 
mašF¿me
->
ev’tHªdËr
()->
h™Te¡ResuÉAtPošt
(
mašF¿mePošt
, 
®lowShadowCÚ‹Á
, 
ignÜeClpšg
);

868 ià(!
	g®lowShadowCÚ‹Á
)

869 
	g»suÉ
.
£tToNÚShadowAnû¡Ü
();

871  
	g»suÉ
;

875 
	gEv’tHªdËr
::
¡¬tAutosüŞlTim”
()

877 
m_autosüŞlTim”
.
¡¬tR•—tšg
(
autosüŞlIÁ”v®
);

880 
	gEv’tHªdËr
::
¡İAutosüŞlTim”
(
boŞ
 
»nd””IsBešgDe¡royed
)

882 ià(
m_autosüŞlInProg»ss
) {

883 ià(
m_mou£DownWasInSubäame
) {

884 ià(
F¿me
* 
subäame
 = 
subäameFÜT¬g‘Node
(
m_mou£P»ssNode
.
g‘
()))

885 
subäame
->
ev’tHªdËr
()->
¡İAutosüŞlTim”
(
»nd””IsBešgDe¡royed
);

890 ià(
autosüŞlR’d””
()) {

891 ià(!
	g»nd””IsBešgDe¡royed
 && (
	gm_autosüŞlInProg»ss
 || 
	gm_·nSüŞlInProg»ss
))

892 
toR’d”Box
(
autosüŞlR’d””
())->
¡İAutosüŞl
();

893 #ià
ENABLE
(
PAN_SCROLLING
)

894 ià(
	gm_·nSüŞlInProg»ss
) {

895 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
()) {

896 
v›w
->
»movePªSüŞlIcÚ
();

897 
	gv›w
->
£tCursÜ
(
poš‹rCursÜ
());

902 
£tAutosüŞlR’d””
(0);

905 
	gm_autosüŞlTim”
.
¡İ
();

907 
	gm_·nSüŞlInProg»ss
 = 
çl£
;

908 
	gm_¥ršgLßdedPªSüŞlInProg»ss
 = 
çl£
;

911 ià(
Page
* 
	g·ge
 = 
m_äame
->
·ge
()) {

912 
F¿me
* 
mašF¿me
 = 
·ge
->mainFrame();

913 ià(
	gm_äame
 !ğ
mašF¿me
)

914 
mašF¿me
->
ev’tHªdËr
()->
£tPªSüŞlInProg»ss
(
çl£
);

917 
	gm_autosüŞlInProg»ss
 = 
çl£
;

920 
Node
* 
	gEv’tHªdËr
::
mou£P»ssNode
() const

922  
m_mou£P»ssNode
.
g‘
();

925 
	gEv’tHªdËr
::
£tMou£P»ssNode
(
PassRefPŒ
<
Node
> 
node
)

927 
m_mou£P»ssNode
 = 
node
;

930 
boŞ
 
	gEv’tHªdËr
::
süŞlOv”æow
(
SüŞlDœeùiÚ
 
dœeùiÚ
, 
SüŞlG¿nuÏr™y
 
g¿nuÏr™y
)

932 
Node
* 
	gnode
 = 
m_äame
->
docum’t
()->
focu£dNode
();

933 ià(!
	gnode
)

934 
	gnode
 = 
m_mou£P»ssNode
.
g‘
();

936 ià(
	gnode
) {

937 
R’d”Objeù
* 
	gr
 = 
node
->
»nd””
();

938 ià(
	gr
 && !r->
isLi¡Box
(è&&„->
’şosšgBox
()->
süŞl
(
dœeùiÚ
, 
g¿nuÏr™y
)) {

939 
£tF¿meWasSüŞËdByU£r
();

940  
	gŒue
;

944  
	gçl£
;

947 
boŞ
 
	gEv’tHªdËr
::
süŞlRecursiv–y
(
SüŞlDœeùiÚ
 
dœeùiÚ
, 
SüŞlG¿nuÏr™y
 
g¿nuÏr™y
)

949 
boŞ
 
	ghªdËd
 = 
süŞlOv”æow
(
dœeùiÚ
, 
g¿nuÏr™y
);

950 ià(!
	ghªdËd
) {

951 
F¿me
* 
	gäame
 = 
m_äame
;

953 
F¿meV›w
* 
	gv›w
 = 
äame
->
v›w
();

954 
	ghªdËd
 = 
v›w
 ? v›w->
süŞl
(
dœeùiÚ
, 
g¿nuÏr™y
è: 
çl£
;

955 
	gäame
 = 
äame
->
Œ“
()->
·»Á
();

956 } !
	ghªdËd
 && 
	gäame
);

959  
	ghªdËd
;

962 
IÁPošt
 
	gEv’tHªdËr
::
cu¼’tMou£Pos™iÚ
() const

964  
m_cu¼’tMou£Pos™iÚ
;

967 
F¿me
* 
subäameFÜH™Te¡ResuÉ
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
h™Te¡ResuÉ
)

969 ià(!
	gh™Te¡ResuÉ
.
isOv”Widg‘
())

971  
	gEv’tHªdËr
::
subäameFÜT¬g‘Node
(
h™Te¡ResuÉ
.
rg‘Node
());

974 
F¿me
* 
	gEv’tHªdËr
::
subäameFÜT¬g‘Node
(
Node
* 
node
)

976 ià(!
node
)

979 
R’d”Objeù
* 
	g»nd””
 = 
node
->
»nd””
();

980 ià(!
	g»nd””
 || !»nd””->
isWidg‘
())

983 
Widg‘
* 
	gwidg‘
 = 
toR’d”Widg‘
(
»nd””
)->
widg‘
();

984 ià(!
	gwidg‘
 || !widg‘->
isF¿meV›w
())

987  
	g¡©ic_ÿ¡
<
	gF¿meV›w
*>(
	gwidg‘
)->
äame
();

990 
boŞ
 
isSubm™Image
(
Node
* 
node
)

992  
	gnode
 &&‚ode->
hasTagName
(
šputTag
)

993 && 
	g¡©ic_ÿ¡
<
	gHTMLIÅutEËm’t
*>(
	gnode
)->
šputTy³
(è=ğ
HTMLIÅutEËm’t
::
IMAGE
;

997 
boŞ
 
nodeIsNÙBešgEd™ed
(
Node
* 
node
, 
F¿me
* 
äame
)

999  
	gäame
->
£ËùiÚ
()->
roÙEd™abËEËm’t
(è!ğ
node
->rootEditableElement();

1002 
CursÜ
 
	gEv’tHªdËr
::
£ËùCursÜ
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
ev’t
, 
SüŞlb¬
* 
süŞlb¬
)

1006 ià(
	gm_mou£P»s£d
 && 
	gm_mou£DownMayS¹S–eù
 && 
	gm_äame
->
£ËùiÚ
()->
isC¬‘OrRªge
(è&& !
	gm_ÿ±uršgMou£Ev’tsNode
)

1007  
iB—mCursÜ
();

1009 
Node
* 
	gnode
 = 
ev’t
.
rg‘Node
();

1010 
R’d”Objeù
* 
	g»nd””
 = 
node
 ?‚ode->
»nd””
() : 0;

1011 
R’d”StyË
* 
	g¡yË
 = 
»nd””
 ?„’d””->
¡yË
() : 0;

1013 ià(
	g»nd””
 &&„’d””->
isF¿meS‘
()) {

1014 
R’d”F¿meS‘
* 
	gäameS‘R’d””
 = 
toR’d”F¿meS‘
(
»nd””
);

1015 ià(
	gäameS‘R’d””
->
ÿnResizeRow
(
ev’t
.
loÿlPošt
()))

1016  
rowResizeCursÜ
();

1017 ià(
	gäameS‘R’d””
->
ÿnResizeCŞumn
(
ev’t
.
loÿlPošt
()))

1018  
cŞumnResizeCursÜ
();

1021 ià(
	g¡yË
 && styË->
cursÜs
()) {

1022 cÚ¡ 
CursÜLi¡
* 
	gcursÜs
 = 
¡yË
->
cursÜs
();

1023 
	gi
 = 0; i < 
	gcursÜs
->
size
(); ++i) {

1024 cÚ¡ 
CachedImage
* 
	gcimage
 = (*
cursÜs
)[
i
].
image
();

1025 
IÁPošt
 
	ghÙSpÙ
 = (*
cursÜs
)[
i
].
hÙSpÙ
();

1026 ià(!
	gcimage
)

1029 
IÁSize
 
	gsize
 = 
cimage
->
image
()->
size
();

1030 ià(
	gsize
.
width
(è> 128 || size.
height
() > 128)

1033 ià(
	ghÙSpÙ
.
x
(è< 0 || hÙSpÙ.
y
(è< 0 || hÙSpÙ.x(è> 
	gsize
.
width
(è|| hÙSpÙ.y(è> size.
height
())

1035 ià(
	gcimage
->
image
()->
isNuÎ
())

1037 ià(!
	gcimage
->
”rÜOccu¼ed
())

1038  
CursÜ
(
cimage
->
image
(), 
hÙSpÙ
);

1042 
	g¡yË
 ? styË->
cursÜ
(è: 
CURSOR_AUTO
) {

1043 
CURSOR_AUTO
: {

1044 
boŞ
 
ed™abË
 = (
node
 &&‚ode->
isCÚ‹ÁEd™abË
());

1045 
boŞ
 
	ged™abËLškEÇbËd
 = 
çl£
;

1048 ià(
	ged™abË
) {

1049 
ASSERT
(
m_äame
->
£‰šgs
());

1050 
	gm_äame
->
£‰šgs
()->
ed™abËLškBehaviÜ
()) {

1052 
Ed™abËLškDeçuÉBehaviÜ
:

1053 
Ed™abËLškAlwaysLive
:

1054 
ed™abËLškEÇbËd
 = 
Œue
;

1057 
	gEd™abËLškNev”Live
:

1058 
ed™abËLškEÇbËd
 = 
çl£
;

1061 
	gEd™abËLškLiveWh’NÙFocu£d
:

1062 
ed™abËLškEÇbËd
 = 
nodeIsNÙBešgEd™ed
(
node
, 
m_äame
è|| 
	gev’t
.
ev’t
().
shiáKey
();

1065 
	gEd™abËLškOÆyLiveW™hShiáKey
:

1066 
ed™abËLškEÇbËd
 = 
ev’t
.ev’t().
shiáKey
();

1071 ià((
	gev’t
.
isOv”Lšk
(è|| 
isSubm™Image
(
node
)è&& (!
	ged™abË
 || 
	ged™abËLškEÇbËd
))

1072  
hªdCursÜ
();

1073 
boŞ
 
	gšResiz”
 = 
çl£
;

1074 ià(
	g»nd””
) {

1075 ià(
R’d”Lay”
* 
	gÏy”
 = 
»nd””
->
’şosšgLay”
()) {

1076 ià(
F¿meV›w
* 
v›w
 = 
m_äame
->view())

1077 
šResiz”
 = 
Ïy”
->
isPoštInResizeCÚŒŞ
(
v›w
->
wšdowToCÚ‹Ás
(
ev’t
.ev’t().
pos
()));

1080 ià((
	ged™abË
 || (
	g»nd””
 &&„’d””->
isText
(è&& 
	gnode
->
ÿnS¹S–eùiÚ
())è&& !
	gšResiz”
 && !
	gsüŞlb¬
)

1081  
iB—mCursÜ
();

1082  
poš‹rCursÜ
();

1084 
	gCURSOR_CROSS
:

1085  
üossCursÜ
();

1086 
	gCURSOR_POINTER
:

1087  
hªdCursÜ
();

1088 
	gCURSOR_MOVE
:

1089  
moveCursÜ
();

1090 
	gCURSOR_ALL_SCROLL
:

1091  
moveCursÜ
();

1092 
	gCURSOR_E_RESIZE
:

1093  
—¡ResizeCursÜ
();

1094 
	gCURSOR_W_RESIZE
:

1095  
we¡ResizeCursÜ
();

1096 
	gCURSOR_N_RESIZE
:

1097  
nÜthResizeCursÜ
();

1098 
	gCURSOR_S_RESIZE
:

1099  
southResizeCursÜ
();

1100 
	gCURSOR_NE_RESIZE
:

1101  
nÜthEa¡ResizeCursÜ
();

1102 
	gCURSOR_SW_RESIZE
:

1103  
southWe¡ResizeCursÜ
();

1104 
	gCURSOR_NW_RESIZE
:

1105  
nÜthWe¡ResizeCursÜ
();

1106 
	gCURSOR_SE_RESIZE
:

1107  
southEa¡ResizeCursÜ
();

1108 
	gCURSOR_NS_RESIZE
:

1109  
nÜthSouthResizeCursÜ
();

1110 
	gCURSOR_EW_RESIZE
:

1111  
—¡We¡ResizeCursÜ
();

1112 
	gCURSOR_NESW_RESIZE
:

1113  
nÜthEa¡SouthWe¡ResizeCursÜ
();

1114 
	gCURSOR_NWSE_RESIZE
:

1115  
nÜthWe¡SouthEa¡ResizeCursÜ
();

1116 
	gCURSOR_COL_RESIZE
:

1117  
cŞumnResizeCursÜ
();

1118 
	gCURSOR_ROW_RESIZE
:

1119  
rowResizeCursÜ
();

1120 
	gCURSOR_TEXT
:

1121  
iB—mCursÜ
();

1122 
	gCURSOR_WAIT
:

1123  
wa™CursÜ
();

1124 
	gCURSOR_HELP
:

1125  
h–pCursÜ
();

1126 
	gCURSOR_VERTICAL_TEXT
:

1127  
v”tiÿlTextCursÜ
();

1128 
	gCURSOR_CELL
:

1129  
ûÎCursÜ
();

1130 
	gCURSOR_CONTEXT_MENU
:

1131  
cÚ‹xtM’uCursÜ
();

1132 
	gCURSOR_PROGRESS
:

1133  
´og»ssCursÜ
();

1134 
	gCURSOR_NO_DROP
:

1135  
noDrİCursÜ
();

1136 
	gCURSOR_ALIAS
:

1137  
®ŸsCursÜ
();

1138 
	gCURSOR_COPY
:

1139  
cİyCursÜ
();

1140 
	gCURSOR_NONE
:

1141  
nÚeCursÜ
();

1142 
	gCURSOR_NOT_ALLOWED
:

1143  
nÙAÎowedCursÜ
();

1144 
	gCURSOR_DEFAULT
:

1145  
poš‹rCursÜ
();

1146 
	gCURSOR_WEBKIT_ZOOM_IN
:

1147  
zoomInCursÜ
();

1148 
	gCURSOR_WEBKIT_ZOOM_OUT
:

1149  
zoomOutCursÜ
();

1150 
	gCURSOR_WEBKIT_GRAB
:

1151  
g¿bCursÜ
();

1152 
	gCURSOR_WEBKIT_GRABBING
:

1153  
g¿bbšgCursÜ
();

1155  
poš‹rCursÜ
();

1158 
IÁPošt
 
docum’tPoštFÜWšdowPošt
(
F¿me
* 
äame
, cÚ¡ IÁPošt& 
wšdowPošt
)

1160 
F¿meV›w
* 
	gv›w
 = 
äame
->
v›w
();

1163  
	gv›w
 ? v›w->
wšdowToCÚ‹Ás
(
wšdowPošt
) : windowPoint;

1166 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£P»ssEv’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
mou£Ev’t
)

1168 
RefPŒ
<
F¿meV›w
> 
´ÙeùÜ
(
m_äame
->
v›w
());

1170 
U£rGe¡u»IndiÿtÜ
 
ge¡u»IndiÿtÜ
(
Defš™–yProûssšgU£rGe¡u»
);

1172 
ÿnûlFakeMou£MoveEv’t
();

1173 
	gm_mou£P»s£d
 = 
Œue
;

1174 
	gm_ÿ±u»sD¿ggšg
 = 
Œue
;

1175 
	gm_cu¼’tMou£Pos™iÚ
 = 
mou£Ev’t
.
pos
();

1176 
	gm_mou£DownTime¡amp
 = 
mou£Ev’t
.
time¡amp
();

1177 #ià
ENABLE
(
DRAG_SUPPORT
)

1178 
	gm_mou£DownMayS¹D¿g
 = 
çl£
;

1180 
	gm_mou£DownMayS¹S–eù
 = 
çl£
;

1181 
	gm_mou£DownMayS¹AutosüŞl
 = 
çl£
;

1182 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
())

1183 
m_mou£DownPos
 = 
v›w
->
wšdowToCÚ‹Ás
(
mou£Ev’t
.
pos
());

1185 
šv®id©eClick
();

1186  
	gçl£
;

1188 
	gm_mou£DownWasInSubäame
 = 
çl£
;

1190 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
Aùive
);

1193 
IÁPošt
 
	gdocum’tPošt
 = 
docum’tPoštFÜWšdowPošt
(
m_äame
, 
mou£Ev’t
.
pos
());

1194 
Mou£Ev’tW™hH™Te¡ResuÉs
 
	gmev
 = 
m_äame
->
docum’t
()->
´•¬eMou£Ev’t
(
»que¡
, 
docum’tPošt
, 
mou£Ev’t
);

1196 ià(!
	gmev
.
rg‘Node
()) {

1197 
šv®id©eClick
();

1198  
	gçl£
;

1201 
	gm_mou£P»ssNode
 = 
mev
.
rg‘Node
();

1203 #ià
ENABLE
(
INSPECTOR
)

1204 ià(
Page
* 
	g·ge
 = 
m_äame
->
·ge
()) {

1205 
In¥eùÜCÚŒŞËr
* 
š¥eùÜ
 = 
·ge
->
š¥eùÜCÚŒŞËr
();

1206 ià(
	gš¥eùÜ
 && in¥eùÜ->
’abËd
(è&& in¥eùÜ->
£¬chšgFÜNodeInPage
()) {

1207 
	gš¥eùÜ
->
hªdËMou£P»ss
();

1208 
šv®id©eClick
();

1209  
	gŒue
;

1214 
F¿me
* 
	gsubäame
 = 
subäameFÜH™Te¡ResuÉ
(
mev
);

1215 ià(
	gsubäame
 && 
·ssMou£P»ssEv’tToSubäame
(
mev
, 
subäame
)) {

1218 
	gm_ÿ±u»sD¿ggšg
 = 
subäame
->
ev’tHªdËr
()->
ÿ±u»sD¿ggšg
();

1219 ià(
	gm_mou£P»s£d
 && 
	gm_ÿ±u»sD¿ggšg
)

1220 
	gm_ÿ±uršgMou£Ev’tsNode
 = 
mev
.
rg‘Node
();

1221 
šv®id©eClick
();

1222  
	gŒue
;

1225 #ià
ENABLE
(
PAN_SCROLLING
)

1226 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

1227 ià(
	g·ge
 &&…age->
mašF¿me
()->
ev’tHªdËr
()->
·nSüŞlInProg»ss
(è|| 
	gm_autosüŞlInProg»ss
) {

1228 
¡İAutosüŞlTim”
();

1229 
šv®id©eClick
();

1230  
	gŒue
;

1234 
	gm_şickCouÁ
 = 
mou£Ev’t
.
şickCouÁ
();

1235 
	gm_şickNode
 = 
mev
.
rg‘Node
();

1237 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
()) {

1238 
R’d”Lay”
* 
Ïy”
 = 
m_şickNode
->
»nd””
(è? m_şickNode->»nd””()->
’şosšgLay”
() : 0;

1239 
IÁPošt
 
	gp
 = 
v›w
->
wšdowToCÚ‹Ás
(
mou£Ev’t
.
pos
());

1240 ià(
	gÏy”
 &&†ay”->
isPoštInResizeCÚŒŞ
(
p
)) {

1241 
	gÏy”
->
£tInResizeMode
(
Œue
);

1242 
	gm_»sizeLay”
 = 
Ïy”
;

1243 
	gm_off£tFromResizeCÜÃr
 = 
Ïy”
->
off£tFromResizeCÜÃr
(
p
);

1244 
šv®id©eClick
();

1245  
	gŒue
;

1249 
boŞ
 
	gsw®lowEv’t
 = 
di¥©chMou£Ev’t
(
ev’tNames
().
mou£downEv’t
, 
mev
.
rg‘Node
(), 
Œue
, 
m_şickCouÁ
, 
mou£Ev’t
,rue);

1250 
	gm_ÿ±u»sD¿ggšg
 = !
sw®lowEv’t
;

1254 ià(
	gmev
.
süŞlb¬
()) {

1255 cÚ¡ 
boŞ
 
	gwasLa¡SüŞlB¬
 = 
mev
.
süŞlb¬
(è=ğ
m_Ï¡SüŞlb¬Und”Mou£
.
g‘
();

1256 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
 | H™Te¡Reque¡::
Aùive
);

1257 
	gmev
 = 
m_äame
->
docum’t
()->
´•¬eMou£Ev’t
(
»que¡
, 
docum’tPošt
, 
mou£Ev’t
);

1258 ià(
	gwasLa¡SüŞlB¬
 && 
	gmev
.
süŞlb¬
(è!ğ
m_Ï¡SüŞlb¬Und”Mou£
.
g‘
())

1259 
m_Ï¡SüŞlb¬Und”Mou£
 = 0;

1262 ià(
	gsw®lowEv’t
) {

1264 
SüŞlb¬
* 
	gsüŞlb¬
 = 
mev
.
süŞlb¬
();

1266 
upd©eLa¡SüŞlb¬Und”Mou£
(
süŞlb¬
, 
Œue
);

1268 ià(
	gsüŞlb¬
)

1269 
·ssMou£P»ssEv’tToSüŞlb¬
(
mev
, 
süŞlb¬
);

1275 ià(
	gmev
.
rg‘Node
()->
isShadowNode
(è&& mev.rg‘Node()->
shadowP¬’tNode
()->
hasTagName
(
šputTag
)) {

1276 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
 | H™Te¡Reque¡::
Aùive
);

1277 
	gmev
 = 
m_äame
->
docum’t
()->
´•¬eMou£Ev’t
(
»que¡
, 
docum’tPošt
, 
mou£Ev’t
);

1280 
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
();

1281 
SüŞlb¬
* 
	gsüŞlb¬
 = 
v›w
 ? v›w->
süŞlb¬AtPošt
(
mou£Ev’t
.
pos
()) : 0;

1282 ià(!
	gsüŞlb¬
)

1283 
	gsüŞlb¬
 = 
mev
.
süŞlb¬
();

1285 
upd©eLa¡SüŞlb¬Und”Mou£
(
süŞlb¬
, 
Œue
);

1287 ià(
	gsüŞlb¬
 && 
·ssMou£P»ssEv’tToSüŞlb¬
(
mev
, 
süŞlb¬
))

1288 
	gsw®lowEv’t
 = 
Œue
;

1290 
	gsw®lowEv’t
 = 
hªdËMou£P»ssEv’t
(
mev
);

1293  
	gsw®lowEv’t
;

1297 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£DoubËClickEv’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
mou£Ev’t
)

1299 
RefPŒ
<
F¿meV›w
> 
´ÙeùÜ
(
m_äame
->
v›w
());

1301 
U£rGe¡u»IndiÿtÜ
 
ge¡u»IndiÿtÜ
(
Defš™–yProûssšgU£rGe¡u»
);

1304 
	gm_mou£P»s£d
 = 
çl£
;

1305 
	gm_cu¼’tMou£Pos™iÚ
 = 
mou£Ev’t
.
pos
();

1307 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
Aùive
);

1308 
Mou£Ev’tW™hH™Te¡ResuÉs
 
	gmev
 = 
´•¬eMou£Ev’t
(
»que¡
, 
mou£Ev’t
);

1309 
F¿me
* 
	gsubäame
 = 
subäameFÜH™Te¡ResuÉ
(
mev
);

1310 ià(
	gsubäame
 && 
·ssMou£P»ssEv’tToSubäame
(
mev
, 
subäame
)) {

1311 
	gm_ÿ±uršgMou£Ev’tsNode
 = 0;

1312  
	gŒue
;

1315 
	gm_şickCouÁ
 = 
mou£Ev’t
.
şickCouÁ
();

1316 
boŞ
 
	gsw®lowMou£UpEv’t
 = 
di¥©chMou£Ev’t
(
ev’tNames
().
mou£upEv’t
, 
mev
.
rg‘Node
(), 
Œue
, 
m_şickCouÁ
, 
mou£Ev’t
, 
çl£
);

1318 
boŞ
 
	gsw®lowClickEv’t
 = 
çl£
;

1320 ià(
	gmou£Ev’t
.
bu‰Ú
(è!ğ
RightBu‰Ú
 && 
mev
.
rg‘Node
(è=ğ
m_şickNode
)

1321 
sw®lowClickEv’t
 = 
di¥©chMou£Ev’t
(
ev’tNames
().
şickEv’t
, 
mev
.
rg‘Node
(), 
Œue
, 
m_şickCouÁ
, 
mou£Ev’t
,rue);

1323 ià(
	gm_Ï¡SüŞlb¬Und”Mou£
)

1324 
	gsw®lowMou£UpEv’t
 = 
m_Ï¡SüŞlb¬Und”Mou£
->
mou£Up
();

1326 
boŞ
 
	gsw®lowMou£R–—£Ev’t
 = 
çl£
;

1327 ià(!
	gsw®lowMou£UpEv’t
)

1328 
	gsw®lowMou£R–—£Ev’t
 = 
hªdËMou£R–—£Ev’t
(
mev
);

1330 
šv®id©eClick
();

1332  
	gsw®lowMou£UpEv’t
 || 
	gsw®lowClickEv’t
 || 
	gsw®lowMou£R–—£Ev’t
;

1335 
boŞ
 
	gEv’tHªdËr
::
mou£Moved
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
)

1337 
H™Te¡ResuÉ
 
hov”edNode
 = H™Te¡ResuÉ(
IÁPošt
());

1338 
boŞ
 
	g»suÉ
 = 
hªdËMou£MoveEv’t
(
ev’t
, &
hov”edNode
);

1340 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

1341 ià(!
	g·ge
)

1342  
	g»suÉ
;

1344 
	ghov”edNode
.
£tToNÚShadowAnû¡Ü
();

1345 
	g·ge
->
chrome
()->
mou£DidMoveOv”EËm’t
(
hov”edNode
, 
ev’t
.
modif›rFÏgs
());

1346 
	g·ge
->
chrome
()->
£tToŞT
(
hov”edNode
);

1347  
	g»suÉ
;

1350 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£MoveEv’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
mou£Ev’t
, 
H™Te¡ResuÉ
* 
hov”edNode
)

1356 
ASSERT
(
m_äame
);

1357 ià(!
	gm_äame
)

1358  
	gçl£
;

1360 
	gRefPŒ
<
	gF¿meV›w
> 
´ÙeùÜ
(
m_äame
->
v›w
());

1361 
	gm_cu¼’tMou£Pos™iÚ
 = 
mou£Ev’t
.
pos
();

1363 ià(
	gm_hov”Tim”
.
isAùive
())

1364 
	gm_hov”Tim”
.
¡İ
();

1366 
ÿnûlFakeMou£MoveEv’t
();

1368 #ià
ENABLE
(
SVG
)

1369 ià(
	gm_svgPª
) {

1370 
	g¡©ic_ÿ¡
<
	gSVGDocum’t
*>(
	gm_äame
->
docum’t
())->
upd©ePª
(
m_cu¼’tMou£Pos™iÚ
);

1371  
	gŒue
;

1375 ià(
	gm_äameS‘BešgResized
)

1376  
di¥©chMou£Ev’t
(
ev’tNames
().
mou£moveEv’t
, 
m_äameS‘BešgResized
.
g‘
(), 
çl£
, 0, 
mou£Ev’t
, false);

1379 ià(
	gm_Ï¡SüŞlb¬Und”Mou£
 && 
	gm_mou£P»s£d
)

1380  
	gm_Ï¡SüŞlb¬Und”Mou£
->
mou£Moved
(
mou£Ev’t
);

1386 
	gh™Ty³
 = 
H™Te¡Reque¡
::
Mou£Move
;

1387 ià(
	gm_mou£P»s£d
 && 
	gm_mou£DownMayS¹S–eù
)

1388 
	gh™Ty³
 |ğ
H™Te¡Reque¡
::
R—dOÆy
;

1389 ià(
	gm_mou£P»s£d
)

1390 
	gh™Ty³
 |ğ
H™Te¡Reque¡
::
Aùive
;

1391 
H™Te¡Reque¡
 
»que¡
(
h™Ty³
);

1392 
Mou£Ev’tW™hH™Te¡ResuÉs
 
	gmev
 = 
´•¬eMou£Ev’t
(
»que¡
, 
mou£Ev’t
);

1393 ià(
	ghov”edNode
)

1394 *
	ghov”edNode
 = 
mev
.
h™Te¡ResuÉ
();

1396 
SüŞlb¬
* 
	gsüŞlb¬
 = 0;

1398 ià(
	gm_»sizeLay”
 && m_»sizeLay”->
šResizeMode
())

1399 
	gm_»sizeLay”
->
»size
(
mou£Ev’t
, 
m_off£tFromResizeCÜÃr
);

1401 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
())

1402 
süŞlb¬
 = 
v›w
->
süŞlb¬AtPošt
(
mou£Ev’t
.
pos
());

1404 ià(!
	gsüŞlb¬
)

1405 
	gsüŞlb¬
 = 
mev
.
süŞlb¬
();

1407 
upd©eLa¡SüŞlb¬Und”Mou£
(
süŞlb¬
, !
m_mou£P»s£d
);

1410 
boŞ
 
	gsw®lowEv’t
 = 
çl£
;

1411 
	gRefPŒ
<
	gF¿me
> 
	gÃwSubäame
 = 
m_ÿ±uršgMou£Ev’tsNode
.
g‘
(è? 
subäameFÜT¬g‘Node
(m_ÿ±uršgMou£Ev’tsNode.g‘()è: 
subäameFÜH™Te¡ResuÉ
(
mev
);

1414 ià(
	gm_Ï¡Mou£MoveEv’tSubäame
 && m_Ï¡Mou£MoveEv’tSubäame->
Œ“
()->
isDesûndªtOf
(
m_äame
è&& m_Ï¡Mou£MoveEv’tSubäam!ğ
ÃwSubäame
)

1415 
·ssMou£MoveEv’tToSubäame
(
mev
, 
m_Ï¡Mou£MoveEv’tSubäame
.
g‘
());

1417 ià(
	gÃwSubäame
) {

1419 
upd©eMou£Ev’tT¬g‘Node
(
mev
.
rg‘Node
(), 
mou£Ev’t
, 
Œue
);

1423 ià(
	gÃwSubäame
->
v›w
())

1424 
	gsw®lowEv’t
 |ğ
·ssMou£MoveEv’tToSubäame
(
mev
, 
ÃwSubäame
.
g‘
(), 
hov”edNode
);

1426 ià(
	gsüŞlb¬
 && !
	gm_mou£P»s£d
)

1427 
	gsüŞlb¬
->
mou£Moved
(
mou£Ev’t
);

1428 ià(
Page
* 
	g·ge
 = 
m_äame
->
·ge
()) {

1429 ià((!
m_»sizeLay”
 || !m_»sizeLay”->
šResizeMode
()è&& !
·ge
->
mašF¿me
()->
ev’tHªdËr
()->
·nSüŞlInProg»ss
()) {

1433 
boŞ
 
ov”PlugšEËm’t
 = 
çl£
;

1434 ià(
	gmev
.
rg‘Node
(è&& mev.rg‘Node()->
isHTMLEËm’t
()) {

1435 
HTMLEËm’t
* 
	g–
 = 
¡©ic_ÿ¡
<HTMLEËm’t*>(
mev
.
rg‘Node
());

1436 
	gov”PlugšEËm’t
 = 
–
->
hasTagName
(
­¶‘Tag
è||ƒl->hasTagName(
objeùTag
è||ƒl->hasTagName(
embedTag
);

1438 ià(!
	gov”PlugšEËm’t
) {

1439 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
())

1440 
v›w
->
£tCursÜ
(
£ËùCursÜ
(
mev
, 
süŞlb¬
));

1446 
	gm_Ï¡Mou£MoveEv’tSubäame
 = 
ÃwSubäame
;

1448 ià(
	gsw®lowEv’t
)

1449  
	gŒue
;

1451 
	gsw®lowEv’t
 = 
di¥©chMou£Ev’t
(
ev’tNames
().
mou£moveEv’t
, 
mev
.
rg‘Node
(), 
çl£
, 0, 
mou£Ev’t
, 
Œue
);

1452 #ià
ENABLE
(
DRAG_SUPPORT
)

1453 ià(!
	gsw®lowEv’t
)

1454 
	gsw®lowEv’t
 = 
hªdËMou£D¿ggedEv’t
(
mev
);

1457  
	gsw®lowEv’t
;

1460 
	gEv’tHªdËr
::
šv®id©eClick
()

1462 
m_şickCouÁ
 = 0;

1463 
	gm_şickNode
 = 0;

1466 
boŞ
 
	gEv’tHªdËr
::
hªdËMou£R–—£Ev’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
mou£Ev’t
)

1468 
RefPŒ
<
F¿meV›w
> 
´ÙeùÜ
(
m_äame
->
v›w
());

1470 
U£rGe¡u»IndiÿtÜ
 
ge¡u»IndiÿtÜ
(
Defš™–yProûssšgU£rGe¡u»
);

1472 #ià
ENABLE
(
PAN_SCROLLING
)

1473 ià(
	gmou£Ev’t
.
bu‰Ú
(è=ğ
MiddËBu‰Ú
)

1474 
m_·nSüŞlBu‰ÚP»s£d
 = 
çl£
;

1475 ià(
	gm_¥ršgLßdedPªSüŞlInProg»ss
)

1476 
¡İAutosüŞlTim”
();

1479 
	gm_mou£P»s£d
 = 
çl£
;

1480 
	gm_cu¼’tMou£Pos™iÚ
 = 
mou£Ev’t
.
pos
();

1482 #ià
ENABLE
(
SVG
)

1483 ià(
	gm_svgPª
) {

1484 
	gm_svgPª
 = 
çl£
;

1485 
	g¡©ic_ÿ¡
<
	gSVGDocum’t
*>(
	gm_äame
->
docum’t
())->
upd©ePª
(
m_cu¼’tMou£Pos™iÚ
);

1486  
	gŒue
;

1490 ià(
	gm_äameS‘BešgResized
)

1491  
di¥©chMou£Ev’t
(
ev’tNames
().
mou£upEv’t
, 
m_äameS‘BešgResized
.
g‘
(), 
Œue
, 
m_şickCouÁ
, 
mou£Ev’t
, 
çl£
);

1493 ià(
	gm_Ï¡SüŞlb¬Und”Mou£
) {

1494 
šv®id©eClick
();

1495  
	gm_Ï¡SüŞlb¬Und”Mou£
->
mou£Up
();

1498 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
Mou£Up
);

1499 
Mou£Ev’tW™hH™Te¡ResuÉs
 
	gmev
 = 
´•¬eMou£Ev’t
(
»que¡
, 
mou£Ev’t
);

1500 
F¿me
* 
	gsubäame
 = 
m_ÿ±uršgMou£Ev’tsNode
.
g‘
(è? 
subäameFÜT¬g‘Node
(m_ÿ±uršgMou£Ev’tsNode.g‘()è: 
subäameFÜH™Te¡ResuÉ
(
mev
);

1501 ià(
	gsubäame
 && 
·ssMou£R–—£Ev’tToSubäame
(
mev
, 
subäame
)) {

1502 
	gm_ÿ±uršgMou£Ev’tsNode
 = 0;

1503  
	gŒue
;

1506 
boŞ
 
	gsw®lowMou£UpEv’t
 = 
di¥©chMou£Ev’t
(
ev’tNames
().
mou£upEv’t
, 
mev
.
rg‘Node
(), 
Œue
, 
m_şickCouÁ
, 
mou£Ev’t
, 
çl£
);

1509 
boŞ
 
	gsw®lowClickEv’t
 = 
çl£
;

1510 ià(
	gm_şickCouÁ
 > 0 && 
	gmou£Ev’t
.
bu‰Ú
(è!ğ
RightBu‰Ú
 && 
mev
.
rg‘Node
(è=ğ
m_şickNode
)

1511 
sw®lowClickEv’t
 = 
di¥©chMou£Ev’t
(
ev’tNames
().
şickEv’t
, 
mev
.
rg‘Node
(), 
Œue
, 
m_şickCouÁ
, 
mou£Ev’t
,rue);

1513 ià(
	gm_»sizeLay”
) {

1514 
	gm_»sizeLay”
->
£tInResizeMode
(
çl£
);

1515 
	gm_»sizeLay”
 = 0;

1518 
boŞ
 
	gsw®lowMou£R–—£Ev’t
 = 
çl£
;

1519 ià(!
	gsw®lowMou£UpEv’t
)

1520 
	gsw®lowMou£R–—£Ev’t
 = 
hªdËMou£R–—£Ev’t
(
mev
);

1522 
šv®id©eClick
();

1524  
	gsw®lowMou£UpEv’t
 || 
	gsw®lowClickEv’t
 || 
	gsw®lowMou£R–—£Ev’t
;

1527 #ià
ENABLE
(
DRAG_SUPPORT
)

1528 
boŞ
 
	gEv’tHªdËr
::
di¥©chD¿gEv’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Node
* 
d¿gT¬g‘
, cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
, 
Clbßrd
* 
şbßrd
)

1530 
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
();

1533 ià(!
	gv›w
)

1534  
	gçl£
;

1536 
	gv›w
->
»£tDeã¼edR•aštD–ay
();

1537 
IÁPošt
 
	gcÚ‹ÁsPos
 = 
v›w
->
wšdowToCÚ‹Ás
(
ev’t
.
pos
());

1539 
	gRefPŒ
<
	gMou£Ev’t
> 
	gme
 = 
Mou£Ev’t
::
ü—‹
(
ev’tTy³
,

1540 
Œue
,rue, 
m_äame
->
docum’t
()->
deçuÉV›w
(),

1541 0, 
ev’t
.
glob®X
(),ƒv’t.
glob®Y
(), 
cÚ‹ÁsPos
.
x
(), cÚ‹ÁsPos.
y
(),

1542 
ev’t
.
ù¾Key
(),ƒv’t.
®tKey
(),ƒv’t.
shiáKey
(),ƒv’t.
m‘aKey
(),

1543 0, 0, 
şbßrd
);

1545 
Exû±iÚCode
 
	gec
;

1546 
	gd¿gT¬g‘
->
di¥©chEv’t
(
me
.
g‘
(), 
ec
);

1547  
	gme
->
deçuÉP»v’‹d
();

1550 
boŞ
 
	gEv’tHªdËr
::
ÿnHªdËD¿gAndDrİFÜT¬g‘
(
D¿gAndDrİHªdËTy³
 
ty³
, 
Node
* 
rg‘
, cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
, 
Clbßrd
* 
şbßrd
, boŞ* 
acû±ed
)

1552 
boŞ
 
	gÿnHªdË
 = 
çl£
;

1553 
boŞ
 
	gwasAcû±ed
 = 
çl£
;

1555 ià(
	grg‘
->
hasTagName
(
äameTag
è||¬g‘->hasTagName(
iäameTag
)) {

1556 
F¿me
* 
	gäame
 = 
¡©ic_ÿ¡
<
HTMLF¿meEËm’tBa£
*>(
rg‘
)->
cÚ‹ÁF¿me
();

1557 ià(
	gäame
) {

1558 
	gty³
) {

1559 
	gUpd©eD¿gAndDrİ
:

1560 
wasAcû±ed
 = 
äame
->
ev’tHªdËr
()->
upd©eD¿gAndDrİ
(
ev’t
, 
şbßrd
);

1562 
	gCªûlD¿gAndDrİ
:

1563 
äame
->
ev’tHªdËr
()->
ÿnûlD¿gAndDrİ
(
ev’t
, 
şbßrd
);

1565 
	gP”fÜmD¿gAndDrİ
:

1566 
wasAcû±ed
 = 
äame
->
ev’tHªdËr
()->
³rfÜmD¿gAndDrİ
(
ev’t
, 
şbßrd
);

1571 
	gÿnHªdË
 = 
Œue
;

1573 ià(
	gacû±ed
)

1574 *
	gacû±ed
 = 
wasAcû±ed
;

1576  
	gÿnHªdË
;

1579 
boŞ
 
	gEv’tHªdËr
::
upd©eD¿gAndDrİ
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
, 
Clbßrd
* 
şbßrd
)

1581 
boŞ
 
	gacû±
 = 
çl£
;

1583 ià(!
	gm_äame
->
v›w
())

1584  
	gçl£
;

1586 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
);

1587 
Mou£Ev’tW™hH™Te¡ResuÉs
 
	gmev
 = 
´•¬eMou£Ev’t
(
»que¡
, 
ev’t
);

1590 
Node
* 
	gÃwT¬g‘
 = 
mev
.
rg‘Node
();

1591 ià(
	gÃwT¬g‘
 &&‚ewT¬g‘->
isTextNode
())

1592 
	gÃwT¬g‘
 = 
ÃwT¬g‘
->
·»ÁNode
();

1593 ià(
	gÃwT¬g‘
)

1594 
	gÃwT¬g‘
 = 
ÃwT¬g‘
->
shadowAnû¡ÜNode
();

1596 ià(
	gm_d¿gT¬g‘
 !ğ
ÃwT¬g‘
) {

1602 ià(
ÃwT¬g‘
 && 
ÿnHªdËD¿gAndDrİFÜT¬g‘
(
Upd©eD¿gAndDrİ
,‚ewT¬g‘, 
ev’t
, 
şbßrd
, &
acû±
)) {

1604 ià(
d¿gS‹
().
m_d¿gSrc
 && d¿gS‹().
m_d¿gSrcMayBeDHTML
) {

1606 
di¥©chD¿gSrcEv’t
(
ev’tNames
().
d¿gEv’t
, 
ev’t
);

1608 
	gacû±
 = 
di¥©chD¿gEv’t
(
ev’tNames
().
d¿g’‹rEv’t
, 
ÃwT¬g‘
, 
ev’t
, 
şbßrd
);

1611 ià(
	gm_d¿gT¬g‘
 && 
ÿnHªdËD¿gAndDrİFÜT¬g‘
(
Upd©eD¿gAndDrİ
, 
m_d¿gT¬g‘
.
g‘
(), 
ev’t
, 
şbßrd
, &
acû±
))

1612 
di¥©chD¿gEv’t
(
ev’tNames
().
d¿gËaveEv’t
, 
m_d¿gT¬g‘
.
g‘
(), 
ev’t
, 
şbßrd
);

1614 ià(
	gÃwT¬g‘
) {

1617 
	gm_shouldOÆyFœeD¿gOv”Ev’t
 = 
Œue
;

1620 ià(
	gÃwT¬g‘
 && 
ÿnHªdËD¿gAndDrİFÜT¬g‘
(
Upd©eD¿gAndDrİ
, 
ÃwT¬g‘
, 
ev’t
, 
şbßrd
, &
acû±
)) {

1622 ià(!
	gm_shouldOÆyFœeD¿gOv”Ev’t
 && 
d¿gS‹
().
	gm_d¿gSrc
 && d¿gS‹().
	gm_d¿gSrcMayBeDHTML
) {

1624 
di¥©chD¿gSrcEv’t
(
ev’tNames
().
d¿gEv’t
, 
ev’t
);

1626 
	gacû±
 = 
di¥©chD¿gEv’t
(
ev’tNames
().
d¿gov”Ev’t
, 
ÃwT¬g‘
, 
ev’t
, 
şbßrd
);

1627 
	gm_shouldOÆyFœeD¿gOv”Ev’t
 = 
çl£
;

1630 
	gm_d¿gT¬g‘
 = 
ÃwT¬g‘
;

1632  
	gacû±
;

1635 
	gEv’tHªdËr
::
ÿnûlD¿gAndDrİ
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
, 
Clbßrd
* 
şbßrd
)

1637 ià(
	gm_d¿gT¬g‘
 && 
ÿnHªdËD¿gAndDrİFÜT¬g‘
(
CªûlD¿gAndDrİ
, 
m_d¿gT¬g‘
.
g‘
(), 
ev’t
, 
şbßrd
)) {

1638 ià(
d¿gS‹
().
	gm_d¿gSrc
 && d¿gS‹().
	gm_d¿gSrcMayBeDHTML
)

1639 
di¥©chD¿gSrcEv’t
(
ev’tNames
().
d¿gEv’t
, 
ev’t
);

1640 
di¥©chD¿gEv’t
(
ev’tNames
().
d¿gËaveEv’t
, 
m_d¿gT¬g‘
.
g‘
(), 
ev’t
, 
şbßrd
);

1642 
ş—rD¿gS‹
();

1645 
boŞ
 
	gEv’tHªdËr
::
³rfÜmD¿gAndDrİ
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
, 
Clbßrd
* 
şbßrd
)

1647 
boŞ
 
	gacû±
 = 
çl£
;

1648 ià(
	gm_d¿gT¬g‘
 && 
ÿnHªdËD¿gAndDrİFÜT¬g‘
(
P”fÜmD¿gAndDrİ
, 
m_d¿gT¬g‘
.
g‘
(), 
ev’t
, 
şbßrd
, &
acû±
))

1649 
di¥©chD¿gEv’t
(
ev’tNames
().
drİEv’t
, 
m_d¿gT¬g‘
.
g‘
(), 
ev’t
, 
şbßrd
);

1650 
ş—rD¿gS‹
();

1651  
	gacû±
;

1654 
	gEv’tHªdËr
::
ş—rD¿gS‹
()

1656 
m_d¿gT¬g‘
 = 0;

1657 
	gm_ÿ±uršgMou£Ev’tsNode
 = 0;

1658 
	gm_shouldOÆyFœeD¿gOv”Ev’t
 = 
çl£
;

1659 #ià
PLATFORM
(
MAC
è&& !
ENABLE
(
EXPERIMENTAL_SINGLE_VIEW_MODE
)

1660 
	gm_£ndšgEv’tToSubv›w
 = 
çl£
;

1665 
	gEv’tHªdËr
::
£tC­turšgMou£Ev’tsNode
(
PassRefPŒ
<
Node
> 
n
)

1667 
m_ÿ±uršgMou£Ev’tsNode
 = 
n
;

1670 
Mou£Ev’tW™hH™Te¡ResuÉs
 
	gEv’tHªdËr
::
´•¬eMou£Ev’t
(cÚ¡ 
H™Te¡Reque¡
& 
»que¡
, cÚ¡ 
PÏtfÜmMou£Ev’t
& 
mev
)

1672 
ASSERT
(
m_äame
);

1673 
ASSERT
(
m_äame
->
docum’t
());

1675  
	gm_äame
->
docum’t
()->
´•¬eMou£Ev’t
(
»que¡
, 
docum’tPoštFÜWšdowPošt
(
m_äame
, 
mev
.
pos
()), mev);

1678 #ià
ENABLE
(
SVG
)

1679 
šlše
 
SVGEËm’tIn¡ªû
* 
š¡ªûAssocŸ‹dW™hShadowT»eEËm’t
(
Node
* 
»ã»nûNode
)

1681 ià(!
	g»ã»nûNode
 || !»ã»nûNode->
isSVGEËm’t
())

1684 
Node
* 
	gshadowT»eEËm’t
 = 
»ã»nûNode
->
shadowT»eRoÙNode
();

1685 ià(!
	gshadowT»eEËm’t
)

1688 
Node
* 
	gshadowT»eP¬’tEËm’t
 = 
shadowT»eEËm’t
->
shadowP¬’tNode
();

1689 ià(!
	gshadowT»eP¬’tEËm’t
)

1692 
ASSERT
(
shadowT»eP¬’tEËm’t
->
hasTagName
(
u£Tag
));

1693  
	g¡©ic_ÿ¡
<
	gSVGU£EËm’t
*>(
	gshadowT»eP¬’tEËm’t
)->
š¡ªûFÜShadowT»eEËm’t
(
»ã»nûNode
);

1697 
	gEv’tHªdËr
::
upd©eMou£Ev’tT¬g‘Node
(
Node
* 
rg‘Node
, cÚ¡ 
PÏtfÜmMou£Ev’t
& 
mou£Ev’t
, 
boŞ
 
fœeMou£Ov”Out
)

1699 
Node
* 
	g»suÉ
 = 
rg‘Node
;

1702 ià(
	gm_ÿ±uršgMou£Ev’tsNode
)

1703 
	g»suÉ
 = 
m_ÿ±uršgMou£Ev’tsNode
.
g‘
();

1706 ià(
	g»suÉ
 &&„esuÉ->
isTextNode
())

1707 
	g»suÉ
 = 
»suÉ
->
·»ÁNode
();

1708 ià(
	g»suÉ
)

1709 
	g»suÉ
 = 
»suÉ
->
shadowAnû¡ÜNode
();

1711 
	gm_nodeUnd”Mou£
 = 
»suÉ
;

1712 #ià
ENABLE
(
SVG
)

1713 
	gm_š¡ªûUnd”Mou£
 = 
š¡ªûAssocŸ‹dW™hShadowT»eEËm’t
(
»suÉ
);

1716 ià(
	gm_Ï¡In¡ªûUnd”Mou£
) {

1717 
SVGEËm’t
* 
	gÏ¡CÜ»¥ÚdšgEËm’t
 = 
m_Ï¡In¡ªûUnd”Mou£
->
cÜ»¥ÚdšgEËm’t
();

1718 
SVGEËm’t
* 
	gÏ¡CÜ»¥ÚdšgU£EËm’t
 = 
m_Ï¡In¡ªûUnd”Mou£
->
cÜ»¥ÚdšgU£EËm’t
();

1720 ià(
	gÏ¡CÜ»¥ÚdšgEËm’t
 && 
	gÏ¡CÜ»¥ÚdšgU£EËm’t
) {

1721 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*> 
	gš¡ªûs
 = 
Ï¡CÜ»¥ÚdšgEËm’t
->
š¡ªûsFÜEËm’t
();

1724 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*>::
™”©Ü
 
’d
 = 
š¡ªûs
.end();

1725 
	gHashS‘
<
	gSVGEËm’tIn¡ªû
*>::
™”©Ü
 
™
 = 
š¡ªûs
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

1726 
SVGEËm’tIn¡ªû
* 
	gš¡ªû
 = (*
™
);

1727 
ASSERT
(
š¡ªû
->
cÜ»¥ÚdšgEËm’t
(è=ğ
Ï¡CÜ»¥ÚdšgEËm’t
);

1729 ià(
	gš¡ªû
 =ğ
m_Ï¡In¡ªûUnd”Mou£
)

1732 ià(
	gš¡ªû
->
cÜ»¥ÚdšgU£EËm’t
(è!ğ
Ï¡CÜ»¥ÚdšgU£EËm’t
)

1735 
SVGEËm’t
* 
	gshadowT»eEËm’t
 = 
š¡ªû
->
shadowT»eEËm’t
();

1736 ià(!
	gshadowT»eEËm’t
->
šDocum’t
(è|| 
	gm_Ï¡NodeUnd”Mou£
 =ğ
shadowT»eEËm’t
)

1739 
	gm_Ï¡NodeUnd”Mou£
 = 
shadowT»eEËm’t
;

1740 
	gm_Ï¡In¡ªûUnd”Mou£
 = 
š¡ªû
;

1748 ià(
	gfœeMou£Ov”Out
) {

1749 ià(
	gm_Ï¡NodeUnd”Mou£
 && m_Ï¡NodeUnd”Mou£->
docum’t
(è!ğ
m_äame
->document()) {

1750 
m_Ï¡NodeUnd”Mou£
 = 0;

1751 
	gm_Ï¡SüŞlb¬Und”Mou£
 = 0;

1752 #ià
ENABLE
(
SVG
)

1753 
	gm_Ï¡In¡ªûUnd”Mou£
 = 0;

1757 ià(
	gm_Ï¡NodeUnd”Mou£
 !ğ
m_nodeUnd”Mou£
) {

1759 ià(
m_Ï¡NodeUnd”Mou£
)

1760 
m_Ï¡NodeUnd”Mou£
->
di¥©chMou£Ev’t
(
mou£Ev’t
, 
ev’tNames
().
mou£outEv’t
, 0, 
m_nodeUnd”Mou£
.
g‘
());

1762 ià(
	gm_nodeUnd”Mou£
)

1763 
	gm_nodeUnd”Mou£
->
di¥©chMou£Ev’t
(
mou£Ev’t
, 
ev’tNames
().
mou£ov”Ev’t
, 0, 
m_Ï¡NodeUnd”Mou£
.
g‘
());

1765 
	gm_Ï¡NodeUnd”Mou£
 = 
m_nodeUnd”Mou£
;

1766 #ià
ENABLE
(
SVG
)

1767 
	gm_Ï¡In¡ªûUnd”Mou£
 = 
š¡ªûAssocŸ‹dW™hShadowT»eEËm’t
(
m_nodeUnd”Mou£
.
g‘
());

1772 
boŞ
 
	gEv’tHªdËr
::
di¥©chMou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Node
* 
rg‘Node
, boŞ , 
şickCouÁ
, cÚ¡ 
PÏtfÜmMou£Ev’t
& 
mou£Ev’t
, boŞ 
£tUnd”
)

1774 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
())

1775 
v›w
->
»£tDeã¼edR•aštD–ay
();

1777 
upd©eMou£Ev’tT¬g‘Node
(
rg‘Node
, 
mou£Ev’t
, 
£tUnd”
);

1779 
boŞ
 
	gsw®lowEv’t
 = 
çl£
;

1781 ià(
	gm_nodeUnd”Mou£
)

1782 
	gsw®lowEv’t
 = 
m_nodeUnd”Mou£
->
di¥©chMou£Ev’t
(
mou£Ev’t
, 
ev’tTy³
, 
şickCouÁ
);

1784 ià(!
	gsw®lowEv’t
 && 
	gev’tTy³
 =ğ
ev’tNames
().
mou£downEv’t
) {

1786 
m_äame
->
docum’t
()->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

1791 
Node
* 
	gnode
 = 
m_nodeUnd”Mou£
.
g‘
();

1792 
R’d”Objeù
* 
	g»nd””
 = 
node
 ?‚ode->
»nd””
() : 0;

1796 
	g»nd””
) {

1797 
	gnode
 = 
»nd””
->
node
();

1798 ià(
	gnode
 &&‚ode->
isFocu§bË
()) {

1803 
Exû±iÚCode
 
	gec
 = 0;

1804 
Node
* 
	gn
 = 
node
->
isShadowNode
(è?‚ode->
shadowP¬’tNode
() :‚ode;

1805 ià(
	gm_äame
->
£ËùiÚ
()->
isRªge
() &&

1806 
	gm_äame
->
£ËùiÚ
()->
toNÜm®izedRªge
()->
com·»Node
(
n
, 
ec
è=ğ
Rªge
::
NODE_INSIDE
 &&

1807 
n
->
isDesûndªtOf
(
m_äame
->
docum’t
()->
focu£dNode
()))

1808  
çl£
;

1813 
	g»nd””
 = 
»nd””
->
·»Á
();

1818 ià(
Page
* 
	g·ge
 = 
m_äame
->
·ge
()) {

1819 ià(
node
 &&‚ode->
isMou£Focu§bË
()) {

1820 ià(!
·ge
->
focusCÚŒŞËr
()->
£tFocu£dNode
(
node
, 
m_äame
))

1821 
sw®lowEv’t
 = 
Œue
;

1822 } ià(!
	gnode
 || !node->
focu£d
()) {

1823 ià(!
	g·ge
->
focusCÚŒŞËr
()->
£tFocu£dNode
(0, 
m_äame
))

1824 
	gsw®lowEv’t
 = 
Œue
;

1829  
	gsw®lowEv’t
;

1832 #ià!
PLATFORM
(
GTK
è&& !(PLATFORM(
CHROMIUM
è&& 
OS
(
LINUX
))

1833 
boŞ
 
	gEv’tHªdËr
::
shouldTuºV”tiÿlTicksIÁoHÜizÚl
(cÚ¡ 
H™Te¡ResuÉ
&) const

1835  
çl£
;

1839 
boŞ
 
	gEv’tHªdËr
::
hªdËWh“lEv’t
(
PÏtfÜmWh“lEv’t
& 
e
)

1841 
Docum’t
* 
doc
 = 
m_äame
->
docum’t
();

1843 
R’d”Objeù
* 
	gdocR’d””
 = 
doc
->
»nd””
();

1844 ià(!
	gdocR’d””
)

1845  
	gçl£
;

1847 
	gRefPŒ
<
	gF¿meV›w
> 
´ÙeùÜ
(
m_äame
->
v›w
());

1849 
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
();

1850 ià(!
	gv›w
)

1851  
	gçl£
;

1852 
£tF¿meWasSüŞËdByU£r
();

1853 
IÁPošt
 
	gvPošt
 = 
v›w
->
wšdowToCÚ‹Ás
(
e
.
pos
());

1855 
Node
* 
	gnode
;

1856 
boŞ
 
	gisOv”Widg‘
;

1857 
boŞ
 
	gdidS‘L©chedNode
 = 
çl£
;

1859 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
);

1860 
H™Te¡ResuÉ
 
»suÉ
(
vPošt
);

1861 
	gdoc
->
»nd”V›w
()->
Ïy”
()->
h™Te¡
(
»que¡
, 
»suÉ
);

1863 ià(
	gm_u£L©chedWh“lEv’tNode
) {

1864 ià(!
	gm_ÏtchedWh“lEv’tNode
) {

1865 
	gm_ÏtchedWh“lEv’tNode
 = 
»suÉ
.
šÃrNode
();

1866 
	gm_widg‘IsL©ched
 = 
»suÉ
.
isOv”Widg‘
();

1867 
	gdidS‘L©chedNode
 = 
Œue
;

1870 
	gnode
 = 
m_ÏtchedWh“lEv’tNode
.
g‘
();

1871 
	gisOv”Widg‘
 = 
m_widg‘IsL©ched
;

1873 ià(
	gm_ÏtchedWh“lEv’tNode
)

1874 
	gm_ÏtchedWh“lEv’tNode
 = 0;

1875 ià(
	gm_´eviousWh“lSüŞËdNode
)

1876 
	gm_´eviousWh“lSüŞËdNode
 = 0;

1878 
	gnode
 = 
»suÉ
.
šÃrNode
();

1879 
	gisOv”Widg‘
 = 
»suÉ
.
isOv”Widg‘
();

1882 ià(
shouldTuºV”tiÿlTicksIÁoHÜizÚl
(
»suÉ
))

1883 
	ge
.
tuºV”tiÿlTicksIÁoHÜizÚl
();

1885 ià(
	gnode
) {

1887 
R’d”Objeù
* 
	grg‘
 = 
node
->
»nd””
();

1889 ià(
	gisOv”Widg‘
 && 
	grg‘
 &&¬g‘->
isWidg‘
()) {

1890 
Widg‘
* 
	gwidg‘
 = 
toR’d”Widg‘
(
rg‘
)->
widg‘
();

1891 ià(
	gwidg‘
 && 
·ssWh“lEv’tToWidg‘
(
e
, 
widg‘
)) {

1892 
	ge
.
acû±
();

1893  
	gŒue
;

1897 
	gnode
 = 
node
->
shadowAnû¡ÜNode
();

1898 
	gnode
->
di¥©chWh“lEv’t
(
e
);

1899 ià(
	ge
.
isAcû±ed
())

1900  
	gŒue
;

1903 ià(
	ge
.
isAcû±ed
())

1904  
	gŒue
;

1906 
	gv›w
 = 
m_äame
->
v›w
();

1907 ià(!
	gv›w
)

1908  
	gçl£
;

1910 
	gv›w
->
wh“lEv’t
(
e
);

1911  
	ge
.
isAcû±ed
();

1914 
	gEv’tHªdËr
::
deçuÉWh“lEv’tHªdËr
(
Node
* 
¡¬tNode
, 
Wh“lEv’t
* 
wh“lEv’t
)

1916 ià(!
	g¡¬tNode
 || !
	gwh“lEv’t
)

1919 
Node
* 
	g¡İNode
 = 
m_´eviousWh“lSüŞËdNode
.
g‘
();

1923 ià(
süŞlNode
(
wh“lEv’t
->
¿wD–X
(), wh“lEv’t->
g¿nuÏr™y
(), 
SüŞlLeá
, 
SüŞlRight
, 
¡¬tNode
, &
¡İNode
))

1924 
	gwh“lEv’t
->
£tDeçuÉHªdËd
();

1926 ià(
süŞlNode
(
wh“lEv’t
->
¿wD–Y
(), wh“lEv’t->
g¿nuÏr™y
(), 
SüŞlUp
, 
SüŞlDown
, 
¡¬tNode
, &
¡İNode
))

1927 
	gwh“lEv’t
->
£tDeçuÉHªdËd
();

1929 ià(!
	gm_u£L©chedWh“lEv’tNode
)

1930 
	gm_´eviousWh“lSüŞËdNode
 = 
¡İNode
;

1933 #ià
ENABLE
(
CONTEXT_MENUS
)

1934 
boŞ
 
	gEv’tHªdËr
::
£ndCÚ‹xtM’uEv’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
)

1936 
Docum’t
* 
doc
 = 
m_äame
->
docum’t
();

1937 
F¿meV›w
* 
	gv
 = 
m_äame
->
v›w
();

1938 ià(!
	gv
)

1939  
	gçl£
;

1941 
boŞ
 
	gsw®lowEv’t
;

1942 
IÁPošt
 
	gv›wpÜtPos
 = 
v
->
wšdowToCÚ‹Ás
(
ev’t
.
pos
());

1943 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
Aùive
);

1944 
Mou£Ev’tW™hH™Te¡ResuÉs
 
	gmev
 = 
doc
->
´•¬eMou£Ev’t
(
»que¡
, 
v›wpÜtPos
, 
ev’t
);

1949 #ià!
PLATFORM
(
GTK
è&& !PLATFORM(
CHROMIUM
)

1950 ià(!
	gm_äame
->
£ËùiÚ
()->
cÚšs
(
v›wpÜtPos
) &&

1954 (
	gm_äame
->
£ËùiÚ
()->
isCÚ‹ÁEd™abË
(è|| (
	gmev
.
rg‘Node
(è&& mev.rg‘Node()->
isTextNode
()))) {

1955 
	gm_mou£DownMayS¹S–eù
 = 
Œue
;

1956 
£ËùClo£¡WÜdOrLškFromMou£Ev’t
(
mev
);

1960 
	gsw®lowEv’t
 = 
di¥©chMou£Ev’t
(
ev’tNames
().
cÚ‹xtm’uEv’t
, 
mev
.
rg‘Node
(), 
Œue
, 0, 
ev’t
,rue);

1962  
	gsw®lowEv’t
;

1966 
	gEv’tHªdËr
::
scheduËHov”S‹Upd©e
()

1968 ià(!
m_hov”Tim”
.
isAùive
())

1969 
m_hov”Tim”
.
¡¬tOÃShÙ
(0);

1972 
	gEv’tHªdËr
::
di¥©chFakeMou£MoveEv’tSoÚInQuad
(cÚ¡ 
FlßtQuad
& 
quad
)

1974 
F¿meV›w
* 
v›w
 = 
m_äame
->view();

1975 ià(!
	gv›w
)

1978 ià(
	gm_mou£P»s£d
 || !
	gquad
.
cÚšsPošt
(
v›w
->
wšdowToCÚ‹Ás
(
m_cu¼’tMou£Pos™iÚ
)))

1981 ià(!
	gm_çkeMou£MoveEv’tTim”
.
isAùive
())

1982 
	gm_çkeMou£MoveEv’tTim”
.
¡¬tOÃShÙ
(
çkeMou£MoveIÁ”v®
);

1985 
	gEv’tHªdËr
::
ÿnûlFakeMou£MoveEv’t
()

1987 
m_çkeMou£MoveEv’tTim”
.
¡İ
();

1990 
	gEv’tHªdËr
::
çkeMou£MoveEv’tTim”Fœed
(
Tim”
<
Ev’tHªdËr
>* 
tim”
)

1992 
ASSERT_UNUSED
(
tim”
,im” =ğ&
m_çkeMou£MoveEv’tTim”
);

1993 
ASSERT
(!
m_mou£P»s£d
);

1995 
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
();

1996 ià(!
	gv›w
)

1999 
boŞ
 
	gshiáKey
;

2000 
boŞ
 
	gù¾Key
;

2001 
boŞ
 
	g®tKey
;

2002 
boŞ
 
	gm‘aKey
;

2003 
	gPÏtfÜmKeybßrdEv’t
::
g‘Cu¼’tModif›rS‹
(
shiáKey
, 
ù¾Key
, 
®tKey
, 
m‘aKey
);

2004 
IÁPošt
 
	gglob®Pošt
 = 
v›w
->
cÚ‹ÁsToSü“n
(
IÁReù
(v›w->
wšdowToCÚ‹Ás
(
m_cu¼’tMou£Pos™iÚ
), 
IÁSize
())).
loÿtiÚ
();

2005 
PÏtfÜmMou£Ev’t
 
çkeMou£MoveEv’t
(
m_cu¼’tMou£Pos™iÚ
, 
glob®Pošt
, 
NoBu‰Ú
, 
Mou£Ev’tMoved
, 0, 
shiáKey
, 
ù¾Key
, 
®tKey
, 
m‘aKey
, 
cu¼’tTime
());

2006 
mou£Moved
(
çkeMou£MoveEv’t
);

2010 
boŞ
 
	gEv’tHªdËr
::
ÿnMou£DownS¹S–eù
(
Node
* 
node
)

2012 ià(!
node
 || !node->
»nd””
())

2013  
Œue
;

2016 ià(!
	gnode
->
ÿnS¹S–eùiÚ
())

2017  
	gçl£
;

2019 
R’d”Objeù
* 
	gcu¼
 = 
node
->
»nd””
(); cu¼; cu¼ = 
cu¼
->
·»Á
()) {

2020 ià(
Node
* 
node
 = 
cu¼
->node())

2021  
node
->
di¥©chEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
£Ëù¡¬tEv’t
, 
Œue
,rue));

2024  
	gŒue
;

2027 #ià
ENABLE
(
DRAG_SUPPORT
)

2028 
boŞ
 
	gEv’tHªdËr
::
ÿnMou£D¿gEx‹ndS–eù
(
Node
* 
node
)

2030 ià(!
node
 || !node->
»nd””
())

2031  
Œue
;

2033 
R’d”Objeù
* 
	gcu¼
 = 
node
->
»nd””
(); cu¼; cu¼ = 
cu¼
->
·»Á
()) {

2034 ià(
Node
* 
node
 = 
cu¼
->node())

2035  
node
->
di¥©chEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
£Ëù¡¬tEv’t
, 
Œue
,rue));

2038  
	gŒue
;

2042 
	gEv’tHªdËr
::
£tResizšgF¿meS‘
(
HTMLF¿meS‘EËm’t
* 
äameS‘
)

2044 
m_äameS‘BešgResized
 = 
äameS‘
;

2047 
	gEv’tHªdËr
::
»sizeLay”De¡royed
()

2049 
ASSERT
(
m_»sizeLay”
);

2050 
	gm_»sizeLay”
 = 0;

2053 
	gEv’tHªdËr
::
hov”Tim”Fœed
(
Tim”
<
Ev’tHªdËr
>*)

2055 
m_hov”Tim”
.
¡İ
();

2057 
ASSERT
(
m_äame
);

2058 
ASSERT
(
m_äame
->
docum’t
());

2060 ià(
R’d”V›w
* 
	g»nd””
 = 
m_äame
->
cÚ‹ÁR’d””
()) {

2061 ià(
F¿meV›w
* 
v›w
 = 
m_äame
->view()) {

2062 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
Mou£Move
);

2063 
H™Te¡ResuÉ
 
»suÉ
(
v›w
->
wšdowToCÚ‹Ás
(
m_cu¼’tMou£Pos™iÚ
));

2064 
	g»nd””
->
Ïy”
()->
h™Te¡
(
»que¡
, 
»suÉ
);

2065 
	gm_äame
->
docum’t
()->
upd©eStyËIfN“ded
();

2070 
Node
* 
ev’tT¬g‘NodeFÜDocum’t
(
Docum’t
* 
doc
)

2072 ià(!
	gdoc
)

2074 
Node
* 
	gnode
 = 
doc
->
focu£dNode
();

2075 ià(!
	gnode
 && 
	gdoc
->
isPlugšDocum’t
()) {

2076 
PlugšDocum’t
* 
	g¶ugšDocum’t
 = 
¡©ic_ÿ¡
<PlugšDocum’t*>(
doc
);

2077 
	gnode
 = 
¶ugšDocum’t
->
¶ugšNode
();

2079 ià(!
	gnode
 && 
	gdoc
->
isHTMLDocum’t
())

2080 
	gnode
 = 
doc
->
body
();

2081 ià(!
	gnode
)

2082 
	gnode
 = 
doc
->
docum’tEËm’t
();

2083  
	gnode
;

2086 
boŞ
 
	gEv’tHªdËr
::
hªdËAcûssKey
(cÚ¡ 
PÏtfÜmKeybßrdEv’t
& 
evt
)

2092 
ASSERT
(!(
acûssKeyModif›rs
(è& 
PÏtfÜmKeybßrdEv’t
::
ShiáKey
));

2093 ià((
	gevt
.
modif›rs
(è& ~
	gPÏtfÜmKeybßrdEv’t
::
ShiáKey
è!ğ
acûssKeyModif›rs
())

2094  
çl£
;

2095 
SŒšg
 
	gkey
 = 
evt
.
unmodif›dText
();

2096 
EËm’t
* 
	g–em
 = 
m_äame
->
docum’t
()->
g‘EËm’tByAcûssKey
(
key
.
low”
());

2097 ià(!
	g–em
)

2098  
	gçl£
;

2099 
	g–em
->
acûssKeyAùiÚ
(
çl£
);

2100  
	gŒue
;

2103 #ià!
PLATFORM
(
MAC
)

2104 
boŞ
 
	gEv’tHªdËr
::
ÃedsKeybßrdEv’tDi§mbigu©iÚQuœks
() const

2106  
çl£
;

2110 
boŞ
 
	gEv’tHªdËr
::
keyEv’t
(cÚ¡ 
PÏtfÜmKeybßrdEv’t
& 
š™ŸlKeyEv’t
)

2112 #ià
ENABLE
(
PAN_SCROLLING
)

2113 ià(
Page
* 
·ge
 = 
m_äame
->page()) {

2114 ià(
·ge
->
mašF¿me
()->
ev’tHªdËr
()->
·nSüŞlInProg»ss
(è|| 
m_autosüŞlInProg»ss
) {

2116 ià(
š™ŸlKeyEv’t
.
ty³
(è=ğ
PÏtfÜmKeybßrdEv’t
::
KeyDown
 || in™ŸlKeyEv’t.ty³(è=ğPÏtfÜmKeybßrdEv’t::
RawKeyDown
)

2117 
¡İAutosüŞlTim”
();

2120  
	gŒue
;

2127 
	gRefPŒ
<
	gNode
> 
	gnode
 = 
ev’tT¬g‘NodeFÜDocum’t
(
m_äame
->
docum’t
());

2128 ià(!
	gnode
)

2129  
	gçl£
;

2131 
U£rGe¡u»IndiÿtÜ
 
ge¡u»IndiÿtÜ
(
Defš™–yProûssšgU£rGe¡u»
);

2133 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
())

2134 
v›w
->
»£tDeã¼edR•aštD–ay
();

2137 
	gm_äame
->
lßd”
()->
»£tMuÉËFÜmSubmissiÚPrÙeùiÚ
();

2144 
boŞ
 
	gm©chedAnAcûssKey
 = 
çl£
;

2145 ià(
	gš™ŸlKeyEv’t
.
ty³
(è=ğ
PÏtfÜmKeybßrdEv’t
::
KeyDown
)

2146 
m©chedAnAcûssKey
 = 
hªdËAcûssKey
(
š™ŸlKeyEv’t
);

2149 ià(
	gš™ŸlKeyEv’t
.
ty³
(è=ğ
PÏtfÜmKeybßrdEv’t
::
KeyUp
 || 
š™ŸlKeyEv’t
.ty³(è=ğPÏtfÜmKeybßrdEv’t::
Ch¬
)

2150  !
node
->
di¥©chKeyEv’t
(
š™ŸlKeyEv’t
);

2152 
boŞ
 
	gbackw¬dCom·tib™yMode
 = 
ÃedsKeybßrdEv’tDi§mbigu©iÚQuœks
();

2154 
Exû±iÚCode
 
	gec
;

2155 
PÏtfÜmKeybßrdEv’t
 
	gkeyDownEv’t
 = 
š™ŸlKeyEv’t
;

2156 ià(
	gkeyDownEv’t
.
ty³
(è!ğ
PÏtfÜmKeybßrdEv’t
::
RawKeyDown
)

2157 
keyDownEv’t
.
di§mbigu©eKeyDownEv’t
(
PÏtfÜmKeybßrdEv’t
::
RawKeyDown
, 
backw¬dCom·tib™yMode
);

2158 
	gRefPŒ
<
	gKeybßrdEv’t
> 
	gkeydown
 = 
KeybßrdEv’t
::
ü—‹
(
keyDownEv’t
, 
m_äame
->
docum’t
()->
deçuÉV›w
());

2159 ià(
	gm©chedAnAcûssKey
)

2160 
	gkeydown
->
£tDeçuÉP»v’‹d
(
Œue
);

2161 
	gkeydown
->
£tT¬g‘
(
node
);

2163 ià(
	gš™ŸlKeyEv’t
.
ty³
(è=ğ
PÏtfÜmKeybßrdEv’t
::
RawKeyDown
) {

2164 
node
->
di¥©chEv’t
(
keydown
, 
ec
);

2165  
	gkeydown
->
deçuÉHªdËd
(è|| keydown->
deçuÉP»v’‹d
();

2173 
	gm_äame
->
ed™Ü
()->
hªdËIÅutM‘hodKeydown
(
keydown
.
g‘
());

2175 
boŞ
 
	ghªdËdByIÅutM‘hod
 = 
keydown
->
deçuÉHªdËd
();

2177 ià(
	ghªdËdByIÅutM‘hod
) {

2178 
	gkeyDownEv’t
.
£tWšdowsVœtu®KeyCode
(
Compos™iÚEv’tKeyCode
);

2179 
	gkeydown
 = 
KeybßrdEv’t
::
ü—‹
(
keyDownEv’t
, 
m_äame
->
docum’t
()->
deçuÉV›w
());

2180 
	gkeydown
->
£tT¬g‘
(
node
);

2181 
	gkeydown
->
£tDeçuÉHªdËd
();

2184 
	gnode
->
di¥©chEv’t
(
keydown
, 
ec
);

2185 
boŞ
 
	gkeydownResuÉ
 = 
keydown
->
deçuÉHªdËd
(è|| keydown->
deçuÉP»v’‹d
();

2186 ià(
	ghªdËdByIÅutM‘hod
 || (
	gkeydownResuÉ
 && !
	gbackw¬dCom·tib™yMode
))

2187  
	gkeydownResuÉ
;

2191 ià(!
	gkeydownResuÉ
) {

2192 
	gnode
 = 
ev’tT¬g‘NodeFÜDocum’t
(
m_äame
->
docum’t
());

2193 ià(!
	gnode
)

2194  
	gçl£
;

2197 
PÏtfÜmKeybßrdEv’t
 
	gkeyP»ssEv’t
 = 
š™ŸlKeyEv’t
;

2198 
	gkeyP»ssEv’t
.
di§mbigu©eKeyDownEv’t
(
PÏtfÜmKeybßrdEv’t
::
Ch¬
, 
backw¬dCom·tib™yMode
);

2199 ià(
	gkeyP»ssEv’t
.
‹xt
().
isEm±y
())

2200  
	gkeydownResuÉ
;

2201 
	gRefPŒ
<
	gKeybßrdEv’t
> 
	gkey´ess
 = 
KeybßrdEv’t
::
ü—‹
(
keyP»ssEv’t
, 
m_äame
->
docum’t
()->
deçuÉV›w
());

2202 
	gkey´ess
->
£tT¬g‘
(
node
);

2203 ià(
	gkeydownResuÉ
)

2204 
	gkey´ess
->
£tDeçuÉP»v’‹d
(
Œue
);

2205 #ià
PLATFORM
(
MAC
)

2206 
	gkey´ess
->
key´essCommªds
(èğ
keydown
->keypressCommands();

2208 
	gnode
->
di¥©chEv’t
(
key´ess
, 
ec
);

2210  
	gkeydownResuÉ
 || 
	gkey´ess
->
deçuÉP»v’‹d
(è|| key´ess->
deçuÉHªdËd
();

2213 
	gEv’tHªdËr
::
hªdËKeybßrdS–eùiÚMovem’t
(
KeybßrdEv’t
* 
ev’t
)

2215 ià(!
ev’t
)

2218 
SŒšg
 
	gkey
 = 
ev’t
->
keyId’tif›r
();

2219 
boŞ
 
	gisShiáed
 = 
ev’t
->
g‘Modif›rS‹
("Shift");

2220 
boŞ
 
	gisO±iÚed
 = 
ev’t
->
g‘Modif›rS‹
("Alt");

2221 
boŞ
 
	gisCommªded
 = 
ev’t
->
g‘Modif›rS‹
("Meta");

2223 ià(
	gkey
 == "Up") {

2224 
m_äame
->
£ËùiÚ
()->
modify
((
isShiáed
è? 
S–eùiÚCÚŒŞËr
::
EXTEND
 : S–eùiÚCÚŒŞËr::
MOVE
, S–eùiÚCÚŒŞËr::
BACKWARD
, (
isCommªded
è? 
Docum’tBound¬y
 : 
LšeG¿nuÏr™y
, 
Œue
);

2225 
	gev’t
->
£tDeçuÉHªdËd
();

2227 ià(
	gkey
 == "Down") {

2228 
m_äame
->
£ËùiÚ
()->
modify
((
isShiáed
è? 
S–eùiÚCÚŒŞËr
::
EXTEND
 : S–eùiÚCÚŒŞËr::
MOVE
, S–eùiÚCÚŒŞËr::
FORWARD
, (
isCommªded
è? 
Docum’tBound¬y
 : 
LšeG¿nuÏr™y
, 
Œue
);

2229 
	gev’t
->
£tDeçuÉHªdËd
();

2231 ià(
	gkey
 == "Left") {

2232 
m_äame
->
£ËùiÚ
()->
modify
((
isShiáed
è? 
S–eùiÚCÚŒŞËr
::
EXTEND
 : S–eùiÚCÚŒŞËr::
MOVE
, S–eùiÚCÚŒŞËr::
LEFT
, (
isCommªded
è? 
LšeBound¬y
 : (
isO±iÚed
è? 
WÜdG¿nuÏr™y
 : 
Ch¬aù”G¿nuÏr™y
, 
Œue
);

2233 
	gev’t
->
£tDeçuÉHªdËd
();

2235 ià(
	gkey
 == "Right") {

2236 
m_äame
->
£ËùiÚ
()->
modify
((
isShiáed
è? 
S–eùiÚCÚŒŞËr
::
EXTEND
 : S–eùiÚCÚŒŞËr::
MOVE
, S–eùiÚCÚŒŞËr::
RIGHT
, (
isCommªded
è? 
LšeBound¬y
 : (
isO±iÚed
è? 
WÜdG¿nuÏr™y
 : 
Ch¬aù”G¿nuÏr™y
, 
Œue
);

2237 
	gev’t
->
£tDeçuÉHªdËd
();

2241 
	gEv’tHªdËr
::
deçuÉKeybßrdEv’tHªdËr
(
KeybßrdEv’t
* 
ev’t
)

2243 ià(
ev’t
->
ty³
(è=ğ
ev’tNames
().
keydownEv’t
) {

2244 
m_äame
->
ed™Ü
()->
hªdËKeybßrdEv’t
(
ev’t
);

2245 ià(
	gev’t
->
deçuÉHªdËd
())

2247 ià(
	gev’t
->
keyId’tif›r
() == "U+0009")

2248 
deçuÉTabEv’tHªdËr
(
ev’t
);

2250 
FocusDœeùiÚ
 
	gdœeùiÚ
 = 
focusDœeùiÚFÜKey
(
ev’t
->
keyId’tif›r
());

2251 ià(
	gdœeùiÚ
 !ğ
FocusDœeùiÚNÚe
)

2252 
deçuÉA¼owEv’tHªdËr
(
dœeùiÚ
, 
ev’t
);

2256 ià(
	gAXObjeùCache
::
acûssib™yEnhªûdU£rIÁ”çûEÇbËd
())

2257 
hªdËKeybßrdS–eùiÚMovem’t
(
ev’t
);

2259 ià(
	gev’t
->
ty³
(è=ğ
ev’tNames
().
key´essEv’t
) {

2260 
m_äame
->
ed™Ü
()->
hªdËKeybßrdEv’t
(
ev’t
);

2261 ià(
	gev’t
->
deçuÉHªdËd
())

2263 ià(
	gev’t
->
ch¬Code
() == ' ')

2264 
deçuÉS·ûEv’tHªdËr
(
ev’t
);

2268 
FocusDœeùiÚ
 
	gEv’tHªdËr
::
focusDœeùiÚFÜKey
(cÚ¡ 
AtomicSŒšg
& 
keyId’tif›r
) const

2270 
DEFINE_STATIC_LOCAL
(
AtomicSŒšg
, 
Down
, ("Down"));

2271 
DEFINE_STATIC_LOCAL
(
AtomicSŒšg
, 
Up
, ("Up"));

2272 
DEFINE_STATIC_LOCAL
(
AtomicSŒšg
, 
Leá
, ("Left"));

2273 
DEFINE_STATIC_LOCAL
(
AtomicSŒšg
, 
Right
, ("Right"));

2275 
FocusDœeùiÚ
 
	g»tV®
 = 
FocusDœeùiÚNÚe
;

2277 ià(
	gkeyId’tif›r
 =ğ
Down
)

2278 
»tV®
 = 
FocusDœeùiÚDown
;

2279 ià(
	gkeyId’tif›r
 =ğ
Up
)

2280 
»tV®
 = 
FocusDœeùiÚUp
;

2281 ià(
	gkeyId’tif›r
 =ğ
Leá
)

2282 
»tV®
 = 
FocusDœeùiÚLeá
;

2283 ià(
	gkeyId’tif›r
 =ğ
Right
)

2284 
»tV®
 = 
FocusDœeùiÚRight
;

2286  
	g»tV®
;

2289 #ià
ENABLE
(
DRAG_SUPPORT
)

2290 
boŞ
 
	gEv’tHªdËr
::
d¿gHy¡”esisExûeded
(cÚ¡ 
FlßtPošt
& 
æßtD¿gV›wpÜtLoÿtiÚ
) const

2292 
IÁPošt
 
d¿gV›wpÜtLoÿtiÚ
(()
æßtD¿gV›wpÜtLoÿtiÚ
.
x
(), ()æßtD¿gV›wpÜtLoÿtiÚ.
y
());

2293  
d¿gHy¡”esisExûeded
(
d¿gV›wpÜtLoÿtiÚ
);

2296 
boŞ
 
	gEv’tHªdËr
::
d¿gHy¡”esisExûeded
(cÚ¡ 
IÁPošt
& 
d¿gV›wpÜtLoÿtiÚ
) const

2298 
F¿meV›w
* 
v›w
 = 
m_äame
->view();

2299 ià(!
	gv›w
)

2300  
	gçl£
;

2301 
IÁPošt
 
	gd¿gLoÿtiÚ
 = 
v›w
->
wšdowToCÚ‹Ás
(
d¿gV›wpÜtLoÿtiÚ
);

2302 
IÁSize
 
	gd–
 = 
d¿gLoÿtiÚ
 - 
m_mou£DownPos
;

2304 
	gth»shŞd
 = 
G’”®D¿gHy¡”esis
;

2305 ià(
d¿gS‹
().
	gm_d¿gSrcIsImage
)

2306 
	gth»shŞd
 = 
ImageD¿gHy¡”esis
;

2307 ià(
d¿gS‹
().
	gm_d¿gSrcIsLšk
)

2308 
	gth»shŞd
 = 
LškD¿gHy¡”esis
;

2309 ià(
d¿gS‹
().
	gm_d¿gSrcInS–eùiÚ
)

2310 
	gth»shŞd
 = 
TextD¿gHy¡”esis
;

2312  
abs
(
d–
.
width
()è>ğ
th»shŞd
 ||‡bs(d–.
height
()) >=hreshold;

2315 
	gEv’tHªdËr
::
ä“Clbßrd
()

2317 ià(
d¿gS‹
().
m_d¿gClbßrd
)

2318 
d¿gS‹
().
m_d¿gClbßrd
->
£tAcûssPŞicy
(
ClbßrdNumb
);

2321 
boŞ
 
	gEv’tHªdËr
::
shouldD¿gAutoNode
(
Node
* 
node
, cÚ¡ 
IÁPošt
& 
pošt
) const

2323 ià(!
	gnode
 || !
	gm_äame
->
v›w
())

2324  
	gçl£
;

2325 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

2326  
	g·ge
 &&…age->
d¿gCÚŒŞËr
()->
mayS¹D¿gAtEv’tLoÿtiÚ
(
m_äame
, 
pošt
, 
node
);

2329 
	gEv’tHªdËr
::
d¿gSourûEndedAt
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
, 
D¿gO³¿tiÚ
 
İ”©iÚ
)

2331 ià(
d¿gS‹
().
	gm_d¿gSrc
 && d¿gS‹().
	gm_d¿gSrcMayBeDHTML
) {

2332 
d¿gS‹
().
	gm_d¿gClbßrd
->
£tDe¡š©iÚO³¿tiÚ
(
İ”©iÚ
);

2334 
di¥©chD¿gSrcEv’t
(
ev’tNames
().
d¿g’dEv’t
, 
ev’t
);

2336 
ä“Clbßrd
();

2337 
d¿gS‹
().
	gm_d¿gSrc
 = 0;

2340 
	gm_mou£DownMayS¹D¿g
 = 
çl£
;

2344 
boŞ
 
	gEv’tHªdËr
::
di¥©chD¿gSrcEv’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
)

2346  !
di¥©chD¿gEv’t
(
ev’tTy³
, 
d¿gS‹
().
m_d¿gSrc
.
g‘
(), 
ev’t
, d¿gS‹().
m_d¿gClbßrd
.get());

2349 
boŞ
 
	gEv’tHªdËr
::
hªdËD¿g
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
& 
ev’t
)

2351 ià(
ev’t
.ev’t().
bu‰Ú
(è!ğ
LeáBu‰Ú
 ||ƒv’t.ev’t().
ev’tTy³
(è!ğ
Mou£Ev’tMoved
) {

2356 
m_mou£P»s£d
 = 
çl£
;

2357  
	gçl£
;

2360 ià(
ev’tLoİHªdËMou£D¿gged
(
ev’t
))

2361  
	gŒue
;

2365 ià(
	gm_mou£DownMayS¹D¿g
 && !
d¿gS‹
().
	gm_d¿gSrc
) {

2366 
®lowDHTMLD¿g
(
d¿gS‹
().
m_d¿gSrcMayBeDHTML
, d¿gS‹().
m_d¿gSrcMayBeUA
);

2367 ià(!
d¿gS‹
().
	gm_d¿gSrcMayBeDHTML
 && !d¿gS‹().
	gm_d¿gSrcMayBeUA
)

2368 
	gm_mou£DownMayS¹D¿g
 = 
çl£
;

2371 ià(
	gm_mou£DownMayS¹D¿g
 && !
d¿gS‹
().
	gm_d¿gSrc
) {

2373 
H™Te¡Reque¡
 
»que¡
(H™Te¡Reque¡::
R—dOÆy
);

2374 
H™Te¡ResuÉ
 
»suÉ
(
m_mou£DownPos
);

2375 
	gm_äame
->
cÚ‹ÁR’d””
()->
Ïy”
()->
h™Te¡
(
»que¡
, 
»suÉ
);

2376 
Node
* 
	gnode
 = 
»suÉ
.
šÃrNode
();

2377 ià(
	gnode
 &&‚ode->
»nd””
())

2378 
d¿gS‹
().
	gm_d¿gSrc
 = 
node
->
»nd””
()->
d¿ggabËNode
(d¿gS‹().
m_d¿gSrcMayBeDHTML
, d¿gS‹().
m_d¿gSrcMayBeUA
,

2379 
m_mou£DownPos
.
x
(), m_mou£DownPos.
y
(), 
d¿gS‹
().
m_d¿gSrcIsDHTML
);

2381 
d¿gS‹
().
	gm_d¿gSrc
 = 0;

2383 ià(!
d¿gS‹
().
	gm_d¿gSrc
)

2384 
	gm_mou£DownMayS¹D¿g
 = 
çl£
;

2387 
	gnode
 = 
»suÉ
.
URLEËm’t
();

2388 
d¿gS‹
().
	gm_d¿gSrcIsLšk
 = 
node
 &&‚ode->
isLšk
();

2390 
	gnode
 = 
»suÉ
.
šÃrNÚSh¬edNode
();

2391 
d¿gS‹
().
	gm_d¿gSrcIsImage
 = 
node
 &&‚ode->
»nd””
(è&&‚ode->»nd””()->
isImage
();

2393 
d¿gS‹
().
	gm_d¿gSrcInS–eùiÚ
 = 
m_äame
->
£ËùiÚ
()->
cÚšs
(
m_mou£DownPos
);

2399 ià(
	gm_mou£DownMayS¹D¿g
 && !
d¿gS‹
().
	gm_d¿gSrcIsImage
 && d¿gS‹().
	gm_d¿gSrcInS–eùiÚ
 && 
	gev’t
.
ev’t
().
time¡amp
(è- 
	gm_mou£DownTime¡amp
 < 
	gTextD¿gD–ay
) {

2400 
	gm_mou£DownMayS¹D¿g
 = 
çl£
;

2401 
d¿gS‹
().
	gm_d¿gSrc
 = 0;

2403 ià(
ev’tAùiv©edV›w
(
ev’t
.event()))

2404 
	gm_mou£DownMayS¹S–eù
 = 
çl£
;

2407 ià(!
	gm_mou£DownMayS¹D¿g
)

2408  !
mou£DownMayS¹S–eù
(è&& !
	gm_mou£DownMayS¹AutosüŞl
;

2411 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
()) {

2413 
v›w
->
£tCursÜ
(
poš‹rCursÜ
());

2416 ià(!
d¿gHy¡”esisExûeded
(
ev’t
.ev’t().
pos
()))

2417  
	gŒue
;

2420 
šv®id©eClick
();

2422 
D¿gO³¿tiÚ
 
	g¤cOp
 = 
D¿gO³¿tiÚNÚe
;

2424 
ä“Clbßrd
();

2426 
d¿gS‹
().
	gm_d¿gClbßrd
 = 
ü—‹D¿ggšgClbßrd
();

2428 ià(
d¿gS‹
().
	gm_d¿gSrcMayBeDHTML
) {

2431 ià(
d¿gS‹
().
	gm_d¿gSrcIsDHTML
) {

2432 ià(
R’d”Objeù
* 
	g»nd””
 = 
d¿gS‹
().
m_d¿gSrc
->
»nd””
()) {

2434 
FlßtPošt
 
absPos
 = 
»nd””
->
loÿlToAbsŞu‹
();

2435 
IÁSize
 
	gd–
 = 
m_mou£DownPos
 - 
roundedIÁPošt
(
absPos
);

2436 
d¿gS‹
().
	gm_d¿gClbßrd
->
£tD¿gImageEËm’t
(d¿gS‹().
m_d¿gSrc
.
g‘
(), 
toPošt
(
d–
));

2440 
	gm_mou£DownMayS¹D¿g
 = 
çl£
;

2441 
	gş—nupD¿g
;

2445 
	gm_mou£DownMayS¹D¿g
 = 
di¥©chD¿gSrcEv’t
(
ev’tNames
().
d¿g¡¬tEv’t
, 
m_mou£Down
)

2446 && !
	gm_äame
->
£ËùiÚ
()->
isInPasswÜdF›ld
();

2450 
d¿gS‹
().
	gm_d¿gClbßrd
->
£tAcûssPŞicy
(
ClbßrdImageWr™abË
);

2452 ià(
	gm_mou£DownMayS¹D¿g
) {

2454 
	g¤cOp
 = 
d¿gS‹
().
m_d¿gClbßrd
->
sourûO³¿tiÚ
();

2460 
d¿gS‹
().
	gm_d¿gClbßrd
->
£tD¿gHasS¹ed
();

2464 ià(
	gm_mou£DownMayS¹D¿g
) {

2465 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

2466 
D¿gCÚŒŞËr
* 
	gd¿gCÚŒŞËr
 = 
·ge
 ?…age->
d¿gCÚŒŞËr
() : 0;

2467 
boŞ
 
	g¡¬‹dD¿g
 = 
d¿gCÚŒŞËr
 && d¿gCÚŒŞËr->
¡¬tD¿g
(
m_äame
, 
d¿gS‹
().
m_d¿gClbßrd
.
g‘
(), 
¤cOp
, 
ev’t
.ev’t(), 
m_mou£DownPos
, d¿gS‹().
m_d¿gSrcIsDHTML
);

2468 ià(!
	g¡¬‹dD¿g
 && 
d¿gS‹
().
	gm_d¿gSrcMayBeDHTML
) {

2470 
di¥©chD¿gSrcEv’t
(
ev’tNames
().
d¿g’dEv’t
, 
ev’t
.event());

2471 
	gm_mou£DownMayS¹D¿g
 = 
çl£
;

2475 
	gş—nupD¿g
:

2476 ià(!
m_mou£DownMayS¹D¿g
) {

2478 
ä“Clbßrd
();

2479 
d¿gS‹
().
	gm_d¿gSrc
 = 0;

2483  
	gŒue
;

2487 
boŞ
 
	gEv’tHªdËr
::
hªdËTextIÅutEv’t
(cÚ¡ 
SŒšg
& 
‹xt
, 
Ev’t
* 
und”lyšgEv’t
, boŞ 
isLšeB»ak
, boŞ 
isBackTab
)

2491 
ASSERT
(!
und”lyšgEv’t
 || !und”lyšgEv’t->
isKeybßrdEv’t
(è|| 
¡©ic_ÿ¡
<
KeybßrdEv’t
*>(und”lyšgEv’t)->
ty³
(è=ğ
ev’tNames
().
key´essEv’t
);

2493 ià(!
	gm_äame
)

2494  
	gçl£
;

2496 
Ev’tT¬g‘
* 
	grg‘
;

2497 ià(
	gund”lyšgEv’t
)

2498 
	grg‘
 = 
und”lyšgEv’t
->
rg‘
();

2500 
	grg‘
 = 
ev’tT¬g‘NodeFÜDocum’t
(
m_äame
->
docum’t
());

2501 ià(!
	grg‘
)

2502  
	gçl£
;

2504 ià(
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
())

2505 
v›w
->
»£tDeã¼edR•aštD–ay
();

2507 
	gRefPŒ
<
	gTextEv’t
> 
	gev’t
 = 
TextEv’t
::
ü—‹
(
m_äame
->
domWšdow
(), 
‹xt
);

2508 
	gev’t
->
£tUnd”lyšgEv’t
(
und”lyšgEv’t
);

2509 
	gev’t
->
£tIsLšeB»ak
(
isLšeB»ak
);

2510 
	gev’t
->
£tIsBackTab
(
isBackTab
);

2511 
Exû±iÚCode
 
	gec
;

2512 
	grg‘
->
di¥©chEv’t
(
ev’t
, 
ec
);

2513  
	gev’t
->
deçuÉHªdËd
();

2516 #ià!
PLATFORM
(
MAC
è&& !PLATFORM(
QT
è&& !PLATFORM(
HAIKU
è&& !PLATFORM(
EFL
)

2517 
boŞ
 
	gEv’tHªdËr
::
šv”tS’£OfTabsToLšks
(
KeybßrdEv’t
*) const

2519  
çl£
;

2523 
boŞ
 
	gEv’tHªdËr
::
bsToLšks
(
KeybßrdEv’t
* 
ev’t
) const

2525 
Page
* 
·ge
 = 
m_äame
->page();

2526 ià(!
	g·ge
)

2527  
	gçl£
;

2529 ià(
	g·ge
->
chrome
()->
ş›Á
()->
bsToLšks
())

2530  !
šv”tS’£OfTabsToLšks
(
ev’t
);

2532  
šv”tS’£OfTabsToLšks
(
ev’t
);

2535 
	gEv’tHªdËr
::
deçuÉTextIÅutEv’tHªdËr
(
TextEv’t
* 
ev’t
)

2537 
SŒšg
 
d©a
 = 
ev’t
->data();

2538 ià(
	gd©a
 == "\n") {

2539 ià(
ev’t
->
isLšeB»ak
()) {

2540 ià(
m_äame
->
ed™Ü
()->
š£¹LšeB»ak
())

2541 
ev’t
->
£tDeçuÉHªdËd
();

2543 ià(
	gm_äame
->
ed™Ü
()->
š£¹P¬ag¿phS•¬©Ü
())

2544 
	gev’t
->
£tDeçuÉHªdËd
();

2547 ià(
	gm_äame
->
ed™Ü
()->
š£¹TextW™houtS’dšgTextEv’t
(
d©a
, 
çl£
, 
ev’t
))

2548 
	gev’t
->
£tDeçuÉHªdËd
();

2552 #ià
PLATFORM
(
QT
è|| PLATFORM(
MAC
)

2558 
	gEv’tHªdËr
::
deçuÉS·ûEv’tHªdËr
(
KeybßrdEv’t
*)

2564 
Ev’tHªdËr
::
deçuÉS·ûEv’tHªdËr
(
KeybßrdEv’t
* 
ev’t
)

2566 
SüŞlDœeùiÚ
 
dœeùiÚ
 = 
ev’t
->
shiáKey
(è? 
SüŞlUp
 : 
SüŞlDown
;

2567 ià(
süŞlOv”æow
(
dœeùiÚ
, 
SüŞlByPage
)) {

2568 
	gev’t
->
£tDeçuÉHªdËd
();

2572 
F¿meV›w
* 
	gv›w
 = 
m_äame
->
v›w
();

2573 ià(!
	gv›w
)

2576 ià(
	gv›w
->
süŞl
(
dœeùiÚ
, 
SüŞlByPage
))

2577 
	gev’t
->
£tDeçuÉHªdËd
();

2582 
	gEv’tHªdËr
::
deçuÉA¼owEv’tHªdËr
(
FocusDœeùiÚ
 
focusDœeùiÚ
, 
KeybßrdEv’t
* 
ev’t
)

2584 ià(
	gev’t
->
ù¾Key
(è||ƒv’t->
m‘aKey
(è||ƒv’t->
®tG¿phKey
(è||ƒv’t->
shiáKey
())

2587 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

2588 ià(!
	g·ge
)

2591 ià(!
	g·ge
->
£‰šgs
(è|| !·ge->£‰šgs()->
isS·tŸlNavig©iÚEÇbËd
())

2596 ià(
	gm_äame
->
docum’t
()->
šDesignMode
())

2599 ià(
	g·ge
->
focusCÚŒŞËr
()->
advªûFocus
(
focusDœeùiÚ
, 
ev’t
))

2600 
	gev’t
->
£tDeçuÉHªdËd
();

2603 
	gEv’tHªdËr
::
deçuÉTabEv’tHªdËr
(
KeybßrdEv’t
* 
ev’t
)

2606 ià(
ev’t
->
ù¾Key
(è||ƒv’t->
m‘aKey
(è||ƒv’t->
®tG¿phKey
())

2609 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

2610 ià(!
	g·ge
)

2612 ià(!
	g·ge
->
bKeyCyşesThroughEËm’ts
())

2615 
FocusDœeùiÚ
 
	gfocusDœeùiÚ
 = 
ev’t
->
shiáKey
(è? 
FocusDœeùiÚBackw¬d
 : 
FocusDœeùiÚFÜw¬d
;

2618 ià(
	gm_äame
->
docum’t
()->
šDesignMode
())

2621 ià(
	g·ge
->
focusCÚŒŞËr
()->
advªûFocus
(
focusDœeùiÚ
, 
ev’t
))

2622 
	gev’t
->
£tDeçuÉHªdËd
();

2625 
	gEv’tHªdËr
::
ÿpsLockS‹MayHaveChªged
()

2627 
Docum’t
* 
d
 = 
m_äame
->
docum’t
();

2628 ià(
Node
* 
	gnode
 = 
d
->
focu£dNode
()) {

2629 ià(
R’d”Objeù
* 
r
 = 
node
->
»nd””
()) {

2630 ià(
r
->
isTextF›ld
())

2631 
toR’d”TextCÚŒŞSšgËLše
(
r
)->
ÿpsLockS‹MayHaveChªged
();

2636 
	gEv’tHªdËr
::
£ndResizeEv’t
()

2638 
m_äame
->
docum’t
()->
di¥©chWšdowEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
»sizeEv’t
, 
çl£
, false));

2641 
	gEv’tHªdËr
::
£ndSüŞlEv’t
()

2643 
£tF¿meWasSüŞËdByU£r
();

2644 ià(
	gm_äame
->
v›w
())

2645 
	gm_äame
->
docum’t
()->
di¥©chEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
süŞlEv’t
, 
Œue
, 
çl£
));

2648 
	gEv’tHªdËr
::
£tF¿meWasSüŞËdByU£r
()

2650 
F¿meV›w
* 
v
 = 
m_äame
->
v›w
();

2651 ià(
	gv
)

2652 
	gv
->
£tWasSüŞËdByU£r
(
Œue
);

2655 
boŞ
 
	gEv’tHªdËr
::
·ssMou£P»ssEv’tToSüŞlb¬
(
Mou£Ev’tW™hH™Te¡ResuÉs
& 
mev
, 
SüŞlb¬
* 
süŞlb¬
)

2657 ià(!
	gsüŞlb¬
 || !süŞlb¬->
’abËd
())

2658  
	gçl£
;

2659 
£tF¿meWasSüŞËdByU£r
();

2660  
	gsüŞlb¬
->
mou£Down
(
mev
.
ev’t
());

2665 
	gEv’tHªdËr
::
upd©eLa¡SüŞlb¬Und”Mou£
(
SüŞlb¬
* 
süŞlb¬
, 
boŞ
 
£tLa¡
)

2667 ià(
	gm_Ï¡SüŞlb¬Und”Mou£
 !ğ
süŞlb¬
) {

2669 ià(
m_Ï¡SüŞlb¬Und”Mou£
)

2670 
m_Ï¡SüŞlb¬Und”Mou£
->
mou£Ex™ed
();

2671 
	gm_Ï¡SüŞlb¬Und”Mou£
 = 
£tLa¡
 ? 
süŞlb¬
 : 0;

2675 #ià
ENABLE
(
TOUCH_EVENTS
)

2677 
	gPassRefPŒ
<
	gTouchLi¡
> 
as£mbËT¬g‘Touches
(
Touch
* 
touchT¬g‘
, 
TouchLi¡
* 
touches
)

2679 
	gRefPŒ
<
	gTouchLi¡
> 
	grg‘Touches
 = 
TouchLi¡
::
ü—‹
();

2681 
	gi
 = 0; i < 
	gtouches
->
Ëngth
(); ++i) {

2682 ià(
	gtouches
->
™em
(
i
)->
rg‘
()->
toNode
()->
isSameNode
(
touchT¬g‘
->target()->toNode()))

2683 
	grg‘Touches
->
­³nd
(
touches
->
™em
(
i
));

2686  
	grg‘Touches
.
»Ëa£
();

2689 
boŞ
 
	gEv’tHªdËr
::
hªdËTouchEv’t
(cÚ¡ 
PÏtfÜmTouchEv’t
& 
ev’t
)

2691 
RefPŒ
<
TouchLi¡
> 
touches
 = TouchLi¡::
ü—‹
();

2692 
	gRefPŒ
<
	gTouchLi¡
> 
	g´es£dTouches
 = 
TouchLi¡
::
ü—‹
();

2693 
	gRefPŒ
<
	gTouchLi¡
> 
	g»Ëa£dTouches
 = 
TouchLi¡
::
ü—‹
();

2694 
	gRefPŒ
<
	gTouchLi¡
> 
	gmovedTouches
 = 
TouchLi¡
::
ü—‹
();

2695 
	gRefPŒ
<
	gTouchLi¡
> 
	gÿnûlTouches
 = 
TouchLi¡
::
ü—‹
();

2697 cÚ¡ 
	gVeùÜ
<
	gPÏtfÜmTouchPošt
>& 
	gpošts
 = 
ev’t
.
touchPošts
();

2698 
AtomicSŒšg
* 
	gev’tName
 = 0;

2700 
U£rGe¡u»IndiÿtÜ
 
ge¡u»IndiÿtÜ
(
Defš™–yProûssšgU£rGe¡u»
);

2702 
	gi
 = 0; i < 
	gpošts
.
size
(); ++i) {

2703 cÚ¡ 
	gPÏtfÜmTouchPošt
& 
	gpošt
 = 
pošts
[
i
];

2704 
IÁPošt
 
	g·gePošt
 = 
docum’tPoštFÜWšdowPošt
(
m_äame
, 
pošt
.
pos
());

2705 
H™Te¡ResuÉ
 
	g»suÉ
 = 
h™Te¡ResuÉAtPošt
(
·gePošt
, 
çl£
);

2706 
Node
* 
	grg‘
 = 
»suÉ
.
šÃrNode
();

2709 ià(
	grg‘
 &&¬g‘->
isTextNode
())

2710 
	grg‘
 = 
rg‘
->
·»ÁNode
();

2712 
Docum’t
* 
	gdoc
 = 
rg‘
->
docum’t
();

2713 ià(!
	gdoc
)

2715 ià(!
	gdoc
->
hasLi¡’”Ty³
(
Docum’t
::
TOUCH_LISTENER
))

2718 ià(
	gm_äame
 !ğ
doc
->
äame
()) {

2720 
·gePošt
 = 
docum’tPoštFÜWšdowPošt
(
doc
->
äame
(), 
pošt
.
pos
());

2723 
	gadju¡edPageX
 = 
Ìoundf
(
·gePošt
.
x
(è/ 
m_äame
->
·geZoomFaùÜ
());

2724 
	gadju¡edPageY
 = 
Ìoundf
(
·gePošt
.
y
(è/ 
m_äame
->
·geZoomFaùÜ
());

2727 
	gtouchPoštT¬g‘Key
 = 
pošt
.
id
() + 1;

2728 
Ev’tT¬g‘
* 
	gtouchT¬g‘
 = 0;

2729 ià(
	gpošt
.
¡©e
(è=ğ
PÏtfÜmTouchPošt
::
TouchP»s£d
) {

2730 
m_Üigš©šgTouchPoštT¬g‘s
.
£t
(
touchPoštT¬g‘Key
, 
rg‘
);

2731 
	gtouchT¬g‘
 = 
rg‘
;

2732 } ià(
	gpošt
.
¡©e
(è=ğ
PÏtfÜmTouchPošt
::
TouchR–—£d
 || 
pošt
.¡©e(è=ğPÏtfÜmTouchPošt::
TouchCªûÎed
) {

2735 
touchT¬g‘
 = 
m_Üigš©šgTouchPoštT¬g‘s
.
ke
(
touchPoštT¬g‘Key
).
g‘
();

2737 
	gtouchT¬g‘
 = 
m_Üigš©šgTouchPoštT¬g‘s
.
g‘
(
touchPoštT¬g‘Key
).get();

2739 ià(!
	gtouchT¬g‘
)

2742 
	gRefPŒ
<
	gTouch
> 
	gtouch
 = 
Touch
::
ü—‹
(
doc
->
äame
(), 
touchT¬g‘
, 
pošt
.
id
(),

2743 
pošt
.
sü“nPos
().
x
(),…ošt.sü“nPos().
y
(),

2744 
adju¡edPageX
, 
adju¡edPageY
);

2747 ià(
	gpošt
.
¡©e
(è!ğ
PÏtfÜmTouchPošt
::
TouchR–—£d
)

2748 
touches
->
­³nd
(
touch
);

2751 ià(
	gpošt
.
¡©e
(è=ğ
PÏtfÜmTouchPošt
::
TouchR–—£d
)

2752 
»Ëa£dTouches
->
­³nd
(
touch
);

2753 ià(
	gpošt
.
¡©e
(è=ğ
PÏtfÜmTouchPošt
::
TouchCªûÎed
)

2754 
ÿnûlTouches
->
­³nd
(
touch
);

2755 ià(
	gpošt
.
¡©e
(è=ğ
PÏtfÜmTouchPošt
::
TouchP»s£d
)

2756 
´es£dTouches
->
­³nd
(
touch
);

2757 ià(
	gpošt
.
¡©e
(è=ğ
PÏtfÜmTouchPošt
::
TouchMoved
)

2758 
movedTouches
->
­³nd
(
touch
);

2761 
boŞ
 
	gdeçuÉP»v’‹d
 = 
çl£
;

2762 
Touch
* 
	gchªgedTouch
 = 0;

2763 
Ev’tT¬g‘
* 
	gtouchEv’tT¬g‘
 = 0;

2765 ià(
	gÿnûlTouches
->
Ëngth
() > 0) {

2771 
	gchªgedTouch
 = 
ÿnûlTouches
->
™em
(0);

2772 
ASSERT
(
chªgedTouch
);

2773 
	gtouchEv’tT¬g‘
 = 
chªgedTouch
->
rg‘
();

2774 
ASSERT
(
touchEv’tT¬g‘
);

2776 
	gev’tName
 = &
ev’tNames
().
touchÿnûlEv’t
;

2777 
	gRefPŒ
<
	gTouchEv’t
> 
	gÿnûlEv
 =

2778 
TouchEv’t
::
ü—‹
(
TouchLi¡
::ü—‹().
g‘
(), TouchLi¡::ü—‹().g‘(), 
ÿnûlTouches
.get(),

2779 *
ev’tName
, 
touchEv’tT¬g‘
->
toNode
()->
docum’t
()->
deçuÉV›w
(),

2780 0, 0, 0, 0, 
ev’t
.
ù¾Key
(),ƒv’t.
®tKey
(),ƒv’t.
shiáKey
(),

2781 
ev’t
.
m‘aKey
());

2782 
Exû±iÚCode
 
	gec
 = 0;

2783 
	gtouchEv’tT¬g‘
->
di¥©chEv’t
(
ÿnûlEv
.
g‘
(), 
ec
);

2784 
	gdeçuÉP»v’‹d
 |ğ
ÿnûlEv
->
deçuÉP»v’‹d
();

2787 ià(
	g»Ëa£dTouches
->
Ëngth
() > 0) {

2788 
Touch
* 
	gchªgedTouch
 = 
»Ëa£dTouches
->
™em
(0);

2789 
ASSERT
(
chªgedTouch
);

2790 
	gtouchEv’tT¬g‘
 = 
chªgedTouch
->
rg‘
();

2791 
ASSERT
(
touchEv’tT¬g‘
);

2793 
	gRefPŒ
<
	gTouchLi¡
> 
	grg‘Touches
 = 
as£mbËT¬g‘Touches
(
chªgedTouch
, 
touches
.
g‘
());

2795 
	gev’tName
 = &
ev’tNames
().
touch’dEv’t
;

2796 
	gRefPŒ
<
	gTouchEv’t
> 
	g’dEv
 =

2797 
TouchEv’t
::
ü—‹
(
touches
.
g‘
(), 
rg‘Touches
.g‘(), 
»Ëa£dTouches
.get(),

2798 *
ev’tName
, 
touchEv’tT¬g‘
->
toNode
()->
docum’t
()->
deçuÉV›w
(),

2799 0, 0, 0, 0, 
ev’t
.
ù¾Key
(),ƒv’t.
®tKey
(),ƒv’t.
shiáKey
(),

2800 
ev’t
.
m‘aKey
());

2801 
Exû±iÚCode
 
	gec
 = 0;

2802 
	gtouchEv’tT¬g‘
->
di¥©chEv’t
(
’dEv
.
g‘
(), 
ec
);

2803 
	gdeçuÉP»v’‹d
 |ğ
’dEv
->
deçuÉP»v’‹d
();

2805 ià(
	g´es£dTouches
->
Ëngth
() > 0) {

2806 
Touch
* 
	gchªgedTouch
 = 
´es£dTouches
->
™em
(0);

2807 
ASSERT
(
chªgedTouch
);

2808 
	gtouchEv’tT¬g‘
 = 
chªgedTouch
->
rg‘
();

2809 
ASSERT
(
touchEv’tT¬g‘
);

2811 
	gRefPŒ
<
	gTouchLi¡
> 
	grg‘Touches
 = 
as£mbËT¬g‘Touches
(
chªgedTouch
, 
touches
.
g‘
());

2813 
	gev’tName
 = &
ev’tNames
().
touch¡¬tEv’t
;

2814 
	gRefPŒ
<
	gTouchEv’t
> 
	g¡¬tEv
 =

2815 
TouchEv’t
::
ü—‹
(
touches
.
g‘
(), 
rg‘Touches
.g‘(), 
´es£dTouches
.get(),

2816 *
ev’tName
, 
touchEv’tT¬g‘
->
toNode
()->
docum’t
()->
deçuÉV›w
(),

2817 0, 0, 0, 0, 
ev’t
.
ù¾Key
(),ƒv’t.
®tKey
(),ƒv’t.
shiáKey
(),

2818 
ev’t
.
m‘aKey
());

2819 
Exû±iÚCode
 
	gec
 = 0;

2820 
	gtouchEv’tT¬g‘
->
di¥©chEv’t
(
¡¬tEv
.
g‘
(), 
ec
);

2821 
	gdeçuÉP»v’‹d
 |ğ
¡¬tEv
->
deçuÉP»v’‹d
();

2824 ià(
	gmovedTouches
->
Ëngth
() > 0) {

2825 
Touch
* 
	gchªgedTouch
 = 
movedTouches
->
™em
(0);

2826 
ASSERT
(
chªgedTouch
);

2827 
	gtouchEv’tT¬g‘
 = 
chªgedTouch
->
rg‘
();

2828 
ASSERT
(
touchEv’tT¬g‘
);

2830 
	gRefPŒ
<
	gTouchLi¡
> 
	grg‘Touches
 = 
as£mbËT¬g‘Touches
(
chªgedTouch
, 
touches
.
g‘
());

2832 
	gev’tName
 = &
ev’tNames
().
touchmoveEv’t
;

2833 
	gRefPŒ
<
	gTouchEv’t
> 
	gmoveEv
 =

2834 
TouchEv’t
::
ü—‹
(
touches
.
g‘
(), 
rg‘Touches
.g‘(), 
movedTouches
.get(),

2835 *
ev’tName
, 
touchEv’tT¬g‘
->
toNode
()->
docum’t
()->
deçuÉV›w
(),

2836 0, 0, 0, 0, 
ev’t
.
ù¾Key
(),ƒv’t.
®tKey
(),ƒv’t.
shiáKey
(),

2837 
ev’t
.
m‘aKey
());

2838 
Exû±iÚCode
 
	gec
 = 0;

2839 
	gtouchEv’tT¬g‘
->
di¥©chEv’t
(
moveEv
.
g‘
(), 
ec
);

2840 
	gdeçuÉP»v’‹d
 |ğ
moveEv
->
deçuÉP»v’‹d
();

2843  
	gdeçuÉP»v’‹d
;

	@EventHandler.h

26 #iâdeà
Ev’tHªdËr_h


27 
	#Ev’tHªdËr_h


	)

29 
	~"D¿gAùiÚs.h
"

30 
	~"FocusDœeùiÚ.h
"

31 
	~"PÏtfÜmMou£Ev’t.h
"

32 
	~"SüŞlTy³s.h
"

33 
	~"Tim”.h
"

34 
	~<wtf/FÜw¬d.h
>

35 
	~<wtf/RefPŒ.h
>

37 #ià
PLATFORM
(
MAC
è&& !
defšed
(
__OBJC__
)

38 
şass
 
	gNSV›w
;

41 #ià
ENABLE
(
TOUCH_EVENTS
)

42 
	~<wtf/HashM­.h
>

45 
Çme¥aû
 
	gWebCÜe
 {

47 
şass
 
	gAtomicSŒšg
;

48 
şass
 
	gClbßrd
;

49 
şass
 
	gCursÜ
;

50 
şass
 
	gEv’t
;

51 
şass
 
	gEv’tT¬g‘
;

52 
şass
 
	gFlßtPošt
;

53 
şass
 
	gFlßtQuad
;

54 
şass
 
	gF¿me
;

55 
şass
 
	gH™Te¡Reque¡
;

56 
şass
 
	gH™Te¡ResuÉ
;

57 
şass
 
	gHTMLF¿meS‘EËm’t
;

58 
şass
 
	gKeybßrdEv’t
;

59 
şass
 
	gMou£Ev’tW™hH™Te¡ResuÉs
;

60 
şass
 
	gNode
;

61 
şass
 
	gPÏtfÜmKeybßrdEv’t
;

62 
şass
 
	gPÏtfÜmTouchEv’t
;

63 
şass
 
	gPÏtfÜmWh“lEv’t
;

64 
şass
 
	gR’d”Lay”
;

65 
şass
 
	gR’d”Objeù
;

66 
şass
 
	gR’d”Widg‘
;

67 
şass
 
	gSüŞlb¬
;

68 
şass
 
	gSŒšg
;

69 
şass
 
	gSVGEËm’tIn¡ªû
;

70 
şass
 
	gTextEv’t
;

71 
şass
 
	gTouchEv’t
;

72 
şass
 
	gWh“lEv’t
;

73 
şass
 
	gWidg‘
;

75 #ià
ENABLE
(
DRAG_SUPPORT
)

76 cÚ¡ 
LškD¿gHy¡”esis
;

77 cÚ¡ 
ImageD¿gHy¡”esis
;

78 cÚ¡ 
TextD¿gHy¡”esis
;

79 cÚ¡ 
G’”®D¿gHy¡”esis
;

82 
	eH™Te¡SüŞlb¬s
 { 
	gShouldH™Te¡SüŞlb¬s
, 
	gDÚtH™Te¡SüŞlb¬s
 };

84 şas 
	cEv’tHªdËr
 : 
public
 
NÚcİyabË
 {

85 
public
:

86 
Ev’tHªdËr
(
F¿me
*);

87 ~
Ev’tHªdËr
();

89 
ş—r
();

91 #ià
ENABLE
(
DRAG_SUPPORT
)

92 
upd©eS–eùiÚFÜMou£D¿g
();

95 
Node
* 
mou£P»ssNode
() const;

96 
£tMou£P»ssNode
(
PassRefPŒ
<
Node
>);

98 
¡¬tPªSüŞlšg
(
R’d”Objeù
*);

99 
boŞ
 
·nSüŞlInProg»ss
(è{  
	gm_·nSüŞlInProg»ss
; }

100 
£tPªSüŞlInProg»ss
(
boŞ
 
šProg»ss
è{ 
	gm_·nSüŞlInProg»ss
 = inProgress; }

102 
¡İAutosüŞlTim”
(
boŞ
 
»nd””IsBešgDe¡royed
 = 
çl£
);

103 
R’d”Objeù
* 
autosüŞlR’d””
() const;

104 
upd©eAutosüŞlR’d””
();

106 
di¥©chFakeMou£MoveEv’tSoÚInQuad
(cÚ¡ 
FlßtQuad
&);

108 
H™Te¡ResuÉ
 
h™Te¡ResuÉAtPošt
(cÚ¡ 
IÁPošt
&, 
boŞ
 
®lowShadowCÚ‹Á
, boŞ 
ignÜeClpšg
 = 
çl£
, 
H™Te¡SüŞlb¬s
 
süŞlb¬s
 = 
DÚtH™Te¡SüŞlb¬s
);

110 
boŞ
 
mou£P»s£d
(ècÚ¡ {  
	gm_mou£P»s£d
; }

111 
£tMou£P»s£d
(
boŞ
 
´es£d
è{ 
	gm_mou£P»s£d
 =…ressed; }

113 
£tC­turšgMou£Ev’tsNode
(
PassRefPŒ
<
Node
>);

115 #ià
ENABLE
(
DRAG_SUPPORT
)

116 
boŞ
 
upd©eD¿gAndDrİ
(cÚ¡ 
PÏtfÜmMou£Ev’t
&, 
Clbßrd
*);

117 
ÿnûlD¿gAndDrİ
(cÚ¡ 
PÏtfÜmMou£Ev’t
&, 
Clbßrd
*);

118 
boŞ
 
³rfÜmD¿gAndDrİ
(cÚ¡ 
PÏtfÜmMou£Ev’t
&, 
Clbßrd
*);

121 
scheduËHov”S‹Upd©e
();

123 
£tResizšgF¿meS‘
(
HTMLF¿meS‘EËm’t
*);

125 
»sizeLay”De¡royed
();

127 
IÁPošt
 
cu¼’tMou£Pos™iÚ
() const;

129 
£tIgnÜeWh“lEv’ts
(
boŞ
);

131 
F¿me
* 
subäameFÜT¬g‘Node
(
Node
*);

133 
boŞ
 
süŞlOv”æow
(
SüŞlDœeùiÚ
, 
SüŞlG¿nuÏr™y
);

135 
boŞ
 
süŞlRecursiv–y
(
SüŞlDœeùiÚ
, 
SüŞlG¿nuÏr™y
);

137 #ià
ENABLE
(
DRAG_SUPPORT
)

138 
boŞ
 
shouldD¿gAutoNode
(
Node
*, cÚ¡ 
IÁPošt
&) const;

141 
boŞ
 
shouldTuºV”tiÿlTicksIÁoHÜizÚl
(cÚ¡ 
H™Te¡ResuÉ
&) const;

143 
boŞ
 
bsToLšks
(
KeybßrdEv’t
*) const;

144 
boŞ
 
bsToAÎCÚŒŞs
(
KeybßrdEv’t
*) const;

146 
boŞ
 
mou£DownMayS¹S–eù
(ècÚ¡ {  
	gm_mou£DownMayS¹S–eù
; }

148 
boŞ
 
mou£Moved
(cÚ¡ 
PÏtfÜmMou£Ev’t
&);

150 
boŞ
 
hªdËMou£P»ssEv’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
&);

151 
boŞ
 
hªdËMou£MoveEv’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
&, 
H™Te¡ResuÉ
* 
hov”edNode
 = 0);

152 
boŞ
 
hªdËMou£R–—£Ev’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
&);

153 
boŞ
 
hªdËWh“lEv’t
(
PÏtfÜmWh“lEv’t
&);

154 
deçuÉWh“lEv’tHªdËr
(
Node
*, 
Wh“lEv’t
*);

156 #ià
ENABLE
(
CONTEXT_MENUS
)

157 
boŞ
 
£ndCÚ‹xtM’uEv’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
&);

160 
£tMou£DownMayS¹AutosüŞl
(è{ 
	gm_mou£DownMayS¹AutosüŞl
 = 
Œue
; }

162 
boŞ
 
ÃedsKeybßrdEv’tDi§mbigu©iÚQuœks
() const;

164 
acûssKeyModif›rs
();

165 
boŞ
 
hªdËAcûssKey
(cÚ¡ 
PÏtfÜmKeybßrdEv’t
&);

166 
boŞ
 
keyEv’t
(cÚ¡ 
PÏtfÜmKeybßrdEv’t
&);

167 
deçuÉKeybßrdEv’tHªdËr
(
KeybßrdEv’t
*);

169 
boŞ
 
hªdËTextIÅutEv’t
(cÚ¡ 
SŒšg
& 
‹xt
, 
Ev’t
* 
und”lyšgEv’t
 = 0,

170 
boŞ
 
isLšeB»ak
 = 
çl£
, boŞ 
isBackTab
 = false);

171 
deçuÉTextIÅutEv’tHªdËr
(
TextEv’t
*);

173 #ià
ENABLE
(
DRAG_SUPPORT
)

174 
boŞ
 
ev’tMayS¹D¿g
(cÚ¡ 
PÏtfÜmMou£Ev’t
&) const;

176 
d¿gSourûEndedAt
(cÚ¡ 
PÏtfÜmMou£Ev’t
&, 
D¿gO³¿tiÚ
);

179 
focusDocum’tV›w
();

181 
ÿpsLockS‹MayHaveChªged
();

183 
£ndResizeEv’t
();

184 
£ndSüŞlEv’t
();

186 #ià
PLATFORM
(
MAC
è&& 
defšed
(
__OBJC__
)

187 
	gPassRefPŒ
<
	gKeybßrdEv’t
> 
cu¼’tKeybßrdEv’t
() const;

189 
mou£Down
(
NSEv’t
 *);

190 
mou£D¿gged
(
NSEv’t
 *);

191 
mou£Up
(
NSEv’t
 *);

192 
mou£Moved
(
NSEv’t
 *);

193 
boŞ
 
keyEv’t
(
NSEv’t
 *);

194 
boŞ
 
wh“lEv’t
(
NSEv’t
 *);

196 #ià
ENABLE
(
CONTEXT_MENUS
)

197 
boŞ
 
£ndCÚ‹xtM’uEv’t
(
NSEv’t
 *);

199 
boŞ
 
ev’tMayS¹D¿g
(
NSEv’t
 *);

201 
£ndFakeEv’tsAá”Widg‘T¿ckšg
(
NSEv’t
 *
š™ŸtšgEv’t
);

203 
£tAùiv©iÚEv’tNumb”
(
num
è{ 
	gm_aùiv©iÚEv’tNumb”
 =‚um; }

205 
NSEv’t
 *
cu¼’tNSEv’t
();

208 #ià
ENABLE
(
TOUCH_EVENTS
)

209 
boŞ
 
hªdËTouchEv’t
(cÚ¡ 
PÏtfÜmTouchEv’t
&);

212 
	g´iv©e
:

213 #ià
ENABLE
(
DRAG_SUPPORT
)

214 
	eD¿gAndDrİHªdËTy³
 {

215 
Upd©eD¿gAndDrİ
,

216 
	gCªûlD¿gAndDrİ
,

217 
	gP”fÜmD¿gAndDrİ


220 
	gEv’tHªdËrD¿gS‹
 : 
NÚcİyabË
 {

221 
RefPŒ
<
Node
> 
m_d¿gSrc
;

222 
boŞ
 
	gm_d¿gSrcIsLšk
;

223 
boŞ
 
	gm_d¿gSrcIsImage
;

224 
boŞ
 
	gm_d¿gSrcInS–eùiÚ
;

225 
boŞ
 
	gm_d¿gSrcMayBeDHTML
;

226 
boŞ
 
	gm_d¿gSrcMayBeUA
;

227 
boŞ
 
	gm_d¿gSrcIsDHTML
;

228 
	gRefPŒ
<
	gClbßrd
> 
	gm_d¿gClbßrd
;

230 
	gEv’tHªdËrD¿gS‹
& 
d¿gS‹
();

231 cÚ¡ 
	gTextD¿gD–ay
;

233 
boŞ
 
ÿnHªdËD¿gAndDrİFÜT¬g‘
(
D¿gAndDrİHªdËTy³
, 
Node
* 
rg‘
, cÚ¡ 
PÏtfÜmMou£Ev’t
&, 
Clbßrd
*, boŞ* 
acû±ed
 = 0);

235 
	gPassRefPŒ
<
	gClbßrd
> 
ü—‹D¿ggšgClbßrd
() const;

238 
boŞ
 
ev’tAùiv©edV›w
(cÚ¡ 
PÏtfÜmMou£Ev’t
&) const;

239 
£ËùClo£¡WÜdFromMou£Ev’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

240 
£ËùClo£¡WÜdOrLškFromMou£Ev’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

242 
boŞ
 
hªdËMou£DoubËClickEv’t
(cÚ¡ 
PÏtfÜmMou£Ev’t
&);

244 
boŞ
 
hªdËMou£P»ssEv’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

245 
boŞ
 
hªdËMou£P»ssEv’tSšgËClick
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

246 
boŞ
 
hªdËMou£P»ssEv’tDoubËClick
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

247 
boŞ
 
hªdËMou£P»ssEv’tTrËClick
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

248 #ià
ENABLE
(
DRAG_SUPPORT
)

249 
boŞ
 
hªdËMou£D¿ggedEv’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

251 
boŞ
 
hªdËMou£R–—£Ev’t
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

253 
hªdËKeybßrdS–eùiÚMovem’t
(
KeybßrdEv’t
*);

255 
CursÜ
 
£ËùCursÜ
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&, 
SüŞlb¬
*);

256 #ià
ENABLE
(
PAN_SCROLLING
)

257 
upd©ePªSüŞlS‹
();

260 
hov”Tim”Fœed
(
Tim”
<
Ev’tHªdËr
>*);

262 
boŞ
 
ÿnMou£DownS¹S–eù
(
Node
*);

263 #ià
ENABLE
(
DRAG_SUPPORT
)

264 
boŞ
 
ÿnMou£D¿gEx‹ndS–eù
(
Node
*);

267 
hªdËAutosüŞl
(
R’d”Objeù
*);

268 
¡¬tAutosüŞlTim”
();

269 
£tAutosüŞlR’d””
(
R’d”Objeù
*);

270 
autosüŞlTim”Fœed
(
Tim”
<
Ev’tHªdËr
>*);

272 
çkeMou£MoveEv’tTim”Fœed
(
Tim”
<
Ev’tHªdËr
>*);

273 
ÿnûlFakeMou£MoveEv’t
();

275 
šv®id©eClick
();

277 
Node
* 
nodeUnd”Mou£
() const;

279 
upd©eMou£Ev’tT¬g‘Node
(
Node
*, cÚ¡ 
PÏtfÜmMou£Ev’t
&, 
boŞ
 
fœeMou£Ov”Out
);

280 
fœeMou£Ov”Out
(
boŞ
 
fœeMou£Ov”
 = 
Œue
, boŞ 
fœeMou£Out
 =rue, boŞ 
upd©eLa¡NodeUnd”Mou£
 =rue);

282 
Mou£Ev’tW™hH™Te¡ResuÉs
 
´•¬eMou£Ev’t
(cÚ¡ 
H™Te¡Reque¡
&, cÚ¡ 
PÏtfÜmMou£Ev’t
&);

284 
boŞ
 
di¥©chMou£Ev’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Node
* 
rg‘
, boŞ 
ÿnûÏbË
, 
şickCouÁ
, cÚ¡ 
PÏtfÜmMou£Ev’t
&, boŞ 
£tUnd”
);

285 #ià
ENABLE
(
DRAG_SUPPORT
)

286 
boŞ
 
di¥©chD¿gEv’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, 
Node
* 
rg‘
, cÚ¡ 
PÏtfÜmMou£Ev’t
&, 
Clbßrd
*);

288 
ä“Clbßrd
();

290 
boŞ
 
hªdËD¿g
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

292 
boŞ
 
hªdËMou£Up
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

293 #ià
ENABLE
(
DRAG_SUPPORT
)

294 
ş—rD¿gS‹
();

296 
boŞ
 
di¥©chD¿gSrcEv’t
(cÚ¡ 
AtomicSŒšg
& 
ev’tTy³
, cÚ¡ 
PÏtfÜmMou£Ev’t
&);

298 
boŞ
 
d¿gHy¡”esisExûeded
(cÚ¡ 
FlßtPošt
&) const;

299 
boŞ
 
d¿gHy¡”esisExûeded
(cÚ¡ 
IÁPošt
&) const;

302 
boŞ
 
·ssMou£P»ssEv’tToSubäame
(
Mou£Ev’tW™hH™Te¡ResuÉs
&, 
F¿me
* 
subäame
);

303 
boŞ
 
·ssMou£MoveEv’tToSubäame
(
Mou£Ev’tW™hH™Te¡ResuÉs
&, 
F¿me
* 
subäame
, 
H™Te¡ResuÉ
* 
hov”edNode
 = 0);

304 
boŞ
 
·ssMou£R–—£Ev’tToSubäame
(
Mou£Ev’tW™hH™Te¡ResuÉs
&, 
F¿me
* 
subäame
);

306 
boŞ
 
·ssSubäameEv’tToSubäame
(
Mou£Ev’tW™hH™Te¡ResuÉs
&, 
F¿me
* 
subäame
, 
H™Te¡ResuÉ
* 
hov”edNode
 = 0);

308 
boŞ
 
·ssMou£P»ssEv’tToSüŞlb¬
(
Mou£Ev’tW™hH™Te¡ResuÉs
&, 
SüŞlb¬
*);

310 
boŞ
 
·ssWidg‘Mou£DownEv’tToWidg‘
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

311 
boŞ
 
·ssWidg‘Mou£DownEv’tToWidg‘
(
R’d”Widg‘
*);

313 
boŞ
 
·ssMou£DownEv’tToWidg‘
(
Widg‘
*);

314 
boŞ
 
·ssWh“lEv’tToWidg‘
(
PÏtfÜmWh“lEv’t
&, 
Widg‘
*);

316 
deçuÉS·ûEv’tHªdËr
(
KeybßrdEv’t
*);

317 
deçuÉTabEv’tHªdËr
(
KeybßrdEv’t
*);

318 
deçuÉA¼owEv’tHªdËr
(
FocusDœeùiÚ
, 
KeybßrdEv’t
*);

320 #ià
ENABLE
(
DRAG_SUPPORT
)

321 
®lowDHTMLD¿g
(
boŞ
& 
æagDHTML
, boŞ& 
æagUA
) const;

326 
boŞ
 
ev’tLoİHªdËMou£Up
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

327 #ià
ENABLE
(
DRAG_SUPPORT
)

328 
boŞ
 
ev’tLoİHªdËMou£D¿gged
(cÚ¡ 
Mou£Ev’tW™hH™Te¡ResuÉs
&);

331 
boŞ
 
šv”tS’£OfTabsToLšks
(
KeybßrdEv’t
*) const;

333 #ià
ENABLE
(
DRAG_SUPPORT
)

334 
upd©eS–eùiÚFÜMou£D¿g
(
Node
* 
rg‘Node
, cÚ¡ 
IÁPošt
& 
loÿlPošt
);

337 
upd©eLa¡SüŞlb¬Und”Mou£
(
SüŞlb¬
*, 
boŞ
);

339 
£tF¿meWasSüŞËdByU£r
();

341 
FocusDœeùiÚ
 
focusDœeùiÚFÜKey
(cÚ¡ 
AtomicSŒšg
&) const;

343 
boŞ
 
ÿ±u»sD¿ggšg
(ècÚ¡ {  
	gm_ÿ±u»sD¿ggšg
; }

345 #ià
PLATFORM
(
MAC
è&& 
defšed
(
__OBJC__
è&& !
ENABLE
(
EXPERIMENTAL_SINGLE_VIEW_MODE
)

346 
NSV›w
 *
mou£DownV›wIfStlGood
();

348 
PÏtfÜmMou£Ev’t
 
cu¼’tPÏtfÜmMou£Ev’t
() const;

351 
F¿me
* 
	gm_äame
;

353 
boŞ
 
	gm_mou£P»s£d
;

354 
boŞ
 
	gm_ÿ±u»sD¿ggšg
;

355 
	gRefPŒ
<
	gNode
> 
	gm_mou£P»ssNode
;

357 
boŞ
 
	gm_mou£DownMayS¹S–eù
;

358 #ià
ENABLE
(
DRAG_SUPPORT
)

359 
boŞ
 
	gm_mou£DownMayS¹D¿g
;

361 
boŞ
 
	gm_mou£DownWasSšgËClickInS–eùiÚ
;

362 
boŞ
 
	gm_begªS–eùšgText
;

364 #ià
ENABLE
(
DRAG_SUPPORT
)

365 
IÁPošt
 
	gm_d¿gS¹Pos
;

368 
IÁPošt
 
	gm_·nSüŞlS¹Pos
;

369 
boŞ
 
	gm_·nSüŞlInProg»ss
;

371 
boŞ
 
	gm_·nSüŞlBu‰ÚP»s£d
;

372 
boŞ
 
	gm_¥ršgLßdedPªSüŞlInProg»ss
;

374 
	gTim”
<
	gEv’tHªdËr
> 
	gm_hov”Tim”
;

376 
	gTim”
<
	gEv’tHªdËr
> 
	gm_autosüŞlTim”
;

377 
R’d”Objeù
* 
	gm_autosüŞlR’d””
;

378 
boŞ
 
	gm_autosüŞlInProg»ss
;

379 
boŞ
 
	gm_mou£DownMayS¹AutosüŞl
;

380 
boŞ
 
	gm_mou£DownWasInSubäame
;

382 
	gTim”
<
	gEv’tHªdËr
> 
	gm_çkeMou£MoveEv’tTim”
;

384 #ià
ENABLE
(
SVG
)

385 
boŞ
 
	gm_svgPª
;

386 
	gRefPŒ
<
	gSVGEËm’tIn¡ªû
> 
	gm_š¡ªûUnd”Mou£
;

387 
	gRefPŒ
<
	gSVGEËm’tIn¡ªû
> 
	gm_Ï¡In¡ªûUnd”Mou£
;

390 
R’d”Lay”
* 
	gm_»sizeLay”
;

392 
	gRefPŒ
<
	gNode
> 
	gm_ÿ±uršgMou£Ev’tsNode
;

394 
	gRefPŒ
<
	gNode
> 
	gm_nodeUnd”Mou£
;

395 
	gRefPŒ
<
	gNode
> 
	gm_Ï¡NodeUnd”Mou£
;

396 
	gRefPŒ
<
	gF¿me
> 
	gm_Ï¡Mou£MoveEv’tSubäame
;

397 
	gRefPŒ
<
	gSüŞlb¬
> 
	gm_Ï¡SüŞlb¬Und”Mou£
;

399 
	gm_şickCouÁ
;

400 
	gRefPŒ
<
	gNode
> 
	gm_şickNode
;

402 #ià
ENABLE
(
DRAG_SUPPORT
)

403 
	gRefPŒ
<
	gNode
> 
	gm_d¿gT¬g‘
;

404 
boŞ
 
	gm_shouldOÆyFœeD¿gOv”Ev’t
;

407 
	gRefPŒ
<
	gHTMLF¿meS‘EËm’t
> 
	gm_äameS‘BešgResized
;

409 
IÁSize
 
	gm_off£tFromResizeCÜÃr
;

411 
IÁPošt
 
	gm_cu¼’tMou£Pos™iÚ
;

412 
IÁPošt
 
	gm_mou£DownPos
;

413 
	gm_mou£DownTime¡amp
;

414 
PÏtfÜmMou£Ev’t
 
	gm_mou£Down
;

416 
boŞ
 
	gm_u£L©chedWh“lEv’tNode
;

417 
	gRefPŒ
<
	gNode
> 
	gm_ÏtchedWh“lEv’tNode
;

418 
boŞ
 
	gm_widg‘IsL©ched
;

420 
	gRefPŒ
<
	gNode
> 
	gm_´eviousWh“lSüŞËdNode
;

422 #ià
PLATFORM
(
MAC
)

423 #ià!
ENABLE
(
EXPERIMENTAL_SINGLE_VIEW_MODE
)

424 
NSV›w
 *
	gm_mou£DownV›w
;

425 
boŞ
 
	gm_£ndšgEv’tToSubv›w
;

427 
	gm_aùiv©iÚEv’tNumb”
;

429 #ià
ENABLE
(
TOUCH_EVENTS
)

430 
	gHashM­
<, 
	tRefPŒ
<
	tEv’tT¬g‘
> > 
	tTouchT¬g‘M­
;

431 
TouchT¬g‘M­
 
	gm_Üigš©šgTouchPoštT¬g‘s
;

	@EventSource.cpp

32 
	~"cÚfig.h
"

34 #ià
ENABLE
(
EVENTSOURCE
)

36 
	~"Ev’tSourû.h
"

38 
	~"Cache.h
"

39 
	~"DOMWšdow.h
"

40 
	~"Ev’t.h
"

41 
	~"Ev’tExû±iÚ.h
"

42 
	~"PÏtfÜmSŒšg.h
"

43 
	~"Mes§geEv’t.h
"

44 
	~"ResourûE¼Ü.h
"

45 
	~"ResourûReque¡.h
"

46 
	~"ResourûRe¥Ú£.h
"

47 
	~"SütExecutiÚCÚ‹xt.h
"

48 
	~"S”ŸlizedSütV®ue.h
"

49 
	~"TextResourûDecod”.h
"

50 
	~"Th»adabËLßd”.h
"

52 
Çme¥aû
 
	gWebCÜe
 {

54 cÚ¡ 
	gEv’tSourû
::
deçuÉRecÚÃùD–ay
 = 3000;

56 
	gEv’tSourû
::
Ev’tSourû
(cÚ¡ 
SŒšg
& 
u¾
, 
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
, 
Exû±iÚCode
& 
ec
)

57 : 
AùiveDOMObjeù
(
cÚ‹xt
, 
this
)

58 , 
m_¡©e
(
CONNECTING
)

59 , 
m_»cÚÃùTim”
(
this
, &
Ev’tSourû
::
»cÚÃùTim”Fœed
)

60 , 
m_disÿrdT¿šgNewlše
(
çl£
)

61 , 
m_çS’y
(
çl£
)

62 , 
m_»que¡InFlight
(
çl£
)

63 , 
m_»cÚÃùD–ay
(
deçuÉRecÚÃùD–ay
)

65 ià(
	gu¾
.
isEm±y
(è|| !(
	gm_u¾
 = 
cÚ‹xt
->
com¶‘eURL
(
u¾
)).
isV®id
()) {

66 
ec
 = 
SYNTAX_ERR
;

70 ià(!
sütExecutiÚCÚ‹xt
()->
£cur™yOrigš
()->
ÿnReque¡
(
m_u¾
)) {

71 
	gec
 = 
SECURITY_ERR
;

75 
	gm_Üigš
 = 
sütExecutiÚCÚ‹xt
()->
£cur™yOrigš
()->
toSŒšg
();

76 
	gm_decod”
 = 
TextResourûDecod”
::
ü—‹
("text/plain", "UTF-8");

78 
£tP’dšgAùiv™y
(
this
);

79 
cÚÃù
();

82 
	gEv’tSourû
::~
Ev’tSourû
()

86 
Ev’tSourû
::
cÚÃù
()

88 
ResourûReque¡
 
»que¡
(
m_u¾
);

89 
	g»que¡
.
£tHTTPM‘hod
("GET");

90 
	g»que¡
.
£tHTTPH—d”F›ld
("Accept", "text/event-stream");

91 
	g»que¡
.
£tHTTPH—d”F›ld
("Cache-Control", "no-cache");

92 ià(!
	gm_Ï¡Ev’tId
.
isEm±y
())

93 
	g»que¡
.
£tHTTPH—d”F›ld
("La¡-Ev’t-ID", 
m_Ï¡Ev’tId
);

95 
Th»adabËLßd”O±iÚs
 
	gİtiÚs
;

96 
	gİtiÚs
.
	g£ndLßdC®lbacks
 = 
Œue
;

97 
	gİtiÚs
.
	g¢iffCÚ‹Á
 = 
çl£
;

98 
	gİtiÚs
.
	g®lowC»d’tŸls
 = 
Œue
;

100 
	gm_lßd”
 = 
Th»adabËLßd”
::
ü—‹
(
sütExecutiÚCÚ‹xt
(), 
this
, 
»que¡
, 
İtiÚs
);

102 
	gm_»que¡InFlight
 = 
Œue
;

104 ià(!
sütExecutiÚCÚ‹xt
()->
isWÜk”CÚ‹xt
())

105 
ÿche
()->
lßd”
()->
nÚCacheReque¡InFlight
(
m_u¾
);

108 
	gEv’tSourû
::
’dReque¡
()

110 
m_»que¡InFlight
 = 
çl£
;

112 ià(!
	gm_çS’y
)

113 
di¥©chEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
”rÜEv’t
, 
çl£
, false));

115 ià(!
sütExecutiÚCÚ‹xt
()->
isWÜk”CÚ‹xt
())

116 
ÿche
()->
lßd”
()->
nÚCacheReque¡Com¶‘e
(
m_u¾
);

118 ià(
	gm_¡©e
 !ğ
CLOSED
)

119 
scheduËRecÚÃù
();

121 
un£tP’dšgAùiv™y
(
this
);

124 
	gEv’tSourû
::
scheduËRecÚÃù
()

126 
m_¡©e
 = 
CONNECTING
;

127 
	gm_»cÚÃùTim”
.
¡¬tOÃShÙ
(
m_»cÚÃùD–ay
 / 1000);

130 
	gEv’tSourû
::
»cÚÃùTim”Fœed
(
Tim”
<
Ev’tSourû
>*)

132 
cÚÃù
();

135 
SŒšg
 
	gEv’tSourû
::
u¾
() const

137  
m_u¾
.
¡ršg
();

140 
	gEv’tSourû
::
S‹
 
Ev’tSourû
::
»adyS‹
() const

142  
m_¡©e
;

145 
	gEv’tSourû
::
şo£
()

147 ià(
m_¡©e
 =ğ
CLOSED
)

150 ià(
	gm_»cÚÃùTim”
.
isAùive
()) {

151 
	gm_»cÚÃùTim”
.
¡İ
();

152 
un£tP’dšgAùiv™y
(
this
);

155 
	gm_¡©e
 = 
CLOSED
;

156 
	gm_çS’y
 = 
Œue
;

158 ià(
	gm_»que¡InFlight
)

159 
	gm_lßd”
->
ÿnûl
();

162 
SütExecutiÚCÚ‹xt
* 
	gEv’tSourû
::
sütExecutiÚCÚ‹xt
() const

164  
AùiveDOMObjeù
::
sütExecutiÚCÚ‹xt
();

167 
	gEv’tSourû
::
didReûiveRe¥Ú£
(cÚ¡ 
ResourûRe¥Ú£
& 
»¥Ú£
)

169 
¡©usCode
 = 
»¥Ú£
.
h‰pStusCode
();

170 ià(
	g¡©usCode
 =ğ200 && 
»¥Ú£
.
h‰pH—d”F›ld
("Content-Type") == "text/event-stream") {

171 
m_¡©e
 = 
OPEN
;

172 
di¥©chEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
İ’Ev’t
, 
çl£
, false));

174 ià(
	g¡©usCode
 <ğ200 || 
¡©usCode
 > 299)

175 
m_¡©e
 = 
CLOSED
;

176 
	gm_lßd”
->
ÿnûl
();

180 
	gEv’tSourû
::
didReûiveD©a
(cÚ¡ * 
d©a
, 
Ëngth
)

182 
­³nd
(
m_»ûiveBuf
, 
m_decod”
->
decode
(
d©a
, 
Ëngth
));

183 
·r£Ev’tSŒ—m
();

186 
	gEv’tSourû
::
didFšishLßdšg
()

188 ià(
m_»ûiveBuf
.
size
(è> 0 || 
m_d©a
.size() > 0) {

189 
­³nd
(
m_»ûiveBuf
, "\n\n");

190 
·r£Ev’tSŒ—m
();

192 
	gm_¡©e
 = 
CONNECTING
;

193 
’dReque¡
();

196 
	gEv’tSourû
::
didFa
(cÚ¡ 
ResourûE¼Ü
& 
”rÜ
)

198 
ÿnûËd
 = 
”rÜ
.
isCªûÎ©iÚ
();

199 ià(((
	gm_¡©e
 =ğ
CONNECTING
è&& !
ÿnûËd
è|| ((
m_¡©e
 =ğ
OPEN
) && canceled))

200 
m_¡©e
 = 
CLOSED
;

201 
’dReque¡
();

204 
	gEv’tSourû
::
didFaRedœeùCheck
()

206 
m_¡©e
 = 
CLOSED
;

207 
	gm_lßd”
->
ÿnûl
();

210 
	gEv’tSourû
::
·r£Ev’tSŒ—m
()

212 
bufPos
 = 0;

213 
	gbufSize
 = 
m_»ûiveBuf
.
size
();

214 
	gbufPos
 < 
	gbufSize
) {

215 ià(
	gm_disÿrdT¿šgNewlše
) {

216 ià(
	gm_»ûiveBuf
[
bufPos
] == '\n')

217 
bufPos
++;

218 
	gm_disÿrdT¿šgNewlše
 = 
çl£
;

221 
	glšeL’gth
 = -1;

222 
	gf›ldL’gth
 = -1;

223 
	gi
 = 
bufPos
; 
	glšeL’gth
 < 0 && i < 
	gbufSize
; i++) {

224 
	gm_»ûiveBuf
[
i
]) {

226 ià(
f›ldL’gth
 < 0)

227 
f›ldL’gth
 = 
i
 - 
bufPos
;

230 
m_disÿrdT¿šgNewlše
 = 
Œue
;

232 
lšeL’gth
 = 
i
 - 
bufPos
;

237 ià(
	glšeL’gth
 < 0)

240 
·r£Ev’tSŒ—mLše
(
bufPos
, 
f›ldL’gth
, 
lšeL’gth
);

241 
	gbufPos
 +ğ
lšeL’gth
 + 1;

244 ià(
	gbufPos
 =ğ
bufSize
)

245 
m_»ûiveBuf
.
ş—r
();

246 ià(
	gbufPos
)

247 
	gm_»ûiveBuf
.
»move
(0, 
bufPos
);

250 
	gEv’tSourû
::
·r£Ev’tSŒ—mLše
(
bufPos
, 
f›ldL’gth
, 
lšeL’gth
)

252 ià(!
	glšeL’gth
) {

253 ià(!
	gm_d©a
.
isEm±y
()) {

254 
	gm_d©a
.
»moveLa¡
();

255 
di¥©chEv’t
(
ü—‹Mes§geEv’t
());

257 ià(!
	gm_ev’tName
.
isEm±y
())

258 
	gm_ev’tName
 = "";

259 } ià(
	gf›ldL’gth
) {

260 
boŞ
 
	gnoV®ue
 = 
f›ldL’gth
 < 0;

262 
SŒšg
 
f›ld
(&
m_»ûiveBuf
[
bufPos
], 
noV®ue
 ? 
lšeL’gth
 : 
f›ldL’gth
);

263 
	g¡•
;

264 ià(
	gnoV®ue
)

265 
	g¡•
 = 
lšeL’gth
;

266 ià(
	gm_»ûiveBuf
[
bufPos
 + 
f›ldL’gth
 + 1] != ' ')

267 
¡•
 = 
f›ldL’gth
 + 1;

269 
	g¡•
 = 
f›ldL’gth
 + 2;

270 
	gbufPos
 +ğ
¡•
;

271 
	gv®ueL’gth
 = 
lšeL’gth
 - 
¡•
;

273 ià(
	gf›ld
 == "data") {

274 ià(
v®ueL’gth
)

275 
m_d©a
.
­³nd
(&
m_»ûiveBuf
[
bufPos
], 
v®ueL’gth
);

276 
	gm_d©a
.
­³nd
('\n');

277 } ià(
	gf›ld
 == "event")

278 
m_ev’tName
 = 
v®ueL’gth
 ? 
SŒšg
(&
m_»ûiveBuf
[
bufPos
], valueLength) : "";

279 ià(
	gf›ld
 == "id")

280 
m_Ï¡Ev’tId
 = 
v®ueL’gth
 ? 
SŒšg
(&
m_»ûiveBuf
[
bufPos
], valueLength) : "";

281 ià(
	gf›ld
 == "retry") {

282 ià(!
v®ueL’gth
)

283 
m_»cÚÃùD–ay
 = 
deçuÉRecÚÃùD–ay
;

285 
SŒšg
 
v®ue
(&
m_»ûiveBuf
[
bufPos
], 
v®ueL’gth
);

286 
boŞ
 
	gok
;

287 
	g»Œy
 = 
v®ue
.
toUIÁ64
(&
ok
);

288 ià(
	gok
)

289 
	gm_»cÚÃùD–ay
 = 
»Œy
;

295 
	gEv’tSourû
::
¡İ
()

297 
şo£
();

300 
	gPassRefPŒ
<
	gMes§geEv’t
> 
	gEv’tSourû
::
ü—‹Mes§geEv’t
()

302 
RefPŒ
<
Mes§geEv’t
> 
ev’t
 = Mes§geEv’t::
ü—‹
();

303 
	gev’t
->
š™Mes§geEv’t
(
m_ev’tName
.
isEm±y
(è? 
ev’tNames
().
mes§geEv’t
 : 
AtomicSŒšg
(m_ev’tName), 
çl£
, f®£, 
S”ŸlizedSütV®ue
::
ü—‹
(
SŒšg
::
adİt
(
m_d©a
)), 
m_Üigš
, 
m_Ï¡Ev’tId
, 0, 0);

304  
	gev’t
.
»Ëa£
();

307 
Ev’tT¬g‘D©a
* 
	gEv’tSourû
::
ev’tT¬g‘D©a
()

309  &
m_ev’tT¬g‘D©a
;

312 
Ev’tT¬g‘D©a
* 
	gEv’tSourû
::
’su»Ev’tT¬g‘D©a
()

314  &
m_ev’tT¬g‘D©a
;

	@EventSource.h

32 #iâdeà
Ev’tSourû_h


33 
	#Ev’tSourû_h


	)

35 #ià
ENABLE
(
EVENTSOURCE
)

37 
	~"AùiveDOMObjeù.h
"

38 
	~"AtomicSŒšgHash.h
"

39 
	~"Ev’tNames.h
"

40 
	~"Ev’tT¬g‘.h
"

41 
	~"KURL.h
"

42 
	~"Th»adabËLßd”Cl›Á.h
"

43 
	~"Tim”.h
"

45 
	~<wtf/HashM­.h
>

46 
	~<wtf/PassRefPŒ.h
>

47 
	~<wtf/RefPŒ.h
>

48 
	~<wtf/VeùÜ.h
>

50 
Çme¥aû
 
	gWebCÜe
 {

52 
şass
 
	gMes§geEv’t
;

53 
şass
 
	gResourûRe¥Ú£
;

54 
şass
 
	gTextResourûDecod”
;

55 
şass
 
	gTh»adabËLßd”
;

57 
şass
 
	gEv’tSourû
 : 
public
 
RefCouÁed
<
Ev’tSourû
>,…ubliø
	gEv’tT¬g‘
, 
´iv©e
 
	gTh»adabËLßd”Cl›Á
,…ubliø
	gAùiveDOMObjeù
 {

58 
	gpublic
:

59 
PassRefPŒ
<
Ev’tSourû
> 
ü—‹
(cÚ¡ 
SŒšg
& 
u¾
, 
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
, 
Exû±iÚCode
& 
ec
è{  
adİtRef
(
Ãw
 EventSource(url, context,ƒc)); }

60 
	gvœtu®
 ~
Ev’tSourû
();

62 cÚ¡ 
	gdeçuÉRecÚÃùD–ay
;

64 
SŒšg
 
u¾
() const;

66 
	eS‹
 {

67 
	gCONNECTING
 = 0,

68 
	gOPEN
 = 1,

69 
	gCLOSED
 = 2,

72 
S‹
 
»adyS‹
() const;

74 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
İ’
);

75 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
mes§ge
);

76 
DEFINE_ATTRIBUTE_EVENT_LISTENER
(
”rÜ
);

78 
şo£
();

80 
usšg
 
	gRefCouÁed
<
	gEv’tSourû
>::
»f
;

81 
usšg
 
	gRefCouÁed
<
	gEv’tSourû
>::
d”ef
;

83 
vœtu®
 
Ev’tSourû
* 
toEv’tSourû
(è{  
	gthis
; }

84 
vœtu®
 
SütExecutiÚCÚ‹xt
* 
sütExecutiÚCÚ‹xt
() const;

86 
vœtu®
 
¡İ
();

88 
	g´iv©e
:

89 
Ev’tSourû
(cÚ¡ 
SŒšg
& 
u¾
, 
SütExecutiÚCÚ‹xt
* 
cÚ‹xt
, 
Exû±iÚCode
& 
ec
);

91 
vœtu®
 
»fEv’tT¬g‘
(è{ 
»f
(); }

92 
vœtu®
 
d”efEv’tT¬g‘
(è{ 
d”ef
(); }

93 
vœtu®
 
Ev’tT¬g‘D©a
* 
ev’tT¬g‘D©a
();

94 
vœtu®
 
Ev’tT¬g‘D©a
* 
’su»Ev’tT¬g‘D©a
();

96 
vœtu®
 
didReûiveRe¥Ú£
(cÚ¡ 
ResourûRe¥Ú£
& 
»¥Ú£
);

97 
vœtu®
 
didReûiveD©a
(cÚ¡ * 
d©a
, 
Ëngth
);

98 
vœtu®
 
didFšishLßdšg
();

99 
vœtu®
 
didFa
(cÚ¡ 
ResourûE¼Ü
& 
”rÜ
);

100 
vœtu®
 
didFaRedœeùCheck
();

102 
cÚÃù
();

103 
’dReque¡
();

104 
scheduËRecÚÃù
();

105 
»cÚÃùTim”Fœed
(
Tim”
<
Ev’tSourû
>*);

106 
·r£Ev’tSŒ—m
();

107 
·r£Ev’tSŒ—mLše
(
pos
, 
f›ldL’gth
, 
lšeL’gth
);

108 
	gPassRefPŒ
<
	gMes§geEv’t
> 
ü—‹Mes§geEv’t
();

110 
KURL
 
	gm_u¾
;

111 
S‹
 
	gm_¡©e
;

113 
	gRefPŒ
<
	gTextResourûDecod”
> 
	gm_decod”
;

114 
	gRefPŒ
<
	gTh»adabËLßd”
> 
	gm_lßd”
;

115 
	gTim”
<
	gEv’tSourû
> 
	gm_»cÚÃùTim”
;

116 
	gVeùÜ
<
	gUCh¬
> 
	gm_»ûiveBuf
;

117 
boŞ
 
	gm_disÿrdT¿šgNewlše
;

118 
boŞ
 
	gm_çS’y
;

119 
boŞ
 
	gm_»que¡InFlight
;

121 
SŒšg
 
	gm_ev’tName
;

122 
	gVeùÜ
<
	gUCh¬
> 
	gm_d©a
;

123 
SŒšg
 
	gm_Ï¡Ev’tId
;

124 
	gm_»cÚÃùD–ay
;

125 
SŒšg
 
	gm_Üigš
;

127 
Ev’tT¬g‘D©a
 
	gm_ev’tT¬g‘D©a
;

	@FocusController.cpp

27 
	~"cÚfig.h
"

28 
	~"FocusCÚŒŞËr.h
"

30 
	~"AXObjeùCache.h
"

31 
	~"Chrome.h
"

32 
	~"Docum’t.h
"

33 
	~"Ed™Ü.h
"

34 
	~"Ed™ÜCl›Á.h
"

35 
	~"EËm’t.h
"

36 
	~"Ev’t.h
"

37 
	~"Ev’tHªdËr.h
"

38 
	~"Ev’tNames.h
"

39 
	~"Exû±iÚCode.h
"

40 
	~"F¿me.h
"

41 
	~"F¿meT»e.h
"

42 
	~"F¿meV›w.h
"

43 
	~"HTMLF¿meOwÃrEËm’t.h
"

44 
	~"HTMLNames.h
"

45 
	~"KeybßrdEv’t.h
"

46 
	~"Page.h
"

47 
	~"Rªge.h
"

48 
	~"R’d”Objeù.h
"

49 
	~"R’d”Widg‘.h
"

50 
	~"S–eùiÚCÚŒŞËr.h
"

51 
	~"S‘tšgs.h
"

52 
	~"S·tŸlNavig©iÚ.h
"

53 
	~"Widg‘.h
"

55 
Çme¥aû
 
	gWebCÜe
 {

57 
usšg
 
Çme¥aû
 
	gHTMLNames
;

58 
usšg
 
Çme¥aû
 
	g¡d
;

60 
šlše
 
di¥©chEv’tsOnWšdowAndFocu£dNode
(
Docum’t
* 
docum’t
, 
boŞ
 
focu£d
)

67 ià(
Page
* 
	g·ge
 = 
docum’t
->
·ge
()) {

68 ià(
·ge
->
deãrsLßdšg
())

72 ià(!
	gfocu£d
 && 
	gdocum’t
->
focu£dNode
())

73 
	gdocum’t
->
focu£dNode
()->
di¥©chBlurEv’t
();

74 
	gdocum’t
->
di¥©chWšdowEv’t
(
Ev’t
::
ü—‹
(
focu£d
 ? 
ev’tNames
().
focusEv’t
 :ƒv’tNames().
blurEv’t
, 
çl£
, false));

75 ià(
	gfocu£d
 && 
	gdocum’t
->
focu£dNode
())

76 
	gdocum’t
->
focu£dNode
()->
di¥©chFocusEv’t
();

79 
	gFocusCÚŒŞËr
::
FocusCÚŒŞËr
(
Page
* 
·ge
)

80 : 
m_·ge
(
·ge
)

81 , 
m_isAùive
(
çl£
)

82 , 
m_isFocu£d
(
çl£
)

83 , 
m_isChªgšgFocu£dF¿me
(
çl£
)

87 
	gFocusCÚŒŞËr
::
£tFocu£dF¿me
(
PassRefPŒ
<
F¿me
> 
äame
)

89 ià(
m_focu£dF¿me
 =ğ
äame
 || 
m_isChªgšgFocu£dF¿me
)

92 
	gm_isChªgšgFocu£dF¿me
 = 
Œue
;

94 
	gRefPŒ
<
	gF¿me
> 
	gŞdF¿me
 = 
m_focu£dF¿me
;

95 
	gRefPŒ
<
	gF¿me
> 
	gÃwF¿me
 = 
äame
;

97 
	gm_focu£dF¿me
 = 
ÃwF¿me
;

100 ià(
	gŞdF¿me
 && oldF¿me->
v›w
()) {

101 
	gŞdF¿me
->
£ËùiÚ
()->
£tFocu£d
(
çl£
);

102 
	gŞdF¿me
->
docum’t
()->
di¥©chWšdowEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
blurEv’t
, 
çl£
, false));

105 ià(
	gÃwF¿me
 &&‚ewF¿me->
v›w
(è&& 
isFocu£d
()) {

106 
	gÃwF¿me
->
£ËùiÚ
()->
£tFocu£d
(
Œue
);

107 
	gÃwF¿me
->
docum’t
()->
di¥©chWšdowEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
focusEv’t
, 
çl£
, false));

110 
	gm_isChªgšgFocu£dF¿me
 = 
çl£
;

113 
F¿me
* 
	gFocusCÚŒŞËr
::
focu£dOrMašF¿me
()

115 ià(
F¿me
* 
äame
 = 
focu£dF¿me
())

116  
äame
;

117  
	gm_·ge
->
mašF¿me
();

120 
	gFocusCÚŒŞËr
::
£tFocu£d
(
boŞ
 
focu£d
)

122 ià(
isFocu£d
(è=ğ
focu£d
)

125 
	gm_isFocu£d
 = 
focu£d
;

127 ià(
	gm_focu£dF¿me
 && m_focu£dF¿me->
v›w
()) {

128 
	gm_focu£dF¿me
->
£ËùiÚ
()->
£tFocu£d
(
focu£d
);

129 
di¥©chEv’tsOnWšdowAndFocu£dNode
(
m_focu£dF¿me
->
docum’t
(), 
focu£d
);

133 
Node
* 
d“pFocu§bËNode
(
FocusDœeùiÚ
 
dœeùiÚ
, Node* 
node
, 
KeybßrdEv’t
* 
ev’t
)

138 
	gnode
 &&‚ode->
isF¿meOwÃrEËm’t
()) {

139 
HTMLF¿meOwÃrEËm’t
* 
	gowÃr
 = 
¡©ic_ÿ¡
<HTMLF¿meOwÃrEËm’t*>(
node
);

140 ià(!
	gowÃr
->
cÚ‹ÁF¿me
())

143 
Docum’t
* 
	gdocum’t
 = 
owÃr
->
cÚ‹ÁF¿me
()->
docum’t
();

145 
	gnode
 = (
dœeùiÚ
 =ğ
FocusDœeùiÚFÜw¬d
)

146 ? 
docum’t
->
ÃxtFocu§bËNode
(0, 
ev’t
)

147 : 
docum’t
->
´eviousFocu§bËNode
(0, 
ev’t
);

148 ià(!
	gnode
) {

149 
	gnode
 = 
owÃr
;

154  
	gnode
;

157 
boŞ
 
	gFocusCÚŒŞËr
::
£tIn™ŸlFocus
(
FocusDœeùiÚ
 
dœeùiÚ
, 
KeybßrdEv’t
* 
ev’t
)

159  
advªûFocus
(
dœeùiÚ
, 
ev’t
, 
Œue
);

162 
boŞ
 
	gFocusCÚŒŞËr
::
advªûFocus
(
FocusDœeùiÚ
 
dœeùiÚ
, 
KeybßrdEv’t
* 
ev’t
, boŞ 
š™ŸlFocus
)

164 
	gdœeùiÚ
) {

165 
	gFocusDœeùiÚFÜw¬d
:

166 
FocusDœeùiÚBackw¬d
:

167  
advªûFocusInDocum’tOrd”
(
dœeùiÚ
, 
ev’t
, 
š™ŸlFocus
);

168 
	gFocusDœeùiÚLeá
:

169 
FocusDœeùiÚRight
:

170 
FocusDœeùiÚUp
:

171 
FocusDœeùiÚDown
:

172  
advªûFocusDœeùiÚ®ly
(
dœeùiÚ
, 
ev’t
);

174 
ASSERT_NOT_REACHED
();

177  
	gçl£
;

180 
boŞ
 
	gFocusCÚŒŞËr
::
advªûFocusInDocum’tOrd”
(
FocusDœeùiÚ
 
dœeùiÚ
, 
KeybßrdEv’t
* 
ev’t
, boŞ 
š™ŸlFocus
)

182 
F¿me
* 
	gäame
 = 
focu£dOrMašF¿me
();

183 
ASSERT
(
äame
);

184 
Docum’t
* 
	gdocum’t
 = 
äame
->
docum’t
();

186 
Node
* 
	gcu¼’tNode
 = 
docum’t
->
focu£dNode
();

188 
boŞ
 
	gÿ»tBrowsšg
 = 
focu£dOrMašF¿me
()->
£‰šgs
()->
ÿ»tBrowsšgEÇbËd
();

190 ià(
	gÿ»tBrowsšg
 && !
	gcu¼’tNode
)

191 
	gcu¼’tNode
 = 
äame
->
£ËùiÚ
()->
¡¬t
().
node
();

193 
	gdocum’t
->
upd©eLayoutIgnÜeP’dšgStyËsh“ts
();

195 
Node
* 
	gnode
 = (
dœeùiÚ
 =ğ
FocusDœeùiÚFÜw¬d
)

196 ? 
docum’t
->
ÃxtFocu§bËNode
(
cu¼’tNode
, 
ev’t
)

197 : 
docum’t
->
´eviousFocu§bËNode
(
cu¼’tNode
, 
ev’t
);

200 !
	gnode
 && 
	gäame
) {

201 
F¿me
* 
	g·»ÁF¿me
 = 
äame
->
Œ“
()->
·»Á
();

202 ià(!
	g·»ÁF¿me
)

205 
Docum’t
* 
	g·»ÁDocum’t
 = 
·»ÁF¿me
->
docum’t
();

207 
HTMLF¿meOwÃrEËm’t
* 
	gowÃr
 = 
äame
->
owÃrEËm’t
();

208 ià(!
	gowÃr
)

211 
	gnode
 = (
dœeùiÚ
 =ğ
FocusDœeùiÚFÜw¬d
)

212 ? 
·»ÁDocum’t
->
ÃxtFocu§bËNode
(
owÃr
, 
ev’t
)

213 : 
·»ÁDocum’t
->
´eviousFocu§bËNode
(
owÃr
, 
ev’t
);

215 
	gäame
 = 
·»ÁF¿me
;

218 
	gnode
 = 
d“pFocu§bËNode
(
dœeùiÚ
, 
node
, 
ev’t
);

220 ià(!
	gnode
) {

222 ià(!
	gš™ŸlFocus
 && 
	gm_·ge
->
chrome
()->
ÿnTakeFocus
(
dœeùiÚ
)) {

223 
	gdocum’t
->
£tFocu£dNode
(0);

224 
£tFocu£dF¿me
(0);

225 
	gm_·ge
->
chrome
()->
keFocus
(
dœeùiÚ
);

226  
	gŒue
;

230 
Docum’t
* 
	gd
 = 
m_·ge
->
mašF¿me
()->
docum’t
();

231 
	gnode
 = (
dœeùiÚ
 =ğ
FocusDœeùiÚFÜw¬d
)

232 ? 
d
->
ÃxtFocu§bËNode
(0, 
ev’t
)

233 : 
d
->
´eviousFocu§bËNode
(0, 
ev’t
);

235 
	gnode
 = 
d“pFocu§bËNode
(
dœeùiÚ
, 
node
, 
ev’t
);

237 ià(!
	gnode
)

238  
	gçl£
;

241 
ASSERT
(
node
);

243 ià(
	gnode
 =ğ
docum’t
->
focu£dNode
())

245  
Œue
;

247 ià(!
	gnode
->
isEËm’tNode
())

249  
	gçl£
;

251 ià(
	gnode
->
isF¿meOwÃrEËm’t
()) {

254 
HTMLF¿meOwÃrEËm’t
* 
	gowÃr
 = 
¡©ic_ÿ¡
<HTMLF¿meOwÃrEËm’t*>(
node
);

255 ià(!
	gowÃr
->
cÚ‹ÁF¿me
())

256  
	gçl£
;

258 
	gdocum’t
->
£tFocu£dNode
(0);

259 
£tFocu£dF¿me
(
owÃr
->
cÚ‹ÁF¿me
());

260  
	gŒue
;

267 
Docum’t
* 
	gÃwDocum’t
 = 
node
->
docum’t
();

269 ià(
	gÃwDocum’t
 !ğ
docum’t
)

271 
docum’t
->
£tFocu£dNode
(0);

273 ià(
	gÃwDocum’t
)

274 
£tFocu£dF¿me
(
ÃwDocum’t
->
äame
());

276 ià(
	gÿ»tBrowsšg
) {

277 
VisibËS–eùiÚ
 
ÃwS–eùiÚ
(
Pos™iÚ
(
node
, 0), Pos™iÚÒode, 0), 
DOWNSTREAM
);

278 ià(
	gäame
->
shouldChªgeS–eùiÚ
(
ÃwS–eùiÚ
))

279 
	gäame
->
£ËùiÚ
()->
£tS–eùiÚ
(
ÃwS–eùiÚ
);

282 
	g¡©ic_ÿ¡
<
	gEËm’t
*>(
	gnode
)->
focus
(
çl£
);

283  
	gŒue
;

286 
boŞ
 
	gFocusCÚŒŞËr
::
advªûFocusDœeùiÚ®ly
(
FocusDœeùiÚ
 
dœeùiÚ
, 
KeybßrdEv’t
* 
ev’t
)

288 
F¿me
* 
	gäame
 = 
focu£dOrMašF¿me
();

289 
ASSERT
(
äame
);

290 
Docum’t
* 
	gfocu£dDocum’t
 = 
äame
->
docum’t
();

291 ià(!
	gfocu£dDocum’t
)

292  
	gçl£
;

294 
Node
* 
	gfocu£dNode
 = 
focu£dDocum’t
->
focu£dNode
();

295 ià(!
	gfocu£dNode
) {

297 
FocusDœeùiÚ
 
	gbDœeùiÚ
 = (
dœeùiÚ
 =ğ
FocusDœeùiÚUp
 || dœeùiÚ =ğ
FocusDœeùiÚLeá
) ?

298 
FocusDœeùiÚFÜw¬d
 : 
FocusDœeùiÚBackw¬d
;

300  
advªûFocusInDocum’tOrd”
(
bDœeùiÚ
, 
ev’t
, 
Œue
);

304 
	gäame
 = 
äame
->
Œ“
()->
tİ
();

306 
FocusCªdid©e
 
	gfocusCªdid©e
;

307 
fšdFocu§bËNodeInDœeùiÚ
(
äame
->
docum’t
(), 
focu£dNode
, 
dœeùiÚ
, 
ev’t
, 
focusCªdid©e
);

309 
Node
* 
	gnode
 = 
focusCªdid©e
.
node
;

310 ià(!
	gnode
 || !node->
isEËm’tNode
()) {

312 
F¿me
* 
	gäame
 = 
focu£dOrMašF¿me
();

313 
süŞlInDœeùiÚ
(
äame
, 
dœeùiÚ
);

314  
	gçl£
;

320 ià(
hasOffsü“nReù
(
node
)) {

321 
F¿me
* 
	gäame
 = 
node
->
docum’t
()->
v›w
()->
äame
();

322 
süŞlInDœeùiÚ
(
äame
, 
dœeùiÚ
);

323  
	gŒue
;

326 
Docum’t
* 
	gÃwDocum’t
 = 
node
->
docum’t
();

328 ià(
	gÃwDocum’t
 !ğ
focu£dDocum’t
) {

330 
focu£dDocum’t
->
£tFocu£dNode
(0);

333 ià(
	gÃwDocum’t
)

334 
£tFocu£dF¿me
(
ÃwDocum’t
->
äame
());

336 
EËm’t
* 
	g–em’t
 = 
¡©ic_ÿ¡
<EËm’t*>(
node
);

337 
ASSERT
(
–em’t
);

339 
süŞlIÁoV›w
(
–em’t
);

340 
	g–em’t
->
focus
(
çl£
);

341  
	gŒue
;

345 
upd©eFocusCªdid©eIfClo£r
(
Node
* 
focu£dNode
, cÚ¡ 
FocusCªdid©e
& 
ÿndid©e
, FocusCªdid©e& 
şo£¡
)

347 
boŞ
 
	g§meDocum’t
 = 
ÿndid©e
.
docum’t
(è=ğ
şo£¡
.document();

348 ià(
	g§meDocum’t
) {

349 ià(
	gşo£¡
.
	g®ignm’t
 > 
	gÿndid©e
.alignment

350 || (
	gşo£¡
.
	g·»ÁAlignm’t
 && 
	gÿndid©e
.
	g®ignm’t
 > closest.parentAlignment))

352 } ià(
	gşo£¡
.
	g®ignm’t
 > 
	gÿndid©e
.alignment

353 && (
	gşo£¡
.
	g·»ÁAlignm’t
 && 
	gÿndid©e
.
	g®ignm’t
 > closest.parentAlignment))

356 ià(
	gÿndid©e
.
	g®ignm’t
 !ğ
NÚe


357 || (
şo£¡
.
·»ÁAlignm’t
 >ğ
ÿndid©e
.
®ignm’t


358 && 
şo£¡
.
docum’t
(è=ğ
ÿndid©e
.document())) {

363 ià(
şo£¡
.
®ignm’t
 < 
ÿndid©e
.alignment

364 && 
şo£¡
.
·»ÁAlignm’t
 < 
ÿndid©e
.
®ignm’t
)

365 
şo£¡
.
di¡ªû
 = 
maxDi¡ªû
();

367 
	gşo£¡
.
	g®ignm’t
 = 
ÿndid©e
.
®ignm’t
;

371 ià(
	gÿndid©e
.
	gdi¡ªû
 >ğ
şo£¡
.
di¡ªû
)

376 ià(
	gfocu£dNode
->
docum’t
(è=ğ
ÿndid©e
.document()

377 && 
ÿndid©e
.
di¡ªû
 < 
şo£¡
.
·»ÁDi¡ªû
)

378 
şo£¡
 = 
ÿndid©e
;

379 ià(
	gfocu£dNode
->
docum’t
(è!ğ
ÿndid©e
.document()) {

383 ià(!((
isInRoÙDocum’t
(
ÿndid©e
.
node
è&& !isInRoÙDocum’t(
focu£dNode
))

384 && 
focu£dNode
->
docum’t
(è=ğ
şo£¡
.document()))

385 
şo£¡
 = 
ÿndid©e
;

389 
	gFocusCÚŒŞËr
::
fšdFocu§bËNodeInDœeùiÚ
(
Docum’t
* 
docum’t
, 
Node
* 
focu£dNode
,

390 
FocusDœeùiÚ
 
dœeùiÚ
, 
KeybßrdEv’t
* 
ev’t
,

391 
FocusCªdid©e
& 
şo£¡FocusCªdid©e
,

392 cÚ¡ 
FocusCªdid©e
& 
ÿndid©eP¬’t
)

394 
ASSERT
(
docum’t
);

395 
ASSERT
(
ÿndid©eP¬’t
.
isNuÎ
(è|| 
¡©ic_ÿ¡
<
HTMLF¿meOwÃrEËm’t
*>(ÿndid©eP¬’t.
node
));

398 
Node
* 
	gÿndid©e
 = 
docum’t
->
fœ¡Chd
(); cªdid©e; cªdid©ğ
ÿndid©e
->
Œav”£NextNode
()) {

401 ià(
ÿndid©e
->
isF¿meOwÃrEËm’t
())

402 
d“pFšdFocu§bËNodeInDœeùiÚ
(
focu£dNode
, 
ÿndid©e
, 
dœeùiÚ
, 
ev’t
, 
şo£¡FocusCªdid©e
);

403 ià(
	gÿndid©e
 !ğ
focu£dNode
 && 
ÿndid©e
->
isKeybßrdFocu§bË
(
ev’t
)) {

404 
FocusCªdid©e
 
cu¼’tFocusCªdid©e
(
ÿndid©e
);

407 
di¡ªûD©aFÜNode
(
dœeùiÚ
, 
focu£dNode
, 
cu¼’tFocusCªdid©e
);

410 ià(
	gcu¼’tFocusCªdid©e
.
	gdi¡ªû
 =ğ
maxDi¡ªû
())

416 ià(!
	gÿndid©eP¬’t
.
isNuÎ
()) {

417 
	gcu¼’tFocusCªdid©e
.
	g·»ÁAlignm’t
 = 
ÿndid©eP¬’t
.
®ignm’t
;

418 
	gcu¼’tFocusCªdid©e
.
	g·»ÁDi¡ªû
 = 
ÿndid©eP¬’t
.
di¡ªû
;

421 
upd©eFocusCªdid©eIfClo£r
(
focu£dNode
, 
cu¼’tFocusCªdid©e
, 
şo£¡FocusCªdid©e
);

426 
	gFocusCÚŒŞËr
::
d“pFšdFocu§bËNodeInDœeùiÚ
(
Node
* 
focu£dNode
, Node* 
ÿndid©e
,

427 
FocusDœeùiÚ
 
dœeùiÚ
, 
KeybßrdEv’t
* 
ev’t
,

428 
FocusCªdid©e
& 
şo£¡FocusCªdid©e
)

430 
HTMLF¿meOwÃrEËm’t
* 
	gowÃr
 = 
¡©ic_ÿ¡
<HTMLF¿meOwÃrEËm’t*>(
ÿndid©e
);

431 ià(!
	gowÃr
->
cÚ‹ÁF¿me
())

434 
Docum’t
* 
	gšÃrDocum’t
 = 
owÃr
->
cÚ‹ÁF¿me
()->
docum’t
();

435 ià(!
	gšÃrDocum’t
)

438 ià(
	gšÃrDocum’t
 =ğ
focu£dNode
->
docum’t
())

439 
fšdFocu§bËNodeInDœeùiÚ
(
šÃrDocum’t
, 
focu£dNode
, 
dœeùiÚ
, 
ev’t
, 
şo£¡FocusCªdid©e
);

443 
FocusCªdid©e
 
	gÿndid©eP¬’t
 = FocusCªdid©e(
ÿndid©e
);

444 
di¡ªûD©aFÜNode
(
dœeùiÚ
, 
focu£dNode
, 
ÿndid©eP¬’t
);

447 ià(
	gÿndid©eP¬’t
.
	gdi¡ªû
 < 
	gşo£¡FocusCªdid©e
.distance)

448 
fšdFocu§bËNodeInDœeùiÚ
(
šÃrDocum’t
, 
focu£dNode
, 
dœeùiÚ
, 
ev’t
, 
şo£¡FocusCªdid©e
, 
ÿndid©eP¬’t
);

452 
boŞ
 
»lšquishesEd™šgFocus
(
Node
 *
node
)

454 
ASSERT
(
node
);

455 
ASSERT
(
node
->
isCÚ‹ÁEd™abË
());

457 
Node
* 
	groÙ
 = 
node
->
roÙEd™abËEËm’t
();

458 
F¿me
* 
	gäame
 = 
node
->
docum’t
()->
äame
();

459 ià(!
	gäame
 || !
	groÙ
)

460  
	gçl£
;

462  
	gäame
->
ed™Ü
()->
shouldEndEd™šg
(
¿ngeOfCÚ‹Ás
(
roÙ
).
g‘
());

465 
ş—rS–eùiÚIfN“ded
(
F¿me
* 
ŞdFocu£dF¿me
, F¿me* 
ÃwFocu£dF¿me
, 
Node
* 
ÃwFocu£dNode
)

467 ià(!
	gŞdFocu£dF¿me
 || !
	gÃwFocu£dF¿me
)

470 ià(
	gŞdFocu£dF¿me
->
docum’t
(è!ğ
ÃwFocu£dF¿me
->document())

473 
S–eùiÚCÚŒŞËr
* 
	gs
 = 
ŞdFocu£dF¿me
->
£ËùiÚ
();

474 ià(
	gs
->
isNÚe
())

477 
boŞ
 
	gÿ»tBrowsšg
 = 
ŞdFocu£dF¿me
->
£‰šgs
()->
ÿ»tBrowsšgEÇbËd
();

478 ià(
	gÿ»tBrowsšg
)

481 
Node
* 
	g£ËùiÚS¹Node
 = 
s
->
£ËùiÚ
().
¡¬t
().
node
();

482 ià(
	g£ËùiÚS¹Node
 =ğ
ÃwFocu£dNode
 || 
£ËùiÚS¹Node
->
isDesûndªtOf
ÒewFocu£dNodeè|| s–eùiÚS¹Node->
shadowAnû¡ÜNode
() ==‚ewFocusedNode)

485 ià(
Node
* 
	gmou£P»ssNode
 = 
ÃwFocu£dF¿me
->
ev’tHªdËr
()->
mou£P»ssNode
())

486 ià(
mou£P»ssNode
->
»nd””
(è&& !mou£P»ssNode->
ÿnS¹S–eùiÚ
())

487 ià(
Node
* 
roÙ
 = 
s
->
roÙEd™abËEËm’t
())

488 ià(
Node
* 
shadowAnû¡ÜNode
 = 
roÙ
->shadowAncestorNode())

491 ià(!
shadowAnû¡ÜNode
->
hasTagName
(
šputTag
è&& !shadowAnû¡ÜNode->hasTagName(
‹x»aTag
))

494 
	gs
->
ş—r
();

497 
boŞ
 
	gFocusCÚŒŞËr
::
£tFocu£dNode
(
Node
* 
node
, 
PassRefPŒ
<
F¿me
> 
ÃwFocu£dF¿me
)

499 
	gRefPŒ
<
	gF¿me
> 
	gŞdFocu£dF¿me
 = 
focu£dF¿me
();

500 
	gRefPŒ
<
	gDocum’t
> 
	gŞdDocum’t
 = 
ŞdFocu£dF¿me
 ? oldFocu£dF¿me->
docum’t
() : 0;

502 
Node
* 
	gŞdFocu£dNode
 = 
ŞdDocum’t
 ? oldDocum’t->
focu£dNode
() : 0;

503 ià(
	gŞdFocu£dNode
 =ğ
node
)

504  
Œue
;

507 ià(
	gŞdFocu£dNode
 && oldFocu£dNode->
roÙEd™abËEËm’t
(è=ğ
ŞdFocu£dNode
 && !
»lšquishesEd™šgFocus
(oldFocusedNode))

508  
çl£
;

510 
ş—rS–eùiÚIfN“ded
(
ŞdFocu£dF¿me
.
g‘
(), 
ÃwFocu£dF¿me
.g‘(), 
node
);

512 ià(!
	gnode
) {

513 ià(
	gŞdDocum’t
)

514 
	gŞdDocum’t
->
£tFocu£dNode
(0);

515 
	gm_·ge
->
ed™ÜCl›Á
()->
£tIÅutM‘hodS‹
(
çl£
);

516  
	gŒue
;

519 
	gRefPŒ
<
	gDocum’t
> 
	gÃwDocum’t
 = 
node
->
docum’t
();

521 ià(
	gÃwDocum’t
 &&‚ewDocum’t->
focu£dNode
(è=ğ
node
) {

522 
m_·ge
->
ed™ÜCl›Á
()->
£tIÅutM‘hodS‹
(
node
->
shouldU£IÅutM‘hod
());

523  
	gŒue
;

526 ià(
	gŞdDocum’t
 && oldDocum’ˆ!ğ
ÃwDocum’t
)

527 
ŞdDocum’t
->
£tFocu£dNode
(0);

529 
£tFocu£dF¿me
(
ÃwFocu£dF¿me
);

531 ià(
	gÃwDocum’t
)

532 
	gÃwDocum’t
->
£tFocu£dNode
(
node
);

534 
	gm_·ge
->
ed™ÜCl›Á
()->
£tIÅutM‘hodS‹
(
node
->
shouldU£IÅutM‘hod
());

536  
	gŒue
;

539 
	gFocusCÚŒŞËr
::
£tAùive
(
boŞ
 
aùive
)

541 ià(
m_isAùive
 =ğ
aùive
)

544 
	gm_isAùive
 = 
aùive
;

546 ià(
F¿meV›w
* 
	gv›w
 = 
m_·ge
->
mašF¿me
()->
v›w
()) {

547 ià(!
v›w
->
¶©fÜmWidg‘
()) {

548 
v›w
->
ÏyoutIfN“dedRecursive
();

549 
	gv›w
->
upd©eCÚŒŞTšts
();

553 
focu£dOrMašF¿me
()->
£ËùiÚ
()->
·geAùiv©iÚChªged
();

555 ià(
	gm_focu£dF¿me
 && 
isFocu£d
())

556 
di¥©chEv’tsOnWšdowAndFocu£dNode
(
m_focu£dF¿me
->
docum’t
(), 
aùive
);

	@FocusController.h

26 #iâdeà
FocusCÚŒŞËr_h


27 
	#FocusCÚŒŞËr_h


	)

29 
	~"FocusDœeùiÚ.h
"

30 
	~"S·tŸlNavig©iÚ.h
"

31 
	~<wtf/FÜw¬d.h
>

32 
	~<wtf/NÚcİyabË.h
>

33 
	~<wtf/RefPŒ.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gDocum’t
;

38 
şass
 
	gF¿me
;

39 
şass
 
	gKeybßrdEv’t
;

40 
şass
 
	gNode
;

41 
şass
 
	gPage
;

43 şas 
	cFocusCÚŒŞËr
 : 
public
 
NÚcİyabË
 {

44 
public
:

45 
FocusCÚŒŞËr
(
Page
*);

47 
£tFocu£dF¿me
(
PassRefPŒ
<
F¿me
>);

48 
F¿me
* 
focu£dF¿me
(ècÚ¡ {  
	gm_focu£dF¿me
.
g‘
(); }

49 
F¿me
* 
focu£dOrMašF¿me
();

51 
boŞ
 
£tIn™ŸlFocus
(
FocusDœeùiÚ
, 
KeybßrdEv’t
*);

52 
boŞ
 
advªûFocus
(
FocusDœeùiÚ
, 
KeybßrdEv’t
*, boŞ 
š™ŸlFocus
 = 
çl£
);

54 
boŞ
 
£tFocu£dNode
(
Node
*, 
PassRefPŒ
<
F¿me
>);

56 
£tAùive
(
boŞ
);

57 
boŞ
 
isAùive
(ècÚ¡ {  
	gm_isAùive
; }

59 
£tFocu£d
(
boŞ
);

60 
boŞ
 
isFocu£d
(ècÚ¡ {  
	gm_isFocu£d
; }

62 
	g´iv©e
:

63 
boŞ
 
advªûFocusDœeùiÚ®ly
(
FocusDœeùiÚ
, 
KeybßrdEv’t
*);

64 
boŞ
 
advªûFocusInDocum’tOrd”
(
FocusDœeùiÚ
, 
KeybßrdEv’t
*, boŞ 
š™ŸlFocus
);

66 
fšdFocu§bËNodeInDœeùiÚ
(
Docum’t
*, 
Node
*, 
FocusDœeùiÚ
, 
KeybßrdEv’t
*, 
FocusCªdid©e
& 
şo£¡FocusCªdid©e
,

67 cÚ¡ 
FocusCªdid©e
& 
·»ÁCªdid©e
 = FocusCandidate());

68 
d“pFšdFocu§bËNodeInDœeùiÚ
(
Node
*, Node*, 
FocusDœeùiÚ
, 
KeybßrdEv’t
*, 
FocusCªdid©e
&);

70 
Page
* 
	gm_·ge
;

71 
	gRefPŒ
<
	gF¿me
> 
	gm_focu£dF¿me
;

72 
boŞ
 
	gm_isAùive
;

73 
boŞ
 
	gm_isFocu£d
;

74 
boŞ
 
	gm_isChªgšgFocu£dF¿me
;

	@FocusDirection.h

26 #iâdeà
FocusDœeùiÚ_h


27 
	#FocusDœeùiÚ_h


	)

29 
Çme¥aû
 
	gWebCÜe
 {

30 
	eFocusDœeùiÚ
 {

31 
	gFocusDœeùiÚNÚe
 = 0,

32 
	gFocusDœeùiÚFÜw¬d
,

33 
	gFocusDœeùiÚBackw¬d
,

34 
	gFocusDœeùiÚUp
,

35 
	gFocusDœeùiÚDown
,

36 
	gFocusDœeùiÚLeá
,

37 
	gFocusDœeùiÚRight


	@Frame.cpp

29 
	~"cÚfig.h
"

30 
	~"F¿me.h
"

32 
	~"AµlyStyËCommªd.h
"

33 
	~"BefÜeUÆßdEv’t.h
"

34 
	~"CSSCompu‹dStyËDeş¬©iÚ.h
"

35 
	~"CSSMubËStyËDeş¬©iÚ.h
"

36 
	~"CSSPrİ”ty.h
"

37 
	~"CSSPrİ”tyNames.h
"

38 
	~"CachedCSSStyËSh“t.h
"

39 
	~"Chrome.h
"

40 
	~"DOMWšdow.h
"

41 
	~"DocLßd”.h
"

42 
	~"Docum’tTy³.h
"

43 
	~"Ed™šgText.h
"

44 
	~"Ed™ÜCl›Á.h
"

45 
	~"Ev’tNames.h
"

46 
	~"FlßtQuad.h
"

47 
	~"FocusCÚŒŞËr.h
"

48 
	~"F¿meLßd”.h
"

49 
	~"F¿meLßd”Cl›Á.h
"

50 
	~"F¿meV›w.h
"

51 
	~"G¿phicsCÚ‹xt.h
"

52 
	~"G¿phicsLay”.h
"

53 
	~"HTMLDocum’t.h
"

54 
	~"HTMLFÜmCÚŒŞEËm’t.h
"

55 
	~"HTMLFÜmEËm’t.h
"

56 
	~"HTMLF¿meEËm’tBa£.h
"

57 
	~"HTMLNames.h
"

58 
	~"HTMLTabËC–lEËm’t.h
"

59 
	~"H™Te¡ResuÉ.h
"

60 
	~"Loggšg.h
"

61 
	~"MedŸF—tu»Names.h
"

62 
	~"Navig©Ü.h
"

63 
	~"NodeLi¡.h
"

64 
	~"Page.h
"

65 
	~"PageGroup.h
"

66 
	~"ReguÏrEx´essiÚ.h
"

67 
	~"R’d”P¬t.h
"

68 
	~"R’d”TabËC–l.h
"

69 
	~"R’d”TextCÚŒŞ.h
"

70 
	~"R’d”Theme.h
"

71 
	~"R’d”V›w.h
"

72 
	~"SütCÚŒŞËr.h
"

73 
	~"SütSourûCode.h
"

74 
	~"SütV®ue.h
"

75 
	~"S‘tšgs.h
"

76 
	~"TextI‹¿tÜ.h
"

77 
	~"TextResourûDecod”.h
"

78 
	~"U£rCÚ‹ÁURLP©‹º.h
"

79 
	~"XMLNSNames.h
"

80 
	~"XMLNames.h
"

81 
	~"htmËd™šg.h
"

82 
	~"m¬kup.h
"

83 
	~"ÅruÁime_im¶.h
"

84 
	~"visibË_un™s.h
"

85 
	~<wtf/RefCouÁedL—kCouÁ”.h
>

86 
	~<wtf/StdLibExŒas.h
>

88 #ià
USE
(
ACCELERATED_COMPOSITING
)

89 
	~"R’d”Lay”Compos™Ü.h
"

92 #ià
USE
(
JSC
)

93 
	~"JSDOMWšdowSh–l.h
"

94 
	~"ruÁime_roÙ.h
"

97 #ià
ENABLE
(
SVG
)

98 
	~"SVGDocum’t.h
"

99 
	~"SVGDocum’tEx‹nsiÚs.h
"

100 
	~"SVGNames.h
"

101 
	~"XLškNames.h
"

104 #ià
ENABLE
(
WML
)

105 
	~"WMLNames.h
"

108 #ià
ENABLE
(
MATHML
)

109 
	~"M©hMLNames.h
"

112 #ià
ENABLE
(
TILED_BACKING_STORE
)

113 
	~"TedBackšgStÜe.h
"

116 
usšg
 
Çme¥aû
 
	g¡d
;

118 
Çme¥aû
 
	gWebCÜe
 {

120 
usšg
 
Çme¥aû
 
	gHTMLNames
;

122 #iâdeà
NDEBUG


123 
	gWTF
::
RefCouÁedL—kCouÁ”
 
äameCouÁ”
("Frame");

126 
šlše
 
F¿me
* 
·»ÁFromOwÃrEËm’t
(
HTMLF¿meOwÃrEËm’t
* 
owÃrEËm’t
)

128 ià(!
	gowÃrEËm’t
)

130  
	gowÃrEËm’t
->
docum’t
()->
äame
();

133 
	gF¿me
::
F¿me
(
Page
* 
·ge
, 
HTMLF¿meOwÃrEËm’t
* 
owÃrEËm’t
, 
F¿meLßd”Cl›Á
* 
äameLßd”Cl›Á
)

134 : 
m_·ge
(
·ge
)

135 , 
m_Œ“Node
(
this
, 
·»ÁFromOwÃrEËm’t
(
owÃrEËm’t
))

136 , 
m_lßd”
(
this
, 
äameLßd”Cl›Á
)

137 , 
m_»dœeùScheduËr
(
this
)

138 , 
m_owÃrEËm’t
(
owÃrEËm’t
)

139 , 
m_süt
(
this
)

140 , 
m_£ËùiÚCÚŒŞËr
(
this
)

141 , 
m_ed™Ü
(
this
)

142 , 
m_ev’tHªdËr
(
this
)

143 , 
m_ªim©iÚCÚŒŞËr
(
this
)

144 , 
m_liãSuµÜtTim”
(
this
, &
F¿me
::
liãSuµÜtTim”Fœed
)

145 #ià
ENABLE
(
ORIENTATION_EVENTS
)

146 , 
m_Ü›Á©iÚ
(0)

148 , 
m_highlightTextM©ches
(
çl£
)

149 , 
m_šV›wSourûMode
(
çl£
)

150 , 
m_ÃedsR—µlyStyËs
(
çl£
)

151 , 
m_isDiscÚÃùed
(
çl£
)

152 , 
m_exşudeFromTextS—rch
(
çl£
)

154 
F¿me
* 
	g·»Á
 = 
·»ÁFromOwÃrEËm’t
(
owÃrEËm’t
);

155 
	gm_zoomFaùÜ
 = 
·»Á
 ?…¬’t->
m_zoomFaùÜ
 : 1.0f;

157 
	gAtomicSŒšg
::
š™
();

158 
	gHTMLNames
::
š™
();

159 
	gQu®if›dName
::
š™
();

160 
	gMedŸF—tu»Names
::
š™
();

162 #ià
ENABLE
(
SVG
)

163 
	gSVGNames
::
š™
();

164 
	gXLškNames
::
š™
();

167 #ià
ENABLE
(
WML
)

168 
	gWMLNames
::
š™
();

171 #ià
ENABLE
(
MATHML
)

172 
	gM©hMLNames
::
š™
();

175 
	gXMLNSNames
::
š™
();

176 
	gXMLNames
::
š™
();

178 ià(!
	gowÃrEËm’t
) {

179 
	g·ge
->
£tMašF¿me
(
this
);

180 #ià
ENABLE
(
TILED_BACKING_STORE
)

182 
£tTedBackšgStÜeEÇbËd
(
·ge
->
£‰šgs
()->
tedBackšgStÜeEÇbËd
());

185 
	g·ge
->
šüem’tF¿meCouÁ
();

187 
ASSERT
((!(
owÃrEËm’t
->
m_cÚ‹ÁF¿me
)) || (ownerElement->m_contentFrame->ownerElement() != ownerElement));

188 
	gowÃrEËm’t
->
	gm_cÚ‹ÁF¿me
 = 
this
;

191 #iâdeà
NDEBUG


192 
	gäameCouÁ”
.
šüem’t
();

196 
	gF¿me
::~
F¿me
()

198 
£tV›w
(0);

199 
lßd”
()->
ÿnûlAndCË¬
();

203 
ASSERT
(!
m_liãSuµÜtTim”
.
isAùive
());

205 #iâdeà
NDEBUG


206 
	gäameCouÁ”
.
deüem’t
();

209 
discÚÃùOwÃrEËm’t
();

211 ià(
	gm_domWšdow
)

212 
	gm_domWšdow
->
discÚÃùF¿me
();

213 
süt
()->
ş—rWšdowSh–l
();

215 
	gHashS‘
<
	gDOMWšdow
*>::
™”©Ü
 
’d
 = 
m_liveFÜm”Wšdows
.end();

216 
	gHashS‘
<
	gDOMWšdow
*>::
™”©Ü
 
™
 = 
m_liveFÜm”Wšdows
.
begš
(); 
	g™
 !ğ
’d
; ++it)

217 (*
	g™
)->
discÚÃùF¿me
();

219 ià(
	gm_v›w
) {

220 
	gm_v›w
->
hide
();

221 
	gm_v›w
->
ş—rF¿me
();

224 
ASSERT
(!
m_liãSuµÜtTim”
.
isAùive
());

227 
	gF¿me
::
š™
()

229 
m_lßd”
.
š™
();

232 
F¿meLßd”
* 
	gF¿me
::
lßd”
() const

234  &
m_lßd”
;

237 
RedœeùScheduËr
* 
	gF¿me
::
»dœeùScheduËr
() const

239  &
m_»dœeùScheduËr
;

242 
F¿meV›w
* 
	gF¿me
::
v›w
() const

244  
m_v›w
.
g‘
();

247 
	gF¿me
::
£tV›w
(
PassRefPŒ
<
F¿meV›w
> 
v›w
)

252 ià(
m_v›w
)

253 
m_v›w
->
d‘achCu¡omSüŞlb¬s
();

258 ià(!
	gv›w
 && 
	gm_doc
 && m_doc->
©ched
(è&& !m_doc->
šPageCache
()) {

260 
	gm_doc
->
d‘ach
();

261 ià(
	gm_v›w
)

262 
	gm_v›w
->
unscheduËR–ayout
();

264 
ev’tHªdËr
()->
ş—r
();

266 
	gm_v›w
 = 
v›w
;

271 
lßd”
()->
»£tMuÉËFÜmSubmissiÚPrÙeùiÚ
();

273 #ià
ENABLE
(
TILED_BACKING_STORE
)

274 ià(
	gm_v›w
 && 
tedBackšgStÜe
())

275 
	gm_v›w
->
£tPaštsEÁœeCÚ‹Ás
(
Œue
);

279 
SütCÚŒŞËr
* 
	gF¿me
::
süt
()

281  &
m_süt
;

284 
Docum’t
* 
	gF¿me
::
docum’t
() const

286  
m_doc
.
g‘
();

289 
	gF¿me
::
£tDocum’t
(
PassRefPŒ
<
Docum’t
> 
ÃwDoc
)

291 ià(
m_doc
 && m_doc->
©ched
(è&& !m_doc->
šPageCache
()) {

293 
m_doc
->
d‘ach
();

296 
	gm_doc
 = 
ÃwDoc
;

297 
£ËùiÚ
()->
upd©eSecu»KeybßrdEÁryIfAùive
();

299 ià(
	gm_doc
 && !m_doc->
©ched
())

300 
	gm_doc
->
©ch
();

303 
	gm_süt
.
upd©eDocum’t
();

306 #ià
ENABLE
(
ORIENTATION_EVENTS
)

307 
	gF¿me
::
£ndOr›Á©iÚChªgeEv’t
(
Ü›Á©iÚ
)

309 
m_Ü›Á©iÚ
 = 
Ü›Á©iÚ
;

310 ià(
Docum’t
* 
	gdoc
 = 
docum’t
())

311 
doc
->
di¥©chWšdowEv’t
(
Ev’t
::
ü—‹
(
ev’tNames
().
Ü›Á©iÚchªgeEv’t
, 
çl£
, false));

315 
S‘tšgs
* 
	gF¿me
::
£‰šgs
() const

317  
m_·ge
 ? m_·ge->
£‰šgs
() : 0;

320 
SŒšg
 
	gF¿me
::
£ËùedText
() const

322  
¶ašText
(
£ËùiÚ
()->
toNÜm®izedRªge
().
g‘
());

325 
IÁReù
 
	gF¿me
::
fœ¡ReùFÜRªge
(
Rªge
* 
¿nge
) const

327 
exŒaWidthToEndOfLše
 = 0;

328 
Exû±iÚCode
 
	gec
 = 0;

329 
ASSERT
(
¿nge
->
¡¬tCÚš”
(
ec
));

330 
ASSERT
(
¿nge
->
’dCÚš”
(
ec
));

332 
IÆšeBox
* 
	g¡¬tIÆšeBox
;

333 
	g¡¬tC¬‘Off£t
;

334 
	g¿nge
->
¡¬tPos™iÚ
().
g‘IÆšeBoxAndOff£t
(
DOWNSTREAM
, 
¡¬tIÆšeBox
, 
¡¬tC¬‘Off£t
);

336 
R’d”Objeù
* 
	g¡¬tR’d””
 = 
¿nge
->
¡¬tCÚš”
(
ec
)->
»nd””
();

337 
IÁReù
 
	g¡¬tC¬‘Reù
 = 
¡¬tR’d””
->
loÿlC¬‘Reù
(
¡¬tIÆšeBox
, 
¡¬tC¬‘Off£t
, &
exŒaWidthToEndOfLše
);

338 ià(
	g¡¬tC¬‘Reù
 !ğ
IÁReù
())

339 
¡¬tC¬‘Reù
 = 
¡¬tR’d””
->
loÿlToAbsŞu‹Quad
(
FlßtReù
(¡¬tC¬‘Reù)).
’şosšgBoundšgBox
();

341 
IÆšeBox
* 
	g’dIÆšeBox
;

342 
	g’dC¬‘Off£t
;

343 
	g¿nge
->
’dPos™iÚ
().
g‘IÆšeBoxAndOff£t
(
UPSTREAM
, 
’dIÆšeBox
, 
’dC¬‘Off£t
);

345 
R’d”Objeù
* 
	g’dR’d””
 = 
¿nge
->
’dCÚš”
(
ec
)->
»nd””
();

346 
IÁReù
 
	g’dC¬‘Reù
 = 
’dR’d””
->
loÿlC¬‘Reù
(
’dIÆšeBox
, 
’dC¬‘Off£t
);

347 ià(
	g’dC¬‘Reù
 !ğ
IÁReù
())

348 
’dC¬‘Reù
 = 
’dR’d””
->
loÿlToAbsŞu‹Quad
(
FlßtReù
ÓndC¬‘Reù)).
’şosšgBoundšgBox
();

350 ià(
	g¡¬tC¬‘Reù
.
y
(è=ğ
’dC¬‘Reù
.y()) {

352  
IÁReù
(
mš
(
¡¬tC¬‘Reù
.
x
(), 
’dC¬‘Reù
.x()),

353 
¡¬tC¬‘Reù
.
y
(),

354 
abs
(
’dC¬‘Reù
.
x
(è- 
¡¬tC¬‘Reù
.x()),

355 
max
(
¡¬tC¬‘Reù
.
height
(), 
’dC¬‘Reù
.height()));

359  
IÁReù
(
¡¬tC¬‘Reù
.
x
(),

360 
¡¬tC¬‘Reù
.
y
(),

361 
¡¬tC¬‘Reù
.
width
(è+ 
exŒaWidthToEndOfLše
,

362 
¡¬tC¬‘Reù
.
height
());

365 
S–eùiÚCÚŒŞËr
* 
	gF¿me
::
£ËùiÚ
() const

367  &
m_£ËùiÚCÚŒŞËr
;

370 
Ed™Ü
* 
	gF¿me
::
ed™Ü
() const

372  &
m_ed™Ü
;

375 
TextG¿nuÏr™y
 
	gF¿me
::
£ËùiÚG¿nuÏr™y
() const

377  
m_£ËùiÚCÚŒŞËr
.
g¿nuÏr™y
();

380 
S–eùiÚCÚŒŞËr
* 
	gF¿me
::
d¿gC¬‘CÚŒŞËr
() const

382  
m_·ge
->
d¿gC¬‘CÚŒŞËr
();

386 
Anim©iÚCÚŒŞËr
* 
	gF¿me
::
ªim©iÚ
() const

388  &
m_ªim©iÚCÚŒŞËr
;

391 
ReguÏrEx´essiÚ
* 
ü—‹RegExpFÜLab–s
(cÚ¡ 
VeùÜ
<
SŒšg
>& 
Ïb–s
)

396 
DEFINE_STATIC_LOCAL
(
ReguÏrEx´essiÚ
, 
wÜdRegExp
, ("\\w", 
TextCa£S’s™ive
));

397 
SŒšg
 
·‰”n
("(");

398 
	gnumLab–s
 = 
Ïb–s
.
size
();

399 
	gi
;

400 
	gi
 = 0; i < 
	gnumLab–s
; i++) {

401 
SŒšg
 
	gÏb–
 = 
Ïb–s
[
i
];

403 
boŞ
 
	g¡¬tsW™hWÜdCh¬
 = 
çl£
;

404 
boŞ
 
	g’dsW™hWÜdCh¬
 = 
çl£
;

405 ià(
	gÏb–
.
Ëngth
()) {

406 
	g¡¬tsW™hWÜdCh¬
 = 
wÜdRegExp
.
m©ch
(
Ïb–
.
sub¡ršg
(0, 1)) >= 0;

407 
	g’dsW™hWÜdCh¬
 = 
wÜdRegExp
.
m©ch
(
Ïb–
.
sub¡ršg
Öab–.
Ëngth
() - 1, 1)) >= 0;

410 ià(
	gi
)

411 
	g·‰”n
.
­³nd
("|");

415 ià(
	g¡¬tsW™hWÜdCh¬
)

416 
	g·‰”n
.
­³nd
("\\b");

417 
	g·‰”n
.
­³nd
(
Ïb–
);

418 ià(
	g’dsW™hWÜdCh¬
)

419 
	g·‰”n
.
­³nd
("\\b");

421 
	g·‰”n
.
­³nd
(")");

422  
Ãw
 
ReguÏrEx´essiÚ
(
·‰”n
, 
TextCa£In£ns™ive
);

425 
SŒšg
 
	gF¿me
::
£¬chFÜLab–sAboveC–l
(
ReguÏrEx´essiÚ
* 
»gExp
, 
HTMLTabËC–lEËm’t
* 
ûÎ
, 
size_t
* 
»suÉDi¡ªûFromS¹OfC–l
)

427 
R’d”Objeù
* 
	gûÎR’d””
 = 
ûÎ
->
»nd””
();

429 ià(
	gûÎR’d””
 && c–lR’d””->
isTabËC–l
()) {

430 
R’d”TabËC–l
* 
	gbËC–lR’d””
 = 
toR’d”TabËC–l
(
ûÎR’d””
);

431 
R’d”TabËC–l
* 
	gûÎAboveR’d””
 = 
bËC–lR’d””
->
bË
()->
ûÎAbove
(tableCellRenderer);

433 ià(
	gûÎAboveR’d””
) {

434 
HTMLTabËC–lEËm’t
* 
	gaboveC–l
 =

435 
¡©ic_ÿ¡
<
HTMLTabËC–lEËm’t
*>(
ûÎAboveR’d””
->
node
());

437 ià(
	gaboveC–l
) {

439 
size_t
 
	gËngthS—rched
 = 0;

440 
Node
* 
	gn
 = 
aboveC–l
->
fœ¡Chd
();‚;‚ = 
n
->
Œav”£NextNode
(aboveCell)) {

441 ià(
n
->
isTextNode
(è&&‚->
»nd””
(è&&‚->»nd””()->
¡yË
()->
visib™y
(è=ğ
VISIBLE
) {

443 
SŒšg
 
nodeSŒšg
 = 
n
->
nodeV®ue
();

444 
	gpos
 = 
»gExp
->
£¬chRev
(
nodeSŒšg
);

445 ià(
	gpos
 >= 0) {

446 ià(
»suÉDi¡ªûFromS¹OfC–l
)

447 *
»suÉDi¡ªûFromS¹OfC–l
 = 
ËngthS—rched
;

448  
	gnodeSŒšg
.
sub¡ršg
(
pos
, 
»gExp
->
m©chedL’gth
());

450 
	gËngthS—rched
 +ğ
nodeSŒšg
.
Ëngth
();

457 ià(
	g»suÉDi¡ªûFromS¹OfC–l
)

458 *
	g»suÉDi¡ªûFromS¹OfC–l
 = 
nÙFound
;

459  
SŒšg
();

462 
SŒšg
 
	gF¿me
::
£¬chFÜLab–sBefÜeEËm’t
(cÚ¡ 
VeùÜ
<SŒšg>& 
Ïb–s
, 
EËm’t
* 
–em’t
, 
size_t
* 
»suÉDi¡ªû
, 
boŞ
* 
»suÉIsInC–lAbove
)

464 
	gOwnPŒ
<
	gReguÏrEx´essiÚ
> 
»gExp
(
ü—‹RegExpFÜLab–s
(
Ïb–s
));

466 cÚ¡ 
	gch¬sS—rchedTh»shŞd
 = 500;

469 cÚ¡ 
	gmaxCh¬sS—rched
 = 600;

471 
HTMLTabËC–lEËm’t
* 
	g¡¬tšgTabËC–l
 = 0;

472 
boŞ
 
	g£¬chedC–lAbove
 = 
çl£
;

474 ià(
	g»suÉDi¡ªû
)

475 *
	g»suÉDi¡ªû
 = 
nÙFound
;

476 ià(
	g»suÉIsInC–lAbove
)

477 *
	g»suÉIsInC–lAbove
 = 
çl£
;

480 
	gËngthS—rched
 = 0;

481 
Node
* 
	gn
;

482 
	gn
 = 
–em’t
->
Œav”£P»viousNode
();

483 
	gn
 && 
	gËngthS—rched
 < 
	gch¬sS—rchedTh»shŞd
;

484 
	gn
 = 
n
->
Œav”£P»viousNode
())

486 ià(
n
->
hasTagName
(
fÜmTag
)

487 || (
n
->
isHTMLEËm’t
(è&& 
¡©ic_ÿ¡
<
EËm’t
*>Ò)->
isFÜmCÚŒŞEËm’t
()))

491 } ià(
	gn
->
hasTagName
(
tdTag
è&& !
	g¡¬tšgTabËC–l
) {

492 
	g¡¬tšgTabËC–l
 = 
¡©ic_ÿ¡
<
HTMLTabËC–lEËm’t
*>(
n
);

493 } ià(
	gn
->
hasTagName
(
ŒTag
è&& 
	g¡¬tšgTabËC–l
) {

494 
SŒšg
 
	g»suÉ
 = 
£¬chFÜLab–sAboveC–l
(
»gExp
.
g‘
(), 
¡¬tšgTabËC–l
, 
»suÉDi¡ªû
);

495 ià(!
	g»suÉ
.
isEm±y
()) {

496 ià(
	g»suÉIsInC–lAbove
)

497 *
	g»suÉIsInC–lAbove
 = 
Œue
;

498  
	g»suÉ
;

500 
	g£¬chedC–lAbove
 = 
Œue
;

501 } ià(
	gn
->
isTextNode
(è&&‚->
»nd””
(è&&‚->»nd””()->
¡yË
()->
visib™y
(è=ğ
VISIBLE
) {

503 
SŒšg
 
nodeSŒšg
 = 
n
->
nodeV®ue
();

505 ià(
	gËngthS—rched
 + 
	gnodeSŒšg
.
Ëngth
(è> 
	gmaxCh¬sS—rched
)

506 
	gnodeSŒšg
 = 
nodeSŒšg
.
right
(
ch¬sS—rchedTh»shŞd
 - 
ËngthS—rched
);

507 
	gpos
 = 
»gExp
->
£¬chRev
(
nodeSŒšg
);

508 ià(
	gpos
 >= 0) {

509 ià(
»suÉDi¡ªû
)

510 *
»suÉDi¡ªû
 = 
ËngthS—rched
;

511  
	gnodeSŒšg
.
sub¡ršg
(
pos
, 
»gExp
->
m©chedL’gth
());

513 
	gËngthS—rched
 +ğ
nodeSŒšg
.
Ëngth
();

519 ià(
	g¡¬tšgTabËC–l
 && !
	g£¬chedC–lAbove
) {

520 
SŒšg
 
	g»suÉ
 = 
£¬chFÜLab–sAboveC–l
(
»gExp
.
g‘
(), 
¡¬tšgTabËC–l
, 
»suÉDi¡ªû
);

521 ià(!
	g»suÉ
.
isEm±y
()) {

522 ià(
	g»suÉIsInC–lAbove
)

523 *
	g»suÉIsInC–lAbove
 = 
Œue
;

524  
	g»suÉ
;

527  
SŒšg
();

530 
SŒšg
 
m©chLab–sAgaš¡SŒšg
(cÚ¡ 
VeùÜ
<SŒšg>& 
Ïb–s
, cÚ¡ SŒšg& 
¡ršgToM©ch
)

532 ià(
	g¡ršgToM©ch
.
isEm±y
())

533  
SŒšg
();

535 
SŒšg
 
	gmubËSŒšgToM©ch
 = 
¡ršgToM©ch
;

538 
»¶aû
(
mubËSŒšgToM©ch
, 
ReguÏrEx´essiÚ
("\\d", 
TextCa£S’s™ive
), " ");

539 
	gmubËSŒšgToM©ch
.
»¶aû
('_', ' ');

541 
	gOwnPŒ
<
	gReguÏrEx´essiÚ
> 
»gExp
(
ü—‹RegExpFÜLab–s
(
Ïb–s
));

543 
	gpos
;

544 
	gËngth
;

545 
	gbe¡Pos
 = -1;

546 
	gbe¡L’gth
 = -1;

547 
	g¡¬t
 = 0;

549 
	gpos
 = 
»gExp
->
m©ch
(
mubËSŒšgToM©ch
, 
¡¬t
);

550 ià(
	gpos
 != -1) {

551 
Ëngth
 = 
»gExp
->
m©chedL’gth
();

552 ià(
	gËngth
 >ğ
be¡L’gth
) {

553 
be¡Pos
 = 
pos
;

554 
	gbe¡L’gth
 = 
Ëngth
;

556 
	g¡¬t
 = 
pos
 + 1;

558 } 
	gpos
 != -1);

560 ià(
	gbe¡Pos
 != -1)

561  
mubËSŒšgToM©ch
.
sub¡ršg
(
be¡Pos
, 
be¡L’gth
);

562  
SŒšg
();

565 
SŒšg
 
	gF¿me
::
m©chLab–sAgaš¡EËm’t
(cÚ¡ 
VeùÜ
<SŒšg>& 
Ïb–s
, 
EËm’t
* 
–em’t
)

571 
SŒšg
 
	g»suÉFromNameA‰ribu‹
 = 
m©chLab–sAgaš¡SŒšg
(
Ïb–s
, 
–em’t
->
g‘A‰ribu‹
(
ÇmeA‰r
));

572 ià(!
	g»suÉFromNameA‰ribu‹
.
isEm±y
())

573  
	g»suÉFromNameA‰ribu‹
;

575  
m©chLab–sAgaš¡SŒšg
(
Ïb–s
, 
–em’t
->
g‘A‰ribu‹
(
idA‰r
));

578 cÚ¡ 
	gVisibËS–eùiÚ
& 
	gF¿me
::
m¬k
() const

580  
m_m¬k
;

583 
	gF¿me
::
£tM¬k
(cÚ¡ 
VisibËS–eùiÚ
& 
s
)

585 
ASSERT
(!
s
.
ba£
().
node
(è|| s.ba£().node()->
docum’t
() == document());

586 
ASSERT
(!
s
.
ex‹Á
().
node
(è|| s.ex‹Á().node()->
docum’t
() == document());

587 
ASSERT
(!
s
.
¡¬t
().
node
(è|| s.¡¬t().node()->
docum’t
() == document());

588 
ASSERT
(!
s
.
’d
().
node
(è|| s.’d().node()->
docum’t
() == document());

590 
	gm_m¬k
 = 
s
;

593 
	gF¿me
::
nÙifyR’d””OfS–eùiÚChªge
(
boŞ
 
u£rTrigg”ed
)

595 
R’d”Objeù
* 
»nd””
 = 0;

596 ià(
£ËùiÚ
()->
roÙEd™abËEËm’t
())

597 
	g»nd””
 = 
£ËùiÚ
()->
roÙEd™abËEËm’t
()->
shadowAnû¡ÜNode
()->
»nd””
();

600 ià(
	g»nd””
 &&„’d””->
isTextCÚŒŞ
())

601 
toR’d”TextCÚŒŞ
(
»nd””
)->
£ËùiÚChªged
(
u£rTrigg”ed
);

606 
boŞ
 
isF¿meEËm’t
(cÚ¡ 
Node
 *
n
)

608 ià(!
	gn
)

609  
	gçl£
;

610 
R’d”Objeù
 *
	g»nd””
 = 
n
->
»nd””
();

611 ià(!
	g»nd””
 || !»nd””->
isWidg‘
())

612  
	gçl£
;

613 
Widg‘
* 
	gwidg‘
 = 
toR’d”Widg‘
(
»nd””
)->
widg‘
();

614  
	gwidg‘
 && widg‘->
isF¿meV›w
();

617 
	gF¿me
::
£tFocu£dNodeIfN“ded
()

619 ià(
£ËùiÚ
()->
isNÚe
(è|| !£ËùiÚ()->
isFocu£d
())

622 
boŞ
 
	gÿ»tBrowsšg
 = 
£‰šgs
(è&& s‘tšgs()->
ÿ»tBrowsšgEÇbËd
();

623 ià(
	gÿ»tBrowsšg
) {

624 
Node
* 
	gªchÜ
 = 
’şosšgAnchÜEËm’t
(
£ËùiÚ
()->
ba£
());

625 ià(
	gªchÜ
) {

626 
·ge
()->
focusCÚŒŞËr
()->
£tFocu£dNode
(
ªchÜ
, 
this
);

631 
Node
* 
	grg‘
 = 
£ËùiÚ
()->
roÙEd™abËEËm’t
();

632 ià(
	grg‘
) {

633 
R’d”Objeù
* 
	g»nd””
 = 
rg‘
->
»nd””
();

637 
	g»nd””
) {

641 ià(
	grg‘
 &&¬g‘->
isMou£Focu§bË
(è&& !
isF¿meEËm’t
(
rg‘
)) {

642 
·ge
()->
focusCÚŒŞËr
()->
£tFocu£dNode
(
rg‘
, 
this
);

645 
	g»nd””
 = 
»nd””
->
·»Á
();

646 ià(
	g»nd””
)

647 
	grg‘
 = 
»nd””
->
node
();

649 
docum’t
()->
£tFocu£dNode
(0);

652 ià(
	gÿ»tBrowsšg
)

653 
·ge
()->
focusCÚŒŞËr
()->
£tFocu£dNode
(0, 
this
);

656 
	gF¿me
::
·štD¿gC¬‘
(
G¿phicsCÚ‹xt
* 
p
, 
tx
, 
ty
, cÚ¡ 
IÁReù
& 
şReù
) const

658 #ià
ENABLE
(
TEXT_CARET
)

659 
S–eùiÚCÚŒŞËr
* 
	gd¿gC¬‘CÚŒŞËr
 = 
m_·ge
->
d¿gC¬‘CÚŒŞËr
();

660 
ASSERT
(
d¿gC¬‘CÚŒŞËr
->
£ËùiÚ
().
isC¬‘
());

661 ià(
	gd¿gC¬‘CÚŒŞËr
->
£ËùiÚ
().
¡¬t
().
node
()->
docum’t
()->
äame
(è=ğ
this
)

662 
d¿gC¬‘CÚŒŞËr
->
·štC¬‘
(
p
, 
tx
, 
ty
, 
şReù
);

664 
UNUSED_PARAM
(
p
);

665 
UNUSED_PARAM
(
tx
);

666 
UNUSED_PARAM
(
ty
);

667 
UNUSED_PARAM
(
şReù
);

671 
	gF¿me
::
zoomFaùÜ
() const

673  
m_zoomFaùÜ
;

676 
ZoomMode
 
	gF¿me
::
zoomMode
() const

678  
m_·ge
->
£‰šgs
()->
zoomMode
();

681 
boŞ
 
	gF¿me
::
shouldAµlyTextZoom
() const

683  
m_zoomFaùÜ
 !ğ1.0à&& 
zoomMode
(è=ğ
ZoomTextOÆy
;

686 
boŞ
 
	gF¿me
::
shouldAµlyPageZoom
() const

688  
m_zoomFaùÜ
 !ğ1.0à&& 
zoomMode
(è=ğ
ZoomPage
;

691 
	gF¿me
::
£tZoomFaùÜ
(
³rûÁ
, 
ZoomMode
 
mode
)

693 ià(
	gm_zoomFaùÜ
 =ğ
³rûÁ
 && 
zoomMode
(è=ğ
mode
)

696 #ià
ENABLE
(
SVG
)

699 ià(
	gm_doc
->
isSVGDocum’t
()) {

700 ià(!
	g¡©ic_ÿ¡
<
	gSVGDocum’t
*>(
	gm_doc
.
g‘
())->
zoomAndPªEÇbËd
())

702 ià(
	gm_doc
->
»nd””
())

703 
	gm_doc
->
»nd””
()->
£tN“dsLayout
(
Œue
);

707 ià(
	gmode
 =ğ
ZoomPage
) {

709 
IÁPošt
 
süŞlPos™iÚ
 = 
v›w
()->scrollPosition();

710 
	g³rûÁDifã»nû
 = (
³rûÁ
 / 
m_zoomFaùÜ
);

711 
v›w
()->
£tSüŞlPos™iÚ
(
IÁPošt
(
süŞlPos™iÚ
.
x
(è* 
³rûÁDifã»nû
, süŞlPos™iÚ.
y
() *…ercentDifference));

714 
	gm_zoomFaùÜ
 = 
³rûÁ
;

715 
	gm_·ge
->
£‰šgs
()->
£tZoomMode
(
mode
);

717 
	gm_doc
->
»ÿlcStyË
(
Node
::
FÜû
);

719 
F¿me
* 
	gchd
 = 
Œ“
()->
fœ¡Chd
(); chd; chd = 
chd
->Œ“()->
ÃxtSiblšg
())

720 
chd
->
£tZoomFaùÜ
(
m_zoomFaùÜ
, 
mode
);

722 ià(
	gm_doc
->
»nd””
(è&& m_doc->»nd””()->
ÃedsLayout
(è&& 
v›w
()->
didFœ¡Layout
())

723 
v›w
()->
Ïyout
();

726 
	gF¿me
::
£tPrštšg
(
boŞ
 
´štšg
, 
mšPageWidth
, 
maxPageWidth
, boŞ 
adju¡V›wSize
)

728 
	gm_doc
->
£tPrštšg
(
´štšg
);

729 
v›w
()->
adju¡MedŸTy³FÜPrštšg
(
´štšg
);

731 
	gm_doc
->
upd©eStyËS–eùÜ
();

732 
v›w
()->
fÜûLayoutW™hPageWidthRªge
(
mšPageWidth
, 
maxPageWidth
, 
adju¡V›wSize
);

734 
F¿me
* 
	gchd
 = 
Œ“
()->
fœ¡Chd
(); chd; chd = 
chd
->Œ“()->
ÃxtSiblšg
())

735 
chd
->
£tPrštšg
(
´štšg
, 
mšPageWidth
, 
maxPageWidth
, 
adju¡V›wSize
);

738 
	gF¿me
::
£tJSStusB¬Text
(cÚ¡ 
SŒšg
& 
‹xt
)

740 
ASSERT
(
m_doc
);

741 
	gm_kjsStusB¬Text
 = 
‹xt
;

742 ià(
	gm_·ge
)

743 
	gm_·ge
->
chrome
()->
£tStusb¬Text
(
this
, 
m_kjsStusB¬Text
);

746 
	gF¿me
::
£tJSDeçuÉStusB¬Text
(cÚ¡ 
SŒšg
& 
‹xt
)

748 
ASSERT
(
m_doc
);

749 
	gm_kjsDeçuÉStusB¬Text
 = 
‹xt
;

750 ià(
	gm_·ge
)

751 
	gm_·ge
->
chrome
()->
£tStusb¬Text
(
this
, 
m_kjsDeçuÉStusB¬Text
);

754 
SŒšg
 
	gF¿me
::
jsStusB¬Text
() const

756  
m_kjsStusB¬Text
;

759 
SŒšg
 
	gF¿me
::
jsDeçuÉStusB¬Text
() const

761  
m_kjsDeçuÉStusB¬Text
;

764 
	gF¿me
::
£tN“dsR—µlyStyËs
()

769 ià(!
m_lßd”
.
ş›Á
()->
hasHTMLV›w
())

772 ià(
	gm_ÃedsR—µlyStyËs
)

775 
	gm_ÃedsR—µlyStyËs
 = 
Œue
;

779 ià(
v›w
())

780 
v›w
()->
scheduËR–ayout
();

783 
boŞ
 
	gF¿me
::
ÃedsR—µlyStyËs
() const

785  
m_ÃedsR—µlyStyËs
;

788 
	gF¿me
::
»­¶yStyËs
()

790 
m_ÃedsR—µlyStyËs
 = 
çl£
;

794 
	gm_doc
->
docLßd”
()->
£tAutoLßdImages
(
m_·ge
 && m_·ge->
£‰šgs
()->
lßdsImagesAutom©iÿÎy
());

800 
	gm_doc
->
upd©eStyËS–eùÜ
();

803 
	gF¿me
::
šjeùU£rSüts
(
U£rSütInjeùiÚTime
 
šjeùiÚTime
)

805 ià(!
m_·ge
)

809 cÚ¡ 
U£rSütM­
* 
	gu£rSüts
 = 
m_·ge
->
group
().
u£rSüts
();

810 ià(!
	gu£rSüts
)

812 
	gU£rSütM­
::
cÚ¡_™”©Ü
 
’d
 = 
u£rSüts
->end();

813 
	gU£rSütM­
::
cÚ¡_™”©Ü
 
™
 = 
u£rSüts
->
begš
(); 
	g™
 !ğ
’d
; ++it)

814 
šjeùU£rSütsFÜWÜld
(
™
->
fœ¡
.
g‘
(), *™->
£cÚd
, 
šjeùiÚTime
);

817 
	gF¿me
::
šjeùU£rSütsFÜWÜld
(
DOMW¿µ”WÜld
* 
wÜld
, cÚ¡ 
U£rSütVeùÜ
& 
u£rSüts
, 
U£rSütInjeùiÚTime
 
šjeùiÚTime
)

819 ià(
	gu£rSüts
.
isEm±y
())

822 
Docum’t
* 
	gdoc
 = 
docum’t
();

823 ià(!
	gdoc
)

826 
	gVeùÜ
<
	gSütSourûCode
> 
	gsourûCode
;

827 
	gcouÁ
 = 
u£rSüts
.
size
();

828 
	gi
 = 0; i < 
	gcouÁ
; ++i) {

829 
U£rSüt
* 
	gsüt
 = 
u£rSüts
[
i
].
g‘
();

830 ià(
	gsüt
->
šjeùiÚTime
(è=ğšjeùiÚTim&& 
U£rCÚ‹ÁURLP©‹º
::
m©chesP©‹ºs
(
doc
->
u¾
(), 
süt
->
wh™–i¡
(), süt->
bÏckli¡
()))

831 
	gm_süt
.
ev®u©eInWÜld
(
SütSourûCode
(
süt
->
sourû
(), süt->
u¾
()), 
wÜld
);

835 
boŞ
 
	gF¿me
::
shouldChªgeS–eùiÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
ÃwS–eùiÚ
) const

837  
shouldChªgeS–eùiÚ
(
£ËùiÚ
()->£ËùiÚ(), 
ÃwS–eùiÚ
,‚ewS–eùiÚ.
affš™y
(), 
çl£
);

840 
boŞ
 
	gF¿me
::
shouldChªgeS–eùiÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
ŞdS–eùiÚ
, cÚ¡ VisibËS–eùiÚ& 
ÃwS–eùiÚ
, 
EAffš™y
 
affš™y
, boŞ 
¡lS–eùšg
) const

842  
ed™Ü
()->
ş›Á
()->
shouldChªgeS–eùedRªge
(
ŞdS–eùiÚ
.
toNÜm®izedRªge
().
g‘
(), 
ÃwS–eùiÚ
.toNormalizedRange().get(),

843 
affš™y
, 
¡lS–eùšg
);

846 
boŞ
 
	gF¿me
::
shouldD–‘eS–eùiÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
£ËùiÚ
) const

848  
ed™Ü
()->
ş›Á
()->
shouldD–‘eRªge
(
£ËùiÚ
.
toNÜm®izedRªge
().
g‘
());

851 
boŞ
 
	gF¿me
::
isCÚ‹ÁEd™abË
() const

853 ià(
m_ed™Ü
.
ş›ÁIsEd™abË
())

854  
Œue
;

855  
	gm_doc
->
šDesignMode
();

858 
CSSMubËStyËDeş¬©iÚ
 *
	gF¿me
::
typšgStyË
() const

860  
m_typšgStyË
.
g‘
();

863 
	gF¿me
::
£tTypšgStyË
(
CSSMubËStyËDeş¬©iÚ
 *
¡yË
)

865 
m_typšgStyË
 = 
¡yË
;

868 
	gF¿me
::
ş—rTypšgStyË
()

870 
m_typšgStyË
 = 0;

873 
	gF¿me
::
compu‹AndS‘TypšgStyË
(
CSSStyËDeş¬©iÚ
 *
¡yË
, 
Ed™AùiÚ
 
ed™šgAùiÚ
)

875 ià(!
	g¡yË
 || !¡yË->
Ëngth
()) {

876 
ş—rTypšgStyË
();

881 
	gRefPŒ
<
	gCSSMubËStyËDeş¬©iÚ
> 
	gmubËStyË
 = 
¡yË
->
makeMubË
();

882 ià(
typšgStyË
()) {

883 
typšgStyË
()->
m”ge
(
mubËStyË
.
g‘
());

884 
	gmubËStyË
 = 
typšgStyË
();

887 
	gRefPŒ
<
	gCSSV®ue
> 
	gunicodeBidi
;

888 
	gRefPŒ
<
	gCSSV®ue
> 
	gdœeùiÚ
;

889 ià(
	ged™šgAùiÚ
 =ğ
Ed™AùiÚS‘Wr™šgDœeùiÚ
) {

890 
unicodeBidi
 = 
mubËStyË
->
g‘Prİ”tyCSSV®ue
(
CSSPrİ”tyUnicodeBidi
);

891 
	gdœeùiÚ
 = 
mubËStyË
->
g‘Prİ”tyCSSV®ue
(
CSSPrİ”tyDœeùiÚ
);

894 
Node
* 
	gnode
 = 
£ËùiÚ
()->£ËùiÚ().
visibËS¹
().
d“pEquiv®’t
().
node
();

895 
compu‹dStyË
(
node
)->
diff
(
mubËStyË
.
g‘
());

897 ià(
	ged™šgAùiÚ
 =ğ
Ed™AùiÚS‘Wr™šgDœeùiÚ
 && 
unicodeBidi
) {

898 
ASSERT
(
unicodeBidi
->
isPrim™iveV®ue
());

899 
	gmubËStyË
->
£tPrİ”ty
(
CSSPrİ”tyUnicodeBidi
, 
¡©ic_ÿ¡
<
CSSPrim™iveV®ue
*>(
unicodeBidi
.
g‘
())->
g‘Id’t
());

900 ià(
	gdœeùiÚ
) {

901 
ASSERT
(
dœeùiÚ
->
isPrim™iveV®ue
());

902 
	gmubËStyË
->
£tPrİ”ty
(
CSSPrİ”tyDœeùiÚ
, 
¡©ic_ÿ¡
<
CSSPrim™iveV®ue
*>(
dœeùiÚ
.
g‘
())->
g‘Id’t
());

907 
	gRefPŒ
<
	gCSSMubËStyËDeş¬©iÚ
> 
	gblockStyË
 = 
mubËStyË
->
cİyBlockPrİ”t›s
();

908 
	gblockStyË
->
diff
(
mubËStyË
.
g‘
());

909 ià(
	gblockStyË
->
Ëngth
() > 0)

910 
­¶yCommªd
(
AµlyStyËCommªd
::
ü—‹
(
docum’t
(), 
blockStyË
.
g‘
(), 
ed™šgAùiÚ
));

913 
	gm_typšgStyË
 = 
mubËStyË
.
»Ëa£
();

916 
SŒšg
 
	gF¿me
::
£ËùiÚS¹StyËPrİ”tyV®ue
(
¡yËPrİ”tyID
) const

918 
Node
 *
nodeToRemove
;

919 
	gRefPŒ
<
	gCSSStyËDeş¬©iÚ
> 
	g£ËùiÚStyË
 = 
£ËùiÚCompu‹dStyË
(
nodeToRemove
);

920 ià(!
	g£ËùiÚStyË
)

921  
SŒšg
();

923 
SŒšg
 
	gv®ue
 = 
£ËùiÚStyË
->
g‘Prİ”tyV®ue
(
¡yËPrİ”tyID
);

925 ià(
	gnodeToRemove
) {

926 
Exû±iÚCode
 
	gec
 = 0;

927 
	gnodeToRemove
->
»move
(
ec
);

928 
ASSERT
(!
ec
);

931  
	gv®ue
;

934 
	gPassRefPŒ
<
	gCSSCompu‹dStyËDeş¬©iÚ
> 
	gF¿me
::
£ËùiÚCompu‹dStyË
(
Node
*& 
nodeToRemove
) const

936 
nodeToRemove
 = 0;

938 ià(
£ËùiÚ
()->
isNÚe
())

941 
	gRefPŒ
<
	gRªge
> 
¿nge
(
£ËùiÚ
()->
toNÜm®izedRªge
());

942 
Pos™iÚ
 
	gpos
 = 
¿nge
->
ed™šgS¹Pos™iÚ
();

944 
EËm’t
 *
	g–em
 = 
pos
.
–em’t
();

945 ià(!
	g–em
)

948 
	gRefPŒ
<
	gEËm’t
> 
	g¡yËEËm’t
 = 
–em
;

949 
Exû±iÚCode
 
	gec
 = 0;

951 ià(
	gm_typšgStyË
) {

952 
	g¡yËEËm’t
 = 
docum’t
()->
ü—‹EËm’t
(
¥ªTag
, 
çl£
);

954 
	g¡yËEËm’t
->
£tA‰ribu‹
(
¡yËA‰r
, 
m_typšgStyË
->
cssText
().
im¶
(), 
ec
);

955 
ASSERT
(!
ec
);

957 
	g¡yËEËm’t
->
­³ndChd
(
docum’t
()->
ü—‹Ed™šgTextNode
(""), 
ec
);

958 
ASSERT
(!
ec
);

960 ià(
	g–em
->
»nd””
(è&&ƒËm->»nd””()->
ÿnHaveChd»n
()) {

961 
	g–em
->
­³ndChd
(
¡yËEËm’t
, 
ec
);

963 
Node
 *
	g·»Á
 = 
–em
->
·»Á
();

964 
Node
 *
	gÃxt
 = 
–em
->
ÃxtSiblšg
();

966 ià(
	gÃxt
)

967 
	g·»Á
->
š£¹BefÜe
(
¡yËEËm’t
, 
Ãxt
, 
ec
);

969 
	g·»Á
->
­³ndChd
(
¡yËEËm’t
, 
ec
);

971 
ASSERT
(!
ec
);

973 
	gnodeToRemove
 = 
¡yËEËm’t
.
g‘
();

976  
compu‹dStyË
(
¡yËEËm’t
.
»Ëa£
());

979 
	gF¿me
::
‹xtF›ldDidBegšEd™šg
(
EËm’t
* 
e
)

981 ià(
ed™Ü
()->
ş›Á
())

982 
ed™Ü
()->
ş›Á
()->
‹xtF›ldDidBegšEd™šg
(
e
);

985 
	gF¿me
::
‹xtF›ldDidEndEd™šg
(
EËm’t
* 
e
)

987 ià(
ed™Ü
()->
ş›Á
())

988 
ed™Ü
()->
ş›Á
()->
‹xtF›ldDidEndEd™šg
(
e
);

991 
	gF¿me
::
‹xtDidChªgeInTextF›ld
(
EËm’t
* 
e
)

993 ià(
ed™Ü
()->
ş›Á
())

994 
ed™Ü
()->
ş›Á
()->
‹xtDidChªgeInTextF›ld
(
e
);

997 
boŞ
 
	gF¿me
::
doTextF›ldCommªdFromEv’t
(
EËm’t
* 
e
, 
KeybßrdEv’t
* 
ke
)

999 ià(
ed™Ü
()->
ş›Á
())

1000  
ed™Ü
()->
ş›Á
()->
doTextF›ldCommªdFromEv’t
(
e
, 
ke
);

1002  
	gçl£
;

1005 
	gF¿me
::
‹xtWlBeD–‘edInTextF›ld
(
EËm’t
* 
šput
)

1007 ià(
ed™Ü
()->
ş›Á
())

1008 
ed™Ü
()->
ş›Á
()->
‹xtWlBeD–‘edInTextF›ld
(
šput
);

1011 
	gF¿me
::
‹xtDidChªgeInTextA»a
(
EËm’t
* 
e
)

1013 ià(
ed™Ü
()->
ş›Á
())

1014 
ed™Ü
()->
ş›Á
()->
‹xtDidChªgeInTextA»a
(
e
);

1017 
	gF¿me
::
­¶yEd™šgStyËToBodyEËm’t
() const

1019 
RefPŒ
<
NodeLi¡
> 
li¡
 = 
m_doc
->
g‘EËm’tsByTagName
("body");

1020 
	gËn
 = 
li¡
->
Ëngth
();

1021 
	gi
 = 0; i < 
	gËn
; i++)

1022 
­¶yEd™šgStyËToEËm’t
(
¡©ic_ÿ¡
<
EËm’t
*>(
li¡
->
™em
(
i
)));

1025 
	gF¿me
::
»moveEd™šgStyËFromBodyEËm’t
() const

1027 
RefPŒ
<
NodeLi¡
> 
li¡
 = 
m_doc
->
g‘EËm’tsByTagName
("body");

1028 
	gËn
 = 
li¡
->
Ëngth
();

1029 
	gi
 = 0; i < 
	gËn
; i++)

1030 
»moveEd™šgStyËFromEËm’t
(
¡©ic_ÿ¡
<
EËm’t
*>(
li¡
->
™em
(
i
)));

1033 
	gF¿me
::
­¶yEd™šgStyËToEËm’t
(
EËm’t
* 
–em’t
) const

1035 ià(!
–em’t
)

1038 
CSSStyËDeş¬©iÚ
* 
	g¡yË
 = 
–em’t
->
¡yË
();

1039 
ASSERT
(
¡yË
);

1041 
Exû±iÚCode
 
	gec
 = 0;

1042 
	g¡yË
->
£tPrİ”ty
(
CSSPrİ”tyWÜdW¿p
, "b»ak-wÜd", 
çl£
, 
ec
);

1043 
ASSERT
(!
ec
);

1044 
	g¡yË
->
£tPrİ”ty
(
CSSPrİ”tyWebk™Nb¥Mode
, "¥aû", 
çl£
, 
ec
);

1045 
ASSERT
(!
ec
);

1046 
	g¡yË
->
£tPrİ”ty
(
CSSPrİ”tyWebk™LšeB»ak
, "aá”-wh™e-¥aû", 
çl£
, 
ec
);

1047 
ASSERT
(!
ec
);

1050 
	gF¿me
::
»moveEd™šgStyËFromEËm’t
(
EËm’t
*) const

1054 #iâdeà
NDEBUG


1055 
HashS‘
<
F¿me
*>& 
k“pAliveS‘
()

1057 
DEFINE_STATIC_LOCAL
(
HashS‘
<
F¿me
*>, 
¡©icK“pAliveS‘
, ());

1058  
	g¡©icK“pAliveS‘
;

1062 
	gF¿me
::
k“pAlive
()

1064 ià(
m_liãSuµÜtTim”
.
isAùive
())

1066 #iâdeà
NDEBUG


1067 
k“pAliveS‘
().
add
(
this
);

1069 
»f
();

1070 
	gm_liãSuµÜtTim”
.
¡¬tOÃShÙ
(0);

1073 #iâdeà
NDEBUG


1074 
	gF¿me
::
ÿnûlAÎK“pAlive
()

1076 
HashS‘
<
F¿me
*>::
™”©Ü
 
’d
 = 
k“pAliveS‘
().end();

1077 
	gHashS‘
<
	gF¿me
*>::
™”©Ü
 
™
 = 
k“pAliveS‘
().
begš
(); 
	g™
 !ğ
’d
; ++it) {

1078 
F¿me
* 
	gäame
 = *
™
;

1079 
	gäame
->
	gm_liãSuµÜtTim”
.
¡İ
();

1080 
	gäame
->
d”ef
();

1082 
k“pAliveS‘
().
ş—r
();

1086 
	gF¿me
::
liãSuµÜtTim”Fœed
(
Tim”
<
F¿me
>*)

1088 #iâdeà
NDEBUG


1089 
k“pAliveS‘
().
»move
(
this
);

1091 
d”ef
();

1094 
	gF¿me
::
ş—rDOMWšdow
()

1096 ià(
m_domWšdow
) {

1097 
m_liveFÜm”Wšdows
.
add
(
m_domWšdow
.
g‘
());

1098 
	gm_domWšdow
->
ş—r
();

1100 
	gm_domWšdow
 = 0;

1103 
R’d”V›w
* 
	gF¿me
::
cÚ‹ÁR’d””
() const

1105 
Docum’t
* 
doc
 = 
docum’t
();

1106 ià(!
	gdoc
)

1108 
R’d”Objeù
* 
	gobjeù
 = 
doc
->
»nd””
();

1109 ià(!
	gobjeù
)

1111 
ASSERT
(
objeù
->
isR’d”V›w
());

1112  
toR’d”V›w
(
objeù
);

1115 
HTMLF¿meOwÃrEËm’t
* 
	gF¿me
::
owÃrEËm’t
() const

1117  
m_owÃrEËm’t
;

1120 
R’d”P¬t
* 
	gF¿me
::
owÃrR’d””
() const

1122 
HTMLF¿meOwÃrEËm’t
* 
owÃrEËm’t
 = 
m_owÃrEËm’t
;

1123 ià(!
	gowÃrEËm’t
)

1125 
R’d”Objeù
* 
	gobjeù
 = 
owÃrEËm’t
->
»nd””
();

1126 ià(!
	gobjeù
)

1132 ià(!
	gobjeù
->
isR’d”P¬t
())

1134  
toR’d”P¬t
(
objeù
);

1137 
boŞ
 
	gF¿me
::
isDiscÚÃùed
() const

1139  
m_isDiscÚÃùed
;

1142 
	gF¿me
::
£tIsDiscÚÃùed
(
boŞ
 
isDiscÚÃùed
)

1144 
m_isDiscÚÃùed
 = 
isDiscÚÃùed
;

1147 
boŞ
 
	gF¿me
::
exşudeFromTextS—rch
() const

1149  
m_exşudeFromTextS—rch
;

1152 
	gF¿me
::
£tExşudeFromTextS—rch
(
boŞ
 
exşude
)

1154 
m_exşudeFromTextS—rch
 = 
exşude
;

1158 
FlßtReù
 
	gF¿me
::
£ËùiÚBounds
(
boŞ
 
şToVisibËCÚ‹Á
) const

1160 
R’d”V›w
* 
roÙ
 = 
cÚ‹ÁR’d””
();

1161 
F¿meV›w
* 
	gv›w
 = 
m_v›w
.
g‘
();

1162 ià(!
	groÙ
 || !
	gv›w
)

1163  
IÁReù
();

1165 
IÁReù
 
	g£ËùiÚReù
 = 
roÙ
->
£ËùiÚBounds
(
şToVisibËCÚ‹Á
);

1166  
	gşToVisibËCÚ‹Á
 ? 
š‹r£ùiÚ
(
£ËùiÚReù
, 
v›w
->
visibËCÚ‹ÁReù
()) : selectionRect;

1169 
	gF¿me
::
£ËùiÚTextReùs
(
VeùÜ
<
FlßtReù
>& 
»ùs
, 
S–eùiÚReùRe¥eùT¿nsfÜms
 
»¥eùT¿nsfÜms
, 
boŞ
 
şToVisibËCÚ‹Á
) const

1171 
R’d”V›w
* 
	groÙ
 = 
cÚ‹ÁR’d””
();

1172 ià(!
	groÙ
)

1175 
	gRefPŒ
<
	gRªge
> 
	g£ËùedRªge
 = 
£ËùiÚ
()->
toNÜm®izedRªge
();

1177 
FlßtReù
 
	gvisibËCÚ‹ÁReù
 = 
m_v›w
->
visibËCÚ‹ÁReù
();

1181 ià(
	g»¥eùT¿nsfÜms
) {

1182 
	gVeùÜ
<
	gFlßtQuad
> 
	gquads
;

1183 
	g£ËùedRªge
->
‹xtQuads
(
quads
, 
Œue
);

1185 
	gsize
 = 
quads
.
size
();

1186 
	gi
 = 0; i < 
	gsize
; ++i) {

1187 
IÁReù
 
	gcu¼Reù
 = 
quads
[
i
].
’şosšgBoundšgBox
();

1188 ià(
	gşToVisibËCÚ‹Á
)

1189 
	g»ùs
.
­³nd
(
š‹r£ùiÚ
(
cu¼Reù
, 
visibËCÚ‹ÁReù
));

1191 
	g»ùs
.
­³nd
(
cu¼Reù
);

1194 
	gVeùÜ
<
	gIÁReù
> 
	gštReùs
;

1195 
	g£ËùedRªge
->
‹xtReùs
(
štReùs
, 
Œue
);

1197 
	gsize
 = 
štReùs
.
size
();

1198 
	gi
 = 0; i < 
	gsize
; ++i) {

1199 ià(
	gşToVisibËCÚ‹Á
)

1200 
	g»ùs
.
­³nd
(
š‹r£ùiÚ
(
štReùs
[
i
], 
visibËCÚ‹ÁReù
));

1202 
	g»ùs
.
­³nd
(
štReùs
[
i
]);

1208 
HTMLFÜmEËm’t
 *
sÿnFÜFÜm
(
Node
 *
¡¬t
)

1210 
Node
 *
	gn
;

1211 
	gn
 = 
¡¬t
;‚;‚ = 
n
->
Œav”£NextNode
()) {

1212 ià(
n
->
hasTagName
(
fÜmTag
))

1213  
¡©ic_ÿ¡
<
HTMLFÜmEËm’t
*>(
n
);

1214 ià(
	gn
->
isHTMLEËm’t
(è&& 
	g¡©ic_ÿ¡
<
	gEËm’t
*>Ò)->
isFÜmCÚŒŞEËm’t
())

1215  
	g¡©ic_ÿ¡
<
	gHTMLFÜmCÚŒŞEËm’t
*>(
	gn
)->
fÜm
();

1216 ià(
	gn
->
hasTagName
(
äameTag
è||‚->hasTagName(
iäameTag
)) {

1217 
Node
 *
	gchdDoc
 = 
¡©ic_ÿ¡
<
HTMLF¿meEËm’tBa£
*>(
n
)->
cÚ‹ÁDocum’t
();

1218 ià(
HTMLFÜmEËm’t
 *
	gäameResuÉ
 = 
sÿnFÜFÜm
(
chdDoc
))

1219  
äameResuÉ
;

1226 
HTMLFÜmEËm’t
 *
	gF¿me
::
cu¼’tFÜm
() const

1229 
Node
 *
¡¬t
 = 
m_doc
 ? m_doc->
focu£dNode
() : 0;

1230 ià(!
	g¡¬t
)

1231 
	g¡¬t
 = 
£ËùiÚ
()->
¡¬t
().
node
();

1234 
Node
 *
	gn
;

1235 
	gn
 = 
¡¬t
;‚;‚ = 
n
->
·»ÁNode
()) {

1236 ià(
n
->
hasTagName
(
fÜmTag
))

1237  
¡©ic_ÿ¡
<
HTMLFÜmEËm’t
*>(
n
);

1238 ià(
	gn
->
isHTMLEËm’t
(è&& 
	g¡©ic_ÿ¡
<
	gEËm’t
*>Ò)->
isFÜmCÚŒŞEËm’t
())

1239  
	g¡©ic_ÿ¡
<
	gHTMLFÜmCÚŒŞEËm’t
*>(
	gn
)->
fÜm
();

1243  
	g¡¬t
 ? 
sÿnFÜFÜm
(
¡¬t
) : 0;

1246 
	gF¿me
::
»v—lS–eùiÚ
(cÚ¡ 
SüŞlAlignm’t
& 
®ignm’t
, 
boŞ
 
»v—lEx‹Á
)

1248 
IÁReù
 
	g»ù
;

1250 
£ËùiÚ
()->
£ËùiÚTy³
()) {

1251 
	gVisibËS–eùiÚ
::
NoS–eùiÚ
:

1253 
	gVisibËS–eùiÚ
::
C¬‘S–eùiÚ
:

1254 
»ù
 = 
£ËùiÚ
()->
absŞu‹C¬‘Bounds
();

1256 
	gVisibËS–eùiÚ
::
RªgeS–eùiÚ
:

1257 
»ù
 = 
»v—lEx‹Á
 ? 
VisibËPos™iÚ
(
£ËùiÚ
()->
ex‹Á
()).
absŞu‹C¬‘Bounds
(è: 
’şosšgIÁReù
(
£ËùiÚBounds
(
çl£
));

1261 
Pos™iÚ
 
	g¡¬t
 = 
£ËùiÚ
()->
¡¬t
();

1262 
ASSERT
(
¡¬t
.
node
());

1263 ià(
	g¡¬t
.
node
(è&& s¹.node()->
»nd””
()) {

1267 ià(
R’d”Lay”
* 
	gÏy”
 = 
¡¬t
.
node
()->
»nd””
()->
’şosšgLay”
())

1268 
Ïy”
->
süŞlReùToVisibË
(
»ù
, 
çl£
, 
®ignm’t
,‡lignment);

1272 
F¿me
* 
	gF¿me
::
äameFÜWidg‘
(cÚ¡ 
Widg‘
* 
widg‘
)

1274 
ASSERT_ARG
(
widg‘
, widget);

1276 ià(
R’d”Widg‘
* 
	g»nd””
 = R’d”Widg‘::
fšd
(
widg‘
))

1277 ià(
Node
* 
node
 = 
»nd””
->node())

1278  
node
->
docum’t
()->
äame
();

1282 
ASSERT
(
widg‘
->
isF¿meV›w
());

1283  
	g¡©ic_ÿ¡
<cÚ¡ 
	gF¿meV›w
*>(
	gwidg‘
)->
äame
();

1286 
	gF¿me
::
ş—rTim”s
(
F¿meV›w
 *
v›w
, 
Docum’t
 *
docum’t
)

1288 ià(
	gv›w
) {

1289 
	gv›w
->
unscheduËR–ayout
();

1290 ià(
	gv›w
->
äame
()) {

1291 
	gv›w
->
äame
()->
ªim©iÚ
()->
su¥’dAnim©iÚs
(
docum’t
);

1292 
	gv›w
->
äame
()->
ev’tHªdËr
()->
¡İAutosüŞlTim”
();

1297 
	gF¿me
::
ş—rTim”s
()

1299 
ş—rTim”s
(
m_v›w
.
g‘
(), 
docum’t
());

1302 
R’d”StyË
 *
	gF¿me
::
¡yËFÜS–eùiÚS¹
(
Node
 *&
nodeToRemove
) const

1304 
nodeToRemove
 = 0;

1306 ià(
£ËùiÚ
()->
isNÚe
())

1309 
Pos™iÚ
 
	gpos
 = 
£ËùiÚ
()->£ËùiÚ().
visibËS¹
().
d“pEquiv®’t
();

1310 ià(!
	gpos
.
isCªdid©e
())

1312 
Node
 *
	gnode
 = 
pos
.
node
();

1313 ià(!
	gnode
)

1316 ià(!
	gm_typšgStyË
)

1317  
	gnode
->
»nd””
()->
¡yË
();

1319 
	gRefPŒ
<
	gEËm’t
> 
	g¡yËEËm’t
 = 
docum’t
()->
ü—‹EËm’t
(
¥ªTag
, 
çl£
);

1321 
Exû±iÚCode
 
	gec
 = 0;

1322 
SŒšg
 
	g¡yËText
 = 
m_typšgStyË
->
cssText
() + " display: inline";

1323 
	g¡yËEËm’t
->
£tA‰ribu‹
(
¡yËA‰r
, 
¡yËText
.
im¶
(), 
ec
);

1324 
ASSERT
(!
ec
);

1326 
	g¡yËEËm’t
->
­³ndChd
(
docum’t
()->
ü—‹Ed™šgTextNode
(""), 
ec
);

1327 
ASSERT
(!
ec
);

1329 
	gnode
->
·»ÁNode
()->
­³ndChd
(
¡yËEËm’t
, 
ec
);

1330 
ASSERT
(!
ec
);

1332 
	gnodeToRemove
 = 
¡yËEËm’t
.
g‘
();

1333  
	g¡yËEËm’t
->
»nd””
(è? styËEËm’t->»nd””()->
¡yË
() : 0;

1336 
	gF¿me
::
£tS–eùiÚFromNÚe
()

1340 
Docum’t
 *
doc
 = 
docum’t
();

1341 
boŞ
 
	gÿ»tBrowsšg
 = 
£‰šgs
(è&& s‘tšgs()->
ÿ»tBrowsšgEÇbËd
();

1342 ià(!
£ËùiÚ
()->
isNÚe
(è|| !(
isCÚ‹ÁEd™abË
(è|| 
	gÿ»tBrowsšg
))

1345 
Node
* 
	gnode
 = 
doc
->
docum’tEËm’t
();

1346 
	gnode
 && !node->
hasTagName
(
bodyTag
))

1347 
	gnode
 = 
node
->
Œav”£NextNode
();

1348 ià(
	gnode
)

1349 
£ËùiÚ
()->
£tS–eùiÚ
(
VisibËS–eùiÚ
(
Pos™iÚ
(
node
, 0), 
DOWNSTREAM
));

1352 
boŞ
 
	gF¿me
::
šV›wSourûMode
() const

1354  
m_šV›wSourûMode
;

1357 
	gF¿me
::
£tInV›wSourûMode
(
boŞ
 
mode
)

1359 
m_šV›wSourûMode
 = 
mode
;

1363 
boŞ
 
	gF¿me
::
fšdSŒšg
(cÚ¡ 
SŒšg
& 
rg‘
, boŞ 
fÜw¬d
, boŞ 
ÿ£FÏg
, boŞ 
w¿pFÏg
, boŞ 
¡¬tInS–eùiÚ
)

1365 ià(
	grg‘
.
isEm±y
())

1366  
	gçl£
;

1368 ià(
exşudeFromTextS—rch
())

1369  
	gçl£
;

1373 
	gRefPŒ
<
	gRªge
> 
£¬chRªge
(
¿ngeOfCÚ‹Ás
(
docum’t
()));

1374 
VisibËS–eùiÚ
 
	g£ËùiÚ
 = 
this
->
£ËùiÚ
()->selection();

1376 ià(
	gfÜw¬d
)

1377 
£tS¹
(
£¬chRªge
.
g‘
(), 
¡¬tInS–eùiÚ
 ? 
£ËùiÚ
.
visibËS¹
(è: s–eùiÚ.
visibËEnd
());

1379 
£tEnd
(
£¬chRªge
.
g‘
(), 
¡¬tInS–eùiÚ
 ? 
£ËùiÚ
.
visibËEnd
(è: s–eùiÚ.
visibËS¹
());

1381 
Node
* 
	gshadowT»eRoÙ
 = 
£ËùiÚ
.
shadowT»eRoÙNode
();

1382 ià(
	gshadowT»eRoÙ
) {

1383 
Exû±iÚCode
 
	gec
 = 0;

1384 ià(
	gfÜw¬d
)

1385 
	g£¬chRªge
->
£tEnd
(
shadowT»eRoÙ
, shadowT»eRoÙ->
chdNodeCouÁ
(), 
ec
);

1387 
	g£¬chRªge
->
£tS¹
(
shadowT»eRoÙ
, 0, 
ec
);

1390 
	gRefPŒ
<
	gRªge
> 
»suÉRªge
(
fšdPÏšText
(
£¬chRªge
.
g‘
(), 
rg‘
, 
fÜw¬d
, 
ÿ£FÏg
));

1394 ià(
	g¡¬tInS–eùiÚ
 && 
¬eRªgesEqu®
(
VisibËS–eùiÚ
(
»suÉRªge
.
g‘
()).
toNÜm®izedRªge
().g‘(), 
£ËùiÚ
.toNormalizedRange().get())) {

1395 
	g£¬chRªge
 = 
¿ngeOfCÚ‹Ás
(
docum’t
());

1396 ià(
	gfÜw¬d
)

1397 
£tS¹
(
£¬chRªge
.
g‘
(), 
£ËùiÚ
.
visibËEnd
());

1399 
£tEnd
(
£¬chRªge
.
g‘
(), 
£ËùiÚ
.
visibËS¹
());

1401 ià(
	gshadowT»eRoÙ
) {

1402 
Exû±iÚCode
 
	gec
 = 0;

1403 ià(
	gfÜw¬d
)

1404 
	g£¬chRªge
->
£tEnd
(
shadowT»eRoÙ
, shadowT»eRoÙ->
chdNodeCouÁ
(), 
ec
);

1406 
	g£¬chRªge
->
£tS¹
(
shadowT»eRoÙ
, 0, 
ec
);

1409 
	g»suÉRªge
 = 
fšdPÏšText
(
£¬chRªge
.
g‘
(), 
rg‘
, 
fÜw¬d
, 
ÿ£FÏg
);

1412 
Exû±iÚCode
 
	gexû±iÚ
 = 0;

1415 ià(
	g»suÉRªge
->
cŞÏp£d
(
exû±iÚ
è&& 
	gshadowT»eRoÙ
) {

1416 
	g£¬chRªge
 = 
¿ngeOfCÚ‹Ás
(
docum’t
());

1417 ià(
	gfÜw¬d
)

1418 
	g£¬chRªge
->
£tS¹Aá”
(
shadowT»eRoÙ
->
shadowP¬’tNode
(), 
exû±iÚ
);

1420 
	g£¬chRªge
->
£tEndBefÜe
(
shadowT»eRoÙ
->
shadowP¬’tNode
(), 
exû±iÚ
);

1422 
	g»suÉRªge
 = 
fšdPÏšText
(
£¬chRªge
.
g‘
(), 
rg‘
, 
fÜw¬d
, 
ÿ£FÏg
);

1425 ià(!
ed™Ü
()->
šsideVisibËA»a
(
»suÉRªge
.
g‘
())) {

1426 
	g»suÉRªge
 = 
ed™Ü
()->
ÃxtVisibËRªge
(
»suÉRªge
.
g‘
(), 
rg‘
, 
fÜw¬d
, 
ÿ£FÏg
, 
w¿pFÏg
);

1427 ià(!
	g»suÉRªge
)

1428  
	gçl£
;

1433 ià(
	g»suÉRªge
->
cŞÏp£d
(
exû±iÚ
è&& 
	gw¿pFÏg
) {

1434 
	g£¬chRªge
 = 
¿ngeOfCÚ‹Ás
(
docum’t
());

1435 
	g»suÉRªge
 = 
fšdPÏšText
(
£¬chRªge
.
g‘
(), 
rg‘
, 
fÜw¬d
, 
ÿ£FÏg
);

1441 ià(
	g»suÉRªge
->
cŞÏp£d
(
exû±iÚ
))

1442  
	gçl£
;

1444 
	gthis
->
£ËùiÚ
()->
£tS–eùiÚ
(
VisibËS–eùiÚ
(
»suÉRªge
.
g‘
(), 
DOWNSTREAM
));

1445 
»v—lS–eùiÚ
();

1446  
	gŒue
;

1449 
	gF¿me
::
m¬kAÎM©chesFÜText
(cÚ¡ 
SŒšg
& 
rg‘
, 
boŞ
 
ÿ£FÏg
, 
lim™
)

1451 ià(
	grg‘
.
isEm±y
())

1454 
	gRefPŒ
<
	gRªge
> 
£¬chRªge
(
¿ngeOfCÚ‹Ás
(
docum’t
()));

1456 
Exû±iÚCode
 
	gexû±iÚ
 = 0;

1457 
	gm©chCouÁ
 = 0;

1459 
	gRefPŒ
<
	gRªge
> 
»suÉRªge
(
fšdPÏšText
(
£¬chRªge
.
g‘
(), 
rg‘
, 
Œue
, 
ÿ£FÏg
));

1460 ià(
	g»suÉRªge
->
cŞÏp£d
(
exû±iÚ
)) {

1461 ià(!
	g»suÉRªge
->
¡¬tCÚš”
()->
isInShadowT»e
())

1464 
	g£¬chRªge
 = 
¿ngeOfCÚ‹Ás
(
docum’t
());

1465 
	g£¬chRªge
->
£tS¹Aá”
(
»suÉRªge
->
¡¬tCÚš”
()->
shadowAnû¡ÜNode
(), 
exû±iÚ
);

1470 ià(
ed™Ü
()->
šsideVisibËA»a
(
»suÉRªge
.
g‘
())) {

1471 ++
	gm©chCouÁ
;

1472 
docum’t
()->
addM¬k”
(
»suÉRªge
.
g‘
(), 
Docum’tM¬k”
::
TextM©ch
);

1476 ià(
	glim™
 > 0 && 
	gm©chCouÁ
 >ğ
lim™
)

1483 
	g£¬chRªge
->
£tS¹
(
»suÉRªge
->
’dCÚš”
(
exû±iÚ
),„esuÉRªge->
’dOff£t
(exception),ƒxception);

1485 
Node
* 
	gshadowT»eRoÙ
 = 
£¬chRªge
->
shadowT»eRoÙNode
();

1486 ià(
	g£¬chRªge
->
cŞÏp£d
(
exû±iÚ
è&& 
	gshadowT»eRoÙ
)

1487 
	g£¬chRªge
->
£tEnd
(
shadowT»eRoÙ
, shadowT»eRoÙ->
chdNodeCouÁ
(), 
exû±iÚ
);

1488 } 
	gŒue
);

1492 
Docum’t
* 
	gdoc
 = 
docum’t
();

1493 ià(
	gm_v›w
 && 
cÚ‹ÁR’d””
()) {

1494 
	gdoc
->
upd©eLayout
();

1495 
IÁReù
 
	gvisibËReù
 = 
m_v›w
->
visibËCÚ‹ÁReù
();

1496 ià(!
	gvisibËReù
.
isEm±y
()) {

1497 
G¿phicsCÚ‹xt
 
cÚ‹xt
((
PÏtfÜmG¿phicsCÚ‹xt
*)0);

1498 
	gcÚ‹xt
.
£tPaštšgDi§bËd
(
Œue
);

1499 
	gm_v›w
->
·štCÚ‹Ás
(&
cÚ‹xt
, 
visibËReù
);

1503  
	gm©chCouÁ
;

1506 
boŞ
 
	gF¿me
::
m¬kedTextM©chesA»Highligh‹d
() const

1508  
m_highlightTextM©ches
;

1511 
	gF¿me
::
£tM¬kedTextM©chesA»Highligh‹d
(
boŞ
 
æag
)

1513 ià(
æag
 =ğ
m_highlightTextM©ches
)

1516 
	gm_highlightTextM©ches
 = 
æag
;

1517 
docum’t
()->
»·štM¬k”s
(
Docum’tM¬k”
::
TextM©ch
);

1520 
F¿meT»e
* 
	gF¿me
::
Œ“
() const

1522  &
m_Œ“Node
;

1525 
	gF¿me
::
£tDOMWšdow
(
DOMWšdow
* 
domWšdow
)

1527 ià(
m_domWšdow
) {

1528 
m_liveFÜm”Wšdows
.
add
(
m_domWšdow
.
g‘
());

1529 
	gm_domWšdow
->
ş—r
();

1531 
	gm_domWšdow
 = 
domWšdow
;

1534 
DOMWšdow
* 
	gF¿me
::
domWšdow
() const

1536 ià(!
m_domWšdow
)

1537 
m_domWšdow
 = 
DOMWšdow
::
ü—‹
(
cÚ¡_ÿ¡
<
F¿me
*>(
this
));

1539  
	gm_domWšdow
.
g‘
();

1542 
	gF¿me
::
ş—rFÜm”DOMWšdow
(
DOMWšdow
* 
wšdow
)

1544 
m_liveFÜm”Wšdows
.
»move
(
wšdow
);

1547 
Page
* 
	gF¿me
::
·ge
() const

1549  
m_·ge
;

1552 
	gF¿me
::
d‘achFromPage
()

1554 
m_·ge
 = 0;

1557 
Ev’tHªdËr
* 
	gF¿me
::
ev’tHªdËr
() const

1559  &
m_ev’tHªdËr
;

1562 
	gF¿me
::
·geDe¡royed
()

1564 ià(
F¿me
* 
·»Á
 = 
Œ“
()->parent())

1565 
·»Á
->
lßd”
()->
checkLßdCom¶‘e
();

1569 ià(
·ge
(è&&…age()->
focusCÚŒŞËr
()->
focu£dF¿me
(è=ğ
this
)

1570 
·ge
()->
focusCÚŒŞËr
()->
£tFocu£dF¿me
(0);

1572 
süt
()->
ş—rWšdowSh–l
();

1573 
süt
()->
ş—rSütObjeùs
();

1574 
süt
()->
upd©ePÏtfÜmSütObjeùs
();

1576 
d‘achFromPage
();

1579 
	gF¿me
::
discÚÃùOwÃrEËm’t
()

1581 ià(
m_owÃrEËm’t
) {

1582 ià(
Docum’t
* 
doc
 = 
docum’t
())

1583 
doc
->
ş—rAXObjeùCache
();

1584 
	gm_owÃrEËm’t
->
	gm_cÚ‹ÁF¿me
 = 0;

1585 ià(
	gm_·ge
)

1586 
	gm_·ge
->
deüem’tF¿meCouÁ
();

1588 
	gm_owÃrEËm’t
 = 0;

1592 
	gF¿me
::
ŒªsãrChdF¿meToNewDocum’t
()

1594 
ASSERT
(
m_owÃrEËm’t
);

1595 
F¿me
* 
	gÃwP¬’t
 = 
m_owÃrEËm’t
->
docum’t
()->
äame
();

1596 
boŞ
 
	gdidT¿nsãr
 = 
çl£
;

1599 
Page
* 
	gÃwPage
 = 
ÃwP¬’t
 ?‚ewP¬’t->
·ge
() : 0;

1600 ià(
	gm_·ge
 !ğ
ÃwPage
) {

1601 ià(
·ge
()->
focusCÚŒŞËr
()->
focu£dF¿me
(è=ğ
this
)

1602 
·ge
()->
focusCÚŒŞËr
()->
£tFocu£dF¿me
(0);

1604 ià(
	gm_·ge
)

1605 
	gm_·ge
->
deüem’tF¿meCouÁ
();

1607 
	gm_·ge
 = 
ÃwPage
;

1609 ià(
	gÃwPage
)

1610 
	gÃwPage
->
šüem’tF¿meCouÁ
();

1612 
	gdidT¿nsãr
 = 
Œue
;

1616 
F¿me
* 
	gŞdP¬’t
 = 
Œ“
()->
·»Á
();

1617 ià(
	gŞdP¬’t
 !ğ
ÃwP¬’t
) {

1618 ià(
ŞdP¬’t
)

1619 
ŞdP¬’t
->
Œ“
()->
»moveChd
(
this
);

1620 ià(
	gÃwP¬’t
) {

1621 
	gÃwP¬’t
->
Œ“
()->
­³ndChd
(
this
);

1622 
	gm_owÃrEËm’t
->
£tName
();

1624 
	gdidT¿nsãr
 = 
Œue
;

1629 ià(
	gdidT¿nsãr
) {

1631 
lßd”
()->
ş›Á
()->
didT¿nsãrChdF¿meToNewDocum’t
();

1634 
F¿me
* 
	gchd
 = 
Œ“
()->
fœ¡Chd
(); chd; chd = 
chd
->Œ“()->
ÃxtSiblšg
())

1635 
chd
->
ŒªsãrChdF¿meToNewDocum’t
();

1639 
SŒšg
 
	gF¿me
::
docum’tTy³SŒšg
() const

1641 ià(
Docum’tTy³
* 
doùy³
 = 
docum’t
()->doctype())

1642  
ü—‹M¬kup
(
doùy³
);

1644  
SŒšg
();

1647 
	gF¿me
::
focusWšdow
()

1649 ià(!
·ge
())

1653 ià(!
Œ“
()->
·»Á
())

1654 
·ge
()->
chrome
()->
focus
();

1656 
ev’tHªdËr
()->
focusDocum’tV›w
();

1659 
	gF¿me
::
unfocusWšdow
()

1661 ià(!
·ge
())

1665 ià(!
Œ“
()->
·»Á
())

1666 
·ge
()->
chrome
()->
unfocus
();

1669 
boŞ
 
	gF¿me
::
shouldClo£
()

1671 
Chrome
* 
chrome
 = 
·ge
() ?…age()->chrome() : 0;

1672 ià(!
	gchrome
 || !chrome->
ÿnRunBefÜeUÆßdCÚfœmPª–
())

1673  
	gŒue
;

1675 ià(!
	gm_domWšdow
)

1676  
	gŒue
;

1678 
	gRefPŒ
<
	gDocum’t
> 
	gdoc
 = 
docum’t
();

1679 
HTMLEËm’t
* 
	gbody
 = 
doc
->
body
();

1680 ià(!
	gbody
)

1681  
	gŒue
;

1683 
	gRefPŒ
<
	gBefÜeUÆßdEv’t
> 
	gbefÜeUÆßdEv’t
 = 
BefÜeUÆßdEv’t
::
ü—‹
();

1684 
	gm_domWšdow
->
di¥©chEv’t
(
befÜeUÆßdEv’t
.
g‘
(), 
m_domWšdow
->
docum’t
());

1686 ià(!
	gbefÜeUÆßdEv’t
->
deçuÉP»v’‹d
())

1687 
	gdoc
->
deçuÉEv’tHªdËr
(
befÜeUÆßdEv’t
.
g‘
());

1688 ià(
	gbefÜeUÆßdEv’t
->
»suÉ
().
isNuÎ
())

1689  
	gŒue
;

1691 
SŒšg
 
	g‹xt
 = 
doc
->
di¥ÏySŒšgModif›dByEncodšg
(
befÜeUÆßdEv’t
->
»suÉ
());

1692  
	gchrome
->
runBefÜeUÆßdCÚfœmPª–
(
‹xt
, 
this
);

1695 
	gF¿me
::
scheduËClo£
()

1697 ià(!
shouldClo£
())

1700 
Chrome
* 
	gchrome
 = 
·ge
(è?…age()->
chrome
() : 0;

1701 ià(
	gchrome
)

1702 
	gchrome
->
şo£WšdowSoÚ
();

1705 
	gF¿me
::
»¥ÚdToChªgedS–eùiÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
ŞdS–eùiÚ
, 
boŞ
 
şo£Typšg
)

1707 
boŞ
 
	gisCÚtšuousS³ÎCheckšgEÇbËd
 = 
ed™Ü
()->
isCÚtšuousS³ÎCheckšgEÇbËd
();

1708 
boŞ
 
	gisCÚtšuousG¿mm¬CheckšgEÇbËd
 = 
isCÚtšuousS³ÎCheckšgEÇbËd
 && 
ed™Ü
()->
isG¿mm¬CheckšgEÇbËd
();

1709 ià(
	gisCÚtšuousS³ÎCheckšgEÇbËd
) {

1710 
VisibËS–eùiÚ
 
	gÃwAdjaûÁWÜds
;

1711 
VisibËS–eùiÚ
 
	gÃwS–eùedS’‹nû
;

1712 
boŞ
 
	gÿ»tBrowsšg
 = 
£‰šgs
(è&& s‘tšgs()->
ÿ»tBrowsšgEÇbËd
();

1713 ià(
£ËùiÚ
()->£ËùiÚ().
isCÚ‹ÁEd™abË
(è|| 
	gÿ»tBrowsšg
) {

1714 
VisibËPos™iÚ
 
ÃwS¹
(
£ËùiÚ
()->£ËùiÚ().
visibËS¹
());

1715 
	gÃwAdjaûÁWÜds
 = 
VisibËS–eùiÚ
(
¡¬tOfWÜd
(
ÃwS¹
, 
LeáWÜdIfOnBound¬y
), 
’dOfWÜd
ÒewS¹, 
RightWÜdIfOnBound¬y
));

1716 ià(
	gisCÚtšuousG¿mm¬CheckšgEÇbËd
)

1717 
	gÃwS–eùedS’‹nû
 = 
VisibËS–eùiÚ
(
¡¬tOfS’‹nû
(
ÃwS¹
), 
’dOfS’‹nû
(newStart));

1723 ià(
	gşo£Typšg
 && 
	gŞdS–eùiÚ
.
isCÚ‹ÁEd™abË
(è&& oldS–eùiÚ.
¡¬t
().
node
(è&& oldS–eùiÚ.¡¬t().node()->
šDocum’t
()) {

1724 
VisibËPos™iÚ
 
ŞdS¹
(
ŞdS–eùiÚ
.
visibËS¹
());

1725 
VisibËS–eùiÚ
 
	gŞdAdjaûÁWÜds
 = VisibËS–eùiÚ(
¡¬tOfWÜd
(
ŞdS¹
, 
LeáWÜdIfOnBound¬y
), 
’dOfWÜd
(ŞdS¹, 
RightWÜdIfOnBound¬y
));

1726 ià(
	gŞdAdjaûÁWÜds
 !ğ
ÃwAdjaûÁWÜds
) {

1727 ià(
isCÚtšuousG¿mm¬CheckšgEÇbËd
) {

1728 
VisibËS–eùiÚ
 
ŞdS–eùedS’‹nû
 = VisibËS–eùiÚ(
¡¬tOfS’‹nû
(
ŞdS¹
), 
’dOfS’‹nû
(oldStart));

1729 
ed™Ü
()->
m¬kMis¥–lšgsAndBadG¿mm¬
(
ŞdAdjaûÁWÜds
, 
ŞdS–eùedS’‹nû
 !ğ
ÃwS–eùedS’‹nû
, oldSelectedSentence);

1731 
ed™Ü
()->
m¬kMis¥–lšgsAndBadG¿mm¬
(
ŞdAdjaûÁWÜds
, 
çl£
, oldAdjacentWords);

1737 ià(
	gRefPŒ
<
	gRªge
> 
	gwÜdRªge
 = 
ÃwAdjaûÁWÜds
.
toNÜm®izedRªge
())

1738 
docum’t
()->
»moveM¬k”s
(
wÜdRªge
.
g‘
(), 
Docum’tM¬k”
::
S³Îšg
);

1739 ià(
	gRefPŒ
<
	gRªge
> 
	g£Á’ûRªge
 = 
ÃwS–eùedS’‹nû
.
toNÜm®izedRªge
())

1740 
docum’t
()->
»moveM¬k”s
(
£Á’ûRªge
.
g‘
(), 
Docum’tM¬k”
::
G¿mm¬
);

1744 ià(!
	gisCÚtšuousS³ÎCheckšgEÇbËd
)

1745 
docum’t
()->
»moveM¬k”s
(
Docum’tM¬k”
::
S³Îšg
);

1746 ià(!
	gisCÚtšuousG¿mm¬CheckšgEÇbËd
)

1747 
docum’t
()->
»moveM¬k”s
(
Docum’tM¬k”
::
G¿mm¬
);

1749 
ed™Ü
()->
»¥ÚdToChªgedS–eùiÚ
(
ŞdS–eùiÚ
);

1752 
VisibËPos™iÚ
 
	gF¿me
::
visibËPos™iÚFÜPošt
(cÚ¡ 
IÁPošt
& 
äamePošt
)

1754 
H™Te¡ResuÉ
 
»suÉ
 = 
ev’tHªdËr
()->
h™Te¡ResuÉAtPošt
(
äamePošt
, 
Œue
);

1755 
Node
* 
	gnode
 = 
»suÉ
.
šÃrNode
();

1756 ià(!
	gnode
)

1757  
VisibËPos™iÚ
();

1758 
R’d”Objeù
* 
	g»nd””
 = 
node
->
»nd””
();

1759 ià(!
	g»nd””
)

1760  
VisibËPos™iÚ
();

1761 
VisibËPos™iÚ
 
	gvisibËPos
 = 
»nd””
->
pos™iÚFÜPošt
(
»suÉ
.
loÿlPošt
());

1762 ià(
	gvisibËPos
.
isNuÎ
())

1763 
	gvisibËPos
 = 
VisibËPos™iÚ
(
Pos™iÚ
(
node
, 0));

1764  
	gvisibËPos
;

1767 
Docum’t
* 
	gF¿me
::
docum’tAtPošt
(cÚ¡ 
IÁPošt
& 
pošt
)

1769 ià(!
v›w
())

1772 
IÁPošt
 
	g±
 = 
v›w
()->
wšdowToCÚ‹Ás
(
pošt
);

1773 
H™Te¡ResuÉ
 
	g»suÉ
 = H™Te¡ResuÉ(
±
);

1775 ià(
cÚ‹ÁR’d””
())

1776 
	g»suÉ
 = 
ev’tHªdËr
()->
h™Te¡ResuÉAtPošt
(
±
, 
çl£
);

1777  
	g»suÉ
.
šÃrNode
(è?„esuÉ.šÃrNode()->
docum’t
() : 0;

1780 
	gF¿me
::
ü—‹V›w
(cÚ¡ 
IÁSize
& 
v›wpÜtSize
,

1781 cÚ¡ 
CŞÜ
& 
backgroundCŞÜ
, 
boŞ
 
Œª¥¬’t
,

1782 cÚ¡ 
IÁSize
& 
fixedLayoutSize
, 
boŞ
 
u£FixedLayout
,

1783 
SüŞlb¬Mode
 
hÜizÚlSüŞlb¬Mode
, 
boŞ
 
hÜizÚlLock
,

1784 
SüŞlb¬Mode
 
v”tiÿlSüŞlb¬Mode
, 
boŞ
 
v”tiÿlLock
)

1786 
ASSERT
(
this
);

1787 
ASSERT
(
m_·ge
);

1789 
boŞ
 
	gisMašF¿me
 = 
this
 =ğ
m_·ge
->
mašF¿me
();

1791 ià(
	gisMašF¿me
 && 
v›w
())

1792 
v›w
()->
£tP¬’tVisibË
(
çl£
);

1794 
£tV›w
(0);

1796 
	gRefPŒ
<
	gF¿meV›w
> 
	gäameV›w
;

1797 ià(
	gisMašF¿me
) {

1798 
	gäameV›w
 = 
F¿meV›w
::
ü—‹
(
this
, 
v›wpÜtSize
);

1799 
	gäameV›w
->
£tFixedLayoutSize
(
fixedLayoutSize
);

1800 
	gäameV›w
->
£tU£FixedLayout
(
u£FixedLayout
);

1802 
	gäameV›w
 = 
F¿meV›w
::
ü—‹
(
this
);

1804 
	gäameV›w
->
£tSüŞlb¬Modes
(
hÜizÚlSüŞlb¬Mode
, 
v”tiÿlSüŞlb¬Mode
, 
hÜizÚlLock
, 
v”tiÿlLock
);

1806 
£tV›w
(
äameV›w
);

1808 ià(
	gbackgroundCŞÜ
.
isV®id
())

1809 
	gäameV›w
->
upd©eBackgroundRecursiv–y
(
backgroundCŞÜ
, 
Œª¥¬’t
);

1811 ià(
	gisMašF¿me
)

1812 
	gäameV›w
->
£tP¬’tVisibË
(
Œue
);

1814 ià(
owÃrR’d””
())

1815 
owÃrR’d””
()->
£tWidg‘
(
äameV›w
);

1817 ià(
HTMLF¿meOwÃrEËm’t
* 
	gowÃr
 = 
owÃrEËm’t
())

1818 
v›w
()->
£tCªHaveSüŞlb¬s
(
owÃr
->
süŞlšgMode
(è!ğ
SüŞlb¬AlwaysOff
);

1821 #ià
ENABLE
(
TILED_BACKING_STORE
)

1822 
	gF¿me
::
£tTedBackšgStÜeEÇbËd
(
boŞ
 
’abËd
)

1824 ià(!
’abËd
) {

1825 
m_tedBackšgStÜe
.
ş—r
();

1828 ià(
	gm_tedBackšgStÜe
)

1830 
	gm_tedBackšgStÜe
.
£t
(
Ãw
 
TedBackšgStÜe
(
this
));

1831 ià(
	gm_v›w
)

1832 
	gm_v›w
->
£tPaštsEÁœeCÚ‹Ás
(
Œue
);

1835 
	gF¿me
::
tedBackšgStÜePaštBegš
()

1837 ià(!
m_v›w
)

1839 
	gm_v›w
->
ÏyoutIfN“dedRecursive
();

1840 
	gm_v›w
->
æushDeã¼edR•ašts
();

1843 
	gF¿me
::
tedBackšgStÜePašt
(
G¿phicsCÚ‹xt
* 
cÚ‹xt
, cÚ¡ 
IÁReù
& 
»ù
)

1845 ià(!
	gm_v›w
)

1847 
	gm_v›w
->
·štCÚ‹Ás
(
cÚ‹xt
, 
»ù
);

1850 
	gF¿me
::
tedBackšgStÜePaštEnd
(cÚ¡ 
VeùÜ
<
IÁReù
>& 
·š‹dA»a
)

1852 ià(!
m_·ge
 || !
m_v›w
)

1854 
	gsize
 = 
·š‹dA»a
.
size
();

1856 
	gn
 = 0;‚ < 
	gsize
; ++n)

1857 
	gm_·ge
->
chrome
()->
šv®id©eCÚ‹ÁsAndWšdow
(
m_v›w
->
cÚ‹ÁsToWšdow
(
·š‹dA»a
[
n
]), 
çl£
);

1860 
IÁReù
 
	gF¿me
::
tedBackšgStÜeCÚ‹ÁsReù
()

1862 ià(!
m_v›w
)

1863  
IÁReù
();

1864  
IÁReù
(
IÁPošt
(), 
m_v›w
->
cÚ‹ÁsSize
());

1868 
SŒšg
 
	gF¿me
::
Ïy”T»eAsText
() const

1870 #ià
USE
(
ACCELERATED_COMPOSITING
)

1871 ià(!
cÚ‹ÁR’d””
())

1872  
SŒšg
();

1874 
G¿phicsLay”
* 
	groÙLay”
 = 
cÚ‹ÁR’d””
()->
compos™Ü
()->
roÙPÏtfÜmLay”
();

1875 ià(!
	groÙLay”
)

1876  
SŒšg
();

1878  
	groÙLay”
->
Ïy”T»eAsText
();

1880  
SŒšg
();

	@Frame.h

28 #iâdeà
F¿me_h


29 
	#F¿me_h


	)

31 
	~"Anim©iÚCÚŒŞËr.h
"

32 
	~"D¿gImage.h
"

33 
	~"Ed™Ü.h
"

34 
	~"Ev’tHªdËr.h
"

35 
	~"F¿meLßd”.h
"

36 
	~"F¿meT»e.h
"

37 
	~"SütCÚŒŞËr.h
"

38 
	~"SüŞlBehaviÜ.h
"

39 
	~"S–eùiÚCÚŒŞËr.h
"

40 
	~"U£rSütTy³s.h
"

41 
	~"ZoomMode.h
"

43 #ià
PLATFORM
(
WIN
)

44 
	~"F¿meWš.h
"

47 #ià
ENABLE
(
TILED_BACKING_STORE
)

48 
	~"TedBackšgStÜeCl›Á.h
"

51 #ià
PLATFORM
(
MAC
)

52 #iâdeà
__OBJC__


53 
şass
 
	gNSA¼ay
;

54 
şass
 
	gNSDiùiÚ¬y
;

55 
şass
 
	gNSMubËDiùiÚ¬y
;

56 
şass
 
	gNSSŒšg
;

57 
	tNSWr™šgDœeùiÚ
;

61 #ià
PLATFORM
(
WIN
)

62 
HBITMAP__
* 
	tHBITMAP
;

65 
Çme¥aû
 
	gWebCÜe
 {

67 
şass
 
	gCSSMubËStyËDeş¬©iÚ
;

68 
şass
 
	gHTMLTabËC–lEËm’t
;

69 
şass
 
	gReguÏrEx´essiÚ
;

70 
şass
 
	gR’d”P¬t
;

71 
şass
 
	gTedBackšgStÜe
;

73 
şass
 
	gF¿me
 : 
public
 
RefCouÁed
<
F¿me
>

74 #ià
ENABLE
(
TILED_BACKING_STORE
)

75 , 
public
 
	gTedBackšgStÜeCl›Á


78 
	gpublic
:

79 
PassRefPŒ
<
F¿me
> 
ü—‹
(
Page
* 
·ge
, 
HTMLF¿meOwÃrEËm’t
* 
owÃrEËm’t
, 
F¿meLßd”Cl›Á
* 
ş›Á
)

81  
adİtRef
(
Ãw
 
F¿me
(
·ge
, 
owÃrEËm’t
, 
ş›Á
));

83 
£tV›w
(
PassRefPŒ
<
F¿meV›w
>);

84 ~
F¿me
();

86 
š™
();

88 
Page
* 
·ge
() const;

89 
d‘achFromPage
();

90 
ŒªsãrChdF¿meToNewDocum’t
();

92 
HTMLF¿meOwÃrEËm’t
* 
owÃrEËm’t
() const;

94 
·geDe¡royed
();

95 
discÚÃùOwÃrEËm’t
();

97 
Docum’t
* 
docum’t
() const;

98 
F¿meV›w
* 
v›w
() const;

100 
£tDOMWšdow
(
DOMWšdow
*);

101 
DOMWšdow
* 
domWšdow
() const;

102 
ş—rFÜm”DOMWšdow
(
DOMWšdow
*);

104 
Ed™Ü
* 
ed™Ü
() const;

105 
Ev’tHªdËr
* 
ev’tHªdËr
() const;

106 
F¿meLßd”
* 
lßd”
() const;

107 
RedœeùScheduËr
* 
»dœeùScheduËr
() const;

108 
S–eùiÚCÚŒŞËr
* 
£ËùiÚ
() const;

109 
F¿meT»e
* 
Œ“
() const;

110 
Anim©iÚCÚŒŞËr
* 
ªim©iÚ
() const;

111 
SütCÚŒŞËr
* 
süt
();

113 
R’d”V›w
* 
cÚ‹ÁR’d””
() const;

114 
R’d”P¬t
* 
owÃrR’d””
() const;

116 
boŞ
 
isDiscÚÃùed
() const;

117 
£tIsDiscÚÃùed
(
boŞ
);

118 
boŞ
 
exşudeFromTextS—rch
() const;

119 
£tExşudeFromTextS—rch
(
boŞ
);

121 
ü—‹V›w
(cÚ¡ 
IÁSize
&, cÚ¡ 
CŞÜ
&, 
boŞ
, const IntSize &, bool,

122 
SüŞlb¬Mode
 = 
SüŞlb¬Auto
, 
boŞ
 
hÜizÚlLock
 = 
çl£
,

123 
SüŞlb¬Mode
 = 
SüŞlb¬Auto
, 
boŞ
 
v”tiÿlLock
 = 
çl£
);

125 
šjeùU£rSüts
(
U£rSütInjeùiÚTime
);

127 
SŒšg
 
Ïy”T»eAsText
() const;

129 
	g´iv©e
:

130 
šjeùU£rSütsFÜWÜld
(
DOMW¿µ”WÜld
*, cÚ¡ 
U£rSütVeùÜ
&, 
U£rSütInjeùiÚTime
);

132 
	g´iv©e
:

133 
F¿me
(
Page
*, 
HTMLF¿meOwÃrEËm’t
*, 
F¿meLßd”Cl›Á
*);

137 
	gpublic
:

138 
F¿me
* 
äameFÜWidg‘
(cÚ¡ 
Widg‘
*);

140 
S‘tšgs
* 
£‰šgs
() const;

142 
£tPrštšg
(
boŞ
 
´štšg
, 
mšPageWidth
, 
maxPageWidth
, boŞ 
adju¡V›wSize
);

144 
boŞ
 
šV›wSourûMode
() const;

145 
£tInV›wSourûMode
(
boŞ
 = 
Œue
);

147 
k“pAlive
();

148 #iâdeà
NDEBUG


149 
ÿnûlAÎK“pAlive
();

152 
£tDocum’t
(
PassRefPŒ
<
Docum’t
>);

154 #ià
ENABLE
(
ORIENTATION_EVENTS
)

158 
£ndOr›Á©iÚChªgeEv’t
(
Ü›Á©iÚ
);

159 
Ü›Á©iÚ
(ècÚ¡ {  
	gm_Ü›Á©iÚ
; }

162 
ş—rTim”s
();

163 
ş—rTim”s
(
F¿meV›w
*, 
Docum’t
*);

165 
£tN“dsR—µlyStyËs
();

166 
boŞ
 
ÃedsR—µlyStyËs
() const;

167 
»­¶yStyËs
();

169 
SŒšg
 
docum’tTy³SŒšg
() const;

173 
ş—rDOMWšdow
();

175 
SŒšg
 
di¥ÏySŒšgModif›dByEncodšg
(cÚ¡ SŒšg& 
¡r
) const

177  
docum’t
(è? docum’t()->
di¥ÏySŒšgModif›dByEncodšg
(
¡r
) : str;

180 #ià
ENABLE
(
TILED_BACKING_STORE
)

181 
TedBackšgStÜe
* 
tedBackšgStÜe
(ècÚ¡ {  
	gm_tedBackšgStÜe
.
g‘
(); }

182 
£tTedBackšgStÜeEÇbËd
(
boŞ
);

185 
	g´iv©e
:

186 
liãSuµÜtTim”Fœed
(
Tim”
<
F¿me
>*);

190 
	gpublic
:

191 
£tZoomFaùÜ
(
sÿË
, 
ZoomMode
);

192 
zoomFaùÜ
() const;

193 
ZoomMode
 
zoomMode
() const;

194 
boŞ
 
shouldAµlyTextZoom
() const;

195 
boŞ
 
shouldAµlyPageZoom
() const;

196 
·geZoomFaùÜ
(ècÚ¡ {  
shouldAµlyPageZoom
(è? 
zoomFaùÜ
() : 1.0f; }

197 
‹xtZoomFaùÜ
(ècÚ¡ {  
shouldAµlyTextZoom
(è? 
zoomFaùÜ
() : 1.0f; }

201 
	gpublic
:

202 
focusWšdow
();

203 
unfocusWšdow
();

204 
boŞ
 
shouldClo£
();

205 
scheduËClo£
();

207 
£tJSStusB¬Text
(cÚ¡ 
SŒšg
&);

208 
£tJSDeçuÉStusB¬Text
(cÚ¡ 
SŒšg
&);

209 
SŒšg
 
jsStusB¬Text
() const;

210 
SŒšg
 
jsDeçuÉStusB¬Text
() const;

214 
	gpublic
:

215 
SŒšg
 
£ËùedText
() const;

216 
boŞ
 
fšdSŒšg
(cÚ¡ 
SŒšg
&, boŞ 
fÜw¬d
, boŞ 
ÿ£FÏg
, boŞ 
w¿pFÏg
, boŞ 
¡¬tInS–eùiÚ
);

218 cÚ¡ 
	gVisibËS–eùiÚ
& 
m¬k
() const;

219 
£tM¬k
(cÚ¡ 
VisibËS–eùiÚ
&);

221 
compu‹AndS‘TypšgStyË
(
CSSStyËDeş¬©iÚ
* , 
Ed™AùiÚ
 = 
Ed™AùiÚUn¥ecif›d
);

222 
SŒšg
 
£ËùiÚS¹StyËPrİ”tyV®ue
(
¡yËPrİ”tyID
) const;

223 
­¶yEd™šgStyËToBodyEËm’t
() const;

224 
»moveEd™šgStyËFromBodyEËm’t
() const;

225 
­¶yEd™šgStyËToEËm’t
(
EËm’t
*) const;

226 
»moveEd™šgStyËFromEËm’t
(
EËm’t
*) const;

228 
IÁReù
 
fœ¡ReùFÜRªge
(
Rªge
*) const;

230 
»¥ÚdToChªgedS–eùiÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
ŞdS–eùiÚ
, 
boŞ
 
şo£Typšg
);

231 
boŞ
 
shouldChªgeS–eùiÚ
(cÚ¡ 
VisibËS–eùiÚ
& 
ŞdS–eùiÚ
, cÚ¡ VisibËS–eùiÚ& 
ÃwS–eùiÚ
, 
EAffš™y
, boŞ 
¡lS–eùšg
) const;

233 
R’d”StyË
* 
¡yËFÜS–eùiÚS¹
(
Node
*& 
nodeToRemove
) const;

235 
m¬kAÎM©chesFÜText
(cÚ¡ 
SŒšg
&, 
boŞ
 
ÿ£FÏg
, 
lim™
);

236 
boŞ
 
m¬kedTextM©chesA»Highligh‹d
() const;

237 
£tM¬kedTextM©chesA»Highligh‹d
(
boŞ
 
æag
);

239 
	gPassRefPŒ
<
	gCSSCompu‹dStyËDeş¬©iÚ
> 
£ËùiÚCompu‹dStyË
(
Node
*& 
nodeToRemove
) const;

241 
‹xtF›ldDidBegšEd™šg
(
EËm’t
*);

242 
‹xtF›ldDidEndEd™šg
(
EËm’t
*);

243 
‹xtDidChªgeInTextF›ld
(
EËm’t
*);

244 
boŞ
 
doTextF›ldCommªdFromEv’t
(
EËm’t
*, 
KeybßrdEv’t
*);

245 
‹xtWlBeD–‘edInTextF›ld
(
EËm’t
* 
šput
);

246 
‹xtDidChªgeInTextA»a
(
EËm’t
*);

248 
D¿gImageRef
 
d¿gImageFÜS–eùiÚ
();

252 
	gpublic
:

253 
TextG¿nuÏr™y
 
£ËùiÚG¿nuÏr™y
() const;

255 
boŞ
 
shouldChªgeS–eùiÚ
(cÚ¡ 
VisibËS–eùiÚ
&) const;

256 
boŞ
 
shouldD–‘eS–eùiÚ
(cÚ¡ 
VisibËS–eùiÚ
&) const;

257 
£tFocu£dNodeIfN“ded
();

258 
nÙifyR’d””OfS–eùiÚChªge
(
boŞ
 
u£rTrigg”ed
);

260 
·štD¿gC¬‘
(
G¿phicsCÚ‹xt
*, 
tx
, 
ty
, cÚ¡ 
IÁReù
& 
şReù
) const;

262 
boŞ
 
isCÚ‹ÁEd™abË
() const;

264 
CSSMubËStyËDeş¬©iÚ
* 
typšgStyË
() const;

265 
£tTypšgStyË
(
CSSMubËStyËDeş¬©iÚ
*);

266 
ş—rTypšgStyË
();

268 
FlßtReù
 
£ËùiÚBounds
(
boŞ
 
şToVisibËCÚ‹Á
 = 
Œue
) const;

269 
	eS–eùiÚReùRe¥eùT¿nsfÜms
 { 
	gRe¥eùT¿nsfÜms
 = 
Œue
, 
	gIgnÜeT¿nsfÜms
 = 
çl£
 };

270 
£ËùiÚTextReùs
(
VeùÜ
<
FlßtReù
>&, 
S–eùiÚReùRe¥eùT¿nsfÜms
 
»¥eùT¿nsfÜms
, 
boŞ
 
şToVisibËCÚ‹Á
 = 
Œue
) const;

272 
HTMLFÜmEËm’t
* 
cu¼’tFÜm
() const;

274 
»v—lS–eùiÚ
(cÚ¡ 
SüŞlAlignm’t
& = SüŞlAlignm’t::
®ignC’‹rIfN“ded
, 
boŞ
 
»v—lEx‹Á
 = 
çl£
);

275 
£tS–eùiÚFromNÚe
();

277 
S–eùiÚCÚŒŞËr
* 
d¿gC¬‘CÚŒŞËr
() const;

279 
SŒšg
 
£¬chFÜLab–sAboveC–l
(
ReguÏrEx´essiÚ
*, 
HTMLTabËC–lEËm’t
*, 
size_t
* 
»suÉDi¡ªûFromS¹OfC–l
);

280 
SŒšg
 
£¬chFÜLab–sBefÜeEËm’t
(cÚ¡ 
VeùÜ
<SŒšg>& 
Ïb–s
, 
EËm’t
*, 
size_t
* 
»suÉDi¡ªû
, 
boŞ
* 
»suÉIsInC–lAbove
);

281 
SŒšg
 
m©chLab–sAgaš¡EËm’t
(cÚ¡ 
VeùÜ
<SŒšg>& 
Ïb–s
, 
EËm’t
*);

283 
VisibËPos™iÚ
 
visibËPos™iÚFÜPošt
(cÚ¡ 
IÁPošt
& 
äamePošt
);

284 
Docum’t
* 
docum’tAtPošt
(cÚ¡ 
IÁPošt
& 
wšdowPošt
);

286 
	g´iv©e
:

287 #ià
ENABLE
(
TILED_BACKING_STORE
)

289 
vœtu®
 
tedBackšgStÜePaštBegš
();

290 
vœtu®
 
tedBackšgStÜePašt
(
G¿phicsCÚ‹xt
*, cÚ¡ 
IÁReù
&);

291 
vœtu®
 
tedBackšgStÜePaštEnd
(cÚ¡ 
VeùÜ
<
IÁReù
>& 
·š‹dA»a
);

292 
vœtu®
 
IÁReù
 
tedBackšgStÜeCÚ‹ÁsReù
();

295 #ià
PLATFORM
(
MAC
)

299 
	gpublic
:

300 
NSSŒšg
* 
£¬chFÜNSLab–sAboveC–l
(
ReguÏrEx´essiÚ
*, 
HTMLTabËC–lEËm’t
*, 
size_t
* 
»suÉDi¡ªûFromS¹OfC–l
);

301 
NSSŒšg
* 
£¬chFÜLab–sBefÜeEËm’t
(
NSA¼ay
* 
Ïb–s
, 
EËm’t
*, 
size_t
* 
»suÉDi¡ªû
, 
boŞ
* 
»suÉIsInC–lAbove
);

302 
NSSŒšg
* 
m©chLab–sAgaš¡EËm’t
(
NSA¼ay
* 
Ïb–s
, 
EËm’t
*);

304 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

305 
NSMubËDiùiÚ¬y
* 
dashbßrdRegiÚsDiùiÚ¬y
();

308 
NSImage
* 
£ËùiÚImage
(
boŞ
 
fÜûBÏckText
 = 
çl£
) const;

309 
NSImage
* 
¢­shÙD¿gImage
(
Node
*, 
NSReù
* 
imageReù
, NSReù* 
–em’tReù
) const;

310 
NSImage
* 
nodeImage
(
Node
*) const;

312 
	g´iv©e
:

313 
NSImage
* 
imageFromReù
(
NSReù
) const;

317 
	gpublic
:

318 
NSDiùiÚ¬y
* 
fÚtA‰ribu‹sFÜS–eùiÚS¹
() const;

319 
NSWr™šgDœeùiÚ
 
ba£Wr™šgDœeùiÚFÜS–eùiÚS¹
() const;

323 #ià
PLATFORM
(
WIN
)

325 
	gpublic
:

327 
HBITMAP
 
nodeImage
(
Node
*) const;

331 
	g´iv©e
:

332 
Page
* 
m_·ge
;

333 
mubË
 
F¿meT»e
 
	gm_Œ“Node
;

334 
mubË
 
F¿meLßd”
 
	gm_lßd”
;

335 
mubË
 
RedœeùScheduËr
 
	gm_»dœeùScheduËr
;

337 
mubË
 
	gRefPŒ
<
	gDOMWšdow
> 
	gm_domWšdow
;

338 
	gHashS‘
<
	gDOMWšdow
*> 
	gm_liveFÜm”Wšdows
;

340 
HTMLF¿meOwÃrEËm’t
* 
	gm_owÃrEËm’t
;

341 
	gRefPŒ
<
	gF¿meV›w
> 
	gm_v›w
;

342 
	gRefPŒ
<
	gDocum’t
> 
	gm_doc
;

344 
SütCÚŒŞËr
 
	gm_süt
;

346 
SŒšg
 
	gm_kjsStusB¬Text
;

347 
SŒšg
 
	gm_kjsDeçuÉStusB¬Text
;

349 
	gm_zoomFaùÜ
;

351 
mubË
 
S–eùiÚCÚŒŞËr
 
	gm_£ËùiÚCÚŒŞËr
;

352 
mubË
 
VisibËS–eùiÚ
 
	gm_m¬k
;

353 
mubË
 
Ed™Ü
 
	gm_ed™Ü
;

354 
mubË
 
Ev’tHªdËr
 
	gm_ev’tHªdËr
;

355 
mubË
 
Anim©iÚCÚŒŞËr
 
	gm_ªim©iÚCÚŒŞËr
;

357 
	gRefPŒ
<
	gCSSMubËStyËDeş¬©iÚ
> 
	gm_typšgStyË
;

359 
	gTim”
<
	gF¿me
> 
	gm_liãSuµÜtTim”
;

361 #ià
ENABLE
(
ORIENTATION_EVENTS
)

362 
	gm_Ü›Á©iÚ
;

365 
boŞ
 
	gm_highlightTextM©ches
;

366 
boŞ
 
	gm_šV›wSourûMode
;

367 
boŞ
 
	gm_ÃedsR—µlyStyËs
;

368 
boŞ
 
	gm_isDiscÚÃùed
;

369 
boŞ
 
	gm_exşudeFromTextS—rch
;

371 #ià
ENABLE
(
TILED_BACKING_STORE
)

372 
	gOwnPŒ
<
	gTedBackšgStÜe
> 
	gm_tedBackšgStÜe
;

	@FrameLoadRequest.h

26 #iâdeà
F¿meLßdReque¡_h


27 
	#F¿meLßdReque¡_h


	)

29 
	~"ResourûReque¡.h
"

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	sF¿meLßdReque¡
 {

34 
	gpublic
:

35 
F¿meLßdReque¡
()

39 
F¿meLßdReque¡
(cÚ¡ 
ResourûReque¡
& 
»sourûReque¡
)

40 : 
m_»sourûReque¡
(
»sourûReque¡
)

44 
F¿meLßdReque¡
(cÚ¡ 
ResourûReque¡
& 
»sourûReque¡
, cÚ¡ 
SŒšg
& 
äameName
)

45 : 
m_»sourûReque¡
(
»sourûReque¡
)

46 , 
m_äameName
(
äameName
)

50 
boŞ
 
isEm±y
(ècÚ¡ {  
	gm_»sourûReque¡
.isEmpty(); }

52 
	gResourûReque¡
& 
»sourûReque¡
(è{  
	gm_»sourûReque¡
; }

53 cÚ¡ 
	gResourûReque¡
& 
»sourûReque¡
(ècÚ¡ {  
	gm_»sourûReque¡
; }

55 cÚ¡ 
	gSŒšg
& 
äameName
(ècÚ¡ {  
	gm_äameName
; }

56 
£tF¿meName
(cÚ¡ 
SŒšg
& 
äameName
è{ 
	gm_äameName
 = frameName; }

58 
	g´iv©e
:

59 
ResourûReque¡
 
m_»sourûReque¡
;

60 
SŒšg
 
	gm_äameName
;

	@FrameTree.cpp

20 
	~"cÚfig.h
"

21 
	~"F¿meT»e.h
"

23 
	~"F¿me.h
"

24 
	~"F¿meV›w.h
"

25 
	~"Page.h
"

26 
	~"PageGroup.h
"

27 
	~<¡d¬g.h
>

28 
	~<wtf/SŒšgExŒas.h
>

29 
	~<wtf/VeùÜ.h
>

31 
usšg
 
	g¡d
::
sw­
;

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	gF¿meT»e
::~
F¿meT»e
()

37 
F¿me
* 
chd
 = 
fœ¡Chd
(); 
	gchd
; chd = chd->
Œ“
()->
ÃxtSiblšg
())

38 
chd
->
£tV›w
(0);

41 
	gF¿meT»e
::
£tName
(cÚ¡ 
AtomicSŒšg
& 
Çme
)

43 ià(!
·»Á
()) {

44 
m_Çme
 = 
Çme
;

47 
	gm_Çme
 = 
AtomicSŒšg
();

48 
	gm_Çme
 = 
·»Á
()->
Œ“
()->
uniqueChdName
(
Çme
);

51 
	gF¿meT»e
::
ş—rName
()

53 
m_Çme
 = 
AtomicSŒšg
();

56 
F¿me
* 
	gF¿meT»e
::
·»Á
(
boŞ
 
checkFÜDiscÚÃùedF¿me
) const

58 ià(
checkFÜDiscÚÃùedF¿me
 && 
m_thisF¿me
->
isDiscÚÃùed
())

60  
	gm_·»Á
;

63 
	gF¿meT»e
::
­³ndChd
(
PassRefPŒ
<
F¿me
> 
chd
)

65 
ASSERT
(
chd
->
·ge
(è=ğ
m_thisF¿me
->page());

66 
	gchd
->
Œ“
()->
	gm_·»Á
 = 
m_thisF¿me
;

68 
F¿me
* 
	gŞdLa¡
 = 
m_Ï¡Chd
;

69 
	gm_Ï¡Chd
 = 
chd
.
g‘
();

71 ià(
	gŞdLa¡
) {

72 
	gchd
->
Œ“
()->
	gm_´eviousSiblšg
 = 
ŞdLa¡
;

73 
	gŞdLa¡
->
Œ“
()->
	gm_ÃxtSiblšg
 = 
chd
;

75 
	gm_fœ¡Chd
 = 
chd
;

77 
	gm_chdCouÁ
++;

79 
ASSERT
(!
m_Ï¡Chd
->
Œ“
()->
m_ÃxtSiblšg
);

82 
	gF¿meT»e
::
»moveChd
(
F¿me
* 
chd
)

84 
chd
->
Œ“
()->
m_·»Á
 = 0;

90 
	gRefPŒ
<
	gF¿me
>& 
	gÃwLoÿtiÚFÜNext
 = 
m_fœ¡Chd
 =ğ
chd
 ? m_fœ¡Chd : chd->
Œ“
()->
m_´eviousSiblšg
->Œ“()->
m_ÃxtSiblšg
;

91 
	gF¿me
*& 
	gÃwLoÿtiÚFÜP»vious
 = 
m_Ï¡Chd
 =ğ
chd
 ? m_Ï¡Chd : chd->
Œ“
()->
m_ÃxtSiblšg
->Œ“()->
m_´eviousSiblšg
;

92 
sw­
(
ÃwLoÿtiÚFÜNext
, 
chd
->
Œ“
()->
m_ÃxtSiblšg
);

94 
	g¡d
::
sw­
(
ÃwLoÿtiÚFÜP»vious
, 
chd
->
Œ“
()->
m_´eviousSiblšg
);

96 
	gchd
->
Œ“
()->
	gm_´eviousSiblšg
 = 0;

97 
	gchd
->
Œ“
()->
	gm_ÃxtSiblšg
 = 0;

99 
	gm_chdCouÁ
--;

102 
AtomicSŒšg
 
	gF¿meT»e
::
uniqueChdName
(cÚ¡ AtomicSŒšg& 
»que¡edName
) const

104 ià(!
»que¡edName
.
isEm±y
(è&& !
chd
(requestedName) &&„equestedName != "_blank")

105  
»que¡edName
;

114 cÚ¡ 
	gäameP©hP»fix
[] = "<!--framePath ";

115 cÚ¡ 
	gäameP©hP»fixL’gth
 = 14;

116 cÚ¡ 
	gäameP©hSuffixL’gth
 = 3;

119 
	gVeùÜ
<
	gF¿me
*, 16> 
	gchaš
;

120 
F¿me
* 
	gäame
;

121 
	gäame
 = 
m_thisF¿me
; f¿me; f¿mğ
äame
->
Œ“
()->
·»Á
()) {

122 ià(
äame
->
Œ“
()->
Çme
().
¡¬tsW™h
(
äameP©hP»fix
))

124 
	gchaš
.
­³nd
(
äame
);

126 
SŒšg
 
	gÇme
;

127 
	gÇme
 +ğ
äameP©hP»fix
;

128 ià(
	gäame
)

129 
	gÇme
 +ğ
äame
->
Œ“
()->
Çme
().
¡ršg
().
sub¡ršg
(
äameP©hP»fixL’gth
,

130 
äame
->
Œ“
()->
Çme
().
Ëngth
(è- 
äameP©hP»fixL’gth
 - 
äameP©hSuffixL’gth
);

131 
	gi
 = 
chaš
.
size
() - 1; i >= 0; --i) {

132 
	gäame
 = 
chaš
[
i
];

133 
	gÇme
 += "/";

134 
	gÇme
 +ğ
äame
->
Œ“
()->
Çme
();

143 
	gsuffix
[40];

144 
¢´štf
(
suffix
, (suffix), "/<!--äame%u-->-->", 
chdCouÁ
());

146 
	gÇme
 +ğ
suffix
;

148  
AtomicSŒšg
(
Çme
);

151 
F¿me
* 
	gF¿meT»e
::
chd
(
šdex
) const

153 
F¿me
* 
»suÉ
 = 
fœ¡Chd
();

154 
	gi
 = 0; 
	g»suÉ
 && i !ğ
šdex
; ++i)

155 
	g»suÉ
 = 
»suÉ
->
Œ“
()->
ÃxtSiblšg
();

156  
	g»suÉ
;

159 
F¿me
* 
	gF¿meT»e
::
chd
(cÚ¡ 
AtomicSŒšg
& 
Çme
) const

161 
F¿me
* 
chd
 = 
fœ¡Chd
(); 
	gchd
; chd = chd->
Œ“
()->
ÃxtSiblšg
())

162 ià(
chd
->
Œ“
()->
Çme
() ==‚ame)

163  
chd
;

167 
F¿me
* 
	gF¿meT»e
::
fšd
(cÚ¡ 
AtomicSŒšg
& 
Çme
) const

169 ià(
Çme
 =ğ"_£lf" ||‚am=ğ"_cu¼’t" ||‚ame.
isEm±y
())

170  
m_thisF¿me
;

172 ià(
	gÇme
 == "_top")

173  
tİ
();

175 ià(
	gÇme
 == "_parent")

176  
·»Á
(è?…¬’t(è: 
m_thisF¿me
;

179 ià(
	gÇme
 == "_blank")

183 
F¿me
* 
	gäame
 = 
m_thisF¿me
; f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
(m_thisFrame))

184 ià(
äame
->
Œ“
()->
Çme
() ==‚ame)

185  
äame
;

188 
Page
* 
	g·ge
 = 
m_thisF¿me
->
·ge
();

191 ià(!
	g·ge
)

194 
F¿me
* 
	gäame
 = 
·ge
->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

195 ià(
äame
->
Œ“
()->
Çme
() ==‚ame)

196  
äame
;

200 cÚ¡ 
	gHashS‘
<
	gPage
*>& 
	g·ges
 = 
·ge
->
group
().
·ges
();

201 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
’d
 = 
·ges
.end();

202 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
™
 = 
·ges
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

203 
Page
* 
	gÙh”Page
 = *
™
;

204 ià(
	gÙh”Page
 !ğ
·ge
) {

205 
F¿me
* 
äame
 = 
Ùh”Page
->
mašF¿me
(); 
	gäame
; f¿mğäame->
Œ“
()->
Œav”£Next
()) {

206 ià(
äame
->
Œ“
()->
Çme
() ==‚ame)

207  
äame
;

215 
boŞ
 
	gF¿meT»e
::
isDesûndªtOf
(cÚ¡ 
F¿me
* 
ªû¡Ü
) const

217 ià(!
ªû¡Ü
)

218  
çl£
;

220 ià(
	gm_thisF¿me
->
·ge
(è!ğ
ªû¡Ü
->page())

221  
çl£
;

223 
F¿me
* 
	gäame
 = 
m_thisF¿me
; f¿me; f¿mğ
äame
->
Œ“
()->
·»Á
())

224 ià(
äame
 =ğ
ªû¡Ü
)

225  
Œue
;

226  
	gçl£
;

229 
F¿me
* 
	gF¿meT»e
::
Œav”£Next
(cÚ¡ F¿me* 
¡ayW™hš
) const

231 
F¿me
* 
chd
 = 
fœ¡Chd
();

232 ià(
	gchd
) {

233 
ASSERT
(!
¡ayW™hš
 || 
chd
->
Œ“
()->
isDesûndªtOf
(stayWithin));

234  
	gchd
;

237 ià(
	gm_thisF¿me
 =ğ
¡ayW™hš
)

240 
F¿me
* 
	gsiblšg
 = 
ÃxtSiblšg
();

241 ià(
	gsiblšg
) {

242 
ASSERT
(!
¡ayW™hš
 || 
siblšg
->
Œ“
()->
isDesûndªtOf
(stayWithin));

243  
	gsiblšg
;

246 
F¿me
* 
	gäame
 = 
m_thisF¿me
;

247 !
	gsiblšg
 && (!
	g¡ayW™hš
 || 
	gäame
->
Œ“
()->
·»Á
(è!ğ
¡ayW™hš
)) {

248 
äame
 = f¿me->
Œ“
()->
·»Á
();

249 ià(!
	gäame
)

251 
	gsiblšg
 = 
äame
->
Œ“
()->
ÃxtSiblšg
();

254 ià(
	gäame
) {

255 
ASSERT
(!
¡ayW™hš
 || !
siblšg
 || siblšg->
Œ“
()->
isDesûndªtOf
(stayWithin));

256  
	gsiblšg
;

262 
F¿me
* 
	gF¿meT»e
::
Œav”£NextW™hW¿p
(
boŞ
 
w¿p
) const

264 ià(
F¿me
* 
»suÉ
 = 
Œav”£Next
())

265  
»suÉ
;

267 ià(
	gw¿p
)

268  
	gm_thisF¿me
->
·ge
()->
mašF¿me
();

273 
F¿me
* 
	gF¿meT»e
::
Œav”£P»viousW™hW¿p
(
boŞ
 
w¿p
) const

277 ià(
F¿me
* 
´evSiblšg
 = 
´eviousSiblšg
())

278  
´evSiblšg
->
Œ“
()->
d“pLa¡Chd
();

279 ià(
F¿me
* 
	g·»ÁF¿me
 = 
·»Á
())

280  
·»ÁF¿me
;

283 ià(
	gw¿p
)

284  
d“pLa¡Chd
();

290 
F¿me
* 
	gF¿meT»e
::
d“pLa¡Chd
() const

292 
F¿me
* 
»suÉ
 = 
m_thisF¿me
;

293 
F¿me
* 
	gÏ¡
 = 
Ï¡Chd
();†a¡;†a¡ = 
Ï¡
->
Œ“
()->lastChild())

294 
»suÉ
 = 
Ï¡
;

296  
	g»suÉ
;

299 
F¿me
* 
	gF¿meT»e
::
tİ
(
boŞ
 
checkFÜDiscÚÃùedF¿me
) const

301 
F¿me
* 
äame
 = 
m_thisF¿me
;

302 
F¿me
* 
	g·»Á
 = 
m_thisF¿me
;…¬’t;…¬’ˆğ
·»Á
->
Œ“
()->parent()) {

303 
äame
 = 
·»Á
;

304 ià(
	gcheckFÜDiscÚÃùedF¿me
 && 
	gäame
->
isDiscÚÃùed
())

305  
	gäame
;

307  
	gäame
;

	@FrameTree.h

20 #iâdeà
F¿meT»e_h


21 
	#F¿meT»e_h


	)

23 
	~"AtomicSŒšg.h
"

25 
Çme¥aû
 
	gWebCÜe
 {

27 
şass
 
	gF¿me
;

29 şas 
	cF¿meT»e
 : 
public
 
NÚcİyabË
 {

30 
public
:

31 
F¿meT»e
(
F¿me
* 
thisF¿me
, F¿me* 
·»ÁF¿me
)

32 : 
m_thisF¿me
(
thisF¿me
)

33 , 
m_·»Á
(
·»ÁF¿me
)

34 , 
m_´eviousSiblšg
(0)

35 , 
m_Ï¡Chd
(0)

36 , 
m_chdCouÁ
(0)

39 ~
F¿meT»e
();

41 cÚ¡ 
	gAtomicSŒšg
& 
Çme
(ècÚ¡ {  
	gm_Çme
; }

42 
£tName
(cÚ¡ 
AtomicSŒšg
&);

43 
ş—rName
();

44 
F¿me
* 
·»Á
(
boŞ
 
checkFÜDiscÚÃùedF¿me
 = 
çl£
) const;

45 
£tP¬’t
(
F¿me
* 
·»Á
è{ 
	gm_·»Á
 =…arent; }

47 
F¿me
* 
ÃxtSiblšg
(ècÚ¡ {  
	gm_ÃxtSiblšg
.
g‘
(); }

48 
F¿me
* 
´eviousSiblšg
(ècÚ¡ {  
	gm_´eviousSiblšg
; }

49 
F¿me
* 
fœ¡Chd
(ècÚ¡ {  
	gm_fœ¡Chd
.
g‘
(); }

50 
F¿me
* 
Ï¡Chd
(ècÚ¡ {  
	gm_Ï¡Chd
; }

51 
chdCouÁ
(ècÚ¡ {  
	gm_chdCouÁ
; }

53 
boŞ
 
isDesûndªtOf
(cÚ¡ 
F¿me
* 
ªû¡Ü
) const;

54 
F¿me
* 
Œav”£Next
(cÚ¡ F¿me* 
¡ayW™hš
 = 0) const;

55 
F¿me
* 
Œav”£NextW™hW¿p
(
boŞ
) const;

56 
F¿me
* 
Œav”£P»viousW™hW¿p
(
boŞ
) const;

58 
­³ndChd
(
PassRefPŒ
<
F¿me
>);

59 
d‘achFromP¬’t
(è{ 
	gm_·»Á
 = 0; }

60 
»moveChd
(
F¿me
*);

62 
F¿me
* 
chd
(
šdex
) const;

63 
F¿me
* 
chd
(cÚ¡ 
AtomicSŒšg
& 
Çme
) const;

64 
F¿me
* 
fšd
(cÚ¡ 
AtomicSŒšg
& 
Çme
) const;

66 
AtomicSŒšg
 
uniqueChdName
(cÚ¡ AtomicSŒšg& 
»que¡edName
) const;

68 
F¿me
* 
tİ
(
boŞ
 
checkFÜDiscÚÃùedF¿me
 = 
çl£
) const;

70 
	g´iv©e
:

71 
F¿me
* 
d“pLa¡Chd
() const;

73 
F¿me
* 
	gm_thisF¿me
;

75 
F¿me
* 
	gm_·»Á
;

76 
AtomicSŒšg
 
	gm_Çme
;

79 
	gRefPŒ
<
	gF¿me
> 
	gm_ÃxtSiblšg
;

80 
F¿me
* 
	gm_´eviousSiblšg
;

81 
	gRefPŒ
<
	gF¿me
> 
	gm_fœ¡Chd
;

82 
F¿me
* 
	gm_Ï¡Chd
;

83 
	gm_chdCouÁ
;

	@FrameView.cpp

27 
	~"cÚfig.h
"

28 
	~"F¿meV›w.h
"

30 
	~"AXObjeùCache.h
"

31 
	~"CSSStyËS–eùÜ.h
"

32 
	~"Chrome.h
"

33 
	~"ChromeCl›Á.h
"

34 
	~"DocLßd”.h
"

35 
	~"Ev’tHªdËr.h
"

36 
	~"FlßtReù.h
"

37 
	~"FocusCÚŒŞËr.h
"

38 
	~"F¿me.h
"

39 
	~"F¿meLßd”.h
"

40 
	~"F¿meLßd”Cl›Á.h
"

41 
	~"F¿meT»e.h
"

42 
	~"G¿phicsCÚ‹xt.h
"

43 
	~"HTMLDocum’t.h
"

44 
	~"HTMLF¿meEËm’t.h
"

45 
	~"HTMLF¿meS‘EËm’t.h
"

46 
	~"HTMLNames.h
"

47 
	~"In¥eùÜTim–šeAg’t.h
"

48 
	~"Ov”æowEv’t.h
"

49 
	~"R’d”EmbeddedObjeù.h
"

50 
	~"R’d”P¬t.h
"

51 
	~"R’d”SüŞlb¬.h
"

52 
	~"R’d”SüŞlb¬P¬t.h
"

53 
	~"R’d”Theme.h
"

54 
	~"R’d”V›w.h
"

55 
	~"S‘tšgs.h
"

56 
	~"TextResourûDecod”.h
"

57 
	~<wtf/Cu¼’tTime.h
>

59 #ià
USE
(
ACCELERATED_COMPOSITING
)

60 
	~"R’d”Lay”Compos™Ü.h
"

63 #ià
ENABLE
(
SVG
)

64 
	~"SVGDocum’t.h
"

65 
	~"SVGLoÿbË.h
"

66 
	~"SVGNames.h
"

67 
	~"SVGP»£rveA¥eùR©io.h
"

68 
	~"SVGSVGEËm’t.h
"

69 
	~"SVGV›wEËm’t.h
"

70 
	~"SVGV›wS³c.h
"

73 #ià
ENABLE
(
TILED_BACKING_STORE
)

74 
	~"TedBackšgStÜe.h
"

77 
Çme¥aû
 
	gWebCÜe
 {

79 
usšg
 
Çme¥aû
 
	gHTMLNames
;

81 
	gF¿meV›w
::
sCu¼’tPaštTimeSmp
 = 0.0;

83 #ià
ENABLE
(
REPAINT_THROTTLING
)

85 cÚ¡ 
	gdeã¼edR•aštD–ay
 = 0.025;

87 cÚ¡ 
	gš™ŸlDeã¼edR•aštD–ayDuršgLßdšg
 = 0;

89 cÚ¡ 
	gmaxDeã¼edR•aštD–ayDuršgLßdšg
 = 2.5;

91 cÚ¡ 
	gdeã¼edR•aštD–ayInüem’tDuršgLßdšg
 = 0.5;

96 cÚ¡ 
	gdeã¼edR•aštD–ay
 = 0;

97 cÚ¡ 
	gš™ŸlDeã¼edR•aštD–ayDuršgLßdšg
 = 0;

98 cÚ¡ 
	gmaxDeã¼edR•aštD–ayDuršgLßdšg
 = 0;

99 cÚ¡ 
	gdeã¼edR•aštD–ayInüem’tDuršgLßdšg
 = 0;

103 cÚ¡ 
	gmaxUpd©eWidg‘sI‹¿tiÚs
 = 2;

105 
	gScheduËdEv’t
 : 
NÚcİyabË
 {

106 
RefPŒ
<
Ev’t
> 
m_ev’t
;

107 
	gRefPŒ
<
	gNode
> 
	gm_ev’tT¬g‘
;

110 
	gF¿meV›w
::
F¿meV›w
(
F¿me
* 
äame
)

111 : 
m_äame
(
äame
)

112 , 
m_ÿnHaveSüŞlb¬s
(
Œue
)

113 , 
m_¦owR•aštObjeùCouÁ
(0)

114 , 
m_fixedObjeùCouÁ
(0)

115 , 
m_ÏyoutTim”
(
this
, &
F¿meV›w
::
ÏyoutTim”Fœed
)

116 , 
m_ÏyoutRoÙ
(0)

117 , 
m_po¡LayoutTasksTim”
(
this
, &
F¿meV›w
::
po¡LayoutTim”Fœed
)

118 , 
m_isT¿n¥¬’t
(
çl£
)

119 , 
m_ba£BackgroundCŞÜ
(
CŞÜ
::
wh™e
)

120 , 
m_medŸTy³
("screen")

121 , 
m_’queueEv’ts
(0)

122 , 
m_ov”æowStusDœty
(
Œue
)

123 , 
m_v›wpÜtR’d””
(0)

124 , 
m_wasSüŞËdByU£r
(
çl£
)

125 , 
m_šProg¿mm©icSüŞl
(
çl£
)

126 , 
m_deã¼edR•aštTim”
(
this
, &
F¿meV›w
::
deã¼edR•aštTim”Fœed
)

127 , 
m_shouldUpd©eWheOffsü“n
(
Œue
)

128 , 
m_deãrS‘N“dsLayouts
(0)

129 , 
m_£tN“dsLayoutWasDeã¼ed
(
çl£
)

130 , 
m_süŞlCÜÃr
(0)

132 
š™
();

135 
	gPassRefPŒ
<
	gF¿meV›w
> F¿meV›w::
ü—‹
(
F¿me
* 
äame
)

137 
RefPŒ
<
F¿meV›w
> 
v›w
 = 
adİtRef
(
Ãw
 F¿meV›w(
äame
));

138 
	gv›w
->
show
();

139  
	gv›w
.
»Ëa£
();

142 
	gPassRefPŒ
<
	gF¿meV›w
> F¿meV›w::
ü—‹
(
F¿me
* 
äame
, cÚ¡ 
IÁSize
& 
š™ŸlSize
)

144 
	gRefPŒ
<
	gF¿meV›w
> 
	gv›w
 = 
adİtRef
(
Ãw
 
F¿meV›w
(
äame
));

145 
	gv›w
->
	gWidg‘
::
£tF¿meReù
(
IÁReù
(
v›w
->
pos
(), 
š™ŸlSize
));

146 
	gv›w
->
show
();

147  
	gv›w
.
»Ëa£
();

150 
	gF¿meV›w
::~
F¿meV›w
()

152 ià(
m_po¡LayoutTasksTim”
.
isAùive
()) {

153 
m_po¡LayoutTasksTim”
.
¡İ
();

154 
	gm_scheduËdEv’ts
.
ş—r
();

155 
	gm_’queueEv’ts
 = 0;

158 
»£tSüŞlb¬s
();

161 
ASSERT
(!
hÜizÚlSüŞlb¬
(è|| !hÜizÚlSüŞlb¬()->
isCu¡omSüŞlb¬
());

162 
ASSERT
(!
v”tiÿlSüŞlb¬
(è|| !v”tiÿlSüŞlb¬()->
isCu¡omSüŞlb¬
());

164 
£tHasHÜizÚlSüŞlb¬
(
çl£
);

165 
£tHasV”tiÿlSüŞlb¬
(
çl£
);

167 
ASSERT
(!
m_süŞlCÜÃr
);

168 
ASSERT
(
m_scheduËdEv’ts
.
isEm±y
());

169 
ASSERT
(!
m_’queueEv’ts
);

171 ià(
	gm_äame
) {

172 
ASSERT
(
m_äame
->
v›w
(è!ğ
this
 || !m_äame->
cÚ‹ÁR’d””
());

173 
R’d”P¬t
* 
	g»nd””
 = 
m_äame
->
owÃrR’d””
();

174 ià(
	g»nd””
 &&„’d””->
widg‘
(è=ğ
this
)

175 
»nd””
->
£tWidg‘
(0);

179 
	gF¿meV›w
::
»£t
()

181 
m_u£SlowR•ašts
 = 
çl£
;

182 
	gm_isOv”Ïµed
 = 
çl£
;

183 
	gm_cÚ‹ÁIsO·que
 = 
çl£
;

184 
	gm_bÜd”X
 = 30;

185 
	gm_bÜd”Y
 = 30;

186 
	gm_ÏyoutTim”
.
¡İ
();

187 
	gm_ÏyoutRoÙ
 = 0;

188 
	gm_d–ayedLayout
 = 
çl£
;

189 
	gm_doFuÎR•ašt
 = 
Œue
;

190 
	gm_ÏyoutSchedulšgEÇbËd
 = 
Œue
;

191 
	gm_midLayout
 = 
çl£
;

192 
	gm_ÏyoutCouÁ
 = 0;

193 
	gm_Ã¡edLayoutCouÁ
 = 0;

194 
	gm_po¡LayoutTasksTim”
.
¡İ
();

195 
	gm_fœ¡Layout
 = 
Œue
;

196 
	gm_fœ¡LayoutC®lbackP’dšg
 = 
çl£
;

197 
	gm_wasSüŞËdByU£r
 = 
çl£
;

198 
	gm_Ï¡LayoutSize
 = 
IÁSize
();

199 
	gm_Ï¡ZoomFaùÜ
 = 1.0f;

200 
	gm_deã¼šgR•ašts
 = 0;

201 
	gm_»·štCouÁ
 = 0;

202 
	gm_»·štReùs
.
ş—r
();

203 
	gm_deã¼edR•aštD–ay
 = 
š™ŸlDeã¼edR•aštD–ayDuršgLßdšg
;

204 
	gm_deã¼edR•aštTim”
.
¡İ
();

205 
	gm_Ï¡PaštTime
 = 0;

206 
	gm_·štBehaviÜ
 = 
PaštBehaviÜNÜm®
;

207 
	gm_isPaštšg
 = 
çl£
;

208 
	gm_isVisu®lyNÚEm±y
 = 
çl£
;

209 
	gm_fœ¡Visu®lyNÚEm±yLayoutC®lbackP’dšg
 = 
Œue
;

210 
	gm_maššSüŞlPos™iÚAnchÜ
 = 0;

213 
boŞ
 
	gF¿meV›w
::
isF¿meV›w
() const

215  
Œue
;

218 
	gF¿meV›w
::
ş—rF¿me
()

220 
m_äame
 = 0;

223 
	gF¿meV›w
::
»£tSüŞlb¬s
()

226 
m_fœ¡Layout
 = 
Œue
;

227 
£tSüŞlb¬sSuµ»s£d
(
Œue
);

228 ià(
	gm_ÿnHaveSüŞlb¬s
)

229 
£tSüŞlb¬Modes
(
SüŞlb¬Auto
, ScrollbarAuto);

231 
£tSüŞlb¬Modes
(
SüŞlb¬AlwaysOff
, ScrollbarAlwaysOff);

232 
£tSüŞlb¬sSuµ»s£d
(
çl£
);

235 
	gF¿meV›w
::
š™
()

237 
»£t
();

239 
	gm_m¬gšs
 = 
IÁSize
(-1, -1);

240 
	gm_size
 = 
IÁSize
();

243 
EËm’t
* 
	gowÃrEËm’t
 = 
m_äame
 && m_äame->
docum’t
(è? m_äame->docum’t()->
owÃrEËm’t
() : 0;

244 ià(
	gowÃrEËm’t
 && (owÃrEËm’t->
hasTagName
(
äameTag
è|| owÃrEËm’t->hasTagName(
iäameTag
))) {

245 
HTMLF¿meEËm’t
* 
	gäameEÉ
 = 
¡©ic_ÿ¡
<HTMLF¿meEËm’t*>(
owÃrEËm’t
);

246 ià(
	gäameEÉ
->
süŞlšgMode
(è=ğ
SüŞlb¬AlwaysOff
)

247 
£tCªHaveSüŞlb¬s
(
çl£
);

248 
	gm¬gšWidth
 = 
äameEÉ
->
g‘M¬gšWidth
();

249 
	gm¬gšHeight
 = 
äameEÉ
->
g‘M¬gšHeight
();

250 ià(
	gm¬gšWidth
 != -1)

251 
£tM¬gšWidth
(
m¬gšWidth
);

252 ià(
	gm¬gšHeight
 != -1)

253 
£tM¬gšHeight
(
m¬gšHeight
);

257 
	gF¿meV›w
::
d‘achCu¡omSüŞlb¬s
()

259 ià(!
m_äame
)

262 
SüŞlb¬
* 
	ghÜizÚlB¬
 = 
hÜizÚlSüŞlb¬
();

263 ià(
	ghÜizÚlB¬
 && hÜizÚlB¬->
isCu¡omSüŞlb¬
(è&& !
toR’d”SüŞlb¬
(
hÜizÚlB¬
)->
ownšgR’d””
()->
isR’d”P¬t
())

264 
£tHasHÜizÚlSüŞlb¬
(
çl£
);

266 
SüŞlb¬
* 
	gv”tiÿlB¬
 = 
v”tiÿlSüŞlb¬
();

267 ià(
	gv”tiÿlB¬
 && v”tiÿlB¬->
isCu¡omSüŞlb¬
(è&& !
toR’d”SüŞlb¬
(
v”tiÿlB¬
)->
ownšgR’d””
()->
isR’d”P¬t
())

268 
£tHasV”tiÿlSüŞlb¬
(
çl£
);

270 ià(
	gm_süŞlCÜÃr
) {

271 
	gm_süŞlCÜÃr
->
de¡roy
();

272 
	gm_süŞlCÜÃr
 = 0;

276 
	gF¿meV›w
::
ş—r
()

278 
£tCªBl™OnSüŞl
(
Œue
);

280 
»£t
();

282 ià(
	gm_äame
) {

283 ià(
R’d”P¬t
* 
	g»nd””
 = 
m_äame
->
owÃrR’d””
())

284 
»nd””
->
v›wCË¬ed
();

287 
£tSüŞlb¬sSuµ»s£d
(
Œue
);

290 
boŞ
 
	gF¿meV›w
::
didFœ¡Layout
() const

292  !
m_fœ¡Layout
;

295 
	gF¿meV›w
::
šv®id©eReù
(cÚ¡ 
IÁReù
& 
»ù
)

297 ià(!
·»Á
()) {

298 ià(
ho¡Wšdow
())

299 
ho¡Wšdow
()->
šv®id©eCÚ‹ÁsAndWšdow
(
»ù
, 
çl£
 );

303 ià(!
	gm_äame
)

306 
R’d”P¬t
* 
	g»nd””
 = 
m_äame
->
owÃrR’d””
();

307 ià(!
	g»nd””
)

310 
IÁReù
 
	g»·štReù
 = 
»ù
;

311 
	g»·štReù
.
move
(
»nd””
->
bÜd”Leá
(è+„’d””->
·ddšgLeá
(),

312 
»nd””
->
bÜd”Tİ
(è+„’d””->
·ddšgTİ
());

313 
	g»nd””
->
»·štReùªgË
(
»·štReù
);

316 
	gF¿meV›w
::
£tM¬gšWidth
(
w
)

319 
m_m¬gšs
.
£tWidth
(
w
);

322 
	gF¿meV›w
::
£tM¬gšHeight
(
h
)

325 
m_m¬gšs
.
£tHeight
(
h
);

328 
boŞ
 
	gF¿meV›w
::
avoidSüŞlb¬C»©iÚ
()

330 
ASSERT
(
m_äame
);

336 ià(!
	gm_äame
->
owÃrEËm’t
())

337  
	gçl£
;

339 ià(!
	gm_äame
->
£‰šgs
(è|| m_äame->£‰šgs()->
äameFÏ‰’šgEÇbËd
())

340  
	gŒue
;

342  
	gçl£
;

345 
	gF¿meV›w
::
£tCªHaveSüŞlb¬s
(
boŞ
 
ÿnHaveSüŞlb¬s
)

347 
m_ÿnHaveSüŞlb¬s
 = 
ÿnHaveSüŞlb¬s
;

348 
	gSüŞlV›w
::
£tCªHaveSüŞlb¬s
(
ÿnHaveSüŞlb¬s
);

351 
	gF¿meV›w
::
upd©eCªHaveSüŞlb¬s
()

353 
SüŞlb¬Mode
 
hMode
;

354 
SüŞlb¬Mode
 
	gvMode
;

355 
süŞlb¬Modes
(
hMode
, 
vMode
);

356 ià(
	ghMode
 =ğ
SüŞlb¬AlwaysOff
 && 
vMode
 == ScrollbarAlwaysOff)

357 
m_ÿnHaveSüŞlb¬s
 = 
çl£
;

359 
	gm_ÿnHaveSüŞlb¬s
 = 
Œue
;

362 
	gPassRefPŒ
<
	gSüŞlb¬
> 
	gF¿meV›w
::
ü—‹SüŞlb¬
(
SüŞlb¬Or›Á©iÚ
 
Ü›Á©iÚ
)

365 
Docum’t
* 
doc
 = 
m_äame
->
docum’t
();

368 
EËm’t
* 
	gbody
 = 
doc
 ? doc->
body
() : 0;

369 ià(
	gbody
 && body->
»nd””
(è&& body->»nd””()->
¡yË
()->
hasP£udoStyË
(
SCROLLBAR
))

370  
	gR’d”SüŞlb¬
::
ü—‹Cu¡omSüŞlb¬
(
this
, 
Ü›Á©iÚ
, 
body
->
»nd””
()->
’şosšgBox
());

373 
EËm’t
* 
	gdocEËm’t
 = 
doc
 ? doc->
docum’tEËm’t
() : 0;

374 ià(
	gdocEËm’t
 && docEËm’t->
»nd””
(è&& docEËm’t->»nd””()->
¡yË
()->
hasP£udoStyË
(
SCROLLBAR
))

375  
	gR’d”SüŞlb¬
::
ü—‹Cu¡omSüŞlb¬
(
this
, 
Ü›Á©iÚ
, 
docEËm’t
->
»nd”Box
());

378 
R’d”P¬t
* 
	gäameR’d””
 = 
m_äame
->
owÃrR’d””
();

379 ià(
	gäameR’d””
 && f¿meR’d””->
¡yË
()->
hasP£udoStyË
(
SCROLLBAR
))

380  
	gR’d”SüŞlb¬
::
ü—‹Cu¡omSüŞlb¬
(
this
, 
Ü›Á©iÚ
, 
äameR’d””
);

383  
	gSüŞlV›w
::
ü—‹SüŞlb¬
(
Ü›Á©iÚ
);

386 
	gF¿meV›w
::
£tCÚ‹ÁsSize
(cÚ¡ 
IÁSize
& 
size
)

388 ià(
size
 =ğ
cÚ‹ÁsSize
())

391 
	gm_deãrS‘N“dsLayouts
++;

393 
	gSüŞlV›w
::
£tCÚ‹ÁsSize
(
size
);

395 
Page
* 
	g·ge
 = 
äame
(è? f¿me()->
·ge
() : 0;

396 ià(!
	g·ge
)

399 
	g·ge
->
chrome
()->
cÚ‹ÁsSizeChªged
(
äame
(), 
size
);

401 
	gm_deãrS‘N“dsLayouts
--;

403 ià(!
	gm_deãrS‘N“dsLayouts
)

404 
	gm_£tN“dsLayoutWasDeã¼ed
 = 
çl£
;

407 
	gF¿meV›w
::
adju¡V›wSize
()

409 
ASSERT
(
m_äame
->
v›w
(è=ğ
this
);

410 
R’d”V›w
* 
	groÙ
 = 
m_äame
->
cÚ‹ÁR’d””
();

411 ià(!
	groÙ
)

414 
£tCÚ‹ÁsSize
(
IÁSize
(
roÙ
->
rightLayoutOv”æow
(),„oÙ->
bÙtomLayoutOv”æow
()));

417 
	gF¿meV›w
::
­¶yOv”æowToV›wpÜt
(
R’d”Objeù
* 
o
, 
SüŞlb¬Mode
& 
hMode
, SüŞlb¬Mode& 
vMode
)

423 
	go
->
¡yË
()->
ov”æowX
()) {

424 
	gOHIDDEN
:

425 
hMode
 = 
SüŞlb¬AlwaysOff
;

427 
	gOSCROLL
:

428 
hMode
 = 
SüŞlb¬AlwaysOn
;

430 
	gOAUTO
:

431 
hMode
 = 
SüŞlb¬Auto
;

438 
	go
->
¡yË
()->
ov”æowY
()) {

439 
	gOHIDDEN
:

440 
vMode
 = 
SüŞlb¬AlwaysOff
;

442 
	gOSCROLL
:

443 
vMode
 = 
SüŞlb¬AlwaysOn
;

445 
	gOAUTO
:

446 
vMode
 = 
SüŞlb¬Auto
;

453 
	gm_v›wpÜtR’d””
 = 
o
;

456 #ià
USE
(
ACCELERATED_COMPOSITING
)

457 
	gF¿meV›w
::
upd©eCompos™šgLay”s
()

459 
R’d”V›w
* 
v›w
 = 
m_äame
->
cÚ‹ÁR’d””
();

460 ià(!
	gv›w
)

464 
	gv›w
->
compos™Ü
()->
ÿcheAcûË¿‹dCompos™šgFÏgs
();

466 ià(!
	gv›w
->
u£sCompos™šg
())

469 
	gv›w
->
compos™Ü
()->
upd©eCompos™šgLay”s
(
Compos™šgUpd©eAá”LayoutOrStyËChªge
);

472 
	gF¿meV›w
::
£tN“dsOÃShÙD¿wšgSynchrÚiz©iÚ
()

474 
Page
* 
·ge
 = 
äame
() ? frame()->page() : 0;

475 ià(
	g·ge
)

476 
	g·ge
->
chrome
()->
ş›Á
()->
£tN“dsOÃShÙD¿wšgSynchrÚiz©iÚ
();

480 
boŞ
 
	gF¿meV›w
::
syncCompos™šgS‹Recursive
()

482 #ià
USE
(
ACCELERATED_COMPOSITING
)

483 
ASSERT
(
m_äame
->
v›w
(è=ğ
this
);

484 
R’d”V›w
* 
	gcÚ‹ÁR’d””
 = 
m_äame
->
cÚ‹ÁR’d””
();

485 ià(!
	gcÚ‹ÁR’d””
)

486  
	gŒue
;

488 ià(
	gm_ÏyoutTim”
.
isAùive
()) {

490  
	gçl£
;

493 ià(
G¿phicsLay”
* 
	groÙLay”
 = 
cÚ‹ÁR’d””
->
compos™Ü
()->
roÙPÏtfÜmLay”
())

494 
roÙLay”
->
syncCompos™šgS‹
();

496 
boŞ
 
	g®lSubäamesSynûd
 = 
Œue
;

497 cÚ¡ 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >* 
	gv›wChd»n
 = 
chd»n
();

498 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >::
cÚ¡_™”©Ü
 
’d
 = 
v›wChd»n
->end();

499 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >::
cÚ¡_™”©Ü
 
cu¼’t
 = 
v›wChd»n
->
begš
(); 
	gcu¼’t
 !ğ
’d
; ++current) {

500 
Widg‘
* 
	gwidg‘
 = (*
cu¼’t
).
g‘
();

501 ià(
	gwidg‘
->
isF¿meV›w
()) {

502 
boŞ
 
	gsynûd
 = 
¡©ic_ÿ¡
<
F¿meV›w
*>(
widg‘
)->
syncCompos™šgS‹Recursive
();

503 
	g®lSubäamesSynûd
 &ğ
synûd
;

506  
	g®lSubäamesSynûd
;

508  
	gŒue
;

512 
boŞ
 
	gF¿meV›w
::
isSoáw¬eR’d”abË
() const

514 #ià
USE
(
ACCELERATED_COMPOSITING
)

515 
R’d”V›w
* 
v›w
 = 
m_äame
->
cÚ‹ÁR’d””
();

516 ià(!
	gv›w
)

517  
	gŒue
;

519  !
	gv›w
->
compos™Ü
()->
has3DCÚ‹Á
();

521  
	gŒue
;

525 
	gF¿meV›w
::
didMoveOnsü“n
()

527 
R’d”V›w
* 
v›w
 = 
m_äame
->
cÚ‹ÁR’d””
();

528 ià(
	gv›w
)

529 
	gv›w
->
didMoveOnsü“n
();

532 
	gF¿meV›w
::
wlMoveOffsü“n
()

534 
R’d”V›w
* 
v›w
 = 
m_äame
->
cÚ‹ÁR’d””
();

535 ià(
	gv›w
)

536 
	gv›w
->
wlMoveOffsü“n
();

539 
R’d”Objeù
* 
	gF¿meV›w
::
ÏyoutRoÙ
(
boŞ
 
ÚlyDuršgLayout
) const

541  
ÚlyDuršgLayout
 && 
ÏyoutP’dšg
(è? 0 : 
m_ÏyoutRoÙ
;

544 
	gF¿meV›w
::
Ïyout
(
boŞ
 
®lowSubŒ“
)

546 ià(
m_midLayout
)

549 
	gm_ÏyoutTim”
.
¡İ
();

550 
	gm_d–ayedLayout
 = 
çl£
;

551 
	gm_£tN“dsLayoutWasDeã¼ed
 = 
çl£
;

554 
	gRefPŒ
<
	gF¿meV›w
> 
´ÙeùÜ
(
this
);

556 ià(!
	gm_äame
) {

559 
	gm_size
.
£tWidth
(
ÏyoutWidth
());

564 
ASSERT
(!
isPaštšg
());

565 ià(
isPaštšg
())

568 #ià
ENABLE
(
INSPECTOR
)

569 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = 
š¥eùÜTim–šeAg’t
())

570 
tim–šeAg’t
->
wlLayout
();

573 ià(!
	g®lowSubŒ“
 && 
	gm_ÏyoutRoÙ
) {

574 
	gm_ÏyoutRoÙ
->
m¬kCÚššgBlocksFÜLayout
(
çl£
);

575 
	gm_ÏyoutRoÙ
 = 0;

578 
ASSERT
(
m_äame
->
v›w
(è=ğ
this
);

582 ià(
	gm_äame
->
v›w
(è!ğ
this
)

585 
Docum’t
* 
	gdocum’t
 = 
m_äame
->
docum’t
();

587 
	gm_ÏyoutSchedulšgEÇbËd
 = 
çl£
;

589 ià(!
	gm_Ã¡edLayoutCouÁ
 && 
	gm_po¡LayoutTasksTim”
.
isAùive
()) {

592 
	gm_po¡LayoutTasksTim”
.
¡İ
();

593 
³rfÜmPo¡LayoutTasks
();

598 ià(
	gdocum’t
->
¡yËS–eùÜ
()->
afãùedByV›wpÜtChªge
())

599 
	gdocum’t
->
upd©eStyËS–eùÜ
();

603 ià(
	gm_äame
->
ÃedsR—µlyStyËs
())

604 
	gm_äame
->
»­¶yStyËs
();

605 ià(
	gdocum’t
->
chdN“dsStyËReÿlc
())

606 
	gdocum’t
->
»ÿlcStyË
();

608 
boŞ
 
	gsubŒ“
 = 
m_ÏyoutRoÙ
;

612 ià(
	g´ÙeùÜ
->
hasOÃRef
())

615 
R’d”Objeù
* 
	groÙ
 = 
subŒ“
 ? 
m_ÏyoutRoÙ
 : 
docum’t
->
»nd””
();

616 ià(!
	groÙ
) {

618 
	gm_ÏyoutSchedulšgEÇbËd
 = 
Œue
;

622 
	gm_Ã¡edLayoutCouÁ
++;

624 
SüŞlb¬Mode
 
	ghMode
;

625 
SüŞlb¬Mode
 
	gvMode
;

626 ià(
	gm_ÿnHaveSüŞlb¬s
) {

627 
	ghMode
 = 
SüŞlb¬Auto
;

628 
	gvMode
 = 
SüŞlb¬Auto
;

630 
	ghMode
 = 
SüŞlb¬AlwaysOff
;

631 
	gvMode
 = 
SüŞlb¬AlwaysOff
;

634 ià(!
	gsubŒ“
) {

635 
Node
* 
	gdocum’tEËm’t
 = 
docum’t
->
docum’tEËm’t
();

636 
R’d”Objeù
* 
	groÙR’d””
 = 
docum’tEËm’t
 ? docum’tEËm’t->
»nd””
() : 0;

637 
Node
* 
	gbody
 = 
docum’t
->
body
();

638 ià(
	gbody
 && body->
»nd””
()) {

639 ià(
	gbody
->
hasTagName
(
äame£tTag
è&& !
	gm_äame
->
£‰šgs
()->
äameFÏ‰’šgEÇbËd
()) {

640 
	gbody
->
»nd””
()->
£tChdN“dsLayout
(
Œue
);

641 
	gvMode
 = 
SüŞlb¬AlwaysOff
;

642 
	ghMode
 = 
SüŞlb¬AlwaysOff
;

643 } ià(
	gbody
->
hasTagName
(
bodyTag
)) {

644 ià(!
	gm_fœ¡Layout
 && 
	gm_size
.
height
(è!ğ
ÏyoutHeight
(è&& 
body
->
»nd””
()->
’şosšgBox
()->
¡»tchesToV›wHeight
())

645 
body
->
»nd””
()->
£tChdN“dsLayout
(
Œue
);

648 
R’d”Objeù
* 
	go
 = 
roÙR’d””
->
¡yË
()->
ov”æowX
(è=ğ
OVISIBLE
 && 
docum’t
->
docum’tEËm’t
()->
hasTagName
(
htmlTag
è? 
body
->
»nd””
() :„ootRenderer;

649 
­¶yOv”æowToV›wpÜt
(
o
, 
hMode
, 
vMode
);

651 } ià(
	groÙR’d””
) {

652 #ià
ENABLE
(
SVG
)

653 ià(
	gdocum’tEËm’t
->
isSVGEËm’t
()) {

654 ià(!
	gm_fœ¡Layout
 && (
	gm_size
.
width
(è!ğ
ÏyoutWidth
(è|| 
m_size
.
height
(è!ğ
ÏyoutHeight
()))

655 
roÙR’d””
->
£tChdN“dsLayout
(
Œue
);

657 
­¶yOv”æowToV›wpÜt
(
roÙR’d””
, 
hMode
, 
vMode
);

659 
­¶yOv”æowToV›wpÜt
(
roÙR’d””
, 
hMode
, 
vMode
);

662 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


663 ià(
	gm_fœ¡Layout
 && !
	gdocum’t
->
owÃrEËm’t
())

664 
´štf
("EÏp£dimbefÜfœ¡†ayout: %d\n", 
docum’t
->
–­£dTime
());

668 
	gm_doFuÎR•ašt
 = !
subŒ“
 && (
m_fœ¡Layout
 || 
toR’d”V›w
(
roÙ
)->
´štšg
());

670 ià(!
	gsubŒ“
) {

672 
SüŞlb¬Mode
 
	gcu¼’tHMode
 = 
hÜizÚlSüŞlb¬Mode
();

673 
SüŞlb¬Mode
 
	gcu¼’tVMode
 = 
v”tiÿlSüŞlb¬Mode
();

675 ià(
	gm_fœ¡Layout
 || (
	ghMode
 !ğ
cu¼’tHMode
 || 
vMode
 !ğ
cu¼’tVMode
)) {

676 ià(
m_fœ¡Layout
) {

677 
£tSüŞlb¬sSuµ»s£d
(
Œue
);

679 
	gm_fœ¡Layout
 = 
çl£
;

680 
	gm_fœ¡LayoutC®lbackP’dšg
 = 
Œue
;

681 
	gm_Ï¡LayoutSize
 = 
IÁSize
(
width
(), 
height
());

682 
	gm_Ï¡ZoomFaùÜ
 = 
roÙ
->
¡yË
()->
zoom
();

685 ià(
	gvMode
 =ğ
SüŞlb¬Auto
)

686 
£tV”tiÿlSüŞlb¬Mode
(
SüŞlb¬AlwaysOn
);

688 ià(
	ghMode
 =ğ
SüŞlb¬Auto
)

689 
£tHÜizÚlSüŞlb¬Mode
(
SüŞlb¬AlwaysOff
);

691 
£tSüŞlb¬Modes
(
hMode
, 
vMode
);

692 
£tSüŞlb¬sSuµ»s£d
(
çl£
, 
Œue
);

694 
£tSüŞlb¬Modes
(
hMode
, 
vMode
);

697 
IÁSize
 
	gŞdSize
 = 
m_size
;

699 
	gm_size
 = 
IÁSize
(
ÏyoutWidth
(), 
ÏyoutHeight
());

701 ià(
	gŞdSize
 !ğ
m_size
)

702 
m_doFuÎR•ašt
 = 
Œue
;

705 
R’d”Lay”
* 
	gÏy”
 = 
roÙ
->
’şosšgLay”
();

707 
·u£ScheduËdEv’ts
();

709 
boŞ
 
	gdi§bËLayoutS‹
 = 
çl£
;

710 ià(
	gsubŒ“
) {

711 
R’d”V›w
* 
	gv›w
 = 
roÙ
->
v›w
();

712 
	gdi§bËLayoutS‹
 = 
v›w
->
shouldDi§bËLayoutS‹FÜSubŒ“
(
roÙ
);

713 
	gv›w
->
pushLayoutS‹
(
roÙ
);

714 ià(
	gdi§bËLayoutS‹
)

715 
	gv›w
->
di§bËLayoutS‹
();

718 
	gm_midLayout
 = 
Œue
;

719 
begšDeã¼edR•ašts
();

720 
	groÙ
->
Ïyout
();

721 
’dDeã¼edR•ašts
();

722 
	gm_midLayout
 = 
çl£
;

724 ià(
	gsubŒ“
) {

725 
R’d”V›w
* 
	gv›w
 = 
roÙ
->
v›w
();

726 
	gv›w
->
pİLayoutS‹
();

727 ià(
	gdi§bËLayoutS‹
)

728 
	gv›w
->
’abËLayoutS‹
();

730 
	gm_ÏyoutRoÙ
 = 0;

732 
	gm_äame
->
£ËùiÚ
()->
£tN“dsLayout
();

733 
	gm_äame
->
£ËùiÚ
()->
upd©eAµ—¿nû
();

735 
	gm_ÏyoutSchedulšgEÇbËd
 = 
Œue
;

737 ià(!
	gsubŒ“
 && !
toR’d”V›w
(
roÙ
)->
´štšg
())

738 
adju¡V›wSize
();

741 
begšDeã¼edR•ašts
();

742 
IÁPošt
 
	gÿchedOff£t
;

743 
	gÏy”
->
upd©eLay”Pos™iÚs
((
m_doFuÎR•ašt
 ? 
R’d”Lay”
::
DoFuÎR•ašt
 : 0)

744 | 
R’d”Lay”
::
CheckFÜR•ašt


745 | 
R’d”Lay”
::
IsCompos™šgUpd©eRoÙ


746 | 
R’d”Lay”
::
Upd©eCompos™šgLay”s
,

747 
subŒ“
 ? 0 : &
ÿchedOff£t
);

748 
’dDeã¼edR•ašts
();

750 #ià
USE
(
ACCELERATED_COMPOSITING
)

751 
upd©eCompos™šgLay”s
();

754 
	gm_ÏyoutCouÁ
++;

756 #ià
PLATFORM
(
MAC
)

757 ià(
	gAXObjeùCache
::
acûssib™yEÇbËd
())

758 
roÙ
->
docum’t
()->
axObjeùCache
()->
po¡NÙifiÿtiÚ
ÔoÙ, 
AXObjeùCache
::
AXLayoutCom¶‘e
, 
Œue
);

760 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

761 
upd©eDashbßrdRegiÚs
();

764 
ASSERT
(!
roÙ
->
ÃedsLayout
());

766 
£tCªBl™OnSüŞl
(!
u£SlowR•ašts
());

768 ià(
	gdocum’t
->
hasLi¡’”Ty³
(
Docum’t
::
OVERFLOWCHANGED_LISTENER
))

769 
upd©eOv”æowStus
(
ÏyoutWidth
(è< 
cÚ‹ÁsWidth
(),

770 
ÏyoutHeight
(è< 
cÚ‹ÁsHeight
());

772 ià(!
	gm_po¡LayoutTasksTim”
.
isAùive
()) {

774 
³rfÜmPo¡LayoutTasks
();

776 ià(!
	gm_po¡LayoutTasksTim”
.
isAùive
(è&& 
ÃedsLayout
()) {

780 
	gm_po¡LayoutTasksTim”
.
¡¬tOÃShÙ
(0);

781 
·u£ScheduËdEv’ts
();

782 
Ïyout
();

785 
»sumeScheduËdEv’ts
();

786 
ASSERT
(
m_’queueEv’ts
);

789 #ià
ENABLE
(
INSPECTOR
)

790 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = 
š¥eùÜTim–šeAg’t
())

791 
tim–šeAg’t
->
didLayout
();

794 
	gm_Ã¡edLayoutCouÁ
--;

797 
	gF¿meV›w
::
addWidg‘ToUpd©e
(
R’d”EmbeddedObjeù
* 
objeù
)

799 ià(!
m_widg‘Upd©eS‘
)

800 
m_widg‘Upd©eS‘
.
£t
(
Ãw
 
R’d”EmbeddedObjeùS‘
);

802 
	gm_widg‘Upd©eS‘
->
add
(
objeù
);

805 
	gF¿meV›w
::
»moveWidg‘ToUpd©e
(
R’d”EmbeddedObjeù
* 
objeù
)

807 ià(!
m_widg‘Upd©eS‘
)

810 
	gm_widg‘Upd©eS‘
->
»move
(
objeù
);

813 
	gF¿meV›w
::
£tMedŸTy³
(cÚ¡ 
SŒšg
& 
medŸTy³
)

815 
m_medŸTy³
 = 
medŸTy³
;

818 
SŒšg
 
	gF¿meV›w
::
medŸTy³
() const

821 
SŒšg
 
ov”rideTy³
 = 
m_äame
->
lßd”
()->
ş›Á
()->
ov”rideMedŸTy³
();

822 ià(!
	gov”rideTy³
.
isNuÎ
())

823  
	gov”rideTy³
;

824  
	gm_medŸTy³
;

827 
	gF¿meV›w
::
adju¡MedŸTy³FÜPrštšg
(
boŞ
 
´štšg
)

829 ià(
´štšg
) {

830 ià(
m_medŸTy³Wh’NÙPrštšg
.
isNuÎ
())

831 
m_medŸTy³Wh’NÙPrštšg
 = 
medŸTy³
();

832 
£tMedŸTy³
("print");

834 ià(!
	gm_medŸTy³Wh’NÙPrštšg
.
isNuÎ
())

835 
£tMedŸTy³
(
m_medŸTy³Wh’NÙPrštšg
);

836 
	gm_medŸTy³Wh’NÙPrštšg
 = 
SŒšg
();

840 
boŞ
 
	gF¿meV›w
::
u£SlowR•ašts
() const

842  
m_u£SlowR•ašts
 || 
m_¦owR•aštObjeùCouÁ
 > 0 || (
¶©fÜmWidg‘
(è&& 
m_fixedObjeùCouÁ
 > 0è|| 
m_isOv”Ïµed
 || !
m_cÚ‹ÁIsO·que
;

845 
boŞ
 
	gF¿meV›w
::
u£SlowR•aštsIfNÙOv”Ïµed
() const

847  
m_u£SlowR•ašts
 || 
m_¦owR•aštObjeùCouÁ
 > 0 || (
¶©fÜmWidg‘
(è&& 
m_fixedObjeùCouÁ
 > 0è|| !
m_cÚ‹ÁIsO·que
;

850 
	gF¿meV›w
::
£tU£SlowR•ašts
()

852 
m_u£SlowR•ašts
 = 
Œue
;

853 
£tCªBl™OnSüŞl
(
çl£
);

856 
	gF¿meV›w
::
addSlowR•aštObjeù
()

858 ià(!
m_¦owR•aštObjeùCouÁ
)

859 
£tCªBl™OnSüŞl
(
çl£
);

860 
	gm_¦owR•aštObjeùCouÁ
++;

863 
	gF¿meV›w
::
»moveSlowR•aštObjeù
()

865 
ASSERT
(
m_¦owR•aštObjeùCouÁ
 > 0);

866 
	gm_¦owR•aštObjeùCouÁ
--;

867 ià(!
	gm_¦owR•aštObjeùCouÁ
)

868 
£tCªBl™OnSüŞl
(!
u£SlowR•ašts
());

871 
	gF¿meV›w
::
addFixedObjeù
()

873 ++
m_fixedObjeùCouÁ
;

876 
	gF¿meV›w
::
»moveFixedObjeù
()

878 
ASSERT
(
m_fixedObjeùCouÁ
 > 0);

879 --
	gm_fixedObjeùCouÁ
;

882 
	gF¿meV›w
::
£tIsOv”Ïµed
(
boŞ
 
isOv”Ïµed
)

884 ià(
isOv”Ïµed
 =ğ
m_isOv”Ïµed
)

887 
	gm_isOv”Ïµed
 = 
isOv”Ïµed
;

888 
£tCªBl™OnSüŞl
(!
u£SlowR•ašts
());

891 
	gF¿meV›w
::
£tCÚ‹ÁIsO·que
(
boŞ
 
cÚ‹ÁIsO·que
)

893 ià(
cÚ‹ÁIsO·que
 =ğ
m_cÚ‹ÁIsO·que
)

896 
	gm_cÚ‹ÁIsO·que
 = 
cÚ‹ÁIsO·que
;

897 
£tCªBl™OnSüŞl
(!
u£SlowR•ašts
());

900 
	gF¿meV›w
::
»¡ÜeSüŞlb¬
()

902 
£tSüŞlb¬sSuµ»s£d
(
çl£
);

905 
boŞ
 
	gF¿meV›w
::
süŞlToF¿gm’t
(cÚ¡ 
KURL
& 
u¾
)

911 ià(!
u¾
.
hasF¿gm’tId’tif›r
(è&& !
m_äame
->
docum’t
()->
cssT¬g‘
())

912  
çl£
;

914 
SŒšg
 
	gäagm’tId’tif›r
 = 
u¾
.
äagm’tId’tif›r
();

915 ià(
süŞlToAnchÜ
(
äagm’tId’tif›r
))

916  
	gŒue
;

919 ià(
TextResourûDecod”
* 
	gdecod”
 = 
m_äame
->
docum’t
()->
decod”
())

920  
süŞlToAnchÜ
(
decodeURLEsÿ³Sequ’ûs
(
äagm’tId’tif›r
, 
decod”
->
’codšg
()));

922  
	gçl£
;

925 
boŞ
 
	gF¿meV›w
::
süŞlToAnchÜ
(cÚ¡ 
SŒšg
& 
Çme
)

927 
ASSERT
(
m_äame
->
docum’t
());

929 ià(!
	gm_äame
->
docum’t
()->
haveStyËsh“tsLßded
()) {

930 
	gm_äame
->
docum’t
()->
£tGÙoAnchÜN“dedAá”StyËsh“tsLßd
(
Œue
);

931  
	gçl£
;

934 
	gm_äame
->
docum’t
()->
£tGÙoAnchÜN“dedAá”StyËsh“tsLßd
(
çl£
);

936 
EËm’t
* 
	gªchÜNode
 = 
m_äame
->
docum’t
()->
fšdAnchÜ
(
Çme
);

938 #ià
ENABLE
(
SVG
)

939 ià(
	gm_äame
->
docum’t
()->
isSVGDocum’t
()) {

940 ià(
	gÇme
.
¡¬tsW™h
("xpointer(")) {

942 } ià(
	gÇme
.
¡¬tsW™h
("svgView(")) {

943 
	gRefPŒ
<
	gSVGSVGEËm’t
> 
	gsvg
 = 
¡©ic_ÿ¡
<
SVGDocum’t
*>(
m_äame
->
docum’t
())->
roÙEËm’t
();

944 ià(!
	gsvg
->
cu¼’tV›w
()->
·r£V›wS³c
(
Çme
))

945  
	gçl£
;

946 
	gsvg
->
£tU£Cu¼’tV›w
(
Œue
);

948 ià(
	gªchÜNode
 &&‡nchÜNode->
hasTagName
(
SVGNames
::
v›wTag
)) {

949 
RefPŒ
<
SVGV›wEËm’t
> 
v›wEËm’t
 = 
ªchÜNode
->
hasTagName
(
SVGNames
::
v›wTag
è? 
¡©ic_ÿ¡
<SVGViewElement*>(anchorNode) : 0;

950 ià(
	gv›wEËm’t
.
g‘
()) {

951 
	gRefPŒ
<
	gSVGSVGEËm’t
> 
	gsvg
 = 
¡©ic_ÿ¡
<
SVGSVGEËm’t
*>(
SVGLoÿbË
::
Ã¬e¡V›wpÜtEËm’t
(
v›wEËm’t
.
g‘
()));

952 
	gsvg
->
šh”™V›wA‰ribu‹s
(
v›wEËm’t
.
g‘
());

961 
	gm_äame
->
docum’t
()->
£tCSST¬g‘
(
ªchÜNode
);

964 ià(!
	gªchÜNode
 && !(
	gÇme
.
isEm±y
(è|| 
equ®IgnÜšgCa£
(
Çme
, "top")))

965  
	gçl£
;

967 
maššSüŞlPos™iÚAtAnchÜ
(
ªchÜNode
 ? 
¡©ic_ÿ¡
<
Node
*>×nchÜNodeè: 
m_äame
->
docum’t
());

968  
	gŒue
;

971 
	gF¿meV›w
::
maššSüŞlPos™iÚAtAnchÜ
(
Node
* 
ªchÜNode
)

973 
m_maššSüŞlPos™iÚAnchÜ
 = 
ªchÜNode
;

974 ià(!
	gm_maššSüŞlPos™iÚAnchÜ
)

979 
	gm_äame
->
docum’t
()->
upd©eStyËIfN“ded
();

981 ià(
	gm_äame
->
cÚ‹ÁR’d””
(è&& m_äame->cÚ‹ÁR’d””()->
ÃedsLayout
())

982 
Ïyout
();

984 
süŞlToAnchÜ
();

987 
	gF¿meV›w
::
süŞlReùIÁoV›wRecursiv–y
(cÚ¡ 
IÁReù
& 
r
)

989 
boŞ
 
wasInProg¿mm©icSüŞl
 = 
m_šProg¿mm©icSüŞl
;

990 
	gm_šProg¿mm©icSüŞl
 = 
Œue
;

991 
	gm_maššSüŞlPos™iÚAnchÜ
 = 0;

992 
	gSüŞlV›w
::
süŞlReùIÁoV›wRecursiv–y
(
r
);

993 
	gm_šProg¿mm©icSüŞl
 = 
wasInProg¿mm©icSüŞl
;

996 
	gF¿meV›w
::
£tSüŞlPos™iÚ
(cÚ¡ 
IÁPošt
& 
süŞlPošt
)

998 
boŞ
 
wasInProg¿mm©icSüŞl
 = 
m_šProg¿mm©icSüŞl
;

999 
	gm_šProg¿mm©icSüŞl
 = 
Œue
;

1000 
	gm_maššSüŞlPos™iÚAnchÜ
 = 0;

1001 
	gSüŞlV›w
::
£tSüŞlPos™iÚ
(
süŞlPošt
);

1002 
	gm_šProg¿mm©icSüŞl
 = 
wasInProg¿mm©icSüŞl
;

1005 
	gF¿meV›w
::
süŞlPos™iÚChªged
()

1007 
äame
()->
ev’tHªdËr
()->
£ndSüŞlEv’t
();

1011 ià(!
	gm_Ã¡edLayoutCouÁ
 && 
hasFixedObjeùs
()) {

1012 ià(
R’d”V›w
* 
	groÙ
 = 
m_äame
->
cÚ‹ÁR’d””
()) {

1013 
roÙ
->
upd©eWidg‘Pos™iÚs
();

1014 #ià
USE
(
ACCELERATED_COMPOSITING
)

1015 ià(
	groÙ
->
u£sCompos™šg
())

1016 
	groÙ
->
compos™Ü
()->
upd©eCompos™šgLay”s
(
Compos™šgUpd©eOnSüŞl
);

1022 
Ho¡Wšdow
* 
	gF¿meV›w
::
ho¡Wšdow
() const

1024 
Page
* 
·ge
 = 
äame
() ? frame()->page() : 0;

1025 ià(!
	g·ge
)

1027  
	g·ge
->
chrome
();

1030 cÚ¡ 
	gcR•aštReùUniÚTh»shŞd
 = 25;

1032 
	gF¿meV›w
::
»·štCÚ‹ÁReùªgË
(cÚ¡ 
IÁReù
& 
r
, 
boŞ
 
immedŸ‹
)

1034 
ASSERT
(!
m_äame
->
docum’t
()->
owÃrEËm’t
());

1036 
	gd–ay
 = 
adju¡edDeã¼edR•aštD–ay
();

1037 ià((
	gm_deã¼šgR•ašts
 || 
	gm_deã¼edR•aštTim”
.
isAùive
(è|| 
	gd–ay
è&& !
	gimmedŸ‹
) {

1038 
IÁReù
 
	g·štReù
 = 
r
;

1039 ià(!
·štsEÁœeCÚ‹Ás
())

1040 
	g·štReù
.
š‹r£ù
(
visibËCÚ‹ÁReù
());

1041 ià(
	g·štReù
.
isEm±y
())

1043 ià(
	gm_»·štCouÁ
 =ğ
cR•aštReùUniÚTh»shŞd
) {

1044 
IÁReù
 
uniÚedReù
;

1045 
	gi
 = 0; i < 
	gcR•aštReùUniÚTh»shŞd
; ++i)

1046 
	guniÚedReù
.
un™e
(
m_»·štReùs
[
i
]);

1047 
	gm_»·štReùs
.
ş—r
();

1048 
	gm_»·štReùs
.
­³nd
(
uniÚedReù
);

1050 ià(
	gm_»·štCouÁ
 < 
	gcR•aštReùUniÚTh»shŞd
)

1051 
	gm_»·štReùs
.
­³nd
(
·štReù
);

1053 
	gm_»·štReùs
[0].
un™e
(
·štReù
);

1054 
	gm_»·štCouÁ
++;

1056 ià(!
	gm_deã¼šgR•ašts
 && !
	gm_deã¼edR•aštTim”
.
isAùive
())

1057 
	gm_deã¼edR•aštTim”
.
¡¬tOÃShÙ
(
d–ay
);

1061 ià(!
	gimmedŸ‹
 && 
isOffsü“n
(è&& !
shouldUpd©eWheOffsü“n
())

1064 #ià
ENABLE
(
TILED_BACKING_STORE
)

1065 ià(
äame
()->
tedBackšgStÜe
()) {

1066 
äame
()->
tedBackšgStÜe
()->
šv®id©e
(
r
);

1070 
	gSüŞlV›w
::
»·štCÚ‹ÁReùªgË
(
r
, 
immedŸ‹
);

1073 
	gF¿meV›w
::
visibËCÚ‹ÁsResized
()

1079 ià(!
äame
()->
v›w
())

1082 ià(
ÃedsLayout
())

1083 
Ïyout
();

1086 
	gF¿meV›w
::
begšDeã¼edR•ašts
()

1088 
Page
* 
·ge
 = 
m_äame
->page();

1089 ià(
	g·ge
->
mašF¿me
(è!ğ
m_äame
)

1090  
·ge
->
mašF¿me
()->
v›w
()->
begšDeã¼edR•ašts
();

1092 
	gm_deã¼šgR•ašts
++;

1096 
	gF¿meV›w
::
’dDeã¼edR•ašts
()

1098 
Page
* 
·ge
 = 
m_äame
->page();

1099 ià(
	g·ge
->
mašF¿me
(è!ğ
m_äame
)

1100  
·ge
->
mašF¿me
()->
v›w
()->
’dDeã¼edR•ašts
();

1102 
ASSERT
(
m_deã¼šgR•ašts
 > 0);

1104 ià(--
	gm_deã¼šgR•ašts
)

1107 ià(
	gm_deã¼edR•aštTim”
.
isAùive
())

1110 ià(
	gd–ay
 = 
adju¡edDeã¼edR•aštD–ay
()) {

1111 
m_deã¼edR•aštTim”
.
¡¬tOÃShÙ
(
d–ay
);

1115 
doDeã¼edR•ašts
();

1118 
	gF¿meV›w
::
checkStİD–ayšgDeã¼edR•ašts
()

1120 ià(!
m_deã¼edR•aštTim”
.
isAùive
())

1123 
Docum’t
* 
	gdocum’t
 = 
m_äame
->
docum’t
();

1124 ià(
	gdocum’t
 && (docum’t->
·rsšg
(è|| docum’t->
docLßd”
()->
»que¡CouÁ
()))

1127 
	gm_deã¼edR•aštTim”
.
¡İ
();

1129 
doDeã¼edR•ašts
();

1132 
	gF¿meV›w
::
doDeã¼edR•ašts
()

1134 
ASSERT
(!
m_deã¼šgR•ašts
);

1135 ià(
isOffsü“n
(è&& !
shouldUpd©eWheOffsü“n
()) {

1136 
	gm_»·štReùs
.
ş—r
();

1137 
	gm_»·štCouÁ
 = 0;

1140 
	gsize
 = 
m_»·štReùs
.
size
();

1141 
	gi
 = 0; i < 
	gsize
; i++) {

1142 #ià
ENABLE
(
TILED_BACKING_STORE
)

1143 ià(
äame
()->
tedBackšgStÜe
()) {

1144 
äame
()->
tedBackšgStÜe
()->
šv®id©e
(
m_»·štReùs
[
i
]);

1148 
	gSüŞlV›w
::
»·štCÚ‹ÁReùªgË
(
m_»·štReùs
[
i
], 
çl£
);

1150 
	gm_»·štReùs
.
ş—r
();

1151 
	gm_»·štCouÁ
 = 0;

1153 
upd©eDeã¼edR•aštD–ay
();

1156 
	gF¿meV›w
::
upd©eDeã¼edR•aštD–ay
()

1158 
Docum’t
* 
docum’t
 = 
m_äame
->document();

1159 ià(!
	gdocum’t
 || (!docum’t->
·rsšg
(è&& !docum’t->
docLßd”
()->
»que¡CouÁ
())) {

1160 
	gm_deã¼edR•aštD–ay
 = 
deã¼edR•aštD–ay
;

1163 ià(
	gm_deã¼edR•aštD–ay
 < 
	gmaxDeã¼edR•aštD–ayDuršgLßdšg
) {

1164 
	gm_deã¼edR•aštD–ay
 +ğ
deã¼edR•aštD–ayInüem’tDuršgLßdšg
;

1165 ià(
	gm_deã¼edR•aštD–ay
 > 
	gmaxDeã¼edR•aštD–ayDuršgLßdšg
)

1166 
	gm_deã¼edR•aštD–ay
 = 
maxDeã¼edR•aštD–ayDuršgLßdšg
;

1170 
	gF¿meV›w
::
»£tDeã¼edR•aštD–ay
()

1172 
m_deã¼edR•aštD–ay
 = 0;

1173 ià(
	gm_deã¼edR•aštTim”
.
isAùive
()) {

1174 
	gm_deã¼edR•aštTim”
.
¡İ
();

1175 ià(!
	gm_deã¼šgR•ašts
)

1176 
doDeã¼edR•ašts
();

1180 
	gF¿meV›w
::
adju¡edDeã¼edR•aštD–ay
() const

1182 ià(!
m_deã¼edR•aštD–ay
)

1184 
	gtimeSšûLa¡Pašt
 = 
cu¼’tTime
(è- 
m_Ï¡PaštTime
;

1185  
max
(0., 
m_deã¼edR•aštD–ay
 - 
timeSšûLa¡Pašt
);

1188 
	gF¿meV›w
::
deã¼edR•aštTim”Fœed
(
Tim”
<
F¿meV›w
>*)

1190 
doDeã¼edR•ašts
();

1193 
	gF¿meV›w
::
ÏyoutTim”Fœed
(
Tim”
<
F¿meV›w
>*)

1195 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


1196 ià(!
m_äame
->
docum’t
()->
owÃrEËm’t
())

1197 
´štf
("Layouˆtim” fœed‡ˆ%d\n", 
m_äame
->
docum’t
()->
–­£dTime
());

1199 
Ïyout
();

1202 
	gF¿meV›w
::
scheduËR–ayout
()

1206 
ASSERT
(
m_äame
->
v›w
(è=ğ
this
);

1208 ià(
	gm_ÏyoutRoÙ
) {

1209 
	gm_ÏyoutRoÙ
->
m¬kCÚššgBlocksFÜLayout
(
çl£
);

1210 
	gm_ÏyoutRoÙ
 = 0;

1212 ià(!
	gm_ÏyoutSchedulšgEÇbËd
)

1214 ià(!
ÃedsLayout
())

1216 ià(!
	gm_äame
->
docum’t
()->
shouldScheduËLayout
())

1221 ià(
	gm_äame
->
£‰šgs
()->
äameFÏ‰’šgEÇbËd
(è&& m_äame->
owÃrR’d””
()) {

1222 ià(
	gm_äame
->
owÃrEËm’t
()->
hasTagName
(
iäameTag
è|| m_äame->owÃrEËm’t()->hasTagName(
äameTag
))

1223 
	gm_äame
->
owÃrR’d””
()->
£tN“dsLayout
(
Œue
,rue);

1226 
	gd–ay
 = 
m_äame
->
docum’t
()->
mšimumLayoutD–ay
();

1227 ià(
	gm_ÏyoutTim”
.
isAùive
(è&& 
	gm_d–ayedLayout
 && !
	gd–ay
)

1228 
unscheduËR–ayout
();

1229 ià(
	gm_ÏyoutTim”
.
isAùive
())

1232 
	gm_d–ayedLayout
 = 
d–ay
 != 0;

1234 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


1235 ià(!
	gm_äame
->
docum’t
()->
owÃrEËm’t
())

1236 
´štf
("Schedulšg†ayouˆfÜ %d\n", 
d–ay
);

1239 
	gm_ÏyoutTim”
.
¡¬tOÃShÙ
(
d–ay
 * 0.001);

1242 
boŞ
 
isObjeùAnû¡ÜCÚš”Of
(
R’d”Objeù
* 
ªû¡Ü
, R’d”Objeù* 
desûndªt
)

1244 
R’d”Objeù
* 
	gr
 = 
desûndªt
;„;„ = 
r
->
cÚš”
()) {

1245 ià(
r
 =ğ
ªû¡Ü
)

1246  
Œue
;

1248  
	gçl£
;

1251 
	gF¿meV›w
::
scheduËR–ayoutOfSubŒ“
(
R’d”Objeù
* 
»ÏyoutRoÙ
)

1253 
ASSERT
(
m_äame
->
v›w
(è=ğ
this
);

1255 ià(!
	gm_ÏyoutSchedulšgEÇbËd
 || (
	gm_äame
->
cÚ‹ÁR’d””
()

1256 && 
	gm_äame
->
cÚ‹ÁR’d””
()->
ÃedsLayout
())) {

1257 ià(
	g»ÏyoutRoÙ
)

1258 
	g»ÏyoutRoÙ
->
m¬kCÚššgBlocksFÜLayout
(
çl£
);

1262 ià(
ÏyoutP’dšg
()) {

1263 ià(
	gm_ÏyoutRoÙ
 !ğ
»ÏyoutRoÙ
) {

1264 ià(
isObjeùAnû¡ÜCÚš”Of
(
m_ÏyoutRoÙ
, 
»ÏyoutRoÙ
)) {

1266 
»ÏyoutRoÙ
->
m¬kCÚššgBlocksFÜLayout
(
çl£
, 
m_ÏyoutRoÙ
);

1267 } ià(
	gm_ÏyoutRoÙ
 && 
isObjeùAnû¡ÜCÚš”Of
(
»ÏyoutRoÙ
, 
m_ÏyoutRoÙ
)) {

1269 
	gm_ÏyoutRoÙ
->
m¬kCÚššgBlocksFÜLayout
(
çl£
, 
»ÏyoutRoÙ
);

1270 
	gm_ÏyoutRoÙ
 = 
»ÏyoutRoÙ
;

1273 ià(
	gm_ÏyoutRoÙ
)

1274 
	gm_ÏyoutRoÙ
->
m¬kCÚššgBlocksFÜLayout
(
çl£
);

1275 
	gm_ÏyoutRoÙ
 = 0;

1276 
	g»ÏyoutRoÙ
->
m¬kCÚššgBlocksFÜLayout
(
çl£
);

1280 
	gd–ay
 = 
m_äame
->
docum’t
()->
mšimumLayoutD–ay
();

1281 
	gm_ÏyoutRoÙ
 = 
»ÏyoutRoÙ
;

1282 
	gm_d–ayedLayout
 = 
d–ay
 != 0;

1283 
	gm_ÏyoutTim”
.
¡¬tOÃShÙ
(
d–ay
 * 0.001);

1287 
boŞ
 
	gF¿meV›w
::
ÏyoutP’dšg
() const

1289  
m_ÏyoutTim”
.
isAùive
();

1292 
boŞ
 
	gF¿meV›w
::
ÃedsLayout
() const

1297 ià(!
m_äame
)

1298  
çl£
;

1299 
R’d”V›w
* 
	groÙ
 = 
m_äame
->
cÚ‹ÁR’d””
();

1300 
Docum’t
* 
	gdocum’t
 = 
m_äame
->
docum’t
();

1301  
ÏyoutP’dšg
()

1302 || (
	groÙ
 &&„oÙ->
ÃedsLayout
())

1303 || 
	gm_ÏyoutRoÙ


1304 || (
	gdocum’t
 && docum’t->
chdN“dsStyËReÿlc
())

1305 || 
	gm_äame
->
ÃedsR—µlyStyËs
()

1306 || (
	gm_deãrS‘N“dsLayouts
 && 
	gm_£tN“dsLayoutWasDeã¼ed
);

1309 
	gF¿meV›w
::
£tN“dsLayout
()

1311 ià(
m_deãrS‘N“dsLayouts
) {

1312 
m_£tN“dsLayoutWasDeã¼ed
 = 
Œue
;

1315 
R’d”V›w
* 
	groÙ
 = 
m_äame
->
cÚ‹ÁR’d””
();

1316 ià(
	groÙ
)

1317 
	groÙ
->
£tN“dsLayout
(
Œue
);

1320 
	gF¿meV›w
::
unscheduËR–ayout
()

1322 ià(!
m_ÏyoutTim”
.
isAùive
())

1325 #ifdeà
INSTRUMENT_LAYOUT_SCHEDULING


1326 ià(!
	gm_äame
->
docum’t
()->
owÃrEËm’t
())

1327 
´štf
("Layouˆtim” unscheduËd‡ˆ%d\n", 
m_äame
->
docum’t
()->
–­£dTime
());

1330 
	gm_ÏyoutTim”
.
¡İ
();

1331 
	gm_d–ayedLayout
 = 
çl£
;

1334 
boŞ
 
	gF¿meV›w
::
isT¿n¥¬’t
() const

1336  
m_isT¿n¥¬’t
;

1339 
	gF¿meV›w
::
£tT¿n¥¬’t
(
boŞ
 
isT¿n¥¬’t
)

1341 
m_isT¿n¥¬’t
 = 
isT¿n¥¬’t
;

1344 
CŞÜ
 
	gF¿meV›w
::
ba£BackgroundCŞÜ
() const

1346  
m_ba£BackgroundCŞÜ
;

1349 
	gF¿meV›w
::
£tBa£BackgroundCŞÜ
(
CŞÜ
 
bc
)

1351 ià(!
bc
.
isV®id
())

1352 
bc
 = 
CŞÜ
::
wh™e
;

1353 
	gm_ba£BackgroundCŞÜ
 = 
bc
;

1356 
	gF¿meV›w
::
upd©eBackgroundRecursiv–y
(cÚ¡ 
CŞÜ
& 
backgroundCŞÜ
, 
boŞ
 
Œª¥¬’t
)

1358 
F¿me
* 
	gäame
 = 
m_äame
.
g‘
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
(m_frame.get())) {

1359 
F¿meV›w
* 
v›w
 = 
äame
->view();

1360 ià(!
	gv›w
)

1363 
	gv›w
->
£tT¿n¥¬’t
(
Œª¥¬’t
);

1364 
	gv›w
->
£tBa£BackgroundCŞÜ
(
backgroundCŞÜ
);

1368 
boŞ
 
	gF¿meV›w
::
shouldUpd©eWheOffsü“n
() const

1370  
m_shouldUpd©eWheOffsü“n
;

1373 
	gF¿meV›w
::
£tShouldUpd©eWheOffsü“n
(
boŞ
 
shouldUpd©eWheOffsü“n
)

1375 
m_shouldUpd©eWheOffsü“n
 = 
shouldUpd©eWheOffsü“n
;

1378 
	gF¿meV›w
::
scheduËEv’t
(
PassRefPŒ
<
Ev’t
> 
ev’t
, PassRefPŒ<
Node
> 
ev’tT¬g‘
)

1380 ià(!
	gm_’queueEv’ts
) {

1381 
Exû±iÚCode
 
	gec
 = 0;

1382 
	gev’tT¬g‘
->
di¥©chEv’t
(
ev’t
, 
ec
);

1386 
ScheduËdEv’t
* 
	gscheduËdEv’t
 = 
Ãw
 ScheduledEvent;

1387 
	gscheduËdEv’t
->
	gm_ev’t
 = 
ev’t
;

1388 
	gscheduËdEv’t
->
	gm_ev’tT¬g‘
 = 
ev’tT¬g‘
;

1389 
	gm_scheduËdEv’ts
.
­³nd
(
scheduËdEv’t
);

1392 
	gF¿meV›w
::
·u£ScheduËdEv’ts
()

1394 
ASSERT
(
m_scheduËdEv’ts
.
isEm±y
(è|| 
m_’queueEv’ts
);

1395 
	gm_’queueEv’ts
++;

1398 
	gF¿meV›w
::
»sumeScheduËdEv’ts
()

1400 
m_’queueEv’ts
--;

1401 ià(!
	gm_’queueEv’ts
)

1402 
di¥©chScheduËdEv’ts
();

1403 
ASSERT
(
m_scheduËdEv’ts
.
isEm±y
(è|| 
m_’queueEv’ts
);

1406 
	gF¿meV›w
::
süŞlToAnchÜ
()

1408 
RefPŒ
<
Node
> 
ªchÜNode
 = 
m_maššSüŞlPos™iÚAnchÜ
;

1409 ià(!
	gªchÜNode
)

1412 ià(!
	gªchÜNode
->
»nd””
())

1415 
IÁReù
 
	g»ù
;

1416 ià(
	gªchÜNode
 !ğ
m_äame
->
docum’t
())

1417 
»ù
 = 
ªchÜNode
->
g‘Reù
();

1421 
	gªchÜNode
->
»nd””
()->
’şosšgLay”
()->
süŞlReùToVisibË
(
»ù
, 
Œue
, 
SüŞlAlignm’t
::
®ignToEdgeIfN“ded
, SüŞlAlignm’t::
®ignTİAlways
);

1423 ià(
	gAXObjeùCache
::
acûssib™yEÇbËd
())

1424 
m_äame
->
docum’t
()->
axObjeùCache
()->
hªdËSüŞËdToAnchÜ
(
ªchÜNode
.
g‘
());

1427 
	gm_maššSüŞlPos™iÚAnchÜ
 = 
ªchÜNode
;

1430 
boŞ
 
	gF¿meV›w
::
upd©eWidg‘s
()

1432 ià(
m_Ã¡edLayoutCouÁ
 > 1 || !
m_widg‘Upd©eS‘
 || m_widg‘Upd©eS‘->
isEm±y
())

1433  
Œue
;

1435 
size_t
 
	gsize
 = 
m_widg‘Upd©eS‘
->
size
();

1437 
	gVeùÜ
<
	gR’d”EmbeddedObjeù
*> 
	gobjeùs
;

1438 
	gobjeùs
.
»£rveC­ac™y
(
size
);

1440 
	gR’d”EmbeddedObjeùS‘
::
cÚ¡_™”©Ü
 
’d
 = 
m_widg‘Upd©eS‘
->end();

1441 
	gR’d”EmbeddedObjeùS‘
::
cÚ¡_™”©Ü
 
™
 = 
m_widg‘Upd©eS‘
->
begš
(); 
	g™
 !ğ
’d
; ++it) {

1442 
	gobjeùs
.
uncheckedAµ’d
(*
™
);

1443 (*
	g™
)->
»f
();

1446 
size_t
 
	gi
 = 0; i < 
	gsize
; ++i) {

1447 
R’d”EmbeddedObjeù
* 
	gobjeù
 = 
objeùs
[
i
];

1450 
	gobjeù
->
upd©eWidg‘
(
çl£
);

1451 
	gobjeù
->
upd©eWidg‘Pos™iÚ
();

1453 
	gm_widg‘Upd©eS‘
->
»move
(
objeù
);

1456 
R’d”A»Ç
* 
	g¬’a
 = 
m_äame
->
docum’t
()->
»nd”A»Ç
();

1457 
size_t
 
	gi
 = 0; i < 
	gsize
; ++i)

1458 
	gobjeùs
[
i
]->
d”ef
(
¬’a
);

1460  
	gm_widg‘Upd©eS‘
->
isEm±y
();

1463 
	gF¿meV›w
::
³rfÜmPo¡LayoutTasks
()

1465 ià(
m_fœ¡LayoutC®lbackP’dšg
) {

1466 
m_fœ¡LayoutC®lbackP’dšg
 = 
çl£
;

1467 
	gm_äame
->
lßd”
()->
didFœ¡Layout
();

1470 ià(
	gm_isVisu®lyNÚEm±y
 && 
	gm_fœ¡Visu®lyNÚEm±yLayoutC®lbackP’dšg
) {

1471 
	gm_fœ¡Visu®lyNÚEm±yLayoutC®lbackP’dšg
 = 
çl£
;

1472 
	gm_äame
->
lßd”
()->
didFœ¡Visu®lyNÚEm±yLayout
();

1475 
R’d”V›w
* 
	groÙ
 = 
m_äame
->
cÚ‹ÁR’d””
();

1477 
	groÙ
->
upd©eWidg‘Pos™iÚs
();

1479 
	gi
 = 0; i < 
	gmaxUpd©eWidg‘sI‹¿tiÚs
; i++) {

1480 ià(
upd©eWidg‘s
())

1484 
süŞlToAnchÜ
();

1486 
»sumeScheduËdEv’ts
();

1488 ià(!
	groÙ
->
´štšg
()) {

1489 
IÁSize
 
	gcu¼’tSize
 = IÁSize(
width
(), 
height
());

1490 
	gcu¼’tZoomFaùÜ
 = 
roÙ
->
¡yË
()->
zoom
();

1491 
boŞ
 
	g»sized
 = !
m_fœ¡Layout
 && (
cu¼’tSize
 !ğ
m_Ï¡LayoutSize
 || 
cu¼’tZoomFaùÜ
 !ğ
m_Ï¡ZoomFaùÜ
);

1492 
	gm_Ï¡LayoutSize
 = 
cu¼’tSize
;

1493 
	gm_Ï¡ZoomFaùÜ
 = 
cu¼’tZoomFaùÜ
;

1494 ià(
	g»sized
)

1495 
	gm_äame
->
ev’tHªdËr
()->
£ndResizeEv’t
();

1499 
	gF¿meV›w
::
po¡LayoutTim”Fœed
(
Tim”
<
F¿meV›w
>*)

1501 
³rfÜmPo¡LayoutTasks
();

1504 
	gF¿meV›w
::
upd©eOv”æowStus
(
boŞ
 
hÜizÚlOv”æow
, boŞ 
v”tiÿlOv”æow
)

1506 ià(!
	gm_v›wpÜtR’d””
)

1509 ià(
	gm_ov”æowStusDœty
) {

1510 
	gm_hÜizÚlOv”æow
 = 
hÜizÚlOv”æow
;

1511 
	gm_v”tiÿlOv”æow
 = 
v”tiÿlOv”æow
;

1512 
	gm_ov”æowStusDœty
 = 
çl£
;

1516 
boŞ
 
	ghÜizÚlOv”æowChªged
 = (
m_hÜizÚlOv”æow
 !ğ
hÜizÚlOv”æow
);

1517 
boŞ
 
	gv”tiÿlOv”æowChªged
 = (
m_v”tiÿlOv”æow
 !ğ
v”tiÿlOv”æow
);

1519 ià(
	ghÜizÚlOv”æowChªged
 || 
	gv”tiÿlOv”æowChªged
) {

1520 
	gm_hÜizÚlOv”æow
 = 
hÜizÚlOv”æow
;

1521 
	gm_v”tiÿlOv”æow
 = 
v”tiÿlOv”æow
;

1523 
scheduËEv’t
(
Ov”æowEv’t
::
ü—‹
(
hÜizÚlOv”æowChªged
, 
hÜizÚlOv”æow
,

1524 
v”tiÿlOv”æowChªged
, 
v”tiÿlOv”æow
),

1525 
m_v›wpÜtR’d””
->
node
());

1530 
	gF¿meV›w
::
di¥©chScheduËdEv’ts
()

1532 ià(
m_scheduËdEv’ts
.
isEm±y
())

1535 
	gVeùÜ
<
	gScheduËdEv’t
*> 
	gscheduËdEv’tsCİy
 = 
m_scheduËdEv’ts
;

1536 
	gm_scheduËdEv’ts
.
ş—r
();

1538 
	gVeùÜ
<
	gScheduËdEv’t
*>::
™”©Ü
 
’d
 = 
scheduËdEv’tsCİy
.end();

1539 
	gVeùÜ
<
	gScheduËdEv’t
*>::
™”©Ü
 
™
 = 
scheduËdEv’tsCİy
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

1540 
ScheduËdEv’t
* 
	gscheduËdEv’t
 = *
™
;

1542 
Exû±iÚCode
 
	gec
 = 0;

1545 ià(
	gscheduËdEv’t
->
	gm_ev’tT¬g‘
->
šDocum’t
())

1546 
	gscheduËdEv’t
->
	gm_ev’tT¬g‘
->
di¥©chEv’t
(
scheduËdEv’t
->
m_ev’t
, 
ec
);

1548 
d–‘e
 
	gscheduËdEv’t
;

1552 
IÁReù
 
	gF¿meV›w
::
wšdowClReù
(
boŞ
 
şToCÚ‹Ás
) const

1554 
ASSERT
(
m_äame
->
v›w
(è=ğ
this
);

1557 
IÁReù
 
	gşReù
 = 
cÚ‹ÁsToWšdow
(
visibËCÚ‹ÁReù
(!
şToCÚ‹Ás
));

1558 ià(!
	gm_äame
 || !m_äame->
docum’t
()->
owÃrEËm’t
())

1559  
	gşReù
;

1562 
EËm’t
* 
	g–t
 = 
m_äame
->
docum’t
()->
owÃrEËm’t
();

1563 
R’d”Lay”
* 
	gÏy”
 = 
–t
->
»nd””
()->
’şosšgLay”
();

1565 ià(!
	gÏy”
)

1566  
	gşReù
;

1567 
F¿meV›w
* 
	g·»ÁV›w
 = 
–t
->
docum’t
()->
v›w
();

1568 
	gşReù
.
š‹r£ù
(
·»ÁV›w
->
wšdowClReùFÜLay”
(
Ïy”
, 
Œue
));

1569  
	gşReù
;

1572 
IÁReù
 
	gF¿meV›w
::
wšdowClReùFÜLay”
(cÚ¡ 
R’d”Lay”
* 
Ïy”
, 
boŞ
 
şToLay”CÚ‹Ás
) const

1575 ià(!
	gÏy”
)

1576  
wšdowClReù
();

1579 
IÁReù
 
	gşReù
;

1580 ià(
	gşToLay”CÚ‹Ás
)

1581 
	gşReù
 = 
Ïy”
->
chd»nClReù
();

1583 
	gşReù
 = 
Ïy”
->
£lfClReù
();

1584 
	gşReù
 = 
cÚ‹ÁsToWšdow
(
şReù
);

1585  
š‹r£ùiÚ
(
şReù
, 
wšdowClReù
());

1588 
boŞ
 
	gF¿meV›w
::
isAùive
() const

1590 
Page
* 
·ge
 = 
äame
()->page();

1591  
	g·ge
 &&…age->
focusCÚŒŞËr
()->
isAùive
();

1594 
	gF¿meV›w
::
v®ueChªged
(
SüŞlb¬
* 
b¬
)

1597 
IÁSize
 
off£t
 = 
süŞlOff£t
();

1598 
	gSüŞlV›w
::
v®ueChªged
(
b¬
);

1599 ià(
	goff£t
 !ğ
süŞlOff£t
())

1600 
äame
()->
ev’tHªdËr
()->
£ndSüŞlEv’t
();

1601 
äame
()->
lßd”
()->
ş›Á
()->
didChªgeSüŞlOff£t
();

1604 
	gF¿meV›w
::
šv®id©eSüŞlb¬Reù
(
SüŞlb¬
* 
süŞlb¬
, cÚ¡ 
IÁReù
& 
»ù
)

1607 
IÁReù
 
	gdœtyReù
 = 
»ù
;

1608 
	gdœtyReù
.
move
(
süŞlb¬
->
x
(), süŞlb¬->
y
());

1609 
šv®id©eReù
(
dœtyReù
);

1612 
	gF¿meV›w
::
g‘Tickm¬ks
(
VeùÜ
<
IÁReù
>& 
tickm¬ks
) const

1614 
tickm¬ks
 = 
äame
()->
docum’t
()->
»nd”edReùsFÜM¬k”s
(
Docum’tM¬k”
::
TextM©ch
);

1617 
IÁReù
 
	gF¿meV›w
::
wšdowResiz”Reù
() const

1619 
Page
* 
·ge
 = 
äame
() ? frame()->page() : 0;

1620 ià(!
	g·ge
)

1621  
IÁReù
();

1622  
	g·ge
->
chrome
()->
wšdowResiz”Reù
();

1625 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

1626 
	gF¿meV›w
::
upd©eDashbßrdRegiÚs
()

1628 
Docum’t
* 
docum’t
 = 
m_äame
->document();

1629 ià(!
	gdocum’t
->
hasDashbßrdRegiÚs
())

1631 
	gVeùÜ
<
	gDashbßrdRegiÚV®ue
> 
	gÃwRegiÚs
;

1632 
	gdocum’t
->
»nd”Box
()->
cŞËùDashbßrdRegiÚs
(
ÃwRegiÚs
);

1633 ià(
	gÃwRegiÚs
 =ğ
docum’t
->
dashbßrdRegiÚs
())

1635 
	gdocum’t
->
£tDashbßrdRegiÚs
(
ÃwRegiÚs
);

1636 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

1637 ià(!
	g·ge
)

1639 
	g·ge
->
chrome
()->
ş›Á
()->
dashbßrdRegiÚsChªged
();

1643 
	gF¿meV›w
::
šv®id©eSüŞlCÜÃr
()

1645 
šv®id©eReù
(
süŞlCÜÃrReù
());

1648 
	gF¿meV›w
::
upd©eSüŞlCÜÃr
()

1650 
R’d”Objeù
* 
»nd””
 = 0;

1651 
	gRefPŒ
<
	gR’d”StyË
> 
	gcÜÃrStyË
;

1653 ià(!
süŞlCÜÃrReù
().
isEm±y
()) {

1655 
Docum’t
* 
	gdoc
 = 
m_äame
->
docum’t
();

1656 
EËm’t
* 
	gbody
 = 
doc
 ? doc->
body
() : 0;

1657 ià(
	gbody
 && body->
»nd””
()) {

1658 
	g»nd””
 = 
body
->
»nd””
();

1659 
	gcÜÃrStyË
 = 
»nd””
->
g‘UnÿchedP£udoStyË
(
SCROLLBAR_CORNER
,„’d””->
¡yË
());

1662 ià(!
	gcÜÃrStyË
) {

1664 
EËm’t
* 
	gdocEËm’t
 = 
doc
 ? doc->
docum’tEËm’t
() : 0;

1665 ià(
	gdocEËm’t
 && docEËm’t->
»nd””
()) {

1666 
	g»nd””
 = 
docEËm’t
->
»nd””
();

1667 
	gcÜÃrStyË
 = 
»nd””
->
g‘UnÿchedP£udoStyË
(
SCROLLBAR_CORNER
,„’d””->
¡yË
());

1671 ià(!
	gcÜÃrStyË
) {

1673 ià(
R’d”P¬t
* 
	g»nd””
 = 
m_äame
->
owÃrR’d””
())

1674 
cÜÃrStyË
 = 
»nd””
->
g‘UnÿchedP£udoStyË
(
SCROLLBAR_CORNER
,„’d””->
¡yË
());

1678 ià(
	gcÜÃrStyË
) {

1679 ià(!
	gm_süŞlCÜÃr
)

1680 
	gm_süŞlCÜÃr
 = 
Ãw
 (
»nd””
->
»nd”A»Ç
()è
R’d”SüŞlb¬P¬t
Ô’d””->
docum’t
());

1681 
	gm_süŞlCÜÃr
->
£tStyË
(
cÜÃrStyË
.
»Ëa£
());

1682 
šv®id©eReù
(
süŞlCÜÃrReù
());

1683 } ià(
	gm_süŞlCÜÃr
) {

1684 
	gm_süŞlCÜÃr
->
de¡roy
();

1685 
	gm_süŞlCÜÃr
 = 0;

1689 
	gF¿meV›w
::
·štSüŞlCÜÃr
(
G¿phicsCÚ‹xt
* 
cÚ‹xt
, cÚ¡ 
IÁReù
& 
cÜÃrReù
)

1691 ià(
	gcÚ‹xt
->
upd©šgCÚŒŞTšts
()) {

1692 
upd©eSüŞlCÜÃr
();

1696 ià(
	gm_süŞlCÜÃr
) {

1697 
	gm_süŞlCÜÃr
->
·štIÁoReù
(
cÚ‹xt
, 
cÜÃrReù
.
x
(), cÜÃrReù.
y
(), cornerRect);

1701 
	gSüŞlV›w
::
·štSüŞlCÜÃr
(
cÚ‹xt
, 
cÜÃrReù
);

1704 
boŞ
 
	gF¿meV›w
::
hasCu¡omSüŞlb¬s
() const

1706 cÚ¡ 
HashS‘
<
RefPŒ
<
Widg‘
> >* 
v›wChd»n
 = 
chd»n
();

1707 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >::
cÚ¡_™”©Ü
 
’d
 = 
v›wChd»n
->end();

1708 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >::
cÚ¡_™”©Ü
 
cu¼’t
 = 
v›wChd»n
->
begš
(); 
	gcu¼’t
 !ğ
’d
; ++current) {

1709 
Widg‘
* 
	gwidg‘
 = 
cu¼’t
->
g‘
();

1710 ià(
	gwidg‘
->
isF¿meV›w
()) {

1711 ià(
	g¡©ic_ÿ¡
<
	gF¿meV›w
*>(
	gwidg‘
)->
hasCu¡omSüŞlb¬s
())

1712  
	gŒue
;

1713 } ià(
	gwidg‘
->
isSüŞlb¬
()) {

1714 
SüŞlb¬
* 
	gsüŞlb¬
 = 
¡©ic_ÿ¡
<SüŞlb¬*>(
widg‘
);

1715 ià(
	gsüŞlb¬
->
isCu¡omSüŞlb¬
())

1716  
	gŒue
;

1720  
	gçl£
;

1723 
	gF¿meV›w
::
upd©eCÚŒŞTšts
()

1731 ià(!
m_äame
 || m_äame->
lßd”
()->
u¾
().
isEm±y
())

1734 ià((
	gm_äame
->
cÚ‹ÁR’d””
(è&& m_äame->cÚ‹ÁR’d””()->
theme
()->
suµÜtsCÚŒŞTšts
()è|| 
hasCu¡omSüŞlb¬s
()) {

1735 ià(
ÃedsLayout
())

1736 
Ïyout
();

1737 
PÏtfÜmG¿phicsCÚ‹xt
* cÚ¡ 
	gnoCÚ‹xt
 = 0;

1738 
G¿phicsCÚ‹xt
 
cÚ‹xt
(
noCÚ‹xt
);

1739 
	gcÚ‹xt
.
£tUpd©šgCÚŒŞTšts
(
Œue
);

1740 ià(
¶©fÜmWidg‘
())

1741 
·štCÚ‹Ás
(&
cÚ‹xt
, 
visibËCÚ‹ÁReù
());

1743 
·št
(&
cÚ‹xt
, 
äameReù
());

1747 
boŞ
 
	gF¿meV›w
::
wasSüŞËdByU£r
() const

1749  
m_wasSüŞËdByU£r
;

1752 
	gF¿meV›w
::
£tWasSüŞËdByU£r
(
boŞ
 
wasSüŞËdByU£r
)

1754 ià(
m_šProg¿mm©icSüŞl
)

1756 
	gm_maššSüŞlPos™iÚAnchÜ
 = 0;

1757 
	gm_wasSüŞËdByU£r
 = 
wasSüŞËdByU£r
;

1760 
	gF¿meV›w
::
·štCÚ‹Ás
(
G¿phicsCÚ‹xt
* 
p
, cÚ¡ 
IÁReù
& 
»ù
)

1762 ià(!
äame
())

1765 #ià
ENABLE
(
INSPECTOR
)

1766 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = 
š¥eùÜTim–šeAg’t
())

1767 
tim–šeAg’t
->
wlPašt
(
»ù
);

1770 
Docum’t
* 
	gdocum’t
 = 
äame
()->
docum’t
();

1772 #iâdeà
NDEBUG


1773 
boŞ
 
	gflW™hRed
;

1774 ià(
	gdocum’t
->
´štšg
())

1775 
	gflW™hRed
 = 
çl£
;

1776 ià(
	gdocum’t
->
owÃrEËm’t
())

1777 
	gflW™hRed
 = 
çl£
;

1778 ià(
isT¿n¥¬’t
())

1779 
	gflW™hRed
 = 
çl£
;

1780 ià(
	gm_·štBehaviÜ
 & 
	gPaštBehaviÜS–eùiÚOÆy
)

1781 
	gflW™hRed
 = 
çl£
;

1782 ià(
	gm_nodeToD¿w
)

1783 
	gflW™hRed
 = 
çl£
;

1785 
	gflW™hRed
 = 
Œue
;

1787 ià(
	gflW™hRed
)

1788 
	gp
->
flReù
(
»ù
, 
CŞÜ
(0xFF, 0, 0), 
DeviûCŞÜS·û
);

1791 
boŞ
 
	gisTİLev–Paš‹r
 = !
sCu¼’tPaštTimeSmp
;

1792 ià(
	gisTİLev–Paš‹r
)

1793 
	gsCu¼’tPaštTimeSmp
 = 
cu¼’tTime
();

1795 
R’d”V›w
* 
	gcÚ‹ÁR’d””
 = 
äame
()->
cÚ‹ÁR’d””
();

1796 ià(!
	gcÚ‹ÁR’d””
) {

1797 
LOG_ERROR
("called Frame::paint with‚il„enderer");

1801 
ASSERT
(!
ÃedsLayout
());

1802 ià(
ÃedsLayout
())

1805 #ià
USE
(
ACCELERATED_COMPOSITING
)

1806 ià(!
	gp
->
·štšgDi§bËd
()) {

1807 ià(
G¿phicsLay”
* 
	groÙLay”
 = 
cÚ‹ÁR’d””
->
compos™Ü
()->
roÙPÏtfÜmLay”
())

1808 
roÙLay”
->
syncCompos™šgS‹
();

1812 
ASSERT
(!
m_isPaštšg
);

1814 
	gm_isPaštšg
 = 
Œue
;

1817 
R’d”Objeù
* 
	g–tR’d””
 = 
m_nodeToD¿w
 ? m_nodeToD¿w->
»nd””
() : 0;

1819 
PaštBehaviÜ
 
	g·štBehaviÜ
 = 
m_·štBehaviÜ
;

1820 ià(
	g·štBehaviÜ
 =ğ
PaštBehaviÜNÜm®
)

1821 
docum’t
->
šv®id©eR’d”edReùsFÜM¬k”sInReù
(
»ù
);

1823 ià(
	gdocum’t
->
´štšg
())

1824 
	g·štBehaviÜ
 |ğ
PaštBehaviÜFÏ‰’Compos™šgLay”s
;

1826 
	gcÚ‹ÁR’d””
->
Ïy”
()->
·št
(
p
, 
»ù
, 
·štBehaviÜ
, 
–tR’d””
);

1828 
	gm_isPaštšg
 = 
çl£
;

1829 
	gm_Ï¡PaštTime
 = 
cu¼’tTime
();

1831 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

1833 ià(
	gdocum’t
->
dashbßrdRegiÚsDœty
())

1834 
upd©eDashbßrdRegiÚs
();

1837 ià(
	gisTİLev–Paš‹r
)

1838 
	gsCu¼’tPaštTimeSmp
 = 0;

1840 #ià
ENABLE
(
INSPECTOR
)

1841 ià(
In¥eùÜTim–šeAg’t
* 
	gtim–šeAg’t
 = 
š¥eùÜTim–šeAg’t
())

1842 
tim–šeAg’t
->
didPašt
();

1846 
	gF¿meV›w
::
£tPaštBehaviÜ
(
PaštBehaviÜ
 
behaviÜ
)

1848 
m_·štBehaviÜ
 = 
behaviÜ
;

1851 
PaštBehaviÜ
 
	gF¿meV›w
::
·štBehaviÜ
() const

1853  
m_·štBehaviÜ
;

1856 
boŞ
 
	gF¿meV›w
::
isPaštšg
() const

1858  
m_isPaštšg
;

1861 
	gF¿meV›w
::
£tNodeToD¿w
(
Node
* 
node
)

1863 
m_nodeToD¿w
 = 
node
;

1866 
	gF¿meV›w
::
ÏyoutIfN“dedRecursive
()

1877 ià(
ÃedsLayout
())

1878 
Ïyout
();

1880 cÚ¡ 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >* 
	gv›wChd»n
 = 
chd»n
();

1881 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >::
cÚ¡_™”©Ü
 
’d
 = 
v›wChd»n
->end();

1882 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >::
cÚ¡_™”©Ü
 
cu¼’t
 = 
v›wChd»n
->
begš
(); 
	gcu¼’t
 !ğ
’d
; ++current) {

1883 
Widg‘
* 
	gwidg‘
 = (*
cu¼’t
).
g‘
();

1884 ià(
	gwidg‘
->
isF¿meV›w
())

1885 
	g¡©ic_ÿ¡
<
	gF¿meV›w
*>(
	gwidg‘
)->
ÏyoutIfN“dedRecursive
();

1890 
æushDeã¼edR•ašts
();

1893 
	gF¿meV›w
::
æushDeã¼edR•ašts
()

1895 ià(!
m_deã¼edR•aštTim”
.
isAùive
())

1897 
	gm_deã¼edR•aštTim”
.
¡İ
();

1898 
doDeã¼edR•ašts
();

1901 
	gF¿meV›w
::
fÜûLayout
(
boŞ
 
®lowSubŒ“
)

1903 
Ïyout
(
®lowSubŒ“
);

1912 
	gF¿meV›w
::
fÜûLayoutW™hPageWidthRªge
(
mšPageWidth
, 
maxPageWidth
, 
boŞ
 
_adju¡V›wSize
)

1916 
R’d”V›w
 *
	groÙ
 = 
toR’d”V›w
(
m_äame
->
docum’t
()->
»nd””
());

1917 ià(
	groÙ
) {

1919 
	g·geW
 = ()
ûf
(
mšPageWidth
);

1920 
	groÙ
->
£tWidth
(
·geW
);

1921 
	groÙ
->
£tN“dsLayoutAndP»fWidthsReÿlc
();

1922 
fÜûLayout
();

1928 
	grightmo¡Pos
 = 
roÙ
->
rightmo¡Pos™iÚ
();

1929 ià(
	grightmo¡Pos
 > 
	gmšPageWidth
) {

1930 
	g·geW
 = 
¡d
::
mš
(
rightmo¡Pos
, ()
ûf
(
maxPageWidth
));

1931 
	groÙ
->
£tWidth
(
·geW
);

1932 
	groÙ
->
£tN“dsLayoutAndP»fWidthsReÿlc
();

1933 
fÜûLayout
();

1937 ià(
	g_adju¡V›wSize
)

1938 
adju¡V›wSize
();

1941 
	gF¿meV›w
::
adju¡PageHeight
(*
ÃwBÙtom
, 
ŞdTİ
, 
ŞdBÙtom
, )

1943 
R’d”V›w
* 
	groÙ
 = 
m_äame
->
cÚ‹ÁR’d””
();

1944 ià(
	groÙ
) {

1946 
G¿phicsCÚ‹xt
 
cÚ‹xt
((
PÏtfÜmG¿phicsCÚ‹xt
*)0);

1947 
	groÙ
->
£tTrunÿ‹dAt
(()
æoÜf
(
ŞdBÙtom
));

1948 
IÁReù
 
dœtyReù
(0, ()
æoÜf
(
ŞdTİ
), 
roÙ
->
rightLayoutOv”æow
(), ()
ûf
(
ŞdBÙtom
 - oldTop));

1949 
	groÙ
->
Ïy”
()->
·št
(&
cÚ‹xt
, 
dœtyReù
);

1950 *
	gÃwBÙtom
 = 
roÙ
->
be¡Trunÿ‹dAt
();

1951 ià(*
	gÃwBÙtom
 == 0)

1952 *
ÃwBÙtom
 = 
ŞdBÙtom
;

1954 *
	gÃwBÙtom
 = 
ŞdBÙtom
;

1957 
IÁReù
 
	gF¿meV›w
::
cÚv”tFromR’d””
(cÚ¡ 
R’d”Objeù
* 
»nd””
, cÚ¡ IÁReù& 
»nd””Reù
) const

1959 
IÁReù
 
	g»ù
 = 
»nd””
->
loÿlToAbsŞu‹Quad
(
FlßtReù
(
»nd””Reù
)).
’şosšgBoundšgBox
();

1962 
	g»ù
.
move
(-
süŞlX
(), -
süŞlY
());

1964  
	g»ù
;

1967 
IÁReù
 
	gF¿meV›w
::
cÚv”tToR’d””
(cÚ¡ 
R’d”Objeù
* 
»nd””
, cÚ¡ IÁReù& 
v›wReù
) const

1969 
IÁReù
 
	g»ù
 = 
v›wReù
;

1972 
	g»ù
.
move
(
süŞlX
(), 
süŞlY
());

1976 
	g»ù
.
£tLoÿtiÚ
(
roundedIÁPošt
(
»nd””
->
absŞu‹ToLoÿl
(
»ù
.
loÿtiÚ
(), 
çl£
, 
Œue
 )));

1977  
	g»ù
;

1980 
IÁPošt
 
	gF¿meV›w
::
cÚv”tFromR’d””
(cÚ¡ 
R’d”Objeù
* 
»nd””
, cÚ¡ IÁPošt& 
»nd””Pošt
) const

1982 
IÁPošt
 
	gpošt
 = 
roundedIÁPošt
(
»nd””
->
loÿlToAbsŞu‹
(
»nd””Pošt
, 
çl£
, 
Œue
 ));

1985 
	gpošt
.
move
(-
süŞlX
(), -
süŞlY
());

1986  
	gpošt
;

1989 
IÁPošt
 
	gF¿meV›w
::
cÚv”tToR’d””
(cÚ¡ 
R’d”Objeù
* 
»nd””
, cÚ¡ IÁPošt& 
v›wPošt
) const

1991 
IÁPošt
 
	gpošt
 = 
v›wPošt
;

1994 
	gpošt
 +ğ
IÁSize
(
süŞlX
(), 
süŞlY
());

1996  
roundedIÁPošt
(
»nd””
->
absŞu‹ToLoÿl
(
pošt
, 
çl£
, 
Œue
 ));

1999 
IÁReù
 
	gF¿meV›w
::
cÚv”tToCÚššgV›w
(cÚ¡ IÁReù& 
loÿlReù
) const

2001 ià(cÚ¡ 
SüŞlV›w
* 
·»ÁSüŞlV›w
 = 
·»Á
()) {

2002 ià(
·»ÁSüŞlV›w
->
isF¿meV›w
()) {

2003 cÚ¡ 
F¿meV›w
* 
·»ÁV›w
 = 
¡©ic_ÿ¡
<cÚ¡ F¿meV›w*>(
·»ÁSüŞlV›w
);

2005 
R’d”P¬t
* 
	g»nd””
 = 
m_äame
->
owÃrR’d””
();

2006 ià(!
	g»nd””
)

2007  
	gloÿlReù
;

2009 
IÁReù
 
»ù
(
loÿlReù
);

2011 
	g»ù
.
move
(
»nd””
->
bÜd”Leá
(è+„’d””->
·ddšgLeá
(),

2012 
»nd””
->
bÜd”Tİ
(è+„’d””->
·ddšgTİ
());

2013  
	g·»ÁV›w
->
cÚv”tFromR’d””
(
»nd””
, 
»ù
);

2016  
	gWidg‘
::
cÚv”tToCÚššgV›w
(
loÿlReù
);

2019  
	gloÿlReù
;

2022 
IÁReù
 
	gF¿meV›w
::
cÚv”tFromCÚššgV›w
(cÚ¡ IÁReù& 
·»ÁReù
) const

2024 ià(cÚ¡ 
SüŞlV›w
* 
·»ÁSüŞlV›w
 = 
·»Á
()) {

2025 ià(
·»ÁSüŞlV›w
->
isF¿meV›w
()) {

2026 cÚ¡ 
F¿meV›w
* 
·»ÁV›w
 = 
¡©ic_ÿ¡
<cÚ¡ F¿meV›w*>(
·»ÁSüŞlV›w
);

2029 
R’d”P¬t
* 
	g»nd””
 = 
m_äame
->
owÃrR’d””
();

2030 ià(!
	g»nd””
)

2031  
	g·»ÁReù
;

2033 
IÁReù
 
	g»ù
 = 
·»ÁV›w
->
cÚv”tToR’d””
(
»nd””
, 
·»ÁReù
);

2035 
	g»ù
.
move
(-
»nd””
->
bÜd”Leá
(è-„’d””->
·ddšgLeá
(),

2036 -
»nd””
->
bÜd”Tİ
(è-„’d””->
·ddšgTİ
());

2037  
	g»ù
;

2040  
	gWidg‘
::
cÚv”tFromCÚššgV›w
(
·»ÁReù
);

2043  
	g·»ÁReù
;

2046 
IÁPošt
 
	gF¿meV›w
::
cÚv”tToCÚššgV›w
(cÚ¡ IÁPošt& 
loÿlPošt
) const

2048 ià(cÚ¡ 
SüŞlV›w
* 
·»ÁSüŞlV›w
 = 
·»Á
()) {

2049 ià(
·»ÁSüŞlV›w
->
isF¿meV›w
()) {

2050 cÚ¡ 
F¿meV›w
* 
·»ÁV›w
 = 
¡©ic_ÿ¡
<cÚ¡ F¿meV›w*>(
·»ÁSüŞlV›w
);

2053 
R’d”P¬t
* 
	g»nd””
 = 
m_äame
->
owÃrR’d””
();

2054 ià(!
	g»nd””
)

2055  
	gloÿlPošt
;

2057 
IÁPošt
 
pošt
(
loÿlPošt
);

2060 
	gpošt
.
move
(
»nd””
->
bÜd”Leá
(è+„’d””->
·ddšgLeá
(),

2061 
»nd””
->
bÜd”Tİ
(è+„’d””->
·ddšgTİ
());

2062  
	g·»ÁV›w
->
cÚv”tFromR’d””
(
»nd””
, 
pošt
);

2065  
	gWidg‘
::
cÚv”tToCÚššgV›w
(
loÿlPošt
);

2068  
	gloÿlPošt
;

2071 
IÁPošt
 
	gF¿meV›w
::
cÚv”tFromCÚššgV›w
(cÚ¡ IÁPošt& 
·»ÁPošt
) const

2073 ià(cÚ¡ 
SüŞlV›w
* 
·»ÁSüŞlV›w
 = 
·»Á
()) {

2074 ià(
·»ÁSüŞlV›w
->
isF¿meV›w
()) {

2075 cÚ¡ 
F¿meV›w
* 
·»ÁV›w
 = 
¡©ic_ÿ¡
<cÚ¡ F¿meV›w*>(
·»ÁSüŞlV›w
);

2078 
R’d”P¬t
* 
	g»nd””
 = 
m_äame
->
owÃrR’d””
();

2079 ià(!
	g»nd””
)

2080  
	g·»ÁPošt
;

2082 
IÁPošt
 
	gpošt
 = 
·»ÁV›w
->
cÚv”tToR’d””
(
»nd””
, 
·»ÁPošt
);

2084 
	gpošt
.
move
(-
»nd””
->
bÜd”Leá
(è-„’d””->
·ddšgLeá
(),

2085 -
»nd””
->
bÜd”Tİ
(è-„’d””->
·ddšgTİ
());

2086  
	gpošt
;

2089  
	gWidg‘
::
cÚv”tFromCÚššgV›w
(
·»ÁPošt
);

2092  
	g·»ÁPošt
;

	@FrameView.h

25 #iâdeà
F¿meV›w_h


26 
	#F¿meV›w_h


	)

28 
	~"F¿me.h
"

29 
	~"IÁSize.h
"

30 
	~"Page.h
"

31 
	~"R’d”Lay”.h
"

32 
	~"SüŞlV›w.h
"

33 
	~<wtf/FÜw¬d.h
>

34 
	~<wtf/OwnPŒ.h
>

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gCŞÜ
;

39 
şass
 
	gEv’t
;

40 
şass
 
	gF¿me
;

41 
şass
 
	gF¿meV›wPriv©e
;

42 
şass
 
	gIn¥eùÜTim–šeAg’t
;

43 
şass
 
	gIÁReù
;

44 
şass
 
	gNode
;

45 
şass
 
	gPÏtfÜmMou£Ev’t
;

46 
şass
 
	gR’d”Lay”
;

47 
şass
 
	gR’d”Objeù
;

48 
şass
 
	gR’d”EmbeddedObjeù
;

49 
şass
 
	gScheduËdEv’t
;

50 
şass
 
	gSŒšg
;

52 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gTim”
;

54 şas 
	cF¿meV›w
 : 
public
 
SüŞlV›w
 {

55 
public
:

56 
ä›nd
 
şass
 
R’d”V›w
;

58 
	gPassRefPŒ
<
	gF¿meV›w
> 
ü—‹
(
F¿me
*);

59 
	gPassRefPŒ
<
	gF¿meV›w
> 
ü—‹
(
F¿me
*, cÚ¡ 
IÁSize
& 
š™ŸlSize
);

61 
	gvœtu®
 ~
F¿meV›w
();

63 
vœtu®
 
Ho¡Wšdow
* 
ho¡Wšdow
() const;

65 
vœtu®
 
šv®id©eReù
(cÚ¡ 
IÁReù
&);

67 
F¿me
* 
äame
(ècÚ¡ {  
	gm_äame
.
g‘
(); }

68 
ş—rF¿me
();

70 
m¬gšWidth
(ècÚ¡ {  
	gm_m¬gšs
.
width
(); }

71 
m¬gšHeight
(ècÚ¡ {  
	gm_m¬gšs
.
height
(); }

72 
£tM¬gšWidth
();

73 
£tM¬gšHeight
();

75 
vœtu®
 
£tCªHaveSüŞlb¬s
(
boŞ
);

76 
upd©eCªHaveSüŞlb¬s
();

78 
vœtu®
 
	gPassRefPŒ
<
	gSüŞlb¬
> 
ü—‹SüŞlb¬
(
SüŞlb¬Or›Á©iÚ
);

80 
vœtu®
 
boŞ
 
avoidSüŞlb¬C»©iÚ
();

82 
vœtu®
 
£tCÚ‹ÁsSize
(cÚ¡ 
IÁSize
&);

84 
Ïyout
(
boŞ
 
®lowSubŒ“
 = 
Œue
);

85 
boŞ
 
didFœ¡Layout
() const;

86 
ÏyoutTim”Fœed
(
Tim”
<
F¿meV›w
>*);

87 
scheduËR–ayout
();

88 
scheduËR–ayoutOfSubŒ“
(
R’d”Objeù
*);

89 
unscheduËR–ayout
();

90 
boŞ
 
ÏyoutP’dšg
() const;

92 
R’d”Objeù
* 
ÏyoutRoÙ
(
boŞ
 
ÚlyDuršgLayout
 = 
çl£
) const;

93 
ÏyoutCouÁ
(ècÚ¡ {  
	gm_ÏyoutCouÁ
; }

95 
boŞ
 
ÃedsLayout
() const;

96 
£tN“dsLayout
();

98 
boŞ
 
ÃedsFuÎR•ašt
(ècÚ¡ {  
	gm_doFuÎR•ašt
; }

100 #ià
USE
(
ACCELERATED_COMPOSITING
)

101 
upd©eCompos™šgLay”s
();

105 
£tN“dsOÃShÙD¿wšgSynchrÚiz©iÚ
();

109 
boŞ
 
syncCompos™šgS‹Recursive
();

113 
boŞ
 
isSoáw¬eR’d”abË
() const;

115 
didMoveOnsü“n
();

116 
wlMoveOffsü“n
();

118 
»£tSüŞlb¬s
();

119 
d‘achCu¡omSüŞlb¬s
();

121 
ş—r
();

123 
boŞ
 
isT¿n¥¬’t
() const;

124 
£tT¿n¥¬’t
(
boŞ
 
isT¿n¥¬’t
);

126 
CŞÜ
 
ba£BackgroundCŞÜ
() const;

127 
£tBa£BackgroundCŞÜ
(
CŞÜ
);

128 
upd©eBackgroundRecursiv–y
(cÚ¡ 
CŞÜ
&, 
boŞ
);

130 
boŞ
 
shouldUpd©eWheOffsü“n
() const;

131 
£tShouldUpd©eWheOffsü“n
(
boŞ
);

133 
adju¡V›wSize
();

135 
vœtu®
 
IÁReù
 
wšdowClReù
(
boŞ
 
şToCÚ‹Ás
 = 
Œue
) const;

136 
IÁReù
 
wšdowClReùFÜLay”
(cÚ¡ 
R’d”Lay”
*, 
boŞ
 
şToLay”CÚ‹Ás
) const;

138 
vœtu®
 
IÁReù
 
wšdowResiz”Reù
() const;

140 
vœtu®
 
süŞlReùIÁoV›wRecursiv–y
(cÚ¡ 
IÁReù
&);

141 
vœtu®
 
£tSüŞlPos™iÚ
(cÚ¡ 
IÁPošt
&);

142 
süŞlPos™iÚChªged
();

144 
SŒšg
 
medŸTy³
() const;

145 
£tMedŸTy³
(cÚ¡ 
SŒšg
&);

146 
adju¡MedŸTy³FÜPrštšg
(
boŞ
 
´štšg
);

148 
£tU£SlowR•ašts
();

149 
£tIsOv”Ïµed
(
boŞ
);

150 
£tCÚ‹ÁIsO·que
(
boŞ
);

152 
addSlowR•aštObjeù
();

153 
»moveSlowR•aštObjeù
();

155 
addFixedObjeù
();

156 
»moveFixedObjeù
();

158 
begšDeã¼edR•ašts
();

159 
’dDeã¼edR•ašts
();

160 
checkStİD–ayšgDeã¼edR•ašts
();

161 
»£tDeã¼edR•aštD–ay
();

163 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

164 
upd©eDashbßrdRegiÚs
();

166 
upd©eCÚŒŞTšts
();

168 
»¡ÜeSüŞlb¬
();

170 
scheduËEv’t
(
PassRefPŒ
<
Ev’t
>, PassRefPŒ<
Node
>);

171 
·u£ScheduËdEv’ts
();

172 
»sumeScheduËdEv’ts
();

173 
po¡LayoutTim”Fœed
(
Tim”
<
F¿meV›w
>*);

175 
boŞ
 
wasSüŞËdByU£r
() const;

176 
£tWasSüŞËdByU£r
(
boŞ
);

178 
addWidg‘ToUpd©e
(
R’d”EmbeddedObjeù
*);

179 
»moveWidg‘ToUpd©e
(
R’d”EmbeddedObjeù
*);

181 
vœtu®
 
·štCÚ‹Ás
(
G¿phicsCÚ‹xt
*, cÚ¡ 
IÁReù
& 
damageReù
);

182 
£tPaštBehaviÜ
(
PaštBehaviÜ
);

183 
PaštBehaviÜ
 
·štBehaviÜ
() const;

184 
boŞ
 
isPaštšg
() const;

185 
£tNodeToD¿w
(
Node
*);

187 
cu¼’tPaštTimeSmp
(è{  
	gsCu¼’tPaštTimeSmp
; }

189 
ÏyoutIfN“dedRecursive
();

190 
æushDeã¼edR•ašts
();

192 
£tIsVisu®lyNÚEm±y
(è{ 
	gm_isVisu®lyNÚEm±y
 = 
Œue
; }

194 
fÜûLayout
(
boŞ
 
®lowSubŒ“
 = 
çl£
);

195 
fÜûLayoutW™hPageWidthRªge
(
mšPageWidth
, 
maxPageWidth
, 
boŞ
 
adju¡V›wSize
);

197 
adju¡PageHeight
(* 
ÃwBÙtom
, 
ŞdTİ
, 
ŞdBÙtom
, 
bÙtomLim™
);

199 
boŞ
 
süŞlToF¿gm’t
(cÚ¡ 
KURL
&);

200 
boŞ
 
süŞlToAnchÜ
(cÚ¡ 
SŒšg
&);

201 
maššSüŞlPos™iÚAtAnchÜ
(
Node
*);

204 
vœtu®
 
IÁReù
 
cÚv”tFromR’d””
(cÚ¡ 
R’d”Objeù
*, const IntRect&) const;

205 
vœtu®
 
IÁReù
 
cÚv”tToR’d””
(cÚ¡ 
R’d”Objeù
*, const IntRect&) const;

206 
vœtu®
 
IÁPošt
 
cÚv”tFromR’d””
(cÚ¡ 
R’d”Objeù
*, const IntPoint&) const;

207 
vœtu®
 
IÁPošt
 
cÚv”tToR’d””
(cÚ¡ 
R’d”Objeù
*, const IntPoint&) const;

209 
boŞ
 
isF¿meV›wSüŞlCÜÃr
(
R’d”SüŞlb¬P¬t
* 
süŞlCÜÃr
ècÚ¡ {  
	gm_süŞlCÜÃr
 == scrollCorner; }

210 
šv®id©eSüŞlCÜÃr
();

212 
	g´iv©e
:

213 
F¿meV›w
(
F¿me
*);

215 
»£t
();

216 
š™
();

218 
vœtu®
 
boŞ
 
isF¿meV›w
() const;

220 
ä›nd
 
şass
 
	gR’d”Widg‘
;

221 
boŞ
 
u£SlowR•ašts
() const;

222 
boŞ
 
u£SlowR•aštsIfNÙOv”Ïµed
() const;

224 
boŞ
 
hasFixedObjeùs
(ècÚ¡ {  
	gm_fixedObjeùCouÁ
 > 0; }

226 
­¶yOv”æowToV›wpÜt
(
R’d”Objeù
*, 
SüŞlb¬Mode
& 
hMode
, SüŞlb¬Mode& 
vMode
);

228 
upd©eOv”æowStus
(
boŞ
 
hÜizÚlOv”æow
, boŞ 
v”tiÿlOv”æow
);

230 
di¥©chScheduËdEv’ts
();

231 
³rfÜmPo¡LayoutTasks
();

233 
vœtu®
 
»·štCÚ‹ÁReùªgË
(cÚ¡ 
IÁReù
&, 
boŞ
 
immedŸ‹
);

234 
vœtu®
 
cÚ‹ÁsResized
(è{ 
£tN“dsLayout
(); }

235 
vœtu®
 
visibËCÚ‹ÁsResized
();

239 
vœtu®
 
IÁReù
 
cÚv”tToCÚššgV›w
(const IntRect&) const;

240 
vœtu®
 
IÁReù
 
cÚv”tFromCÚššgV›w
(const IntRect&) const;

241 
vœtu®
 
IÁPošt
 
cÚv”tToCÚššgV›w
(const IntPoint&) const;

242 
vœtu®
 
IÁPošt
 
cÚv”tFromCÚššgV›w
(const IntPoint&) const;

245 
vœtu®
 
v®ueChªged
(
SüŞlb¬
*);

246 
vœtu®
 
šv®id©eSüŞlb¬Reù
(
SüŞlb¬
*, cÚ¡ 
IÁReù
&);

247 
vœtu®
 
boŞ
 
isAùive
() const;

248 
vœtu®
 
g‘Tickm¬ks
(
VeùÜ
<
IÁReù
>&) const;

250 
deã¼edR•aštTim”Fœed
(
Tim”
<
F¿meV›w
>*);

251 
doDeã¼edR•ašts
();

252 
upd©eDeã¼edR•aštD–ay
();

253 
adju¡edDeã¼edR•aštD–ay
() const;

255 
boŞ
 
upd©eWidg‘s
();

256 
süŞlToAnchÜ
();

258 #ià
ENABLE
(
INSPECTOR
)

259 
In¥eùÜTim–šeAg’t
* 
š¥eùÜTim–šeAg’t
() const;

262 
boŞ
 
hasCu¡omSüŞlb¬s
() const;

264 
vœtu®
 
upd©eSüŞlCÜÃr
();

265 
vœtu®
 
·štSüŞlCÜÃr
(
G¿phicsCÚ‹xt
*, cÚ¡ 
IÁReù
& 
cÜÃrReù
);

267 
	gsCu¼’tPaštTimeSmp
;

269 
IÁSize
 
	gm_size
;

270 
IÁSize
 
	gm_m¬gšs
;

272 
	gHashS‘
<
	tR’d”EmbeddedObjeù
*> 
	tR’d”EmbeddedObjeùS‘
;

273 
	gOwnPŒ
<
	gR’d”EmbeddedObjeùS‘
> 
	gm_widg‘Upd©eS‘
;

274 
	gRefPŒ
<
	gF¿me
> 
	gm_äame
;

276 
boŞ
 
	gm_doFuÎR•ašt
;

278 
boŞ
 
	gm_ÿnHaveSüŞlb¬s
;

279 
boŞ
 
	gm_u£SlowR•ašts
;

280 
boŞ
 
	gm_isOv”Ïµed
;

281 
boŞ
 
	gm_cÚ‹ÁIsO·que
;

282 
	gm_¦owR•aštObjeùCouÁ
;

283 
	gm_fixedObjeùCouÁ
;

285 
	gm_bÜd”X
, 
	gm_bÜd”Y
;

287 
	gTim”
<
	gF¿meV›w
> 
	gm_ÏyoutTim”
;

288 
boŞ
 
	gm_d–ayedLayout
;

289 
R’d”Objeù
* 
	gm_ÏyoutRoÙ
;

291 
boŞ
 
	gm_ÏyoutSchedulšgEÇbËd
;

292 
boŞ
 
	gm_midLayout
;

293 
	gm_ÏyoutCouÁ
;

294 
	gm_Ã¡edLayoutCouÁ
;

295 
	gTim”
<
	gF¿meV›w
> 
	gm_po¡LayoutTasksTim”
;

296 
boŞ
 
	gm_fœ¡LayoutC®lbackP’dšg
;

298 
boŞ
 
	gm_fœ¡Layout
;

299 
boŞ
 
	gm_isT¿n¥¬’t
;

300 
CŞÜ
 
	gm_ba£BackgroundCŞÜ
;

301 
IÁSize
 
	gm_Ï¡LayoutSize
;

302 
	gm_Ï¡ZoomFaùÜ
;

304 
SŒšg
 
	gm_medŸTy³
;

305 
SŒšg
 
	gm_medŸTy³Wh’NÙPrštšg
;

307 
	gm_’queueEv’ts
;

308 
	gVeùÜ
<
	gScheduËdEv’t
*> 
	gm_scheduËdEv’ts
;

310 
boŞ
 
	gm_ov”æowStusDœty
;

311 
boŞ
 
	gm_hÜizÚlOv”æow
;

312 
boŞ
 
	gm_v”tiÿlOv”æow
;

313 
R’d”Objeù
* 
	gm_v›wpÜtR’d””
;

315 
boŞ
 
	gm_wasSüŞËdByU£r
;

316 
boŞ
 
	gm_šProg¿mm©icSüŞl
;

318 
	gm_deã¼šgR•ašts
;

319 
	gm_»·štCouÁ
;

320 
	gVeùÜ
<
	gIÁReù
> 
	gm_»·štReùs
;

321 
	gTim”
<
	gF¿meV›w
> 
	gm_deã¼edR•aštTim”
;

322 
	gm_deã¼edR•aštD–ay
;

323 
	gm_Ï¡PaštTime
;

325 
boŞ
 
	gm_shouldUpd©eWheOffsü“n
;

327 
	gm_deãrS‘N“dsLayouts
;

328 
boŞ
 
	gm_£tN“dsLayoutWasDeã¼ed
;

330 
	gRefPŒ
<
	gNode
> 
	gm_nodeToD¿w
;

331 
PaštBehaviÜ
 
	gm_·štBehaviÜ
;

332 
boŞ
 
	gm_isPaštšg
;

334 
boŞ
 
	gm_isVisu®lyNÚEm±y
;

335 
boŞ
 
	gm_fœ¡Visu®lyNÚEm±yLayoutC®lbackP’dšg
;

337 
	gRefPŒ
<
	gNode
> 
	gm_maššSüŞlPos™iÚAnchÜ
;

340 
R’d”SüŞlb¬P¬t
* 
	gm_süŞlCÜÃr
;

343 #ià
	$ENABLE
(
INSPECTOR
)

344 
šlše
 
In¥eùÜTim–šeAg’t
* 
F¿meV›w
::
	$š¥eùÜTim–šeAg’t
() const

346  
m_äame
->
	`·ge
(è? m_äame->·ge()->
	`š¥eùÜTim–šeAg’t
() : 0;

347 
	}
}

	@Geolocation.cpp

28 
	~"cÚfig.h
"

29 
	~"GeŞoÿtiÚ.h
"

31 #ià
ENABLE
(
GEOLOCATION
)

33 
	~"Chrome.h
"

34 
	~"F¿me.h
"

35 
	~"Page.h
"

36 
	~<wtf/Cu¼’tTime.h
>

38 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

39 
	~"CoÜdš©es.h
"

40 
	~"GeŞoÿtiÚCÚŒŞËr.h
"

41 
	~"GeŞoÿtiÚE¼Ü.h
"

42 
	~"GeŞoÿtiÚPos™iÚ.h
"

43 
	~"Pos™iÚE¼Ü.h
"

46 
Çme¥aû
 
	gWebCÜe
 {

48 cÚ¡ 
	g³rmissiÚD’›dE¼ÜMes§ge
[] = "User denied Geolocation";

49 cÚ¡ 
	gçedToS¹S”viûE¼ÜMes§ge
[] = "Failedo start Geolocation service";

51 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

53 
	gPassRefPŒ
<
	gGeİos™iÚ
> 
ü—‹Geİos™iÚ
(
GeŞoÿtiÚPos™iÚ
* 
pos™iÚ
)

55 ià(!
	gpos™iÚ
)

58 
	gRefPŒ
<
	gCoÜdš©es
> 
	gcoÜdš©es
 = 
CoÜdš©es
::
ü—‹
(
pos™iÚ
->
Ït™ude
(),…os™iÚ->
lÚg™ude
(),…os™iÚ->
ÿnProvideAÉ™ude
(),…os™iÚ->
®t™ude
(),

59 
pos™iÚ
->
accu¿cy
(),…os™iÚ->
ÿnProvideAÉ™udeAccu¿cy
(),…os™iÚ->
®t™udeAccu¿cy
(),

60 
pos™iÚ
->
ÿnProvideH—dšg
(),…os™iÚ->
h—dšg
(),…os™iÚ->
ÿnProvideS³ed
(),…os™iÚ->
¥“d
());

61  
	gGeİos™iÚ
::
ü—‹
(
coÜdš©es
.
»Ëa£
(), 
pos™iÚ
->
time¡amp
());

64 
	gPassRefPŒ
<
	gPos™iÚE¼Ü
> 
ü—‹Pos™iÚE¼Ü
(
GeŞoÿtiÚE¼Ü
* 
”rÜ
)

66 
	gPos™iÚE¼Ü
::
E¼ÜCode
 
code
 = 
Pos™iÚE¼Ü
::
POSITION_UNAVAILABLE
;

67 
	g”rÜ
->
code
()) {

68 
	gGeŞoÿtiÚE¼Ü
::
P”missiÚD’›d
:

69 
code
 = 
Pos™iÚE¼Ü
::
PERMISSION_DENIED
;

71 
	gGeŞoÿtiÚE¼Ü
::
Pos™iÚUÇvaabË
:

72 
code
 = 
Pos™iÚE¼Ü
::
POSITION_UNAVAILABLE
;

76  
	gPos™iÚE¼Ü
::
ü—‹
(
code
, 
”rÜ
->
mes§ge
());

80 
	gGeŞoÿtiÚ
::
GeoNÙif›r
::GeoNÙif›r(
GeŞoÿtiÚ
* 
geŞoÿtiÚ
, 
PassRefPŒ
<
Pos™iÚC®lback
> 
sucûssC®lback
, PassRefPŒ<
Pos™iÚE¼ÜC®lback
> 
”rÜC®lback
, PassRefPŒ<
Pos™iÚO±iÚs
> 
İtiÚs
)

81 : 
m_geŞoÿtiÚ
(
geŞoÿtiÚ
)

82 , 
m_sucûssC®lback
(
sucûssC®lback
)

83 , 
m_”rÜC®lback
(
”rÜC®lback
)

84 , 
m_İtiÚs
(
İtiÚs
)

85 , 
m_tim”
(
this
, &
GeŞoÿtiÚ
::
GeoNÙif›r
::
tim”Fœed
)

86 , 
m_u£CachedPos™iÚ
(
çl£
)

88 
ASSERT
(
m_geŞoÿtiÚ
);

89 
ASSERT
(
m_sucûssC®lback
);

92 
ASSERT
(
m_İtiÚs
);

95 
	gGeŞoÿtiÚ
::
GeoNÙif›r
::
£tF©®E¼Ü
(
PassRefPŒ
<
Pos™iÚE¼Ü
> 
”rÜ
)

98 
ASSERT
(!
m_çlE¼Ü
);

99 
	gm_çlE¼Ü
 = 
”rÜ
;

100 
	gm_tim”
.
¡¬tOÃShÙ
(0);

103 
	gGeŞoÿtiÚ
::
GeoNÙif›r
::
£tU£CachedPos™iÚ
()

105 
m_u£CachedPos™iÚ
 = 
Œue
;

106 
	gm_tim”
.
¡¬tOÃShÙ
(0);

109 
boŞ
 
	gGeŞoÿtiÚ
::
GeoNÙif›r
::
hasZ”oTimeout
() const

111  
m_İtiÚs
->
hasTimeout
(è&& m_İtiÚs->
timeout
() == 0;

114 
	gGeŞoÿtiÚ
::
GeoNÙif›r
::
runSucûssC®lback
(
Geİos™iÚ
* 
pos™iÚ
)

116 
m_sucûssC®lback
->
hªdËEv’t
(
pos™iÚ
);

119 
	gGeŞoÿtiÚ
::
GeoNÙif›r
::
¡¬tTim”IfN“ded
()

121 ià(
m_İtiÚs
->
hasTimeout
())

122 
m_tim”
.
¡¬tOÃShÙ
(
m_İtiÚs
->
timeout
() / 1000.0);

125 
	gGeŞoÿtiÚ
::
GeoNÙif›r
::
tim”Fœed
(
Tim”
<GeoNotifier>*)

127 
m_tim”
.
¡İ
();

131 
	gRefPŒ
<
	gGeoNÙif›r
> 
´Ùeù
(
this
);

133 ià(
	gm_çlE¼Ü
) {

134 ià(
	gm_”rÜC®lback
)

135 
	gm_”rÜC®lback
->
hªdËEv’t
(
m_çlE¼Ü
.
g‘
());

137 
	gm_geŞoÿtiÚ
->
çlE¼ÜOccu¼ed
(
this
);

141 ià(
	gm_u£CachedPos™iÚ
) {

144 
	gm_u£CachedPos™iÚ
 = 
çl£
;

145 
	gm_geŞoÿtiÚ
->
»que¡U£sCachedPos™iÚ
(
this
);

149 ià(
	gm_”rÜC®lback
) {

150 
	gRefPŒ
<
	gPos™iÚE¼Ü
> 
	g”rÜ
 = 
Pos™iÚE¼Ü
::
ü—‹
(Pos™iÚE¼Ü::
TIMEOUT
, "Timeoutƒxpired");

151 
	gm_”rÜC®lback
->
hªdËEv’t
(
”rÜ
.
g‘
());

153 
	gm_geŞoÿtiÚ
->
»que¡TimedOut
(
this
);

156 
	gGeŞoÿtiÚ
::
W©ch”s
::
£t
(
id
, 
PassRefPŒ
<
GeoNÙif›r
> 
´pNÙif›r
)

158 
	gRefPŒ
<
	gGeoNÙif›r
> 
	gnÙif›r
 = 
´pNÙif›r
;

160 
	gm_idToNÙif›rM­
.
£t
(
id
, 
nÙif›r
.
g‘
());

161 
	gm_nÙif›rToIdM­
.
£t
(
nÙif›r
.
»Ëa£
(), 
id
);

164 
	gGeŞoÿtiÚ
::
W©ch”s
::
»move
(
id
)

166 
IdToNÙif›rM­
::
™”©Ü
 
™”
 = 
m_idToNÙif›rM­
.
fšd
(
id
);

167 ià(
	g™”
 =ğ
m_idToNÙif›rM­
.
’d
())

169 
	gm_nÙif›rToIdM­
.
»move
(
™”
->
£cÚd
);

170 
	gm_idToNÙif›rM­
.
»move
(
™”
);

173 
	gGeŞoÿtiÚ
::
W©ch”s
::
»move
(
GeoNÙif›r
* 
nÙif›r
)

175 
NÙif›rToIdM­
::
™”©Ü
 
™”
 = 
m_nÙif›rToIdM­
.
fšd
(
nÙif›r
);

176 ià(
	g™”
 =ğ
m_nÙif›rToIdM­
.
’d
())

178 
	gm_idToNÙif›rM­
.
»move
(
™”
->
£cÚd
);

179 
	gm_nÙif›rToIdM­
.
»move
(
™”
);

182 
boŞ
 
	gGeŞoÿtiÚ
::
W©ch”s
::
cÚšs
(
GeoNÙif›r
* 
nÙif›r
) const

184  
m_nÙif›rToIdM­
.
cÚšs
(
nÙif›r
);

187 
	gGeŞoÿtiÚ
::
W©ch”s
::
ş—r
()

189 
m_idToNÙif›rM­
.
ş—r
();

190 
	gm_nÙif›rToIdM­
.
ş—r
();

193 
boŞ
 
	gGeŞoÿtiÚ
::
W©ch”s
::
isEm±y
() const

195  
m_idToNÙif›rM­
.
isEm±y
();

198 
	gGeŞoÿtiÚ
::
W©ch”s
::
g‘NÙif›rsVeùÜ
(
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> >& 
cİy
) const

200 
cİyV®uesToVeùÜ
(
m_idToNÙif›rM­
, 
cİy
);

203 
	gGeŞoÿtiÚ
::
GeŞoÿtiÚ
(
F¿me
* 
äame
)

204 : 
m_äame
(
äame
)

205 #ià!
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

206 , 
m_£rviû
(
GeŞoÿtiÚS”viû
::
ü—‹
(
this
))

208 , 
m_®lowGeŞoÿtiÚ
(
Unknown
)

209 , 
m_pos™iÚCache
(
Ãw
 
GeŞoÿtiÚPos™iÚCache
)

211 ià(!
	gm_äame
)

213 
ASSERT
(
m_äame
->
docum’t
());

214 
	gm_äame
->
docum’t
()->
£tUsšgGeŞoÿtiÚ
(
Œue
);

217 
	gGeŞoÿtiÚ
::~
GeŞoÿtiÚ
()

221 
GeŞoÿtiÚ
::
discÚÃùF¿me
()

223 ià(
m_äame
 && m_äame->
·ge
(è&& 
m_®lowGeŞoÿtiÚ
 =ğ
InProg»ss
)

224 
m_äame
->
·ge
()->
chrome
()->
ÿnûlGeŞoÿtiÚP”missiÚReque¡FÜF¿me
(m_äame, 
this
);

225 
¡İUpd©šg
();

226 ià(
	gm_äame
 && m_äame->
docum’t
())

227 
	gm_äame
->
docum’t
()->
£tUsšgGeŞoÿtiÚ
(
çl£
);

228 
	gm_äame
 = 0;

231 
Geİos™iÚ
* 
	gGeŞoÿtiÚ
::
Ï¡Pos™iÚ
()

233 
ASSERT
(
isAÎowed
());

235 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

236 ià(!
	gm_äame
)

239 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

240 ià(!
	g·ge
)

243 
	gm_Ï¡Pos™iÚ
 = 
ü—‹Geİos™iÚ
(
·ge
->
geŞoÿtiÚCÚŒŞËr
()->
Ï¡Pos™iÚ
());

245 
	gm_Ï¡Pos™iÚ
 = 
m_£rviû
->
Ï¡Pos™iÚ
();

248  
	gm_Ï¡Pos™iÚ
.
g‘
();

251 
	gGeŞoÿtiÚ
::
g‘Cu¼’tPos™iÚ
(
PassRefPŒ
<
Pos™iÚC®lback
> 
sucûssC®lback
, PassRefPŒ<
Pos™iÚE¼ÜC®lback
> 
”rÜC®lback
, PassRefPŒ<
Pos™iÚO±iÚs
> 
İtiÚs
)

253 
	gRefPŒ
<
	gGeoNÙif›r
> 
	gnÙif›r
 = 
¡¬tReque¡
(
sucûssC®lback
, 
”rÜC®lback
, 
İtiÚs
);

254 
ASSERT
(
nÙif›r
);

256 
	gm_ÚeShÙs
.
add
(
nÙif›r
);

259 
	gGeŞoÿtiÚ
::
w©chPos™iÚ
(
PassRefPŒ
<
Pos™iÚC®lback
> 
sucûssC®lback
, PassRefPŒ<
Pos™iÚE¼ÜC®lback
> 
”rÜC®lback
, PassRefPŒ<
Pos™iÚO±iÚs
> 
İtiÚs
)

261 
	gRefPŒ
<
	gGeoNÙif›r
> 
	gnÙif›r
 = 
¡¬tReque¡
(
sucûssC®lback
, 
”rÜC®lback
, 
İtiÚs
);

262 
ASSERT
(
nÙif›r
);

264 
	gÃxtAvaabËW©chId
 = 1;

266 ià(
	gÃxtAvaabËW©chId
 < 1)

267 
	gÃxtAvaabËW©chId
 = 1;

268 
	gm_w©ch”s
.
£t
(
ÃxtAvaabËW©chId
, 
nÙif›r
.
»Ëa£
());

269  
	gÃxtAvaabËW©chId
++;

272 
	gPassRefPŒ
<
	gGeŞoÿtiÚ
::
GeoNÙif›r
> 
GeŞoÿtiÚ
::
¡¬tReque¡
(
PassRefPŒ
<
Pos™iÚC®lback
> 
sucûssC®lback
, PassRefPŒ<
Pos™iÚE¼ÜC®lback
> 
”rÜC®lback
, PassRefPŒ<
Pos™iÚO±iÚs
> 
İtiÚs
)

274 
	gRefPŒ
<
	gGeoNÙif›r
> 
	gnÙif›r
 = 
GeoNÙif›r
::
ü—‹
(
this
, 
sucûssC®lback
, 
”rÜC®lback
, 
İtiÚs
);

278 ià(
isD’›d
())

279 
	gnÙif›r
->
£tF©®E¼Ü
(
Pos™iÚE¼Ü
::
ü—‹
(Pos™iÚE¼Ü::
PERMISSION_DENIED
, 
³rmissiÚD’›dE¼ÜMes§ge
));

280 ià(
haveSu™abËCachedPos™iÚ
(
nÙif›r
->
m_İtiÚs
.
g‘
()))

281 
	gnÙif›r
->
£tU£CachedPos™iÚ
();

282 ià(
	gnÙif›r
->
hasZ”oTimeout
(è|| 
¡¬tUpd©šg
(
nÙif›r
.
g‘
())) {

283 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

285 ià(!
	gm_¡¬tReque¡P”missiÚNÙif›r
)

287 
	gnÙif›r
->
¡¬tTim”IfN“ded
();

289 
	gnÙif›r
->
£tF©®E¼Ü
(
Pos™iÚE¼Ü
::
ü—‹
(Pos™iÚE¼Ü::
POSITION_UNAVAILABLE
, 
çedToS¹S”viûE¼ÜMes§ge
));

291  
	gnÙif›r
.
»Ëa£
();

294 
	gGeŞoÿtiÚ
::
çlE¼ÜOccu¼ed
(
GeŞoÿtiÚ
::
GeoNÙif›r
* 
nÙif›r
)

297 
m_ÚeShÙs
.
»move
(
nÙif›r
);

298 
	gm_w©ch”s
.
»move
(
nÙif›r
);

300 ià(!
hasLi¡’”s
())

301 
¡İUpd©šg
();

304 
	gGeŞoÿtiÚ
::
»que¡U£sCachedPos™iÚ
(
GeoNÙif›r
* 
nÙif›r
)

308 ià(
isD’›d
()) {

309 
nÙif›r
->
£tF©®E¼Ü
(
Pos™iÚE¼Ü
::
ü—‹
(Pos™iÚE¼Ü::
PERMISSION_DENIED
, 
³rmissiÚD’›dE¼ÜMes§ge
));

313 
	gm_»que¡sAwa™šgCachedPos™iÚ
.
add
(
nÙif›r
);

316 ià(
isAÎowed
()) {

317 
makeCachedPos™iÚC®lbacks
();

322 
»que¡P”missiÚ
();

325 
	gGeŞoÿtiÚ
::
makeCachedPos™iÚC®lbacks
()

330 
GeoNÙif›rS‘
::
cÚ¡_™”©Ü
 
’d
 = 
m_»que¡sAwa™šgCachedPos™iÚ
.end();

331 
	gGeoNÙif›rS‘
::
cÚ¡_™”©Ü
 
™”
 = 
m_»que¡sAwa™šgCachedPos™iÚ
.
begš
(); 
	g™”
 !ğ
’d
; ++iter) {

332 
GeoNÙif›r
* 
	gnÙif›r
 = 
™”
->
g‘
();

333 
	gnÙif›r
->
runSucûssC®lback
(
m_pos™iÚCache
->
ÿchedPos™iÚ
());

337 ià(
	gm_ÚeShÙs
.
cÚšs
(
nÙif›r
))

338 
	gm_ÚeShÙs
.
»move
(
nÙif›r
);

339 ià(
	gm_w©ch”s
.
cÚšs
(
nÙif›r
)) {

340 ià(
	gnÙif›r
->
hasZ”oTimeout
(è|| 
¡¬tUpd©šg
(
nÙif›r
))

341 
	gnÙif›r
->
¡¬tTim”IfN“ded
();

343 
	gnÙif›r
->
£tF©®E¼Ü
(
Pos™iÚE¼Ü
::
ü—‹
(Pos™iÚE¼Ü::
POSITION_UNAVAILABLE
, 
çedToS¹S”viûE¼ÜMes§ge
));

347 
	gm_»que¡sAwa™šgCachedPos™iÚ
.
ş—r
();

349 ià(!
hasLi¡’”s
())

350 
¡İUpd©šg
();

353 
	gGeŞoÿtiÚ
::
»que¡TimedOut
(
GeoNÙif›r
* 
nÙif›r
)

356 
m_ÚeShÙs
.
»move
(
nÙif›r
);

358 ià(!
hasLi¡’”s
())

359 
¡İUpd©šg
();

362 
boŞ
 
	gGeŞoÿtiÚ
::
haveSu™abËCachedPos™iÚ
(
Pos™iÚO±iÚs
* 
İtiÚs
)

364 ià(!
m_pos™iÚCache
->
ÿchedPos™iÚ
())

365  
çl£
;

366 ià(!
	gİtiÚs
->
hasMaximumAge
())

367  
	gŒue
;

368 ià(!
	gİtiÚs
->
maximumAge
())

369  
	gçl£
;

370 
DOMTimeSmp
 
	gcu¼’tTimeMlis
 = 
cu¼’tTime
() * 1000.0;

371  
	gm_pos™iÚCache
->
ÿchedPos™iÚ
()->
time¡amp
(è> 
	gcu¼’tTimeMlis
 - 
	gİtiÚs
->
maximumAge
();

374 
	gGeŞoÿtiÚ
::
ş—rW©ch
(
w©chId
)

376 
m_w©ch”s
.
»move
(
w©chId
);

378 ià(!
hasLi¡’”s
())

379 
¡İUpd©šg
();

382 
	gGeŞoÿtiÚ
::
£tIsAÎowed
(
boŞ
 
®lowed
)

386 
m_®lowGeŞoÿtiÚ
 = 
®lowed
 ? 
Yes
 : 
No
;

388 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

389 ià(
	gm_¡¬tReque¡P”missiÚNÙif›r
) {

390 ià(
isAÎowed
()) {

392 
	gm_¡¬tReque¡P”missiÚNÙif›r
->
¡¬tTim”IfN“ded
();

393 
	gm_¡¬tReque¡P”missiÚNÙif›r
 = 0;

394 ià(!
	gm_äame
)

396 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

397 ià(!
	g·ge
)

399 
	g·ge
->
geŞoÿtiÚCÚŒŞËr
()->
addOb£rv”
(
this
);

401 
	gm_¡¬tReque¡P”missiÚNÙif›r
->
£tF©®E¼Ü
(
Pos™iÚE¼Ü
::
ü—‹
(Pos™iÚE¼Ü::
PERMISSION_DENIED
, 
³rmissiÚD’›dE¼ÜMes§ge
));

402 
	gm_ÚeShÙs
.
add
(
m_¡¬tReque¡P”missiÚNÙif›r
);

403 
	gm_¡¬tReque¡P”missiÚNÙif›r
 = 0;

409 ià(!
isAÎowed
()) {

410 
	gRefPŒ
<
	gPos™iÚE¼Ü
> 
	g”rÜ
 = 
Pos™iÚE¼Ü
::
ü—‹
(Pos™iÚE¼Ü::
PERMISSION_DENIED
, 
³rmissiÚD’›dE¼ÜMes§ge
);

411 
	g”rÜ
->
£tIsF©®
(
Œue
);

412 
hªdËE¼Ü
(
”rÜ
.
g‘
());

413 
	gm_»que¡sAwa™šgCachedPos™iÚ
.
ş—r
();

420 ià(
Ï¡Pos™iÚ
())

421 
makeSucûssC®lbacks
();

423 
makeCachedPos™iÚC®lbacks
();

426 
	gGeŞoÿtiÚ
::
£ndE¼Ü
(
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> >& 
nÙif›rs
, 
Pos™iÚE¼Ü
* 
”rÜ
)

428 
	gVeùÜ
<
	gRefPŒ
<
	gGeoNÙif›r
> >::
cÚ¡_™”©Ü
 
’d
 = 
nÙif›rs
.end();

429 
	gVeùÜ
<
	gRefPŒ
<
	gGeoNÙif›r
> >::
cÚ¡_™”©Ü
 
™
 = 
nÙif›rs
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

430 
	gRefPŒ
<
	gGeoNÙif›r
> 
	gnÙif›r
 = *
™
;

432 ià(
	gnÙif›r
->
	gm_”rÜC®lback
)

433 
	gnÙif›r
->
	gm_”rÜC®lback
->
hªdËEv’t
(
”rÜ
);

437 
	gGeŞoÿtiÚ
::
£ndPos™iÚ
(
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> >& 
nÙif›rs
, 
Geİos™iÚ
* 
pos™iÚ
)

439 
	gVeùÜ
<
	gRefPŒ
<
	gGeoNÙif›r
> >::
cÚ¡_™”©Ü
 
’d
 = 
nÙif›rs
.end();

440 
	gVeùÜ
<
	gRefPŒ
<
	gGeoNÙif›r
> >::
cÚ¡_™”©Ü
 
™
 = 
nÙif›rs
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

441 
	gRefPŒ
<
	gGeoNÙif›r
> 
	gnÙif›r
 = *
™
;

442 
ASSERT
(
nÙif›r
->
m_sucûssC®lback
);

444 
	gnÙif›r
->
	gm_sucûssC®lback
->
hªdËEv’t
(
pos™iÚ
);

448 
	gGeŞoÿtiÚ
::
¡İTim”
(
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> >& 
nÙif›rs
)

450 
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> >::
cÚ¡_™”©Ü
 
’d
 = 
nÙif›rs
.end();

451 
	gVeùÜ
<
	gRefPŒ
<
	gGeoNÙif›r
> >::
cÚ¡_™”©Ü
 
™
 = 
nÙif›rs
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

452 
	gRefPŒ
<
	gGeoNÙif›r
> 
	gnÙif›r
 = *
™
;

453 
	gnÙif›r
->
	gm_tim”
.
¡İ
();

457 
	gGeŞoÿtiÚ
::
¡İTim”sFÜOÃShÙs
()

459 
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> > 
cİy
;

460 
cİyToVeùÜ
(
m_ÚeShÙs
, 
cİy
);

462 
¡İTim”
(
cİy
);

465 
	gGeŞoÿtiÚ
::
¡İTim”sFÜW©ch”s
()

467 
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> > 
cİy
;

468 
	gm_w©ch”s
.
g‘NÙif›rsVeùÜ
(
cİy
);

470 
¡İTim”
(
cİy
);

473 
	gGeŞoÿtiÚ
::
¡İTim”s
()

475 
¡İTim”sFÜOÃShÙs
();

476 
¡İTim”sFÜW©ch”s
();

479 
	gGeŞoÿtiÚ
::
hªdËE¼Ü
(
Pos™iÚE¼Ü
* 
”rÜ
)

481 
ASSERT
(
”rÜ
);

483 
	gVeùÜ
<
	gRefPŒ
<
	gGeoNÙif›r
> > 
	gÚeShÙsCİy
;

484 
cİyToVeùÜ
(
m_ÚeShÙs
, 
ÚeShÙsCİy
);

486 
	gVeùÜ
<
	gRefPŒ
<
	gGeoNÙif›r
> > 
	gw©ch”sCİy
;

487 
	gm_w©ch”s
.
g‘NÙif›rsVeùÜ
(
w©ch”sCİy
);

492 
	gm_ÚeShÙs
.
ş—r
();

493 ià(
	g”rÜ
->
isF©®
())

494 
	gm_w©ch”s
.
ş—r
();

496 
£ndE¼Ü
(
ÚeShÙsCİy
, 
”rÜ
);

497 
£ndE¼Ü
(
w©ch”sCİy
, 
”rÜ
);

499 ià(!
hasLi¡’”s
())

500 
¡İUpd©šg
();

503 
	gGeŞoÿtiÚ
::
»que¡P”missiÚ
()

505 ià(
m_®lowGeŞoÿtiÚ
 > 
Unknown
)

508 ià(!
	gm_äame
)

511 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

512 ià(!
	g·ge
)

515 
	gm_®lowGeŞoÿtiÚ
 = 
InProg»ss
;

518 
	g·ge
->
chrome
()->
»que¡GeŞoÿtiÚP”missiÚFÜF¿me
(
m_äame
, 
this
);

521 
	gGeŞoÿtiÚ
::
pos™iÚChªged
(
PassRefPŒ
<
Geİos™iÚ
> 
ÃwPos™iÚ
)

523 
m_pos™iÚCache
->
£tCachedPos™iÚ
(
ÃwPos™iÚ
.
g‘
());

526 
¡İTim”s
();

528 ià(!
isAÎowed
()) {

533 
»que¡P”missiÚ
();

537 
makeSucûssC®lbacks
();

540 
	gGeŞoÿtiÚ
::
makeSucûssC®lbacks
()

542 
ASSERT
(
Ï¡Pos™iÚ
());

543 
ASSERT
(
isAÎowed
());

545 
	gVeùÜ
<
	gRefPŒ
<
	gGeoNÙif›r
> > 
	gÚeShÙsCİy
;

546 
cİyToVeùÜ
(
m_ÚeShÙs
, 
ÚeShÙsCİy
);

548 
	gVeùÜ
<
	gRefPŒ
<
	gGeoNÙif›r
> > 
	gw©ch”sCİy
;

549 
	gm_w©ch”s
.
g‘NÙif›rsVeùÜ
(
w©ch”sCİy
);

554 
	gm_ÚeShÙs
.
ş—r
();

556 
£ndPos™iÚ
(
ÚeShÙsCİy
, 
Ï¡Pos™iÚ
());

557 
£ndPos™iÚ
(
w©ch”sCİy
, 
Ï¡Pos™iÚ
());

559 ià(!
hasLi¡’”s
())

560 
¡İUpd©šg
();

563 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

565 
	gGeŞoÿtiÚ
::
£tPos™iÚ
(
GeŞoÿtiÚPos™iÚ
* 
pos™iÚ
)

567 
pos™iÚChªged
(
ü—‹Geİos™iÚ
(
pos™iÚ
));

570 
	gGeŞoÿtiÚ
::
£tE¼Ü
(
GeŞoÿtiÚE¼Ü
* 
”rÜ
)

572 
RefPŒ
<
Pos™iÚE¼Ü
> 
pos™iÚE¼Ü
 = 
ü—‹Pos™iÚE¼Ü
(
”rÜ
);

573 
hªdËE¼Ü
(
pos™iÚE¼Ü
.
g‘
());

578 
	gGeŞoÿtiÚ
::
geŞoÿtiÚS”viûPos™iÚChªged
(
GeŞoÿtiÚS”viû
* 
£rviû
)

580 
ASSERT_UNUSED
(
£rviû
, s”viû =ğ
m_£rviû
);

581 
ASSERT
(
m_£rviû
->
Ï¡Pos™iÚ
());

583 
pos™iÚChªged
(
m_£rviû
->
Ï¡Pos™iÚ
());

586 
	gGeŞoÿtiÚ
::
geŞoÿtiÚS”viûE¼ÜOccu¼ed
(
GeŞoÿtiÚS”viû
* 
£rviû
)

588 
ASSERT
(
£rviû
->
Ï¡E¼Ü
());

593 
hªdËE¼Ü
(
£rviû
->
Ï¡E¼Ü
());

598 
boŞ
 
	gGeŞoÿtiÚ
::
¡¬tUpd©šg
(
GeoNÙif›r
* 
nÙif›r
)

600 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

603 ià(!
isAÎowed
()) {

604 
m_¡¬tReque¡P”missiÚNÙif›r
 = 
nÙif›r
;

605 
»que¡P”missiÚ
();

606  
	gŒue
;

609 ià(!
	gm_äame
)

610  
	gçl£
;

612 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

613 ià(!
	g·ge
)

614  
	gçl£
;

616 
	g·ge
->
geŞoÿtiÚCÚŒŞËr
()->
addOb£rv”
(
this
);

617  
	gŒue
;

619  
	gm_£rviû
->
¡¬tUpd©šg
(
nÙif›r
->
m_İtiÚs
.
g‘
());

623 
	gGeŞoÿtiÚ
::
¡İUpd©šg
()

625 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

626 ià(!
m_äame
)

629 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

630 ià(!
	g·ge
)

633 
	g·ge
->
geŞoÿtiÚCÚŒŞËr
()->
»moveOb£rv”
(
this
);

635 
	gm_£rviû
->
¡İUpd©šg
();

644 
Çme¥aû
 
	gWebCÜe
 {

646 
	gGeŞoÿtiÚ
::
discÚÃùF¿me
() {}

648 
GeŞoÿtiÚ
::GeŞoÿtiÚ(
F¿me
*) {}

650 
GeŞoÿtiÚ
::~Geolocation() {}

652 
GeŞoÿtiÚ
::
£tIsAÎowed
(
boŞ
) {}

	@Geolocation.h

27 #iâdeà
GeŞoÿtiÚ_h


28 
	#GeŞoÿtiÚ_h


	)

30 
	~"GeŞoÿtiÚPos™iÚCache.h
"

31 
	~"GeŞoÿtiÚS”viû.h
"

32 
	~"Geİos™iÚ.h
"

33 
	~"Pos™iÚC®lback.h
"

34 
	~"Pos™iÚE¼Ü.h
"

35 
	~"Pos™iÚE¼ÜC®lback.h
"

36 
	~"Pos™iÚO±iÚs.h
"

37 
	~"Tim”.h
"

39 
Çme¥aû
 
	gWebCÜe
 {

41 
şass
 
	gF¿me
;

43 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

44 
şass
 
	gGeŞoÿtiÚPos™iÚ
;

45 
şass
 
	gGeŞoÿtiÚE¼Ü
;

48 
şass
 
	gGeŞoÿtiÚ
 : 
public
 
RefCouÁed
<
GeŞoÿtiÚ
>

49 #ià!
ENABLE
(
CLIENT_BASED_GEOLOCATION
è&& ENABLE(
GEOLOCATION
)

50 , 
public
 
	gGeŞoÿtiÚS”viûCl›Á


53 
	gpublic
:

54 
PassRefPŒ
<
GeŞoÿtiÚ
> 
ü—‹
(
F¿me
* 
äame
è{  
adİtRef
(
Ãw
 Geolocation(frame)); }

56 ~
GeŞoÿtiÚ
();

58 
discÚÃùF¿me
();

60 
g‘Cu¼’tPos™iÚ
(
PassRefPŒ
<
Pos™iÚC®lback
>, PassRefPŒ<
Pos™iÚE¼ÜC®lback
>, PassRefPŒ<
Pos™iÚO±iÚs
>);

61 
w©chPos™iÚ
(
PassRefPŒ
<
Pos™iÚC®lback
>, PassRefPŒ<
Pos™iÚE¼ÜC®lback
>, PassRefPŒ<
Pos™iÚO±iÚs
>);

62 
ş—rW©ch
(
w©chId
);

64 
£tIsAÎowed
(
boŞ
);

65 
F¿me
* 
äame
(ècÚ¡ {  
	gm_äame
; }

67 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

68 
£tPos™iÚ
(
GeŞoÿtiÚPos™iÚ
*);

69 
£tE¼Ü
(
GeŞoÿtiÚE¼Ü
*);

71 
GeŞoÿtiÚS”viû
* 
g‘GeŞoÿtiÚS”viû
(ècÚ¡ {  
	gm_£rviû
.
g‘
(); }

74 
	g´iv©e
:

75 
Geİos™iÚ
* 
Ï¡Pos™iÚ
();

77 
boŞ
 
isAÎowed
(ècÚ¡ {  
	gm_®lowGeŞoÿtiÚ
 =ğ
Yes
; }

78 
boŞ
 
isD’›d
(ècÚ¡ {  
	gm_®lowGeŞoÿtiÚ
 =ğ
No
; }

80 
GeŞoÿtiÚ
(
F¿me
*);

82 
şass
 
	gGeoNÙif›r
 : 
public
 
RefCouÁed
<
GeoNÙif›r
> {

83 
public
:

84 
PassRefPŒ
<
GeoNÙif›r
> 
ü—‹
(
GeŞoÿtiÚ
* 
geŞoÿtiÚ
, PassRefPŒ<
Pos™iÚC®lback
> 
pos™iÚC®lback
, PassRefPŒ<
Pos™iÚE¼ÜC®lback
> 
pos™iÚE¼ÜC®lback
, PassRefPŒ<
Pos™iÚO±iÚs
> 
İtiÚs
è{  
adİtRef
(
Ãw
 GeoNotifier(geolocation,…ositionCallback,…ositionErrorCallback, options)); }

86 
£tF©®E¼Ü
(
PassRefPŒ
<
Pos™iÚE¼Ü
>);

87 
boŞ
 
hasZ”oTimeout
() const;

88 
£tU£CachedPos™iÚ
();

89 
runSucûssC®lback
(
Geİos™iÚ
*);

90 
¡¬tTim”IfN“ded
();

91 
tim”Fœed
(
Tim”
<
GeoNÙif›r
>*);

93 
GeŞoÿtiÚ
* 
	gm_geŞoÿtiÚ
;

94 
	gRefPŒ
<
	gPos™iÚC®lback
> 
	gm_sucûssC®lback
;

95 
	gRefPŒ
<
	gPos™iÚE¼ÜC®lback
> 
	gm_”rÜC®lback
;

96 
	gRefPŒ
<
	gPos™iÚO±iÚs
> 
	gm_İtiÚs
;

97 
	gTim”
<
	gGeoNÙif›r
> 
	gm_tim”
;

98 
	gRefPŒ
<
	gPos™iÚE¼Ü
> 
	gm_çlE¼Ü
;

99 
boŞ
 
	gm_u£CachedPos™iÚ
;

101 
	g´iv©e
:

102 
GeoNÙif›r
(
GeŞoÿtiÚ
*, 
PassRefPŒ
<
Pos™iÚC®lback
>, PassRefPŒ<
Pos™iÚE¼ÜC®lback
>, PassRefPŒ<
Pos™iÚO±iÚs
>);

105 şas 
	cW©ch”s
 {

106 
	gpublic
:

107 
£t
(
id
, 
PassRefPŒ
<
GeoNÙif›r
>);

108 
»move
(
id
);

109 
»move
(
GeoNÙif›r
*);

110 
boŞ
 
cÚšs
(
GeoNÙif›r
*) const;

111 
ş—r
();

112 
boŞ
 
isEm±y
() const;

113 
g‘NÙif›rsVeùÜ
(
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> >&) const;

114 
	g´iv©e
:

115 
HashM­
<, 
	tRefPŒ
<
	tGeoNÙif›r
> > 
	tIdToNÙif›rM­
;

116 
	gHashM­
<
	tRefPŒ
<
	tGeoNÙif›r
>, > 
	tNÙif›rToIdM­
;

117 
IdToNÙif›rM­
 
	gm_idToNÙif›rM­
;

118 
NÙif›rToIdM­
 
	gm_nÙif›rToIdM­
;

121 
boŞ
 
hasLi¡’”s
(ècÚ¡ {  !
	gm_ÚeShÙs
.
isEm±y
(è|| !
	gm_w©ch”s
.isEmpty(); }

123 
£ndE¼Ü
(
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> >&, 
Pos™iÚE¼Ü
*);

124 
£ndPos™iÚ
(
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> >&, 
Geİos™iÚ
*);

126 
¡İTim”
(
VeùÜ
<
RefPŒ
<
GeoNÙif›r
> >&);

127 
¡İTim”sFÜOÃShÙs
();

128 
¡İTim”sFÜW©ch”s
();

129 
¡İTim”s
();

131 
pos™iÚChªged
(
PassRefPŒ
<
Geİos™iÚ
>);

132 
makeSucûssC®lbacks
();

133 
hªdËE¼Ü
(
Pos™iÚE¼Ü
*);

135 
»que¡P”missiÚ
();

137 
boŞ
 
¡¬tUpd©šg
(
GeoNÙif›r
*);

138 
¡İUpd©šg
();

140 #ià!
ENABLE
(
CLIENT_BASED_GEOLOCATION
è&& ENABLE(
GEOLOCATION
)

142 
vœtu®
 
geŞoÿtiÚS”viûPos™iÚChªged
(
GeŞoÿtiÚS”viû
*);

143 
vœtu®
 
geŞoÿtiÚS”viûE¼ÜOccu¼ed
(
GeŞoÿtiÚS”viû
*);

146 
	gPassRefPŒ
<
	gGeoNÙif›r
> 
¡¬tReque¡
(
PassRefPŒ
<
Pos™iÚC®lback
>, PassRefPŒ<
Pos™iÚE¼ÜC®lback
>, PassRefPŒ<
Pos™iÚO±iÚs
>);

148 
çlE¼ÜOccu¼ed
(
GeoNÙif›r
*);

149 
»que¡TimedOut
(
GeoNÙif›r
*);

150 
»que¡U£sCachedPos™iÚ
(
GeoNÙif›r
*);

151 
boŞ
 
haveSu™abËCachedPos™iÚ
(
Pos™iÚO±iÚs
*);

152 
makeCachedPos™iÚC®lbacks
();

154 
	gHashS‘
<
	tRefPŒ
<
	tGeoNÙif›r
> > 
	tGeoNÙif›rS‘
;

156 
GeoNÙif›rS‘
 
	gm_ÚeShÙs
;

157 
W©ch”s
 
	gm_w©ch”s
;

158 
F¿me
* 
	gm_äame
;

159 #ià!
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

160 
	gOwnPŒ
<
	gGeŞoÿtiÚS”viû
> 
	gm_£rviû
;

162 
	gRefPŒ
<
	gGeoNÙif›r
> 
	gm_¡¬tReque¡P”missiÚNÙif›r
;

164 
	gRefPŒ
<
	gGeİos™iÚ
> 
	gm_Ï¡Pos™iÚ
;

167 
	gUnknown
,

168 
	gInProg»ss
,

169 
	gYes
,

170 
	gNo


171 } 
	gm_®lowGeŞoÿtiÚ
;

173 #ià
ENABLE
(
GEOLOCATION
)

174 
	gOwnPŒ
<
	gGeŞoÿtiÚPos™iÚCache
> 
	gm_pos™iÚCache
;

176 
GeoNÙif›rS‘
 
	gm_»que¡sAwa™šgCachedPos™iÚ
;

	@GeolocationController.cpp

26 
	~"cÚfig.h
"

27 
	~"GeŞoÿtiÚCÚŒŞËr.h
"

29 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

31 
	~"GeŞoÿtiÚCÚŒŞËrCl›Á.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	gGeŞoÿtiÚCÚŒŞËr
::
GeŞoÿtiÚCÚŒŞËr
(
Page
* 
·ge
, 
GeŞoÿtiÚCÚŒŞËrCl›Á
* 
ş›Á
)

36 : 
m_·ge
(
·ge
)

37 , 
m_ş›Á
(
ş›Á
)

41 
	gGeŞoÿtiÚCÚŒŞËr
::~
GeŞoÿtiÚCÚŒŞËr
()

43 ià(
m_ş›Á
)

44 
m_ş›Á
->
geŞoÿtiÚDe¡royed
();

47 
	gGeŞoÿtiÚCÚŒŞËr
::
addOb£rv”
(
GeŞoÿtiÚ
* 
ob£rv”
)

49 
ASSERT
(!
m_ob£rv”s
.
cÚšs
(
ob£rv”
));

51 
boŞ
 
	gwasEm±y
 = 
m_ob£rv”s
.
isEm±y
();

52 
	gm_ob£rv”s
.
add
(
ob£rv”
);

53 ià(
	gwasEm±y
 && 
	gm_ş›Á
)

54 
	gm_ş›Á
->
¡¬tUpd©šg
();

57 
	gGeŞoÿtiÚCÚŒŞËr
::
»moveOb£rv”
(
GeŞoÿtiÚ
* 
ob£rv”
)

59 ià(!
m_ob£rv”s
.
cÚšs
(
ob£rv”
))

62 
	gm_ob£rv”s
.
»move
(
ob£rv”
);

63 ià(
	gm_ob£rv”s
.
isEm±y
(è&& 
	gm_ş›Á
)

64 
	gm_ş›Á
->
¡İUpd©šg
();

67 
	gGeŞoÿtiÚCÚŒŞËr
::
pos™iÚChªged
(
GeŞoÿtiÚPos™iÚ
* 
pos™iÚ
)

69 
VeùÜ
<
RefPŒ
<
GeŞoÿtiÚ
> > 
ob£rv”sVeùÜ
;

70 
cİyToVeùÜ
(
m_ob£rv”s
, 
ob£rv”sVeùÜ
);

71 
size_t
 
	gi
 = 0; i < 
	gob£rv”sVeùÜ
.
size
(); ++i)

72 
	gob£rv”sVeùÜ
[
i
]->
£tPos™iÚ
(
pos™iÚ
);

75 
	gGeŞoÿtiÚCÚŒŞËr
::
”rÜOccu¼ed
(
GeŞoÿtiÚE¼Ü
* 
”rÜ
)

77 
VeùÜ
<
RefPŒ
<
GeŞoÿtiÚ
> > 
ob£rv”sVeùÜ
;

78 
cİyToVeùÜ
(
m_ob£rv”s
, 
ob£rv”sVeùÜ
);

79 
size_t
 
	gi
 = 0; i < 
	gob£rv”sVeùÜ
.
size
(); ++i)

80 
	gob£rv”sVeùÜ
[
i
]->
£tE¼Ü
(
”rÜ
);

83 
GeŞoÿtiÚPos™iÚ
* 
	gGeŞoÿtiÚCÚŒŞËr
::
Ï¡Pos™iÚ
()

85 ià(!
m_ş›Á
)

88  
	gm_ş›Á
->
Ï¡Pos™iÚ
();

	@GeolocationController.h

26 #iâdeà
GeŞoÿtiÚCÚŒŞËr_h


27 
	#GeŞoÿtiÚCÚŒŞËr_h


	)

29 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

31 
	~"GeŞoÿtiÚ.h
"

32 
	~<wtf/HashS‘.h
>

33 
	~<wtf/NÚcİyabË.h
>

34 
	~<wtf/RefPŒ.h
>

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gGeŞoÿtiÚCÚŒŞËrCl›Á
;

39 
şass
 
	gGeŞoÿtiÚE¼Ü
;

40 
şass
 
	gGeŞoÿtiÚPos™iÚ
;

41 
şass
 
	gPage
;

43 şas 
	cGeŞoÿtiÚCÚŒŞËr
 : 
public
 
NÚcİyabË
 {

44 
public
:

45 
GeŞoÿtiÚCÚŒŞËr
(
Page
*, 
GeŞoÿtiÚCÚŒŞËrCl›Á
*);

46 ~
GeŞoÿtiÚCÚŒŞËr
();

48 
addOb£rv”
(
GeŞoÿtiÚ
*);

49 
»moveOb£rv”
(
GeŞoÿtiÚ
*);

51 
pos™iÚChªged
(
GeŞoÿtiÚPos™iÚ
*);

52 
”rÜOccu¼ed
(
GeŞoÿtiÚE¼Ü
*);

54 
GeŞoÿtiÚPos™iÚ
* 
Ï¡Pos™iÚ
();

56 
	g´iv©e
:

57 
Page
* 
m_·ge
;

58 
GeŞoÿtiÚCÚŒŞËrCl›Á
* 
	gm_ş›Á
;

60 
	gHashS‘
<
	gRefPŒ
<
	gGeŞoÿtiÚ
> > 
	gm_ob£rv”s
;

	@GeolocationControllerClient.h

26 #iâdeà
GeŞoÿtiÚCÚŒŞËrCl›Á_h


27 
	#GeŞoÿtiÚCÚŒŞËrCl›Á_h


	)

29 
Çme¥aû
 
	gWebCÜe
 {

31 
şass
 
	gGeŞoÿtiÚPos™iÚ
;

33 şas 
	cGeŞoÿtiÚCÚŒŞËrCl›Á
 {

34 
	gpublic
:

35 
vœtu®
 
geŞoÿtiÚDe¡royed
() = 0;

37 
vœtu®
 
¡¬tUpd©šg
() = 0;

38 
vœtu®
 
¡İUpd©šg
() = 0;

39 
vœtu®
 
GeŞoÿtiÚPos™iÚ
* 
Ï¡Pos™iÚ
() = 0;

41 
	g´Ùeùed
:

42 
vœtu®
 ~
GeŞoÿtiÚCÚŒŞËrCl›Á
() { }

	@GeolocationError.h

26 #iâdeà
GeŞoÿtiÚE¼Ü_h


27 
	#GeŞoÿtiÚE¼Ü_h


	)

29 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

31 
	~"PÏtfÜmSŒšg.h
"

32 
	~<wtf/PassRefPŒ.h
>

33 
	~<wtf/RefCouÁed.h
>

34 
	~<wtf/RefPŒ.h
>

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gGeŞoÿtiÚE¼Ü
 : 
public
 
RefCouÁed
<
GeŞoÿtiÚE¼Ü
> {

39 
public
:

40 
	eE¼ÜCode
 {

41 
P”missiÚD’›d
,

42 
	gPos™iÚUÇvaabË


45 
	gPassRefPŒ
<
	gGeŞoÿtiÚE¼Ü
> 
ü—‹
(
E¼ÜCode
 
code
, cÚ¡ 
SŒšg
& 
mes§ge
è{  
adİtRef
(
Ãw
 
GeŞoÿtiÚE¼Ü
(code, message)); }

47 
E¼ÜCode
 
code
(ècÚ¡ {  
	gm_code
; }

48 cÚ¡ 
	gSŒšg
& 
mes§ge
(ècÚ¡ {  
	gm_mes§ge
; }

50 
	g´iv©e
:

51 
GeŞoÿtiÚE¼Ü
(
E¼ÜCode
 
code
, cÚ¡ 
SŒšg
& 
mes§ge
)

52 : 
m_code
(
code
)

53 , 
m_mes§ge
(
mes§ge
)

57 
E¼ÜCode
 
	gm_code
;

58 
SŒšg
 
	gm_mes§ge
;

	@GeolocationPosition.h

26 #iâdeà
GeŞoÿtiÚPos™iÚ_h


27 
	#GeŞoÿtiÚPos™iÚ_h


	)

29 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

31 
	~<wtf/PassRefPŒ.h
>

32 
	~<wtf/RefCouÁed.h
>

33 
	~<wtf/RefPŒ.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gGeŞoÿtiÚPos™iÚ
 : 
public
 
RefCouÁed
<
GeŞoÿtiÚPos™iÚ
> {

38 
public
:

39 
PassRefPŒ
<
GeŞoÿtiÚPos™iÚ
> 
ü—‹
(
time¡amp
, 
Ït™ude
, 
lÚg™ude
, 
accu¿cy
è{  
adİtRef
(
Ãw
 GeolocationPosition(timestamp,†atitude,†ongitude,‡ccuracy)); }

41 
	gPassRefPŒ
<
	gGeŞoÿtiÚPos™iÚ
> 
ü—‹
(
time¡amp
, 
Ït™ude
, 
lÚg™ude
, 
accu¿cy
, 
boŞ
 
´ovidesAÉ™ude
, 
®t™ude
, boŞ 
´ovidesAÉ™udeAccu¿cy
, 
®t™udeAccu¿cy
, boŞ 
´ovidesH—dšg
, 
h—dšg
, boŞ 
´ovidesS³ed
, 
¥“d
è{  
adİtRef
(
Ãw
 
GeŞoÿtiÚPos™iÚ
(timestamp,†atitude,†ongitude,‡ccuracy,…rovidesAltitude,‡ltitude,…rovidesAltitudeAccuracy,‡ltitudeAccuracy,…rovidesHeading, heading,…rovidesSpeed, speed)); }

43 
time¡amp
(ècÚ¡ {  
	gm_time¡amp
; }

45 
Ït™ude
(ècÚ¡ {  
	gm_Ït™ude
; }

46 
lÚg™ude
(ècÚ¡ {  
	gm_lÚg™ude
; }

47 
accu¿cy
(ècÚ¡ {  
	gm_accu¿cy
; }

48 
®t™ude
(ècÚ¡ {  
	gm_®t™ude
; }

49 
®t™udeAccu¿cy
(ècÚ¡ {  
	gm_®t™udeAccu¿cy
; }

50 
h—dšg
(ècÚ¡ {  
	gm_h—dšg
; }

51 
¥“d
(ècÚ¡ {  
	gm_¥“d
; }

53 
boŞ
 
ÿnProvideAÉ™ude
(ècÚ¡ {  
	gm_ÿnProvideAÉ™ude
; }

54 
boŞ
 
ÿnProvideAÉ™udeAccu¿cy
(ècÚ¡ {  
	gm_ÿnProvideAÉ™udeAccu¿cy
; }

55 
boŞ
 
ÿnProvideH—dšg
(ècÚ¡ {  
	gm_ÿnProvideH—dšg
; }

56 
boŞ
 
ÿnProvideS³ed
(ècÚ¡ {  
	gm_ÿnProvideS³ed
; }

58 
	g´iv©e
:

59 
GeŞoÿtiÚPos™iÚ
(
time¡amp
, 
Ït™ude
, 
lÚg™ude
, 
accu¿cy
)

60 : 
m_time¡amp
(
time¡amp
)

61 , 
m_Ït™ude
(
Ït™ude
)

62 , 
m_lÚg™ude
(
lÚg™ude
)

63 , 
m_accu¿cy
(
accu¿cy
)

64 , 
m_®t™ude
(0)

65 , 
m_®t™udeAccu¿cy
(0)

66 , 
m_h—dšg
(0)

67 , 
m_¥“d
(0)

68 , 
m_ÿnProvideAÉ™ude
(
çl£
)

69 , 
m_ÿnProvideAÉ™udeAccu¿cy
(
çl£
)

70 , 
m_ÿnProvideH—dšg
(
çl£
)

71 , 
m_ÿnProvideS³ed
(
çl£
)

75 
GeŞoÿtiÚPos™iÚ
(
time¡amp
, 
Ït™ude
, 
lÚg™ude
, 
accu¿cy
, 
boŞ
 
´ovidesAÉ™ude
, 
®t™ude
, boŞ 
´ovidesAÉ™udeAccu¿cy
, 
®t™udeAccu¿cy
, boŞ 
´ovidesH—dšg
, 
h—dšg
, boŞ 
´ovidesS³ed
, 
¥“d
)

76 : 
m_time¡amp
(
time¡amp
)

77 , 
m_Ït™ude
(
Ït™ude
)

78 , 
m_lÚg™ude
(
lÚg™ude
)

79 , 
m_accu¿cy
(
accu¿cy
)

80 , 
m_®t™ude
(
®t™ude
)

81 , 
m_®t™udeAccu¿cy
(
®t™udeAccu¿cy
)

82 , 
m_h—dšg
(
h—dšg
)

83 , 
m_¥“d
(
¥“d
)

84 , 
m_ÿnProvideAÉ™ude
(
´ovidesAÉ™ude
)

85 , 
m_ÿnProvideAÉ™udeAccu¿cy
(
´ovidesAÉ™udeAccu¿cy
)

86 , 
m_ÿnProvideH—dšg
(
´ovidesH—dšg
)

87 , 
m_ÿnProvideS³ed
(
´ovidesS³ed
)

91 
	gm_time¡amp
;

93 
	gm_Ït™ude
;

94 
	gm_lÚg™ude
;

95 
	gm_accu¿cy
;

96 
	gm_®t™ude
;

97 
	gm_®t™udeAccu¿cy
;

98 
	gm_h—dšg
;

99 
	gm_¥“d
;

101 
boŞ
 
	gm_ÿnProvideAÉ™ude
;

102 
boŞ
 
	gm_ÿnProvideAÉ™udeAccu¿cy
;

103 
boŞ
 
	gm_ÿnProvideH—dšg
;

104 
boŞ
 
	gm_ÿnProvideS³ed
;

	@GeolocationPositionCache.cpp

26 
	~"cÚfig.h
"

27 
	~"GeŞoÿtiÚPos™iÚCache.h
"

29 #ià
ENABLE
(
GEOLOCATION
)

31 
	~"Geİos™iÚ.h
"

32 
	~"SQLV®ue.h
"

33 
	~"SQL™eD©aba£.h
"

34 
	~"SQL™eFeSy¡em.h
"

35 
	~"SQL™eS‹m’t.h
"

36 
	~"SQL™eT¿n§ùiÚ.h
"

38 
Çme¥aû
 
	gWebCÜe
 {

40 cÚ¡ * 
	gd©aba£Name
 = "CachedGeoposition.db";

42 
	gGeŞoÿtiÚPos™iÚCache
::
s_š¡ªûs
 = 0;

43 
	gRefPŒ
<
	gGeİos™iÚ
>* 
	gGeŞoÿtiÚPos™iÚCache
::
s_ÿchedPos™iÚ
;

44 
SŒšg
* 
	gGeŞoÿtiÚPos™iÚCache
::
s_d©aba£Fe
 = 0;

46 
	gGeŞoÿtiÚPos™iÚCache
::
GeŞoÿtiÚPos™iÚCache
()

48 ià(!(
s_š¡ªûs
++)) {

49 
s_ÿchedPos™iÚ
 = 
Ãw
 
RefPŒ
<
Geİos™iÚ
>;

50 *
	gs_ÿchedPos™iÚ
 = 
»adFromDB
();

54 
	gGeŞoÿtiÚPos™iÚCache
::~
GeŞoÿtiÚPos™iÚCache
()

56 ià(!(--
s_š¡ªûs
)) {

57 ià(*
s_ÿchedPos™iÚ
)

58 
wr™eToDB
(
s_ÿchedPos™iÚ
->
g‘
());

59 
d–‘e
 
	gs_ÿchedPos™iÚ
;

63 
	gGeŞoÿtiÚPos™iÚCache
::
£tCachedPos™iÚ
(
Geİos™iÚ
* 
ÿchedPos™iÚ
)

65 *
s_ÿchedPos™iÚ
 = 
ÿchedPos™iÚ
;

68 
Geİos™iÚ
* 
	gGeŞoÿtiÚPos™iÚCache
::
ÿchedPos™iÚ
()

70  
s_ÿchedPos™iÚ
->
g‘
();

73 
	gGeŞoÿtiÚPos™iÚCache
::
£tD©aba£P©h
(cÚ¡ 
SŒšg
& 
d©aba£P©h
)

75 ià(!
s_d©aba£Fe
)

76 
s_d©aba£Fe
 = 
Ãw
 
SŒšg
;

77 *
	gs_d©aba£Fe
 = 
SQL™eFeSy¡em
::
­³ndD©aba£FeNameToP©h
(
d©aba£P©h
, 
d©aba£Name
);

80 ià(
	gs_š¡ªûs
 && !(*
	gs_ÿchedPos™iÚ
))

81 *
	gs_ÿchedPos™iÚ
 = 
»adFromDB
();

84 
	gPassRefPŒ
<
	gGeİos™iÚ
> 
	gGeŞoÿtiÚPos™iÚCache
::
»adFromDB
()

86 
SQL™eD©aba£
 
d©aba£
;

87 ià(!
	gs_d©aba£Fe
 || !
	gd©aba£
.
İ’
(*
s_d©aba£Fe
))

92 ià(!
	gd©aba£
.
execu‹Commªd
("CREATE TABLE IF NOT EXISTS CachedPosition ("

103 
SQL™eS‹m’t
 
¡©em’t
(
d©aba£
, "SELECT * FROM CachedPosition");

104 ià(
	g¡©em’t
.
´•¬e
(è!ğ
SQLResuÉOk
)

107 ià(
	g¡©em’t
.
¡•
(è!ğ
SQLResuÉRow
)

110 
boŞ
 
	g´ovidesAÉ™ude
 = 
¡©em’t
.
g‘CŞumnV®ue
(2).
ty³
(è!ğ
SQLV®ue
::
NuÎV®ue
;

111 
boŞ
 
	g´ovidesAÉ™udeAccu¿cy
 = 
¡©em’t
.
g‘CŞumnV®ue
(4).
ty³
(è!ğ
SQLV®ue
::
NuÎV®ue
;

112 
boŞ
 
	g´ovidesH—dšg
 = 
¡©em’t
.
g‘CŞumnV®ue
(5).
ty³
(è!ğ
SQLV®ue
::
NuÎV®ue
;

113 
boŞ
 
	g´ovidesS³ed
 = 
¡©em’t
.
g‘CŞumnV®ue
(6).
ty³
(è!ğ
SQLV®ue
::
NuÎV®ue
;

114 
	gRefPŒ
<
	gCoÜdš©es
> 
	gcoÜdš©es
 = 
CoÜdš©es
::
ü—‹
(
¡©em’t
.
g‘CŞumnDoubË
(0),

115 
¡©em’t
.
g‘CŞumnDoubË
(1),

116 
´ovidesAÉ™ude
, 
¡©em’t
.
g‘CŞumnDoubË
(2),

117 
¡©em’t
.
g‘CŞumnDoubË
(3),

118 
´ovidesAÉ™udeAccu¿cy
, 
¡©em’t
.
g‘CŞumnDoubË
(4),

119 
´ovidesH—dšg
, 
¡©em’t
.
g‘CŞumnDoubË
(5),

120 
´ovidesS³ed
, 
¡©em’t
.
g‘CŞumnDoubË
(6));

121  
	gGeİos™iÚ
::
ü—‹
(
coÜdš©es
.
»Ëa£
(), 
¡©em’t
.
g‘CŞumnIÁ64
(7));

124 
	gGeŞoÿtiÚPos™iÚCache
::
wr™eToDB
(cÚ¡ 
Geİos™iÚ
* 
pos™iÚ
)

126 
ASSERT
(
pos™iÚ
);

128 
SQL™eD©aba£
 
	gd©aba£
;

129 ià(!
	gs_d©aba£Fe
 || !
	gd©aba£
.
İ’
(*
s_d©aba£Fe
))

132 
SQL™eT¿n§ùiÚ
 
Œª§ùiÚ
(
d©aba£
);

134 ià(!
	gd©aba£
.
execu‹Commªd
("DELETE FROM CachedPosition"))

137 
SQL™eS‹m’t
 
¡©em’t
(
d©aba£
, "INSERT INTO CachedPosition ("

147 ià(
	g¡©em’t
.
´•¬e
(è!ğ
SQLResuÉOk
)

150 
	g¡©em’t
.
bšdDoubË
(1, 
pos™iÚ
->
coÜds
()->
Ït™ude
());

151 
	g¡©em’t
.
bšdDoubË
(2, 
pos™iÚ
->
coÜds
()->
lÚg™ude
());

152 ià(
	gpos™iÚ
->
coÜds
()->
ÿnProvideAÉ™ude
())

153 
	g¡©em’t
.
bšdDoubË
(3, 
pos™iÚ
->
coÜds
()->
®t™ude
());

155 
	g¡©em’t
.
bšdNuÎ
(3);

156 
	g¡©em’t
.
bšdDoubË
(4, 
pos™iÚ
->
coÜds
()->
accu¿cy
());

157 ià(
	gpos™iÚ
->
coÜds
()->
ÿnProvideAÉ™udeAccu¿cy
())

158 
	g¡©em’t
.
bšdDoubË
(5, 
pos™iÚ
->
coÜds
()->
®t™udeAccu¿cy
());

160 
	g¡©em’t
.
bšdNuÎ
(5);

161 ià(
	gpos™iÚ
->
coÜds
()->
ÿnProvideH—dšg
())

162 
	g¡©em’t
.
bšdDoubË
(6, 
pos™iÚ
->
coÜds
()->
h—dšg
());

164 
	g¡©em’t
.
bšdNuÎ
(6);

165 ià(
	gpos™iÚ
->
coÜds
()->
ÿnProvideS³ed
())

166 
	g¡©em’t
.
bšdDoubË
(7, 
pos™iÚ
->
coÜds
()->
¥“d
());

168 
	g¡©em’t
.
bšdNuÎ
(7);

169 
	g¡©em’t
.
bšdIÁ64
(8, 
pos™iÚ
->
time¡amp
());

170 ià(!
	g¡©em’t
.
execu‹Commªd
())

173 
	gŒª§ùiÚ
.
comm™
();

	@GeolocationPositionCache.h

26 #iâdeà
GeŞoÿtiÚPos™iÚCache_h


27 
	#GeŞoÿtiÚPos™iÚCache_h


	)

29 
	~<wtf/PassRefPŒ.h
>

30 
	~<wtf/RefPŒ.h
>

33 
Çme¥aû
 
	gWebCÜe
 {

35 
şass
 
	gGeİos™iÚ
;

36 
şass
 
	gSŒšg
;

38 şas 
	cGeŞoÿtiÚPos™iÚCache
 {

39 
	gpublic
:

40 
GeŞoÿtiÚPos™iÚCache
();

41 ~
GeŞoÿtiÚPos™iÚCache
();

43 
£tCachedPos™iÚ
(
Geİos™iÚ
*);

44 
Geİos™iÚ
* 
ÿchedPos™iÚ
();

45 
£tD©aba£P©h
(cÚ¡ 
SŒšg
&);

47 
	g´iv©e
:

48 
PassRefPŒ
<
Geİos™iÚ
> 
»adFromDB
();

49 
wr™eToDB
(cÚ¡ 
Geİos™iÚ
*);

51 
	gs_š¡ªûs
;

52 
	gRefPŒ
<
	gGeİos™iÚ
>* 
	gs_ÿchedPos™iÚ
;

53 
SŒšg
* 
	gs_d©aba£Fe
;

	@Geoposition.h

26 #iâdeà
Geİos™iÚ_h


27 
	#Geİos™iÚ_h


	)

29 
	~"CoÜdš©es.h
"

30 
	~"Ev’t.h
"

31 
	~"PÏtfÜmSŒšg.h
"

32 
	~<wtf/RefCouÁed.h
>

34 
Çme¥aû
 
	gWebCÜe
 {

36 
	tExû±iÚCode
;

38 
şass
 
	gGeİos™iÚ
 : 
public
 
RefCouÁed
<
Geİos™iÚ
> {

39 
public
:

40 
PassRefPŒ
<
Geİos™iÚ
> 
ü—‹
(PassRefPŒ<
CoÜdš©es
> 
coÜdš©es
, 
DOMTimeSmp
 
time¡amp
)

42  
adİtRef
(
Ãw
 
Geİos™iÚ
(
coÜdš©es
, 
time¡amp
));

45 
DOMTimeSmp
 
time¡amp
(ècÚ¡ {  
	gm_time¡amp
; }

46 
CoÜdš©es
* 
coÜds
(ècÚ¡ {  
	gm_coÜdš©es
.
g‘
(); }

48 
	g´iv©e
:

49 
Geİos™iÚ
(
PassRefPŒ
<
CoÜdš©es
> 
coÜdš©es
, 
DOMTimeSmp
 
time¡amp
)

50 : 
m_coÜdš©es
(
coÜdš©es
)

51 , 
m_time¡amp
(
time¡amp
)

55 
	gRefPŒ
<
	gCoÜdš©es
> 
	gm_coÜdš©es
;

56 
DOMTimeSmp
 
	gm_time¡amp
;

	@HaltablePlugin.h

26 #iâdeà
H®bËPlugš_h


27 
	#H®bËPlugš_h


	)

29 
Çme¥aû
 
	gWebCÜe
 {

31 
şass
 
	gNode
;

33 şas 
	cH®bËPlugš
 {

34 
	gpublic
:

35 
vœtu®
 ~
H®bËPlugš
() { }

37 
vœtu®
 
h®t
() = 0;

38 
vœtu®
 
»¡¬t
() = 0;

39 
vœtu®
 
Node
* 
node
() const = 0;

40 
vœtu®
 
boŞ
 
isWšdowed
() const = 0;

41 
vœtu®
 
SŒšg
 
¶ugšName
() const = 0;

	@History.cpp

26 
	~"cÚfig.h
"

27 
	~"Hi¡Üy.h
"

29 
	~"Exû±iÚCode.h
"

30 
	~"F¿me.h
"

31 
	~"F¿meLßd”.h
"

32 
	~"F¿meLßd”Cl›Á.h
"

33 
	~"Hi¡ÜyI‹m.h
"

34 
	~"Page.h
"

36 
Çme¥aû
 
	gWebCÜe
 {

38 
	gHi¡Üy
::
Hi¡Üy
(
F¿me
* 
äame
)

39 : 
m_äame
(
äame
)

43 
F¿me
* 
Hi¡Üy
::
äame
() const

45  
m_äame
;

48 
	gHi¡Üy
::
discÚÃùF¿me
()

50 
m_äame
 = 0;

53 
	gHi¡Üy
::
Ëngth
() const

55 ià(!
m_äame
)

57 ià(!
	gm_äame
->
·ge
())

59  
	gm_äame
->
·ge
()->
g‘Hi¡ÜyL’gth
();

62 
	gHi¡Üy
::
back
()

64 ià(!
m_äame
)

66 
	gm_äame
->
»dœeùScheduËr
()->
scheduËHi¡ÜyNavig©iÚ
(-1);

69 
	gHi¡Üy
::
fÜw¬d
()

71 ià(!
m_äame
)

73 
	gm_äame
->
»dœeùScheduËr
()->
scheduËHi¡ÜyNavig©iÚ
(1);

76 
	gHi¡Üy
::
go
(
di¡ªû
)

78 ià(!
m_äame
)

80 
	gm_äame
->
»dœeùScheduËr
()->
scheduËHi¡ÜyNavig©iÚ
(
di¡ªû
);

83 
KURL
 
	gHi¡Üy
::
u¾FÜS‹
(cÚ¡ 
SŒšg
& 
u¾SŒšg
)

85 
KURL
 
ba£URL
 = 
m_äame
->
lßd”
()->baseURL();

86 ià(
	gu¾SŒšg
.
isEm±y
())

87  
	gba£URL
;

89 
KURL
 
absŞu‹URL
(
ba£URL
, 
u¾SŒšg
);

90 ià(!
	gabsŞu‹URL
.
isV®id
())

91  
KURL
();

93 ià(
	gabsŞu‹URL
.
¡ršg
().
Ëá
(
absŞu‹URL
.
·thS¹
()è!ğ
ba£URL
.string().left(baseURL.pathStart()))

94  
KURL
();

96  
	gabsŞu‹URL
;

99 
	gHi¡Üy
::
¡©eObjeùAdded
(
PassRefPŒ
<
S”ŸlizedSütV®ue
> 
d©a
, cÚ¡ 
SŒšg
& 
t™Ë
, cÚ¡ SŒšg& 
u¾SŒšg
, 
S‹ObjeùTy³
 
¡©eObjeùTy³
, 
Exû±iÚCode
& 
ec
)

101 ià(!
	gm_äame
 || !m_äame->
·ge
())

104 
KURL
 
	gfuÎURL
 = 
u¾FÜS‹
(
u¾SŒšg
);

105 ià(!
	gfuÎURL
.
isV®id
()) {

106 
	gec
 = 
SECURITY_ERR
;

110 ià(
	g¡©eObjeùTy³
 =ğ
S‹ObjeùPush
)

111 
m_äame
->
lßd”
()->
hi¡Üy
()->
pushS‹
(
d©a
, 
t™Ë
, 
fuÎURL
.
¡ršg
());

112 ià(
	g¡©eObjeùTy³
 =ğ
S‹ObjeùR•Ïû
)

113 
m_äame
->
lßd”
()->
hi¡Üy
()->
»¶aûS‹
(
d©a
, 
t™Ë
, 
fuÎURL
.
¡ršg
());

115 ià(!
	gu¾SŒšg
.
isEm±y
())

116 
	gm_äame
->
docum’t
()->
upd©eURLFÜPushOrR•ÏûS‹
(
fuÎURL
);

118 ià(
	g¡©eObjeùTy³
 =ğ
S‹ObjeùPush
)

119 
m_äame
->
lßd”
()->
ş›Á
()->
di¥©chDidPushS‹W™hšPage
();

120 ià(
	g¡©eObjeùTy³
 =ğ
S‹ObjeùR•Ïû
)

121 
m_äame
->
lßd”
()->
ş›Á
()->
di¥©chDidR•ÏûS‹W™hšPage
();

	@History.h

26 #iâdeà
Hi¡Üy_h


27 
	#Hi¡Üy_h


	)

29 
	~"KURL.h
"

30 
	~<wtf/PassRefPŒ.h
>

31 
	~<wtf/RefCouÁed.h
>

33 
Çme¥aû
 
	gWebCÜe
 {

35 
şass
 
	gF¿me
;

36 
şass
 
	gS”ŸlizedSütV®ue
;

37 
şass
 
	gSŒšg
;

38 
	tExû±iÚCode
;

40 
şass
 
	gHi¡Üy
 : 
public
 
RefCouÁed
<
Hi¡Üy
> {

41 
public
:

42 
PassRefPŒ
<
Hi¡Üy
> 
ü—‹
(
F¿me
* 
äame
è{  
adİtRef
(
Ãw
 History(frame)); }

44 
F¿me
* 
äame
() const;

45 
discÚÃùF¿me
();

47 
Ëngth
() const;

48 
back
();

49 
fÜw¬d
();

50 
go
(
di¡ªû
);

52 
	eS‹ObjeùTy³
 {

53 
	gS‹ObjeùPush
,

54 
	gS‹ObjeùR•Ïû


56 
¡©eObjeùAdded
(
PassRefPŒ
<
S”ŸlizedSütV®ue
>, cÚ¡ 
SŒšg
& 
t™Ë
, cÚ¡ SŒšg& 
u¾
, 
S‹ObjeùTy³
, 
Exû±iÚCode
&);

58 
	g´iv©e
:

59 
Hi¡Üy
(
F¿me
*);

61 
KURL
 
u¾FÜS‹
(cÚ¡ 
SŒšg
& 
u¾
);

63 
F¿me
* 
	gm_äame
;

	@Location.cpp

29 
	~"cÚfig.h
"

30 
	~"LoÿtiÚ.h
"

32 
	~"F¿me.h
"

33 
	~"F¿meLßd”.h
"

34 
	~"KURL.h
"

35 
	~"PÏtfÜmSŒšg.h
"

37 
Çme¥aû
 
	gWebCÜe
 {

39 
	gLoÿtiÚ
::
LoÿtiÚ
(
F¿me
* 
äame
)

40 : 
m_äame
(
äame
)

44 
LoÿtiÚ
::
discÚÃùF¿me
()

46 
m_äame
 = 0;

49 
šlše
 cÚ¡ 
	gKURL
& 
	gLoÿtiÚ
::
u¾
() const

51 
ASSERT
(
m_äame
);

53 cÚ¡ 
	gKURL
& 
	gu¾
 = 
m_äame
->
lßd”
()->
u¾
();

54 ià(!
	gu¾
.
isV®id
())

55  
bÏnkURL
();

57  
	gu¾
;

60 
SŒšg
 
	gLoÿtiÚ
::
h»f
() const

62 ià(!
m_äame
)

63  
SŒšg
();

65 cÚ¡ 
	gKURL
& 
	gu¾
 = 
this
->
u¾
();

66  
	gu¾
.
hasP©h
(è? u¾.
´‘tyURL
(è: 
u¾
.prettyURL() + "/";

69 
SŒšg
 
	gLoÿtiÚ
::
´ÙocŞ
() const

71 ià(!
m_äame
)

72  
SŒšg
();

74  
u¾
().
´ÙocŞ
() + ":";

77 
SŒšg
 
	gLoÿtiÚ
::
ho¡
() const

79 ià(!
m_äame
)

80  
SŒšg
();

84 cÚ¡ 
	gKURL
& 
	gu¾
 = 
this
->
u¾
();

85  
	gu¾
.
pÜt
(è? u¾.
ho¡
(è+ ":" + 
	gSŒšg
::
numb”
(
u¾
.port()) : url.host();

88 
SŒšg
 
	gLoÿtiÚ
::
ho¡Çme
() const

90 ià(!
m_äame
)

91  
SŒšg
();

93  
u¾
().
ho¡
();

96 
SŒšg
 
	gLoÿtiÚ
::
pÜt
() const

98 ià(!
m_äame
)

99  
SŒšg
();

101 cÚ¡ 
	gKURL
& 
	gu¾
 = 
this
->
u¾
();

102  
	gu¾
.
pÜt
(è? 
	gSŒšg
::
numb”
(
u¾
.port()) : "";

105 
SŒšg
 
	gLoÿtiÚ
::
·thÇme
() const

107 ià(!
m_äame
)

108  
SŒšg
();

110 cÚ¡ 
	gKURL
& 
	gu¾
 = 
this
->
u¾
();

111  
	gu¾
.
·th
().
isEm±y
(è? "/" : 
u¾
.path();

114 
SŒšg
 
	gLoÿtiÚ
::
£¬ch
() const

116 ià(!
m_äame
)

117  
SŒšg
();

119 cÚ¡ 
	gKURL
& 
	gu¾
 = 
this
->
u¾
();

120  
	gu¾
.
qu”y
().
isEm±y
(è? "" : "?" + 
u¾
.query();

123 
SŒšg
 
	gLoÿtiÚ
::
hash
() const

125 ià(!
m_äame
)

126  
SŒšg
();

128 cÚ¡ 
	gSŒšg
& 
	gäagm’tId’tif›r
 = 
this
->
u¾
().
äagm’tId’tif›r
();

129  
	gäagm’tId’tif›r
.
isEm±y
(è? "" : "#" + 
äagm’tId’tif›r
;

132 
SŒšg
 
	gLoÿtiÚ
::
toSŒšg
() const

134 ià(!
m_äame
)

135  
SŒšg
();

137 cÚ¡ 
	gKURL
& 
	gu¾
 = 
this
->
u¾
();

138  
	gu¾
.
hasP©h
(è? u¾.
´‘tyURL
(è: 
u¾
.prettyURL() + "/";

	@Location.h

29 #iâdeà
LoÿtiÚ_h


30 
	#LoÿtiÚ_h


	)

32 
	~<wtf/PassRefPŒ.h
>

33 
	~<wtf/RefCouÁed.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gF¿me
;

38 
şass
 
	gKURL
;

39 
şass
 
	gSŒšg
;

41 
şass
 
	gLoÿtiÚ
 : 
public
 
RefCouÁed
<
LoÿtiÚ
> {

42 
public
:

43 
PassRefPŒ
<
LoÿtiÚ
> 
ü—‹
(
F¿me
* 
äame
è{  
adİtRef
(
Ãw
 Location(frame)); }

45 
F¿me
* 
äame
(ècÚ¡ {  
	gm_äame
; }

46 
discÚÃùF¿me
();

48 
SŒšg
 
h»f
() const;

51 
SŒšg
 
´ÙocŞ
() const;

52 
SŒšg
 
ho¡
() const;

53 
SŒšg
 
ho¡Çme
() const;

54 
SŒšg
 
pÜt
() const;

55 
SŒšg
 
·thÇme
() const;

56 
SŒšg
 
£¬ch
() const;

57 
SŒšg
 
hash
() const;

59 
SŒšg
 
toSŒšg
() const;

61 
	g´iv©e
:

62 
LoÿtiÚ
(
F¿me
*);

64 cÚ¡ 
	gKURL
& 
u¾
() const;

66 
F¿me
* 
	gm_äame
;

	@MediaCanStartListener.h

26 #iâdeà
MedŸCªS¹Li¡’”_h


27 
	#MedŸCªS¹Li¡’”_h


	)

29 
Çme¥aû
 
	gWebCÜe
 {

31 şas 
	cMedŸCªS¹Li¡’”
 {

32 
	gpublic
:

33 
vœtu®
 
medŸCªS¹
() = 0;

34 
	g´Ùeùed
:

35 
vœtu®
 ~
MedŸCªS¹Li¡’”
() { }

	@MouseEventWithHitTestResults.cpp

20 
	~"cÚfig.h
"

21 
	~"Mou£Ev’tW™hH™Te¡ResuÉs.h
"

23 
	~"EËm’t.h
"

24 
	~"Node.h
"

28 
Çme¥aû
 
	gWebCÜe
 {

30 
	gMou£Ev’tW™hH™Te¡ResuÉs
::
Mou£Ev’tW™hH™Te¡ResuÉs
(cÚ¡ 
PÏtfÜmMou£Ev’t
& 
ev’t
, cÚ¡ 
H™Te¡ResuÉ
& 
h™Te¡ResuÉ
)

31 : 
m_ev’t
(
ev’t
)

32 , 
m_h™Te¡ResuÉ
(
h™Te¡ResuÉ
)

36 
Node
* 
	gMou£Ev’tW™hH™Te¡ResuÉs
::
rg‘Node
() const

38 
Node
* 
node
 = 
m_h™Te¡ResuÉ
.
šÃrNode
();

39 ià(!
	gnode
)

41 ià(
	gnode
->
šDocum’t
())

42  
	gnode
;

44 
EËm’t
* 
	g–em’t
 = 
node
->
·»ÁEËm’t
();

45 ià(
	g–em’t
 &&ƒËm’t->
šDocum’t
())

46  
	g–em’t
;

48  
	gnode
;

51 cÚ¡ 
IÁPošt
 
	gMou£Ev’tW™hH™Te¡ResuÉs
::
loÿlPošt
() const

53  
m_h™Te¡ResuÉ
.
loÿlPošt
();

56 
SüŞlb¬
* 
	gMou£Ev’tW™hH™Te¡ResuÉs
::
süŞlb¬
() const

58  
m_h™Te¡ResuÉ
.
süŞlb¬
();

61 
boŞ
 
	gMou£Ev’tW™hH™Te¡ResuÉs
::
isOv”Lšk
() const

63  
m_h™Te¡ResuÉ
.
URLEËm’t
(è&& m_h™Te¡ResuÉ.URLEËm’t()->
isLšk
();

	@MouseEventWithHitTestResults.h

21 #iâdeà
Mou£Ev’tW™hH™Te¡ResuÉs_h


22 
	#Mou£Ev’tW™hH™Te¡ResuÉs_h


	)

24 
	~"H™Te¡ResuÉ.h
"

25 
	~"PÏtfÜmMou£Ev’t.h
"

27 
Çme¥aû
 
	gWebCÜe
 {

29 
şass
 
	gSüŞlb¬
;

31 şas 
	cMou£Ev’tW™hH™Te¡ResuÉs
 {

32 
	gpublic
:

33 
Mou£Ev’tW™hH™Te¡ResuÉs
(cÚ¡ 
PÏtfÜmMou£Ev’t
&, cÚ¡ 
H™Te¡ResuÉ
&);

35 cÚ¡ 
	gPÏtfÜmMou£Ev’t
& 
ev’t
(ècÚ¡ {  
	gm_ev’t
; }

36 cÚ¡ 
	gH™Te¡ResuÉ
& 
h™Te¡ResuÉ
(ècÚ¡ {  
	gm_h™Te¡ResuÉ
; }

37 
Node
* 
rg‘Node
() const;

38 cÚ¡ 
IÁPošt
 
loÿlPošt
() const;

39 
SüŞlb¬
* 
süŞlb¬
() const;

40 
boŞ
 
isOv”Lšk
() const;

41 
boŞ
 
isOv”Widg‘
(ècÚ¡ {  
	gm_h™Te¡ResuÉ
.isOverWidget(); }

43 
	g´iv©e
:

44 
PÏtfÜmMou£Ev’t
 
m_ev’t
;

45 
H™Te¡ResuÉ
 
	gm_h™Te¡ResuÉ
;

	@Navigator.cpp

23 
	~"cÚfig.h
"

24 
	~"Navig©Ü.h
"

26 
	~"Chrome.h
"

27 
	~"Cook›J¬.h
"

28 
	~"Exû±iÚCode.h
"

29 
	~"F¿me.h
"

30 
	~"F¿meLßd”.h
"

31 
	~"F¿meLßd”Cl›Á.h
"

32 
	~"GeŞoÿtiÚ.h
"

33 
	~"KURL.h
"

34 
	~"Lªguage.h
"

35 
	~"MimeTy³A¼ay.h
"

36 
	~"Page.h
"

37 
	~"PageGroup.h
"

38 
	~"PÏtfÜmSŒšg.h
"

39 
	~"PlugšA¼ay.h
"

40 
	~"PlugšD©a.h
"

41 
	~"SütCÚŒŞËr.h
"

42 
	~"S‘tšgs.h
"

43 
	~"StÜageName¥aû.h
"

45 
Çme¥aû
 
	gWebCÜe
 {

47 
	gNavig©Ü
::
Navig©Ü
(
F¿me
* 
äame
)

48 : 
m_äame
(
äame
)

52 
Navig©Ü
::~Navigator()

54 
discÚÃùF¿me
();

57 
	gNavig©Ü
::
discÚÃùF¿me
()

59 ià(
m_¶ugšs
) {

60 
m_¶ugšs
->
discÚÃùF¿me
();

61 
	gm_¶ugšs
 = 0;

63 ià(
	gm_mimeTy³s
) {

64 
	gm_mimeTy³s
->
discÚÃùF¿me
();

65 
	gm_mimeTy³s
 = 0;

67 ià(
	gm_geŞoÿtiÚ
) {

68 
	gm_geŞoÿtiÚ
->
discÚÃùF¿me
();

69 
	gm_geŞoÿtiÚ
 = 0;

71 
	gm_äame
 = 0;

78 
boŞ
 
shouldHideFourDÙ
(
F¿me
* 
äame
)

80 cÚ¡ 
SŒšg
* 
	gsourûURL
 = 
äame
->
süt
()->
sourûURL
();

81 ià(!
	gsourûURL
)

82  
	gçl£
;

83 ià(!(
	gsourûURL
->
’dsW™h
("/dqm_script.js") || sourceURL->endsWith("/dqm_loader.js") || sourceURL->endsWith("/tdqm_loader.js")))

84  
	gçl£
;

85 
S‘tšgs
* 
	g£‰šgs
 = 
äame
->
£‰šgs
();

86 ià(!
	g£‰šgs
)

87  
	gçl£
;

88  
	g£‰šgs
->
ÃedsS™eS³cificQuœks
();

91 
SŒšg
 
	gNavig©Ü
::
­pV”siÚ
() const

93 ià(!
m_äame
)

94  
SŒšg
();

95 
SŒšg
 
	g­pV”siÚ
 = 
Navig©ÜBa£
::
­pV”siÚ
();

96 ià(
shouldHideFourDÙ
(
m_äame
))

97 
	g­pV”siÚ
.
»¶aû
("4.", "4_");

98  
	g­pV”siÚ
;

101 
SŒšg
 
	gNavig©Ü
::
Ïnguage
() const

103  
deçuÉLªguage
();

106 
SŒšg
 
	gNavig©Ü
::
u£rAg’t
() const

108 ià(!
m_äame
)

109  
SŒšg
();

113 ià(!
	gm_äame
->
·ge
())

114  
SŒšg
();

116  
	gm_äame
->
lßd”
()->
u£rAg’t
(
m_äame
->
docum’t
()->
u¾
());

119 
PlugšA¼ay
* 
	gNavig©Ü
::
¶ugšs
() const

121 ià(!
m_¶ugšs
)

122 
m_¶ugšs
 = 
PlugšA¼ay
::
ü—‹
(
m_äame
);

123  
	gm_¶ugšs
.
g‘
();

126 
MimeTy³A¼ay
* 
	gNavig©Ü
::
mimeTy³s
() const

128 ià(!
m_mimeTy³s
)

129 
m_mimeTy³s
 = 
MimeTy³A¼ay
::
ü—‹
(
m_äame
);

130  
	gm_mimeTy³s
.
g‘
();

133 
boŞ
 
	gNavig©Ü
::
cook›EÇbËd
() const

135 ià(!
m_äame
)

136  
çl£
;

138 ià(
	gm_äame
->
·ge
(è&& !m_äame->·ge()->
cook›EÇbËd
())

139  
	gçl£
;

141  
cook›sEÇbËd
(
m_äame
->
docum’t
());

144 
boŞ
 
	gNavig©Ü
::
javaEÇbËd
() const

146 ià(!
m_äame
 || !m_äame->
£‰šgs
())

147  
çl£
;

149  
	gm_äame
->
£‰šgs
()->
isJavaEÇbËd
();

152 
GeŞoÿtiÚ
* 
	gNavig©Ü
::
geŞoÿtiÚ
() const

154 ià(!
m_geŞoÿtiÚ
)

155 
m_geŞoÿtiÚ
 = 
GeŞoÿtiÚ
::
ü—‹
(
m_äame
);

156  
	gm_geŞoÿtiÚ
.
g‘
();

159 #ià
ENABLE
(
DOM_STORAGE
)

160 
	gNavig©Ü
::
g‘StÜageUpd©es
()

162 ià(!
m_äame
)

165 
Page
* 
	g·ge
 = 
m_äame
->
·ge
();

166 ià(!
	g·ge
)

169 
StÜageName¥aû
* 
	gloÿlStÜage
 = 
·ge
->
group
().
loÿlStÜage
();

170 ià(
	gloÿlStÜage
)

171 
	gloÿlStÜage
->
uÆock
();

175 
boŞ
 
v”ifyCu¡omHªdËrURL
(cÚ¡ 
SŒšg
& 
ba£URL
, cÚ¡ SŒšg& 
u¾
, 
Exû±iÚCode
& 
ec
)

178 cÚ¡ 
	gtok’
[] = "%s";

179 
	gšdex
 = 
u¾
.
fšd
(
tok’
);

180 ià(-1 =ğ
šdex
) {

181 
ec
 = 
SYNTAX_ERR
;

182  
	gçl£
;

187 
SŒšg
 
	gÃwURL
 = 
u¾
;

188 
	gÃwURL
.
»move
(
šdex
, (
tok’
) / (token[0]));

190 
KURL
 
ba£
(
P¬£dURLSŒšg
, 
ba£URL
);

191 
KURL
 
ku¾
(
ba£
, 
ÃwURL
);

193 ià(
	gku¾
.
isEm±y
(è|| !ku¾.
isV®id
()) {

194 
	gec
 = 
SYNTAX_ERR
;

195  
	gçl£
;

198  
	gŒue
;

201 
boŞ
 
v”ifyPrÙocŞHªdËrScheme
(cÚ¡ 
SŒšg
& 
scheme
, 
Exû±iÚCode
& 
ec
)

204 ià(
equ®IgnÜšgCa£
(
scheme
, "http") ||ƒqualIgnoringCase(scheme, "https") ||ƒqualIgnoringCase(scheme, "file")) {

205 
	gec
 = 
SECURITY_ERR
;

206  
	gçl£
;

208  
	gŒue
;

211 
	gNavig©Ü
::
»gi¡”PrÙocŞHªdËr
(cÚ¡ 
SŒšg
& 
scheme
, cÚ¡ SŒšg& 
u¾
, cÚ¡ SŒšg& 
t™Ë
, 
Exû±iÚCode
& 
ec
)

213 ià(!
v”ifyPrÙocŞHªdËrScheme
(
scheme
, 
ec
))

216 ià(!
	gm_äame
)

219 
Docum’t
* 
	gdocum’t
 = 
m_äame
->
docum’t
();

220 ià(!
	gdocum’t
)

223 
SŒšg
 
	gba£URL
 = 
docum’t
->
ba£URL
().
ba£AsSŒšg
();

225 ià(!
v”ifyCu¡omHªdËrURL
(
ba£URL
, 
u¾
, 
ec
))

228 ià(
Page
* 
	g·ge
 = 
m_äame
->
·ge
())

229 
·ge
->
chrome
()->
»gi¡”PrÙocŞHªdËr
(
scheme
, 
ba£URL
, 
u¾
, 
m_äame
->
di¥ÏySŒšgModif›dByEncodšg
(
t™Ë
));

232 
boŞ
 
v”ifyPrÙocŞHªdËrMimeTy³
(cÚ¡ 
SŒšg
& 
ty³
, 
Exû±iÚCode
& 
ec
)

236 ià(
equ®IgnÜšgCa£
(
ty³
, "text/html") ||ƒqualIgnoringCase(type, "text/css") ||ƒqualIgnoringCase(type, "application/x-javascript")) {

237 
	gec
 = 
SECURITY_ERR
;

238  
	gçl£
;

240  
	gŒue
;

243 
	gNavig©Ü
::
»gi¡”CÚ‹ÁHªdËr
(cÚ¡ 
SŒšg
& 
mimeTy³
, cÚ¡ SŒšg& 
u¾
, cÚ¡ SŒšg& 
t™Ë
, 
Exû±iÚCode
& 
ec
)

245 ià(!
v”ifyPrÙocŞHªdËrMimeTy³
(
mimeTy³
, 
ec
))

248 ià(!
	gm_äame
)

251 
Docum’t
* 
	gdocum’t
 = 
m_äame
->
docum’t
();

252 ià(!
	gdocum’t
)

255 
SŒšg
 
	gba£URL
 = 
docum’t
->
ba£URL
().
ba£AsSŒšg
();

257 ià(!
v”ifyCu¡omHªdËrURL
(
ba£URL
, 
u¾
, 
ec
))

260 ià(
Page
* 
	g·ge
 = 
m_äame
->
·ge
())

261 
·ge
->
chrome
()->
»gi¡”CÚ‹ÁHªdËr
(
mimeTy³
, 
ba£URL
, 
u¾
, 
m_äame
->
di¥ÏySŒšgModif›dByEncodšg
(
t™Ë
));

	@Navigator.h

20 #iâdeà
Navig©Ü_h


21 
	#Navig©Ü_h


	)

23 
	~"Navig©ÜBa£.h
"

24 
	~<wtf/PassRefPŒ.h
>

25 
	~<wtf/RefCouÁed.h
>

26 
	~<wtf/RefPŒ.h
>

28 
Çme¥aû
 
	gWebCÜe
 {

30 
şass
 
	gF¿me
;

31 
şass
 
	gGeŞoÿtiÚ
;

32 
şass
 
	gMimeTy³A¼ay
;

33 
şass
 
	gPlugšD©a
;

34 
şass
 
	gPlugšA¼ay
;

35 
şass
 
	gSŒšg
;

37 
	tExû±iÚCode
;

39 
şass
 
	gNavig©Ü
 : 
public
 
Navig©ÜBa£
,…ubliø
	gRefCouÁed
<Navigator> {

40 
	gpublic
:

41 
PassRefPŒ
<
Navig©Ü
> 
ü—‹
(
F¿me
* 
äame
è{  
adİtRef
(
Ãw
 Navigator(frame)); }

42 ~
Navig©Ü
();

44 
discÚÃùF¿me
();

45 
F¿me
* 
äame
(ècÚ¡ {  
	gm_äame
; }

47 
SŒšg
 
­pV”siÚ
() const;

48 
SŒšg
 
Ïnguage
() const;

49 
PlugšA¼ay
* 
¶ugšs
() const;

50 
MimeTy³A¼ay
* 
mimeTy³s
() const;

51 
boŞ
 
cook›EÇbËd
() const;

52 
boŞ
 
javaEÇbËd
() const;

54 
vœtu®
 
SŒšg
 
u£rAg’t
() const;

56 
GeŞoÿtiÚ
* 
geŞoÿtiÚ
() const;

58 
GeŞoÿtiÚ
* 
İtiÚ®GeŞoÿtiÚ
(ècÚ¡ {  
	gm_geŞoÿtiÚ
.
g‘
(); }

60 #ià
ENABLE
(
DOM_STORAGE
)

62 
g‘StÜageUpd©es
();

65 
»gi¡”PrÙocŞHªdËr
(cÚ¡ 
SŒšg
& 
scheme
, cÚ¡ SŒšg& 
u¾
, cÚ¡ SŒšg& 
t™Ë
, 
Exû±iÚCode
& 
ec
);

66 
»gi¡”CÚ‹ÁHªdËr
(cÚ¡ 
SŒšg
& 
mimeTy³
, cÚ¡ SŒšg& 
u¾
, cÚ¡ SŒšg& 
t™Ë
, 
Exû±iÚCode
& 
ec
);

68 
	g´iv©e
:

69 
Navig©Ü
(
F¿me
*);

70 
F¿me
* 
	gm_äame
;

71 
mubË
 
	gRefPŒ
<
	gPlugšA¼ay
> 
	gm_¶ugšs
;

72 
mubË
 
	gRefPŒ
<
	gMimeTy³A¼ay
> 
	gm_mimeTy³s
;

73 
mubË
 
	gRefPŒ
<
	gGeŞoÿtiÚ
> 
	gm_geŞoÿtiÚ
;

	@NavigatorBase.cpp

27 
	~"cÚfig.h
"

28 
	~"Navig©ÜBa£.h
"

30 
	~"N‘wÜkS‹NÙif›r.h
"

31 
	~"PÏtfÜmSŒšg.h
"

32 #ià
OS
(
LINUX
)

33 
	~"sys/ut¢ame.h
"

34 
	~<wtf/StdLibExŒas.h
>

37 #iâdeà
WEBCORE_NAVIGATOR_PLATFORM


38 #ià
OS
(
MAC_OS_X
è&& (
CPU
(
PPC
è|| CPU(
PPC64
))

39 
	#WEBCORE_NAVIGATOR_PLATFORM
 "MacPPC"

	)

40 #–ià
OS
(
MAC_OS_X
è&& (
CPU
(
X86
è|| CPU(
X86_64
))

41 
	#WEBCORE_NAVIGATOR_PLATFORM
 "MacIÁ–"

	)

42 #–ià
OS
(
WINDOWS
)

43 
	#WEBCORE_NAVIGATOR_PLATFORM
 "Wš32"

	)

44 #–ià
OS
(
SYMBIAN
)

45 
	#WEBCORE_NAVIGATOR_PLATFORM
 "SymbŸn"

	)

47 
	#WEBCORE_NAVIGATOR_PLATFORM
 ""

	)

51 #iâdeà
WEBCORE_NAVIGATOR_PRODUCT


52 
	#WEBCORE_NAVIGATOR_PRODUCT
 "Gecko"

	)

55 #iâdeà
WEBCORE_NAVIGATOR_PRODUCT_SUB


56 
	#WEBCORE_NAVIGATOR_PRODUCT_SUB
 "20030107"

	)

59 #iâdeà
WEBCORE_NAVIGATOR_VENDOR


60 
	#WEBCORE_NAVIGATOR_VENDOR
 "AµË Compu‹r, Inc."

	)

63 #iâdeà
WEBCORE_NAVIGATOR_VENDOR_SUB


64 
	#WEBCORE_NAVIGATOR_VENDOR_SUB
 ""

	)

68 
Çme¥aû
 
	gWebCÜe
 {

70 
	gNavig©ÜBa£
::~
Navig©ÜBa£
()

74 
SŒšg
 
Navig©ÜBa£
::
­pName
() const

79 
SŒšg
 
	gNavig©ÜBa£
::
­pV”siÚ
() const

82 cÚ¡ 
SŒšg
& 
ag’t
 = 
u£rAg’t
();

83  
	gag’t
.
sub¡ršg
(
ag’t
.
fšd
('/') + 1);

86 
SŒšg
 
	gNavig©ÜBa£
::
¶©fÜm
() const

88 #ià
OS
(
LINUX
)

89 ià(
SŒšg
(""è!ğ
WEBCORE_NAVIGATOR_PLATFORM
)

90  
WEBCORE_NAVIGATOR_PLATFORM
;

91 
ut¢ame
 
	go¢ame
;

92 
DEFINE_STATIC_LOCAL
(
SŒšg
, 
¶©fÜmName
, (
uÇme
(&
o¢ame
è>ğ0 ? SŒšg(o¢ame.
sy¢ame
è+ SŒšg(" "è+ SŒšg(o¢ame.
machše
) : ""));

93  
	g¶©fÜmName
;

95  
	gWEBCORE_NAVIGATOR_PLATFORM
;

99 
SŒšg
 
	gNavig©ÜBa£
::
­pCodeName
() const

104 
SŒšg
 
	gNavig©ÜBa£
::
´oduù
() const

106  
WEBCORE_NAVIGATOR_PRODUCT
;

109 
SŒšg
 
	gNavig©ÜBa£
::
´oduùSub
() const

111  
WEBCORE_NAVIGATOR_PRODUCT_SUB
;

114 
SŒšg
 
	gNavig©ÜBa£
::
v’dÜ
() const

116  
WEBCORE_NAVIGATOR_VENDOR
;

119 
SŒšg
 
	gNavig©ÜBa£
::
v’dÜSub
() const

121  
WEBCORE_NAVIGATOR_VENDOR_SUB
;

124 
boŞ
 
	gNavig©ÜBa£
::
ÚLše
() const

126  
ÃtwÜkS‹NÙif›r
().
ÚLše
();

	@NavigatorBase.h

26 #iâdeà
Navig©ÜBa£_h


27 
	#Navig©ÜBa£_h


	)

29 
Çme¥aû
 
	gWebCÜe
 {

31 
şass
 
	gSŒšg
;

33 şas 
	cNavig©ÜBa£
 {

34 
	gpublic
:

35 
SŒšg
 
­pName
() const;

36 
SŒšg
 
­pV”siÚ
() const;

37 
vœtu®
 
SŒšg
 
u£rAg’t
() const = 0;

38 
SŒšg
 
¶©fÜm
() const;

40 
SŒšg
 
­pCodeName
() const;

41 
SŒšg
 
´oduù
() const;

42 
SŒšg
 
´oduùSub
() const;

43 
SŒšg
 
v’dÜ
() const;

44 
SŒšg
 
v’dÜSub
() const;

46 
boŞ
 
ÚLše
() const;

48 
	g´Ùeùed
:

49 
vœtu®
 ~
Navig©ÜBa£
();

	@OriginAccessEntry.cpp

31 
	~"cÚfig.h
"

32 
	~"OrigšAcûssEÁry.h
"

34 
	~"Secur™yOrigš.h
"

36 
Çme¥aû
 
	gWebCÜe
 {

38 
	gOrigšAcûssEÁry
::
OrigšAcûssEÁry
(cÚ¡ 
SŒšg
& 
´ÙocŞ
, cÚ¡ SŒšg& 
ho¡
, 
SubdomašS‘tšg
 
subdomašS‘tšg
)

39 : 
m_´ÙocŞ
(
´ÙocŞ
.
low”
())

40 , 
m_ho¡
(
ho¡
.
low”
())

41 , 
m_subdomašS‘tšgs
(
subdomašS‘tšg
)

43 
ASSERT
(
subdomašS‘tšg
 =ğ
AÎowSubdomašs
 || subdomašS‘tšg =ğ
Di§ÎowSubdomašs
);

46 
	gm_ho¡IsIPAdd»ss
 = !
m_ho¡
.
isEm±y
(è&& 
isASCIIDig™
(m_ho¡[m_ho¡.
Ëngth
() - 1]);

49 
boŞ
 
	gOrigšAcûssEÁry
::
m©chesOrigš
(cÚ¡ 
Secur™yOrigš
& 
Üigš
) const

51 
ASSERT
(
Üigš
.
ho¡
(è=ğÜigš.ho¡().
low”
());

52 
ASSERT
(
Üigš
.
´ÙocŞ
(è=ğÜigš.´ÙocŞ().
low”
());

54 ià(
	gm_´ÙocŞ
 !ğ
Üigš
.
´ÙocŞ
())

55  
çl£
;

58 ià(
	gm_subdomašS‘tšgs
 =ğ
AÎowSubdomašs
 && 
m_ho¡
.
isEm±y
())

59  
Œue
;

62 ià(
	gm_ho¡
 =ğ
Üigš
.
ho¡
())

63  
Œue
;

66 ià(
	gm_subdomašS‘tšgs
 =ğ
Di§ÎowSubdomašs
)

67  
çl£
;

70 ià(
	gm_ho¡IsIPAdd»ss
)

71  
	gçl£
;

74 ià(
	gÜigš
.
ho¡
().
Ëngth
(è> 
	gm_ho¡
.Ëngth(è&& origš.ho¡()[
Üigš
.ho¡().Ëngth(è- 
m_ho¡
.Ëngth(è- 1] =ğ'.' && origš.ho¡().
’dsW™h
(m_host))

75  
Œue
;

77  
	gçl£
;

	@OriginAccessEntry.h

31 #iâdeà
CrossOrigšAcûss_h


32 
	#CrossOrigšAcûss_h


	)

34 
	~"PÏtfÜmSŒšg.h
"

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gSecur™yOrigš
;

40 şas 
	cOrigšAcûssEÁry
 {

41 
	gpublic
:

42 
	eSubdomašS‘tšg
 {

43 
AÎowSubdomašs
,

44 
	gDi§ÎowSubdomašs


48 
OrigšAcûssEÁry
(cÚ¡ 
SŒšg
& 
´ÙocŞ
, cÚ¡ SŒšg& 
ho¡
, 
SubdomašS‘tšg
);

49 
boŞ
 
m©chesOrigš
(cÚ¡ 
Secur™yOrigš
&) const;

51 
	g´iv©e
:

52 
SŒšg
 
m_´ÙocŞ
;

53 
SŒšg
 
	gm_ho¡
;

54 
SubdomašS‘tšg
 
	gm_subdomašS‘tšgs
;

55 
boŞ
 
	gm_ho¡IsIPAdd»ss
;

	@Page.cpp

21 
	~"cÚfig.h
"

22 
	~"Page.h
"

24 
	~"BackFÜw¬dLi¡.h
"

25 
	~"Ba£64.h
"

26 
	~"CSSStyËS–eùÜ.h
"

27 
	~"Chrome.h
"

28 
	~"ChromeCl›Á.h
"

29 
	~"CÚ‹xtM’uCl›Á.h
"

30 
	~"CÚ‹xtM’uCÚŒŞËr.h
"

31 
	~"DOMWšdow.h
"

32 
	~"D¿gCÚŒŞËr.h
"

33 
	~"Ed™ÜCl›Á.h
"

34 
	~"Ev’t.h
"

35 
	~"Ev’tNames.h
"

36 
	~"Exû±iÚCode.h
"

37 
	~"FeSy¡em.h
"

38 
	~"FocusCÚŒŞËr.h
"

39 
	~"F¿me.h
"

40 
	~"F¿meLßd”.h
"

41 
	~"F¿meLßd”Cl›Á.h
"

42 
	~"F¿meT»e.h
"

43 
	~"F¿meV›w.h
"

44 
	~"HTMLEËm’t.h
"

45 
	~"Hi¡ÜyI‹m.h
"

46 
	~"In¥eùÜCÚŒŞËr.h
"

47 
	~"In¥eùÜTim–šeAg’t.h
"

48 
	~"Loggšg.h
"

49 
	~"MedŸCªS¹Li¡’”.h
"

50 
	~"Navig©Ü.h
"

51 
	~"N‘wÜkS‹NÙif›r.h
"

52 
	~"PageGroup.h
"

53 
	~"PlugšD©a.h
"

54 
	~"PlugšH®‹r.h
"

55 
	~"PlugšV›w.h
"

56 
	~"Prog»ssT¿ck”.h
"

57 
	~"R’d”Theme.h
"

58 
	~"R’d”Widg‘.h
"

59 
	~"SütCÚŒŞËr.h
"

60 
	~"S–eùiÚCÚŒŞËr.h
"

61 
	~"S‘tšgs.h
"

62 
	~"Sh¬edBufãr.h
"

63 
	~"SŒšgHash.h
"

64 
	~"TextResourûDecod”.h
"

65 
	~"Widg‘.h
"

66 
	~<wtf/HashM­.h
>

67 
	~<wtf/RefCouÁedL—kCouÁ”.h
>

68 
	~<wtf/StdLibExŒas.h
>

70 #ià
ENABLE
(
DOM_STORAGE
)

71 
	~"StÜageA»a.h
"

72 
	~"StÜageName¥aû.h
"

75 #ià
ENABLE
(
JAVASCRIPT_DEBUGGER
)

76 
	~"SütDebugS”v”.h
"

79 #ià
ENABLE
(
WML
)

80 
	~"WMLPageS‹.h
"

83 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

84 
	~"GeŞoÿtiÚCÚŒŞËr.h
"

87 
Çme¥aû
 
	gWebCÜe
 {

89 
	gHashS‘
<
	gPage
*>* 
	g®lPages
;

91 #iâdeà
NDEBUG


92 
	gWTF
::
RefCouÁedL—kCouÁ”
 
·geCouÁ”
("Page");

95 
ÃtwÜkS‹Chªged
()

97 
	gVeùÜ
<
	gRefPŒ
<
	gF¿me
> > 
	gäames
;

100 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
’d
 = 
®lPages
->end();

101 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
™
 = 
®lPages
->
begš
(); 
	g™
 !ğ
’d
; ++it) {

102 
F¿me
* 
	gäame
 = (*
™
)->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

103 
äames
.
­³nd
(
äame
);

106 
AtomicSŒšg
 
	gev’tName
 = 
ÃtwÜkS‹NÙif›r
().
ÚLše
(è? 
ev’tNames
().
ÚlšeEv’t
 :ƒv’tNames().
ofæšeEv’t
;

107 
	gi
 = 0; i < 
	gäames
.
size
(); i++)

108 
	gäames
[
i
]->
docum’t
()->
di¥©chWšdowEv’t
(
Ev’t
::
ü—‹
(
ev’tName
, 
çl£
, false));

111 
	gPage
::
Page
(
ChromeCl›Á
* 
chromeCl›Á
, 
CÚ‹xtM’uCl›Á
* 
cÚ‹xtM’uCl›Á
, 
Ed™ÜCl›Á
* 
ed™ÜCl›Á
, 
D¿gCl›Á
* 
d¿gCl›Á
, 
In¥eùÜCl›Á
* 
š¥eùÜCl›Á
, 
PlugšH®‹rCl›Á
* 
¶ugšH®‹rCl›Á
, 
GeŞoÿtiÚCÚŒŞËrCl›Á
* 
geŞoÿtiÚCÚŒŞËrCl›Á
)

112 : 
m_chrome
(
Ãw
 
Chrome
(
this
, 
chromeCl›Á
))

113 , 
m_d¿gC¬‘CÚŒŞËr
(
Ãw
 
S–eùiÚCÚŒŞËr
(0, 
Œue
))

114 #ià
ENABLE
(
DRAG_SUPPORT
)

115 , 
m_d¿gCÚŒŞËr
(
Ãw
 
D¿gCÚŒŞËr
(
this
, 
d¿gCl›Á
))

117 , 
m_focusCÚŒŞËr
(
Ãw
 
FocusCÚŒŞËr
(
this
))

118 #ià
ENABLE
(
CONTEXT_MENUS
)

119 , 
m_cÚ‹xtM’uCÚŒŞËr
(
Ãw
 
CÚ‹xtM’uCÚŒŞËr
(
this
, 
cÚ‹xtM’uCl›Á
))

121 #ià
ENABLE
(
INSPECTOR
)

122 , 
m_š¥eùÜCÚŒŞËr
(
Ãw
 
In¥eùÜCÚŒŞËr
(
this
, 
š¥eùÜCl›Á
))

124 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

125 , 
m_geŞoÿtiÚCÚŒŞËr
(
Ãw
 
GeŞoÿtiÚCÚŒŞËr
(
this
, 
geŞoÿtiÚCÚŒŞËrCl›Á
))

127 , 
m_£‰šgs
(
Ãw
 
S‘tšgs
(
this
))

128 , 
m_´og»ss
(
Ãw
 
Prog»ssT¿ck”
)

129 , 
m_backFÜw¬dLi¡
(
BackFÜw¬dLi¡
::
ü—‹
(
this
))

130 , 
m_theme
(
R’d”Theme
::
themeFÜPage
(
this
))

131 , 
m_ed™ÜCl›Á
(
ed™ÜCl›Á
)

132 , 
m_äameCouÁ
(0)

133 , 
m_İ’edByDOM
(
çl£
)

134 , 
m_bKeyCyşesThroughEËm’ts
(
Œue
)

135 , 
m_deãrsLßdšg
(
çl£
)

136 , 
m_šLowQu®™yIÁ”pŞ©iÚMode
(
çl£
)

137 , 
m_cook›EÇbËd
(
Œue
)

138 , 
m_¬eMemÜyCacheCl›ÁC®lsEÇbËd
(
Œue
)

139 , 
m_medŸVŞume
(1)

140 , 
m_javaSütURLsA»AÎowed
(
Œue
)

141 , 
m_didLßdU£rStyËSh“t
(
çl£
)

142 , 
m_u£rStyËSh“tModifiÿtiÚTime
(0)

143 , 
m_group
(0)

144 , 
m_debugg”
(0)

145 , 
m_cu¡omHTMLTok’iz”TimeD–ay
(-1)

146 , 
m_cu¡omHTMLTok’iz”ChunkSize
(-1)

147 , 
m_ÿnS¹MedŸ
(
Œue
)

149 #ià!
ENABLE
(
CONTEXT_MENUS
)

150 
UNUSED_PARAM
(
cÚ‹xtM’uCl›Á
);

152 #ià!
ENABLE
(
DRAG_SUPPORT
)

153 
UNUSED_PARAM
(
d¿gCl›Á
);

155 #ià!
ENABLE
(
INSPECTOR
)

156 
UNUSED_PARAM
(
š¥eùÜCl›Á
);

158 #ià!
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

159 
UNUSED_PARAM
(
geŞoÿtiÚCÚŒŞËrCl›Á
);

162 ià(!
	g®lPages
) {

163 
	g®lPages
 = 
Ãw
 
HashS‘
<
Page
*>;

165 
ÃtwÜkS‹NÙif›r
().
£tN‘wÜkS‹ChªgedFunùiÚ
(
ÃtwÜkS‹Chªged
);

168 
ASSERT
(!
®lPages
->
cÚšs
(
this
));

169 
	g®lPages
->
add
(
this
);

171 ià(
	g¶ugšH®‹rCl›Á
) {

172 
	gm_¶ugšH®‹r
.
£t
(
Ãw
 
PlugšH®‹r
(
¶ugšH®‹rCl›Á
));

173 
	gm_¶ugšH®‹r
->
£tPlugšAÎowedRunTime
(
m_£‰šgs
->
¶ugšAÎowedRunTime
());

176 #ià
ENABLE
(
JAVASCRIPT_DEBUGGER
)

177 
	gSütDebugS”v”
::
sh¬ed
().
·geC»©ed
(
this
);

180 #iâdeà
NDEBUG


181 
	g·geCouÁ”
.
šüem’t
();

185 
	gPage
::~
Page
()

187 
m_mašF¿me
->
£tV›w
(0);

188 
£tGroupName
(
SŒšg
());

189 
	g®lPages
->
»move
(
this
);

191 
F¿me
* 
	gäame
 = 
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

192 
äame
->
·geDe¡royed
();

194 
	gm_ed™ÜCl›Á
->
·geDe¡royed
();

195 #ià
ENABLE
(
INSPECTOR
)

196 
	gm_š¥eùÜCÚŒŞËr
->
š¥eùedPageDe¡royed
();

199 
	gm_backFÜw¬dLi¡
->
şo£
();

201 #iâdeà
NDEBUG


202 
	g·geCouÁ”
.
deüem’t
();

207 
	gF¿me
::
ÿnûlAÎK“pAlive
();

211 
	gPage
::
£tMašF¿me
(
PassRefPŒ
<
F¿me
> 
mašF¿me
)

213 
ASSERT
(!
m_mašF¿me
);

214 
	gm_mašF¿me
 = 
mašF¿me
;

217 
boŞ
 
	gPage
::
İ’edByDOM
() const

219  
m_İ’edByDOM
;

222 
	gPage
::
£tO³ÃdByDOM
()

224 
m_İ’edByDOM
 = 
Œue
;

227 
BackFÜw¬dLi¡
* 
	gPage
::
backFÜw¬dLi¡
()

229  
m_backFÜw¬dLi¡
.
g‘
();

232 
boŞ
 
	gPage
::
goBack
()

234 
Hi¡ÜyI‹m
* 
™em
 = 
m_backFÜw¬dLi¡
->
backI‹m
();

236 ià(
	g™em
) {

237 
goToI‹m
(
™em
, 
F¿meLßdTy³Back
);

238  
	gŒue
;

240  
	gçl£
;

243 
boŞ
 
	gPage
::
goFÜw¬d
()

245 
Hi¡ÜyI‹m
* 
™em
 = 
m_backFÜw¬dLi¡
->
fÜw¬dI‹m
();

247 ià(
	g™em
) {

248 
goToI‹m
(
™em
, 
F¿meLßdTy³FÜw¬d
);

249  
	gŒue
;

251  
	gçl£
;

254 
boŞ
 
	gPage
::
ÿnGoBackOrFÜw¬d
(
di¡ªû
) const

256 ià(
di¡ªû
 == 0)

257  
Œue
;

258 ià(
	gdi¡ªû
 > 0 && di¡ªû <ğ
m_backFÜw¬dLi¡
->
fÜw¬dLi¡CouÁ
())

259  
Œue
;

260 ià(
	gdi¡ªû
 < 0 && -di¡ªû <ğ
m_backFÜw¬dLi¡
->
backLi¡CouÁ
())

261  
Œue
;

262  
	gçl£
;

265 
	gPage
::
goBackOrFÜw¬d
(
di¡ªû
)

267 ià(
di¡ªû
 == 0)

270 
Hi¡ÜyI‹m
* 
	g™em
 = 
m_backFÜw¬dLi¡
->
™emAtIndex
(
di¡ªû
);

271 ià(!
	g™em
) {

272 ià(
	gdi¡ªû
 > 0) {

273 
	gfÜw¬dLi¡CouÁ
 = 
m_backFÜw¬dLi¡
->
fÜw¬dLi¡CouÁ
();

274 ià(
	gfÜw¬dLi¡CouÁ
 > 0)

275 
	g™em
 = 
m_backFÜw¬dLi¡
->
™emAtIndex
(
fÜw¬dLi¡CouÁ
);

277 
	gbackLi¡CouÁ
 = 
m_backFÜw¬dLi¡
->
backLi¡CouÁ
();

278 ià(
	gbackLi¡CouÁ
 > 0)

279 
	g™em
 = 
m_backFÜw¬dLi¡
->
™emAtIndex
(-
backLi¡CouÁ
);

283 
ASSERT
(
™em
);

284 ià(
	g™em
)

285 
goToI‹m
(
™em
, 
F¿meLßdTy³IndexedBackFÜw¬d
);

288 
	gPage
::
goToI‹m
(
Hi¡ÜyI‹m
* 
™em
, 
F¿meLßdTy³
 
ty³
)

291 
Hi¡ÜyI‹m
* 
	gcu¼’tI‹m
 = 
m_mašF¿me
->
lßd”
()->
hi¡Üy
()->
cu¼’tI‹m
();

292 ià(!
	g™em
->
¡©eObjeù
(è|| !
	gcu¼’tI‹m
 || i‹m->
docum’tSequ’ûNumb”
(è!ğ
cu¼’tI‹m
->docum’tSequ’ûNumb”(è|| 
™em
 == currentItem) {

294 
D©aba£PŞicy
 
d©aba£PŞicy
 = 
D©aba£PŞicyStİ
;

296 #ià
ENABLE
(
DATABASE
)

298 cÚ¡ 
	gKURL
& 
	gcu¼’tURL
 = 
m_mašF¿me
->
lßd”
()->
u¾
();

299 cÚ¡ 
	gKURL
& 
	gÃwURL
 = 
™em
->
u¾
();

301 ià(
	gÃwURL
.
hasF¿gm’tId’tif›r
(è&& 
equ®IgnÜšgF¿gm’tId’tif›r
(
cu¼’tURL
, 
ÃwURL
))

302 
	gd©aba£PŞicy
 = 
D©aba£PŞicyCÚtšue
;

305 
	gm_mašF¿me
->
lßd”
()->
¡İAÎLßd”s
(
d©aba£PŞicy
);

308 
	gm_mašF¿me
->
lßd”
()->
hi¡Üy
()->
goToI‹m
(
™em
, 
ty³
);

311 
	gPage
::
g‘Hi¡ÜyL’gth
()

313  
m_backFÜw¬dLi¡
->
backLi¡CouÁ
(è+ 1 + m_backFÜw¬dLi¡->
fÜw¬dLi¡CouÁ
();

316 
	gPage
::
£tGlob®Hi¡ÜyI‹m
(
Hi¡ÜyI‹m
* 
™em
)

318 
m_glob®Hi¡ÜyI‹m
 = 
™em
;

321 
	gPage
::
£tGroupName
(cÚ¡ 
SŒšg
& 
Çme
)

323 ià(
m_group
 && !m_group->
Çme
().
isEm±y
()) {

324 
ASSERT
(
m_group
 !ğ
m_sšgËPageGroup
.
g‘
());

325 
ASSERT
(!
m_sšgËPageGroup
);

326 
	gm_group
->
»movePage
(
this
);

329 ià(
	gÇme
.
isEm±y
())

330 
	gm_group
 = 
m_sšgËPageGroup
.
g‘
();

332 
	gm_sšgËPageGroup
.
ş—r
();

333 
	gm_group
 = 
PageGroup
::
·geGroup
(
Çme
);

334 
	gm_group
->
addPage
(
this
);

338 cÚ¡ 
	gSŒšg
& 
	gPage
::
groupName
() const

340 
DEFINE_STATIC_LOCAL
(
SŒšg
, 
nuÎSŒšg
, ());

341  
	gm_group
 ? m_group->
Çme
(è: 
nuÎSŒšg
;

344 
	gPage
::
š™Group
()

346 
ASSERT
(!
m_sšgËPageGroup
);

347 
ASSERT
(!
m_group
);

348 
	gm_sšgËPageGroup
.
£t
(
Ãw
 
PageGroup
(
this
));

349 
	gm_group
 = 
m_sšgËPageGroup
.
g‘
();

352 
	gPage
::
£tN“dsR—µlyStyËs
()

354 ià(!
®lPages
)

356 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
’d
 = 
®lPages
->end();

357 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
™
 = 
®lPages
->
begš
(); 
	g™
 !ğ
’d
; ++it)

358 
F¿me
* 
	gäame
 = (*
™
)->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

359 
äame
->
£tN“dsR—µlyStyËs
();

362 
	gPage
::
»äeshPlugšs
(
boŞ
 
»lßd
)

364 ià(!
®lPages
)

367 
	gPlugšD©a
::
»äesh
();

369 
	gVeùÜ
<
	gRefPŒ
<
	gF¿me
> > 
	gäamesN“dšgR–ßd
;

371 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
’d
 = 
®lPages
->end();

372 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
™
 = 
®lPages
->
begš
(); 
	g™
 !ğ
’d
; ++it) {

373 (*
	g™
)->
	gm_¶ugšD©a
 = 0;

375 ià(
	g»lßd
) {

376 
F¿me
* 
	gäame
 = (*
™
)->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
()) {

377 ià(
äame
->
lßd”
()->
cÚšsPlugšs
())

378 
äamesN“dšgR–ßd
.
­³nd
(
äame
);

383 
size_t
 
	gi
 = 0; i < 
	gäamesN“dšgR–ßd
.
size
(); ++i)

384 
	gäamesN“dšgR–ßd
[
i
]->
lßd”
()->
»lßd
();

387 
PlugšD©a
* 
	gPage
::
¶ugšD©a
() const

389 ià(!
mašF¿me
()->
lßd”
()->
®lowPlugšs
(
NÙAboutToIn¡ªtŸ‹Plugš
))

391 ià(!
	gm_¶ugšD©a
)

392 
	gm_¶ugšD©a
 = 
PlugšD©a
::
ü—‹
(
this
);

393  
	gm_¶ugšD©a
.
g‘
();

396 
	gPage
::
addMedŸCªS¹Li¡’”
(
MedŸCªS¹Li¡’”
* 
li¡’”
)

398 
ASSERT
(!
m_ÿnS¹MedŸ
);

399 
ASSERT
(!
m_medŸCªS¹Li¡’”s
.
cÚšs
(
li¡’”
));

400 
	gm_medŸCªS¹Li¡’”s
.
add
(
li¡’”
);

403 
	gPage
::
»moveMedŸCªS¹Li¡’”
(
MedŸCªS¹Li¡’”
* 
li¡’”
)

405 
ASSERT
(!
m_ÿnS¹MedŸ
);

406 
ASSERT
(
m_medŸCªS¹Li¡’”s
.
cÚšs
(
li¡’”
));

407 
	gm_medŸCªS¹Li¡’”s
.
»move
(
li¡’”
);

410 
	gPage
::
£tCªS¹MedŸ
(
boŞ
 
ÿnS¹MedŸ
)

412 ià(
m_ÿnS¹MedŸ
 =ğ
ÿnS¹MedŸ
)

415 
	gm_ÿnS¹MedŸ
 = 
ÿnS¹MedŸ
;

417 ià(!
	gm_ÿnS¹MedŸ
 || 
	gm_medŸCªS¹Li¡’”s
.
isEm±y
())

420 
	gVeùÜ
<
	gMedŸCªS¹Li¡’”
*> 
	gli¡’”s
;

421 
cİyToVeùÜ
(
m_medŸCªS¹Li¡’”s
, 
li¡’”s
);

422 
	gm_medŸCªS¹Li¡’”s
.
ş—r
();

424 
size_t
 
	gsize
 = 
li¡’”s
.
size
();

425 
size_t
 
	gi
 = 0; i < 
	gsize
; ++i)

426 
	gli¡’”s
[
i
]->
medŸCªS¹
();

429 
F¿me
* 
šüem’tF¿me
(F¿me* 
cu¼
, 
boŞ
 
fÜw¬d
, boŞ 
w¿pFÏg
)

431  
	gfÜw¬d


432 ? 
	gcu¼
->
Œ“
()->
Œav”£NextW™hW¿p
(
w¿pFÏg
)

433 : 
cu¼
->
Œ“
()->
Œav”£P»viousW™hW¿p
(
w¿pFÏg
);

436 
boŞ
 
	gPage
::
fšdSŒšg
(cÚ¡ 
SŒšg
& 
rg‘
, 
TextCa£S’s™iv™y
 
ÿ£S’s™iv™y
, 
FšdDœeùiÚ
 
dœeùiÚ
, boŞ 
shouldW¿p
)

438 ià(
	grg‘
.
isEm±y
(è|| !
mašF¿me
())

439  
	gçl£
;

441 
F¿me
* 
	gäame
 = 
focusCÚŒŞËr
()->
focu£dOrMašF¿me
();

442 
F¿me
* 
	g¡¬tF¿me
 = 
äame
;

444 ià(
	gäame
->
fšdSŒšg
(
rg‘
, 
dœeùiÚ
 =ğ
FšdDœeùiÚFÜw¬d
, 
ÿ£S’s™iv™y
 =ğ
TextCa£S’s™ive
, 
çl£
, 
Œue
)) {

445 ià(
	gäame
 !ğ
¡¬tF¿me
)

446 
¡¬tF¿me
->
£ËùiÚ
()->
ş—r
();

447 
focusCÚŒŞËr
()->
£tFocu£dF¿me
(
äame
);

448  
	gŒue
;

450 
	gäame
 = 
šüem’tF¿me
(
äame
, 
dœeùiÚ
 =ğ
FšdDœeùiÚFÜw¬d
, 
shouldW¿p
);

451 } 
	gäame
 && f¿m!ğ
¡¬tF¿me
);

455 ià(
	gshouldW¿p
 && !
	g¡¬tF¿me
->
£ËùiÚ
()->
isNÚe
()) {

456 
boŞ
 
	gfound
 = 
¡¬tF¿me
->
fšdSŒšg
(
rg‘
, 
dœeùiÚ
 =ğ
FšdDœeùiÚFÜw¬d
, 
ÿ£S’s™iv™y
 =ğ
TextCa£S’s™ive
, 
Œue
,rue);

457 
focusCÚŒŞËr
()->
£tFocu£dF¿me
(
äame
);

458  
	gfound
;

461  
	gçl£
;

464 
	gPage
::
m¬kAÎM©chesFÜText
(cÚ¡ 
SŒšg
& 
rg‘
, 
TextCa£S’s™iv™y
 
ÿ£S’s™iv™y
, 
boŞ
 
shouldHighlight
, 
lim™
)

466 ià(
	grg‘
.
isEm±y
(è|| !
mašF¿me
())

469 
	gm©ches
 = 0;

471 
F¿me
* 
	gäame
 = 
mašF¿me
();

473 
	gäame
->
£tM¬kedTextM©chesA»Highligh‹d
(
shouldHighlight
);

474 
	gm©ches
 +ğ
äame
->
m¬kAÎM©chesFÜText
(
rg‘
, 
ÿ£S’s™iv™y
 =ğ
TextCa£S’s™ive
, (
lim™
 =ğ0è? 0 : (lim™ - 
m©ches
));

475 
	gäame
 = 
šüem’tF¿me
(
äame
, 
Œue
, 
çl£
);

476 } 
	gäame
);

478  
	gm©ches
;

481 
	gPage
::
unm¬kAÎTextM©ches
()

483 ià(!
mašF¿me
())

486 
F¿me
* 
	gäame
 = 
mašF¿me
();

488 
	gäame
->
docum’t
()->
»moveM¬k”s
(
Docum’tM¬k”
::
TextM©ch
);

489 
	gäame
 = 
šüem’tF¿me
(
äame
, 
Œue
, 
çl£
);

490 } 
	gäame
);

493 cÚ¡ 
	gVisibËS–eùiÚ
& 
	gPage
::
£ËùiÚ
() const

495  
focusCÚŒŞËr
()->
focu£dOrMašF¿me
()->
£ËùiÚ
()->selection();

498 
	gPage
::
£tDeãrsLßdšg
(
boŞ
 
deãrs
)

500 ià(!
m_£‰šgs
->
lßdDeã¼šgEÇbËd
())

503 ià(
	gdeãrs
 =ğ
m_deãrsLßdšg
)

506 
	gm_deãrsLßdšg
 = 
deãrs
;

507 
F¿me
* 
	gäame
 = 
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

508 
äame
->
lßd”
()->
£tDeãrsLßdšg
(
deãrs
);

511 
	gPage
::
ş—rUndoRedoO³¿tiÚs
()

513 
m_ed™ÜCl›Á
->
ş—rUndoRedoO³¿tiÚs
();

516 
boŞ
 
	gPage
::
šLowQu®™yImageIÁ”pŞ©iÚMode
() const

518  
m_šLowQu®™yIÁ”pŞ©iÚMode
;

521 
	gPage
::
£tInLowQu®™yImageIÁ”pŞ©iÚMode
(
boŞ
 
mode
)

523 
m_šLowQu®™yIÁ”pŞ©iÚMode
 = 
mode
;

526 
	gPage
::
£tMedŸVŞume
(
vŞume
)

528 ià(
vŞume
 < 0 || volume > 1)

531 ià(
	gm_medŸVŞume
 =ğ
vŞume
)

534 
	gm_medŸVŞume
 = 
vŞume
;

535 
F¿me
* 
	gäame
 = 
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
()) {

536 
äame
->
docum’t
()->
medŸVŞumeDidChªge
();

540 
	gPage
::
didMoveOnsü“n
()

542 
F¿me
* 
äame
 = 
mašF¿me
(); 
	gäame
; f¿mğäame->
Œ“
()->
Œav”£Next
()) {

543 ià(
äame
->
v›w
())

544 
äame
->
v›w
()->
didMoveOnsü“n
();

548 
	gPage
::
wlMoveOffsü“n
()

550 
F¿me
* 
äame
 = 
mašF¿me
(); 
	gäame
; f¿mğäame->
Œ“
()->
Œav”£Next
()) {

551 ià(
äame
->
v›w
())

552 
äame
->
v›w
()->
wlMoveOffsü“n
();

556 
	gPage
::
u£rStyËSh“tLoÿtiÚChªged
()

560 
KURL
 
u¾
 = 
m_£‰šgs
->
u£rStyËSh“tLoÿtiÚ
();

561 ià(
	gu¾
.
isLoÿlFe
())

562 
	gm_u£rStyËSh“tP©h
 = 
u¾
.
feSy¡emP©h
();

564 
	gm_u£rStyËSh“tP©h
 = 
SŒšg
();

566 
	gm_didLßdU£rStyËSh“t
 = 
çl£
;

567 
	gm_u£rStyËSh“t
 = 
SŒšg
();

568 
	gm_u£rStyËSh“tModifiÿtiÚTime
 = 0;

572 ià(
	gu¾
.
´ÙocŞIs
("d©a"è&& u¾.
¡ršg
().
¡¬tsW™h
("data:text/css;charset=utf-8;base64,")) {

573 
	gm_didLßdU£rStyËSh“t
 = 
Œue
;

575 cÚ¡ 
	g´efixL’gth
 = 35;

576 
	gVeùÜ
<> 
’codedD©a
(
u¾
.
¡ršg
().
Ëngth
(è- 
´efixL’gth
);

577 
	gi
 = 
´efixL’gth
; i < 
	gu¾
.
¡ršg
().
Ëngth
(); ++i)

578 
	g’codedD©a
[
i
 - 
´efixL’gth
] = 
¡©ic_ÿ¡
<>(
u¾
.
¡ršg
()[i]);

580 
	gVeùÜ
<> 
	g¡yËSh“tAsUTF8
;

581 ià(
ba£64Decode
(
’codedD©a
, 
¡yËSh“tAsUTF8
))

582 
	gm_u£rStyËSh“t
 = 
SŒšg
::
äomUTF8
(
¡yËSh“tAsUTF8
.
d©a
(), styËSh“tAsUTF8.
size
());

585 
F¿me
* 
	gäame
 = 
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
()) {

586 ià(
äame
->
docum’t
())

587 
äame
->
docum’t
()->
ş—rPageU£rSh“t
();

591 cÚ¡ 
	gSŒšg
& 
	gPage
::
u£rStyËSh“t
() const

593 ià(
m_u£rStyËSh“tP©h
.
isEm±y
())

594  
m_u£rStyËSh“t
;

596 
time_t
 
	gmodTime
;

597 ià(!
g‘FeModifiÿtiÚTime
(
m_u£rStyËSh“tP©h
, 
modTime
)) {

601 
	gm_u£rStyËSh“t
 = 
SŒšg
();

602  
	gm_u£rStyËSh“t
;

607 ià(
	gm_didLßdU£rStyËSh“t
 && 
	gmodTime
 <ğ
m_u£rStyËSh“tModifiÿtiÚTime
)

608  
m_u£rStyËSh“t
;

610 
	gm_didLßdU£rStyËSh“t
 = 
Œue
;

611 
	gm_u£rStyËSh“t
 = 
SŒšg
();

612 
	gm_u£rStyËSh“tModifiÿtiÚTime
 = 
modTime
;

621 
	gRefPŒ
<
	gSh¬edBufãr
> 
	gd©a
 = 
Sh¬edBufãr
::
ü—‹W™hCÚ‹ÁsOfFe
(
m_u£rStyËSh“tP©h
);

622 ià(!
	gd©a
)

623  
	gm_u£rStyËSh“t
;

625 
	gRefPŒ
<
	gTextResourûDecod”
> 
	gdecod”
 = 
TextResourûDecod”
::
ü—‹
("text/css");

626 
	gm_u£rStyËSh“t
 = 
decod”
->
decode
(
d©a
->d©a(), d©a->
size
());

627 
	gm_u£rStyËSh“t
 +ğ
decod”
->
æush
();

629  
	gm_u£rStyËSh“t
;

632 
	gPage
::
»moveAÎVis™edLšks
()

634 ià(!
®lPages
)

636 
	gHashS‘
<
	gPageGroup
*> 
	ggroups
;

637 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
·gesEnd
 = 
®lPages
->
’d
();

638 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
™
 = 
®lPages
->
begš
(); 
	g™
 !ğ
·gesEnd
; ++it) {

639 ià(
PageGroup
* 
	ggroup
 = (*
™
)->
groupPŒ
())

640 
groups
.
add
(
group
);

642 
	gHashS‘
<
	gPageGroup
*>::
™”©Ü
 
groupsEnd
 = 
groups
.
’d
();

643 
	gHashS‘
<
	gPageGroup
*>::
™”©Ü
 
™
 = 
groups
.
begš
(); 
	g™
 !ğ
groupsEnd
; ++it)

644 (*
	g™
)->
»moveVis™edLšks
();

647 
	gPage
::
®lVis™edS‹Chªged
(
PageGroup
* 
group
)

649 
ASSERT
(
group
);

650 ià(!
	g®lPages
)

653 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
·gesEnd
 = 
®lPages
->
’d
();

654 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
™
 = 
®lPages
->
begš
(); 
	g™
 !ğ
·gesEnd
; ++it) {

655 
Page
* 
	g·ge
 = *
™
;

656 ià(
	g·ge
->
	gm_group
 !ğ
group
)

658 
F¿me
* 
	gäame
 = 
·ge
->
m_mašF¿me
.
g‘
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
()) {

659 ià(
CSSStyËS–eùÜ
* 
¡yËS–eùÜ
 = 
äame
->
docum’t
()->styleSelector())

660 
¡yËS–eùÜ
->
®lVis™edS‹Chªged
();

665 
	gPage
::
vis™edS‹Chªged
(
PageGroup
* 
group
, 
LškHash
 
vis™edLškHash
)

667 
ASSERT
(
group
);

668 ià(!
	g®lPages
)

671 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
·gesEnd
 = 
®lPages
->
’d
();

672 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
™
 = 
®lPages
->
begš
(); 
	g™
 !ğ
·gesEnd
; ++it) {

673 
Page
* 
	g·ge
 = *
™
;

674 ià(
	g·ge
->
	gm_group
 !ğ
group
)

676 
F¿me
* 
	gäame
 = 
·ge
->
m_mašF¿me
.
g‘
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
()) {

677 ià(
CSSStyËS–eùÜ
* 
¡yËS–eùÜ
 = 
äame
->
docum’t
()->styleSelector())

678 
¡yËS–eùÜ
->
vis™edS‹Chªged
(
vis™edLškHash
);

683 
	gPage
::
£tDebugg”FÜAÎPages
(
JSC
::
Debugg”
* 
debugg”
)

685 
ASSERT
(
®lPages
);

687 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
’d
 = 
®lPages
->end();

688 
	gHashS‘
<
	gPage
*>::
™”©Ü
 
™
 = 
®lPages
->
begš
(); 
	g™
 !ğ
’d
; ++it)

689 (*
	g™
)->
£tDebugg”
(
debugg”
);

692 
	gPage
::
£tDebugg”
(
JSC
::
Debugg”
* 
debugg”
)

694 ià(
m_debugg”
 =ğ
debugg”
)

697 
	gm_debugg”
 = 
debugg”
;

699 
F¿me
* 
	gäame
 = 
m_mašF¿me
.
g‘
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

700 
äame
->
süt
()->
©chDebugg”
(
m_debugg”
);

703 #ià
ENABLE
(
DOM_STORAGE
)

704 
StÜageName¥aû
* 
	gPage
::
£ssiÚStÜage
(
boŞ
 
İtiÚ®C»©e
)

706 ià(!
m_£ssiÚStÜage
 && 
İtiÚ®C»©e
)

707 
m_£ssiÚStÜage
 = 
StÜageName¥aû
::
£ssiÚStÜageName¥aû
(
this
);

709  
	gm_£ssiÚStÜage
.
g‘
();

712 
	gPage
::
£tSessiÚStÜage
(
PassRefPŒ
<
StÜageName¥aû
> 
ÃwStÜage
)

714 
m_£ssiÚStÜage
 = 
ÃwStÜage
;

718 #ià
ENABLE
(
WML
)

719 
WMLPageS‹
* 
	gPage
::
wmlPageS‹
()

721 ià(!
m_wmlPageS‹
)

722 
m_wmlPageS‹
.
£t
(
Ãw
 
WMLPageS‹
(
this
));

723  
	gm_wmlPageS‹
.
g‘
();

727 
	gPage
::
£tCu¡omHTMLTok’iz”TimeD–ay
(
cu¡omHTMLTok’iz”TimeD–ay
)

729 ià(
cu¡omHTMLTok’iz”TimeD–ay
 < 0) {

730 
m_cu¡omHTMLTok’iz”TimeD–ay
 = -1;

733 
	gm_cu¡omHTMLTok’iz”TimeD–ay
 = 
cu¡omHTMLTok’iz”TimeD–ay
;

736 
	gPage
::
£tCu¡omHTMLTok’iz”ChunkSize
(
cu¡omHTMLTok’iz”ChunkSize
)

738 ià(
cu¡omHTMLTok’iz”ChunkSize
 < 0) {

739 
m_cu¡omHTMLTok’iz”ChunkSize
 = -1;

742 
	gm_cu¡omHTMLTok’iz”ChunkSize
 = 
cu¡omHTMLTok’iz”ChunkSize
;

745 
	gPage
::
£tMemÜyCacheCl›ÁC®lsEÇbËd
(
boŞ
 
’abËd
)

747 ià(
m_¬eMemÜyCacheCl›ÁC®lsEÇbËd
 =ğ
’abËd
)

750 
	gm_¬eMemÜyCacheCl›ÁC®lsEÇbËd
 = 
’abËd
;

751 ià(!
	g’abËd
)

754 
	gRefPŒ
<
	gF¿me
> 
	gäame
 = 
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

755 
äame
->
lßd”
()->
‹ÎCl›ÁAboutPa¡MemÜyCacheLßds
();

758 
	gPage
::
£tJavaSütURLsA»AÎowed
(
boŞ
 
¬eAÎowed
)

760 
m_javaSütURLsA»AÎowed
 = 
¬eAÎowed
;

763 
boŞ
 
	gPage
::
javaSütURLsA»AÎowed
() const

765  
m_javaSütURLsA»AÎowed
;

768 #ià
ENABLE
(
INSPECTOR
)

769 
In¥eùÜTim–šeAg’t
* 
	gPage
::
š¥eùÜTim–šeAg’t
() const

771  
m_š¥eùÜCÚŒŞËr
->
tim–šeAg’t
();

775 
	gPage
::
´iv©eBrowsšgS‹Chªged
()

777 
boŞ
 
´iv©eBrowsšgEÇbËd
 = 
m_£‰šgs
->privateBrowsingEnabled();

782 
	gVeùÜ
<
	gRefPŒ
<
	gPlugšV›w
>, 32> 
	g¶ugšV›ws
;

783 
F¿me
* 
	gäame
 = 
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
()) {

784 
F¿meV›w
* 
v›w
 = 
äame
->view();

785 ià(!
	gv›w
)

788 cÚ¡ 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >* 
	gchd»n
 = 
v›w
->
chd»n
();

789 
ASSERT
(
chd»n
);

791 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >::
cÚ¡_™”©Ü
 
’d
 = 
chd»n
->end();

792 
	gHashS‘
<
	gRefPŒ
<
	gWidg‘
> >::
cÚ¡_™”©Ü
 
™
 = 
chd»n
->
begš
(); 
	g™
 !ğ
’d
; ++it) {

793 
Widg‘
* 
	gwidg‘
 = (*
™
).
g‘
();

794 ià(!
	gwidg‘
->
isPlugšV›w
())

796 
	g¶ugšV›ws
.
­³nd
(
¡©ic_ÿ¡
<
PlugšV›w
*>(
widg‘
));

800 
size_t
 
	gi
 = 0; i < 
	g¶ugšV›ws
.
size
(); i++)

801 
	g¶ugšV›ws
[
i
]->
´iv©eBrowsšgS‹Chªged
(
´iv©eBrowsšgEÇbËd
);

804 
	gPage
::
¶ugšAÎowedRunTimeChªged
()

806 ià(
m_¶ugšH®‹r
)

807 
m_¶ugšH®‹r
->
£tPlugšAÎowedRunTime
(
m_£‰šgs
->
¶ugšAÎowedRunTime
());

810 
	gPage
::
didS¹Plugš
(
H®bËPlugš
* 
obj
)

812 ià(
m_¶ugšH®‹r
)

813 
m_¶ugšH®‹r
->
didS¹Plugš
(
obj
);

816 
	gPage
::
didStİPlugš
(
H®bËPlugš
* 
obj
)

818 ià(
m_¶ugšH®‹r
)

819 
m_¶ugšH®‹r
->
didStİPlugš
(
obj
);

822 #ià!
ASSERT_DISABLED


823 
	gPage
::
checkF¿meCouÁCÚsi¡’cy
() const

825 
ASSERT
(
m_äameCouÁ
 >= 0);

827 
	gäameCouÁ
 = 0;

828 
F¿me
* 
	gäame
 = 
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

829 ++
äameCouÁ
;

831 
ASSERT
(
m_äameCouÁ
 + 1 =ğ
äameCouÁ
);

	@Page.h

21 #iâdeà
Page_h


22 
	#Page_h


	)

24 
	~"F¿meLßd”Ty³s.h
"

25 
	~"PÏtfÜmSŒšg.h
"

26 
	~<wtf/FÜw¬d.h
>

27 
	~<wtf/HashS‘.h
>

28 
	~<wtf/NÚcİyabË.h
>

30 #ià
PLATFORM
(
MAC
)

31 
	~"ScheduËPaœ.h
"

34 
Çme¥aû
 
	gJSC
 {

35 
şass
 
	gDebugg”
;

38 
Çme¥aû
 
	gWebCÜe
 {

40 
şass
 
	gBackFÜw¬dLi¡
;

41 
şass
 
	gChrome
;

42 
şass
 
	gChromeCl›Á
;

43 
şass
 
	gCÚ‹xtM’uCl›Á
;

44 
şass
 
	gCÚ‹xtM’uCÚŒŞËr
;

45 
şass
 
	gDocum’t
;

46 
şass
 
	gD¿gCl›Á
;

47 
şass
 
	gD¿gCÚŒŞËr
;

48 
şass
 
	gEd™ÜCl›Á
;

49 
şass
 
	gFocusCÚŒŞËr
;

50 
şass
 
	gF¿me
;

51 
şass
 
	gGeŞoÿtiÚCÚŒŞËr
;

52 
şass
 
	gGeŞoÿtiÚCÚŒŞËrCl›Á
;

53 
şass
 
	gH®bËPlugš
;

54 
şass
 
	gHi¡ÜyI‹m
;

55 
şass
 
	gIn¥eùÜCl›Á
;

56 
şass
 
	gIn¥eùÜCÚŒŞËr
;

57 
şass
 
	gIn¥eùÜTim–šeAg’t
;

58 
şass
 
	gMedŸCªS¹Li¡’”
;

59 
şass
 
	gNode
;

60 
şass
 
	gPageGroup
;

61 
şass
 
	gPlugšD©a
;

62 
şass
 
	gPlugšH®‹r
;

63 
şass
 
	gPlugšH®‹rCl›Á
;

64 
şass
 
	gProg»ssT¿ck”
;

65 
şass
 
	gR’d”Theme
;

66 
şass
 
	gVisibËS–eùiÚ
;

67 
şass
 
	gS–eùiÚCÚŒŞËr
;

68 
şass
 
	gS‘tšgs
;

70 #ià
ENABLE
(
DOM_STORAGE
)

71 
şass
 
	gStÜageName¥aû
;

73 #ià
ENABLE
(
NOTIFICATIONS
)

74 
şass
 
	gNÙifiÿtiÚP»£Á”
;

76 #ià
ENABLE
(
WML
)

77 
şass
 
	gWMLPageS‹
;

80 
ušt64_t
 
	tLškHash
;

82 
	eFšdDœeùiÚ
 { 
	gFšdDœeùiÚFÜw¬d
, 
	gFšdDœeùiÚBackw¬d
 };

84 şas 
	cPage
 : 
public
 
NÚcİyabË
 {

85 
public
:

86 
£tN“dsR—µlyStyËs
();

88 
Page
(
ChromeCl›Á
*, 
CÚ‹xtM’uCl›Á
*, 
Ed™ÜCl›Á
*, 
D¿gCl›Á
*, 
In¥eùÜCl›Á
*, 
PlugšH®‹rCl›Á
*, 
GeŞoÿtiÚCÚŒŞËrCl›Á
*);

89 ~
Page
();

91 
R’d”Theme
* 
theme
(ècÚ¡ {  
	gm_theme
.
g‘
(); };

93 
»äeshPlugšs
(
boŞ
 
»lßd
);

94 
PlugšD©a
* 
¶ugšD©a
() const;

96 
£tCªS¹MedŸ
(
boŞ
);

97 
boŞ
 
ÿnS¹MedŸ
(ècÚ¡ {  
	gm_ÿnS¹MedŸ
; }

98 
addMedŸCªS¹Li¡’”
(
MedŸCªS¹Li¡’”
*);

99 
»moveMedŸCªS¹Li¡’”
(
MedŸCªS¹Li¡’”
*);

101 
Ed™ÜCl›Á
* 
ed™ÜCl›Á
(ècÚ¡ {  
	gm_ed™ÜCl›Á
; }

103 
£tMašF¿me
(
PassRefPŒ
<
F¿me
>);

104 
F¿me
* 
mašF¿me
(ècÚ¡ {  
	gm_mašF¿me
.
g‘
(); }

106 
boŞ
 
İ’edByDOM
() const;

107 
£tO³ÃdByDOM
();

109 
BackFÜw¬dLi¡
* 
backFÜw¬dLi¡
();

115 
boŞ
 
goBack
();

116 
boŞ
 
goFÜw¬d
();

117 
boŞ
 
ÿnGoBackOrFÜw¬d
(
di¡ªû
) const;

118 
goBackOrFÜw¬d
(
di¡ªû
);

119 
goToI‹m
(
Hi¡ÜyI‹m
*, 
F¿meLßdTy³
);

120 
g‘Hi¡ÜyL’gth
();

122 
Hi¡ÜyI‹m
* 
glob®Hi¡ÜyI‹m
(ècÚ¡ {  
	gm_glob®Hi¡ÜyI‹m
.
g‘
(); }

123 
£tGlob®Hi¡ÜyI‹m
(
Hi¡ÜyI‹m
*);

125 
£tGroupName
(cÚ¡ 
SŒšg
&);

126 cÚ¡ 
	gSŒšg
& 
groupName
() const;

128 
	gPageGroup
& 
group
(è{ ià(!
	gm_group
è
š™Group
();  *m_group; }

129 
PageGroup
* 
groupPŒ
(è{  
	gm_group
; }

131 
šüem’tF¿meCouÁ
(è{ ++
	gm_äameCouÁ
; }

132 
deüem’tF¿meCouÁ
(è{ 
ASSERT
(
m_äameCouÁ
); --
	gm_äameCouÁ
; }

133 
äameCouÁ
(ècÚ¡ { 
checkF¿meCouÁCÚsi¡’cy
();  
	gm_äameCouÁ
; }

135 
Chrome
* 
chrome
(ècÚ¡ {  
	gm_chrome
.
g‘
(); }

136 
S–eùiÚCÚŒŞËr
* 
d¿gC¬‘CÚŒŞËr
(ècÚ¡ {  
	gm_d¿gC¬‘CÚŒŞËr
.
g‘
(); }

137 #ià
ENABLE
(
DRAG_SUPPORT
)

138 
D¿gCÚŒŞËr
* 
d¿gCÚŒŞËr
(ècÚ¡ {  
	gm_d¿gCÚŒŞËr
.
g‘
(); }

140 
FocusCÚŒŞËr
* 
focusCÚŒŞËr
(ècÚ¡ {  
	gm_focusCÚŒŞËr
.
g‘
(); }

141 #ià
ENABLE
(
CONTEXT_MENUS
)

142 
CÚ‹xtM’uCÚŒŞËr
* 
cÚ‹xtM’uCÚŒŞËr
(ècÚ¡ {  
	gm_cÚ‹xtM’uCÚŒŞËr
.
g‘
(); }

144 #ià
ENABLE
(
INSPECTOR
)

145 
In¥eùÜCÚŒŞËr
* 
š¥eùÜCÚŒŞËr
(ècÚ¡ {  
	gm_š¥eùÜCÚŒŞËr
.
g‘
(); }

147 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

148 
GeŞoÿtiÚCÚŒŞËr
* 
geŞoÿtiÚCÚŒŞËr
(ècÚ¡ {  
	gm_geŞoÿtiÚCÚŒŞËr
.
g‘
(); }

150 
S‘tšgs
* 
£‰šgs
(ècÚ¡ {  
	gm_£‰šgs
.
g‘
(); }

151 
Prog»ssT¿ck”
* 
´og»ss
(ècÚ¡ {  
	gm_´og»ss
.
g‘
(); }

153 
£tTabKeyCyşesThroughEËm’ts
(
boŞ
 
b
è{ 
	gm_bKeyCyşesThroughEËm’ts
 = b; }

154 
boŞ
 
bKeyCyşesThroughEËm’ts
(ècÚ¡ {  
	gm_bKeyCyşesThroughEËm’ts
; }

156 
boŞ
 
fšdSŒšg
(cÚ¡ 
SŒšg
&, 
TextCa£S’s™iv™y
, 
FšdDœeùiÚ
, boŞ 
shouldW¿p
);

157 
m¬kAÎM©chesFÜText
(cÚ¡ 
SŒšg
&, 
TextCa£S’s™iv™y
, 
boŞ
 
shouldHighlight
, );

158 
unm¬kAÎTextM©ches
();

160 #ià
PLATFORM
(
MAC
)

161 
addScheduËPaœ
(
PassRefPŒ
<
ScheduËPaœ
>);

162 
»moveScheduËPaœ
(
PassRefPŒ
<
ScheduËPaœ
>);

163 
ScheduËPaœHashS‘
* 
scheduËdRunLoİPaœs
(è{  
	gm_scheduËdRunLoİPaœs
.
g‘
(); }

165 
	gOwnPŒ
<
	gScheduËPaœHashS‘
> 
	gm_scheduËdRunLoİPaœs
;

168 cÚ¡ 
	gVisibËS–eùiÚ
& 
£ËùiÚ
() const;

170 
£tDeãrsLßdšg
(
boŞ
);

171 
boŞ
 
deãrsLßdšg
(ècÚ¡ {  
	gm_deãrsLßdšg
; }

173 
ş—rUndoRedoO³¿tiÚs
();

175 
boŞ
 
šLowQu®™yImageIÁ”pŞ©iÚMode
() const;

176 
£tInLowQu®™yImageIÁ”pŞ©iÚMode
(
boŞ
 = 
Œue
);

178 
boŞ
 
cook›EÇbËd
(ècÚ¡ {  
	gm_cook›EÇbËd
; }

179 
£tCook›EÇbËd
(
boŞ
 
’abËd
è{ 
	gm_cook›EÇbËd
 =ƒnabled; }

181 
medŸVŞume
(ècÚ¡ {  
	gm_medŸVŞume
; }

182 
£tMedŸVŞume
(
vŞume
);

185 
didMoveOnsü“n
();

186 
wlMoveOffsü“n
();

188 
u£rStyËSh“tLoÿtiÚChªged
();

189 cÚ¡ 
	gSŒšg
& 
u£rStyËSh“t
() const;

191 
´iv©eBrowsšgS‹Chªged
();

193 
didS¹Plugš
(
H®bËPlugš
*);

194 
didStİPlugš
(
H®bËPlugš
*);

195 
¶ugšAÎowedRunTimeChªged
();

197 
£tDebugg”FÜAÎPages
(
JSC
::
Debugg”
*);

198 
£tDebugg”
(
JSC
::
Debugg”
*);

199 
	gJSC
::
Debugg”
* 
debugg”
(ècÚ¡ {  
m_debugg”
; }

201 
»moveAÎVis™edLšks
();

203 
®lVis™edS‹Chªged
(
PageGroup
*);

204 
vis™edS‹Chªged
(
PageGroup
*, 
LškHash
 
vis™edHash
);

206 #ià
ENABLE
(
DOM_STORAGE
)

207 
StÜageName¥aû
* 
£ssiÚStÜage
(
boŞ
 
İtiÚ®C»©e
 = 
Œue
);

208 
£tSessiÚStÜage
(
PassRefPŒ
<
StÜageName¥aû
>);

211 #ià
ENABLE
(
WML
)

212 
WMLPageS‹
* 
wmlPageS‹
();

215 
£tCu¡omHTMLTok’iz”TimeD–ay
();

216 
boŞ
 
hasCu¡omHTMLTok’iz”TimeD–ay
(ècÚ¡ {  
	gm_cu¡omHTMLTok’iz”TimeD–ay
 != -1; }

217 
cu¡omHTMLTok’iz”TimeD–ay
(ècÚ¡ { 
ASSERT
(
m_cu¡omHTMLTok’iz”TimeD–ay
 !ğ-1);  
	gm_cu¡omHTMLTok’iz”TimeD–ay
; }

219 
£tCu¡omHTMLTok’iz”ChunkSize
();

220 
boŞ
 
hasCu¡omHTMLTok’iz”ChunkSize
(ècÚ¡ {  
	gm_cu¡omHTMLTok’iz”ChunkSize
 != -1; }

221 
cu¡omHTMLTok’iz”ChunkSize
(ècÚ¡ { 
ASSERT
(
m_cu¡omHTMLTok’iz”ChunkSize
 !ğ-1);  
	gm_cu¡omHTMLTok’iz”ChunkSize
; }

223 
£tMemÜyCacheCl›ÁC®lsEÇbËd
(
boŞ
);

224 
boŞ
 
¬eMemÜyCacheCl›ÁC®lsEÇbËd
(ècÚ¡ {  
	gm_¬eMemÜyCacheCl›ÁC®lsEÇbËd
; }

226 
£tJavaSütURLsA»AÎowed
(
boŞ
);

227 
boŞ
 
javaSütURLsA»AÎowed
() const;

229 #ià
ENABLE
(
INSPECTOR
)

230 
In¥eùÜTim–šeAg’t
* 
š¥eùÜTim–šeAg’t
() const;

232 
	g´iv©e
:

233 
š™Group
();

235 #ià
ASSERT_DISABLED


236 
checkF¿meCouÁCÚsi¡’cy
() const { }

238 
checkF¿meCouÁCÚsi¡’cy
() const;

241 
	gOwnPŒ
<
	gChrome
> 
	gm_chrome
;

242 
	gOwnPŒ
<
	gS–eùiÚCÚŒŞËr
> 
	gm_d¿gC¬‘CÚŒŞËr
;

243 #ià
ENABLE
(
DRAG_SUPPORT
)

244 
	gOwnPŒ
<
	gD¿gCÚŒŞËr
> 
	gm_d¿gCÚŒŞËr
;

246 
	gOwnPŒ
<
	gFocusCÚŒŞËr
> 
	gm_focusCÚŒŞËr
;

247 #ià
ENABLE
(
CONTEXT_MENUS
)

248 
	gOwnPŒ
<
	gCÚ‹xtM’uCÚŒŞËr
> 
	gm_cÚ‹xtM’uCÚŒŞËr
;

250 #ià
ENABLE
(
INSPECTOR
)

251 
	gOwnPŒ
<
	gIn¥eùÜCÚŒŞËr
> 
	gm_š¥eùÜCÚŒŞËr
;

253 #ià
ENABLE
(
CLIENT_BASED_GEOLOCATION
)

254 
	gOwnPŒ
<
	gGeŞoÿtiÚCÚŒŞËr
> 
	gm_geŞoÿtiÚCÚŒŞËr
;

256 
	gOwnPŒ
<
	gS‘tšgs
> 
	gm_£‰šgs
;

257 
	gOwnPŒ
<
	gProg»ssT¿ck”
> 
	gm_´og»ss
;

259 
	gRefPŒ
<
	gBackFÜw¬dLi¡
> 
	gm_backFÜw¬dLi¡
;

260 
	gRefPŒ
<
	gF¿me
> 
	gm_mašF¿me
;

262 
	gRefPŒ
<
	gHi¡ÜyI‹m
> 
	gm_glob®Hi¡ÜyI‹m
;

264 
mubË
 
	gRefPŒ
<
	gPlugšD©a
> 
	gm_¶ugšD©a
;

266 
	gRefPŒ
<
	gR’d”Theme
> 
	gm_theme
;

268 
Ed™ÜCl›Á
* 
	gm_ed™ÜCl›Á
;

270 
	gm_äameCouÁ
;

271 
SŒšg
 
	gm_groupName
;

272 
boŞ
 
	gm_İ’edByDOM
;

274 
boŞ
 
	gm_bKeyCyşesThroughEËm’ts
;

275 
boŞ
 
	gm_deãrsLßdšg
;

277 
boŞ
 
	gm_šLowQu®™yIÁ”pŞ©iÚMode
;

278 
boŞ
 
	gm_cook›EÇbËd
;

279 
boŞ
 
	gm_¬eMemÜyCacheCl›ÁC®lsEÇbËd
;

280 
	gm_medŸVŞume
;

282 
boŞ
 
	gm_javaSütURLsA»AÎowed
;

284 
SŒšg
 
	gm_u£rStyËSh“tP©h
;

285 
mubË
 
SŒšg
 
	gm_u£rStyËSh“t
;

286 
mubË
 
boŞ
 
	gm_didLßdU£rStyËSh“t
;

287 
mubË
 
time_t
 
	gm_u£rStyËSh“tModifiÿtiÚTime
;

289 
	gOwnPŒ
<
	gPageGroup
> 
	gm_sšgËPageGroup
;

290 
PageGroup
* 
	gm_group
;

292 
	gJSC
::
Debugg”
* 
m_debugg”
;

294 
	gm_cu¡omHTMLTok’iz”TimeD–ay
;

295 
	gm_cu¡omHTMLTok’iz”ChunkSize
;

297 
boŞ
 
	gm_ÿnS¹MedŸ
;

298 
	gHashS‘
<
	gMedŸCªS¹Li¡’”
*> 
	gm_medŸCªS¹Li¡’”s
;

300 
	gOwnPŒ
<
	gPlugšH®‹r
> 
	gm_¶ugšH®‹r
;

302 #ià
ENABLE
(
DOM_STORAGE
)

303 
	gRefPŒ
<
	gStÜageName¥aû
> 
	gm_£ssiÚStÜage
;

306 #ià
ENABLE
(
WML
)

307 
	gOwnPŒ
<
	gWMLPageS‹
> 
	gm_wmlPageS‹
;

310 #ià
ENABLE
(
NOTIFICATIONS
)

311 
NÙifiÿtiÚP»£Á”
* 
	gm_nÙifiÿtiÚP»£Á”
;

	@PageGroup.cpp

26 
	~"cÚfig.h
"

27 
	~"PageGroup.h
"

29 
	~"Chrome.h
"

30 
	~"ChromeCl›Á.h
"

31 
	~"Docum’t.h
"

32 
	~"F¿me.h
"

33 
	~"IndexedD©aba£.h
"

34 
	~"Page.h
"

35 
	~"S‘tšgs.h
"

36 
	~"StÜageName¥aû.h
"

38 #ià
PLATFORM
(
CHROMIUM
)

39 
	~"ChromiumBridge.h
"

42 
Çme¥aû
 
	gWebCÜe
 {

44 
g‘UniqueId’tif›r
()

46 
	gcu¼’tId’tif›r
 = 0;

47  ++
	gcu¼’tId’tif›r
;

52 
boŞ
 
	gshouldT¿ckVis™edLšks
 = 
çl£
;

54 
	gPageGroup
::
PageGroup
(cÚ¡ 
SŒšg
& 
Çme
)

55 : 
m_Çme
(
Çme
)

56 , 
m_vis™edLšksPİuÏ‹d
(
çl£
)

57 , 
m_id’tif›r
(
g‘UniqueId’tif›r
())

61 
	gPageGroup
::
PageGroup
(
Page
* 
·ge
)

62 : 
m_vis™edLšksPİuÏ‹d
(
çl£
)

63 , 
m_id’tif›r
(
g‘UniqueId’tif›r
())

65 
ASSERT
(
·ge
);

66 
addPage
(
·ge
);

69 
	gPageGroup
::~
PageGroup
()

71 
»moveAÎU£rCÚ‹Á
();

74 
	gHashM­
<
	tSŒšg
, 
	tPageGroup
*> 
	tPageGroupM­
;

75 
PageGroupM­
* 
	g·geGroups
 = 0;

77 
PageGroup
* 
	gPageGroup
::
·geGroup
(cÚ¡ 
SŒšg
& 
groupName
)

79 
ASSERT
(!
groupName
.
isEm±y
());

81 ià(!
	g·geGroups
)

82 
	g·geGroups
 = 
Ãw
 
PageGroupM­
;

84 
	g·œ
<
	gPageGroupM­
::
™”©Ü
, 
	gboŞ
> 
	g»suÉ
 = 
·geGroups
->
add
(
groupName
, 0);

86 ià(
	g»suÉ
.
	g£cÚd
) {

87 
ASSERT
(!
»suÉ
.
fœ¡
->
£cÚd
);

88 
	g»suÉ
.
	gfœ¡
->
	g£cÚd
 = 
Ãw
 
PageGroup
(
groupName
);

91 
ASSERT
(
»suÉ
.
fœ¡
->
£cÚd
);

92  
	g»suÉ
.
	gfœ¡
->
	g£cÚd
;

95 
	gPageGroup
::
şo£LoÿlStÜage
()

97 #ià
ENABLE
(
DOM_STORAGE
)

98 ià(!
·geGroups
)

101 
	gPageGroupM­
::
™”©Ü
 
’d
 = 
·geGroups
->end();

103 
	gPageGroupM­
::
™”©Ü
 
™
 = 
·geGroups
->
begš
(); 
	g™
 !ğ
’d
; ++it) {

104 ià(
	g™
->
	g£cÚd
->
hasLoÿlStÜage
())

105 
	g™
->
	g£cÚd
->
loÿlStÜage
()->
şo£
();

110 
	gPageGroup
::
addPage
(
Page
* 
·ge
)

112 
ASSERT
(
·ge
);

113 
ASSERT
(!
m_·ges
.
cÚšs
(
·ge
));

114 
	gm_·ges
.
add
(
·ge
);

117 
	gPageGroup
::
»movePage
(
Page
* 
·ge
)

119 
ASSERT
(
·ge
);

120 
ASSERT
(
m_·ges
.
cÚšs
(
·ge
));

121 
	gm_·ges
.
»move
(
·ge
);

124 
boŞ
 
	gPageGroup
::
isLškVis™ed
(
LškHash
 
vis™edLškHash
)

126 #ià
PLATFORM
(
CHROMIUM
)

128  
ChromiumBridge
::
isLškVis™ed
(
vis™edLškHash
);

130 ià(!
	gm_vis™edLšksPİuÏ‹d
) {

131 
	gm_vis™edLšksPİuÏ‹d
 = 
Œue
;

132 
ASSERT
(!
m_·ges
.
isEm±y
());

133 (*
	gm_·ges
.
begš
())->
chrome
()->
ş›Á
()->
pİuÏ‹Vis™edLšks
();

135  
	gm_vis™edLškHashes
.
cÚšs
(
vis™edLškHash
);

139 
šlše
 
	gPageGroup
::
addVis™edLšk
(
LškHash
 
hash
)

141 
ASSERT
(
shouldT¿ckVis™edLšks
);

142 #ià!
PLATFORM
(
CHROMIUM
)

143 ià(!
	gm_vis™edLškHashes
.
add
(
hash
).
	g£cÚd
)

146 
	gPage
::
vis™edS‹Chªged
(
this
, 
hash
);

149 
	gPageGroup
::
addVis™edLšk
(cÚ¡ 
KURL
& 
u¾
)

151 ià(!
shouldT¿ckVis™edLšks
)

153 
ASSERT
(!
u¾
.
isEm±y
());

154 
addVis™edLšk
(
vis™edLškHash
(
u¾
.
¡ršg
().
ch¬aù”s
(), u¾.¡ršg().
Ëngth
()));

157 
	gPageGroup
::
addVis™edLšk
(cÚ¡ 
UCh¬
* 
ch¬aù”s
, 
size_t
 
Ëngth
)

159 ià(!
	gshouldT¿ckVis™edLšks
)

161 
addVis™edLšk
(
vis™edLškHash
(
ch¬aù”s
, 
Ëngth
));

164 
	gPageGroup
::
»moveVis™edLšks
()

166 
m_vis™edLšksPİuÏ‹d
 = 
çl£
;

167 ià(
	gm_vis™edLškHashes
.
isEm±y
())

169 
	gm_vis™edLškHashes
.
ş—r
();

170 
	gPage
::
®lVis™edS‹Chªged
(
this
);

173 
	gPageGroup
::
»moveAÎVis™edLšks
()

175 
Page
::
»moveAÎVis™edLšks
();

178 
	gPageGroup
::
£tShouldT¿ckVis™edLšks
(
boŞ
 
shouldT¿ck
)

180 ià(
shouldT¿ckVis™edLšks
 =ğ
shouldT¿ck
)

182 
	gshouldT¿ckVis™edLšks
 = 
shouldT¿ck
;

183 ià(!
	gshouldT¿ckVis™edLšks
)

184 
»moveAÎVis™edLšks
();

187 #ià
ENABLE
(
DOM_STORAGE
)

188 
StÜageName¥aû
* 
	gPageGroup
::
loÿlStÜage
()

190 ià(!
m_loÿlStÜage
) {

195 
Page
* 
·ge
 = *
m_·ges
.
begš
();

196 cÚ¡ 
	gSŒšg
& 
	g·th
 = 
·ge
->
£‰šgs
()->
loÿlStÜageD©aba£P©h
();

197 
	gquÙa
 = 
·ge
->
£‰šgs
()->
loÿlStÜageQuÙa
();

198 
	gm_loÿlStÜage
 = 
StÜageName¥aû
::
loÿlStÜageName¥aû
(
·th
, 
quÙa
);

201  
	gm_loÿlStÜage
.
g‘
();

205 #ià
ENABLE
(
INDEXED_DATABASE
)

206 
IndexedD©aba£
* 
	gPageGroup
::
šdexedD©aba£
()

210 ià(!
m_šdexedD©aba£
)

211 
m_šdexedD©aba£
 = 
IndexedD©aba£
::
ü—‹
();

212  
	gm_šdexedD©aba£
.
g‘
();

216 
	gPageGroup
::
addU£rSütToWÜld
(
DOMW¿µ”WÜld
* 
wÜld
, cÚ¡ 
SŒšg
& 
sourû
, cÚ¡ 
KURL
& 
u¾
, 
PassOwnPŒ
<
VeùÜ
<SŒšg> > 
wh™–i¡
,

217 
PassOwnPŒ
<
VeùÜ
<
SŒšg
> > 
bÏckli¡
, 
U£rSütInjeùiÚTime
 
šjeùiÚTime
)

219 
ASSERT_ARG
(
wÜld
, world);

221 
	gOwnPŒ
<
	gU£rSüt
> 
u£rSüt
(
Ãw
 
U£rSüt
(
sourû
, 
u¾
, 
wh™–i¡
, 
bÏckli¡
, 
šjeùiÚTime
));

222 ià(!
	gm_u£rSüts
)

223 
	gm_u£rSüts
.
£t
(
Ãw
 
U£rSütM­
);

224 
	gU£rSütVeùÜ
*& 
	gsütsInWÜld
 = 
m_u£rSüts
->
add
(
wÜld
, 0).
	gfœ¡
->
	g£cÚd
;

225 ià(!
	gsütsInWÜld
)

226 
	gsütsInWÜld
 = 
Ãw
 
U£rSütVeùÜ
;

227 
	gsütsInWÜld
->
­³nd
(
u£rSüt
.
»Ëa£
());

230 
	gPageGroup
::
addU£rStyËSh“tToWÜld
(
DOMW¿µ”WÜld
* 
wÜld
, cÚ¡ 
SŒšg
& 
sourû
, cÚ¡ 
KURL
& 
u¾
, 
PassOwnPŒ
<
VeùÜ
<SŒšg> > 
wh™–i¡
,

231 
PassOwnPŒ
<
VeùÜ
<
SŒšg
> > 
bÏckli¡
)

233 
ASSERT_ARG
(
wÜld
, world);

235 
	gOwnPŒ
<
	gU£rStyËSh“t
> 
u£rStyËSh“t
(
Ãw
 
U£rStyËSh“t
(
sourû
, 
u¾
, 
wh™–i¡
, 
bÏckli¡
));

236 ià(!
	gm_u£rStyËSh“ts
)

237 
	gm_u£rStyËSh“ts
.
£t
(
Ãw
 
U£rStyËSh“tM­
);

238 
	gU£rStyËSh“tVeùÜ
*& 
	g¡yËSh“tsInWÜld
 = 
m_u£rStyËSh“ts
->
add
(
wÜld
, 0).
	gfœ¡
->
	g£cÚd
;

239 ià(!
	g¡yËSh“tsInWÜld
)

240 
	g¡yËSh“tsInWÜld
 = 
Ãw
 
U£rStyËSh“tVeùÜ
;

241 
	g¡yËSh“tsInWÜld
->
­³nd
(
u£rStyËSh“t
.
»Ëa£
());

244 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
’d
 = 
m_·ges
.end();

245 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
™
 = 
m_·ges
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

246 
F¿me
* 
	gäame
 = (*
™
)->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

247 
äame
->
docum’t
()->
ş—rPageGroupU£rSh“ts
();

251 
	gPageGroup
::
»moveU£rSütFromWÜld
(
DOMW¿µ”WÜld
* 
wÜld
, cÚ¡ 
KURL
& 
u¾
)

253 
ASSERT_ARG
(
wÜld
, world);

255 ià(!
	gm_u£rSüts
)

258 
	gU£rSütM­
::
™”©Ü
 
™
 = 
m_u£rSüts
->
fšd
(
wÜld
);

259 ià(
	g™
 =ğ
m_u£rSüts
->
’d
())

262 
U£rSütVeùÜ
* 
	gsüts
 = 
™
->
£cÚd
;

263 
	gi
 = 
süts
->
size
() - 1; i >= 0; --i) {

264 ià(
	gsüts
->
©
(
i
)->
u¾
() == url)

265 
süts
->
»move
(
i
);

268 ià(!
	gsüts
->
isEm±y
())

271 
d–‘e
 
	g™
->
	g£cÚd
;

272 
	gm_u£rSüts
->
»move
(
™
);

275 
	gPageGroup
::
»moveU£rStyËSh“tFromWÜld
(
DOMW¿µ”WÜld
* 
wÜld
, cÚ¡ 
KURL
& 
u¾
)

277 
ASSERT_ARG
(
wÜld
, world);

279 ià(!
	gm_u£rStyËSh“ts
)

282 
	gU£rStyËSh“tM­
::
™”©Ü
 
™
 = 
m_u£rStyËSh“ts
->
fšd
(
wÜld
);

283 
boŞ
 
	gsh“tsChªged
 = 
çl£
;

284 ià(
	g™
 =ğ
m_u£rStyËSh“ts
->
’d
())

287 
U£rStyËSh“tVeùÜ
* 
	g¡yËsh“ts
 = 
™
->
£cÚd
;

288 
	gi
 = 
¡yËsh“ts
->
size
() - 1; i >= 0; --i) {

289 ià(
	g¡yËsh“ts
->
©
(
i
)->
u¾
() == url) {

290 
¡yËsh“ts
->
»move
(
i
);

291 
	gsh“tsChªged
 = 
Œue
;

295 ià(!
	gsh“tsChªged
)

298 ià(!
	g¡yËsh“ts
->
isEm±y
()) {

299 
d–‘e
 
	g™
->
	g£cÚd
;

300 
	gm_u£rStyËSh“ts
->
»move
(
™
);

304 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
’d
 = 
m_·ges
.end();

305 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
™
 = 
m_·ges
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

306 
F¿me
* 
	gäame
 = (*
™
)->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

307 
äame
->
docum’t
()->
ş—rPageGroupU£rSh“ts
();

311 
	gPageGroup
::
»moveU£rSütsFromWÜld
(
DOMW¿µ”WÜld
* 
wÜld
)

313 
ASSERT_ARG
(
wÜld
, world);

315 ià(!
	gm_u£rSüts
)

318 
	gU£rSütM­
::
™”©Ü
 
™
 = 
m_u£rSüts
->
fšd
(
wÜld
);

319 ià(
	g™
 =ğ
m_u£rSüts
->
’d
())

322 
d–‘e
 
	g™
->
	g£cÚd
;

323 
	gm_u£rSüts
->
»move
(
™
);

326 
	gPageGroup
::
»moveU£rStyËSh“tsFromWÜld
(
DOMW¿µ”WÜld
* 
wÜld
)

328 
ASSERT_ARG
(
wÜld
, world);

330 ià(!
	gm_u£rStyËSh“ts
)

333 
	gU£rStyËSh“tM­
::
™”©Ü
 
™
 = 
m_u£rStyËSh“ts
->
fšd
(
wÜld
);

334 ià(
	g™
 =ğ
m_u£rStyËSh“ts
->
’d
())

337 
d–‘e
 
	g™
->
	g£cÚd
;

338 
	gm_u£rStyËSh“ts
->
»move
(
™
);

341 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
’d
 = 
m_·ges
.end();

342 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
™
 = 
m_·ges
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

343 
F¿me
* 
	gäame
 = (*
™
)->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

344 
äame
->
docum’t
()->
ş—rPageGroupU£rSh“ts
();

348 
	gPageGroup
::
»moveAÎU£rCÚ‹Á
()

350 ià(
m_u£rSüts
) {

351 
d–‘eAÎV®ues
(*
m_u£rSüts
);

352 
	gm_u£rSüts
.
ş—r
();

356 ià(
	gm_u£rStyËSh“ts
) {

357 
d–‘eAÎV®ues
(*
m_u£rStyËSh“ts
);

358 
	gm_u£rStyËSh“ts
.
ş—r
();

	@PageGroup.h

26 #iâdeà
PageGroup_h


27 
	#PageGroup_h


	)

29 
	~<wtf/HashS‘.h
>

30 
	~<wtf/NÚcİyabË.h
>

31 
	~"LškHash.h
"

32 
	~"SŒšgHash.h
"

33 
	~"U£rSüt.h
"

34 
	~"U£rStyËSh“t.h
"

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gKURL
;

39 
şass
 
	gIndexedD©aba£
;

40 
şass
 
	gPage
;

41 
şass
 
	gStÜageName¥aû
;

43 şas 
	cPageGroup
 : 
public
 
NÚcİyabË
 {

44 
public
:

45 
PageGroup
(cÚ¡ 
SŒšg
& 
Çme
);

46 
PageGroup
(
Page
*);

47 ~
PageGroup
();

49 
PageGroup
* 
·geGroup
(cÚ¡ 
SŒšg
& 
groupName
);

50 
şo£LoÿlStÜage
();

52 cÚ¡ 
	gHashS‘
<
	gPage
*>& 
·ges
(ècÚ¡ {  
	gm_·ges
; }

54 
addPage
(
Page
*);

55 
»movePage
(
Page
*);

57 
boŞ
 
isLškVis™ed
(
LškHash
);

59 
addVis™edLšk
(cÚ¡ 
KURL
&);

60 
addVis™edLšk
(cÚ¡ 
UCh¬
*, 
size_t
);

61 
»moveVis™edLšks
();

63 
£tShouldT¿ckVis™edLšks
(
boŞ
);

64 
»moveAÎVis™edLšks
();

66 cÚ¡ 
	gSŒšg
& 
Çme
(è{  
	gm_Çme
; }

67 
id’tif›r
(è{  
	gm_id’tif›r
; }

69 #ià
ENABLE
(
DOM_STORAGE
)

70 
StÜageName¥aû
* 
loÿlStÜage
();

71 
boŞ
 
hasLoÿlStÜage
(è{  
	gm_loÿlStÜage
; }

73 #ià
ENABLE
(
DOM_STORAGE
)

74 
IndexedD©aba£
* 
šdexedD©aba£
();

77 
addU£rSütToWÜld
(
DOMW¿µ”WÜld
*, cÚ¡ 
SŒšg
& 
sourû
, cÚ¡ 
KURL
&,

78 
PassOwnPŒ
<
VeùÜ
<
SŒšg
> > 
wh™–i¡
, PassOwnPŒ<VeùÜ<SŒšg> > 
bÏckli¡
,

79 
U£rSütInjeùiÚTime
);

80 
addU£rStyËSh“tToWÜld
(
DOMW¿µ”WÜld
*, cÚ¡ 
SŒšg
& 
sourû
, cÚ¡ 
KURL
&,

81 
PassOwnPŒ
<
VeùÜ
<
SŒšg
> > 
wh™–i¡
, PassOwnPŒ<VeùÜ<SŒšg> > 
bÏckli¡
);

83 
»moveU£rSütFromWÜld
(
DOMW¿µ”WÜld
*, cÚ¡ 
KURL
&);

84 
»moveU£rStyËSh“tFromWÜld
(
DOMW¿µ”WÜld
*, cÚ¡ 
KURL
&);

86 
»moveU£rSütsFromWÜld
(
DOMW¿µ”WÜld
*);

87 
»moveU£rStyËSh“tsFromWÜld
(
DOMW¿µ”WÜld
*);

89 
»moveAÎU£rCÚ‹Á
();

91 cÚ¡ 
U£rSütM­
* 
u£rSüts
(ècÚ¡ {  
	gm_u£rSüts
.
g‘
(); }

92 cÚ¡ 
U£rStyËSh“tM­
* 
u£rStyËSh“ts
(ècÚ¡ {  
	gm_u£rStyËSh“ts
.
g‘
(); }

94 
	g´iv©e
:

95 
addVis™edLšk
(
LškHash
 
¡ršgHash
);

97 
SŒšg
 
	gm_Çme
;

99 
	gHashS‘
<
	gPage
*> 
	gm_·ges
;

101 
	gHashS‘
<
	gLškHash
, 
	gLškHashHash
> 
	gm_vis™edLškHashes
;

102 
boŞ
 
	gm_vis™edLšksPİuÏ‹d
;

104 
	gm_id’tif›r
;

105 #ià
ENABLE
(
DOM_STORAGE
)

106 
	gRefPŒ
<
	gStÜageName¥aû
> 
	gm_loÿlStÜage
;

108 #ià
ENABLE
(
INDEXED_DATABASE
)

109 
	gRefPŒ
<
	gIndexedD©aba£
> 
	gm_šdexedD©aba£
;

112 
	gOwnPŒ
<
	gU£rSütM­
> 
	gm_u£rSüts
;

113 
	gOwnPŒ
<
	gU£rStyËSh“tM­
> 
	gm_u£rStyËSh“ts
;

	@PageGroupLoadDeferrer.cpp

21 
	~"cÚfig.h
"

22 
	~"PageGroupLßdDeã¼”.h
"

24 
	~"F¿me.h
"

25 
	~"Page.h
"

26 
	~"PageGroup.h
"

27 
	~<wtf/HashS‘.h
>

29 
Çme¥aû
 
	gWebCÜe
 {

31 
usšg
 
Çme¥aû
 
	g¡d
;

33 
	gPageGroupLßdDeã¼”
::
PageGroupLßdDeã¼”
(
Page
* 
·ge
, 
boŞ
 
deãrS–f
)

35 cÚ¡ 
	gHashS‘
<
	gPage
*>& 
	g·ges
 = 
·ge
->
group
().
·ges
();

37 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
’d
 = 
·ges
.end();

38 
	gHashS‘
<
	gPage
*>::
cÚ¡_™”©Ü
 
™
 = 
·ges
.
begš
(); 
	g™
 !ğ
’d
; ++it) {

39 
Page
* 
	gÙh”Page
 = *
™
;

40 ià((
	gdeãrS–f
 || 
	gÙh”Page
 !ğ
·ge
)) {

41 ià(!
Ùh”Page
->
deãrsLßdšg
())

42 
m_deã¼edF¿mes
.
­³nd
(
Ùh”Page
->
mašF¿me
());

46 
F¿me
* 
	gäame
 = 
Ùh”Page
->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

47 
äame
->
docum’t
()->
su¥’dAùiveDOMObjeùs
();

51 
size_t
 
	gcouÁ
 = 
m_deã¼edF¿mes
.
size
();

52 
size_t
 
	gi
 = 0; i < 
	gcouÁ
; ++i)

53 ià(
Page
* 
	g·ge
 = 
m_deã¼edF¿mes
[
i
]->
·ge
())

54 
·ge
->
£tDeãrsLßdšg
(
Œue
);

57 
	gPageGroupLßdDeã¼”
::~
PageGroupLßdDeã¼”
()

59 
size_t
 
i
 = 0; 
	gi
 < 
	gm_deã¼edF¿mes
.
size
(); ++i) {

60 ià(
Page
* 
	g·ge
 = 
m_deã¼edF¿mes
[
i
]->
·ge
()) {

61 
·ge
->
£tDeãrsLßdšg
(
çl£
);

63 
F¿me
* 
	gäame
 = 
·ge
->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

64 
äame
->
docum’t
()->
»sumeAùiveDOMObjeùs
();

	@PageGroupLoadDeferrer.h

20 #iâdeà
PageGroupLßdDeã¼”_h


21 
	#PageGroupLßdDeã¼”_h


	)

23 
	~<wtf/RefPŒ.h
>

24 
	~<wtf/VeùÜ.h
>

26 
Çme¥aû
 
	gWebCÜe
 {

28 
şass
 
	gF¿me
;

29 
şass
 
	gPage
;

31 şas 
	cPageGroupLßdDeã¼”
 : 
public
 
NÚcİyabË
 {

32 
public
:

33 
PageGroupLßdDeã¼”
(
Page
*, 
boŞ
 
deãrS–f
);

34 ~
PageGroupLßdDeã¼”
();

36 
	g´iv©e
:

37 
VeùÜ
<
RefPŒ
<
F¿me
>, 16> 
	gm_deã¼edF¿mes
;

	@PluginHalter.cpp

26 
	~"cÚfig.h
"

28 
	~"PlugšH®‹r.h
"

30 
	~"H®bËPlugš.h
"

31 
	~"PÏtfÜmSŒšg.h
"

32 
	~<wtf/Cu¼’tTime.h
>

33 
	~<wtf/VeùÜ.h
>

35 
usšg
 
Çme¥aû
 
	g¡d
;

37 
Çme¥aû
 
	gWebCÜe
 {

39 
	gPlugšH®‹r
::
PlugšH®‹r
(
PlugšH®‹rCl›Á
* 
ş›Á
)

40 : 
m_ş›Á
(
ş›Á
)

41 , 
m_tim”
(
this
, &
PlugšH®‹r
::
tim”Fœed
)

42 , 
m_¶ugšAÎowedRunTime
(
num”ic_lim™s
<>::
max
())

44 
ASSERT_ARG
(
ş›Á
, client);

47 
	gPlugšH®‹r
::
didS¹Plugš
(
H®bËPlugš
* 
obj
)

49 
ASSERT_ARG
(
obj
, obj);

50 
ASSERT_ARG
(
obj
, !
m_¶ugšs
.
cÚšs
(obj));

52 ià(!
	gm_ş›Á
->
’abËd
())

55 
	gcu¼’tTime
 = 
WTF
::
cu¼’tTime
();

57 
	gm_¶ugšs
.
add
(
obj
, 
cu¼’tTime
);

59 ià(
	gm_¶ugšs
.
size
() == 1)

60 
m_Şde¡S¹Time
 = 
cu¼’tTime
;

62 
¡¬tTim”IfNeûs§ry
();

65 
	gPlugšH®‹r
::
didStİPlugš
(
H®bËPlugš
* 
obj
)

67 ià(!
m_ş›Á
->
’abËd
())

70 
	gm_¶ugšs
.
»move
(
obj
);

73 
	gPlugšH®‹r
::
tim”Fœed
(
Tim”
<
PlugšH®‹r
>*)

75 ià(
m_¶ugšs
.
isEm±y
())

78 
	gVeùÜ
<
	gH®bËPlugš
*> 
	g¶ugšs
;

79 
cİyKeysToVeùÜ
(
m_¶ugšs
, 
¶ugšs
);

82 
	g¶ugšCutOffTime
 = 
WTF
::
cu¼’tTime
(è- 
m_¶ugšAÎowedRunTime
;

84 
	gm_Şde¡S¹Time
 = 
num”ic_lim™s
<>::
max
();

86 
size_t
 
	gi
 = 0; i < 
	g¶ugšs
.
size
(); ++i) {

87 
	gthisS¹Time
 = 
m_¶ugšs
.
g‘
(
¶ugšs
[
i
]);

88 ià(
	gthisS¹Time
 > 
	g¶ugšCutOffTime
) {

92 ià(
	gthisS¹Time
 < 
	gm_Şde¡S¹Time
)

93 
	gm_Şde¡S¹Time
 = 
thisS¹Time
;

97 ià(
	gm_ş›Á
->
shouldH®tPlugš
(
¶ugšs
[
i
]->
node
(),…lugšs[i]->
isWšdowed
(),…lugšs[i]->
¶ugšName
()))

98 
	g¶ugšs
[
i
]->
h®t
();

100 
	gm_¶ugšs
.
»move
(
¶ugšs
[
i
]);

103 
¡¬tTim”IfNeûs§ry
();

106 
	gPlugšH®‹r
::
¡¬tTim”IfNeûs§ry
()

108 ià(
m_tim”
.
isAùive
())

111 ià(
	gm_¶ugšs
.
isEm±y
())

114 
	gÃxtFœeIÁ”v®
 = 
¡©ic_ÿ¡
<>(
m_¶ugšAÎowedRunTime
è- (
cu¼’tTime
(è- 
m_Şde¡S¹Time
);

115 
	gm_tim”
.
¡¬tOÃShÙ
(
ÃxtFœeIÁ”v®
 < 0 ? 0 :‚extFireInterval);

	@PluginHalter.h

26 #iâdeà
PlugšH®‹r_h


27 
	#PlugšH®‹r_h


	)

29 
	~"PlugšH®‹rCl›Á.h
"

30 
	~"Tim”.h
"

31 
	~<wtf/HashM­.h
>

32 
	~<wtf/OwnPŒ.h
>

34 
Çme¥aû
 
	gWebCÜe
 {

36 
şass
 
	gH®bËPlugš
;

38 şas 
	cPlugšH®‹r
 : 
public
 
NÚcİyabË
 {

39 
public
:

40 
PlugšH®‹r
(
PlugšH®‹rCl›Á
*);

42 
didS¹Plugš
(
H®bËPlugš
*);

43 
didStİPlugš
(
H®bËPlugš
*);

45 
£tPlugšAÎowedRunTime
(
runTime
è{ 
	gm_¶ugšAÎowedRunTime
 =„unTime; }

47 
	g´iv©e
:

48 
tim”Fœed
(
Tim”
<
PlugšH®‹r
>*);

49 
¡¬tTim”IfNeûs§ry
();

51 
	gOwnPŒ
<
	gPlugšH®‹rCl›Á
> 
	gm_ş›Á
;

52 
	gTim”
<
	gPlugšH®‹r
> 
	gm_tim”
;

53 
	gm_¶ugšAÎowedRunTime
;

54 
	gm_Şde¡S¹Time
;

55 
	gHashM­
<
	gH®bËPlugš
*, > 
	gm_¶ugšs
;

	@PluginHalterClient.h

26 #iâdeà
PlugšH®‹rCl›Á_h


27 
	#PlugšH®‹rCl›Á_h


	)

29 
Çme¥aû
 
	gWebCÜe
 {

31 
şass
 
	gNode
;

32 
şass
 
	gSŒšg
;

34 şas 
	cPlugšH®‹rCl›Á
 {

35 
	gpublic
:

36 
vœtu®
 ~
PlugšH®‹rCl›Á
() { }

38 
vœtu®
 
boŞ
 
shouldH®tPlugš
(
Node
*, boŞ 
isWšdowed
, cÚ¡ 
SŒšg
& 
¶ugšName
) const = 0;

39 
vœtu®
 
boŞ
 
’abËd
() const = 0;

	@PositionCallback.h

26 #iâdeà
Pos™iÚC®lback_h


27 
	#Pos™iÚC®lback_h


	)

29 
	~<wtf/RefCouÁed.h
>

31 
Çme¥aû
 
	gWebCÜe
 {

33 
şass
 
	gGeİos™iÚ
;

35 
şass
 
	gPos™iÚC®lback
 : 
public
 
RefCouÁed
<
Pos™iÚC®lback
> {

36 
public
:

37 
vœtu®
 ~
Pos™iÚC®lback
() { }

38 
vœtu®
 
hªdËEv’t
(
Geİos™iÚ
*) = 0;

	@PositionError.h

26 #iâdeà
Pos™iÚE¼Ü_h


27 
	#Pos™iÚE¼Ü_h


	)

29 
	~"PÏtfÜmSŒšg.h
"

30 
	~<wtf/PassRefPŒ.h
>

31 
	~<wtf/RefCouÁed.h
>

33 
Çme¥aû
 
	gWebCÜe
 {

35 
şass
 
	gPos™iÚE¼Ü
 : 
public
 
RefCouÁed
<
Pos™iÚE¼Ü
> {

36 
public
:

37 
	eE¼ÜCode
 {

38 
PERMISSION_DENIED
 = 1,

39 
	gPOSITION_UNAVAILABLE
 = 2,

40 
	gTIMEOUT
 = 3

43 
	gPassRefPŒ
<
	gPos™iÚE¼Ü
> 
ü—‹
(
E¼ÜCode
 
code
, cÚ¡ 
SŒšg
& 
mes§ge
è{  
adİtRef
(
Ãw
 
Pos™iÚE¼Ü
(code, message)); }

45 
E¼ÜCode
 
code
(ècÚ¡ {  
	gm_code
; }

46 cÚ¡ 
	gSŒšg
& 
mes§ge
(ècÚ¡ {  
	gm_mes§ge
; }

47 
£tIsF©®
(
boŞ
 
isF©®
è{ 
	gm_isF©®
 = isFatal; }

48 
boŞ
 
isF©®
(ècÚ¡ {  
	gm_isF©®
; }

50 
	g´iv©e
:

51 
Pos™iÚE¼Ü
(
E¼ÜCode
 
code
, cÚ¡ 
SŒšg
& 
mes§ge
)

52 : 
m_code
(
code
)

53 , 
m_mes§ge
(
mes§ge
)

54 , 
m_isF©®
(
çl£
)

58 
E¼ÜCode
 
	gm_code
;

59 
SŒšg
 
	gm_mes§ge
;

62 
boŞ
 
	gm_isF©®
;

	@PositionErrorCallback.h

26 #iâdeà
Pos™iÚE¼ÜC®lback_h


27 
	#Pos™iÚE¼ÜC®lback_h


	)

29 
	~<wtf/RefCouÁed.h
>

31 
Çme¥aû
 
	gWebCÜe
 {

33 
şass
 
	gPos™iÚE¼Ü
;

35 
şass
 
	gPos™iÚE¼ÜC®lback
 : 
public
 
RefCouÁed
<
Pos™iÚE¼ÜC®lback
> {

36 
public
:

37 
vœtu®
 ~
Pos™iÚE¼ÜC®lback
() { }

38 
vœtu®
 
hªdËEv’t
(
Pos™iÚE¼Ü
*) = 0;

	@PositionOptions.h

26 #iâdeà
Pos™iÚO±iÚs_h


27 
	#Pos™iÚO±iÚs_h


	)

29 
	~<wtf/PassRefPŒ.h
>

30 
	~<wtf/RefCouÁed.h
>

32 
Çme¥aû
 
	gWebCÜe
 {

34 
şass
 
	gPos™iÚO±iÚs
 : 
public
 
RefCouÁed
<
Pos™iÚO±iÚs
> {

35 
public
:

36 
PassRefPŒ
<
Pos™iÚO±iÚs
> 
ü—‹
(è{  
adİtRef
(
Ãw
 PositionOptions()); }

38 
boŞ
 
’abËHighAccu¿cy
(ècÚ¡ {  
	gm_highAccu¿cy
; }

39 
£tEÇbËHighAccu¿cy
(
boŞ
 
’abË
è{ 
	gm_highAccu¿cy
 =ƒnable; }

40 
boŞ
 
hasTimeout
(ècÚ¡ {  
	gm_hasTimeout
; }

41 
timeout
() const

43 
ASSERT
(
hasTimeout
());

44  
	gm_timeout
;

46 
£tTimeout
(
timeout
)

48 
ASSERT
(
timeout
 >= 0);

49 
	gm_hasTimeout
 = 
Œue
;

50 
	gm_timeout
 = 
timeout
;

52 
boŞ
 
hasMaximumAge
(ècÚ¡ {  
	gm_hasMaximumAge
; }

53 
maximumAge
() const

55 
ASSERT
(
hasMaximumAge
());

56  
	gm_maximumAge
;

58 
ş—rMaximumAge
(è{ 
	gm_hasMaximumAge
 = 
çl£
; }

59 
£tMaximumAge
(
age
)

61 
ASSERT
(
age
 >= 0);

62 
	gm_hasMaximumAge
 = 
Œue
;

63 
	gm_maximumAge
 = 
age
;

66 
	g´iv©e
:

67 
Pos™iÚO±iÚs
()

68 : 
m_highAccu¿cy
(
çl£
)

69 , 
m_hasTimeout
(
çl£
)

71 
£tMaximumAge
(0);

74 
boŞ
 
	gm_highAccu¿cy
;

75 
boŞ
 
	gm_hasTimeout
;

76 
	gm_timeout
;

77 
boŞ
 
	gm_hasMaximumAge
;

78 
	gm_maximumAge
;

	@PrintContext.cpp

21 
	~"cÚfig.h
"

22 
	~"PrštCÚ‹xt.h
"

24 
	~"G¿phicsCÚ‹xt.h
"

25 
	~"F¿me.h
"

26 
	~"F¿meV›w.h
"

27 
	~"R’d”V›w.h
"

29 
usšg
 
Çme¥aû
 
	gWebCÜe
;

31 
Çme¥aû
 
	gWebCÜe
 {

33 
	gPrštCÚ‹xt
::
PrštCÚ‹xt
(
F¿me
* 
äame
)

34 : 
m_äame
(
äame
)

35 , 
m_isPrštšg
(
çl£
)

39 
	gPrštCÚ‹xt
::~
PrštCÚ‹xt
()

41 
ASSERT
(!
m_isPrštšg
);

42 
	gm_·geReùs
.
ş—r
();

45 
	gPrštCÚ‹xt
::
·geCouÁ
() const

47  
m_·geReùs
.
size
();

50 cÚ¡ 
	gIÁReù
& 
	gPrštCÚ‹xt
::
·geReù
(
·geNumb”
) const

52  
m_·geReùs
[
·geNumb”
];

55 
	gPrštCÚ‹xt
::
compu‹PageReùs
(cÚ¡ 
FlßtReù
& 
´štReù
, 
h—d”Height
, 
foÙ”Height
, 
u£rSÿËFaùÜ
, & 
outPageHeight
)

57 
	gm_·geReùs
.
ş—r
();

58 
	goutPageHeight
 = 0;

60 ià(!
	gm_äame
->
docum’t
(è|| !m_äame->
v›w
(è|| !m_äame->docum’t()->
»nd””
())

63 ià(
	gu£rSÿËFaùÜ
 <= 0) {

64 
LOG_ERROR
("u£rSÿËFaùÜ ha bad v®u%.2f", 
u£rSÿËFaùÜ
);

68 
R’d”V›w
* 
	groÙ
 = 
toR’d”V›w
(
m_äame
->
docum’t
()->
»nd””
());

70 
	g¿tio
 = 
´štReù
.
height
(è/…rštReù.
width
();

72 
	g·geWidth
 = ()
roÙ
->
rightLayoutOv”æow
();

73 
	g·geHeight
 = 
·geWidth
 * 
¿tio
;

74 
	goutPageHeight
 = 
·geHeight
;

75 
	g·geHeight
 -ğ
h—d”Height
 + 
foÙ”Height
;

77 ià(
	g·geHeight
 <= 0) {

78 
LOG_ERROR
("·geHeighˆha bad v®u%.2f", 
·geHeight
);

82 
compu‹PageReùsW™hPageSizeIÁ”Çl
(
FlßtSize
(
·geWidth
 / 
u£rSÿËFaùÜ
, 
·geHeight
 / u£rSÿËFaùÜ), 
çl£
);

85 
	gPrštCÚ‹xt
::
compu‹PageReùsW™hPageSize
(cÚ¡ 
FlßtSize
& 
·geSizeInPix–s
, 
boŞ
 
®lowHÜizÚlMuÉiPages
)

87 
	gm_·geReùs
.
ş—r
();

88 
compu‹PageReùsW™hPageSizeIÁ”Çl
(
·geSizeInPix–s
, 
®lowHÜizÚlMuÉiPages
);

91 
	gPrštCÚ‹xt
::
compu‹PageReùsW™hPageSizeIÁ”Çl
(cÚ¡ 
FlßtSize
& 
·geSizeInPix–s
, 
boŞ
 
®lowHÜizÚlMuÉiPages
)

93 ià(!
	gm_äame
->
docum’t
(è|| !m_äame->
v›w
(è|| !m_äame->docum’t()->
»nd””
())

95 
R’d”V›w
* 
	groÙ
 = 
toR’d”V›w
(
m_äame
->
docum’t
()->
»nd””
());

97 cÚ¡ 
	g·geWidth
 = 
·geSizeInPix–s
.
width
();

98 cÚ¡ 
	gdocWidth
 = 
roÙ
->
Ïy”
()->
width
();

99 cÚ¡ 
	gdocHeight
 = 
roÙ
->
Ïy”
()->
height
();

100 
	gcu¼PageHeight
 = 
·geSizeInPix–s
.
height
();

103 
	g´š‹dPagesHeight
 = 0;

105 
	g´İo£dBÙtom
 = 
¡d
::
mš
(
docHeight
, 
´š‹dPagesHeight
 + 
·geSizeInPix–s
.
height
());

106 
	gm_äame
->
v›w
()->
adju¡PageHeight
(&
´İo£dBÙtom
, 
´š‹dPagesHeight
,…roposedBottom,…rintedPagesHeight);

107 
	gcu¼PageHeight
 = 
max
(1.0f, 
´İo£dBÙtom
 - 
´š‹dPagesHeight
);

108 ià(
	g®lowHÜizÚlMuÉiPages
) {

109 
	gcurWidth
 = 0; curWidth < 
	gdocWidth
; curWidth +ğ
·geWidth
)

110 
m_·geReùs
.
­³nd
(
IÁReù
(
curWidth
, ()
´š‹dPagesHeight
, ()
·geWidth
, ()
cu¼PageHeight
));

112 
	gm_·geReùs
.
­³nd
(
IÁReù
(0, ()
´š‹dPagesHeight
, ()
·geWidth
, ()
cu¼PageHeight
));

113 
	g´š‹dPagesHeight
 +ğ
cu¼PageHeight
;

114 } 
	g´š‹dPagesHeight
 < 
	gdocHeight
);

117 
	gPrštCÚ‹xt
::
begš
(
width
)

119 
ASSERT
(!
m_isPrštšg
);

120 
	gm_isPrštšg
 = 
Œue
;

127 cÚ¡ 
	gPrštšgMšimumShrškFaùÜ
 = 1.25f;

133 cÚ¡ 
	gPrštšgMaximumShrškFaùÜ
 = 2.0f;

135 
	gmšLayoutWidth
 = 
width
 * 
PrštšgMšimumShrškFaùÜ
;

136 
	gmaxLayoutWidth
 = 
width
 * 
PrštšgMaximumShrškFaùÜ
;

140 
	gm_äame
->
£tPrštšg
(
Œue
, 
mšLayoutWidth
, 
maxLayoutWidth
,rue);

143 
	gPrštCÚ‹xt
::
¥oŞPage
(
G¿phicsCÚ‹xt
& 
ùx
, 
·geNumb”
, 
width
)

145 
IÁReù
 
	g·geReù
 = 
m_·geReùs
[
·geNumb”
];

146 
	gsÿË
 = 
width
 / 
·geReù
.width();

148 
	gùx
.
§ve
();

149 
	gùx
.
sÿË
(
FlßtSize
(scale, scale));

150 
	gùx
.
Œª¦©e
(-
·geReù
.
x
(), -·geReù.
y
());

151 
	gùx
.
ş
(
·geReù
);

152 
	gm_äame
->
v›w
()->
·štCÚ‹Ás
(&
ùx
, 
·geReù
);

153 
	gùx
.
»¡Üe
();

156 
	gPrštCÚ‹xt
::
’d
()

158 
ASSERT
(
m_isPrštšg
);

159 
	gm_isPrštšg
 = 
çl£
;

160 
	gm_äame
->
£tPrštšg
(
çl£
, 0, 0, 
Œue
);

163 
R’d”BoxMod–Objeù
* 
’şosšgBoxMod–Objeù
(
R’d”Objeù
* 
objeù
)

166 
	gobjeù
 && !objeù->
isBoxMod–Objeù
())

167 
	gobjeù
 = 
objeù
->
·»Á
();

168 ià(!
	gobjeù
)

170  
toR’d”BoxMod–Objeù
(
objeù
);

173 
	gPrštCÚ‹xt
::
·geNumb”FÜEËm’t
(
EËm’t
* 
–em’t
, cÚ¡ 
FlßtSize
& 
·geSizeInPix–s
)

176 
	gRefPŒ
<
	gEËm’t
> 
–em’tRef
(
–em’t
);

177 
	g–em’t
->
docum’t
()->
upd©eLayout
();

179 
R’d”BoxMod–Objeù
* 
	gbox
 = 
’şosšgBoxMod–Objeù
(
–em’t
->
»nd””
());

180 ià(!
	gbox
)

183 
F¿me
* 
	gäame
 = 
–em’t
->
docum’t
()->
äame
();

184 
FlßtReù
 
·geReù
(
FlßtPošt
(0, 0), 
·geSizeInPix–s
);

185 
PrštCÚ‹xt
 
´štCÚ‹xt
(
äame
);

186 
	g´štCÚ‹xt
.
begš
(
·geReù
.
width
());

187 
	g´štCÚ‹xt
.
compu‹PageReùsW™hPageSize
(
·geSizeInPix–s
, 
çl£
);

189 
	gtİ
 = 
box
->
off£tTİ
();

190 
	gËá
 = 
box
->
off£tLeá
();

191 
	g·geNumb”
 = 0;

192 ; 
	g·geNumb”
 < 
	g´štCÚ‹xt
.
·geCouÁ
();…ageNumber++) {

193 cÚ¡ 
	gIÁReù
& 
	g·ge
 = 
´štCÚ‹xt
.
·geReù
(
·geNumb”
);

194 ià(
	g·ge
.
x
(è<ğ
Ëá
 &&†eá < 
·ge
.
right
(è&&…age.
y
(è<ğ
tİ
 &&İ <…age.
bÙtom
())

197 
	g´štCÚ‹xt
.
’d
();

198  (
	g·geNumb”
 < 
	g´štCÚ‹xt
.
·geCouÁ
() ?…ageNumber : -1);

201 
	gPrštCÚ‹xt
::
numb”OfPages
(
F¿me
* 
äame
, cÚ¡ 
FlßtSize
& 
·geSizeInPix–s
)

203 
	gäame
->
docum’t
()->
upd©eLayout
();

205 
FlßtReù
 
·geReù
(
FlßtPošt
(0, 0), 
·geSizeInPix–s
);

206 
PrštCÚ‹xt
 
´štCÚ‹xt
(
äame
);

207 
	g´štCÚ‹xt
.
begš
(
·geReù
.
width
());

208 
	g´štCÚ‹xt
.
compu‹PageReùsW™hPageSize
(
·geSizeInPix–s
, 
çl£
);

209 
	g´štCÚ‹xt
.
’d
();

210  
	g´štCÚ‹xt
.
·geCouÁ
();

	@PrintContext.h

21 #iâdeà
PrštCÚ‹xt_h


22 
	#PrštCÚ‹xt_h


	)

24 
	~<wtf/VeùÜ.h
>

26 
Çme¥aû
 
	gWebCÜe
 {

28 
şass
 
	gEËm’t
;

29 
şass
 
	gF¿me
;

30 
şass
 
	gFlßtReù
;

31 
şass
 
	gFlßtSize
;

32 
şass
 
	gG¿phicsCÚ‹xt
;

33 
şass
 
	gIÁReù
;

35 şas 
	cPrštCÚ‹xt
 {

36 
	gpublic
:

37 
PrštCÚ‹xt
(
F¿me
*);

38 ~
PrštCÚ‹xt
();

40 
·geCouÁ
() const;

41 cÚ¡ 
	gIÁReù
& 
·geReù
(
·geNumb”
) const;

42 cÚ¡ 
	gVeùÜ
<
	gIÁReù
>& 
·geReùs
(ècÚ¡ {  
	gm_·geReùs
; }

44 
compu‹PageReùs
(cÚ¡ 
FlßtReù
& 
´štReù
, 
h—d”Height
, 
foÙ”Height
, 
u£rSÿËFaùÜ
, & 
outPageHeight
);

45 
compu‹PageReùsW™hPageSize
(cÚ¡ 
FlßtSize
& 
·geSizeInPix–s
, 
boŞ
 
®lowHÜizÚlMuÉiPages
);

48 
begš
(
width
);

51 
¥oŞPage
(
G¿phicsCÚ‹xt
& 
ùx
, 
·geNumb”
, 
width
);

53 
’d
();

56 
·geNumb”FÜEËm’t
(
EËm’t
*, cÚ¡ 
FlßtSize
& 
·geSizeInPix–s
);

57 
numb”OfPages
(
F¿me
*, cÚ¡ 
FlßtSize
& 
·geSizeInPix–s
);

59 
	g´Ùeùed
:

60 
F¿me
* 
m_äame
;

61 
	gVeùÜ
<
	gIÁReù
> 
	gm_·geReùs
;

63 
	g´iv©e
:

64 
compu‹PageReùsW™hPageSizeIÁ”Çl
(cÚ¡ 
FlßtSize
& 
·geSizeInPix–s
, 
boŞ
 
®lowHÜizÚlMuÉiPages
);

67 
boŞ
 
	gm_isPrštšg
;

	@Screen.cpp

30 
	~"cÚfig.h
"

31 
	~"Sü“n.h
"

33 
	~"FlßtReù.h
"

34 
	~"F¿me.h
"

35 
	~"F¿meV›w.h
"

36 
	~"PÏtfÜmSü“n.h
"

37 
	~"Widg‘.h
"

39 
Çme¥aû
 
	gWebCÜe
 {

41 
	gSü“n
::
Sü“n
(
F¿me
* 
äame
)

42 : 
m_äame
(
äame
)

46 
F¿me
* 
Sü“n
::
äame
() const

48  
m_äame
;

51 
	gSü“n
::
discÚÃùF¿me
()

53 
m_äame
 = 0;

56 
	gSü“n
::
height
() const

58 ià(!
m_äame
)

60  
	g¡©ic_ÿ¡
<>(
sü“nReù
(
m_äame
->
v›w
()).
height
());

63 
	gSü“n
::
width
() const

65 ià(!
m_äame
)

67  
	g¡©ic_ÿ¡
<>(
sü“nReù
(
m_äame
->
v›w
()).
width
());

70 
	gSü“n
::
cŞÜD•th
() const

72 ià(!
m_äame
)

74  
	g¡©ic_ÿ¡
<>(
sü“nD•th
(
m_äame
->
v›w
()));

77 
	gSü“n
::
pix–D•th
() const

79 ià(!
m_äame
)

81  
	g¡©ic_ÿ¡
<>(
sü“nD•th
(
m_äame
->
v›w
()));

84 
	gSü“n
::
avaLeá
() const

86 ià(!
m_äame
)

88  
	g¡©ic_ÿ¡
<>(
sü“nAvaabËReù
(
m_äame
->
v›w
()).
x
());

91 
	gSü“n
::
avaTİ
() const

93 ià(!
m_äame
)

95  
	g¡©ic_ÿ¡
<>(
sü“nAvaabËReù
(
m_äame
->
v›w
()).
y
());

98 
	gSü“n
::
avaHeight
() const

100 ià(!
m_äame
)

102  
	g¡©ic_ÿ¡
<>(
sü“nAvaabËReù
(
m_äame
->
v›w
()).
height
());

105 
	gSü“n
::
avaWidth
() const

107 ià(!
m_äame
)

109  
	g¡©ic_ÿ¡
<>(
sü“nAvaabËReù
(
m_äame
->
v›w
()).
width
());

	@Screen.h

30 #iâdeà
Sü“n_h


31 
	#Sü“n_h


	)

33 
	~<wtf/PassRefPŒ.h
>

34 
	~<wtf/RefCouÁed.h
>

36 
Çme¥aû
 
	gWebCÜe
 {

38 
şass
 
	gF¿me
;

40 
şass
 
	gSü“n
 : 
public
 
RefCouÁed
<
Sü“n
> {

41 
public
:

42 
PassRefPŒ
<
Sü“n
> 
ü—‹
(
F¿me
 *
äame
è{  
adİtRef
(
Ãw
 Screen(frame)); }

44 
F¿me
* 
äame
() const;

45 
discÚÃùF¿me
();

47 
height
() const;

48 
width
() const;

49 
cŞÜD•th
() const;

50 
pix–D•th
() const;

51 
avaLeá
() const;

52 
avaTİ
() const;

53 
avaHeight
() const;

54 
avaWidth
() const;

56 
	g´iv©e
:

57 
Sü“n
(
F¿me
*);

59 
F¿me
* 
	gm_äame
;

	@SecurityOrigin.cpp

29 
	~"cÚfig.h
"

30 
	~"Secur™yOrigš.h
"

32 
	~"Docum’t.h
"

33 
	~"KURL.h
"

34 
	~"OrigšAcûssEÁry.h
"

35 
	~<wtf/StdLibExŒas.h
>

37 
Çme¥aû
 
	gWebCÜe
 {

39 
	gSecur™yOrigš
::
LoÿlLßdPŞicy
 
loÿlLßdPŞicy
 = 
Secur™yOrigš
::
AÎowLoÿlLßdsFÜLoÿlOÆy
;

41 
	gVeùÜ
<
	tOrigšAcûssEÁry
> 
	tOrigšAcûssWh™eLi¡
;

42 
	gHashM­
<
	tSŒšg
, 
	tOrigšAcûssWh™eLi¡
*> 
	tOrigšAcûssM­
;

44 
	gOrigšAcûssM­
& 
ÜigšAcûssM­
()

46 
DEFINE_STATIC_LOCAL
(
OrigšAcûssM­
, 
ÜigšAcûssM­
, ());

47  
	gÜigšAcûssM­
;

50 
	gURLSchemesM­
& 
loÿlSchemes
()

52 
DEFINE_STATIC_LOCAL
(
URLSchemesM­
, 
loÿlSchemes
, ());

54 ià(
	gloÿlSchemes
.
isEm±y
()) {

55 
	gloÿlSchemes
.
add
("file");

56 #ià
PLATFORM
(
MAC
)

57 
	gloÿlSchemes
.
add
("applewebdata");

59 #ià
PLATFORM
(
QT
)

60 
	gloÿlSchemes
.
add
("qrc");

64  
	gloÿlSchemes
;

67 
	gURLSchemesM­
& 
£cu»Schemes
()

69 
DEFINE_STATIC_LOCAL
(
URLSchemesM­
, 
£cu»Schemes
, ());

71 ià(
	g£cu»Schemes
.
isEm±y
()) {

72 
	g£cu»Schemes
.
add
("https");

73 
	g£cu»Schemes
.
add
("about");

74 
	g£cu»Schemes
.
add
("data");

77  
	g£cu»Schemes
;

80 
	gURLSchemesM­
& 
schemesW™hUniqueOrigšs
()

82 
DEFINE_STATIC_LOCAL
(
URLSchemesM­
, 
schemesW™hUniqueOrigšs
, ());

86 ià(
	gschemesW™hUniqueOrigšs
.
isEm±y
())

87 
	gschemesW™hUniqueOrigšs
.
add
("data");

89  
	gschemesW™hUniqueOrigšs
;

92 
	gSecur™yOrigš
::
Secur™yOrigš
(cÚ¡ 
KURL
& 
u¾
, 
SªdboxFÏgs
 
§ndboxFÏgs
)

93 : 
m_§ndboxFÏgs
(
§ndboxFÏgs
)

94 , 
m_´ÙocŞ
(
u¾
.
´ÙocŞ
().
isNuÎ
(è? "" : u¾.´ÙocŞ().
low”
())

95 , 
m_ho¡
(
u¾
.
ho¡
().
isNuÎ
(è? "" : u¾.ho¡().
low”
())

96 , 
m_pÜt
(
u¾
.
pÜt
())

97 , 
m_isUnique
(
isSªdboxed
(
SªdboxOrigš
è|| 
shouldT»©URLSchemeAsNoAcûss
(
m_´ÙocŞ
))

98 , 
m_univ”§lAcûss
(
çl£
)

99 , 
m_domašWasS‘InDOM
(
çl£
)

100 , 
m_’fÜûFeP©hS•¬©iÚ
(
çl£
)

103 ià(
	gm_´ÙocŞ
 =ğ"about" || 
m_´ÙocŞ
 == "javascript")

104 
m_´ÙocŞ
 = "";

107 
	gm_domaš
 = 
m_ho¡
;

110 
	gm_ÿnLßdLoÿlResourûs
 = 
isLoÿl
();

111 ià(
	gm_ÿnLßdLoÿlResourûs
) {

113 ià(!
	gu¾
.
hasP©h
(è|| u¾.
·th
().
’dsW™h
("/"))

114 
	gm_isUnique
 = 
Œue
;

116 
	gm_feP©h
 = 
u¾
.
·th
();

119 ià(
isDeçuÉPÜtFÜPrÙocŞ
(
m_pÜt
, 
m_´ÙocŞ
))

120 
	gm_pÜt
 = 0;

123 
	gSecur™yOrigš
::
Secur™yOrigš
(cÚ¡ Secur™yOrigš* 
Ùh”
)

124 : 
m_§ndboxFÏgs
(
Ùh”
->m_sandboxFlags)

125 , 
m_´ÙocŞ
(
Ùh”
->m_´ÙocŞ.
th»ad§ãCİy
())

126 , 
m_ho¡
(
Ùh”
->m_ho¡.
th»ad§ãCİy
())

127 , 
m_’codedHo¡
(
Ùh”
->m_’codedHo¡.
th»ad§ãCİy
())

128 , 
m_domaš
(
Ùh”
->m_domaš.
th»ad§ãCİy
())

129 , 
m_feP©h
(
Ùh”
->m_feP©h.
th»ad§ãCİy
())

130 , 
m_pÜt
(
Ùh”
->m_port)

131 , 
m_isUnique
(
Ùh”
->m_isUnique)

132 , 
m_univ”§lAcûss
(
Ùh”
->m_universalAccess)

133 , 
m_domašWasS‘InDOM
(
Ùh”
->m_domainWasSetInDOM)

134 , 
m_ÿnLßdLoÿlResourûs
(
Ùh”
->m_canLoadLocalResources)

135 , 
m_’fÜûFeP©hS•¬©iÚ
(
Ùh”
->m_enforceFilePathSeparation)

139 
boŞ
 
	gSecur™yOrigš
::
isEm±y
() const

141  
m_´ÙocŞ
.
isEm±y
();

144 
	gPassRefPŒ
<
	gSecur™yOrigš
> Secur™yOrigš::
ü—‹
(cÚ¡ 
KURL
& 
u¾
, 
SªdboxFÏgs
 
§ndboxFÏgs
)

146 ià(!
	gu¾
.
isV®id
())

147  
adİtRef
(
Ãw
 
Secur™yOrigš
(
KURL
(), 
§ndboxFÏgs
));

148  
adİtRef
(
Ãw
 
Secur™yOrigš
(
u¾
, 
§ndboxFÏgs
));

151 
	gPassRefPŒ
<
	gSecur™yOrigš
> Secur™yOrigš::
ü—‹Em±y
()

153  
ü—‹
(
KURL
());

156 
	gPassRefPŒ
<
	gSecur™yOrigš
> Secur™yOrigš::
th»ad§ãCİy
()

158  
adİtRef
(
Ãw
 
Secur™yOrigš
(
this
));

161 
	gSecur™yOrigš
::
£tDomašFromDOM
(cÚ¡ 
SŒšg
& 
ÃwDomaš
)

163 
m_domašWasS‘InDOM
 = 
Œue
;

164 
	gm_domaš
 = 
ÃwDomaš
.
low”
();

167 
	gHashS‘
<
	gSŒšg
>& 
schemesFÜbidd’FromDomašR–ax©iÚ
()

169 
DEFINE_STATIC_LOCAL
(
HashS‘
<
SŒšg
>, 
schemes
, ());

170  
	gschemes
;

173 
	gSecur™yOrigš
::
£tDomašR–ax©iÚFÜbidd’FÜURLScheme
(
boŞ
 
fÜbidd’
, cÚ¡ 
SŒšg
& 
scheme
)

175 ià(
	gscheme
.
isEm±y
())

178 ià(
	gfÜbidd’
)

179 
schemesFÜbidd’FromDomašR–ax©iÚ
().
add
(
scheme
);

181 
schemesFÜbidd’FromDomašR–ax©iÚ
().
»move
(
scheme
);

184 
boŞ
 
	gSecur™yOrigš
::
isDomašR–ax©iÚFÜbidd’FÜURLScheme
(cÚ¡ 
SŒšg
& 
scheme
)

186 ià(
scheme
.
isEm±y
())

187  
çl£
;

189  
schemesFÜbidd’FromDomašR–ax©iÚ
().
cÚšs
(
scheme
);

192 
boŞ
 
	gSecur™yOrigš
::
ÿnAcûss
(cÚ¡ 
Secur™yOrigš
* 
Ùh”
) const

194 ià(
m_univ”§lAcûss
)

195  
Œue
;

197 ià(
isUnique
(è|| 
	gÙh”
->isUnique())

198  
	gçl£
;

220 
boŞ
 
	gÿnAcûss
 = 
çl£
;

221 ià(
	gm_´ÙocŞ
 =ğ
Ùh”
->
m_´ÙocŞ
) {

222 ià(!
m_domašWasS‘InDOM
 && !
Ùh”
->m_domainWasSetInDOM) {

223 ià(
m_ho¡
 =ğ
Ùh”
->m_ho¡ && 
m_pÜt
 == other->m_port)

224 
ÿnAcûss
 = 
Œue
;

225 } ià(
	gm_domašWasS‘InDOM
 && 
	gÙh”
->m_domainWasSetInDOM) {

226 ià(
	gm_domaš
 =ğ
Ùh”
->
m_domaš
)

227 
ÿnAcûss
 = 
Œue
;

231 ià(
	gÿnAcûss
 && 
isLoÿl
())

232 
	gÿnAcûss
 = 
·s£sFeCheck
(
Ùh”
);

234  
	gÿnAcûss
;

237 
boŞ
 
	gSecur™yOrigš
::
·s£sFeCheck
(cÚ¡ 
Secur™yOrigš
* 
Ùh”
) const

239 
ASSERT
(
isLoÿl
(è&& 
Ùh”
->isLocal());

241 ià(!
	gm_’fÜûFeP©hS•¬©iÚ
 && !
	gÙh”
->m_enforceFilePathSeparation)

242  
	gŒue
;

244  (
	gm_feP©h
 =ğ
Ùh”
->
m_feP©h
);

247 
boŞ
 
	gSecur™yOrigš
::
ÿnReque¡
(cÚ¡ 
KURL
& 
u¾
) const

249 ià(
m_univ”§lAcûss
)

250  
Œue
;

252 ià(
isUnique
())

253  
	gçl£
;

255 
	gRefPŒ
<
	gSecur™yOrigš
> 
	grg‘Origš
 = 
Secur™yOrigš
::
ü—‹
(
u¾
);

256 ià(
	grg‘Origš
->
isUnique
())

257  
	gçl£
;

261 ià(
isSameSchemeHo¡PÜt
(
rg‘Origš
.
g‘
()))

262  
	gŒue
;

264 ià(
isAcûssWh™eLi¡ed
(
rg‘Origš
.
g‘
()))

265  
	gŒue
;

267  
	gçl£
;

270 
boŞ
 
	gSecur™yOrigš
::
štsCªvas
(cÚ¡ 
KURL
& 
u¾
) const

272 ià(
ÿnReque¡
(
u¾
))

273  
çl£
;

281 ià(
	gu¾
.
´ÙocŞIs
("data"))

282  
	gçl£
;

284  
	gŒue
;

287 
boŞ
 
	gSecur™yOrigš
::
isAcûssWh™eLi¡ed
(cÚ¡ 
Secur™yOrigš
* 
rg‘Origš
) const

289 ià(
OrigšAcûssWh™eLi¡
* 
li¡
 = 
ÜigšAcûssM­
().
g‘
(
toSŒšg
())) {

290 
size_t
 
i
 = 0; 
	gi
 < 
	gli¡
->
size
(); ++i) {

291 ià(
	gli¡
->
©
(
i
).
m©chesOrigš
(*
rg‘Origš
))

292  
	gŒue
;

295  
	gçl£
;

298 
boŞ
 
	gSecur™yOrigš
::
ÿnLßd
(cÚ¡ 
KURL
& 
u¾
, cÚ¡ 
SŒšg
& 
»ã¼”
, 
Docum’t
* 
docum’t
)

300 ià(!
shouldT»©URLAsLoÿl
(
u¾
.
¡ršg
()))

301  
	gŒue
;

306 ià(
	gdocum’t
) {

307 
Secur™yOrigš
* 
	gdocum’tOrigš
 = 
docum’t
->
£cur™yOrigš
();

308 
	gRefPŒ
<
	gSecur™yOrigš
> 
	grg‘Origš
 = 
Secur™yOrigš
::
ü—‹
(
u¾
);

309 ià(
	gdocum’tOrigš
->
isAcûssWh™eLi¡ed
(
rg‘Origš
.
g‘
()))

310  
	gŒue
;

311  
	gdocum’tOrigš
->
ÿnLßdLoÿlResourûs
();

313 ià(!
	g»ã¼”
.
isEm±y
())

314  
shouldT»©URLAsLoÿl
(
»ã¼”
);

315  
	gçl£
;

318 
	gSecur™yOrigš
::
g¿ÁLßdLoÿlResourûs
()

325 
ASSERT
(
®lowSub¡™u‹D©aAcûssToLoÿl
());

326 
	gm_ÿnLßdLoÿlResourûs
 = 
Œue
;

329 
	gSecur™yOrigš
::
g¿ÁUniv”§lAcûss
()

331 
m_univ”§lAcûss
 = 
Œue
;

334 
	gSecur™yOrigš
::
’fÜûFeP©hS•¬©iÚ
()

336 
ASSERT
(
isLoÿl
());

337 
	gm_’fÜûFeP©hS•¬©iÚ
 = 
Œue
;

340 
boŞ
 
	gSecur™yOrigš
::
isLoÿl
() const

342  
shouldT»©URLSchemeAsLoÿl
(
m_´ÙocŞ
);

345 
boŞ
 
	gSecur™yOrigš
::
isSecu»T¿ns™iÚTo
(cÚ¡ 
KURL
& 
u¾
) const

348 ià(
isEm±y
())

349  
Œue
;

351 
	gRefPŒ
<
	gSecur™yOrigš
> 
	gÙh”
 = 
Secur™yOrigš
::
ü—‹
(
u¾
);

352  
ÿnAcûss
(
Ùh”
.
g‘
());

355 
SŒšg
 
	gSecur™yOrigš
::
toSŒšg
() const

357 ià(
isEm±y
())

360 ià(
isUnique
())

363 ià(
	gm_´ÙocŞ
 == "file") {

364 ià(
m_’fÜûFeP©hS•¬©iÚ
)

369 
	gVeùÜ
<
	gUCh¬
> 
	g»suÉ
;

370 
	g»suÉ
.
»£rveIn™ŸlC­ac™y
(
m_´ÙocŞ
.
Ëngth
(è+ 
m_ho¡
.length() + 10);

371 
­³nd
(
»suÉ
, 
m_´ÙocŞ
);

372 
­³nd
(
»suÉ
, "://");

373 
­³nd
(
»suÉ
, 
m_ho¡
);

375 ià(
	gm_pÜt
) {

376 
­³nd
(
»suÉ
, ":");

377 
­³nd
(
»suÉ
, 
SŒšg
::
numb”
(
m_pÜt
));

380  
	gSŒšg
::
adİt
(
»suÉ
);

383 
	gPassRefPŒ
<
	gSecur™yOrigš
> Secur™yOrigš::
ü—‹FromSŒšg
(cÚ¡ 
SŒšg
& 
ÜigšSŒšg
)

385  
Secur™yOrigš
::
ü—‹
(
KURL
(KURL(), 
ÜigšSŒšg
));

388 cÚ¡ 
	gS•¬©ÜCh¬aù”
 = '_';

390 
	gPassRefPŒ
<
	gSecur™yOrigš
> Secur™yOrigš::
ü—‹FromD©aba£Id’tif›r
(cÚ¡ 
SŒšg
& 
d©aba£Id’tif›r
)

393 
£·¿tÜ1
 = 
d©aba£Id’tif›r
.
fšd
(
S•¬©ÜCh¬aù”
);

394 ià(
	g£·¿tÜ1
 == -1)

395  
ü—‹
(
KURL
());

398 
	g£·¿tÜ2
 = 
d©aba£Id’tif›r
.
»v”£Fšd
(
S•¬©ÜCh¬aù”
);

399 ià(
	g£·¿tÜ2
 == -1)

400  
ü—‹
(
KURL
());

404 ià(
	g£·¿tÜ1
 =ğ
£·¿tÜ2
)

405  
ü—‹
(
KURL
());

408 
boŞ
 
	gpÜtOkay
;

409 
	gpÜt
 = 
d©aba£Id’tif›r
.
right
(d©aba£Id’tif›r.
Ëngth
(è- 
£·¿tÜ2
 - 1).
toIÁ
(&
pÜtOkay
);

410 
boŞ
 
	gpÜtAb£Á
 = (
£·¿tÜ2
 =ğ
¡©ic_ÿ¡
<>(
d©aba£Id’tif›r
.
Ëngth
()) - 1);

411 ià(!(
	gpÜtOkay
 || 
	gpÜtAb£Á
))

412  
ü—‹
(
KURL
());

414 ià(
	gpÜt
 < 0 ||…ort > 65535)

415  
ü—‹
(
KURL
());

418 
SŒšg
 
	g´ÙocŞ
 = 
d©aba£Id’tif›r
.
sub¡ršg
(0, 
£·¿tÜ1
);

419 
SŒšg
 
	gho¡
 = 
d©aba£Id’tif›r
.
sub¡ršg
(
£·¿tÜ1
 + 1, 
£·¿tÜ2
 - separator1 - 1);

421 
	gho¡
 = 
decodeURLEsÿ³Sequ’ûs
(
ho¡
);

422  
ü—‹
(
KURL
(KURL(), 
´ÙocŞ
 + "://" + 
ho¡
 + ":" + 
SŒšg
::
numb”
(
pÜt
)));

441 cÚ¡ 
boŞ
 
	gÃedsEsÿpšg
[128] = {

442  
Œue
,rue,rue,rue,rue,rue,rue,rue,

443  
Œue
,rue,rue,rue,rue,rue,rue,rue,

445  
Œue
,rue,rue,rue,rue,rue,rue,rue,

446  
Œue
,rue,rue,rue,rue,rue,rue,rue,

448  
Œue
, 
çl£
,rue, false, false,rue, false, false,

449  
çl£
, f®£, 
Œue
, false, false, false, false,rue,

451  
çl£
, false, false, false, false, false, false, false,

452  
çl£
, f®£, 
Œue
, false,rue, false,rue,rue,

454  
çl£
, false, false, false, false, false, false, false,

455  
çl£
, false, false, false, false, false, false, false,

457  
çl£
, false, false, false, false, false, false, false,

458  
çl£
, f®£, f®£, f®£, 
Œue
, false, false, false,

460  
çl£
, false, false, false, false, false, false, false,

461  
çl£
, false, false, false, false, false, false, false,

463  
çl£
, false, false, false, false, false, false, false,

464  
çl£
, f®£, f®£, f®£, 
Œue
, false, false,rue,

467 
šlše
 
boŞ
 
shouldEsÿ³UCh¬
(
UCh¬
 
c
)

469  
	gc
 > 127 ? 
	gçl£
 : 
ÃedsEsÿpšg
[
c
];

472 cÚ¡ 
	ghexDig™s
[17] = "0123456789ABCDEF";

474 
SŒšg
 
’codedHo¡
(cÚ¡ SŒšg& 
ho¡
)

476 
	gËngth
 = 
ho¡
.
Ëngth
();

477 
	gVeùÜ
<
	gUCh¬
, 512> 
bufãr
(
Ëngth
 * 3 + 1);

478 
UCh¬
* 
	gp
 = 
bufãr
.
d©a
();

480 cÚ¡ 
UCh¬
* 
	g¡r
 = 
ho¡
.
ch¬aù”s
();

481 cÚ¡ 
UCh¬
* 
	g¡rEnd
 = 
¡r
 + 
Ëngth
;

483 
	g¡r
 < 
	g¡rEnd
) {

484 
UCh¬
 
	gc
 = *
¡r
++;

485 ià(
shouldEsÿ³UCh¬
(
c
)) {

486 *
	gp
++ = '%';

487 *
	gp
++ = 
hexDig™s
[(
c
 >> 4) & 0xF];

488 *
	gp
++ = 
hexDig™s
[
c
 & 0xF];

490 *
	gp
++ = 
c
;

493 
ASSERT
(
p
 - 
bufãr
.
d©a
(è<ğ
¡©ic_ÿ¡
<>(bufãr.
size
()));

495  
SŒšg
(
bufãr
.
d©a
(), 
p
 - buffer.data());

498 
SŒšg
 
	gSecur™yOrigš
::
d©aba£Id’tif›r
() const

500 
SŒšg
 
£·¿tÜSŒšg
(&
S•¬©ÜCh¬aù”
, 1);

502 ià(
	gm_’codedHo¡
.
isEm±y
())

503 
	gm_’codedHo¡
 = 
’codedHo¡
(
m_ho¡
);

505  
	gm_´ÙocŞ
 + 
	g£·¿tÜSŒšg
 + 
	gm_’codedHo¡
 + s•¬©ÜSŒšg + 
	gSŒšg
::
numb”
(
m_pÜt
);

508 
boŞ
 
	gSecur™yOrigš
::
equ®
(cÚ¡ 
Secur™yOrigš
* 
Ùh”
) const

510 ià(
Ùh”
 =ğ
this
)

511  
Œue
;

513 ià(!
isSameSchemeHo¡PÜt
(
Ùh”
))

514  
	gçl£
;

516 ià(
	gm_domašWasS‘InDOM
 !ğ
Ùh”
->
m_domašWasS‘InDOM
)

517  
çl£
;

519 ià(
	gm_domašWasS‘InDOM
 && 
	gm_domaš
 !ğ
Ùh”
->
m_domaš
)

520  
çl£
;

522  
	gŒue
;

525 
boŞ
 
	gSecur™yOrigš
::
isSameSchemeHo¡PÜt
(cÚ¡ 
Secur™yOrigš
* 
Ùh”
) const

527 ià(
m_ho¡
 !ğ
Ùh”
->m_host)

528  
çl£
;

530 ià(
	gm_´ÙocŞ
 !ğ
Ùh”
->
m_´ÙocŞ
)

531  
çl£
;

533 ià(
	gm_pÜt
 !ğ
Ùh”
->
m_pÜt
)

534  
çl£
;

536 ià(
isLoÿl
(è&& !
·s£sFeCheck
(
Ùh”
))

537  
	gçl£
;

539  
	gŒue
;

542 
	gSecur™yOrigš
::
»gi¡”URLSchemeAsLoÿl
(cÚ¡ 
SŒšg
& 
scheme
)

544 
loÿlSchemes
().
add
(
scheme
);

547 
	gSecur™yOrigš
::
»moveURLSchemeRegi¡”edAsLoÿl
(cÚ¡ 
SŒšg
& 
scheme
)

549 ià(
scheme
 == "file")

551 #ià
PLATFORM
(
MAC
)

552 ià(
	gscheme
 == "applewebdata")

555 
loÿlSchemes
().
»move
(
scheme
);

558 cÚ¡ 
	gURLSchemesM­
& 
	gSecur™yOrigš
::
loÿlURLSchemes
()

560  
loÿlSchemes
();

563 
boŞ
 
	gSecur™yOrigš
::
shouldT»©URLAsLoÿl
(cÚ¡ 
SŒšg
& 
u¾
)

567 ià(
u¾
.
Ëngth
() >= 5) {

568 cÚ¡ 
UCh¬
* 
s
 = 
u¾
.
ch¬aù”s
();

569 ià(
	gs
[0] =ğ'h' && 
s
[1] == 't' && s[2] == 't' && s[3] == 'p' && s[4] == ':')

570  
çl£
;

571 ià(
	gs
[0] =ğ'f' && 
s
[1] == 'i' && s[2] == 'l' && s[3] == 'e' && s[4] == ':')

572  
Œue
;

575 
	gloc
 = 
u¾
.
fšd
(':');

576 ià(
	gloc
 == -1)

577  
çl£
;

579 
SŒšg
 
	gscheme
 = 
u¾
.
Ëá
(
loc
);

580  
loÿlSchemes
().
cÚšs
(
scheme
);

583 
boŞ
 
	gSecur™yOrigš
::
shouldT»©URLSchemeAsLoÿl
(cÚ¡ 
SŒšg
& 
scheme
)

587 ià(
scheme
.
Ëngth
() == 4) {

588 cÚ¡ 
UCh¬
* 
s
 = 
scheme
.
ch¬aù”s
();

589 ià(
	gs
[0] =ğ'h' && 
s
[1] == 't' && s[2] == 't' && s[3] == 'p')

590  
çl£
;

591 ià(
	gs
[0] =ğ'f' && 
s
[1] == 'i' && s[2] == 'l' && s[3] == 'e')

592  
Œue
;

595 ià(
	gscheme
.
isEm±y
())

596  
	gçl£
;

598  
loÿlSchemes
().
cÚšs
(
scheme
);

601 
	gSecur™yOrigš
::
»gi¡”URLSchemeAsNoAcûss
(cÚ¡ 
SŒšg
& 
scheme
)

603 
schemesW™hUniqueOrigšs
().
add
(
scheme
);

606 
boŞ
 
	gSecur™yOrigš
::
shouldT»©URLSchemeAsNoAcûss
(cÚ¡ 
SŒšg
& 
scheme
)

608  
schemesW™hUniqueOrigšs
().
cÚšs
(
scheme
);

611 
	gSecur™yOrigš
::
»gi¡”URLSchemeAsSecu»
(cÚ¡ 
SŒšg
& 
scheme
)

613 
£cu»Schemes
().
add
(
scheme
);

616 
boŞ
 
	gSecur™yOrigš
::
shouldT»©URLSchemeAsSecu»
(cÚ¡ 
SŒšg
& 
scheme
)

618  
£cu»Schemes
().
cÚšs
(
scheme
);

621 
boŞ
 
	gSecur™yOrigš
::
shouldHideReã¼”
(cÚ¡ 
KURL
& 
u¾
, cÚ¡ 
SŒšg
& 
»ã¼”
)

623 
boŞ
 
	g»ã¼”IsSecu»URL
 = 
´ÙocŞIs
(
»ã¼”
, "https");

624 
boŞ
 
	g»ã¼”IsWebURL
 = 
»ã¼”IsSecu»URL
 || 
´ÙocŞIs
(
»ã¼”
, "http");

626 ià(!
	g»ã¼”IsWebURL
)

627  
	gŒue
;

629 ià(!
	g»ã¼”IsSecu»URL
)

630  
	gçl£
;

632 
boŞ
 
	gURLIsSecu»URL
 = 
u¾
.
´ÙocŞIs
("https");

634  !
	gURLIsSecu»URL
;

637 
	gSecur™yOrigš
::
£tLoÿlLßdPŞicy
(
LoÿlLßdPŞicy
 
pŞicy
)

639 
loÿlLßdPŞicy
 = 
pŞicy
;

642 
boŞ
 
	gSecur™yOrigš
::
»¡riùAcûssToLoÿl
()

644  
loÿlLßdPŞicy
 !ğ
Secur™yOrigš
::
AÎowLoÿlLßdsFÜAÎ
;

647 
boŞ
 
	gSecur™yOrigš
::
®lowSub¡™u‹D©aAcûssToLoÿl
()

649  
loÿlLßdPŞicy
 !ğ
Secur™yOrigš
::
AÎowLoÿlLßdsFÜLoÿlOÆy
;

652 
	gSecur™yOrigš
::
wh™eLi¡AcûssFromOrigš
(cÚ¡ 
Secur™yOrigš
& 
sourûOrigš
, cÚ¡ 
SŒšg
& 
de¡š©iÚPrÙocŞ
, cÚ¡ SŒšg& 
de¡š©iÚDomašs
, 
boŞ
 
®lowDe¡š©iÚSubdomašs
)

654 
ASSERT
(
isMašTh»ad
());

655 
ASSERT
(!
sourûOrigš
.
isEm±y
());

656 ià(
	gsourûOrigš
.
isEm±y
())

659 
SŒšg
 
	gsourûSŒšg
 = 
sourûOrigš
.
toSŒšg
();

660 
OrigšAcûssWh™eLi¡
* 
	gli¡
 = 
ÜigšAcûssM­
().
g‘
(
sourûSŒšg
);

661 ià(!
	gli¡
) {

662 
	gli¡
 = 
Ãw
 
OrigšAcûssWh™eLi¡
;

663 
ÜigšAcûssM­
().
£t
(
sourûSŒšg
, 
li¡
);

665 
	gli¡
->
­³nd
(
OrigšAcûssEÁry
(
de¡š©iÚPrÙocŞ
, 
de¡š©iÚDomašs
, 
®lowDe¡š©iÚSubdomašs
 ? OrigšAcûssEÁry::
AÎowSubdomašs
 : OrigšAcûssEÁry::
Di§ÎowSubdomašs
));

668 
	gSecur™yOrigš
::
»£tOrigšAcûssWh™eLi¡s
()

670 
ASSERT
(
isMašTh»ad
());

671 
	gOrigšAcûssM­
& 
	gm­
 = 
ÜigšAcûssM­
();

672 
d–‘eAÎV®ues
(
m­
);

673 
	gm­
.
ş—r
();

	@SecurityOrigin.h

29 #iâdeà
Secur™yOrigš_h


30 
	#Secur™yOrigš_h


	)

32 
	~<wtf/HashS‘.h
>

33 
	~<wtf/RefCouÁed.h
>

34 
	~<wtf/PassRefPŒ.h
>

35 
	~<wtf/Th»adšg.h
>

37 
	~"F¿meLßd”Ty³s.h
"

38 
	~"PÏtfÜmSŒšg.h
"

39 
	~"SŒšgHash.h
"

41 
Çme¥aû
 
	gWebCÜe
 {

43 
	gHashS‘
<
	tSŒšg
, 
	tCa£FŞdšgHash
> 
	tURLSchemesM­
;

45 
şass
 
	gDocum’t
;

46 
şass
 
	gKURL
;

48 
şass
 
	gSecur™yOrigš
 : 
public
 
Th»adSaãSh¬ed
<
Secur™yOrigš
> {

49 
public
:

50 
PassRefPŒ
<
Secur™yOrigš
> 
ü—‹FromD©aba£Id’tif›r
(cÚ¡ 
SŒšg
&);

51 
	gPassRefPŒ
<
	gSecur™yOrigš
> 
ü—‹FromSŒšg
(cÚ¡ 
SŒšg
&);

52 
	gPassRefPŒ
<
	gSecur™yOrigš
> 
ü—‹
(cÚ¡ 
KURL
&, 
SªdboxFÏgs
 = 
SªdboxNÚe
);

53 
	gPassRefPŒ
<
	gSecur™yOrigš
> 
ü—‹Em±y
();

57 
	gPassRefPŒ
<
	gSecur™yOrigš
> 
th»ad§ãCİy
();

62 
£tDomašFromDOM
(cÚ¡ 
SŒšg
& 
ÃwDomaš
);

63 
boŞ
 
domašWasS‘InDOM
(ècÚ¡ {  
	gm_domašWasS‘InDOM
; }

65 
£tDomašR–ax©iÚFÜbidd’FÜURLScheme
(
boŞ
 
fÜbidd’
, cÚ¡ 
SŒšg
&);

66 
boŞ
 
isDomašR–ax©iÚFÜbidd’FÜURLScheme
(cÚ¡ 
SŒšg
&);

68 
SŒšg
 
´ÙocŞ
(ècÚ¡ {  
	gm_´ÙocŞ
; }

69 
SŒšg
 
ho¡
(ècÚ¡ {  
	gm_ho¡
; }

70 
SŒšg
 
domaš
(ècÚ¡ {  
	gm_domaš
; }

71 
pÜt
(ècÚ¡ {  
	gm_pÜt
; }

77 
boŞ
 
ÿnAcûss
(cÚ¡ 
Secur™yOrigš
*) const;

82 
boŞ
 
ÿnReque¡
(cÚ¡ 
KURL
&) const;

87 
boŞ
 
štsCªvas
(cÚ¡ 
KURL
&) const;

92 
boŞ
 
ÿnLßd
(cÚ¡ 
KURL
&, cÚ¡ 
SŒšg
& 
»ã¼”
, 
Docum’t
* 
docum’t
);

103 
boŞ
 
ÿnLßdLoÿlResourûs
(ècÚ¡ {  
	gm_ÿnLßdLoÿlResourûs
; }

110 
g¿ÁLßdLoÿlResourûs
();

115 
g¿ÁUniv”§lAcûss
();

117 
boŞ
 
isSªdboxed
(
SªdboxFÏgs
 
mask
ècÚ¡ {  
	gm_§ndboxFÏgs
 & 
	gmask
; }

119 
boŞ
 
ÿnAcûssD©aba£
(ècÚ¡ {  !
isUnique
(); }

120 
boŞ
 
ÿnAcûssLoÿlStÜage
(ècÚ¡ {  !
isUnique
(); }

121 
boŞ
 
ÿnAcûssCook›s
(ècÚ¡ {  !
isUnique
(); }

123 
boŞ
 
isSecu»T¿ns™iÚTo
(cÚ¡ 
KURL
&) const;

128 
boŞ
 
isLoÿl
() const;

131 
boŞ
 
isEm±y
() const;

139 
boŞ
 
isUnique
(ècÚ¡ {  
	gm_isUnique
; }

142 
’fÜûFeP©hS•¬©iÚ
();

154 
SŒšg
 
toSŒšg
() const;

158 
SŒšg
 
d©aba£Id’tif›r
() const;

165 
boŞ
 
equ®
(cÚ¡ 
Secur™yOrigš
*) const;

169 
boŞ
 
isSameSchemeHo¡PÜt
(cÚ¡ 
Secur™yOrigš
*) const;

171 
»gi¡”URLSchemeAsLoÿl
(cÚ¡ 
SŒšg
&);

172 
»moveURLSchemeRegi¡”edAsLoÿl
(cÚ¡ 
SŒšg
&);

173 cÚ¡ 
	gURLSchemesM­
& 
loÿlURLSchemes
();

174 
boŞ
 
shouldT»©URLAsLoÿl
(cÚ¡ 
SŒšg
&);

175 
boŞ
 
shouldT»©URLSchemeAsLoÿl
(cÚ¡ 
SŒšg
&);

180 
»gi¡”URLSchemeAsSecu»
(cÚ¡ 
SŒšg
&);

181 
boŞ
 
shouldT»©URLSchemeAsSecu»
(cÚ¡ 
SŒšg
&);

183 
boŞ
 
shouldHideReã¼”
(cÚ¡ 
KURL
&, cÚ¡ 
SŒšg
& 
»ã¼”
);

185 
	eLoÿlLßdPŞicy
 {

186 
	gAÎowLoÿlLßdsFÜAÎ
,

187 
	gAÎowLoÿlLßdsFÜLoÿlAndSub¡™u‹D©a
,

188 
	gAÎowLoÿlLßdsFÜLoÿlOÆy
,

190 
£tLoÿlLßdPŞicy
(
LoÿlLßdPŞicy
);

191 
boŞ
 
»¡riùAcûssToLoÿl
();

192 
boŞ
 
®lowSub¡™u‹D©aAcûssToLoÿl
();

194 
»gi¡”URLSchemeAsNoAcûss
(cÚ¡ 
SŒšg
&);

195 
boŞ
 
shouldT»©URLSchemeAsNoAcûss
(cÚ¡ 
SŒšg
&);

197 
wh™eLi¡AcûssFromOrigš
(cÚ¡ 
Secur™yOrigš
& 
sourûOrigš
, cÚ¡ 
SŒšg
& 
de¡š©iÚPrÙocŞ
, cÚ¡ SŒšg& 
de¡š©iÚDomašs
, 
boŞ
 
®lowDe¡š©iÚSubdomašs
);

198 
»£tOrigšAcûssWh™eLi¡s
();

200 
	g´iv©e
:

201 
Secur™yOrigš
(cÚ¡ 
KURL
&, 
SªdboxFÏgs
);

202 
ex¶ic™
 
Secur™yOrigš
(const SecurityOrigin*);

204 
boŞ
 
·s£sFeCheck
(cÚ¡ 
Secur™yOrigš
* 
Ùh”
) const;

206 
boŞ
 
isAcûssWh™eLi¡ed
(cÚ¡ 
Secur™yOrigš
* 
rg‘Origš
) const;

208 
SªdboxFÏgs
 
	gm_§ndboxFÏgs
;

209 
SŒšg
 
	gm_´ÙocŞ
;

210 
SŒšg
 
	gm_ho¡
;

211 
mubË
 
SŒšg
 
	gm_’codedHo¡
;

212 
SŒšg
 
	gm_domaš
;

213 
SŒšg
 
	gm_feP©h
;

214 
	gm_pÜt
;

215 
boŞ
 
	gm_isUnique
;

216 
boŞ
 
	gm_univ”§lAcûss
;

217 
boŞ
 
	gm_domašWasS‘InDOM
;

218 
boŞ
 
	gm_ÿnLßdLoÿlResourûs
;

219 
boŞ
 
	gm_’fÜûFeP©hS•¬©iÚ
;

	@SecurityOriginHash.h

29 #iâdeà
Secur™yOrigšHash_h


30 
	#Secur™yOrigšHash_h


	)

32 
	~"KURL.h
"

33 
	~"Secur™yOrigš.h
"

34 
	~<wtf/RefPŒ.h
>

36 
Çme¥aû
 
	gWebCÜe
 {

38 
	sSecur™yOrigšHash
 {

39 
hash
(
Secur™yOrigš
* 
Üigš
)

41 
	ghashCodes
[3] = {

42 
Üigš
->
´ÙocŞ
().
im¶
(è? origš->´ÙocŞ().im¶()->
hash
() : 0,

43 
Üigš
->
ho¡
().
im¶
(è? origš->ho¡().im¶()->
hash
() : 0,

44 
Üigš
->
pÜt
()

46  
	gSŒšgIm¶
::
compu‹Hash
(
»š‹½»t_ÿ¡
<
UCh¬
*>(
hashCodes
), (hashCodes) / (UChar));

48 
hash
(cÚ¡ 
RefPŒ
<
Secur™yOrigš
>& 
Üigš
)

50  
hash
(
Üigš
.
g‘
());

53 
boŞ
 
equ®
(
Secur™yOrigš
* 
a
, Secur™yOrigš* 
b
)

59 ià(!
	ga
 || !
	gb
)

60  
	ga
 =ğ
b
;

61  
	ga
->
equ®
(
b
);

63 
boŞ
 
equ®
(
Secur™yOrigš
* 
a
, cÚ¡ 
RefPŒ
<Secur™yOrigš>& 
b
)

65  
equ®
(
a
, 
b
.
g‘
());

67 
boŞ
 
equ®
(cÚ¡ 
RefPŒ
<
Secur™yOrigš
>& 
a
, Secur™yOrigš* 
b
)

69  
equ®
(
a
.
g‘
(), 
b
);

71 
boŞ
 
equ®
(cÚ¡ 
RefPŒ
<
Secur™yOrigš
>& 
a
, cÚ¡ RefPŒ<Secur™yOrigš>& 
b
)

73  
equ®
(
a
.
g‘
(), 
b
.get());

76 cÚ¡ 
boŞ
 
	g§ãToCom·»ToEm±yOrD–‘ed
 = 
çl£
;

	@Settings.cpp

26 
	~"cÚfig.h
"

27 
	~"S‘tšgs.h
"

29 
	~"BackFÜw¬dLi¡.h
"

30 
	~"D©aba£.h
"

31 
	~"F¿me.h
"

32 
	~"F¿meT»e.h
"

33 
	~"F¿meV›w.h
"

34 
	~"Hi¡ÜyI‹m.h
"

35 
	~"Page.h
"

36 
	~"PageCache.h
"

37 
	~<lim™s
>

39 
usšg
 
Çme¥aû
 
	g¡d
;

41 
Çme¥aû
 
	gWebCÜe
 {

43 
£tN“dsR—µlyStyËsInAÎF¿mes
(
Page
* 
·ge
)

45 
F¿me
* 
	gäame
 = 
·ge
->
mašF¿me
(); f¿me; f¿mğ
äame
->
Œ“
()->
Œav”£Next
())

46 
äame
->
£tN“dsR—µlyStyËs
();

49 #ià
USE
(
SAFARI_THEME
)

50 
boŞ
 
	gS‘tšgs
::
gShouldPaštN©iveCÚŒŞs
 = 
Œue
;

53 #ià
PLATFORM
(
WIN
è|| (
OS
(
WINDOWS
è&& PLATFORM(
WX
))

54 
boŞ
 
	gS‘tšgs
::
gShouldU£HighResŞutiÚTim”s
 = 
Œue
;

57 
	gS‘tšgs
::
S‘tšgs
(
Page
* 
·ge
)

58 : 
m_·ge
(
·ge
)

59 , 
m_ed™abËLškBehaviÜ
(
Ed™abËLškDeçuÉBehaviÜ
)

60 , 
m_‹xtDœeùiÚSubm’uInşusiÚBehaviÜ
(
TextDœeùiÚSubm’uAutom©iÿÎyInşuded
)

61 , 
m_mšimumFÚtSize
(0)

62 , 
m_mšimumLogiÿlFÚtSize
(0)

63 , 
m_deçuÉFÚtSize
(0)

64 , 
m_deçuÉFixedFÚtSize
(0)

65 , 
m_maximumDecodedImageSize
(
num”ic_lim™s
<
size_t
>::
max
())

66 , 
m_loÿlStÜageQuÙa
(5 * 1024 * 1024)

67 , 
m_¶ugšAÎowedRunTime
(
num”ic_lim™s
<>::
max
())

68 , 
m_zoomMode
(
ZoomPage
)

69 , 
m_isS·tŸlNavig©iÚEÇbËd
(
çl£
)

70 , 
m_isJavaEÇbËd
(
çl£
)

71 , 
m_lßdsImagesAutom©iÿÎy
(
çl£
)

72 , 
m_´iv©eBrowsšgEÇbËd
(
çl£
)

73 , 
m_ÿ»tBrowsšgEÇbËd
(
çl£
)

74 , 
m_¬eImagesEÇbËd
(
Œue
)

75 , 
m_¬ePlugšsEÇbËd
(
çl£
)

76 , 
m_loÿlStÜageEÇbËd
(
çl£
)

77 , 
m_isJavaSütEÇbËd
(
çl£
)

78 , 
m_isWebSecur™yEÇbËd
(
Œue
)

79 , 
m_®lowUniv”§lAcûssFromFeURLs
(
Œue
)

80 , 
m_®lowFeAcûssFromFeURLs
(
Œue
)

81 , 
m_javaSütCªO³nWšdowsAutom©iÿÎy
(
çl£
)

82 , 
m_shouldPrštBackgrounds
(
çl£
)

83 , 
m_‹xtA»asA»ResizabË
(
çl£
)

84 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

85 , 
m_u£sDashbßrdBackw¬dCom·tib™yMode
(
çl£
)

87 , 
m_ÃedsAdobeF¿meR–ßdšgQuœk
(
çl£
)

88 , 
m_ÃedsKeybßrdEv’tDi§mbigu©iÚQuœks
(
çl£
)

89 , 
m_Œ—tsAnyTextCSSLškAsStyËsh“t
(
çl£
)

90 , 
m_ÃedsLeİ¬dMaQuœks
(
çl£
)

91 , 
m_ÃedsTig”MaQuœks
(
çl£
)

92 , 
m_isDOMPa¡eAÎowed
(
çl£
)

93 , 
m_shršksSnd®ÚeImagesToF™
(
Œue
)

94 , 
m_u£sPageCache
(
çl£
)

95 , 
m_showsURLsInToŞTs
(
çl£
)

96 , 
m_fÜûFTPDœeùÜyLi¡šgs
(
çl£
)

97 , 
m_dev–İ”ExŒasEÇbËd
(
çl£
)

98 , 
m_authÜAndU£rStyËsEÇbËd
(
Œue
)

99 , 
m_ÃedsS™eS³cificQuœks
(
çl£
)

100 , 
m_fÚtR’d”šgMode
(0)

101 , 
m_äameFÏ‰’šgEÇbËd
(
çl£
)

102 , 
m_webArchiveDebugModeEÇbËd
(
çl£
)

103 , 
m_loÿlFeCÚ‹ÁSniffšgEÇbËd
(
çl£
)

104 , 
m_šAµliÿtiÚChromeMode
(
çl£
)

105 , 
m_ofæšeWebAµliÿtiÚCacheEÇbËd
(
çl£
)

106 , 
m_shouldPaštCu¡omSüŞlb¬s
(
çl£
)

107 , 
m_’fÜûCSSMIMETy³InSŒiùMode
(
Œue
)

108 , 
m_u£sEncodšgD‘eùÜ
(
çl£
)

109 , 
m_®lowSütsToClo£Wšdows
(
çl£
)

110 , 
m_ed™šgBehaviÜ
(

111 #ià
PLATFORM
(
MAC
è|| (PLATFORM(
CHROMIUM
è&& 
OS
(
DARWIN
))

113 
Ed™šgMacBehaviÜ


115 
Ed™šgWšdowsBehaviÜ


120 , 
m_dowÆßdabËBš¬yFÚtsEÇbËd
(
Œue
)

121 , 
m_xssAud™ÜEÇbËd
(
çl£
)

122 , 
m_acûË¿‹dCompos™šgEÇbËd
(
Œue
)

123 , 
m_showDebugBÜd”s
(
çl£
)

124 , 
m_showR•aštCouÁ”
(
çl£
)

125 , 
m_ex³rim’lNÙifiÿtiÚsEÇbËd
(
çl£
)

126 , 
m_webGLEÇbËd
(
çl£
)

127 , 
m_lßdDeã¼šgEÇbËd
(
Œue
)

128 , 
m_tedBackšgStÜeEÇbËd
(
çl£
)

132 
	gAtomicSŒšg
::
š™
();

135 
	gS‘tšgs
::
£tSnd¬dFÚtFamy
(cÚ¡ 
AtomicSŒšg
& 
¡ªd¬dFÚtFamy
)

137 ià(
¡ªd¬dFÚtFamy
 =ğ
m_¡ªd¬dFÚtFamy
)

140 
	gm_¡ªd¬dFÚtFamy
 = 
¡ªd¬dFÚtFamy
;

141 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

144 
	gS‘tšgs
::
£tFixedFÚtFamy
(cÚ¡ 
AtomicSŒšg
& 
fixedFÚtFamy
)

146 ià(
m_fixedFÚtFamy
 =ğ
fixedFÚtFamy
)

149 
	gm_fixedFÚtFamy
 = 
fixedFÚtFamy
;

150 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

153 
	gS‘tšgs
::
£tS”ifFÚtFamy
(cÚ¡ 
AtomicSŒšg
& 
£rifFÚtFamy
)

155 ià(
m_£rifFÚtFamy
 =ğ
£rifFÚtFamy
)

158 
	gm_£rifFÚtFamy
 = 
£rifFÚtFamy
;

159 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

162 
	gS‘tšgs
::
£tSªsS”ifFÚtFamy
(cÚ¡ 
AtomicSŒšg
& 
§nsS”ifFÚtFamy
)

164 ià(
m_§nsS”ifFÚtFamy
 =ğ
§nsS”ifFÚtFamy
)

167 
	gm_§nsS”ifFÚtFamy
 = 
§nsS”ifFÚtFamy
;

168 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

171 
	gS‘tšgs
::
£tCursiveFÚtFamy
(cÚ¡ 
AtomicSŒšg
& 
cursiveFÚtFamy
)

173 ià(
m_cursiveFÚtFamy
 =ğ
cursiveFÚtFamy
)

176 
	gm_cursiveFÚtFamy
 = 
cursiveFÚtFamy
;

177 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

180 
	gS‘tšgs
::
£tFªsyFÚtFamy
(cÚ¡ 
AtomicSŒšg
& 
çÁasyFÚtFamy
)

182 ià(
m_çÁasyFÚtFamy
 =ğ
çÁasyFÚtFamy
)

185 
	gm_çÁasyFÚtFamy
 = 
çÁasyFÚtFamy
;

186 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

189 
	gS‘tšgs
::
£tMšimumFÚtSize
(
mšimumFÚtSize
)

191 ià(
m_mšimumFÚtSize
 =ğ
mšimumFÚtSize
)

194 
	gm_mšimumFÚtSize
 = 
mšimumFÚtSize
;

195 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

198 
	gS‘tšgs
::
£tMšimumLogiÿlFÚtSize
(
mšimumLogiÿlFÚtSize
)

200 ià(
m_mšimumLogiÿlFÚtSize
 =ğ
mšimumLogiÿlFÚtSize
)

203 
	gm_mšimumLogiÿlFÚtSize
 = 
mšimumLogiÿlFÚtSize
;

204 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

207 
	gS‘tšgs
::
£tDeçuÉFÚtSize
(
deçuÉFÚtSize
)

209 ià(
m_deçuÉFÚtSize
 =ğ
deçuÉFÚtSize
)

212 
	gm_deçuÉFÚtSize
 = 
deçuÉFÚtSize
;

213 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

216 
	gS‘tšgs
::
£tDeçuÉFixedFÚtSize
(
deçuÉFÚtSize
)

218 ià(
m_deçuÉFixedFÚtSize
 =ğ
deçuÉFÚtSize
)

221 
	gm_deçuÉFixedFÚtSize
 = 
deçuÉFÚtSize
;

222 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

225 
	gS‘tšgs
::
£tLßdsImagesAutom©iÿÎy
(
boŞ
 
lßdsImagesAutom©iÿÎy
)

227 
m_lßdsImagesAutom©iÿÎy
 = 
lßdsImagesAutom©iÿÎy
;

230 
	gS‘tšgs
::
£tJavaSütEÇbËd
(
boŞ
 
isJavaSütEÇbËd
)

232 
m_isJavaSütEÇbËd
 = 
isJavaSütEÇbËd
;

235 
	gS‘tšgs
::
£tWebSecur™yEÇbËd
(
boŞ
 
isWebSecur™yEÇbËd
)

237 
m_isWebSecur™yEÇbËd
 = 
isWebSecur™yEÇbËd
;

240 
	gS‘tšgs
::
£tAÎowUniv”§lAcûssFromFeURLs
(
boŞ
 
®lowUniv”§lAcûssFromFeURLs
)

242 
m_®lowUniv”§lAcûssFromFeURLs
 = 
®lowUniv”§lAcûssFromFeURLs
;

245 
	gS‘tšgs
::
£tAÎowFeAcûssFromFeURLs
(
boŞ
 
®lowFeAcûssFromFeURLs
)

247 
m_®lowFeAcûssFromFeURLs
 = 
®lowFeAcûssFromFeURLs
;

250 
	gS‘tšgs
::
£tS·tŸlNavig©iÚEÇbËd
(
boŞ
 
isS·tŸlNavig©iÚEÇbËd
)

252 
m_isS·tŸlNavig©iÚEÇbËd
 = 
isS·tŸlNavig©iÚEÇbËd
;

255 
	gS‘tšgs
::
£tJavaEÇbËd
(
boŞ
 
isJavaEÇbËd
)

257 
m_isJavaEÇbËd
 = 
isJavaEÇbËd
;

260 
	gS‘tšgs
::
£tImagesEÇbËd
(
boŞ
 
¬eImagesEÇbËd
)

262 
m_¬eImagesEÇbËd
 = 
¬eImagesEÇbËd
;

265 
	gS‘tšgs
::
£tPlugšsEÇbËd
(
boŞ
 
¬ePlugšsEÇbËd
)

267 
m_¬ePlugšsEÇbËd
 = 
¬ePlugšsEÇbËd
;

270 
	gS‘tšgs
::
£tLoÿlStÜageEÇbËd
(
boŞ
 
loÿlStÜageEÇbËd
)

272 
m_loÿlStÜageEÇbËd
 = 
loÿlStÜageEÇbËd
;

275 
	gS‘tšgs
::
£tLoÿlStÜageQuÙa
(
loÿlStÜageQuÙa
)

277 
m_loÿlStÜageQuÙa
 = 
loÿlStÜageQuÙa
;

280 
	gS‘tšgs
::
£tPriv©eBrowsšgEÇbËd
(
boŞ
 
´iv©eBrowsšgEÇbËd
)

282 ià(
m_´iv©eBrowsšgEÇbËd
 =ğ
´iv©eBrowsšgEÇbËd
)

285 
	gm_´iv©eBrowsšgEÇbËd
 = 
´iv©eBrowsšgEÇbËd
;

286 
	gm_·ge
->
´iv©eBrowsšgS‹Chªged
();

289 
	gS‘tšgs
::
£tJavaSütCªO³nWšdowsAutom©iÿÎy
(
boŞ
 
javaSütCªO³nWšdowsAutom©iÿÎy
)

291 
m_javaSütCªO³nWšdowsAutom©iÿÎy
 = 
javaSütCªO³nWšdowsAutom©iÿÎy
;

294 
	gS‘tšgs
::
£tDeçuÉTextEncodšgName
(cÚ¡ 
SŒšg
& 
deçuÉTextEncodšgName
)

296 
m_deçuÉTextEncodšgName
 = 
deçuÉTextEncodšgName
;

299 
	gS‘tšgs
::
£tU£rStyËSh“tLoÿtiÚ
(cÚ¡ 
KURL
& 
u£rStyËSh“tLoÿtiÚ
)

301 ià(
m_u£rStyËSh“tLoÿtiÚ
 =ğ
u£rStyËSh“tLoÿtiÚ
)

304 
	gm_u£rStyËSh“tLoÿtiÚ
 = 
u£rStyËSh“tLoÿtiÚ
;

306 
	gm_·ge
->
u£rStyËSh“tLoÿtiÚChªged
();

309 
	gS‘tšgs
::
£tShouldPrštBackgrounds
(
boŞ
 
shouldPrštBackgrounds
)

311 
m_shouldPrštBackgrounds
 = 
shouldPrštBackgrounds
;

314 
	gS‘tšgs
::
£tTextA»asA»ResizabË
(
boŞ
 
‹xtA»asA»ResizabË
)

316 ià(
m_‹xtA»asA»ResizabË
 =ğ
‹xtA»asA»ResizabË
)

319 
	gm_‹xtA»asA»ResizabË
 = 
‹xtA»asA»ResizabË
;

320 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

323 
	gS‘tšgs
::
£tEd™abËLškBehaviÜ
(
Ed™abËLškBehaviÜ
 
ed™abËLškBehaviÜ
)

325 
m_ed™abËLškBehaviÜ
 = 
ed™abËLškBehaviÜ
;

328 
	gS‘tšgs
::
£tTextDœeùiÚSubm’uInşusiÚBehaviÜ
(
TextDœeùiÚSubm’uInşusiÚBehaviÜ
 
behaviÜ
)

330 
m_‹xtDœeùiÚSubm’uInşusiÚBehaviÜ
 = 
behaviÜ
;

333 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

334 
	gS‘tšgs
::
£tU£sDashbßrdBackw¬dCom·tib™yMode
(
boŞ
 
u£sDashbßrdBackw¬dCom·tib™yMode
)

336 
m_u£sDashbßrdBackw¬dCom·tib™yMode
 = 
u£sDashbßrdBackw¬dCom·tib™yMode
;

342 
	gS‘tšgs
::
£tN“dsAdobeF¿meR–ßdšgQuœk
(
boŞ
 
shouldNÙR–ßdIF¿mesFÜUnchªgedSRC
)

344 
m_ÃedsAdobeF¿meR–ßdšgQuœk
 = 
shouldNÙR–ßdIF¿mesFÜUnchªgedSRC
;

350 
	gS‘tšgs
::
£tN“dsKeybßrdEv’tDi§mbigu©iÚQuœks
(
boŞ
 
ÃedsQuœks
)

352 
m_ÃedsKeybßrdEv’tDi§mbigu©iÚQuœks
 = 
ÃedsQuœks
;

355 
	gS‘tšgs
::
£tT»©sAnyTextCSSLškAsStyËsh“t
(
boŞ
 
Œ—tsAnyTextCSSLškAsStyËsh“t
)

357 
m_Œ—tsAnyTextCSSLškAsStyËsh“t
 = 
Œ—tsAnyTextCSSLškAsStyËsh“t
;

360 
	gS‘tšgs
::
£tN“dsLeİ¬dMaQuœks
(
boŞ
 
ÃedsQuœks
)

362 
m_ÃedsLeİ¬dMaQuœks
 = 
ÃedsQuœks
;

365 
	gS‘tšgs
::
£tN“dsTig”MaQuœks
(
boŞ
 
ÃedsQuœks
)

367 
m_ÃedsTig”MaQuœks
 = 
ÃedsQuœks
;

370 
	gS‘tšgs
::
£tDOMPa¡eAÎowed
(
boŞ
 
DOMPa¡eAÎowed
)

372 
m_isDOMPa¡eAÎowed
 = 
DOMPa¡eAÎowed
;

375 
	gS‘tšgs
::
£tU£sPageCache
(
boŞ
 
u£sPageCache
)

377 ià(
m_u£sPageCache
 =ğ
u£sPageCache
)

380 
	gm_u£sPageCache
 = 
u£sPageCache
;

381 ià(!
	gm_u£sPageCache
) {

382 
	gHi¡ÜyI‹mVeùÜ
& 
	ghi¡ÜyI‹ms
 = 
m_·ge
->
backFÜw¬dLi¡
()->
’Œ›s
();

383 
	gi
 = 0; i < 
	ghi¡ÜyI‹ms
.
size
(); i++)

384 
·geCache
()->
»move
(
hi¡ÜyI‹ms
[
i
].
g‘
());

385 
·geCache
()->
»Ëa£AutÜ–—£dPagesNow
();

389 
	gS‘tšgs
::
£tShršksSnd®ÚeImagesToF™
(
boŞ
 
shršksSnd®ÚeImagesToF™
)

391 
m_shršksSnd®ÚeImagesToF™
 = 
shršksSnd®ÚeImagesToF™
;

394 
	gS‘tšgs
::
£tShowsURLsInToŞTs
(
boŞ
 
showsURLsInToŞTs
)

396 
m_showsURLsInToŞTs
 = 
showsURLsInToŞTs
;

399 
	gS‘tšgs
::
£tFTPDœeùÜyTem¶©eP©h
(cÚ¡ 
SŒšg
& 
·th
)

401 
m_ápDœeùÜyTem¶©eP©h
 = 
·th
;

404 
	gS‘tšgs
::
£tFÜûFTPDœeùÜyLi¡šgs
(
boŞ
 
fÜû
)

406 
m_fÜûFTPDœeùÜyLi¡šgs
 = 
fÜû
;

409 
	gS‘tšgs
::
£tDev–İ”ExŒasEÇbËd
(
boŞ
 
dev–İ”ExŒasEÇbËd
)

411 
m_dev–İ”ExŒasEÇbËd
 = 
dev–İ”ExŒasEÇbËd
;

414 
	gS‘tšgs
::
£tAuthÜAndU£rStyËsEÇbËd
(
boŞ
 
authÜAndU£rStyËsEÇbËd
)

416 ià(
m_authÜAndU£rStyËsEÇbËd
 =ğ
authÜAndU£rStyËsEÇbËd
)

419 
	gm_authÜAndU£rStyËsEÇbËd
 = 
authÜAndU£rStyËsEÇbËd
;

420 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

423 
	gS‘tšgs
::
£tFÚtR’d”šgMode
(
FÚtR’d”šgMode
 
mode
)

425 ià(
fÚtR’d”šgMode
(è=ğ
mode
)

427 
	gm_fÚtR’d”šgMode
 = 
mode
;

428 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

431 
FÚtR’d”šgMode
 
	gS‘tšgs
::
fÚtR’d”šgMode
() const

433  
¡©ic_ÿ¡
<
FÚtR’d”šgMode
>(
m_fÚtR’d”šgMode
);

436 
	gS‘tšgs
::
£tN“dsS™eS³cificQuœks
(
boŞ
 
ÃedsQuœks
)

438 
m_ÃedsS™eS³cificQuœks
 = 
ÃedsQuœks
;

441 
	gS‘tšgs
::
£tF¿meFÏ‰’šgEÇbËd
(
boŞ
 
äameFÏ‰’šgEÇbËd
)

443 
m_äameFÏ‰’šgEÇbËd
 = 
äameFÏ‰’šgEÇbËd
;

446 
	gS‘tšgs
::
£tWebArchiveDebugModeEÇbËd
(
boŞ
 
’abËd
)

448 
m_webArchiveDebugModeEÇbËd
 = 
’abËd
;

451 
	gS‘tšgs
::
£tLoÿlFeCÚ‹ÁSniffšgEÇbËd
(
boŞ
 
’abËd
)

453 
m_loÿlFeCÚ‹ÁSniffšgEÇbËd
 = 
’abËd
;

456 
	gS‘tšgs
::
£tLoÿlStÜageD©aba£P©h
(cÚ¡ 
SŒšg
& 
·th
)

458 
m_loÿlStÜageD©aba£P©h
 = 
·th
;

461 
	gS‘tšgs
::
£tAµliÿtiÚChromeMode
(
boŞ
 
mode
)

463 
m_šAµliÿtiÚChromeMode
 = 
mode
;

466 
	gS‘tšgs
::
£tOfæšeWebAµliÿtiÚCacheEÇbËd
(
boŞ
 
’abËd
)

468 
m_ofæšeWebAµliÿtiÚCacheEÇbËd
 = 
’abËd
;

471 
	gS‘tšgs
::
£tShouldPaštCu¡omSüŞlb¬s
(
boŞ
 
shouldPaštCu¡omSüŞlb¬s
)

473 
m_shouldPaštCu¡omSüŞlb¬s
 = 
shouldPaštCu¡omSüŞlb¬s
;

476 
	gS‘tšgs
::
£tZoomMode
(
ZoomMode
 
mode
)

478 ià(
mode
 =ğ
m_zoomMode
)

481 
	gm_zoomMode
 = 
mode
;

482 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

485 
	gS‘tšgs
::
£tEnfÜûCSSMIMETy³InSŒiùMode
(
boŞ
 
’fÜûCSSMIMETy³InSŒiùMode
)

487 
m_’fÜûCSSMIMETy³InSŒiùMode
 = 
’fÜûCSSMIMETy³InSŒiùMode
;

490 #ià
USE
(
SAFARI_THEME
)

491 
	gS‘tšgs
::
£tShouldPaštN©iveCÚŒŞs
(
boŞ
 
shouldPaštN©iveCÚŒŞs
)

493 
gShouldPaštN©iveCÚŒŞs
 = 
shouldPaštN©iveCÚŒŞs
;

497 
	gS‘tšgs
::
£tU£sEncodšgD‘eùÜ
(
boŞ
 
u£sEncodšgD‘eùÜ
)

499 
m_u£sEncodšgD‘eùÜ
 = 
u£sEncodšgD‘eùÜ
;

502 
	gS‘tšgs
::
£tAÎowSütsToClo£Wšdows
(
boŞ
 
®lowSütsToClo£Wšdows
)

504 
m_®lowSütsToClo£Wšdows
 = 
®lowSütsToClo£Wšdows
;

507 
	gS‘tšgs
::
£tC¬‘BrowsšgEÇbËd
(
boŞ
 
ÿ»tBrowsšgEÇbËd
)

509 
m_ÿ»tBrowsšgEÇbËd
 = 
ÿ»tBrowsšgEÇbËd
;

512 
	gS‘tšgs
::
£tDowÆßdabËBš¬yFÚtsEÇbËd
(
boŞ
 
dowÆßdabËBš¬yFÚtsEÇbËd
)

514 
m_dowÆßdabËBš¬yFÚtsEÇbËd
 = 
dowÆßdabËBš¬yFÚtsEÇbËd
;

517 
	gS‘tšgs
::
£tXSSAud™ÜEÇbËd
(
boŞ
 
xssAud™ÜEÇbËd
)

519 
m_xssAud™ÜEÇbËd
 = 
xssAud™ÜEÇbËd
;

522 
	gS‘tšgs
::
£tAcûË¿‹dCompos™šgEÇbËd
(
boŞ
 
’abËd
)

524 ià(
m_acûË¿‹dCompos™šgEÇbËd
 =ğ
’abËd
)

527 
	gm_acûË¿‹dCompos™šgEÇbËd
 = 
’abËd
;

528 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

531 
	gS‘tšgs
::
£tShowDebugBÜd”s
(
boŞ
 
’abËd
)

533 ià(
m_showDebugBÜd”s
 =ğ
’abËd
)

536 
	gm_showDebugBÜd”s
 = 
’abËd
;

537 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

540 
	gS‘tšgs
::
£tShowR•aštCouÁ”
(
boŞ
 
’abËd
)

542 ià(
m_showR•aštCouÁ”
 =ğ
’abËd
)

545 
	gm_showR•aštCouÁ”
 = 
’abËd
;

546 
£tN“dsR—µlyStyËsInAÎF¿mes
(
m_·ge
);

549 
	gS‘tšgs
::
£tEx³rim’lNÙifiÿtiÚsEÇbËd
(
boŞ
 
’abËd
)

551 
m_ex³rim’lNÙifiÿtiÚsEÇbËd
 = 
’abËd
;

554 
	gS‘tšgs
::
£tPlugšAÎowedRunTime
(
runTime
)

556 
m_¶ugšAÎowedRunTime
 = 
runTime
;

557 
	gm_·ge
->
¶ugšAÎowedRunTimeChªged
();

560 #ià
PLATFORM
(
WIN
è|| (
OS
(
WINDOWS
è&& PLATFORM(
WX
))

561 
	gS‘tšgs
::
£tShouldU£HighResŞutiÚTim”s
(
boŞ
 
shouldU£HighResŞutiÚTim”s
)

563 
gShouldU£HighResŞutiÚTim”s
 = 
shouldU£HighResŞutiÚTim”s
;

567 
	gS‘tšgs
::
£tWebGLEÇbËd
(
boŞ
 
’abËd
)

569 
m_webGLEÇbËd
 = 
’abËd
;

572 
	gS‘tšgs
::
£tLßdDeã¼šgEÇbËd
(
boŞ
 
’abËd
)

574 
m_lßdDeã¼šgEÇbËd
 = 
’abËd
;

577 
	gS‘tšgs
::
£tTedBackšgStÜeEÇbËd
(
boŞ
 
’abËd
)

579 
m_tedBackšgStÜeEÇbËd
 = 
’abËd
;

580 #ià
ENABLE
(
TILED_BACKING_STORE
)

581 ià(
	gm_·ge
->
mašF¿me
())

582 
	gm_·ge
->
mašF¿me
()->
£tTedBackšgStÜeEÇbËd
(
’abËd
);

	@Settings.h

27 #iâdeà
S‘tšgs_h


28 
	#S‘tšgs_h


	)

30 
	~"AtomicSŒšg.h
"

31 
	~"FÚtR’d”šgMode.h
"

32 
	~"KURL.h
"

33 
	~"ZoomMode.h
"

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gPage
;

39 
	eEd™abËLškBehaviÜ
 {

40 
	gEd™abËLškDeçuÉBehaviÜ
,

41 
	gEd™abËLškAlwaysLive
,

42 
	gEd™abËLškOÆyLiveW™hShiáKey
,

43 
	gEd™abËLškLiveWh’NÙFocu£d
,

44 
	gEd™abËLškNev”Live


47 
	eTextDœeùiÚSubm’uInşusiÚBehaviÜ
 {

48 
	gTextDœeùiÚSubm’uNev”Inşuded
,

49 
	gTextDœeùiÚSubm’uAutom©iÿÎyInşuded
,

50 
	gTextDœeùiÚSubm’uAlwaysInşuded


66 
	eEd™šgBehaviÜ
 { 
	gEd™šgMacBehaviÜ
, 
	gEd™šgWšdowsBehaviÜ
 };

68 şas 
	cS‘tšgs
 : 
public
 
NÚcİyabË
 {

69 
public
:

70 
S‘tšgs
(
Page
*);

72 
£tSnd¬dFÚtFamy
(cÚ¡ 
AtomicSŒšg
&);

73 cÚ¡ 
	gAtomicSŒšg
& 
¡ªd¬dFÚtFamy
(ècÚ¡ {  
	gm_¡ªd¬dFÚtFamy
; }

75 
£tFixedFÚtFamy
(cÚ¡ 
AtomicSŒšg
&);

76 cÚ¡ 
	gAtomicSŒšg
& 
fixedFÚtFamy
(ècÚ¡ {  
	gm_fixedFÚtFamy
; }

78 
£tS”ifFÚtFamy
(cÚ¡ 
AtomicSŒšg
&);

79 cÚ¡ 
	gAtomicSŒšg
& 
£rifFÚtFamy
(ècÚ¡ {  
	gm_£rifFÚtFamy
; }

81 
£tSªsS”ifFÚtFamy
(cÚ¡ 
AtomicSŒšg
&);

82 cÚ¡ 
	gAtomicSŒšg
& 
§nsS”ifFÚtFamy
(ècÚ¡ {  
	gm_§nsS”ifFÚtFamy
; }

84 
£tCursiveFÚtFamy
(cÚ¡ 
AtomicSŒšg
&);

85 cÚ¡ 
	gAtomicSŒšg
& 
cursiveFÚtFamy
(ècÚ¡ {  
	gm_cursiveFÚtFamy
; }

87 
£tFªsyFÚtFamy
(cÚ¡ 
AtomicSŒšg
&);

88 cÚ¡ 
	gAtomicSŒšg
& 
çÁasyFÚtFamy
(ècÚ¡ {  
	gm_çÁasyFÚtFamy
; }

90 
£tMšimumFÚtSize
();

91 
mšimumFÚtSize
(ècÚ¡ {  
	gm_mšimumFÚtSize
; }

93 
£tMšimumLogiÿlFÚtSize
();

94 
mšimumLogiÿlFÚtSize
(ècÚ¡ {  
	gm_mšimumLogiÿlFÚtSize
; }

96 
£tDeçuÉFÚtSize
();

97 
deçuÉFÚtSize
(ècÚ¡ {  
	gm_deçuÉFÚtSize
; }

99 
£tDeçuÉFixedFÚtSize
();

100 
deçuÉFixedFÚtSize
(ècÚ¡ {  
	gm_deçuÉFixedFÚtSize
; }

104 
£tLßdsImagesAutom©iÿÎy
(
boŞ
);

105 
boŞ
 
lßdsImagesAutom©iÿÎy
(ècÚ¡ {  
	gm_lßdsImagesAutom©iÿÎy
; }

107 
£tJavaSütEÇbËd
(
boŞ
);

111 
boŞ
 
isJavaSütEÇbËd
(ècÚ¡ {  
	gm_isJavaSütEÇbËd
; }

113 
£tWebSecur™yEÇbËd
(
boŞ
);

114 
boŞ
 
isWebSecur™yEÇbËd
(ècÚ¡ {  
	gm_isWebSecur™yEÇbËd
; }

116 
£tAÎowUniv”§lAcûssFromFeURLs
(
boŞ
);

117 
boŞ
 
®lowUniv”§lAcûssFromFeURLs
(ècÚ¡ {  
	gm_®lowUniv”§lAcûssFromFeURLs
; }

119 
£tAÎowFeAcûssFromFeURLs
(
boŞ
);

120 
boŞ
 
®lowFeAcûssFromFeURLs
(ècÚ¡ {  
	gm_®lowFeAcûssFromFeURLs
; }

122 
£tJavaSütCªO³nWšdowsAutom©iÿÎy
(
boŞ
);

123 
boŞ
 
javaSütCªO³nWšdowsAutom©iÿÎy
(ècÚ¡ {  
	gm_javaSütCªO³nWšdowsAutom©iÿÎy
; }

125 
£tS·tŸlNavig©iÚEÇbËd
(
boŞ
);

126 
boŞ
 
isS·tŸlNavig©iÚEÇbËd
(ècÚ¡ {  
	gm_isS·tŸlNavig©iÚEÇbËd
; }

128 
£tJavaEÇbËd
(
boŞ
);

129 
boŞ
 
isJavaEÇbËd
(ècÚ¡ {  
	gm_isJavaEÇbËd
; }

131 
£tImagesEÇbËd
(
boŞ
);

132 
boŞ
 
¬eImagesEÇbËd
(ècÚ¡ {  
	gm_¬eImagesEÇbËd
; }

134 
£tPlugšsEÇbËd
(
boŞ
);

135 
boŞ
 
¬ePlugšsEÇbËd
(ècÚ¡ {  
	gm_¬ePlugšsEÇbËd
; }

137 
£tLoÿlStÜageEÇbËd
(
boŞ
);

138 
boŞ
 
loÿlStÜageEÇbËd
(ècÚ¡ {  
	gm_loÿlStÜageEÇbËd
; }

140 
£tLoÿlStÜageQuÙa
();

141 
loÿlStÜageQuÙa
(ècÚ¡ {  
	gm_loÿlStÜageQuÙa
; }

143 
£tPriv©eBrowsšgEÇbËd
(
boŞ
);

144 
boŞ
 
´iv©eBrowsšgEÇbËd
(ècÚ¡ {  
	gm_´iv©eBrowsšgEÇbËd
; }

146 
£tC¬‘BrowsšgEÇbËd
(
boŞ
);

147 
boŞ
 
ÿ»tBrowsšgEÇbËd
(ècÚ¡ {  
	gm_ÿ»tBrowsšgEÇbËd
; }

149 
£tDeçuÉTextEncodšgName
(cÚ¡ 
SŒšg
&);

150 cÚ¡ 
	gSŒšg
& 
deçuÉTextEncodšgName
(ècÚ¡ {  
	gm_deçuÉTextEncodšgName
; }

152 
£tU£sEncodšgD‘eùÜ
(
boŞ
);

153 
boŞ
 
u£sEncodšgD‘eùÜ
(ècÚ¡ {  
	gm_u£sEncodšgD‘eùÜ
; }

155 
£tU£rStyËSh“tLoÿtiÚ
(cÚ¡ 
KURL
&);

156 cÚ¡ 
	gKURL
& 
u£rStyËSh“tLoÿtiÚ
(ècÚ¡ {  
	gm_u£rStyËSh“tLoÿtiÚ
; }

158 
£tShouldPrštBackgrounds
(
boŞ
);

159 
boŞ
 
shouldPrštBackgrounds
(ècÚ¡ {  
	gm_shouldPrštBackgrounds
; }

161 
£tTextA»asA»ResizabË
(
boŞ
);

162 
boŞ
 
‹xtA»asA»ResizabË
(ècÚ¡ {  
	gm_‹xtA»asA»ResizabË
; }

164 
£tEd™abËLškBehaviÜ
(
Ed™abËLškBehaviÜ
);

165 
Ed™abËLškBehaviÜ
 
ed™abËLškBehaviÜ
(ècÚ¡ {  
	gm_ed™abËLškBehaviÜ
; }

167 
£tTextDœeùiÚSubm’uInşusiÚBehaviÜ
(
TextDœeùiÚSubm’uInşusiÚBehaviÜ
);

168 
TextDœeùiÚSubm’uInşusiÚBehaviÜ
 
‹xtDœeùiÚSubm’uInşusiÚBehaviÜ
(ècÚ¡ {  
	gm_‹xtDœeùiÚSubm’uInşusiÚBehaviÜ
; }

170 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

171 
£tU£sDashbßrdBackw¬dCom·tib™yMode
(
boŞ
);

172 
boŞ
 
u£sDashbßrdBackw¬dCom·tib™yMode
(ècÚ¡ {  
	gm_u£sDashbßrdBackw¬dCom·tib™yMode
; }

175 
£tN“dsAdobeF¿meR–ßdšgQuœk
(
boŞ
);

176 
boŞ
 
ÃedsAüob©F¿meR–ßdšgQuœk
(ècÚ¡ {  
	gm_ÃedsAdobeF¿meR–ßdšgQuœk
; }

178 
£tN“dsKeybßrdEv’tDi§mbigu©iÚQuœks
(
boŞ
);

179 
boŞ
 
ÃedsKeybßrdEv’tDi§mbigu©iÚQuœks
(ècÚ¡ {  
	gm_ÃedsKeybßrdEv’tDi§mbigu©iÚQuœks
; }

181 
£tT»©sAnyTextCSSLškAsStyËsh“t
(
boŞ
);

182 
boŞ
 
Œ—tsAnyTextCSSLškAsStyËsh“t
(ècÚ¡ {  
	gm_Œ—tsAnyTextCSSLškAsStyËsh“t
; }

184 
£tN“dsLeİ¬dMaQuœks
(
boŞ
);

185 
boŞ
 
ÃedsLeİ¬dMaQuœks
(ècÚ¡ {  
	gm_ÃedsLeİ¬dMaQuœks
; }

187 
£tN“dsTig”MaQuœks
(
boŞ
);

188 
boŞ
 
ÃedsTig”MaQuœks
(ècÚ¡ {  
	gm_ÃedsTig”MaQuœks
; }

190 
£tDOMPa¡eAÎowed
(
boŞ
);

191 
boŞ
 
isDOMPa¡eAÎowed
(ècÚ¡ {  
	gm_isDOMPa¡eAÎowed
; }

193 
£tU£sPageCache
(
boŞ
);

194 
boŞ
 
u£sPageCache
(ècÚ¡ {  
	gm_u£sPageCache
; }

196 
£tShršksSnd®ÚeImagesToF™
(
boŞ
);

197 
boŞ
 
shršksSnd®ÚeImagesToF™
(ècÚ¡ {  
	gm_shršksSnd®ÚeImagesToF™
; }

199 
£tShowsURLsInToŞTs
(
boŞ
);

200 
boŞ
 
showsURLsInToŞTs
(ècÚ¡ {  
	gm_showsURLsInToŞTs
; }

202 
£tFTPDœeùÜyTem¶©eP©h
(cÚ¡ 
SŒšg
&);

203 cÚ¡ 
	gSŒšg
& 
ápDœeùÜyTem¶©eP©h
(ècÚ¡ {  
	gm_ápDœeùÜyTem¶©eP©h
; }

205 
£tFÜûFTPDœeùÜyLi¡šgs
(
boŞ
);

206 
boŞ
 
fÜûFTPDœeùÜyLi¡šgs
(ècÚ¡ {  
	gm_fÜûFTPDœeùÜyLi¡šgs
; }

208 
£tDev–İ”ExŒasEÇbËd
(
boŞ
);

209 
boŞ
 
dev–İ”ExŒasEÇbËd
(ècÚ¡ {  
	gm_dev–İ”ExŒasEÇbËd
; }

211 
£tF¿meFÏ‰’šgEÇbËd
(
boŞ
);

212 
boŞ
 
äameFÏ‰’šgEÇbËd
(ècÚ¡ {  
	gm_äameFÏ‰’šgEÇbËd
; }

214 
£tAuthÜAndU£rStyËsEÇbËd
(
boŞ
);

215 
boŞ
 
authÜAndU£rStyËsEÇbËd
(ècÚ¡ {  
	gm_authÜAndU£rStyËsEÇbËd
; }

217 
£tFÚtR’d”šgMode
(
FÚtR’d”šgMode
 
mode
);

218 
FÚtR’d”šgMode
 
fÚtR’d”šgMode
() const;

220 
£tN“dsS™eS³cificQuœks
(
boŞ
);

221 
boŞ
 
ÃedsS™eS³cificQuœks
(ècÚ¡ {  
	gm_ÃedsS™eS³cificQuœks
; }

223 
£tWebArchiveDebugModeEÇbËd
(
boŞ
);

224 
boŞ
 
webArchiveDebugModeEÇbËd
(ècÚ¡ {  
	gm_webArchiveDebugModeEÇbËd
; }

226 
£tLoÿlFeCÚ‹ÁSniffšgEÇbËd
(
boŞ
);

227 
boŞ
 
loÿlFeCÚ‹ÁSniffšgEÇbËd
(ècÚ¡ {  
	gm_loÿlFeCÚ‹ÁSniffšgEÇbËd
; }

229 
£tLoÿlStÜageD©aba£P©h
(cÚ¡ 
SŒšg
&);

230 cÚ¡ 
	gSŒšg
& 
loÿlStÜageD©aba£P©h
(ècÚ¡ {  
	gm_loÿlStÜageD©aba£P©h
; }

232 
£tAµliÿtiÚChromeMode
(
boŞ
);

233 
boŞ
 
šAµliÿtiÚChromeMode
(ècÚ¡ {  
	gm_šAµliÿtiÚChromeMode
; }

235 
£tOfæšeWebAµliÿtiÚCacheEÇbËd
(
boŞ
);

236 
boŞ
 
ofæšeWebAµliÿtiÚCacheEÇbËd
(ècÚ¡ {  
	gm_ofæšeWebAµliÿtiÚCacheEÇbËd
; }

238 
£tShouldPaštCu¡omSüŞlb¬s
(
boŞ
);

239 
boŞ
 
shouldPaštCu¡omSüŞlb¬s
(ècÚ¡ {  
	gm_shouldPaštCu¡omSüŞlb¬s
; }

241 
£tZoomMode
(
ZoomMode
);

242 
ZoomMode
 
zoomMode
(ècÚ¡ {  
	gm_zoomMode
; }

244 
£tEnfÜûCSSMIMETy³InSŒiùMode
(
boŞ
);

245 
boŞ
 
’fÜûCSSMIMETy³InSŒiùMode
(è{  
	gm_’fÜûCSSMIMETy³InSŒiùMode
; }

247 
£tMaximumDecodedImageSize
(
size_t
 
size
è{ 
	gm_maximumDecodedImageSize
 = size; }

248 
size_t
 
maximumDecodedImageSize
(ècÚ¡ {  
	gm_maximumDecodedImageSize
; }

250 #ià
USE
(
SAFARI_THEME
)

252 
£tShouldPaštN©iveCÚŒŞs
(
boŞ
);

253 
boŞ
 
shouldPaštN©iveCÚŒŞs
(è{  
	ggShouldPaštN©iveCÚŒŞs
; }

256 
£tAÎowSütsToClo£Wšdows
(
boŞ
);

257 
boŞ
 
®lowSütsToClo£Wšdows
(ècÚ¡ {  
	gm_®lowSütsToClo£Wšdows
; }

259 
£tEd™šgBehaviÜ
(
Ed™šgBehaviÜ
 
behaviÜ
è{ 
	gm_ed™šgBehaviÜ
 = behavior; }

260 
Ed™šgBehaviÜ
 
ed™šgBehaviÜ
(ècÚ¡ {  
	g¡©ic_ÿ¡
<
	gEd™šgBehaviÜ
>(
	gm_ed™šgBehaviÜ
); }

262 
£tDowÆßdabËBš¬yFÚtsEÇbËd
(
boŞ
);

263 
boŞ
 
dowÆßdabËBš¬yFÚtsEÇbËd
(ècÚ¡ {  
	gm_dowÆßdabËBš¬yFÚtsEÇbËd
; }

265 
£tXSSAud™ÜEÇbËd
(
boŞ
);

266 
boŞ
 
xssAud™ÜEÇbËd
(ècÚ¡ {  
	gm_xssAud™ÜEÇbËd
; }

268 
£tAcûË¿‹dCompos™šgEÇbËd
(
boŞ
);

269 
boŞ
 
acûË¿‹dCompos™šgEÇbËd
(ècÚ¡ {  
	gm_acûË¿‹dCompos™šgEÇbËd
; }

271 
£tShowDebugBÜd”s
(
boŞ
);

272 
boŞ
 
showDebugBÜd”s
(ècÚ¡ {  
	gm_showDebugBÜd”s
; }

274 
£tShowR•aštCouÁ”
(
boŞ
);

275 
boŞ
 
showR•aštCouÁ”
(ècÚ¡ {  
	gm_showR•aštCouÁ”
; }

277 
£tEx³rim’lNÙifiÿtiÚsEÇbËd
(
boŞ
);

278 
boŞ
 
ex³rim’lNÙifiÿtiÚsEÇbËd
(ècÚ¡ {  
	gm_ex³rim’lNÙifiÿtiÚsEÇbËd
; }

280 #ià
PLATFORM
(
WIN
è|| (
OS
(
WINDOWS
è&& PLATFORM(
WX
))

281 
£tShouldU£HighResŞutiÚTim”s
(
boŞ
);

282 
boŞ
 
shouldU£HighResŞutiÚTim”s
(è{  
	ggShouldU£HighResŞutiÚTim”s
; }

285 
£tPlugšAÎowedRunTime
();

286 
¶ugšAÎowedRunTime
(ècÚ¡ {  
	gm_¶ugšAÎowedRunTime
; }

288 
£tWebGLEÇbËd
(
boŞ
);

289 
boŞ
 
webGLEÇbËd
(ècÚ¡ {  
	gm_webGLEÇbËd
; }

291 
£tLßdDeã¼šgEÇbËd
(
boŞ
);

292 
boŞ
 
lßdDeã¼šgEÇbËd
(ècÚ¡ {  
	gm_lßdDeã¼šgEÇbËd
; }

294 
£tTedBackšgStÜeEÇbËd
(
boŞ
);

295 
boŞ
 
tedBackšgStÜeEÇbËd
(ècÚ¡ {  
	gm_tedBackšgStÜeEÇbËd
; }

297 
	g´iv©e
:

298 
Page
* 
m_·ge
;

300 
SŒšg
 
	gm_deçuÉTextEncodšgName
;

301 
SŒšg
 
	gm_ápDœeùÜyTem¶©eP©h
;

302 
SŒšg
 
	gm_loÿlStÜageD©aba£P©h
;

303 
KURL
 
	gm_u£rStyËSh“tLoÿtiÚ
;

304 
AtomicSŒšg
 
	gm_¡ªd¬dFÚtFamy
;

305 
AtomicSŒšg
 
	gm_fixedFÚtFamy
;

306 
AtomicSŒšg
 
	gm_£rifFÚtFamy
;

307 
AtomicSŒšg
 
	gm_§nsS”ifFÚtFamy
;

308 
AtomicSŒšg
 
	gm_cursiveFÚtFamy
;

309 
AtomicSŒšg
 
	gm_çÁasyFÚtFamy
;

310 
Ed™abËLškBehaviÜ
 
	gm_ed™abËLškBehaviÜ
;

311 
TextDœeùiÚSubm’uInşusiÚBehaviÜ
 
	gm_‹xtDœeùiÚSubm’uInşusiÚBehaviÜ
;

312 
	gm_mšimumFÚtSize
;

313 
	gm_mšimumLogiÿlFÚtSize
;

314 
	gm_deçuÉFÚtSize
;

315 
	gm_deçuÉFixedFÚtSize
;

316 
size_t
 
	gm_maximumDecodedImageSize
;

317 
	gm_loÿlStÜageQuÙa
;

318 
	gm_¶ugšAÎowedRunTime
;

319 
ZoomMode
 
	gm_zoomMode
;

320 
boŞ
 
	gm_isS·tŸlNavig©iÚEÇbËd
 : 1;

321 
boŞ
 
	gm_isJavaEÇbËd
 : 1;

322 
boŞ
 
	gm_lßdsImagesAutom©iÿÎy
 : 1;

323 
boŞ
 
	gm_´iv©eBrowsšgEÇbËd
 : 1;

324 
boŞ
 
	gm_ÿ»tBrowsšgEÇbËd
 : 1;

325 
boŞ
 
	gm_¬eImagesEÇbËd
 : 1;

326 
boŞ
 
	gm_¬ePlugšsEÇbËd
 : 1;

327 
boŞ
 
	gm_loÿlStÜageEÇbËd
 : 1;

328 
boŞ
 
	gm_isJavaSütEÇbËd
 : 1;

329 
boŞ
 
	gm_isWebSecur™yEÇbËd
 : 1;

330 
boŞ
 
	gm_®lowUniv”§lAcûssFromFeURLs
: 1;

331 
boŞ
 
	gm_®lowFeAcûssFromFeURLs
: 1;

332 
boŞ
 
	gm_javaSütCªO³nWšdowsAutom©iÿÎy
 : 1;

333 
boŞ
 
	gm_shouldPrštBackgrounds
 : 1;

334 
boŞ
 
	gm_‹xtA»asA»ResizabË
 : 1;

335 #ià
ENABLE
(
DASHBOARD_SUPPORT
)

336 
boŞ
 
	gm_u£sDashbßrdBackw¬dCom·tib™yMode
 : 1;

338 
boŞ
 
	gm_ÃedsAdobeF¿meR–ßdšgQuœk
 : 1;

339 
boŞ
 
	gm_ÃedsKeybßrdEv’tDi§mbigu©iÚQuœks
 : 1;

340 
boŞ
 
	gm_Œ—tsAnyTextCSSLškAsStyËsh“t
 : 1;

341 
boŞ
 
	gm_ÃedsLeİ¬dMaQuœks
 : 1;

342 
boŞ
 
	gm_ÃedsTig”MaQuœks
 : 1;

343 
boŞ
 
	gm_isDOMPa¡eAÎowed
 : 1;

344 
boŞ
 
	gm_shršksSnd®ÚeImagesToF™
 : 1;

345 
boŞ
 
	gm_u£sPageCache
: 1;

346 
boŞ
 
	gm_showsURLsInToŞTs
 : 1;

347 
boŞ
 
	gm_fÜûFTPDœeùÜyLi¡šgs
 : 1;

348 
boŞ
 
	gm_dev–İ”ExŒasEÇbËd
 : 1;

349 
boŞ
 
	gm_authÜAndU£rStyËsEÇbËd
 : 1;

350 
boŞ
 
	gm_ÃedsS™eS³cificQuœks
 : 1;

351 
	gm_fÚtR’d”šgMode
 : 1;

352 
boŞ
 
	gm_äameFÏ‰’šgEÇbËd
 : 1;

353 
boŞ
 
	gm_webArchiveDebugModeEÇbËd
 : 1;

354 
boŞ
 
	gm_loÿlFeCÚ‹ÁSniffšgEÇbËd
 : 1;

355 
boŞ
 
	gm_šAµliÿtiÚChromeMode
 : 1;

356 
boŞ
 
	gm_ofæšeWebAµliÿtiÚCacheEÇbËd
 : 1;

357 
boŞ
 
	gm_shouldPaštCu¡omSüŞlb¬s
 : 1;

358 
boŞ
 
	gm_’fÜûCSSMIMETy³InSŒiùMode
 : 1;

359 
boŞ
 
	gm_u£sEncodšgD‘eùÜ
 : 1;

360 
boŞ
 
	gm_®lowSütsToClo£Wšdows
 : 1;

361 
	gm_ed™šgBehaviÜ
 : 1;

362 
boŞ
 
	gm_dowÆßdabËBš¬yFÚtsEÇbËd
 : 1;

363 
boŞ
 
	gm_xssAud™ÜEÇbËd
 : 1;

364 
boŞ
 
	gm_acûË¿‹dCompos™šgEÇbËd
 : 1;

365 
boŞ
 
	gm_showDebugBÜd”s
 : 1;

366 
boŞ
 
	gm_showR•aštCouÁ”
 : 1;

367 
boŞ
 
	gm_ex³rim’lNÙifiÿtiÚsEÇbËd
 : 1;

368 
boŞ
 
	gm_webGLEÇbËd
 : 1;

369 
boŞ
 
	gm_lßdDeã¼šgEÇbËd
 : 1;

370 
boŞ
 
	gm_tedBackšgStÜeEÇbËd
 : 1;

372 #ià
USE
(
SAFARI_THEME
)

373 
boŞ
 
	ggShouldPaštN©iveCÚŒŞs
;

375 #ià
PLATFORM
(
WIN
è|| (
OS
(
WINDOWS
è&& PLATFORM(
WX
))

376 
boŞ
 
	ggShouldU£HighResŞutiÚTim”s
;

	@SpatialNavigation.cpp

29 
	~"cÚfig.h
"

30 
	~"S·tŸlNavig©iÚ.h
"

32 
	~"F¿me.h
"

33 
	~"F¿meT»e.h
"

34 
	~"F¿meV›w.h
"

35 
	~"HTMLF¿meOwÃrEËm’t.h
"

36 
	~"IÁReù.h
"

37 
	~"Node.h
"

38 
	~"Page.h
"

40 
Çme¥aû
 
	gWebCÜe
 {

42 
¥©ŸlDi¡ªû
(
FocusDœeùiÚ
, cÚ¡ 
IÁReù
&, const IntRect&);

43 
IÁReù
 
»nd”ReùR–©iveToRoÙDocum’t
(
R’d”Objeù
*);

44 
ReùsAlignm’t
 
®ignm’tFÜReùs
(
FocusDœeùiÚ
, cÚ¡ 
IÁReù
&, const IntRect&);

45 
boŞ
 
¬eReùsFuÎyAligÃd
(
FocusDœeùiÚ
, cÚ¡ 
IÁReù
&, const IntRect&);

46 
boŞ
 
¬eReùsP¬tŸÎyAligÃd
(
FocusDœeùiÚ
, cÚ¡ 
IÁReù
&, const IntRect&);

47 
boŞ
 
isReùInDœeùiÚ
(
FocusDœeùiÚ
, cÚ¡ 
IÁReù
&, const IntRect&);

48 
deæ©eIfOv”Ïµed
(
IÁReù
&, IntRect&);

49 
boŞ
 
checkNeg©iveCoÜdsFÜNode
(
Node
*, cÚ¡ 
IÁReù
&);

51 
di¡ªûD©aFÜNode
(
FocusDœeùiÚ
 
dœeùiÚ
, 
Node
* 
¡¬t
, 
FocusCªdid©e
& 
ÿndid©e
)

53 
R’d”Objeù
* 
	g¡¬tR’d”
 = 
¡¬t
->
»nd””
();

54 ià(!
	g¡¬tR’d”
) {

55 
	gÿndid©e
.
	gdi¡ªû
 = 
maxDi¡ªû
();

59 
R’d”Objeù
* 
	gde¡R’d”
 = 
ÿndid©e
.
node
->
»nd””
();

60 ià(!
	gde¡R’d”
) {

61 
	gÿndid©e
.
	gdi¡ªû
 = 
maxDi¡ªû
();

65 
IÁReù
 
	gcurReù
 = 
»nd”ReùR–©iveToRoÙDocum’t
(
¡¬tR’d”
);

66 
IÁReù
 
	grg‘Reù
 = 
»nd”ReùR–©iveToRoÙDocum’t
(
de¡R’d”
);

70 
deæ©eIfOv”Ïµed
(
curReù
, 
rg‘Reù
);

73 ià(
	gcurReù
.
isEm±y
(è|| 
	grg‘Reù
.isEmpty()

74 || 
	grg‘Reù
.
width
(è<ğ0 || 
rg‘Reù
.
height
() <= 0) {

75 
ÿndid©e
.
di¡ªû
 = 
maxDi¡ªû
();

80 ià(!
checkNeg©iveCoÜdsFÜNode
(
¡¬t
, 
curReù
)) {

81 
	gÿndid©e
.
	gdi¡ªû
 = 
maxDi¡ªû
();

85 ià(!
checkNeg©iveCoÜdsFÜNode
(
ÿndid©e
.
node
, 
rg‘Reù
)) {

86 
	gÿndid©e
.
	gdi¡ªû
 = 
maxDi¡ªû
();

90 ià(!
isReùInDœeùiÚ
(
dœeùiÚ
, 
curReù
, 
rg‘Reù
)) {

91 
	gÿndid©e
.
	gdi¡ªû
 = 
maxDi¡ªû
();

98 
	gÿndid©e
.
	g®ignm’t
 = 
®ignm’tFÜReùs
(
dœeùiÚ
, 
curReù
, 
rg‘Reù
);

99 
	gÿndid©e
.
	gdi¡ªû
 = 
¥©ŸlDi¡ªû
(
dœeùiÚ
, 
curReù
, 
rg‘Reù
);

103 
IÁReù
 
»nd”ReùR–©iveToRoÙDocum’t
(
R’d”Objeù
* 
»nd”
)

105 
ASSERT
(
»nd”
);

107 
IÁReù
 
»ù
(
»nd”
->
absŞu‹Cl³dOv”æowReù
());

109 ià(
	g»ù
.
isEm±y
()) {

110 
EËm’t
* 
	ge
 = 
¡©ic_ÿ¡
<EËm’t*>(
»nd”
->
node
());

111 
	g»ù
 = 
e
->
g‘Reù
();

116 
Node
* 
	gnode
 = 
»nd”
->
node
();

117 
Docum’t
* 
	gmašDocum’t
 = 
node
->
docum’t
()->
·ge
()->
mašF¿me
()->document();

118 
boŞ
 
	gcÚsid”SüŞlOff£t
 = !(
hasOffsü“nReù
(
node
è&&‚ode->
docum’t
(è!ğ
mašDocum’t
);

120 ià(
	gcÚsid”SüŞlOff£t
) {

121 ià(
F¿meV›w
* 
	gäameV›w
 = 
»nd”
->
node
()->
docum’t
()->
v›w
())

122 
»ù
.
move
(-
äameV›w
->
süŞlOff£t
());

126 
F¿me
* 
	gäame
 = 
»nd”
->
docum’t
()->
äame
(); f¿me; f¿mğäame->
Œ“
()->
·»Á
()) {

127 ià(
HTMLF¿meOwÃrEËm’t
* 
owÃrEËm’t
 = 
äame
->ownerElement())

128 
»ù
.
move
(
owÃrEËm’t
->
off£tLeá
(), owÃrEËm’t->
off£tTİ
());

131  
	g»ù
;

134 
ReùsAlignm’t
 
®ignm’tFÜReùs
(
FocusDœeùiÚ
 
dœeùiÚ
, cÚ¡ 
IÁReù
& 
curReù
, cÚ¡ IÁReù& 
rg‘Reù
)

136 ià(
¬eReùsFuÎyAligÃd
(
dœeùiÚ
, 
curReù
, 
rg‘Reù
))

137  
	gFuÎ
;

139 ià(
¬eReùsP¬tŸÎyAligÃd
(
dœeùiÚ
, 
curReù
, 
rg‘Reù
))

140  
	gP¬tŸl
;

142  
	gNÚe
;

145 
šlše
 
boŞ
 
isHÜizÚlMove
(
FocusDœeùiÚ
 
dœeùiÚ
)

147  
	gdœeùiÚ
 =ğ
FocusDœeùiÚLeá
 || 
dœeùiÚ
 =ğ
FocusDœeùiÚRight
;

150 
šlše
 
¡¬t
(
FocusDœeùiÚ
 
dœeùiÚ
, cÚ¡ 
IÁReù
& 
»ù
)

152  
isHÜizÚlMove
(
dœeùiÚ
è? 
	g»ù
.
y
(è: 
»ù
.
x
();

155 
šlše
 
middË
(
FocusDœeùiÚ
 
dœeùiÚ
, cÚ¡ 
IÁReù
& 
»ù
)

157 
IÁPošt
 
ûÁ”
(
»ù
.center());

158  
isHÜizÚlMove
(
dœeùiÚ
è? 
	gûÁ”
.
y
(): 
ûÁ”
.
x
();

161 
šlše
 
’d
(
FocusDœeùiÚ
 
dœeùiÚ
, cÚ¡ 
IÁReù
& 
»ù
)

163  
isHÜizÚlMove
(
dœeùiÚ
è? 
	g»ù
.
bÙtom
(è: 
»ù
.
right
();

173 
boŞ
 
¬eReùsFuÎyAligÃd
(
FocusDœeùiÚ
 
dœeùiÚ
, cÚ¡ 
IÁReù
& 
a
, cÚ¡ IÁReù& 
b
)

175 
	gaS¹
, 
	gbS¹
, 
	gaEnd
, 
	gbEnd
;

177 
	gdœeùiÚ
) {

178 
	gFocusDœeùiÚLeá
:

179 
aS¹
 = 
a
.
x
();

180 
	gbEnd
 = 
b
.
right
();

182 
	gFocusDœeùiÚRight
:

183 
aS¹
 = 
b
.
x
();

184 
	gbEnd
 = 
a
.
right
();

186 
	gFocusDœeùiÚUp
:

187 
aS¹
 = 
a
.
y
();

188 
	gbEnd
 = 
b
.
y
();

190 
	gFocusDœeùiÚDown
:

191 
aS¹
 = 
b
.
y
();

192 
	gbEnd
 = 
a
.
y
();

195 
ASSERT_NOT_REACHED
();

196  
	gçl£
;

199 ià(
	gaS¹
 < 
	gbEnd
)

200  
	gçl£
;

202 
	gaS¹
 = 
¡¬t
(
dœeùiÚ
, 
a
);

203 
	gbS¹
 = 
¡¬t
(
dœeùiÚ
, 
b
);

205 
	gaMiddË
 = 
middË
(
dœeùiÚ
, 
a
);

206 
	gbMiddË
 = 
middË
(
dœeùiÚ
, 
b
);

208 
	gaEnd
 = 
’d
(
dœeùiÚ
, 
a
);

209 
	gbEnd
 = 
’d
(
dœeùiÚ
, 
b
);

235  ((
	gbMiddË
 >ğ
aS¹
 && 
bMiddË
 <ğ
aEnd
)

236 || (
aMiddË
 >ğ
bS¹
 &&‡MiddË <ğ
bEnd
)

237 || (
bS¹
 =ğ
aS¹
)

238 || (
bEnd
 =ğ
aEnd
));

245 
boŞ
 
¬eReùsP¬tŸÎyAligÃd
(
FocusDœeùiÚ
 
dœeùiÚ
, cÚ¡ 
IÁReù
& 
a
, cÚ¡ IÁReù& 
b
)

247 
	gaS¹
 = 
¡¬t
(
dœeùiÚ
, 
a
);

248 
	gbS¹
 = 
¡¬t
(
dœeùiÚ
, 
b
);

249 
	gbMiddË
 = 
middË
(
dœeùiÚ
, 
b
);

250 
	gaEnd
 = 
’d
(
dœeùiÚ
, 
a
);

251 
	gbEnd
 = 
’d
(
dœeùiÚ
, 
b
);

268  ((
	gbS¹
 >ğ
aS¹
 && 
bS¹
 <ğ
aEnd
)

269 || (
bS¹
 >ğ
aS¹
 && bS¹ <ğ
aEnd
)

270 || (
bEnd
 >ğ
aS¹
 && bEnd <ğ
aEnd
)

271 || (
bMiddË
 >ğ
aS¹
 && bMiddË <ğ
aEnd
)

272 || (
bEnd
 >ğ
aS¹
 && bEnd <ğ
aEnd
));

276 
šlše
 
boŞ
 
b–ow
(cÚ¡ 
IÁReù
& 
a
, cÚ¡ IÁReù& 
b
)

278  
	ga
.
y
(è> 
	gb
.
bÙtom
();

282 
šlše
 
boŞ
 
rightOf
(cÚ¡ 
IÁReù
& 
a
, cÚ¡ IÁReù& 
b
)

284  
	ga
.
x
(è> 
	gb
.
right
();

289 
¥©ŸlDi¡ªû
(
FocusDœeùiÚ
 
dœeùiÚ
, cÚ¡ 
IÁReù
& 
a
, cÚ¡ IÁReù& 
b
)

291 
	gx1
 = 0, 
	gy1
 = 0, 
	gx2
 = 0, 
	gy2
 = 0;

293 ià(
	gdœeùiÚ
 =ğ
FocusDœeùiÚLeá
) {

300 
x1
 = 
a
.
x
();

301 
	gx2
 = 
b
.
right
();

303 ià(
b–ow
(
a
, 
b
)) {

305 
	gy1
 = 
a
.
y
();

306 
	gy2
 = 
b
.
bÙtom
();

307 } ià(
b–ow
(
b
, 
a
)) {

309 
	gy1
 = 
a
.
bÙtom
();

310 
	gy2
 = 
b
.
y
();

313 
	gy1
 = 0;

314 
	gy2
 = 0;

316 } ià(
	gdœeùiÚ
 =ğ
FocusDœeùiÚRight
) {

323 
x1
 = 
a
.
right
();

324 
	gx2
 = 
b
.
x
();

326 ià(
b–ow
(
a
, 
b
)) {

328 
	gy1
 = 
a
.
y
();

329 
	gy2
 = 
b
.
bÙtom
();

330 } ià(
b–ow
(
b
, 
a
)) {

332 
	gy1
 = 
a
.
bÙtom
();

333 
	gy2
 = 
b
.
y
();

336 
	gy1
 = 0;

337 
	gy2
 = 0;

339 } ià(
	gdœeùiÚ
 =ğ
FocusDœeùiÚUp
) {

347 
y1
 = 
a
.
y
();

348 
	gy2
 = 
b
.
bÙtom
();

350 ià(
rightOf
(
a
, 
b
)) {

352 
	gx1
 = 
a
.
x
();

353 
	gx2
 = 
b
.
right
();

354 } ià(
rightOf
(
b
, 
a
)) {

356 
	gx1
 = 
a
.
right
();

357 
	gx2
 = 
b
.
x
();

360 
	gx1
 = 0;

361 
	gx2
 = 0;

363 } ià(
	gdœeùiÚ
 =ğ
FocusDœeùiÚDown
) {

370 
y1
 = 
a
.
bÙtom
();

371 
	gy2
 = 
b
.
y
();

373 ià(
rightOf
(
a
, 
b
)) {

375 
	gx1
 = 
a
.
x
();

376 
	gx2
 = 
b
.
right
();

377 } ià(
rightOf
(
b
, 
a
)) {

379 
	gx1
 = 
a
.
right
();

380 
	gx2
 = 
b
.
x
();

383 
	gx1
 = 0;

384 
	gx2
 = 0;

388 
	gdx
 = 
x1
 - 
x2
;

389 
	gdy
 = 
y1
 - 
y2
;

391 
	gdi¡ªû
 = (
dx
 * dxè+ (
dy
 * dy);

393 ià(
	gdi¡ªû
 < 0)

394 
	gdi¡ªû
 *= -1;

396  
	gdi¡ªû
;

399 
boŞ
 
isReùInDœeùiÚ
(
FocusDœeùiÚ
 
dœeùiÚ
, cÚ¡ 
IÁReù
& 
curReù
, cÚ¡ IÁReù& 
rg‘Reù
)

401 
IÁPošt
 
ûÁ”
(
rg‘Reù
.center());

402 
	grg‘MiddË
 = 
isHÜizÚlMove
(
dœeùiÚ
è? 
ûÁ”
.
x
(è: c’‹r.
y
();

404 
	gdœeùiÚ
) {

405 
	gFocusDœeùiÚLeá
:

406  
rg‘MiddË
 < 
curReù
.
x
();

407 
	gFocusDœeùiÚRight
:

408  
rg‘MiddË
 > 
curReù
.
right
();

409 
	gFocusDœeùiÚUp
:

410  
rg‘MiddË
 < 
curReù
.
y
();

411 
	gFocusDœeùiÚDown
:

412  
rg‘MiddË
 > 
curReù
.
bÙtom
();

414 
ASSERT_NOT_REACHED
();

417  
	gçl£
;

423 
boŞ
 
hasOffsü“nReù
(
Node
* 
node
)

428 
F¿meV›w
* 
	gäameV›w
 = 
node
->
docum’t
()->
v›w
();

429 ià(!
	gäameV›w
)

430  
	gŒue
;

432 
IÁReù
 
	gcÚš”V›wpÜtReù
 = 
äameV›w
->
visibËCÚ‹ÁReù
();

434 
R’d”Objeù
* 
	g»nd”
 = 
node
->
»nd””
();

435 ià(!
	g»nd”
)

436  
	gŒue
;

438 
IÁReù
 
»ù
(
»nd”
->
absŞu‹Cl³dOv”æowReù
());

439  !
	gcÚš”V›wpÜtReù
.
š‹r£ùs
(
»ù
);

444 
boŞ
 
süŞlInDœeùiÚ
(
F¿me
* 
äame
, 
FocusDœeùiÚ
 
dœeùiÚ
)

446 ià(!
	gäame
)

447  
	gçl£
;

449 
SüŞlDœeùiÚ
 
	gsüŞlDœeùiÚ
;

451 
	gdœeùiÚ
) {

452 
	gFocusDœeùiÚLeá
:

453 
süŞlDœeùiÚ
 = 
SüŞlLeá
;

455 
	gFocusDœeùiÚRight
:

456 
süŞlDœeùiÚ
 = 
SüŞlRight
;

458 
	gFocusDœeùiÚUp
:

459 
süŞlDœeùiÚ
 = 
SüŞlUp
;

461 
	gFocusDœeùiÚDown
:

462 
süŞlDœeùiÚ
 = 
SüŞlDown
;

465  
çl£
;

468  
	gäame
->
ev’tHªdËr
()->
süŞlRecursiv–y
(
süŞlDœeùiÚ
, 
SüŞlByLše
);

471 
süŞlIÁoV›w
(
EËm’t
* 
–em’t
)

477 cÚ¡ 
	gfudgeFaùÜ
 = 2;

478 
IÁReù
 
	gbounds
 = 
–em’t
->
g‘Reù
();

479 
	gbounds
.
šæ©e
(
fudgeFaùÜ
);

480 
	g–em’t
->
»nd””
()->
’şosšgLay”
()->
süŞlReùToVisibË
(
bounds
);

483 
boŞ
 
isInRoÙDocum’t
(
Node
* 
node
)

485 ià(!
	gnode
)

486  
	gçl£
;

488 
Docum’t
* 
	groÙDocum’t
 = 
node
->
docum’t
()->
·ge
()->
mašF¿me
()->document();

489  
	gnode
->
docum’t
(è=ğ
roÙDocum’t
;

492 
deæ©eIfOv”Ïµed
(
IÁReù
& 
a
, IÁReù& 
b
)

494 ià(!
	ga
.
š‹r£ùs
(
b
è||‡.
cÚšs
(bè|| 
	gb
.cÚšs(
a
))

497 cÚ¡ 
	gfudgeFaùÜ
 = -2;

500 ià((
	ga
.
width
(è+ 2 * 
	gfudgeFaùÜ
 > 0è&& (a.
height
() + 2 * fudgeFactor > 0))

501 
	ga
.
šæ©e
(
fudgeFaùÜ
);

503 ià((
	gb
.
width
(è+ 2 * 
	gfudgeFaùÜ
 > 0è&& (b.
height
() + 2 * fudgeFactor > 0))

504 
	gb
.
šæ©e
(
fudgeFaùÜ
);

507 
boŞ
 
checkNeg©iveCoÜdsFÜNode
(
Node
* 
node
, cÚ¡ 
IÁReù
& 
curReù
)

509 
ASSERT
(
node
 ||‚ode->
»nd””
());

511 ià(
	gcurReù
.
x
(è> 0 && curReù.
y
() > 0)

512  
	gŒue
;

514 
boŞ
 
	gÿnBeSüŞËd
 = 
çl£
;

516 
R’d”Objeù
* 
	g»nd””
 = 
node
->
»nd””
();

517 ; 
	g»nd””
;„’d”” = 
»nd””
->
·»Á
()) {

518 ià(
»nd””
->
isBox
(è&& 
toR’d”Box
Ô’d””)->
ÿnBeSüŞËdAndHasSüŞÏbËA»a
()) {

519 
ÿnBeSüŞËd
 = 
Œue
;

524  
	gÿnBeSüŞËd
;

	@SpatialNavigation.h

21 #iâdeà
S·tŸlNavig©iÚ_h


22 
	#S·tŸlNavig©iÚ_h


	)

24 
	~"FocusDœeùiÚ.h
"

25 
	~"Node.h
"

27 
	~<lim™s
>

29 
Çme¥aû
 
	gWebCÜe
 {

31 
şass
 
	gEËm’t
;

32 
şass
 
	gF¿me
;

33 
şass
 
	gIÁReù
;

34 
şass
 
	gR’d”Objeù
;

36 
usšg
 
Çme¥aû
 
	g¡d
;

38 
šlše
 
maxDi¡ªû
()

40  
	gnum”ic_lim™s
<>::
max
();

86 
	eReùsAlignm’t
 {

87 
	gNÚe
 = 0,

88 
	gP¬tŸl
,

89 
	gFuÎ


92 
	sFocusCªdid©e
 {

93 
FocusCªdid©e
()

94 : 
node
(0)

95 , 
di¡ªû
(
maxDi¡ªû
())

96 , 
·»ÁDi¡ªû
(
maxDi¡ªû
())

97 , 
®ignm’t
(
NÚe
)

98 , 
·»ÁAlignm’t
(
NÚe
)

102 
FocusCªdid©e
(
Node
* 
n
)

103 : 
node
(
n
)

104 , 
di¡ªû
(
maxDi¡ªû
())

105 , 
·»ÁDi¡ªû
(
maxDi¡ªû
())

106 , 
®ignm’t
(
NÚe
)

107 , 
·»ÁAlignm’t
(
NÚe
)

111 
boŞ
 
isNuÎ
(ècÚ¡ {  !
	gnode
; }

112 
Docum’t
* 
docum’t
(ècÚ¡ {  
	gnode
 ?‚ode->document() : 0; }

114 
Node
* 
	gnode
;

115 
	gdi¡ªû
;

116 
	g·»ÁDi¡ªû
;

117 
ReùsAlignm’t
 
	g®ignm’t
;

118 
ReùsAlignm’t
 
	g·»ÁAlignm’t
;

121 
di¡ªûD©aFÜNode
(
FocusDœeùiÚ
 
dœeùiÚ
, 
Node
* 
¡¬t
, 
FocusCªdid©e
& 
ÿndid©e
);

122 
boŞ
 
süŞlInDœeùiÚ
(
F¿me
*, 
FocusDœeùiÚ
);

123 
süŞlIÁoV›w
(
EËm’t
*);

124 
boŞ
 
hasOffsü“nReù
(
Node
*);

125 
boŞ
 
isInRoÙDocum’t
(
Node
*);

	@UserContentURLPattern.cpp

26 
	~"cÚfig.h
"

27 
	~"U£rCÚ‹ÁURLP©‹º.h
"

28 
	~"KURL.h
"

29 
	~<wtf/StdLibExŒas.h
>

31 
Çme¥aû
 
	gWebCÜe
 {

33 
boŞ
 
	gU£rCÚ‹ÁURLP©‹º
::
m©chesP©‹ºs
(cÚ¡ 
KURL
& 
u¾
, cÚ¡ 
VeùÜ
<
SŒšg
>* 
wh™–i¡
, cÚ¡ VeùÜ<SŒšg>* 
bÏckli¡
)

37 
boŞ
 
	gm©chesWh™–i¡
 = !
wh™–i¡
 || wh™–i¡->
isEm±y
();

38 ià(!
	gm©chesWh™–i¡
) {

39 
	gi
 = 0; i < 
	gwh™–i¡
->
size
(); ++i) {

40 
U£rCÚ‹ÁURLP©‹º
 
cÚ‹ÁP©‹º
(
wh™–i¡
->
©
(
i
));

41 ià(
	gcÚ‹ÁP©‹º
.
m©ches
(
u¾
)) {

42 
	gm©chesWh™–i¡
 = 
Œue
;

48 
boŞ
 
	gm©chesBÏckli¡
 = 
çl£
;

49 ià(
	gbÏckli¡
) {

50 
	gi
 = 0; i < 
	gbÏckli¡
->
size
(); ++i) {

51 
U£rCÚ‹ÁURLP©‹º
 
cÚ‹ÁP©‹º
(
bÏckli¡
->
©
(
i
));

52 ià(
	gcÚ‹ÁP©‹º
.
m©ches
(
u¾
)) {

53 
	gm©chesBÏckli¡
 = 
Œue
;

59  
	gm©chesWh™–i¡
 && !
	gm©chesBÏckli¡
;

62 
boŞ
 
	gU£rCÚ‹ÁURLP©‹º
::
·r£
(cÚ¡ 
SŒšg
& 
·‰”n
)

64 
DEFINE_STATIC_LOCAL
(cÚ¡ 
SŒšg
, 
schemeS•¬©Ü
, ("://"));

66 
	gschemeEndPos
 = 
·‰”n
.
fšd
(
schemeS•¬©Ü
);

67 ià(
	gschemeEndPos
 == -1)

68  
çl£
;

70 
	gm_scheme
 = 
·‰”n
.
Ëá
(
schemeEndPos
);

72 
	gho¡S¹Pos
 = 
schemeEndPos
 + 
schemeS•¬©Ü
.
Ëngth
();

73 ià(
	gho¡S¹Pos
 >ğ
¡©ic_ÿ¡
<>(
·‰”n
.
Ëngth
()))

74  
çl£
;

76 
	g·thS¹Pos
 = 0;

78 ià(
	gm_scheme
 == "file")

79 
·thS¹Pos
 = 
ho¡S¹Pos
;

81 
	gho¡EndPos
 = 
·‰”n
.
fšd
("/", 
ho¡S¹Pos
);

82 ià(
	gho¡EndPos
 == -1)

83  
çl£
;

85 
	gm_ho¡
 = 
·‰”n
.
sub¡ršg
(
ho¡S¹Pos
, 
ho¡EndPos
 - hostStartPos);

88 
	gVeùÜ
<
	gSŒšg
> 
	gho¡CompÚ’ts
;

89 
	gm_ho¡
.
¥l™
(".", 
ho¡CompÚ’ts
);

90 ià(
	gho¡CompÚ’ts
[0] == "*") {

91 
m_m©chSubdomašs
 = 
Œue
;

92 
	gm_ho¡
 = "";

93 
	gi
 = 1; i < 
	gho¡CompÚ’ts
.
size
(); ++i) {

94 
	gm_ho¡
 = 
m_ho¡
 + 
ho¡CompÚ’ts
[
i
];

95 ià(
	gi
 < 
	gho¡CompÚ’ts
.
size
() - 1)

96 
	gm_ho¡
 = 
m_ho¡
 + ".";

101 ià(
	gm_ho¡
.
fšd
("*") != -1)

102  
çl£
;

104 
	g·thS¹Pos
 = 
ho¡EndPos
;

107 
	gm_·th
 = 
·‰”n
.
right
Õ©‹º.
Ëngth
(è- 
·thS¹Pos
);

109  
	gŒue
;

112 
boŞ
 
	gU£rCÚ‹ÁURLP©‹º
::
m©ches
(cÚ¡ 
KURL
& 
‹¡
) const

114 ià(
m_šv®id
)

115  
çl£
;

117 ià(
	g‹¡
.
´ÙocŞ
(è!ğ
m_scheme
)

118  
çl£
;

120 ià(!
m©chesHo¡
(
‹¡
))

121  
	gçl£
;

123  
m©chesP©h
(
‹¡
);

126 
boŞ
 
	gU£rCÚ‹ÁURLP©‹º
::
m©chesHo¡
(cÚ¡ 
KURL
& 
‹¡
) const

128 ià(
‹¡
.
ho¡
(è=ğ
m_ho¡
)

129  
Œue
;

131 ià(!
	gm_m©chSubdomašs
)

132  
	gçl£
;

136 ià(!
	gm_ho¡
.
Ëngth
())

137  
	gŒue
;

140  
	g‹¡
.
ho¡
().
’dsW™h
(
m_ho¡
, 
çl£
);

143 
	sM©chTe¡”


145 cÚ¡ 
SŒšg
 
	gm_·‰”n
;

146 
	gm_·‰”nIndex
;

148 cÚ¡ 
SŒšg
 
	gm_‹¡
;

149 
	gm_‹¡Index
;

151 
M©chTe¡”
(cÚ¡ 
SŒšg
& 
·‰”n
, cÚ¡ SŒšg& 
‹¡
)

152 : 
m_·‰”n
(
·‰”n
)

153 , 
m_·‰”nIndex
(0)

154 , 
m_‹¡
(
‹¡
)

155 , 
m_‹¡Index
(0)

159 
boŞ
 
‹¡SŒšgFšished
(ècÚ¡ {  
	gm_‹¡Index
 >ğ
m_‹¡
.
Ëngth
(); }

160 
boŞ
 
·‰”nSŒšgFšished
(ècÚ¡ {  
	gm_·‰”nIndex
 >ğ
m_·‰”n
.
Ëngth
(); }

162 
—tWdÿrd
()

164 !
·‰”nSŒšgFšished
()) {

165 ià(
	gm_·‰”n
[
m_·‰”nIndex
] != '*')

167 
	gm_·‰”nIndex
++;

171 
—tSameCh¬s
()

173 !
·‰”nSŒšgFšished
(è&& !
‹¡SŒšgFšished
()) {

174 ià(
	gm_·‰”n
[
m_·‰”nIndex
] == '*')

176 ià(
	gm_·‰”n
[
m_·‰”nIndex
] !ğ
m_‹¡
[
m_‹¡Index
])

178 
	gm_·‰”nIndex
++;

179 
	gm_‹¡Index
++;

183 
boŞ
 
‹¡
()

186 
—tSameCh¬s
();

190 ià(
‹¡SŒšgFšished
()) {

191 
—tWdÿrd
();

192 ià(
·‰”nSŒšgFšished
())

193  
	gŒue
;

194  
	gçl£
;

198 ià(
·‰”nSŒšgFšished
())

199  
	gçl£
;

202 ià(
	gm_·‰”n
[
m_·‰”nIndex
] != '*')

203  
çl£
;

205 !
‹¡SŒšgFšished
()) {

206 
M©chTe¡”
 
ÃxtM©ch
(*
this
);

207 
	gÃxtM©ch
.
	gm_·‰”nIndex
++;

208 ià(
	gÃxtM©ch
.
‹¡
())

209  
	gŒue
;

210 
	gm_‹¡Index
++;

215 
—tWdÿrd
();

216  
·‰”nSŒšgFšished
();

220 
boŞ
 
	gU£rCÚ‹ÁURLP©‹º
::
m©chesP©h
(cÚ¡ 
KURL
& 
‹¡
) const

222 
M©chTe¡”
 
m©ch
(
m_·th
, 
‹¡
.
·th
());

223  
	gm©ch
.
‹¡
();

	@UserContentURLPattern.h

26 #iâdeà
U£rCÚ‹ÁURLP©‹º_h


27 
	#U£rCÚ‹ÁURLP©‹º_h


	)

29 
	~"PÏtfÜmSŒšg.h
"

30 
	~<wtf/VeùÜ.h
>

32 
Çme¥aû
 
	gWebCÜe
 {

34 
şass
 
	gKURL
;

36 şas 
	cU£rCÚ‹ÁURLP©‹º
 {

37 
	gpublic
:

38 
U£rCÚ‹ÁURLP©‹º
(cÚ¡ 
SŒšg
& 
·‰”n
)

39 : 
m_m©chSubdomašs
(
çl£
)

41 
m_šv®id
 = !
·r£
(
·‰”n
);

44 
boŞ
 
m©ches
(cÚ¡ 
KURL
&) const;

46 cÚ¡ 
	gSŒšg
& 
scheme
(ècÚ¡ {  
	gm_scheme
; }

47 cÚ¡ 
	gSŒšg
& 
ho¡
(ècÚ¡ {  
	gm_ho¡
; }

48 cÚ¡ 
	gSŒšg
& 
·th
(ècÚ¡ {  
	gm_·th
; }

50 
boŞ
 
m©chSubdomašs
(ècÚ¡ {  
	gm_m©chSubdomašs
; }

52 
boŞ
 
m©chesP©‹ºs
(cÚ¡ 
KURL
&, cÚ¡ 
VeùÜ
<
SŒšg
>* 
wh™–i¡
, cÚ¡ VeùÜ<SŒšg>* 
bÏckli¡
);

54 
	g´iv©e
:

55 
boŞ
 
·r£
(cÚ¡ 
SŒšg
& 
·‰”n
);

57 
boŞ
 
m©chesHo¡
(cÚ¡ 
KURL
&) const;

58 
boŞ
 
m©chesP©h
(cÚ¡ 
KURL
&) const;

60 
boŞ
 
	gm_šv®id
;

62 
SŒšg
 
	gm_scheme
;

63 
SŒšg
 
	gm_ho¡
;

64 
SŒšg
 
	gm_·th
;

66 
boŞ
 
	gm_m©chSubdomašs
;

	@UserScript.h

26 #iâdeà
U£rSüt_h


27 
	#U£rSüt_h


	)

29 
	~"KURL.h
"

30 
	~"U£rSütTy³s.h
"

31 
	~<wtf/OwnPŒ.h
>

32 
	~<wtf/PassOwnPŒ.h
>

33 
	~<wtf/VeùÜ.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 şas 
	cU£rSüt
 : 
public
 
NÚcİyabË
 {

38 
public
:

39 
U£rSüt
(cÚ¡ 
SŒšg
& 
sourû
, cÚ¡ 
KURL
& 
u¾
,

40 
PassOwnPŒ
<
VeùÜ
<
SŒšg
> > 
wh™–i¡
, PassOwnPŒ<VeùÜ<SŒšg> > 
bÏckli¡
,

41 
U£rSütInjeùiÚTime
 
šjeùiÚTime
)

42 : 
m_sourû
(
sourû
)

43 , 
m_u¾
(
u¾
)

44 , 
m_wh™–i¡
(
wh™–i¡
)

45 , 
m_bÏckli¡
(
bÏckli¡
)

46 , 
m_šjeùiÚTime
(
šjeùiÚTime
)

50 cÚ¡ 
	gSŒšg
& 
sourû
(ècÚ¡ {  
	gm_sourû
; }

51 cÚ¡ 
	gKURL
& 
u¾
(ècÚ¡ {  
	gm_u¾
; }

52 cÚ¡ 
	gVeùÜ
<
	gSŒšg
>* 
wh™–i¡
(ècÚ¡ {  
	gm_wh™–i¡
.
g‘
(); }

53 cÚ¡ 
	gVeùÜ
<
	gSŒšg
>* 
bÏckli¡
(ècÚ¡ {  
	gm_bÏckli¡
.
g‘
(); }

54 
U£rSütInjeùiÚTime
 
šjeùiÚTime
(ècÚ¡ {  
	gm_šjeùiÚTime
; }

56 
	g´iv©e
:

57 
SŒšg
 
m_sourû
;

58 
KURL
 
	gm_u¾
;

59 
	gOwnPŒ
<
	gVeùÜ
<
	gSŒšg
> > 
	gm_wh™–i¡
;

60 
	gOwnPŒ
<
	gVeùÜ
<
	gSŒšg
> > 
	gm_bÏckli¡
;

61 
U£rSütInjeùiÚTime
 
	gm_šjeùiÚTime
;

	@UserScriptTypes.h

26 #iâdeà
U£rSütTy³s_h


27 
	#U£rSütTy³s_h


	)

29 
	~<wtf/HashM­.h
>

30 
	~<wtf/VeùÜ.h
>

32 
Çme¥aû
 
	gWebCÜe
 {

34 
	eU£rSütInjeùiÚTime
 { 
	gInjeùAtDocum’tS¹
, 
	gInjeùAtDocum’tEnd
 };

36 
şass
 
	gDOMW¿µ”WÜld
;

37 
şass
 
	gU£rSüt
;

39 
	gVeùÜ
<
	tOwnPŒ
<
	tU£rSüt
> > 
	tU£rSütVeùÜ
;

40 
	gHashM­
<
	tRefPŒ
<
	tDOMW¿µ”WÜld
>, 
	tU£rSütVeùÜ
*> 
	tU£rSütM­
;

	@UserStyleSheet.h

26 #iâdeà
U£rStyËSh“t_h


27 
	#U£rStyËSh“t_h


	)

29 
	~"KURL.h
"

30 
	~"U£rStyËSh“tTy³s.h
"

31 
	~<wtf/OwnPŒ.h
>

32 
	~<wtf/PassOwnPŒ.h
>

33 
	~<wtf/VeùÜ.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 şas 
	cU£rStyËSh“t
 : 
public
 
NÚcİyabË
 {

38 
public
:

39 
U£rStyËSh“t
(cÚ¡ 
SŒšg
& 
sourû
, cÚ¡ 
KURL
& 
u¾
,

40 
PassOwnPŒ
<
VeùÜ
<
SŒšg
> > 
wh™–i¡
, PassOwnPŒ<VeùÜ<SŒšg> > 
bÏckli¡
)

41 : 
m_sourû
(
sourû
)

42 , 
m_u¾
(
u¾
)

43 , 
m_wh™–i¡
(
wh™–i¡
)

44 , 
m_bÏckli¡
(
bÏckli¡
)

48 cÚ¡ 
	gSŒšg
& 
sourû
(ècÚ¡ {  
	gm_sourû
; }

49 cÚ¡ 
	gKURL
& 
u¾
(ècÚ¡ {  
	gm_u¾
; }

50 cÚ¡ 
	gVeùÜ
<
	gSŒšg
>* 
wh™–i¡
(ècÚ¡ {  
	gm_wh™–i¡
.
g‘
(); }

51 cÚ¡ 
	gVeùÜ
<
	gSŒšg
>* 
bÏckli¡
(ècÚ¡ {  
	gm_bÏckli¡
.
g‘
(); }

53 
	g´iv©e
:

54 
SŒšg
 
m_sourû
;

55 
KURL
 
	gm_u¾
;

56 
	gOwnPŒ
<
	gVeùÜ
<
	gSŒšg
> > 
	gm_wh™–i¡
;

57 
	gOwnPŒ
<
	gVeùÜ
<
	gSŒšg
> > 
	gm_bÏckli¡
;

	@UserStyleSheetTypes.h

26 #iâdeà
U£rStyËSh“tTy³s_h


27 
	#U£rStyËSh“tTy³s_h


	)

29 
	~<wtf/HashM­.h
>

30 
	~<wtf/VeùÜ.h
>

32 
Çme¥aû
 
	gWebCÜe
 {

34 
şass
 
	gDOMW¿µ”WÜld
;

35 
şass
 
	gU£rStyËSh“t
;

37 
	gVeùÜ
<
	tOwnPŒ
<
	tU£rStyËSh“t
> > 
	tU£rStyËSh“tVeùÜ
;

38 
	gHashM­
<
	tRefPŒ
<
	tDOMW¿µ”WÜld
>, 
	tU£rStyËSh“tVeùÜ
*> 
	tU£rStyËSh“tM­
;

	@WebKitPoint.h

26 #iâdeà
WebK™Pošt_h


27 
	#WebK™Pošt_h


	)

29 
	~<wtf/RefCouÁed.h
>

31 
Çme¥aû
 
	gWebCÜe
 {

33 
şass
 
	gWebK™Pošt
 : 
public
 
RefCouÁed
<
WebK™Pošt
> {

34 
public
:

36 
PassRefPŒ
<
WebK™Pošt
> 
ü—‹
()

38  
adİtRef
(
Ãw
 
WebK™Pošt
());

40 
	gPassRefPŒ
<
	gWebK™Pošt
> 
ü—‹
(
x
, 
y
)

42  
adİtRef
(
Ãw
 
WebK™Pošt
(
x
, 
y
));

45 
x
(ècÚ¡ {  
	gm_x
; }

46 
y
(ècÚ¡ {  
	gm_y
; }

48 
£tX
(
x
è{ 
	gm_x
 = x; }

49 
£tY
(
y
è{ 
	gm_y
 = y; }

51 
	g´iv©e
:

52 
WebK™Pošt
(
x
=0, 
y
=0)

53 : 
m_x
(
x
)

54 , 
m_y
(
y
)

58 
	gm_x
, 
	gm_y
;

	@WindowFeatures.cpp

23 
	~"cÚfig.h
"

24 
	~"WšdowF—tu»s.h
"

26 
	~"PÏtfÜmSŒšg.h
"

27 
	~"SŒšgHash.h
"

28 
	~<wtf/As£¹iÚs.h
>

29 
	~<wtf/HashM­.h
>

30 
	~<wtf/M©hExŒas.h
>

32 
Çme¥aû
 
	gWebCÜe
 {

35 
boŞ
 
isS•¬©Ü
(
UCh¬
 
c
)

37  
	gc
 =ğ' ' || 
c
 == '\t' || c == '\n' || c == '\r' || c == '=' || c == ',' || c == '\0';

40 
	gWšdowF—tu»s
::
WšdowF—tu»s
(cÚ¡ 
SŒšg
& 
ã©u»s
)

41 : 
xS‘
(
çl£
)

42 , 
yS‘
(
çl£
)

43 , 
widthS‘
(
çl£
)

44 , 
heightS‘
(
çl£
)

45 , 
fuÎsü“n
(
çl£
)

46 , 
dŸlog
(
çl£
)

57 ià(
	gã©u»s
.
Ëngth
() == 0) {

58 
m’uB¬VisibË
 = 
Œue
;

59 
	g¡©usB¬VisibË
 = 
Œue
;

60 
	gtoŞB¬VisibË
 = 
Œue
;

61 
	gloÿtiÚB¬VisibË
 = 
Œue
;

62 
	gsüŞlb¬sVisibË
 = 
Œue
;

63 
	g»sizabË
 = 
Œue
;

67 
	gm’uB¬VisibË
 = 
çl£
;

68 
	g¡©usB¬VisibË
 = 
çl£
;

69 
	gtoŞB¬VisibË
 = 
çl£
;

70 
	gloÿtiÚB¬VisibË
 = 
çl£
;

71 
	gsüŞlb¬sVisibË
 = 
çl£
;

72 
	g»sizabË
 = 
Œue
;

75 
	gkeyBegš
, 
	gkeyEnd
;

76 
	gv®ueBegš
, 
	gv®ueEnd
;

78 
	gi
 = 0;

79 
	gËngth
 = 
ã©u»s
.
Ëngth
();

80 
SŒšg
 
	gbufãr
 = 
ã©u»s
.
low”
();

81 
	gi
 < 
	gËngth
) {

83 
isS•¬©Ü
(
bufãr
[
i
])) {

84 ià(
	gi
 >ğ
Ëngth
)

86 
	gi
++;

88 
	gkeyBegš
 = 
i
;

91 !
isS•¬©Ü
(
bufãr
[
i
]))

92 
	gi
++;

93 
	gkeyEnd
 = 
i
;

96 
	gbufãr
[
i
] != '=') {

97 ià(
bufãr
[
i
] =ğ',' || i >ğ
Ëngth
)

99 
	gi
++;

103 
isS•¬©Ü
(
bufãr
[
i
])) {

104 ià(
	gbufãr
[
i
] =ğ',' || i >ğ
Ëngth
)

106 
	gi
++;

108 
	gv®ueBegš
 = 
i
;

111 !
isS•¬©Ü
(
bufãr
[
i
]))

112 
	gi
++;

113 
	gv®ueEnd
 = 
i
;

115 
ASSERT
(
i
 <ğ
Ëngth
);

117 
SŒšg
 
keySŒšg
(
bufãr
.
sub¡ršg
(
keyBegš
, 
keyEnd
 - keyBegin));

118 
SŒšg
 
v®ueSŒšg
(
bufãr
.
sub¡ršg
(
v®ueBegš
, 
v®ueEnd
 - valueBegin));

119 
£tWšdowF—tu»
(
keySŒšg
, 
v®ueSŒšg
);

123 
	gWšdowF—tu»s
::
£tWšdowF—tu»
(cÚ¡ 
SŒšg
& 
keySŒšg
, cÚ¡ SŒšg& 
v®ueSŒšg
)

125 
	gv®ue
;

128 ià(
	gv®ueSŒšg
.
Ëngth
(è=ğ0 || 
v®ueSŒšg
 == "yes")

129 
v®ue
 = 1;

131 
	gv®ue
 = 
v®ueSŒšg
.
toIÁ
();

134 ià(
	gkeySŒšg
 =ğ"Ëá" || 
keySŒšg
 == "screenx") {

135 
xS‘
 = 
Œue
;

136 
	gx
 = 
v®ue
;

137 } ià(
	gkeySŒšg
 =ğ"tİ" || 
keySŒšg
 == "screeny") {

138 
yS‘
 = 
Œue
;

139 
	gy
 = 
v®ue
;

140 } ià(
	gkeySŒšg
 =ğ"width" || 
keySŒšg
 == "innerwidth") {

141 
widthS‘
 = 
Œue
;

142 
	gwidth
 = 
v®ue
;

143 } ià(
	gkeySŒšg
 =ğ"height" || 
keySŒšg
 == "innerheight") {

144 
heightS‘
 = 
Œue
;

145 
	gheight
 = 
v®ue
;

146 } ià(
	gkeySŒšg
 == "menubar")

147 
m’uB¬VisibË
 = 
v®ue
;

148 ià(
	gkeySŒšg
 == "toolbar")

149 
toŞB¬VisibË
 = 
v®ue
;

150 ià(
	gkeySŒšg
 == "location")

151 
loÿtiÚB¬VisibË
 = 
v®ue
;

152 ià(
	gkeySŒšg
 == "status")

153 
¡©usB¬VisibË
 = 
v®ue
;

154 ià(
	gkeySŒšg
 == "fullscreen")

155 
fuÎsü“n
 = 
v®ue
;

156 ià(
	gkeySŒšg
 == "scrollbars")

157 
süŞlb¬sVisibË
 = 
v®ue
;

160 
boŞ
 
	gWšdowF—tu»s
::
boŞF—tu»
(cÚ¡ 
HashM­
<
SŒšg
, SŒšg>& 
ã©u»s
, cÚ¡ * 
key
, boŞ 
deçuÉV®ue
)

162 
	gHashM­
<
	gSŒšg
, SŒšg>::
cÚ¡_™”©Ü
 
™
 = 
ã©u»s
.
fšd
(
key
);

163 ià(
	g™
 =ğ
ã©u»s
.
’d
())

164  
deçuÉV®ue
;

165 cÚ¡ 
	gSŒšg
& 
	gv®ue
 = 
™
->
£cÚd
;

166  
	gv®ue
.
isNuÎ
(è|| v®u=ğ"1" || 
v®ue
 == "yes" || value == "on";

169 
	gWšdowF—tu»s
::
æßtF—tu»
(cÚ¡ 
HashM­
<
SŒšg
, SŒšg>& 
ã©u»s
, cÚ¡ * 
key
, 
mš
, 
max
, 
deçuÉV®ue
)

171 
	gHashM­
<
	gSŒšg
, SŒšg>::
cÚ¡_™”©Ü
 
™
 = 
ã©u»s
.
fšd
(
key
);

172 ià(
	g™
 =ğ
ã©u»s
.
’d
())

173  
deçuÉV®ue
;

177 
boŞ
 
	gok
;

178 
	gd
 = 
™
->
£cÚd
.
toDoubË
(&
ok
);

179 ià((
	gd
 =ğ0 && !
ok
è|| 
i¢ª
(
d
))

180  
deçuÉV®ue
;

181 ià(
	gd
 < 
	gmš
 || 
	gmax
 <ğ
mš
)

182  
mš
;

183 ià(
	gd
 > 
	gmax
)

184  
	gmax
;

185  
	g¡©ic_ÿ¡
<>(
	gd
);

	@WindowFeatures.h

29 #iâdeà
WšdowF—tu»s_h


30 
	#WšdowF—tu»s_h


	)

32 
	~"PÏtfÜmSŒšg.h
"

33 
	~<wtf/HashM­.h
>

35 
Çme¥aû
 
	gWebCÜe
 {

37 
	sWšdowF—tu»s
 {

38 
WšdowF—tu»s
()

39 : 
xS‘
(
çl£
)

40 , 
yS‘
(
çl£
)

41 , 
widthS‘
(
çl£
)

42 , 
heightS‘
(
çl£
)

43 , 
m’uB¬VisibË
(
Œue
)

44 , 
¡©usB¬VisibË
(
Œue
)

45 , 
toŞB¬VisibË
(
Œue
)

46 , 
loÿtiÚB¬VisibË
(
Œue
)

47 , 
süŞlb¬sVisibË
(
Œue
)

48 , 
»sizabË
(
Œue
)

49 , 
fuÎsü“n
(
çl£
)

50 , 
dŸlog
(
çl£
)

54 
WšdowF—tu»s
(cÚ¡ 
SŒšg
& 
ã©u»s
);

56 
£tWšdowF—tu»
(cÚ¡ 
SŒšg
& 
keySŒšg
, cÚ¡ SŒšg& 
v®ueSŒšg
);

58 
boŞ
 
boŞF—tu»
(cÚ¡ 
HashM­
<
SŒšg
, SŒšg>& 
ã©u»s
, cÚ¡ * 
key
, boŞ 
deçuÉV®ue
 = 
çl£
);

59 
æßtF—tu»
(cÚ¡ 
HashM­
<
SŒšg
, SŒšg>& 
ã©u»s
, cÚ¡ * 
key
, 
mš
, 
max
, 
deçuÉV®ue
);

61 
	gx
;

62 
boŞ
 
	gxS‘
;

63 
	gy
;

64 
boŞ
 
	gyS‘
;

65 
	gwidth
;

66 
boŞ
 
	gwidthS‘
;

67 
	gheight
;

68 
boŞ
 
	gheightS‘
;

70 
boŞ
 
	gm’uB¬VisibË
;

71 
boŞ
 
	g¡©usB¬VisibË
;

72 
boŞ
 
	gtoŞB¬VisibË
;

73 
boŞ
 
	gloÿtiÚB¬VisibË
;

74 
boŞ
 
	gsüŞlb¬sVisibË
;

75 
boŞ
 
	g»sizabË
;

77 
boŞ
 
	gfuÎsü“n
;

78 
boŞ
 
	gdŸlog
;

	@WorkerNavigator.cpp

27 
	~"cÚfig.h
"

29 #ià
ENABLE
(
WORKERS
)

31 
	~"WÜk”Navig©Ü.h
"

33 
Çme¥aû
 
	gWebCÜe
 {

35 
	gWÜk”Navig©Ü
::
WÜk”Navig©Ü
(cÚ¡ 
SŒšg
& 
u£rAg’t
)

36 : 
m_u£rAg’t
(
u£rAg’t
)

40 
WÜk”Navig©Ü
::~WorkerNavigator()

44 
SŒšg
 
WÜk”Navig©Ü
::
u£rAg’t
() const

46  
m_u£rAg’t
;

	@WorkerNavigator.h

26 #iâdeà
WÜk”Navig©Ü_h


27 
	#WÜk”Navig©Ü_h


	)

29 #ià
ENABLE
(
WORKERS
)

31 
	~"Navig©ÜBa£.h
"

32 
	~"PÏtfÜmSŒšg.h
"

33 
	~<wtf/PassRefPŒ.h
>

34 
	~<wtf/RefCouÁed.h
>

35 
	~<wtf/RefPŒ.h
>

37 
Çme¥aû
 
	gWebCÜe
 {

39 
şass
 
	gWÜk”Navig©Ü
 : 
public
 
Navig©ÜBa£
,…ubliø
	gRefCouÁed
<WorkerNavigator> {

40 
	gpublic
:

41 
PassRefPŒ
<
WÜk”Navig©Ü
> 
ü—‹
(cÚ¡ 
SŒšg
& 
u£rAg’t
è{  
adİtRef
(
Ãw
 WorkerNavigator(userAgent)); }

42 
	gvœtu®
 ~
WÜk”Navig©Ü
();

44 
vœtu®
 
SŒšg
 
u£rAg’t
() const;

46 
	g´iv©e
:

47 
WÜk”Navig©Ü
(cÚ¡ 
SŒšg
&);

49 
SŒšg
 
	gm_u£rAg’t
;

	@XSSAuditor.cpp

27 
	~"cÚfig.h
"

28 
	~"XSSAud™Ü.h
"

30 
	~<wtf/StdLibExŒas.h
>

31 
	~<wtf/VeùÜ.h
>

33 
	~"CÚsŞe.h
"

34 
	~"Docum’tLßd”.h
"

35 
	~"DOMWšdow.h
"

36 
	~"F¿me.h
"

37 
	~"KURL.h
"

38 
	~"P»lßdSÿÂ”.h
"

39 
	~"ResourûRe¥Ú£Ba£.h
"

40 
	~"SütSourûCode.h
"

41 
	~"S‘tšgs.h
"

42 
	~"TextResourûDecod”.h
"

43 
	~<wtf/‹xt/CSŒšg.h
>

45 
usšg
 
Çme¥aû
 
	gWTF
;

47 
Çme¥aû
 
	gWebCÜe
 {

49 
boŞ
 
isNÚCªÚiÿlCh¬aù”
(
UCh¬
 
c
)

58  (
	gc
 =ğ'\\' || 
c
 == '0' || c < ' ' || c >= 127);

61 
boŞ
 
isIÎeg®URICh¬aù”
(
UCh¬
 
c
)

70  (
	gc
 =ğ'\'' || 
c
 == '"' || c == '<' || c == '>');

73 
SŒšg
 
	gXSSAud™Ü
::
CachšgURLCªÚiÿliz”
::
ÿnÚiÿlizeURL
(
FÜmD©a
* 
fÜmD©a
, cÚ¡ 
TextEncodšg
& 
’codšg
, 
boŞ
 
decodeEÁ™›s
,

74 
boŞ
 
decodeURLEsÿ³Sequ’ûsTwiû
)

76 ià(
	gdecodeEÁ™›s
 =ğ
m_decodeEÁ™›s
 && 
decodeURLEsÿ³Sequ’ûsTwiû
 =ğ
m_decodeURLEsÿ³Sequ’ûsTwiû


77 && 
’codšg
 =ğ
m_’codšg
 && 
fÜmD©a
 =ğ
m_fÜmD©a
)

78  
m_ÿchedCªÚiÿlizedURL
;

79 
	gm_fÜmD©a
 = 
fÜmD©a
;

80  
ÿnÚiÿlizeURL
(
fÜmD©a
->
æ©‹nToSŒšg
(), 
’codšg
, 
decodeEÁ™›s
, 
decodeURLEsÿ³Sequ’ûsTwiû
);

83 
SŒšg
 
	gXSSAud™Ü
::
CachšgURLCªÚiÿliz”
::
ÿnÚiÿlizeURL
(cÚ¡ SŒšg& 
u¾
, cÚ¡ 
TextEncodšg
& 
’codšg
, 
boŞ
 
decodeEÁ™›s
,

84 
boŞ
 
decodeURLEsÿ³Sequ’ûsTwiû
)

86 ià(
	gdecodeEÁ™›s
 =ğ
m_decodeEÁ™›s
 && 
decodeURLEsÿ³Sequ’ûsTwiû
 =ğ
m_decodeURLEsÿ³Sequ’ûsTwiû


87 && 
’codšg
 =ğ
m_’codšg
 && 
u¾
 =ğ
m_šputURL
)

88  
m_ÿchedCªÚiÿlizedURL
;

90 
	gm_ÿchedCªÚiÿlizedURL
 = 
ÿnÚiÿlize
(
decodeURL
(
u¾
, 
’codšg
, 
decodeEÁ™›s
, 
decodeURLEsÿ³Sequ’ûsTwiû
));

91 
	gm_šputURL
 = 
u¾
;

92 
	gm_’codšg
 = 
’codšg
;

93 
	gm_decodeEÁ™›s
 = 
decodeEÁ™›s
;

94 
	gm_decodeURLEsÿ³Sequ’ûsTwiû
 = 
decodeURLEsÿ³Sequ’ûsTwiû
;

95 ++
	gm_g’”©iÚ
;

96  
	gm_ÿchedCªÚiÿlizedURL
;

99 
	gXSSAud™Ü
::
CachšgURLCªÚiÿliz”
::
ş—r
()

101 
m_fÜmD©a
.
ş—r
();

102 
	gm_šputURL
 = 
SŒšg
();

105 
	gXSSAud™Ü
::
XSSAud™Ü
(
F¿me
* 
äame
)

106 : 
m_äame
(
äame
)

107 , 
m_g’”©iÚOfSuffixT»e
(-1)

111 
	gXSSAud™Ü
::~
XSSAud™Ü
()

115 
boŞ
 
XSSAud™Ü
::
isEÇbËd
() const

117 
S‘tšgs
* 
£‰šgs
 = 
m_äame
->settings();

118  (
	g£‰šgs
 && s‘tšgs->
xssAud™ÜEÇbËd
());

121 
boŞ
 
	gXSSAud™Ü
::
ÿnEv®u©e
(cÚ¡ 
SŒšg
& 
code
) const

123 ià(!
isEÇbËd
())

124  
Œue
;

126 
FšdTask
 
	gsk
;

127 
	gsk
.
	g¡ršg
 = 
code
;

128 
	gsk
.
	gdecodeEÁ™›s
 = 
çl£
;

129 
	gsk
.
	g®lowReque¡IfNoIÎeg®URICh¬aù”s
 = 
Œue
;

131 ià(
fšdInReque¡
(
sk
)) {

132 
DEFINE_STATIC_LOCAL
(
SŒšg
, 
cÚsŞeMes§ge
, ("Refusedoƒxecute‡ JavaScript script. Source code of script found within„equest.\n"));

133 
	gm_äame
->
domWšdow
()->
cÚsŞe
()->
addMes§ge
(
JSMes§geSourû
, 
LogMes§geTy³
, 
E¼ÜMes§geLev–
, 
cÚsŞeMes§ge
, 1, 
SŒšg
());

134  
	gçl£
;

136  
	gŒue
;

139 
boŞ
 
	gXSSAud™Ü
::
ÿnEv®u©eJavaSütURL
(cÚ¡ 
SŒšg
& 
code
) const

141 ià(!
isEÇbËd
())

142  
Œue
;

144 
FšdTask
 
	gsk
;

145 
	gsk
.
	g¡ršg
 = 
code
;

146 
	gsk
.
	gdecodeURLEsÿ³Sequ’ûsTwiû
 = 
Œue
;

148 ià(
fšdInReque¡
(
sk
)) {

149 
DEFINE_STATIC_LOCAL
(
SŒšg
, 
cÚsŞeMes§ge
, ("Refusedoƒxecute‡ JavaScript script. Source code of script found within„equest.\n"));

150 
	gm_äame
->
domWšdow
()->
cÚsŞe
()->
addMes§ge
(
JSMes§geSourû
, 
LogMes§geTy³
, 
E¼ÜMes§geLev–
, 
cÚsŞeMes§ge
, 1, 
SŒšg
());

151  
	gçl£
;

153  
	gŒue
;

156 
boŞ
 
	gXSSAud™Ü
::
ÿnC»©eIÆšeEv’tLi¡’”
(cÚ¡ 
SŒšg
&, cÚ¡ SŒšg& 
code
) const

158 ià(!
isEÇbËd
())

159  
	gŒue
;

161 
FšdTask
 
	gsk
;

162 
	gsk
.
	g¡ršg
 = 
code
;

163 
	gsk
.
	g®lowReque¡IfNoIÎeg®URICh¬aù”s
 = 
Œue
;

165 ià(
fšdInReque¡
(
sk
)) {

166 
DEFINE_STATIC_LOCAL
(
SŒšg
, 
cÚsŞeMes§ge
, ("Refusedoƒxecute‡ JavaScript script. Source code of script found within„equest.\n"));

167 
	gm_äame
->
domWšdow
()->
cÚsŞe
()->
addMes§ge
(
JSMes§geSourû
, 
LogMes§geTy³
, 
E¼ÜMes§geLev–
, 
cÚsŞeMes§ge
, 1, 
SŒšg
());

168  
	gçl£
;

170  
	gŒue
;

173 
boŞ
 
	gXSSAud™Ü
::
ÿnLßdEx‹º®SütFromSrc
(cÚ¡ 
SŒšg
& 
cÚ‹xt
, cÚ¡ SŒšg& 
u¾
) const

175 ià(!
isEÇbËd
())

176  
	gŒue
;

178 ià(
isSameOrigšResourû
(
u¾
))

179  
	gŒue
;

181 
FšdTask
 
	gsk
;

182 
	gsk
.
	gcÚ‹xt
 = 
cÚ‹xt
;

183 
	gsk
.
	g¡ršg
 = 
u¾
;

185 ià(
fšdInReque¡
(
sk
)) {

186 
DEFINE_STATIC_LOCAL
(
SŒšg
, 
cÚsŞeMes§ge
, ("Refusedoƒxecute‡ JavaScript script. Source code of script found within„equest.\n"));

187 
	gm_äame
->
domWšdow
()->
cÚsŞe
()->
addMes§ge
(
JSMes§geSourû
, 
LogMes§geTy³
, 
E¼ÜMes§geLev–
, 
cÚsŞeMes§ge
, 1, 
SŒšg
());

188  
	gçl£
;

190  
	gŒue
;

193 
boŞ
 
	gXSSAud™Ü
::
ÿnLßdObjeù
(cÚ¡ 
SŒšg
& 
u¾
) const

195 ià(!
isEÇbËd
())

196  
Œue
;

198 ià(
isSameOrigšResourû
(
u¾
))

199  
	gŒue
;

201 
FšdTask
 
	gsk
;

202 
	gsk
.
	g¡ršg
 = 
u¾
;

203 
	gsk
.
	g®lowReque¡IfNoIÎeg®URICh¬aù”s
 = 
Œue
;

205 ià(
fšdInReque¡
(
sk
)) {

206 
SŒšg
 
	gcÚsŞeMes§ge
 = SŒšg::
fÜm©
("Refu£dØlßd‡Àobjeù. URL found w™hš„eque¡: \"%s\".\n", 
u¾
.
utf8
().
d©a
());

207 
	gm_äame
->
domWšdow
()->
cÚsŞe
()->
addMes§ge
(
JSMes§geSourû
, 
LogMes§geTy³
, 
E¼ÜMes§geLev–
, 
cÚsŞeMes§ge
, 1, 
SŒšg
());

208  
	gçl£
;

210  
	gŒue
;

213 
boŞ
 
	gXSSAud™Ü
::
ÿnS‘Ba£EËm’tURL
(cÚ¡ 
SŒšg
& 
u¾
) const

215 ià(!
isEÇbËd
())

216  
Œue
;

218 ià(
isSameOrigšResourû
(
u¾
))

219  
	gŒue
;

221 
FšdTask
 
	gsk
;

222 
	gsk
.
	g¡ršg
 = 
u¾
;

223 
	gsk
.
	g®lowReque¡IfNoIÎeg®URICh¬aù”s
 = 
Œue
;

225 ià(
fšdInReque¡
(
sk
)) {

226 
DEFINE_STATIC_LOCAL
(
SŒšg
, 
cÚsŞeMes§ge
, ("Refusedo†oad from document base URL. URL found within„equest.\n"));

227 
	gm_äame
->
domWšdow
()->
cÚsŞe
()->
addMes§ge
(
JSMes§geSourû
, 
LogMes§geTy³
, 
E¼ÜMes§geLev–
, 
cÚsŞeMes§ge
, 1, 
SŒšg
());

228  
	gçl£
;

230  
	gŒue
;

233 
SŒšg
 
	gXSSAud™Ü
::
ÿnÚiÿlize
(cÚ¡ SŒšg& 
¡ršg
)

235 
SŒšg
 
»suÉ
 = 
decodeHTMLEÁ™›s
(
¡ršg
);

236  
	g»suÉ
.
»moveCh¬aù”s
(&
isNÚCªÚiÿlCh¬aù”
);

239 
SŒšg
 
	gXSSAud™Ü
::
decodeURL
(cÚ¡ SŒšg& 
¡ršg
, cÚ¡ 
TextEncodšg
& 
’codšg
, 
boŞ
 
decodeEÁ™›s
, boŞ 
decodeURLEsÿ³Sequ’ûsTwiû
)

241 
SŒšg
 
	g»suÉ
;

242 
SŒšg
 
	gu¾
 = 
¡ršg
;

244 
	gu¾
.
»¶aû
('+', ' ');

245 
	g»suÉ
 = 
decodeURLEsÿ³Sequ’ûs
(
u¾
);

246 
CSŒšg
 
	gutf8U¾
 = 
»suÉ
.
utf8
();

247 
SŒšg
 
	gdecodedResuÉ
 = 
’codšg
.
decode
(
utf8U¾
.
d©a
(), utf8U¾.
Ëngth
());

248 ià(!
	gdecodedResuÉ
.
isEm±y
())

249 
	g»suÉ
 = 
decodedResuÉ
;

250 ià(
	gdecodeURLEsÿ³Sequ’ûsTwiû
) {

251 
	g»suÉ
 = 
decodeURLEsÿ³Sequ’ûs
(
»suÉ
);

252 
	gutf8U¾
 = 
»suÉ
.
utf8
();

253 
	gdecodedResuÉ
 = 
’codšg
.
decode
(
utf8U¾
.
d©a
(), utf8U¾.
Ëngth
());

254 ià(!
	gdecodedResuÉ
.
isEm±y
())

255 
	g»suÉ
 = 
decodedResuÉ
;

257 ià(
	gdecodeEÁ™›s
)

258 
	g»suÉ
 = 
decodeHTMLEÁ™›s
(
»suÉ
);

259  
	g»suÉ
;

262 
SŒšg
 
	gXSSAud™Ü
::
decodeHTMLEÁ™›s
(cÚ¡ SŒšg& 
¡ršg
, 
boŞ
 
ËaveUndecodabËEÁ™›sUÁouched
)

264 
Segm’‹dSŒšg
 
sourû
(
¡ršg
);

265 
Segm’‹dSŒšg
 
	gsourûShadow
;

266 
	gVeùÜ
<
	gUCh¬
> 
	g»suÉ
;

268 !
	gsourû
.
isEm±y
()) {

269 
UCh¬
 
	gcc
 = *
sourû
;

270 
	gsourû
.
advªû
();

272 ià(
	gcc
 != '&') {

273 
»suÉ
.
­³nd
(
cc
);

277 ià(
	gËaveUndecodabËEÁ™›sUÁouched
)

278 
	gsourûShadow
 = 
sourû
;

279 
boŞ
 
	gnÙEnoughCh¬aù”s
 = 
çl£
;

280 
	g’t™y
 = 
P»lßdSÿÂ”
::
cÚsumeEÁ™y
(
sourû
, 
nÙEnoughCh¬aù”s
);

284 ià(
	g’t™y
 > 0xFFFF) {

285 
	g»suÉ
.
­³nd
(
U16_LEAD
(
’t™y
));

286 
	g»suÉ
.
­³nd
(
U16_TRAIL
(
’t™y
));

287 } ià(
	g’t™y
 && (!
	gËaveUndecodabËEÁ™›sUÁouched
 ||ƒntity != 0xFFFD)){

288 
»suÉ
.
­³nd
(
’t™y
);

290 
	g»suÉ
.
­³nd
('&');

291 ià(
	gËaveUndecodabËEÁ™›sUÁouched
)

292 
	gsourû
 = 
sourûShadow
;

296  
	gSŒšg
::
adİt
(
»suÉ
);

299 
boŞ
 
	gXSSAud™Ü
::
isSameOrigšResourû
(cÚ¡ 
SŒšg
& 
u¾
) const

307 
KURL
 
»sourûURL
(
m_äame
->
docum’t
()->
u¾
(), url);

308  (
	gm_äame
->
docum’t
()->
u¾
().
ho¡
(è=ğ
»sourûURL
.ho¡(è&&„esourûURL.
qu”y
().
isEm±y
());

311 
XSSPrÙeùiÚDi¥os™iÚ
 
	gXSSAud™Ü
::
xssPrÙeùiÚ
() const

313 
DEFINE_STATIC_LOCAL
(
SŒšg
, 
XSSPrÙeùiÚH—d”
, ("X-XSS-Protection"));

315 
F¿me
* 
	gäame
 = 
m_äame
;

316 ià(
	gäame
->
docum’t
()->
u¾
(è=ğ
bÏnkURL
())

317 
äame
 = 
m_äame
->
Œ“
()->
·»Á
();

319  
·r£XSSPrÙeùiÚH—d”
(
äame
->
lßd”
()->
docum’tLßd”
()->
»¥Ú£
().
h‰pH—d”F›ld
(
XSSPrÙeùiÚH—d”
));

322 
boŞ
 
	gXSSAud™Ü
::
fšdInReque¡
(cÚ¡ 
FšdTask
& 
sk
) const

324 
boŞ
 
»suÉ
 = 
çl£
;

325 
F¿me
* 
	g·»ÁF¿me
 = 
m_äame
->
Œ“
()->
·»Á
();

326 
F¿me
* 
	gblockF¿me
 = 
·»ÁF¿me
;

327 ià(
	g·»ÁF¿me
 && 
	gm_äame
->
docum’t
()->
u¾
(è=ğ
bÏnkURL
())

328 
»suÉ
 = 
fšdInReque¡
(
·»ÁF¿me
, 
sk
);

329 ià(!
	g»suÉ
) {

330 
	g»suÉ
 = 
fšdInReque¡
(
m_äame
, 
sk
);

331 
	gblockF¿me
 = 
m_äame
;

333 ià(!
	g»suÉ
)

334  
	gçl£
;

336 
xssPrÙeùiÚ
()) {

337 
	gXSSPrÙeùiÚDi§bËd
:

338  
çl£
;

339 
	gXSSPrÙeùiÚEÇbËd
:

341 
	gXSSPrÙeùiÚBlockEÇbËd
:

342 ià(
blockF¿me
) {

343 
blockF¿me
->
lßd”
()->
¡İAÎLßd”s
();

344 
	gblockF¿me
->
»dœeùScheduËr
()->
scheduËLoÿtiÚChªge
(
bÏnkURL
(), 
SŒšg
());

348 
ASSERT_NOT_REACHED
();

350  
	gŒue
;

353 
boŞ
 
	gXSSAud™Ü
::
fšdInReque¡
(
F¿me
* 
äame
, cÚ¡ 
FšdTask
& 
sk
) const

355 
ASSERT
(
äame
->
docum’t
());

357 ià(!
	gäame
->
docum’t
()->
decod”
()) {

359  
	gçl£
;

362 ià(
	gsk
.
	g¡ršg
.
isEm±y
())

363  
	gçl£
;

365 
FÜmD©a
* 
	gfÜmD©aObj
 = 
äame
->
lßd”
()->
docum’tLßd”
()->
Üigš®Reque¡
().
h‰pBody
();

366 cÚ¡ 
boŞ
 
	ghasFÜmD©a
 = 
fÜmD©aObj
 && !fÜmD©aObj->
isEm±y
();

367 
SŒšg
 
	g·geURL
 = 
äame
->
docum’t
()->
u¾
().
¡ršg
();

369 ià(!
	ghasFÜmD©a
) {

371 
	gm_fÜmD©aCache
.
ş—r
();

372 
	gm_fÜmD©aSuffixT»e
.
ş—r
();

375 
SŒšg
 
	gÿnÚiÿlizedSŒšg
;

376 ià(!
	ghasFÜmD©a
 && 
	gsk
.
	g¡ršg
.
Ëngth
(è> 2 * 
	g·geURL
.length()) {

388 
	gÿnÚiÿlizedSŒšg
 = 
sk
.
¡ršg
.
sub¡ršg
(0, 2 * 
·geURL
.
Ëngth
());

390 
	gÿnÚiÿlizedSŒšg
 = 
sk
.
¡ršg
;

392 ià(
	gäame
->
docum’t
()->
u¾
().
´ÙocŞIs
("data"))

393  
	gçl£
;

395 
	gÿnÚiÿlizedSŒšg
 = 
ÿnÚiÿlize
(
ÿnÚiÿlizedSŒšg
);

396 ià(
	gÿnÚiÿlizedSŒšg
.
isEm±y
())

397  
	gçl£
;

399 ià(!
	gsk
.
	gcÚ‹xt
.
isEm±y
())

400 
	gÿnÚiÿlizedSŒšg
 = 
sk
.
cÚ‹xt
 + 
ÿnÚiÿlizedSŒšg
;

402 
SŒšg
 
	gdecodedPageURL
 = 
m_·geURLCache
.
ÿnÚiÿlizeURL
(
·geURL
, 
äame
->
docum’t
()->
decod”
()->
’codšg
(), 
sk
.
decodeEÁ™›s
,ask.
decodeURLEsÿ³Sequ’ûsTwiû
);

404 ià(
	gsk
.
	g®lowReque¡IfNoIÎeg®URICh¬aù”s
 && !
	ghasFÜmD©a
 && 
	gdecodedPageURL
.
fšd
(&
isIÎeg®URICh¬aù”
, 0) == -1)

405  
çl£
;

407 ià(
	gdecodedPageURL
.
fšd
(
ÿnÚiÿlizedSŒšg
, 0, 
çl£
) != -1)

408  
Œue
;

410 ià(
	ghasFÜmD©a
) {

411 
SŒšg
 
	gdecodedFÜmD©a
 = 
m_fÜmD©aCache
.
ÿnÚiÿlizeURL
(
fÜmD©aObj
, 
äame
->
docum’t
()->
decod”
()->
’codšg
(), 
sk
.
decodeEÁ™›s
,ask.
decodeURLEsÿ³Sequ’ûsTwiû
);

413 ià(
	gm_g’”©iÚOfSuffixT»e
 !ğ
m_fÜmD©aCache
.
g’”©iÚ
()) {

414 
m_fÜmD©aSuffixT»e
 = 
Ãw
 
SuffixT»e
<
ASCIICodebook
>(
decodedFÜmD©a
, 5);

415 
	gm_g’”©iÚOfSuffixT»e
 = 
m_fÜmD©aCache
.
g’”©iÚ
();

419 ià(
	gm_fÜmD©aSuffixT»e
 && !m_fÜmD©aSuffixT»e->
mightCÚš
(
ÿnÚiÿlizedSŒšg
))

420  
	gçl£
;

422 ià(
	gdecodedFÜmD©a
.
fšd
(
ÿnÚiÿlizedSŒšg
, 0, 
çl£
) != -1)

423  
Œue
;

426  
	gçl£
;

	@XSSAuditor.h

27 #iâdeà
XSSAud™Ü_h


28 
	#XSSAud™Ü_h


	)

30 
	~"HTTPP¬£rs.h
"

31 
	~"PÏtfÜmSŒšg.h
"

32 
	~"SuffixT»e.h
"

33 
	~"TextEncodšg.h
"

35 
Çme¥aû
 
	gWebCÜe
 {

37 
şass
 
	gFÜmD©a
;

38 
şass
 
	gF¿me
;

39 
şass
 
	gSütSourûCode
;

72 şas 
	cXSSAud™Ü
 : 
public
 
NÚcİyabË
 {

73 
public
:

74 
XSSAud™Ü
(
F¿me
*);

75 ~
XSSAud™Ü
();

77 
boŞ
 
isEÇbËd
() const;

81 
boŞ
 
ÿnEv®u©e
(cÚ¡ 
SŒšg
& 
code
) const;

85 
boŞ
 
ÿnEv®u©eJavaSütURL
(cÚ¡ 
SŒšg
& 
code
) const;

89 
boŞ
 
ÿnC»©eIÆšeEv’tLi¡’”
(cÚ¡ 
SŒšg
& 
funùiÚName
, cÚ¡ SŒšg& 
code
) const;

93 
boŞ
 
ÿnLßdEx‹º®SütFromSrc
(cÚ¡ 
SŒšg
& 
cÚ‹xt
, cÚ¡ SŒšg& 
u¾
) const;

99 
boŞ
 
ÿnLßdObjeù
(cÚ¡ 
SŒšg
& 
u¾
) const;

105 
boŞ
 
ÿnS‘Ba£EËm’tURL
(cÚ¡ 
SŒšg
& 
u¾
) const;

107 
	g´iv©e
:

108 şas 
	cCachšgURLCªÚiÿliz”


110 
public
:

111 
CachšgURLCªÚiÿliz”
(è: 
m_decodeEÁ™›s
(
çl£
), 
m_decodeURLEsÿ³Sequ’ûsTwiû
(çl£), 
m_g’”©iÚ
(0) { }

112 
SŒšg
 
ÿnÚiÿlizeURL
(
FÜmD©a
*, cÚ¡ 
TextEncodšg
& 
’codšg
, 
boŞ
 
decodeEÁ™›s
,

113 
boŞ
 
decodeURLEsÿ³Sequ’ûsTwiû
);

114 
SŒšg
 
ÿnÚiÿlizeURL
(cÚ¡ SŒšg& 
u¾
, cÚ¡ 
TextEncodšg
& 
’codšg
, 
boŞ
 
decodeEÁ™›s
,

115 
boŞ
 
decodeURLEsÿ³Sequ’ûsTwiû
);

117 
ş—r
();

119 
g’”©iÚ
(ècÚ¡ {  
	gm_g’”©iÚ
; }

121 
	g´iv©e
:

123 
SŒšg
 
m_šputURL
;

124 
TextEncodšg
 
	gm_’codšg
;

125 
boŞ
 
	gm_decodeEÁ™›s
;

126 
boŞ
 
	gm_decodeURLEsÿ³Sequ’ûsTwiû
;

127 
	gRefPŒ
<
	gFÜmD©a
> 
	gm_fÜmD©a
;

130 
	gm_g’”©iÚ
;

133 
SŒšg
 
	gm_ÿchedCªÚiÿlizedURL
;

136 
	sFšdTask
 {

137 
FšdTask
()

138 : 
decodeEÁ™›s
(
Œue
)

139 , 
®lowReque¡IfNoIÎeg®URICh¬aù”s
(
çl£
)

140 , 
decodeURLEsÿ³Sequ’ûsTwiû
(
çl£
)

144 
SŒšg
 
	gcÚ‹xt
;

145 
SŒšg
 
	g¡ršg
;

146 
boŞ
 
	gdecodeEÁ™›s
;

147 
boŞ
 
	g®lowReque¡IfNoIÎeg®URICh¬aù”s
;

148 
boŞ
 
	gdecodeURLEsÿ³Sequ’ûsTwiû
;

151 
SŒšg
 
ÿnÚiÿlize
(const String&);

152 
SŒšg
 
decodeURL
(cÚ¡ SŒšg& 
u¾
, cÚ¡ 
TextEncodšg
& 
’codšg
, 
boŞ
 
decodeEÁ™›s
,

153 
boŞ
 
decodeURLEsÿ³Sequ’ûsTwiû
 = 
çl£
);

154 
SŒšg
 
decodeHTMLEÁ™›s
(cÚ¡ SŒšg&, 
boŞ
 
ËaveUndecodabËEÁ™›sUÁouched
 = 
Œue
);

156 
boŞ
 
isSameOrigšResourû
(cÚ¡ 
SŒšg
& 
u¾
) const;

157 
boŞ
 
fšdInReque¡
(cÚ¡ 
FšdTask
&) const;

158 
boŞ
 
fšdInReque¡
(
F¿me
*, cÚ¡ 
FšdTask
&) const;

160 
XSSPrÙeùiÚDi¥os™iÚ
 
xssPrÙeùiÚ
() const;

163 
F¿me
* 
	gm_äame
;

171 
mubË
 
CachšgURLCªÚiÿliz”
 
	gm_·geURLCache
;

172 
mubË
 
CachšgURLCªÚiÿliz”
 
	gm_fÜmD©aCache
;

174 
mubË
 
	gOwnPŒ
<
	gSuffixT»e
<
	gASCIICodebook
> > 
	gm_fÜmD©aSuffixT»e
;

175 
mubË
 
	gm_g’”©iÚOfSuffixT»e
;

	@ZoomMode.h

20 #iâdeà
ZoomMode_h


21 
	#ZoomMode_h


	)

23 
Çme¥aû
 
	gWebCÜe
 {

25 
	eZoomMode
 {

26 
	gZoomPage
,

27 
	gZoomTextOÆy


	@/usr/include/limits.h

24 #iâdeà
_LIBC_LIMITS_H_


25 
	#_LIBC_LIMITS_H_
 1

	)

27 
	~<ã©u»s.h
>

33 
	#MB_LEN_MAX
 16

	)

38 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

43 #iâdeà
_LIMITS_H


44 
	#_LIMITS_H
 1

	)

46 
	~<b™s/wÜdsize.h
>

55 
	#CHAR_BIT
 8

	)

58 
	#SCHAR_MIN
 (-128)

	)

59 
	#SCHAR_MAX
 127

	)

62 
	#UCHAR_MAX
 255

	)

65 #ifdeà
__CHAR_UNSIGNED__


66 
	#CHAR_MIN
 0

	)

67 
	#CHAR_MAX
 
UCHAR_MAX


	)

69 
	#CHAR_MIN
 
SCHAR_MIN


	)

70 
	#CHAR_MAX
 
SCHAR_MAX


	)

74 
	#SHRT_MIN
 (-32768)

	)

75 
	#SHRT_MAX
 32767

	)

78 
	#USHRT_MAX
 65535

	)

81 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

82 
	#INT_MAX
 2147483647

	)

85 
	#UINT_MAX
 4294967295U

	)

88 #ià
__WORDSIZE
 == 64

89 
	#LONG_MAX
 9223372036854775807L

	)

91 
	#LONG_MAX
 2147483647L

	)

93 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

96 #ià
__WORDSIZE
 == 64

97 
	#ULONG_MAX
 18446744073709551615UL

	)

99 
	#ULONG_MAX
 4294967295UL

	)

102 #ifdeà
__USE_ISOC99


105 
	#LLONG_MAX
 9223372036854775807LL

	)

106 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

109 
	#ULLONG_MAX
 18446744073709551615ULL

	)

123 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


125 #šşude_Ãxˆ<
lim™s
.
h
>

131 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


132 #iâdeà
LLONG_MIN


133 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

135 #iâdeà
LLONG_MAX


136 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

138 #iâdeà
ULLONG_MAX


139 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

143 #ifdef 
__USE_POSIX


145 
	~<b™s/posix1_lim.h
>

148 #ifdef 
__USE_POSIX2


149 
	~<b™s/posix2_lim.h
>

152 #ifdef 
__USE_XOPEN


153 
	~<b™s/xİ’_lim.h
>

	@/usr/include/stdio.h

24 #iâdeà
_STDIO_H


26 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


27 
	#_STDIO_H
 1

	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


32 
	#__Ãed_size_t


	)

33 
	#__Ãed_NULL


	)

34 
	~<¡ddef.h
>

36 
	~<b™s/ty³s.h
>

37 
	#__Ãed_FILE


	)

38 
	#__Ãed___FILE


	)

42 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


45 
	g_IO_FILE
;

47 
__BEGIN_NAMESPACE_STD


49 
_IO_FILE
 
	tFILE
;

50 
	g__END_NAMESPACE_STD


51 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_SVID
 || defšed 
__USE_POSIX
 \

52 || 
defšed
 
	g__USE_BSD
 || defšed 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

53 || 
defšed
 
__USE_POSIX2


54 
	$__USING_NAMESPACE_STD
(
FILE
)

57 
	#__FILE_defšed
 1

	)

59 #undeà
__Ãed_FILE


62 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


65 
_IO_FILE
 
	t__FILE
;

67 
	#____FILE_defšed
 1

	)

69 #undeà
__Ãed___FILE


72 #ifdef 
_STDIO_H


73 
	#_STDIO_USES_IOSTREAM


	)

75 
	~<libio.h
>

77 #ifdeà
__USE_XOPEN


78 #ifdeà
__GNUC__


79 #iâdeà
_VA_LIST_DEFINED


80 
_G_va_li¡
 
	tva_li¡
;

81 
	#_VA_LIST_DEFINED


	)

84 
	~<¡d¬g.h
>

89 
__BEGIN_NAMESPACE_STD


90 #iâdeà
__USE_FILE_OFFSET64


91 
_G_åos_t
 
	tåos_t
;

93 
_G_åos64_t
 
	tåos_t
;

95 
__END_NAMESPACE_STD


96 #ifdeà
__USE_LARGEFILE64


97 
_G_åos64_t
 
	tåos64_t
;

101 
	#_IOFBF
 0

	)

102 
	#_IOLBF
 1

	)

103 
	#_IONBF
 2

	)

107 #iâdeà
BUFSIZ


108 
	#BUFSIZ
 
_IO_BUFSIZ


	)

114 #iâdeà
EOF


115 
	#EOF
 (-1)

	)

121 
	#SEEK_SET
 0

	)

122 
	#SEEK_CUR
 1

	)

123 
	#SEEK_END
 2

	)

126 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


128 
	#P_tmpdœ
 "/tmp"

	)

141 
	~<b™s/¡dio_lim.h
>

145 
_IO_FILE
 *
¡dš
;

146 
_IO_FILE
 *
¡dout
;

147 
_IO_FILE
 *
¡d”r
;

149 
	#¡dš
 
¡dš


	)

150 
	#¡dout
 
¡dout


	)

151 
	#¡d”r
 
¡d”r


	)

153 
__BEGIN_NAMESPACE_STD


155 
	$»move
 (
__cÚ¡
 *
__f’ame
è
__THROW
;

157 
	$»Çme
 (
__cÚ¡
 *
__Şd
, __cÚ¡ *
__Ãw
è
__THROW
;

158 
__END_NAMESPACE_STD


160 #ifdeà
__USE_ATFILE


162 
	$»Çm—t
 (
__Şdfd
, 
__cÚ¡
 *
__Şd
, 
__Ãwfd
,

163 
__cÚ¡
 *
__Ãw
è
__THROW
;

166 
__BEGIN_NAMESPACE_STD


171 #iâdeà
__USE_FILE_OFFSET64


172 
FILE
 *
	$tmpfe
 (è
__wur
;

174 #ifdeà
__REDIRECT


175 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

177 
	#tmpfe
 
tmpfe64


	)

181 #ifdeà
__USE_LARGEFILE64


182 
FILE
 *
	$tmpfe64
 (è
__wur
;

186 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

187 
__END_NAMESPACE_STD


189 #ifdeà
__USE_MISC


192 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

196 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


204 *
	$‹m²am
 (
__cÚ¡
 *
__dœ
, __cÚ¡ *
__pfx
)

205 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

209 
__BEGIN_NAMESPACE_STD


214 
	`fşo£
 (
FILE
 *
__¡»am
);

219 
	`fæush
 (
FILE
 *
__¡»am
);

220 
__END_NAMESPACE_STD


222 #ifdeà
__USE_MISC


229 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

232 #ifdeà
__USE_GNU


239 
	`fşo£®l
 ();

243 
__BEGIN_NAMESPACE_STD


244 #iâdeà
__USE_FILE_OFFSET64


249 
FILE
 *
	$fİ’
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

250 
__cÚ¡
 *
__»¡riù
 
__modes
è
__wur
;

255 
FILE
 *
	$äeİ’
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

256 
__cÚ¡
 *
__»¡riù
 
__modes
,

257 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

259 #ifdeà
__REDIRECT


260 
FILE
 *
	`__REDIRECT
 (
fİ’
, (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

261 
__cÚ¡
 *
__»¡riù
 
__modes
), 
fİ’64
)

262 
__wur
;

263 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

264 
__cÚ¡
 *
__»¡riù
 
__modes
,

265 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

266 
__wur
;

268 
	#fİ’
 
fİ’64


	)

269 
	#äeİ’
 
äeİ’64


	)

272 
__END_NAMESPACE_STD


273 #ifdeà
__USE_LARGEFILE64


274 
FILE
 *
	$fİ’64
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

275 
__cÚ¡
 *
__»¡riù
 
__modes
è
__wur
;

276 
FILE
 *
	$äeİ’64
 (
__cÚ¡
 *
__»¡riù
 
__f’ame
,

277 
__cÚ¡
 *
__»¡riù
 
__modes
,

278 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

281 #ifdef 
__USE_POSIX


283 
FILE
 *
	$fdİ’
 (
__fd
, 
__cÚ¡
 *
__modes
è
__THROW
 
__wur
;

286 #ifdef 
__USE_GNU


289 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

290 
__cÚ¡
 *
__»¡riù
 
__modes
,

291 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

294 #ifdeà
__USE_XOPEN2K8


296 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, 
__cÚ¡
 *
__modes
)

297 
__THROW
 
__wur
;

302 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

306 
__BEGIN_NAMESPACE_STD


309 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

313 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

314 
__modes
, 
size_t
 
__n
è
__THROW
;

315 
__END_NAMESPACE_STD


317 #ifdef 
__USE_BSD


320 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

321 
size_t
 
__size
è
__THROW
;

324 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

328 
__BEGIN_NAMESPACE_STD


333 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

334 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

339 
	`´štf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

341 
	$¥rštf
 (*
__»¡riù
 
__s
,

342 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

348 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fÜm©
,

349 
_G_va_li¡
 
__¬g
);

354 
	`v´štf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

356 
	$v¥rštf
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fÜm©
,

357 
_G_va_li¡
 
__¬g
è
__THROW
;

358 
__END_NAMESPACE_STD


360 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


361 
__BEGIN_NAMESPACE_C99


363 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

364 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...)

365 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

367 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

368 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

369 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

370 
__END_NAMESPACE_C99


373 #ifdeà
__USE_GNU


376 
	$va¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__f
,

377 
_G_va_li¡
 
__¬g
)

378 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

379 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

380 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

381 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

382 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

383 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

384 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

387 #ifdeà
__USE_XOPEN2K8


394 
	$vd´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
,

395 
_G_va_li¡
 
__¬g
)

396 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

397 
	$d´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

398 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

402 
__BEGIN_NAMESPACE_STD


407 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

408 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

413 
	$sÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

415 
	$ssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

416 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

418 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

419 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

420 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

421 #ifdeà
__REDIRECT


425 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

426 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...),

427 
__isoc99_fsÿnf
è
__wur
;

428 
	`__REDIRECT
 (
sÿnf
, (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...),

429 
__isoc99_sÿnf
è
__wur
;

430 
	`__REDIRECT
 (
ssÿnf
, (
__cÚ¡
 *
__»¡riù
 
__s
,

431 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...),

432 
__isoc99_ssÿnf
è
__THROW
;

434 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

435 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

436 
	$__isoc99_sÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__wur
;

437 
	$__isoc99_ssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

438 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

439 
	#fsÿnf
 
__isoc99_fsÿnf


	)

440 
	#sÿnf
 
__isoc99_sÿnf


	)

441 
	#ssÿnf
 
__isoc99_ssÿnf


	)

445 
__END_NAMESPACE_STD


447 #ifdef 
__USE_ISOC99


448 
__BEGIN_NAMESPACE_C99


453 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fÜm©
,

454 
_G_va_li¡
 
__¬g
)

455 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

461 
	$vsÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

462 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

465 
	$vssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

466 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

467 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

469 #ià!
defšed
 
__USE_GNU
 \

470 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

471 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

472 #ifdeà
__REDIRECT


476 
	`__REDIRECT
 (
vfsÿnf
,

477 (
FILE
 *
__»¡riù
 
__s
,

478 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

479 
__isoc99_vfsÿnf
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

481 
	`__REDIRECT
 (
vsÿnf
, (
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

482 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

483 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

484 
	`__REDIRECT
 (
vssÿnf
,

485 (
__cÚ¡
 *
__»¡riù
 
__s
,

486 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

487 
__isoc99_vssÿnf
)

488 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

490 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

491 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

492 
_G_va_li¡
 
__¬g
è
__wur
;

493 
	$__isoc99_vsÿnf
 (
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

494 
_G_va_li¡
 
__¬g
è
__wur
;

495 
	$__isoc99_vssÿnf
 (
__cÚ¡
 *
__»¡riù
 
__s
,

496 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

497 
_G_va_li¡
 
__¬g
è
__THROW
;

498 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

499 
	#vsÿnf
 
__isoc99_vsÿnf


	)

500 
	#vssÿnf
 
__isoc99_vssÿnf


	)

504 
__END_NAMESPACE_C99


508 
__BEGIN_NAMESPACE_STD


513 
	`fg‘c
 (
FILE
 *
__¡»am
);

514 
	`g‘c
 (
FILE
 *
__¡»am
);

520 
	`g‘ch¬
 ();

521 
__END_NAMESPACE_STD


525 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

527 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


532 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

533 
	`g‘ch¬_uÆocked
 ();

536 #ifdeà
__USE_MISC


543 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

547 
__BEGIN_NAMESPACE_STD


555 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

556 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

562 
	`putch¬
 (
__c
);

563 
__END_NAMESPACE_STD


567 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

569 #ifdeà
__USE_MISC


576 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

579 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


584 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

585 
	`putch¬_uÆocked
 (
__c
);

589 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 \

590 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

592 
	`g‘w
 (
FILE
 *
__¡»am
);

595 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

599 
__BEGIN_NAMESPACE_STD


604 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

605 
__wur
;

612 *
	$g‘s
 (*
__s
è
__wur
;

613 
__END_NAMESPACE_STD


615 #ifdeà
__USE_GNU


622 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

623 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

627 #ifdef 
__USE_XOPEN2K8


638 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

639 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

640 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

641 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

642 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

643 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

651 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

652 
size_t
 *
__»¡riù
 
__n
,

653 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

657 
__BEGIN_NAMESPACE_STD


662 
	`åuts
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

668 
	`puts
 (
__cÚ¡
 *
__s
);

675 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

682 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

683 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

688 
size_t
 
	$fwr™e
 (
__cÚ¡
 *
__»¡riù
 
__±r
, 
size_t
 
__size
,

689 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
è
__wur
;

690 
__END_NAMESPACE_STD


692 #ifdeà
__USE_GNU


699 
	`åuts_uÆocked
 (
__cÚ¡
 *
__»¡riù
 
__s
,

700 
FILE
 *
__»¡riù
 
__¡»am
);

703 #ifdeà
__USE_MISC


710 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

711 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

712 
size_t
 
	$fwr™e_uÆocked
 (
__cÚ¡
 *
__»¡riù
 
__±r
, 
size_t
 
__size
,

713 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

717 
__BEGIN_NAMESPACE_STD


722 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

727 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

732 
	`»wšd
 (
FILE
 *
__¡»am
);

733 
__END_NAMESPACE_STD


740 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


741 #iâdeà
__USE_FILE_OFFSET64


746 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

751 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

753 #ifdeà
__REDIRECT


754 
	`__REDIRECT
 (
f£eko
,

755 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

756 
f£eko64
);

757 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

759 
	#f£eko
 
f£eko64


	)

760 
	#á–lo
 
á–lo64


	)

765 
__BEGIN_NAMESPACE_STD


766 #iâdeà
__USE_FILE_OFFSET64


771 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

776 
	`f£os
 (
FILE
 *
__¡»am
, 
__cÚ¡
 
åos_t
 *
__pos
);

778 #ifdeà
__REDIRECT


779 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

780 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

781 
	`__REDIRECT
 (
f£os
,

782 (
FILE
 *
__¡»am
, 
__cÚ¡
 
åos_t
 *
__pos
), 
f£os64
);

784 
	#fg‘pos
 
fg‘pos64


	)

785 
	#f£os
 
f£os64


	)

788 
__END_NAMESPACE_STD


790 #ifdeà
__USE_LARGEFILE64


791 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

792 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

793 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

794 
	`f£os64
 (
FILE
 *
__¡»am
, 
__cÚ¡
 
åos64_t
 *
__pos
);

797 
__BEGIN_NAMESPACE_STD


799 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

801 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

803 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

804 
__END_NAMESPACE_STD


806 #ifdeà
__USE_MISC


808 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

809 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

810 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

814 
__BEGIN_NAMESPACE_STD


819 
	`³¼Ü
 (
__cÚ¡
 *
__s
);

820 
__END_NAMESPACE_STD


826 
	~<b™s/sys_”¾i¡.h
>

829 #ifdef 
__USE_POSIX


831 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

834 #ifdeà
__USE_MISC


836 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

840 #ià(
defšed
 
__USE_POSIX2
 || defšed 
__USE_SVID
 || defšed 
__USE_BSD
 || \

841 
defšed
 
__USE_MISC
)

846 
FILE
 *
	$pİ’
 (
__cÚ¡
 *
__commªd
, __cÚ¡ *
__modes
è
__wur
;

852 
	`pşo£
 (
FILE
 *
__¡»am
);

856 #ifdef 
__USE_POSIX


858 *
	$ù”mid
 (*
__s
è
__THROW
;

862 #ifdeà
__USE_XOPEN


864 *
	`cu£rid
 (*
__s
);

868 #ifdef 
__USE_GNU


869 
ob¡ack
;

872 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

873 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...)

874 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

875 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

876 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

877 
_G_va_li¡
 
__¬gs
)

878 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

882 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


886 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

890 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

893 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

896 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


900 
	#__Ãed_g‘İt


	)

901 
	~<g‘İt.h
>

906 #ifdeà
__USE_EXTERN_INLINES


907 
	~<b™s/¡dio.h
>

909 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


910 
	~<b™s/¡dio2.h
>

912 #ifdeà
__LDBL_COMPAT


913 
	~<b™s/¡dio-ldbl.h
>

916 
__END_DECLS


	@/usr/include/sys/utsname.h

23 #iâdef 
_SYS_UTSNAME_H


24 
	#_SYS_UTSNAME_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


30 
	~<b™s/ut¢ame.h
>

32 #iâdeà
_UTSNAME_SYSNAME_LENGTH


33 
	#_UTSNAME_SYSNAME_LENGTH
 
_UTSNAME_LENGTH


	)

35 #iâdeà
_UTSNAME_NODENAME_LENGTH


36 
	#_UTSNAME_NODENAME_LENGTH
 
_UTSNAME_LENGTH


	)

38 #iâdeà
_UTSNAME_RELEASE_LENGTH


39 
	#_UTSNAME_RELEASE_LENGTH
 
_UTSNAME_LENGTH


	)

41 #iâdeà
_UTSNAME_VERSION_LENGTH


42 
	#_UTSNAME_VERSION_LENGTH
 
_UTSNAME_LENGTH


	)

44 #iâdeà
_UTSNAME_MACHINE_LENGTH


45 
	#_UTSNAME_MACHINE_LENGTH
 
_UTSNAME_LENGTH


	)

49 
	sut¢ame


52 
	msy¢ame
[
_UTSNAME_SYSNAME_LENGTH
];

55 
	mnod’ame
[
_UTSNAME_NODENAME_LENGTH
];

58 
	m»Ëa£
[
_UTSNAME_RELEASE_LENGTH
];

60 
	mv”siÚ
[
_UTSNAME_VERSION_LENGTH
];

63 
	mmachše
[
_UTSNAME_MACHINE_LENGTH
];

65 #ià
_UTSNAME_DOMAIN_LENGTH
 - 0

67 #ifdeà
__USE_GNU


68 
	mdomašÇme
[
_UTSNAME_DOMAIN_LENGTH
];

70 
	m__domašÇme
[
_UTSNAME_DOMAIN_LENGTH
];

75 #ifdeà
__USE_SVID


77 
	#SYS_NMLN
 
_UTSNAME_LENGTH


	)

82 
	$uÇme
 (
ut¢ame
 *
__Çme
è
__THROW
;

85 
__END_DECLS


	@/usr/include/bits/posix1_lim.h

25 #iâdef 
_BITS_POSIX1_LIM_H


26 
	#_BITS_POSIX1_LIM_H
 1

	)

32 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

35 
	#_POSIX_AIO_MAX
 1

	)

38 
	#_POSIX_ARG_MAX
 4096

	)

41 #ifdeà
__USE_XOPEN2K


42 
	#_POSIX_CHILD_MAX
 25

	)

44 
	#_POSIX_CHILD_MAX
 6

	)

48 
	#_POSIX_DELAYTIMER_MAX
 32

	)

52 
	#_POSIX_HOST_NAME_MAX
 255

	)

55 
	#_POSIX_LINK_MAX
 8

	)

58 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

61 
	#_POSIX_MAX_CANON
 255

	)

65 
	#_POSIX_MAX_INPUT
 255

	)

68 
	#_POSIX_MQ_OPEN_MAX
 8

	)

71 
	#_POSIX_MQ_PRIO_MAX
 32

	)

74 
	#_POSIX_NAME_MAX
 14

	)

77 #ifdeà
__USE_XOPEN2K


78 
	#_POSIX_NGROUPS_MAX
 8

	)

80 
	#_POSIX_NGROUPS_MAX
 0

	)

84 #ifdeà
__USE_XOPEN2K


85 
	#_POSIX_OPEN_MAX
 20

	)

87 
	#_POSIX_OPEN_MAX
 16

	)

90 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


93 
	#_POSIX_FD_SETSIZE
 
_POSIX_OPEN_MAX


	)

97 
	#_POSIX_PATH_MAX
 256

	)

100 
	#_POSIX_PIPE_BUF
 512

	)

104 
	#_POSIX_RE_DUP_MAX
 255

	)

107 
	#_POSIX_RTSIG_MAX
 8

	)

110 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

113 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

116 
	#_POSIX_SIGQUEUE_MAX
 32

	)

119 
	#_POSIX_SSIZE_MAX
 32767

	)

122 
	#_POSIX_STREAM_MAX
 8

	)

125 
	#_POSIX_SYMLINK_MAX
 255

	)

129 
	#_POSIX_SYMLOOP_MAX
 8

	)

132 
	#_POSIX_TIMER_MAX
 32

	)

135 
	#_POSIX_TTY_NAME_MAX
 9

	)

138 
	#_POSIX_TZNAME_MAX
 6

	)

140 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


142 
	#_POSIX_QLIMIT
 1

	)

146 
	#_POSIX_HIWAT
 
_POSIX_PIPE_BUF


	)

149 
	#_POSIX_UIO_MAXIOV
 16

	)

153 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

157 
	~<b™s/loÿl_lim.h
>

160 #iâdef 
SSIZE_MAX


161 
	#SSIZE_MAX
 
LONG_MAX


	)

168 #iâdef 
NGROUPS_MAX


169 
	#NGROUPS_MAX
 8

	)

	@/usr/include/bits/posix2_lim.h

23 #iâdef 
_BITS_POSIX2_LIM_H


24 
	#_BITS_POSIX2_LIM_H
 1

	)

28 
	#_POSIX2_BC_BASE_MAX
 99

	)

31 
	#_POSIX2_BC_DIM_MAX
 2048

	)

34 
	#_POSIX2_BC_SCALE_MAX
 99

	)

37 
	#_POSIX2_BC_STRING_MAX
 1000

	)

41 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

45 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

48 
	#_POSIX2_LINE_MAX
 2048

	)

52 
	#_POSIX2_RE_DUP_MAX
 255

	)

56 
	#_POSIX2_CHARCLASS_NAME_MAX
 14

	)

63 #iâdef 
BC_BASE_MAX


64 
	#BC_BASE_MAX
 
_POSIX2_BC_BASE_MAX


	)

66 #iâdef 
BC_DIM_MAX


67 
	#BC_DIM_MAX
 
_POSIX2_BC_DIM_MAX


	)

69 #iâdef 
BC_SCALE_MAX


70 
	#BC_SCALE_MAX
 
_POSIX2_BC_SCALE_MAX


	)

72 #iâdef 
BC_STRING_MAX


73 
	#BC_STRING_MAX
 
_POSIX2_BC_STRING_MAX


	)

75 #iâdef 
COLL_WEIGHTS_MAX


76 
	#COLL_WEIGHTS_MAX
 255

	)

78 #iâdef 
EXPR_NEST_MAX


79 
	#EXPR_NEST_MAX
 
_POSIX2_EXPR_NEST_MAX


	)

81 #iâdef 
LINE_MAX


82 
	#LINE_MAX
 
_POSIX2_LINE_MAX


	)

84 #iâdef 
CHARCLASS_NAME_MAX


85 
	#CHARCLASS_NAME_MAX
 2048

	)

89 
	#RE_DUP_MAX
 (0x7fff)

	)

	@/usr/include/bits/stdio-ldbl.h

20 #iâdeà
_STDIO_H


24 
__BEGIN_NAMESPACE_STD


25 
	$__LDBL_REDIR_DECL
 (
årštf
)

26 
	$__LDBL_REDIR_DECL
 (
´štf
)

27 
	$__LDBL_REDIR_DECL
 (
¥rštf
)

28 
	$__LDBL_REDIR_DECL
 (
vårštf
)

29 
	$__LDBL_REDIR_DECL
 (
v´štf
)

30 
	$__LDBL_REDIR_DECL
 (
v¥rštf
)

31 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

32 && !
defšed
 
__REDIRECT
 \

33 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fsÿnf
, 
__Ædbl___isoc99_fsÿnf
)

35 
	$__LDBL_REDIR1_DECL
 (
sÿnf
, 
__Ædbl___isoc99_sÿnf
)

36 
	$__LDBL_REDIR1_DECL
 (
ssÿnf
, 
__Ædbl___isoc99_ssÿnf
)

38 
	$__LDBL_REDIR_DECL
 (
fsÿnf
)

39 
	$__LDBL_REDIR_DECL
 (
sÿnf
)

40 
	$__LDBL_REDIR_DECL
 (
ssÿnf
)

42 
__END_NAMESPACE_STD


44 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


45 
__BEGIN_NAMESPACE_C99


46 
	$__LDBL_REDIR_DECL
 (
¢´štf
)

47 
	$__LDBL_REDIR_DECL
 (
v¢´štf
)

48 
__END_NAMESPACE_C99


51 #ifdef 
__USE_ISOC99


52 
__BEGIN_NAMESPACE_C99


53 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

54 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

55 
	$__LDBL_REDIR1_DECL
 (
vfsÿnf
, 
__Ædbl___isoc99_vfsÿnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vsÿnf
, 
__Ædbl___isoc99_vsÿnf
)

57 
	$__LDBL_REDIR1_DECL
 (
vssÿnf
, 
__Ædbl___isoc99_vssÿnf
)

59 
	$__LDBL_REDIR_DECL
 (
vfsÿnf
)

60 
	$__LDBL_REDIR_DECL
 (
vssÿnf
)

61 
	$__LDBL_REDIR_DECL
 (
vsÿnf
)

63 
__END_NAMESPACE_C99


66 #ifdeà
__USE_GNU


67 
	$__LDBL_REDIR_DECL
 (
vd´štf
)

68 
	$__LDBL_REDIR_DECL
 (
d´štf
)

69 
	$__LDBL_REDIR_DECL
 (
va¥rštf
)

70 
	$__LDBL_REDIR_DECL
 (
__a¥rštf
)

71 
	$__LDBL_REDIR_DECL
 (
a¥rštf
)

72 
	$__LDBL_REDIR_DECL
 (
ob¡ack_´štf
)

73 
	$__LDBL_REDIR_DECL
 (
ob¡ack_v´štf
)

76 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


77 
	$__LDBL_REDIR_DECL
 (
__¥rštf_chk
)

78 
	$__LDBL_REDIR_DECL
 (
__v¥rštf_chk
)

79 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


80 
	$__LDBL_REDIR_DECL
 (
__¢´štf_chk
)

81 
	$__LDBL_REDIR_DECL
 (
__v¢´štf_chk
)

83 #ià
__USE_FORTIFY_LEVEL
 > 1

84 
	$__LDBL_REDIR_DECL
 (
__årštf_chk
)

85 
	$__LDBL_REDIR_DECL
 (
__´štf_chk
)

86 
	$__LDBL_REDIR_DECL
 (
__vårštf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__v´štf_chk
)

88 #ifdeà
__USE_GNU


89 
	$__LDBL_REDIR_DECL
 (
__a¥rštf_chk
)

90 
	$__LDBL_REDIR_DECL
 (
__va¥rštf_chk
)

91 
	$__LDBL_REDIR_DECL
 (
__d´štf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd´štf_chk
)

93 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_´štf_chk
)

94 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_v´štf_chk
)

	@/usr/include/bits/stdio.h

20 #iâdeà
_STDIO_H


24 #iâdeà
__ex‹º_šlše


25 
	#__STDIO_INLINE
 
šlše


	)

27 
	#__STDIO_INLINE
 
__ex‹º_šlše


	)

31 #ifdeà
__USE_EXTERN_INLINES


34 #ià!(
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše
)

36 
__STDIO_INLINE
 

37 
	$v´štf
 (
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

39  
	`vårštf
 (
¡dout
, 
__fmt
, 
__¬g
);

40 
	}
}

44 
__STDIO_INLINE
 

45 
	$g‘ch¬
 ()

47  
	`_IO_g‘c
 (
¡dš
);

48 
	}
}

51 #ifdeà
__USE_MISC


53 
__STDIO_INLINE
 

54 
	$fg‘c_uÆocked
 (
FILE
 *
__å
)

56  
	`_IO_g‘c_uÆocked
 (
__å
);

57 
	}
}

61 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


63 
__STDIO_INLINE
 

64 
	$g‘c_uÆocked
 (
FILE
 *
__å
)

66  
	`_IO_g‘c_uÆocked
 (
__å
);

67 
	}
}

70 
__STDIO_INLINE
 

71 
	$g‘ch¬_uÆocked
 ()

73  
	`_IO_g‘c_uÆocked
 (
¡dš
);

74 
	}
}

79 
__STDIO_INLINE
 

80 
	$putch¬
 (
__c
)

82  
	`_IO_putc
 (
__c
, 
¡dout
);

83 
	}
}

86 #ifdeà
__USE_MISC


88 
__STDIO_INLINE
 

89 
	$åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

91  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

92 
	}
}

96 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


98 
__STDIO_INLINE
 

99 
	$putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

101  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

102 
	}
}

105 
__STDIO_INLINE
 

106 
	$putch¬_uÆocked
 (
__c
)

108  
	`_IO_putc_uÆocked
 (
__c
, 
¡dout
);

109 
	}
}

113 #ifdef 
__USE_GNU


115 
__STDIO_INLINE
 
_IO_ssize_t


116 
	$g‘lše
 (**
__lš•Œ
, 
size_t
 *
__n
, 
FILE
 *
__¡»am
)

118  
	`__g‘d–im
 (
__lš•Œ
, 
__n
, '\n', 
__¡»am
);

119 
	}
}

123 #ifdeà
__USE_MISC


125 
__STDIO_INLINE
 

126 
__NTH
 (
	$ãof_uÆocked
 (
FILE
 *
__¡»am
))

128  
	`_IO_ãof_uÆocked
 (
__¡»am
);

129 
	}
}

132 
__STDIO_INLINE
 

133 
__NTH
 (
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
))

135  
	`_IO_ã¼Ü_uÆocked
 (
__¡»am
);

136 
	}
}

142 #ià
defšed
 
__USE_MISC
 && defšed 
__GNUC__
 && defšed 
__OPTIMIZE__
 \

143 && !
defšed
 
	g__ılu¥lus


145 
	#ä—d_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

146 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

147 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

148 && (
size_t
è(
size
) != 0) \

149 ? ({ *
__±r
 = (*è(
±r
); \

150 
FILE
 *
__¡»am
 = (
¡»am
); \

151 
size_t
 
__út
; \

152 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

153 
__út
 > 0; --__cnt) \

155 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
); \

156 ià(
__c
 =ğ
EOF
) \

158 *
__±r
++ = 
__c
; \

160 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

161 / (
size_t
è(
size
); }) \

162 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

163 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

165 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

166 (è(
n
), (
size_t
) 0) \

167 : 
	`ä—d_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

169 
	#fwr™e_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

170 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

171 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

172 && (
size_t
è(
size
) != 0) \

173 ? ({ cÚ¡ *
__±r
 = (cÚ¡ *è(
±r
); \

174 
FILE
 *
__¡»am
 = (
¡»am
); \

175 
size_t
 
__út
; \

176 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

177 
__út
 > 0; --__cnt) \

178 ià(
	`_IO_putc_uÆocked
 (*
__±r
++, 
__¡»am
è=ğ
EOF
) \

180 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

181 / (
size_t
è(
size
); }) \

182 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

183 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

185 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

186 (è(
n
), (
size_t
) 0) \

187 : 
	`fwr™e_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

191 #undeà
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

20 #iâdeà
_STDIO_H


24 
	$__¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

25 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

26 
	$__v¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

27 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

28 
_G_va_li¡
 
__­
è
__THROW
;

30 #ifdeà
__va_¬g_·ck


31 
__ex‹º_®ways_šlše
 

32 
	`__NTH
 (
	$¥rštf
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fmt
, ...))

34  
	`__butš___¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

35 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

36 
	}
}

37 #–ià!
defšed
 
__ılu¥lus


38 
	#¥rštf
(
¡r
, ...) \

39 
	`__butš___¥rštf_chk
 (
¡r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

40 
__VA_ARGS__
)

	)

43 
__ex‹º_®ways_šlše
 

44 
__NTH
 (
	$v¥rštf
 (*
__»¡riù
 
__s
, 
__cÚ¡
 *__»¡riù 
__fmt
,

45 
_G_va_li¡
 
__­
))

47  
	`__butš___v¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

48 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

49 
	}
}

51 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


53 
	$__¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

54 
size_t
 
__¦’
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

55 ...è
__THROW
;

56 
	$__v¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

57 
size_t
 
__¦’
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

58 
_G_va_li¡
 
__­
è
__THROW
;

60 #ifdeà
__va_¬g_·ck


61 
__ex‹º_®ways_šlše
 

62 
	`__NTH
 (
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

63 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...))

65  
	`__butš___¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

66 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

67 
	}
}

68 #–ià!
defšed
 
__ılu¥lus


69 
	#¢´štf
(
¡r
, 
Ën
, ...) \

70 
	`__butš___¢´štf_chk
 (
¡r
, 
Ën
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

71 
__VA_ARGS__
)

	)

74 
__ex‹º_®ways_šlše
 

75 
__NTH
 (
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

76 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

78  
	`__butš___v¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

79 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

80 
	}
}

84 #ià
__USE_FORTIFY_LEVEL
 > 1

86 
__årštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

87 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

88 
__´štf_chk
 (
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, ...);

89 
__vårštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

90 
__cÚ¡
 *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__­
);

91 
__v´štf_chk
 (
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

92 
_G_va_li¡
 
__­
);

94 #ifdeà
__va_¬g_·ck


95 
__ex‹º_®ways_šlše
 

96 
	$årštf
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__cÚ¡
 *__»¡riù 
__fmt
, ...)

98  
	`__årštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

99 
	`__va_¬g_·ck
 ());

100 
	}
}

102 
__ex‹º_®ways_šlše
 

103 
	$´štf
 (
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

105  
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

106 
	}
}

107 #–ià!
defšed
 
__ılu¥lus


108 
	#´štf
(...) \

109 
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

110 
	#årštf
(
¡»am
, ...) \

111 
	`__årštf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

114 
__ex‹º_®ways_šlše
 

115 
	$v´štf
 (
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

117 #ifdeà
__USE_EXTERN_INLINES


118  
	`__vårštf_chk
 (
¡dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

120  
	`__v´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

122 
	}
}

124 
__ex‹º_®ways_šlše
 

125 
	$vårštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

126 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

128  
	`__vårštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

129 
	}
}

131 #ifdeà
__USE_GNU


133 
	$__a¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

134 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

135 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 4))è
__wur
;

136 
	$__va¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

137 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

138 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 0))è
__wur
;

139 
	$__d´štf_chk
 (
__fd
, 
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fmt
,

140 ...è
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

141 
	$__vd´štf_chk
 (
__fd
, 
__æag
,

142 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

143 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

144 
	$__ob¡ack_´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

145 
__æag
, 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

147 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

148 
	$__ob¡ack_v´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

149 
__æag
,

150 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

151 
_G_va_li¡
 
__¬gs
)

152 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

154 #ifdeà
__va_¬g_·ck


155 
__ex‹º_®ways_šlše
 

156 
	`__NTH
 (
	$a¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__fmt
, ...))

158  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

159 
	`__va_¬g_·ck
 ());

160 
	}
}

162 
__ex‹º_®ways_šlše
 

163 
__NTH
 (
	$__a¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__fmt
,

166  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

167 
	`__va_¬g_·ck
 ());

168 
	}
}

170 
__ex‹º_®ways_šlše
 

171 
	$d´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...)

173  
	`__d´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

174 
	`__va_¬g_·ck
 ());

175 
	}
}

177 
__ex‹º_®ways_šlše
 

178 
__NTH
 (
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

179 
__cÚ¡
 *
__»¡riù
 
__fmt
, ...))

181  
	`__ob¡ack_´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

182 
	`__va_¬g_·ck
 ());

183 
	}
}

184 #–ià!
defšed
 
__ılu¥lus


185 
	#a¥rštf
(
±r
, ...) \

186 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

187 
	#__a¥rštf
(
±r
, ...) \

188 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

189 
	#d´štf
(
fd
, ...) \

190 
	`__d´štf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

191 
	#ob¡ack_´štf
(
ob¡ack
, ...) \

192 
	`__ob¡ack_´štf_chk
 (
ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

195 
__ex‹º_®ways_šlše
 

196 
__NTH
 (
	$va¥rštf
 (**
__»¡riù
 
__±r
, 
__cÚ¡
 *__»¡riù 
__fmt
,

197 
_G_va_li¡
 
__­
))

199  
	`__va¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

200 
	}
}

202 
__ex‹º_®ways_šlše
 

203 
	$vd´štf
 (
__fd
, 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

205  
	`__vd´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

206 
	}
}

208 
__ex‹º_®ways_šlše
 

209 
__NTH
 (
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

210 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

212  
	`__ob¡ack_v´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

213 
__­
);

214 
	}
}

220 *
	$__g‘s_chk
 (*
__¡r
, 
size_t
è
__wur
;

221 *
	`__REDIRECT
 (
__g‘s_w¬n
, (*
__¡r
), 
g‘s
)

222 
__wur
 
	`__w¬Ç‰r
 ("please use fgets or getline instead, gets can't "

225 
__ex‹º_®ways_šlše
 
__wur
 *

226 
	$g‘s
 (*
__¡r
)

228 ià(
	`__bos
 (
__¡r
è!ğ(
size_t
) -1)

229  
	`__g‘s_chk
 (
__¡r
, 
	`__bos
 (__str));

230  
	`__g‘s_w¬n
 (
__¡r
);

231 
	}
}

233 *
	$__fg‘s_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

234 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

235 *
	`__REDIRECT
 (
__fg‘s_®Ÿs
,

236 (*
__»¡riù
 
__s
, 
__n
,

237 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s
è
__wur
;

238 *
	`__REDIRECT
 (
__fg‘s_chk_w¬n
,

239 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

240 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_chk
)

241 
__wur
 
	`__w¬Ç‰r
 ("fgets called with bigger sizehan†ength "

244 
__ex‹º_®ways_šlše
 
__wur
 *

245 
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

247 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

249 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

250  
	`__fg‘s_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

252 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

253  
	`__fg‘s_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

255  
	`__fg‘s_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

256 
	}
}

258 
size_t
 
	$__ä—d_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

259 
size_t
 
__size
, size_ˆ
__n
,

260 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

261 
size_t
 
	`__REDIRECT
 (
__ä—d_®Ÿs
,

262 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

263 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

264 
ä—d
è
__wur
;

265 
size_t
 
	`__REDIRECT
 (
__ä—d_chk_w¬n
,

266 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

267 
size_t
 
__size
, size_ˆ
__n
,

268 
FILE
 *
__»¡riù
 
__¡»am
),

269 
__ä—d_chk
)

270 
__wur
 
	`__w¬Ç‰r
 ("fread called with bigger size *‚membhan†ength "

273 
__ex‹º_®ways_šlše
 
__wur
 
size_t


274 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

275 
FILE
 *
__»¡riù
 
__¡»am
)

277 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

279 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

280 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

281 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

282  
	`__ä—d_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

284 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

285  
	`__ä—d_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

287  
	`__ä—d_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

288 
	}
}

290 #ifdeà
__USE_GNU


291 *
	$__fg‘s_uÆocked_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
,

292 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

293 *
	`__REDIRECT
 (
__fg‘s_uÆocked_®Ÿs
,

294 (*
__»¡riù
 
__s
, 
__n
,

295 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s_uÆocked
è
__wur
;

296 *
	`__REDIRECT
 (
__fg‘s_uÆocked_chk_w¬n
,

297 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

298 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_uÆocked_chk
)

299 
__wur
 
	`__w¬Ç‰r
 ("fgets_unlocked called with bigger sizehan†ength "

302 
__ex‹º_®ways_šlše
 
__wur
 *

303 
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

305 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

307 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

308  
	`__fg‘s_uÆocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

310 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

311  
	`__fg‘s_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

313  
	`__fg‘s_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

314 
	}
}

317 #ifdeà
__USE_MISC


318 #undeà
ä—d_uÆocked


319 
size_t
 
	$__ä—d_uÆocked_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

320 
size_t
 
__size
, size_ˆ
__n
,

321 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

322 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_®Ÿs
,

323 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

324 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

325 
ä—d_uÆocked
è
__wur
;

326 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_chk_w¬n
,

327 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

328 
size_t
 
__size
, size_ˆ
__n
,

329 
FILE
 *
__»¡riù
 
__¡»am
),

330 
__ä—d_uÆocked_chk
)

331 
__wur
 
	`__w¬Ç‰r
 ("fread_unlocked called with bigger size *‚membhan "

334 
__ex‹º_®ways_šlše
 
__wur
 
size_t


335 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

336 
FILE
 *
__»¡riù
 
__¡»am
)

338 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

340 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

341 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

342 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

343  
	`__ä—d_uÆocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

344 
__¡»am
);

346 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

347  
	`__ä—d_uÆocked_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

348 
__¡»am
);

351 #ifdeà
__USE_EXTERN_INLINES


352 ià(
	`__butš_cÚ¡ªt_p
 (
__size
)

353 && 
	`__butš_cÚ¡ªt_p
 (
__n
)

354 && (
__size
 | 
__n
è< (((
size_t
) 1) << (8 *  (size_t) / 2))

355 && 
__size
 * 
__n
 <= 8)

357 
size_t
 
__út
 = 
__size
 * 
__n
;

358 *
__ıŒ
 = (*è
__±r
;

359 ià(
__út
 == 0)

362 ; 
__út
 > 0; --__cnt)

364 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
);

365 ià(
__c
 =ğ
EOF
)

367 *
__ıŒ
++ = 
__c
;

369  (
__ıŒ
 - (*è
__±r
è/ 
__size
;

372  
	`__ä—d_uÆocked_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

373 
	}
}

	@/usr/include/bits/stdio_lim.h

19 #ià!
defšed
 
_STDIO_H
 && !defšed 
__Ãed_FOPEN_MAX
 && !defšed 
__Ãed_IOV_MAX


23 #ifdeà
_STDIO_H


24 
	#L_tm²am
 20

	)

25 
	#TMP_MAX
 238328

	)

26 
	#FILENAME_MAX
 4096

	)

28 #ifdeà
__USE_POSIX


29 
	#L_ù”mid
 9

	)

30 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


31 
	#L_cu£rid
 9

	)

36 #ià
defšed
 
__Ãed_FOPEN_MAX
 || defšed 
_STDIO_H


37 #undeà
FOPEN_MAX


38 
	#FOPEN_MAX
 16

	)

41 #ià
defšed
 
__Ãed_IOV_MAX
 && !defšed 
IOV_MAX


42 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/sys_errlist.h

20 #iâdeà
_STDIO_H


26 #ifdeà 
__USE_BSD


27 
sys_Ã¼
;

28 
__cÚ¡
 *__cÚ¡ 
sys_”¾i¡
[];

30 #ifdeà 
__USE_GNU


31 
_sys_Ã¼
;

32 
__cÚ¡
 *__cÚ¡ 
_sys_”¾i¡
[];

	@/usr/include/bits/types.h

24 #iâdef 
_BITS_TYPES_H


25 
	#_BITS_TYPES_H
 1

	)

27 
	~<ã©u»s.h
>

28 
	~<b™s/wÜdsize.h
>

31 
	t__u_ch¬
;

32 
	t__u_shÜt
;

33 
	t__u_št
;

34 
	t__u_lÚg
;

37 sigÃd 
	t__št8_t
;

38 
	t__ušt8_t
;

39 sigÃd 
	t__št16_t
;

40 
	t__ušt16_t
;

41 sigÃd 
	t__št32_t
;

42 
	t__ušt32_t
;

43 #ià
__WORDSIZE
 == 64

44 sigÃd 
	t__št64_t
;

45 
	t__ušt64_t
;

46 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


47 
__ex‹nsiÚ__
 sigÃd 
	t__št64_t
;

48 
__ex‹nsiÚ__
 
	t__ušt64_t
;

52 #ià
__WORDSIZE
 == 64

53 
	t__quad_t
;

54 
	t__u_quad_t
;

55 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


56 
__ex‹nsiÚ__
 
	t__quad_t
;

57 
__ex‹nsiÚ__
 
	t__u_quad_t
;

61 
	m__v®
[2];

62 } 
	t__quad_t
;

65 
__u_lÚg
 
	m__v®
[2];

66 } 
	t__u_quad_t
;

99 
	#__S16_TYPE
 

	)

100 
	#__U16_TYPE
 

	)

101 
	#__S32_TYPE
 

	)

102 
	#__U32_TYPE
 

	)

103 
	#__SLONGWORD_TYPE
 

	)

104 
	#__ULONGWORD_TYPE
 

	)

105 #ià
__WORDSIZE
 == 32

106 
	#__SQUAD_TYPE
 
__quad_t


	)

107 
	#__UQUAD_TYPE
 
__u_quad_t


	)

108 
	#__SWORD_TYPE
 

	)

109 
	#__UWORD_TYPE
 

	)

110 
	#__SLONG32_TYPE
 

	)

111 
	#__ULONG32_TYPE
 

	)

112 
	#__S64_TYPE
 
__quad_t


	)

113 
	#__U64_TYPE
 
__u_quad_t


	)

116 
	#__STD_TYPE
 
__ex‹nsiÚ__
 

	)

117 #–ià
__WORDSIZE
 == 64

118 
	t__SQUAD_TYPE
 

	)

119 
	t__UQUAD_TYPE
 

	)

120 
	t__SWORD_TYPE
 

	)

121 
	t__UWORD_TYPE
 

	)

122 
	t__SLONG32_TYPE
 

	)

123 
	t__ULONG32_TYPE
 

	)

124 
	t__S64_TYPE
 

	)

125 
	t__U64_TYPE
 

	)

127 
	t__STD_TYPE
 

	)

131 
	~<b™s/ty³sizes.h
>

134 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

135 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

136 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

137 
__STD_TYPE
 
__INO_T_TYPE
 
	g__šo_t
;

138 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__šo64_t
;

139 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

140 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__Æšk_t
;

141 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

142 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

143 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

144 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

145 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__şock_t
;

146 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__¾im_t
;

147 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__¾im64_t
;

148 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

149 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

150 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£cÚds_t
;

151 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£cÚds_t
;

153 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

154 
__STD_TYPE
 
__SWBLK_T_TYPE
 
	g__swblk_t
;

155 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

158 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__şockid_t
;

161 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__tim”_t
;

164 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

169 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blkút_t
;

170 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blkút64_t
;

173 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblkút_t
;

174 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblkút64_t
;

177 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfút_t
;

178 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfút64_t
;

180 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

184 
__off64_t
 
	t__loff_t
;

185 
__quad_t
 *
	t__qaddr_t
;

186 *
	t__ÿddr_t
;

189 
__STD_TYPE
 
__SWORD_TYPE
 
	g__šŒ_t
;

192 
__STD_TYPE
 
__U32_TYPE
 
	g__sockËn_t
;

195 #undeà
__STD_TYPE


	@/usr/include/bits/utsname.h

19 #iâdeà
_SYS_UTSNAME_H


24 
	#_UTSNAME_LENGTH
 65

	)

29 
	#_UTSNAME_DOMAIN_LENGTH
 
_UTSNAME_LENGTH


	)

	@/usr/include/bits/wordsize.h

3 #ià
defšed
 
__x86_64__


4 
	#__WORDSIZE
 64

	)

5 
	#__WORDSIZE_COMPAT32
 1

	)

7 
	#__WORDSIZE
 32

	)

	@/usr/include/bits/xopen_lim.h

30 #iâdeà
_XOPEN_LIM_H


31 
	#_XOPEN_LIM_H
 1

	)

33 
	#__Ãed_IOV_MAX


	)

34 
	~<b™s/¡dio_lim.h
>

66 
	#_XOPEN_IOV_MAX
 
_POSIX_UIO_MAXIOV


	)

71 
	#NL_ARGMAX
 
_POSIX_ARG_MAX


	)

74 
	#NL_LANGMAX
 
_POSIX2_LINE_MAX


	)

77 
	#NL_MSGMAX
 
INT_MAX


	)

81 
	#NL_NMAX
 
INT_MAX


	)

84 
	#NL_SETMAX
 
INT_MAX


	)

87 
	#NL_TEXTMAX
 
INT_MAX


	)

90 
	#NZERO
 20

	)

94 #ifdeà
INT_MAX


95 #ià
INT_MAX
 == 32767

96 
	#WORD_BIT
 16

	)

98 #ià
INT_MAX
 == 2147483647

99 
	#WORD_BIT
 32

	)

102 
	#WORD_BIT
 64

	)

105 #–ià
defšed
 
__INT_MAX__


106 #ià
__INT_MAX__
 == 32767

107 
	#WORD_BIT
 16

	)

109 #ià
__INT_MAX__
 == 2147483647

110 
	#WORD_BIT
 32

	)

113 
	#WORD_BIT
 64

	)

117 
	#WORD_BIT
 32

	)

121 #ifdeà
LONG_MAX


122 #ià
LONG_MAX
 == 2147483647

123 
	#LONG_BIT
 32

	)

126 
	#LONG_BIT
 64

	)

128 #–ià
defšed
 
__LONG_MAX__


129 #ià
__LONG_MAX__
 == 2147483647

130 
	#LONG_BIT
 32

	)

133 
	#LONG_BIT
 64

	)

136 
	~<b™s/wÜdsize.h
>

137 #ià
__WORDSIZE
 == 64

138 
	#LONG_BIT
 64

	)

140 
	#LONG_BIT
 32

	)

	@/usr/include/features.h

19 #iâdef 
_FEATURES_H


20 
	#_FEATURES_H
 1

	)

95 #undeà
__USE_ISOC99


96 #undeà
__USE_ISOC95


97 #undeà
__USE_POSIX


98 #undeà
__USE_POSIX2


99 #undeà
__USE_POSIX199309


100 #undeà
__USE_POSIX199506


101 #undeà
__USE_XOPEN


102 #undeà
__USE_XOPEN_EXTENDED


103 #undeà
__USE_UNIX98


104 #undeà
__USE_XOPEN2K


105 #undeà
__USE_XOPEN2K8


106 #undeà
__USE_LARGEFILE


107 #undeà
__USE_LARGEFILE64


108 #undeà
__USE_FILE_OFFSET64


109 #undeà
__USE_BSD


110 #undeà
__USE_SVID


111 #undeà
__USE_MISC


112 #undeà
__USE_ATFILE


113 #undeà
__USE_GNU


114 #undeà
__USE_REENTRANT


115 #undeà
__USE_FORTIFY_LEVEL


116 #undeà
__FAVOR_BSD


117 #undeà
__KERNEL_STRICT_NAMES


121 #iâdeà
_LOOSE_KERNEL_NAMES


122 
	#__KERNEL_STRICT_NAMES


	)

126 
	#__USE_ANSI
 1

	)

135 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

137 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

144 #ià
defšed
 
_BSD_SOURCE
 && \

145 !(
defšed
 
	g_POSIX_SOURCE
 || defšed 
	g_POSIX_C_SOURCE
 || \

146 
defšed
 
	g_XOPEN_SOURCE
 || defšed 
	g_XOPEN_SOURCE_EXTENDED
 || \

147 
defšed
 
	g_GNU_SOURCE
 || defšed 
	g_SVID_SOURCE
)

148 
	#__FAVOR_BSD
 1

	)

152 #ifdeà
_GNU_SOURCE


153 #undeà
_ISOC99_SOURCE


154 
	#_ISOC99_SOURCE
 1

	)

155 #undeà
_POSIX_SOURCE


156 
	#_POSIX_SOURCE
 1

	)

157 #undeà
_POSIX_C_SOURCE


158 
	#_POSIX_C_SOURCE
 200809L

	)

159 #undeà
_XOPEN_SOURCE


160 
	#_XOPEN_SOURCE
 700

	)

161 #undeà
_XOPEN_SOURCE_EXTENDED


162 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

163 #undeà
_LARGEFILE64_SOURCE


164 
	#_LARGEFILE64_SOURCE
 1

	)

165 #undeà
_BSD_SOURCE


166 
	#_BSD_SOURCE
 1

	)

167 #undeà
_SVID_SOURCE


168 
	#_SVID_SOURCE
 1

	)

169 #undeà
_ATFILE_SOURCE


170 
	#_ATFILE_SOURCE
 1

	)

175 #ià(!
defšed
 
__STRICT_ANSI__
 && !defšed 
_ISOC99_SOURCE
 && \

176 !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 && \

177 !
defšed
 
	g_XOPEN_SOURCE
 && !defšed 
	g_XOPEN_SOURCE_EXTENDED
 && \

178 !
defšed
 
	g_BSD_SOURCE
 && !defšed 
	g_SVID_SOURCE
)

179 
	#_BSD_SOURCE
 1

	)

180 
	#_SVID_SOURCE
 1

	)

187 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC9X_SOURCE
 \

188 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

189 
	#__USE_ISOC99
 1

	)

193 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC9X_SOURCE
 \

194 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

195 
	#__USE_ISOC95
 1

	)

200 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

201 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

202 
	#_POSIX_SOURCE
 1

	)

203 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

204 
	#_POSIX_C_SOURCE
 2

	)

205 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

206 
	#_POSIX_C_SOURCE
 199506L

	)

207 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

208 
	#_POSIX_C_SOURCE
 200112L

	)

210 
	#_POSIX_C_SOURCE
 200809L

	)

212 
	#__USE_POSIX_IMPLICITLY
 1

	)

215 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


216 
	#__USE_POSIX
 1

	)

219 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


220 
	#__USE_POSIX2
 1

	)

223 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

224 
	#__USE_POSIX199309
 1

	)

227 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

228 
	#__USE_POSIX199506
 1

	)

231 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

232 
	#__USE_XOPEN2K
 1

	)

233 #undeà
__USE_ISOC99


234 
	#__USE_ISOC99
 1

	)

237 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

238 
	#__USE_XOPEN2K8
 1

	)

239 #undeà
_ATFILE_SOURCE


240 
	#_ATFILE_SOURCE
 1

	)

243 #ifdef 
_XOPEN_SOURCE


244 
	#__USE_XOPEN
 1

	)

245 #ià(
_XOPEN_SOURCE
 - 0) >= 500

246 
	#__USE_XOPEN_EXTENDED
 1

	)

247 
	#__USE_UNIX98
 1

	)

248 #undeà
_LARGEFILE_SOURCE


249 
	#_LARGEFILE_SOURCE
 1

	)

250 #ià(
_XOPEN_SOURCE
 - 0) >= 600

251 #ià(
_XOPEN_SOURCE
 - 0) >= 700

252 
	#__USE_XOPEN2K8
 1

	)

254 
	#__USE_XOPEN2K
 1

	)

255 #undeà
__USE_ISOC99


256 
	#__USE_ISOC99
 1

	)

259 #ifdeà
_XOPEN_SOURCE_EXTENDED


260 
	#__USE_XOPEN_EXTENDED
 1

	)

265 #ifdeà
_LARGEFILE_SOURCE


266 
	#__USE_LARGEFILE
 1

	)

269 #ifdeà
_LARGEFILE64_SOURCE


270 
	#__USE_LARGEFILE64
 1

	)

273 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

274 
	#__USE_FILE_OFFSET64
 1

	)

277 #ià
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE


278 
	#__USE_MISC
 1

	)

281 #ifdef 
_BSD_SOURCE


282 
	#__USE_BSD
 1

	)

285 #ifdef 
_SVID_SOURCE


286 
	#__USE_SVID
 1

	)

289 #ifdef 
_ATFILE_SOURCE


290 
	#__USE_ATFILE
 1

	)

293 #ifdef 
_GNU_SOURCE


294 
	#__USE_GNU
 1

	)

297 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


298 
	#__USE_REENTRANT
 1

	)

301 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

302 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

303 #ià
_FORTIFY_SOURCE
 > 1

304 
	#__USE_FORTIFY_LEVEL
 2

	)

306 
	#__USE_FORTIFY_LEVEL
 1

	)

309 
	#__USE_FORTIFY_LEVEL
 0

	)

313 
	~<b™s/´edefs.h
>

316 
	#__STDC_ISO_10646__
 200009L

	)

324 #undeà
__GNU_LIBRARY__


325 
	#__GNU_LIBRARY__
 6

	)

329 
	#__GLIBC__
 2

	)

330 
	#__GLIBC_MINOR__
 10

	)

332 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

333 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

336 #ià
defšed
 
__GNUC__
 \

337 || (
defšed
 
	g__PGI
 && defšed 
	g__i386__
 ) \

338 || (
defšed
 
	g__INTEL_COMPILER
 && (defšed 
	g__i386__
 || defšed 
	g__Ÿ64__
)) \

339 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

340 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

344 #iâdeà
__ASSEMBLER__


345 #iâdeà
_SYS_CDEFS_H


346 
	~<sys/cdefs.h
>

351 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


352 
	#__USE_LARGEFILE
 1

	)

353 
	#__USE_LARGEFILE64
 1

	)

359 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

360 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

361 && 
defšed
 
	g__ex‹º_šlše


362 
	#__USE_EXTERN_INLINES
 1

	)

367 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

368 && (
defšed
 
	g_LIBC
 || !defšed 
	g__OPTIMIZE_SIZE__
è&& !defšed 
	g__NO_INLINE__
 \

369 && 
defšed
 
	g__ex‹º_šlše


370 
	#__USE_EXTERN_INLINES_IN_LIBC
 1

	)

378 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

21 #iâdeà
_GETOPT_H


23 #iâdeà
__Ãed_g‘İt


24 
	#_GETOPT_H
 1

	)

34 #ià!
defšed
 
__GNU_LIBRARY__


35 
	~<ùy³.h
>

38 #iâdeà
__THROW


39 #iâdeà
__GNUC_PREREQ


40 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

42 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

43 
	#__THROW
 
	`throw
 ()

	)

45 
	#__THROW


	)

49 #ifdef 
__ılu¥lus


59 *
İrg
;

73 
İtšd
;

78 
İ‹¼
;

82 
İtİt
;

84 #iâdeà
__Ãed_g‘İt


106 
	sİtiÚ


108 cÚ¡ *
	gÇme
;

111 
	ghas_¬g
;

112 *
	gæag
;

113 
	gv®
;

118 
	#no_¬gum’t
 0

	)

119 
	#»quœed_¬gum’t
 1

	)

120 
	#İtiÚ®_¬gum’t
 2

	)

148 #ifdeà
__GNU_LIBRARY__


152 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

153 
__THROW
;

155 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

156 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


160 #ifdeà
__REDIRECT


161 
__REDIRECT
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

162 cÚ¡ *
__shÜtİts
),

163 
__posix_g‘İt
è
__THROW
;

165 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

166 cÚ¡ *
__shÜtİts
è
__THROW
;

167 
	#g‘İt
 
__posix_g‘İt


	)

171 
g‘İt
 ();

174 #iâdeà
__Ãed_g‘İt


175 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

176 cÚ¡ *
__shÜtİts
,

177 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

178 
__THROW
;

179 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

180 cÚ¡ *
__shÜtİts
,

181 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

182 
__THROW
;

186 #ifdef 
__ılu¥lus


191 #undeà
__Ãed_g‘İt


	@/usr/include/libio.h

29 #iâdeà
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_cÚfig.h
>

34 
	#_IO_pos_t
 
_G_åos_t


	)

35 
	#_IO_åos_t
 
_G_åos_t


	)

36 
	#_IO_åos64_t
 
_G_åos64_t


	)

37 
	#_IO_size_t
 
_G_size_t


	)

38 
	#_IO_ssize_t
 
_G_ssize_t


	)

39 
	#_IO_off_t
 
_G_off_t


	)

40 
	#_IO_off64_t
 
_G_off64_t


	)

41 
	#_IO_pid_t
 
_G_pid_t


	)

42 
	#_IO_uid_t
 
_G_uid_t


	)

43 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

44 
	#_IO_HAVE_SYS_WAIT
 
_G_HAVE_SYS_WAIT


	)

45 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

46 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

47 
	#_IO_va_li¡
 
_G_va_li¡


	)

48 
	#_IO_wšt_t
 
_G_wšt_t


	)

50 #ifdeà
_G_NEED_STDARG_H


52 
	#__Ãed___va_li¡


	)

53 
	~<¡d¬g.h
>

54 #ifdeà
__GNUC_VA_LIST


55 #undeà
_IO_va_li¡


56 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

60 #iâdeà
__P


61 #ià
_G_HAVE_SYS_CDEFS


62 
	~<sys/cdefs.h
>

64 #ifdeà
__STDC__


65 
	#__P
(
p
è
	)
p

66 
	#__PMT
(
p
è
	)
p

68 
	#__P
(
p
è()

	)

69 
	#__PMT
(
p
è()

	)

75 #iâdeà
_PARAMS


76 
	#_PARAMS
(
´Ùos
è
	`__P
ÕrÙos)

	)

79 #iâdeà
__STDC__


81 cÚ¡

	)

84 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

85 #iâdeà
_G_HAVE_PRINTF_FP


86 
	#_IO_USE_DTOA
 1

	)

89 #iâdeà
EOF


90 
	#EOF
 (-1)

	)

92 #iâdeà
NULL


93 #ià
defšed
 
__GNUG__
 && \

94 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

95 
	#NULL
 (
__nuÎ
)

	)

97 #ià!
defšed
(
__ılu¥lus
)

98 
	#NULL
 ((*)0)

	)

100 
	#NULL
 (0)

	)

105 
	#_IOS_INPUT
 1

	)

106 
	#_IOS_OUTPUT
 2

	)

107 
	#_IOS_ATEND
 4

	)

108 
	#_IOS_APPEND
 8

	)

109 
	#_IOS_TRUNC
 16

	)

110 
	#_IOS_NOCREATE
 32

	)

111 
	#_IOS_NOREPLACE
 64

	)

112 
	#_IOS_BIN
 128

	)

120 
	#_IO_MAGIC
 0xFBAD0000

	)

121 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

122 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

123 
	#_IO_USER_BUF
 1

	)

124 
	#_IO_UNBUFFERED
 2

	)

125 
	#_IO_NO_READS
 4

	)

126 
	#_IO_NO_WRITES
 8

	)

127 
	#_IO_EOF_SEEN
 0x10

	)

128 
	#_IO_ERR_SEEN
 0x20

	)

129 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

130 
	#_IO_LINKED
 0x80

	)

131 
	#_IO_IN_BACKUP
 0x100

	)

132 
	#_IO_LINE_BUF
 0x200

	)

133 
	#_IO_TIED_PUT_GET
 0x400

	)

134 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

135 
	#_IO_IS_APPENDING
 0x1000

	)

136 
	#_IO_IS_FILEBUF
 0x2000

	)

137 
	#_IO_BAD_SEEN
 0x4000

	)

138 
	#_IO_USER_LOCK
 0x8000

	)

140 
	#_IO_FLAGS2_MMAP
 1

	)

141 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

142 #ifdeà
_LIBC


143 
	#_IO_FLAGS2_FORTIFY
 4

	)

145 
	#_IO_FLAGS2_USER_WBUF
 8

	)

146 #ifdeà
_LIBC


147 
	#_IO_FLAGS2_SCANF_STD
 16

	)

151 
	#_IO_SKIPWS
 01

	)

152 
	#_IO_LEFT
 02

	)

153 
	#_IO_RIGHT
 04

	)

154 
	#_IO_INTERNAL
 010

	)

155 
	#_IO_DEC
 020

	)

156 
	#_IO_OCT
 040

	)

157 
	#_IO_HEX
 0100

	)

158 
	#_IO_SHOWBASE
 0200

	)

159 
	#_IO_SHOWPOINT
 0400

	)

160 
	#_IO_UPPERCASE
 01000

	)

161 
	#_IO_SHOWPOS
 02000

	)

162 
	#_IO_SCIENTIFIC
 04000

	)

163 
	#_IO_FIXED
 010000

	)

164 
	#_IO_UNITBUF
 020000

	)

165 
	#_IO_STDIO
 040000

	)

166 
	#_IO_DONT_CLOSE
 0100000

	)

167 
	#_IO_BOOLALPHA
 0200000

	)

170 
_IO_jump_t
; 
	g_IO_FILE
;

173 #ifdeà
_IO_MTSAFE_IO


174 #ià
defšed
 
__GLIBC__
 && __GLIBC__ >= 2

175 
	~<b™s/¡dio-lock.h
>

180 
	t_IO_lock_t
;

186 
	s_IO_m¬k”
 {

187 
_IO_m¬k”
 *
	m_Ãxt
;

188 
_IO_FILE
 *
	m_sbuf
;

192 
	m_pos
;

194 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

195 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

196 
	mpublic
:

197 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

198 ~
¡»amm¬k”
();

199 
§všg
(è{  
	m_¥os
 == -2; }

200 
d–
(
¡»amm¬k”
&);

201 
d–
();

206 
	e__codecvt_»suÉ


208 
	m__codecvt_ok
,

209 
	m__codecvt_·¹Ÿl
,

210 
	m__codecvt_”rÜ
,

211 
	m__codecvt_nocÚv


214 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


217 
	s_IO_codecvt


219 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

220 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

221 
	m__mb¡©e_t
 *,

222 cÚ¡ 
	mwch¬_t
 *,

223 cÚ¡ 
	mwch¬_t
 *,

224 cÚ¡ 
	mwch¬_t
 **, *,

226 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

227 
	m__mb¡©e_t
 *, *,

229 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

230 
	m__mb¡©e_t
 *,

232 cÚ¡ **, 
	mwch¬_t
 *,

233 
	mwch¬_t
 *, wchar_t **);

234 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

235 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

236 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

237 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

238 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

240 
_IO_icÚv_t
 
	m__cd_š
;

241 
_IO_icÚv_t
 
	m__cd_out
;

245 
	s_IO_wide_d©a


247 
wch¬_t
 *
	m_IO_»ad_±r
;

248 
wch¬_t
 *
	m_IO_»ad_’d
;

249 
wch¬_t
 *
	m_IO_»ad_ba£
;

250 
wch¬_t
 *
	m_IO_wr™e_ba£
;

251 
wch¬_t
 *
	m_IO_wr™e_±r
;

252 
wch¬_t
 *
	m_IO_wr™e_’d
;

253 
wch¬_t
 *
	m_IO_buf_ba£
;

254 
wch¬_t
 *
	m_IO_buf_’d
;

256 
wch¬_t
 *
	m_IO_§ve_ba£
;

257 
wch¬_t
 *
	m_IO_backup_ba£
;

259 
wch¬_t
 *
	m_IO_§ve_’d
;

261 
__mb¡©e_t
 
	m_IO_¡©e
;

262 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

263 
_IO_codecvt
 
	m_codecvt
;

265 
wch¬_t
 
	m_shÜtbuf
[1];

267 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

271 
	s_IO_FILE
 {

272 
	m_æags
;

273 
	#_IO_fe_æags
 
_æags


	)

277 * 
	m_IO_»ad_±r
;

278 * 
	m_IO_»ad_’d
;

279 * 
	m_IO_»ad_ba£
;

280 * 
	m_IO_wr™e_ba£
;

281 * 
	m_IO_wr™e_±r
;

282 * 
	m_IO_wr™e_’d
;

283 * 
	m_IO_buf_ba£
;

284 * 
	m_IO_buf_’d
;

286 *
	m_IO_§ve_ba£
;

287 *
	m_IO_backup_ba£
;

288 *
	m_IO_§ve_’d
;

290 
_IO_m¬k”
 *
	m_m¬k”s
;

292 
_IO_FILE
 *
	m_chaš
;

294 
	m_f’o
;

296 
	m_blksize
;

298 
	m_æags2
;

300 
_IO_off_t
 
	m_Şd_off£t
;

302 
	#__HAVE_COLUMN


	)

304 
	m_cur_cŞumn
;

305 sigÃd 
	m_vbË_off£t
;

306 
	m_shÜtbuf
[1];

310 
_IO_lock_t
 *
	m_lock
;

311 #ifdeà
_IO_USE_OLD_IO_FILE


314 
	s_IO_FILE_com¶‘e


316 
_IO_FILE
 
	m_fe
;

318 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

319 
_IO_off64_t
 
	m_off£t
;

320 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


322 
_IO_codecvt
 *
	m_codecvt
;

323 
_IO_wide_d©a
 *
	m_wide_d©a
;

324 
_IO_FILE
 *
	m_ä“»s_li¡
;

325 *
	m_ä“»s_buf
;

326 
size_t
 
	m_ä“»s_size
;

328 *
	m__·d1
;

329 *
	m__·d2
;

330 *
	m__·d3
;

331 *
	m__·d4
;

332 
size_t
 
	m__·d5
;

334 
	m_mode
;

336 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

340 #iâdeà
__ılu¥lus


341 
_IO_FILE
 
	t_IO_FILE
;

344 
	g_IO_FILE_¶us
;

346 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

347 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

348 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

349 #iâdeà
_LIBC


350 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

351 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

352 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

354 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

355 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

356 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

364 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

372 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, 
	t__cÚ¡
 *
	t__buf
,

373 
	tsize_t
 
	t__n
);

381 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

384 
	t__io_şo£_â
 (*
	t__cook›
);

387 #ifdeà
_GNU_SOURCE


389 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

390 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

391 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

392 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

397 
__io_»ad_â
 *
	m»ad
;

398 
__io_wr™e_â
 *
	mwr™e
;

399 
__io_£ek_â
 *
	m£ek
;

400 
__io_şo£_â
 *
	mşo£
;

401 } 
	t_IO_cook›_io_funùiÚs_t
;

402 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

404 
	g_IO_cook›_fe
;

407 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

408 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

412 #ifdeà
__ılu¥lus


416 
__und”æow
 (
_IO_FILE
 *);

417 
__uæow
 (
_IO_FILE
 *);

418 
__ov”æow
 (
_IO_FILE
 *, );

419 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


420 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

421 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

422 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

425 #ià 
__GNUC__
 >= 3

426 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

428 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

431 
	#_IO_g‘c_uÆocked
(
_å
) \

432 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

433 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

434 
	#_IO_³ekc_uÆocked
(
_å
) \

435 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

436 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

437 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

438 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

439 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

440 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

441 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

443 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


444 
	#_IO_g‘wc_uÆocked
(
_å
) \

445 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 >ğ(_å)->_wide_d©a->
_IO_»ad_’d
,\

447 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

448 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

449 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

450 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
, 0) \

451 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

452 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

455 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

456 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

458 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

459 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

460 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

461 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

463 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

466 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

467 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

469 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

470 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

471 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

473 #ifdeà
_IO_MTSAFE_IO


474 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

475 
	#_IO_æockfe
(
_å
) \

476 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

477 
	#_IO_fuÆockfe
(
_å
) \

478 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

480 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

481 
	#_IO_æockfe
(
_å
è

	)

482 
	#_IO_fuÆockfe
(
_å
è

	)

483 
	#_IO_árylockfe
(
_å
è

	)

484 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

485 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

488 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

489 
_IO_va_li¡
, *
__»¡riù
);

490 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

491 
_IO_va_li¡
);

492 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

493 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

495 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

496 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

498 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

500 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


501 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

502 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

503 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

504 #ià
__GNUC__
 >= 2

507 #ià
defšed
 
_LIBC
 && defšed 
SHARED


508 
	~<shlib-com·t.h
>

509 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

510 
	#_IO_fwide_maybe_šcom·tibË
 \

511 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

512 cÚ¡ 
_IO_¡dš_u£d
;

513 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

516 #iâdeà
_IO_fwide_maybe_šcom·tibË


517 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

521 
	#_IO_fwide
(
__å
, 
__mode
) \

522 ({ 
__»suÉ
 = (
__mode
); \

523 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

525 ià((
__å
)->
_mode
 == 0) \

527 (
__å
)->
_mode
 = -1; \

528 
__»suÉ
 = (
__å
)->
_mode
; \

530 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

531 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

533 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

534 
__»suÉ
; })

	)

537 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

538 
_IO_va_li¡
, *
__»¡riù
);

539 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

540 
_IO_va_li¡
);

541 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

542 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

545 #ifdeà
__LDBL_COMPAT


546 
	~<b™s/libio-ldbl.h
>

549 #ifdeà
__ılu¥lus


	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

21 
	#_G_size_t
 
size_t


	)

24 
__off_t
 
	m__pos
;

25 
__mb¡©e_t
 
	m__¡©e
;

26 } 
	t_G_åos_t
;

29 
__off64_t
 
	m__pos
;

30 
__mb¡©e_t
 
	m__¡©e
;

31 } 
	t_G_åos64_t
;

32 
	#_G_ssize_t
 
__ssize_t


	)

33 
	#_G_off_t
 
__off_t


	)

34 
	#_G_off64_t
 
__off64_t


	)

35 
	#_G_pid_t
 
__pid_t


	)

36 
	#_G_uid_t
 
__uid_t


	)

37 
	#_G_wch¬_t
 
wch¬_t


	)

38 
	#_G_wšt_t
 
wšt_t


	)

39 
	#_G_¡©64
 
¡©64


	)

40 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


41 
	~<gcÚv.h
>

44 
__gcÚv_šfo
 
	m__cd
;

47 
__gcÚv_šfo
 
	m__cd
;

48 
__gcÚv_¡•_d©a
 
	m__d©a
;

49 } 
	m__combšed
;

50 } 
	t_G_icÚv_t
;

53 
	t_G_št16_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__HI__
)));

54 
	t_G_št32_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__SI__
)));

55 
	t_G_ušt16_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__HI__
)));

56 
	t_G_ušt32_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__SI__
)));

58 
	#_G_HAVE_BOOL
 1

	)

62 
	#_G_HAVE_ATEXIT
 1

	)

63 
	#_G_HAVE_SYS_CDEFS
 1

	)

64 
	#_G_HAVE_SYS_WAIT
 1

	)

65 
	#_G_NEED_STDARG_H
 1

	)

66 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

68 
	#_G_HAVE_PRINTF_FP
 1

	)

69 
	#_G_HAVE_MMAP
 1

	)

70 
	#_G_HAVE_MREMAP
 1

	)

71 
	#_G_HAVE_LONG_DOUBLE_IO
 1

	)

72 
	#_G_HAVE_IO_FILE_OPEN
 1

	)

73 
	#_G_HAVE_IO_GETLINE_INFO
 1

	)

75 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

77 
	#_G_OPEN64
 
__İ’64


	)

78 
	#_G_LSEEK64
 
__l£ek64


	)

79 
	#_G_MMAP64
 
__mm­64


	)

80 
	#_G_FSTAT64
(
fd
,
buf
è
	`__fx¡©64
 (
_STAT_VER
, fd, buf)

	)

83 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

85 
	#_G_BUFSIZ
 8192

	)

88 
	#_G_NAMES_HAVE_UNDERSCORE
 0

	)

89 
	#_G_VTABLE_LABEL_HAS_LENGTH
 1

	)

90 
	#_G_USING_THUNKS
 1

	)

91 
	#_G_VTABLE_LABEL_PREFIX
 "__vt_"

	)

92 
	#_G_VTABLE_LABEL_PREFIX_ID
 
__vt_


	)

95 #ià
defšed
 
__ılu¥lus
 || defšed 
__STDC__


96 
	#_G_ARGS
(
ARGLIST
è
	)
ARGLIST

98 
	#_G_ARGS
(
ARGLIST
è()

	)

	@/usr/include/bits/libio-ldbl.h

20 #iâdeà
_IO_STDIO_H


24 
	$__LDBL_REDIR_DECL
 (
_IO_vfsÿnf
)

25 
	`__LDBL_REDIR_DECL
 (
_IO_vårštf
)

	@/usr/include/bits/local_lim.h

25 #iâdeà
NR_OPEN


26 
	#__undef_NR_OPEN


	)

28 #iâdeà
LINK_MAX


29 
	#__undef_LINK_MAX


	)

31 #iâdeà
OPEN_MAX


32 
	#__undef_OPEN_MAX


	)

34 #iâdeà
ARG_MAX


35 
	#__undef_ARG_MAX


	)

39 
	~<lšux/lim™s.h
>

42 #ifdeà
__undef_NR_OPEN


43 #undeà
NR_OPEN


44 #undeà
__undef_NR_OPEN


47 #ifdeà
__undef_LINK_MAX


48 #undeà
LINK_MAX


49 #undeà
__undef_LINK_MAX


52 #ifdeà
__undef_OPEN_MAX


53 #undeà
OPEN_MAX


54 #undeà
__undef_OPEN_MAX


57 #ifdeà
__undef_ARG_MAX


58 #undeà
ARG_MAX


59 #undeà
__undef_ARG_MAX


63 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

65 
	#PTHREAD_KEYS_MAX
 1024

	)

68 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

70 
	#PTHREAD_DESTRUCTOR_ITERATIONS
 
_POSIX_THREAD_DESTRUCTOR_ITERATIONS


	)

73 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

75 #undeà
PTHREAD_THREADS_MAX


79 
	#AIO_PRIO_DELTA_MAX
 20

	)

82 
	#PTHREAD_STACK_MIN
 16384

	)

85 
	#DELAYTIMER_MAX
 2147483647

	)

88 
	#TTY_NAME_MAX
 32

	)

91 
	#LOGIN_NAME_MAX
 256

	)

94 
	#HOST_NAME_MAX
 64

	)

97 
	#MQ_PRIO_MAX
 32768

	)

100 
	#SEM_VALUE_MAX
 (2147483647)

	)

	@/usr/include/bits/predefs.h

19 #iâdeà
_FEATURES_H


23 #iâdeà
_PREDEFS_H


24 
	#_PREDEFS_H


	)

27 
	#__STDC_IEC_559__
 1

	)

28 
	#__STDC_IEC_559_COMPLEX__
 1

	)

	@/usr/include/bits/stdio-lock.h

20 #iâdeà
_BITS_STDIO_LOCK_H


21 
	#_BITS_STDIO_LOCK_H
 1

	)

23 
	~<b™s/libc-lock.h
>

24 
	~<lowËv–lock.h
>

28 
	#_IO_lock_šex³nsive
 1

	)

30 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t_IO_lock_t
;

32 
	#_IO_lock_š™Ÿliz”
 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

34 
	#_IO_lock_š™
(
_Çme
) \

35 ((
_Çme
èğ(
_IO_lock_t
è
_IO_lock_š™Ÿliz”
 , 0)

	)

37 
	#_IO_lock_fši
(
_Çme
) \

38 ((è0)

	)

40 
	#_IO_lock_lock
(
_Çme
) \

42 *
__£lf
 = 
THREAD_SELF
; \

43 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

45 
	`Îl_lock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

46 (
_Çme
).
owÃr
 = 
__£lf
; \

48 ++(
_Çme
).
út
; \

49 } 0)

	)

51 
	#_IO_lock_Œylock
(
_Çme
) \

53 
__»suÉ
 = 0; \

54 *
__£lf
 = 
THREAD_SELF
; \

55 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

57 ià(
	`Îl_Œylock
 ((
_Çme
).
lock
) == 0) \

59 (
_Çme
).
owÃr
 = 
__£lf
; \

60 (
_Çme
).
út
 = 1; \

63 
__»suÉ
 = 
EBUSY
; \

66 ++(
_Çme
).
út
; \

67 
__»suÉ
; \

68 })

	)

70 
	#_IO_lock_uÆock
(
_Çme
) \

72 ià(--(
_Çme
).
út
 == 0) \

74 (
_Çme
).
owÃr
 = 
NULL
; \

75 
	`Îl_uÆock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

77 } 0)

	)

81 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
) \

82 
	`__libc_ş—nup_»giÚ_¡¬t
 (((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0, 
_fù
, _å)

	)

83 
	#_IO_ş—nup_»giÚ_¡¬t_nßrg
(
_fù
) \

84 
	`__libc_ş—nup_»giÚ_¡¬t
 (1, 
_fù
, 
NULL
)

	)

85 
	#_IO_ş—nup_»giÚ_’d
(
_do™
) \

86 
	`__libc_ş—nup_»giÚ_’d
 (
_do™
)

	)

88 #ià
defšed
 
_LIBC
 && !defšed 
NOT_IN_libc


90 #ifdeà
__EXCEPTIONS


91 
	#_IO_acquœe_lock
(
_å
) \

93 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

94 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_fù
))) \

95 ğ(
_å
); \

96 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

97 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
) \

99 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

100 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_ş—r_æags2_fù
))) \

101 ğ(
_å
); \

102 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

104 
	#_IO_acquœe_lock
(
_å
è
_IO_acquœe_lock_Ãeds_exû±iÚs_’abËd


	)

105 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
è
	`_IO_acquœe_lock
 (_å)

	)

107 
	#_IO_»Ëa£_lock
(
_å
è; } 0)

	)

	@/usr/include/bits/typesizes.h

20 #iâdeà
_BITS_TYPES_H


24 #iâdef 
_BITS_TYPESIZES_H


25 
	#_BITS_TYPESIZES_H
 1

	)

30 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

31 
	#__UID_T_TYPE
 
__U32_TYPE


	)

32 
	#__GID_T_TYPE
 
__U32_TYPE


	)

33 
	#__INO_T_TYPE
 
__ULONGWORD_TYPE


	)

34 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

35 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

36 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

37 
	#__OFF_T_TYPE
 
__SLONGWORD_TYPE


	)

38 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

39 
	#__PID_T_TYPE
 
__S32_TYPE


	)

40 
	#__RLIM_T_TYPE
 
__ULONGWORD_TYPE


	)

41 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

42 
	#__BLKCNT_T_TYPE
 
__SLONGWORD_TYPE


	)

43 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

44 
	#__FSBLKCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

45 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

46 
	#__FSFILCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

47 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

48 
	#__ID_T_TYPE
 
__U32_TYPE


	)

49 
	#__CLOCK_T_TYPE
 
__SLONGWORD_TYPE


	)

50 
	#__TIME_T_TYPE
 
__SLONGWORD_TYPE


	)

51 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

52 
	#__SUSECONDS_T_TYPE
 
__SLONGWORD_TYPE


	)

53 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

54 
	#__SWBLK_T_TYPE
 
__SLONGWORD_TYPE


	)

55 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

56 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

57 
	#__TIMER_T_TYPE
 *

	)

58 
	#__BLKSIZE_T_TYPE
 
__SLONGWORD_TYPE


	)

59 
	#__FSID_T_TYPE
 sŒuù { 
__v®
[2]; }

	)

60 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

63 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/ctype.h

24 #iâdef 
_CTYPE_H


25 
	#_CTYPE_H
 1

	)

27 
	~<ã©u»s.h
>

28 
	~<b™s/ty³s.h
>

30 
	g__BEGIN_DECLS


32 #iâdeà
_ISb™


41 
	~<’dŸn.h
>

42 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


43 
	#_ISb™
(
b™
è(1 << (b™))

	)

45 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

50 
	m_ISuµ”
 = 
_ISb™
 (0),

51 
	m_ISlow”
 = 
_ISb™
 (1),

52 
	m_IS®pha
 = 
_ISb™
 (2),

53 
	m_ISdig™
 = 
_ISb™
 (3),

54 
	m_ISxdig™
 = 
_ISb™
 (4),

55 
	m_IS¥aû
 = 
_ISb™
 (5),

56 
	m_IS´št
 = 
_ISb™
 (6),

57 
	m_ISg¿ph
 = 
_ISb™
 (7),

58 
	m_ISbÏnk
 = 
_ISb™
 (8),

59 
	m_ISúŒl
 = 
_ISb™
 (9),

60 
	m_ISpunù
 = 
_ISb™
 (10),

61 
	m_IS®num
 = 
_ISb™
 (11)

81 
__cÚ¡
 **
	$__ùy³_b_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡
));

83 
__cÚ¡
 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡
));

85 
__cÚ¡
 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

86 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡
));

88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

91 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

92 
	#__tßscii
(
c
è((cè& 0x7fè

	)

94 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

96 
__BEGIN_NAMESPACE_STD


102 
	`__exùy³
 (
i§Êum
);

103 
	`__exùy³
 (
i§Íha
);

104 
	`__exùy³
 (
isúŒl
);

105 
	`__exùy³
 (
isdig™
);

106 
	`__exùy³
 (
i¦ow”
);

107 
	`__exùy³
 (
isg¿ph
);

108 
	`__exùy³
 (
i¥ršt
);

109 
	`__exùy³
 (
i¥unù
);

110 
	`__exùy³
 (
is¥aû
);

111 
	`__exùy³
 (
isuµ”
);

112 
	`__exùy³
 (
isxdig™
);

116 
	$tŞow”
 (
__c
è
__THROW
;

119 
	$touµ”
 (
__c
è
__THROW
;

121 
__END_NAMESPACE_STD


125 #ifdef 
__USE_ISOC99


126 
__BEGIN_NAMESPACE_C99


128 
	`__exùy³
 (
isbÏnk
);

130 
__END_NAMESPACE_C99


133 #ifdeà
__USE_GNU


135 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

138 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


142 
	$i§scii
 (
__c
è
__THROW
;

146 
	$tßscii
 (
__c
è
__THROW
;

150 
	`__exùy³
 (
_touµ”
);

151 
	`__exùy³
 (
_tŞow”
);

155 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

156 (
__ex‹nsiÚ__
 \

157 ({ 
__»s
; \

158 ià( (
c
) > 1) \

160 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

162 
__c
 = (
c
); \

163 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

166 
__»s
 = 
f
 
¬gs
; \

169 
__»s
 = (
a
)[(è(
c
)]; \

170 
__»s
; 
	}
}))

	)

172 #ià!
defšed
 
__NO_CTYPE
 && !defšed 
__ılu¥lus


173 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

174 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

175 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

176 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

177 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

178 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

179 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

180 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

181 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

182 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

183 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

185 #ifdeà
__USE_ISOC99


186 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

189 #ifdeà
__USE_EXTERN_INLINES


190 
__ex‹º_šlše
 

191 
__NTH
 (
	$tŞow”
 (
__c
))

193  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

194 
	}
}

196 
__ex‹º_šlše
 

197 
__NTH
 (
	$touµ”
 (
__c
))

199  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

200 
	}
}

203 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


204 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

205 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

208 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


209 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

210 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

212 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

213 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

219 #ifdeà
__USE_XOPEN2K8


233 
	~<xloÿË.h
>

237 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

238 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

240 
	#__exùy³_l
(
Çme
) \

241 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

247 
__exùy³_l
 (
i§Êum_l
);

248 
__exùy³_l
 (
i§Íha_l
);

249 
__exùy³_l
 (
isúŒl_l
);

250 
__exùy³_l
 (
isdig™_l
);

251 
__exùy³_l
 (
i¦ow”_l
);

252 
__exùy³_l
 (
isg¿ph_l
);

253 
__exùy³_l
 (
i¥ršt_l
);

254 
__exùy³_l
 (
i¥unù_l
);

255 
__exùy³_l
 (
is¥aû_l
);

256 
__exùy³_l
 (
isuµ”_l
);

257 
__exùy³_l
 (
isxdig™_l
);

259 
__exùy³_l
 (
isbÏnk_l
);

263 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

264 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

267 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

268 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

270 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


271 
	#__tŞow”_l
(
c
, 
loÿË
) \

272 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

273 
	#__touµ”_l
(
c
, 
loÿË
) \

274 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

275 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

276 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

280 #iâdeà
__NO_CTYPE


281 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

282 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

283 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

284 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

285 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

286 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

287 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

288 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

289 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

290 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

291 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

293 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

295 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


296 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

297 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

300 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

301 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

302 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

303 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

304 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

305 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

306 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

307 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

308 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

309 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

310 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

312 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

314 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


315 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

316 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

323 
__END_DECLS


	@/usr/include/gnu/stubs.h

4 
	~<b™s/wÜdsize.h
>

6 #ià
__WORDSIZE
 == 32

7 
	~<gnu/¡ubs-32.h
>

8 #–ià
__WORDSIZE
 == 64

9 
	~<gnu/¡ubs-64.h
>

	@/usr/include/sys/cdefs.h

20 #iâdef 
_SYS_CDEFS_H


21 
	#_SYS_CDEFS_H
 1

	)

24 #iâdeà
_FEATURES_H


25 
	~<ã©u»s.h
>

31 #ià
defšed
 
__GNUC__
 && !defšed 
__STDC__


36 #undeà
__P


37 #undeà
__PMT


39 #ifdeà
__GNUC__


46 #ià!
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (3, 3)

47 
	#__THROW
 
	`__©Œibu‹__
 ((
__nÙhrow__
))

	)

48 
	#__NTH
(
fù
è
	`__©Œibu‹__
 ((
__nÙhrow__
)è
	)
fct

50 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

51 
	#__THROW
 
	`throw
 ()

	)

52 
	#__NTH
(
fù
èfù 
	`throw
 ()

	)

54 
	#__THROW


	)

55 
	#__NTH
(
fù
è
	)
fct

61 
	#__šlše


	)

63 
	#__THROW


	)

64 
	#__NTH
(
fù
è
	)
fct

66 
	#__cÚ¡
 cÚ¡

	)

67 
	#__sigÃd
 sigÃd

	)

68 
	#__vŞ©e
 vŞ©e

	)

74 
	#__P
(
¬gs
è
	)
args

75 
	#__PMT
(
¬gs
è
	)
args

80 
	#__CONCAT
(
x
,
y
èx ## 
	)
y

81 
	#__STRING
(
x
è#x

	)

84 
	#__±r_t
 *

	)

85 
	#__lÚg_doubË_t
 

	)

89 #ifdef 
__ılu¥lus


90 
	#__BEGIN_DECLS
 "C" {

	)

91 
	#__END_DECLS
 }

	)

93 
	#__BEGIN_DECLS


	)

94 
	#__END_DECLS


	)

103 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES


104 
	#__BEGIN_NAMESPACE_STD
 
Çme¥aû
 
¡d
 {

	)

105 
	#__END_NAMESPACE_STD
 }

	)

106 
	#__USING_NAMESPACE_STD
(
Çme
è
usšg
 
¡d
::Çme;

	)

107 
	#__BEGIN_NAMESPACE_C99
 
Çme¥aû
 
__c99
 {

	)

108 
	#__END_NAMESPACE_C99
 }

	)

109 
	#__USING_NAMESPACE_C99
(
Çme
è
usšg
 
__c99
::Çme;

	)

114 
	#__BEGIN_NAMESPACE_STD


	)

115 
	#__END_NAMESPACE_STD


	)

116 
	#__USING_NAMESPACE_STD
(
Çme
)

	)

117 
	#__BEGIN_NAMESPACE_C99


	)

118 
	#__END_NAMESPACE_C99


	)

119 
	#__USING_NAMESPACE_C99
(
Çme
)

	)

124 #iâdeà
__BOUNDED_POINTERS__


125 
	#__bounded


	)

126 
	#__unbounded


	)

127 
	#__±rv®ue


	)

132 
	#__bos
(
±r
è
	`__butš_objeù_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

133 
	#__bos0
(
±r
è
	`__butš_objeù_size
 (±r, 0)

	)

135 #ià
__GNUC_PREREQ
 (4,3)

136 
	#__w¬ndeş
(
Çme
, 
msg
) \

137 
	`Çme
 (è
	`__©Œibu‹__
((
	`__w¬nšg__
 (
msg
)))

	)

138 
	#__w¬Ç‰r
(
msg
è
	`__©Œibu‹__
((
	`__w¬nšg__
 (msg)))

	)

139 
	#__”rÜdeş
(
Çme
, 
msg
) \

140 
	`Çme
 (è
	`__©Œibu‹__
((
	`__”rÜ__
 (
msg
)))

	)

142 
	#__w¬ndeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

143 
	#__w¬Ç‰r
(
msg
)

	)

144 
	#__”rÜdeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

148 #ià
__GNUC_PREREQ
 (2,97)

150 
	#__æex¬r
 []

	)

152 #ifdeà
__GNUC__


153 
	#__æex¬r
 [0]

	)

155 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

156 
	#__æex¬r
 []

	)

159 
	#__æex¬r
 [1]

	)

175 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

177 
	#__REDIRECT
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

178 #ifdeà
__ılu¥lus


179 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

180 
Çme
 
´Ùo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

182 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

183 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROW


	)

185 
	#__ASMNAME
(
úame
è
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, cÇme)

	)

186 
	#__ASMNAME2
(
´efix
, 
úame
è
	`__STRING
 (´efixè
	)
cname

199 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

200 
	#__©Œibu‹__
(
xyz
è

	)

206 #ià
__GNUC_PREREQ
 (2,96)

207 
	#__©Œibu‹_m®loc__
 
	`__©Œibu‹__
 ((
__m®loc__
))

	)

209 
	#__©Œibu‹_m®loc__


	)

215 #ià
__GNUC_PREREQ
 (2,96)

216 
	#__©Œibu‹_pu»__
 
	`__©Œibu‹__
 ((
__pu»__
))

	)

218 
	#__©Œibu‹_pu»__


	)

224 #ià
__GNUC_PREREQ
 (3,1)

225 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__u£d__
))

	)

226 
	#__©Œibu‹_nošlše__
 
	`__©Œibu‹__
 ((
__nošlše__
))

	)

228 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__unu£d__
))

	)

229 
	#__©Œibu‹_nošlše__


	)

233 #ià
__GNUC_PREREQ
 (3,2)

234 
	#__©Œibu‹_d•»ÿ‹d__
 
	`__©Œibu‹__
 ((
__d•»ÿ‹d__
))

	)

236 
	#__©Œibu‹_d•»ÿ‹d__


	)

245 #ià
__GNUC_PREREQ
 (2,8)

246 
	#__©Œibu‹_fÜm©_¬g__
(
x
è
	`__©Œibu‹__
 ((
	`__fÜm©_¬g__
 (x)))

	)

248 
	#__©Œibu‹_fÜm©_¬g__
(
x
è

	)

255 #ià
__GNUC_PREREQ
 (2,97)

256 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
) \

257 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__¡rfmÚ__
, 
a
, 
b
)))

	)

259 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
è

	)

264 #ià
__GNUC_PREREQ
 (3,3)

265 
	#__nÚnuÎ
(
·¿ms
è
	`__©Œibu‹__
 ((
__nÚnuÎ__
…¬ams))

	)

267 
	#__nÚnuÎ
(
·¿ms
)

	)

272 #ià
__GNUC_PREREQ
 (3,4)

273 
	#__©Œibu‹_w¬n_unu£d_»suÉ__
 \

274 
	`__©Œibu‹__
 ((
__w¬n_unu£d_»suÉ__
))

	)

275 #ià
__USE_FORTIFY_LEVEL
 > 0

276 
	#__wur
 
__©Œibu‹_w¬n_unu£d_»suÉ__


	)

279 
	#__©Œibu‹_w¬n_unu£d_»suÉ__


	)

281 #iâdeà
__wur


282 
	#__wur


	)

286 #ià
__GNUC_PREREQ
 (3,2)

287 
	#__®ways_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__®ways_šlše__
))

	)

289 
	#__®ways_šlše
 
__šlše


	)

294 #ià!
defšed
 
__ılu¥lus
 || 
__GNUC_PREREQ
 (4,3)

295 #ià
defšed
 
__GNUC_STDC_INLINE__
 || defšed 
__ılu¥lus


296 
	#__ex‹º_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

297 #ià
__GNUC_PREREQ
 (4,3)

298 
	#__ex‹º_®ways_šlše
 \

299 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
, 
__¬tificŸl__
))

	)

301 
	#__ex‹º_®ways_šlše
 \

302 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

305 
	#__ex‹º_šlše
 
__šlše


	)

306 #ià
__GNUC_PREREQ
 (4,3)

307 
	#__ex‹º_®ways_šlše
 \

308 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__¬tificŸl__
))

	)

310 
	#__ex‹º_®ways_šlše
 
__®ways_šlše


	)

317 #ià
__GNUC_PREREQ
 (4,3)

318 
	#__va_¬g_·ck
(è
	`__butš_va_¬g_·ck
 ()

	)

319 
	#__va_¬g_·ck_Ën
(è
	`__butš_va_¬g_·ck_Ën
 ()

	)

326 #ià!
__GNUC_PREREQ
 (2,8)

327 
	#__ex‹nsiÚ__


	)

331 #ià!
__GNUC_PREREQ
 (2,92)

332 
	#__»¡riù


	)

338 #ià
__GNUC_PREREQ
 (3,1è&& !
defšed
 
__GNUG__


339 
	#__»¡riù_¬r
 
__»¡riù


	)

341 #ifdeà
__GNUC__


342 
	#__»¡riù_¬r


	)

344 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

345 
	#__»¡riù_¬r
 
»¡riù


	)

348 
	#__»¡riù_¬r


	)

353 
	~<b™s/wÜdsize.h
>

355 #ià
defšed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && defšed 
__NO_LONG_DOUBLE_MATH


356 
	#__LDBL_COMPAT
 1

	)

357 #ifdeà
__REDIRECT


358 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

359 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
) \

360 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

361 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT_NTH
 (Çme,…rÙo,‡lŸs)

	)

362 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
) \

363 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

364 
	#__LDBL_REDIR1_DECL
(
Çme
, 
®Ÿs
) \

365 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 (#®Ÿs));

	)

366 
	#__LDBL_REDIR_DECL
(
Çme
) \

367 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 ("__Ædbl_" #Çme));

	)

368 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

369 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

370 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

371 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

374 #ià!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT


375 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm
	)
proto

376 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
èÇm
	)
proto

377 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
__THROW


	)

378 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
èÇm´ÙØ
__THROW


	)

379 
	#__LDBL_REDIR_DECL
(
Çme
)

	)

380 #ifdeà
__REDIRECT


381 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

382 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

383 
	`__REDIRECT_NTH
 (
Çme
, 
´Ùo
, 
®Ÿs
)

	)

	@/usr/include/bits/libc-lock.h

20 #iâdeà
_BITS_LIBC_LOCK_H


21 
	#_BITS_LIBC_LOCK_H
 1

	)

23 
	~<±h»ad.h
>

24 
	#__Ãed_NULL


	)

25 
	~<¡ddef.h
>

34 #ifdeà
_LIBC


35 
	~<lowËv–lock.h
>

36 
	~<s.h
>

37 
	~<±h»ad-funùiÚs.h
>

41 #ià
defšed
 
_LIBC
 || defšed 
_IO_MTSAFE_IO


42 #ià(
defšed
 
NOT_IN_libc
 && !defšed 
IS_IN_lib±h»ad
è|| !defšed 
_LIBC


43 
±h»ad_mu‹x_t
 
	t__libc_lock_t
;

44 ¡ruù { 
±h»ad_mu‹x_t
 
	mmu‹x
; } 
	t__libc_lock_»cursive_t
;

46 
	t__libc_lock_t
;

47 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t__libc_lock_»cursive_t
;

49 ¡ruù { 
±h»ad_mu‹x_t
 
	mmu‹x
; } 
	t__¹ld_lock_»cursive_t
;

50 #ifdeà
__USE_UNIX98


51 
±h»ad_rwlock_t
 
	t__libc_rwlock_t
;

53 
__libc_rwlock_İaque__
 
	t__libc_rwlock_t
;

56 
__libc_lock_İaque__
 
	t__libc_lock_t
;

57 
__libc_lock_»cursive_İaque__
 
	t__libc_lock_»cursive_t
;

58 
__libc_rwlock_İaque__
 
	t__libc_rwlock_t
;

62 
±h»ad_key_t
 
	t__libc_key_t
;

71 
	#__libc_lock_defše
(
CLASS
,
NAME
) \

72 
CLASS
 
__libc_lock_t
 
NAME
;

	)

73 
	#__libc_rwlock_defše
(
CLASS
,
NAME
) \

74 
CLASS
 
__libc_rwlock_t
 
NAME
;

	)

75 
	#__libc_lock_defše_»cursive
(
CLASS
,
NAME
) \

76 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

77 
	#__¹ld_lock_defše_»cursive
(
CLASS
,
NAME
) \

78 
CLASS
 
__¹ld_lock_»cursive_t
 
NAME
;

	)

89 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

90 #ià
LLL_LOCK_INITIALIZER
 == 0

91 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

92 
CLASS
 
__libc_lock_t
 
NAME
;

	)

94 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

95 
CLASS
 
__libc_lock_t
 
NAME
 = 
LLL_LOCK_INITIALIZER
;

	)

98 #ià
__LT_SPINLOCK_INIT
 == 0

99 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

100 
CLASS
 
__libc_lock_t
 
NAME
;

	)

102 
	#__libc_lock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

103 
CLASS
 
__libc_lock_t
 
NAME
 = 
PTHREAD_MUTEX_INITIALIZER
;

	)

107 
	#__libc_rwlock_defše_š™Ÿlized
(
CLASS
,
NAME
) \

108 
CLASS
 
__libc_rwlock_t
 
NAME
 = 
PTHREAD_RWLOCK_INITIALIZER
;

	)

112 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

113 #ià
LLL_LOCK_INITIALIZER
 == 0

114 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

115 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

117 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

118 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

120 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

121 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

123 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

124 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

125 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

126 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

129 
	#__¹ld_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

130 
CLASS
 
__¹ld_lock_»cursive_t
 
NAME
 = 
_RTLD_LOCK_RECURSIVE_INITIALIZER
;

	)

131 
	#_RTLD_LOCK_RECURSIVE_INITIALIZER
 \

132 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

134 
	#__¹ld_lock_š™Ÿlize
(
NAME
) \

135 (è((
NAME
èğ(
__¹ld_lock_»cursive_t
è
_RTLD_LOCK_RECURSIVE_INITIALIZER
)

	)

142 #ifdeà
__PIC__


143 
	#__libc_maybe_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

144 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of
 (
FUNC
è*
_â
 = (FUNC); \

145 
_â
 !ğ
NULL
 ? (*_âè
ARGS
 : 
ELSE
; }))

	)

147 
	#__libc_maybe_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

148 (
FUNC
 !ğ
NULL
 ? FUNC 
ARGS
 : 
ELSE
)

	)

152 #ià
defšed
 
SHARED
 && !defšed 
NOT_IN_libc


153 
	#PTFAVAIL
(
NAME
è
__libc_±h»ad_funùiÚs_š™


	)

154 
	#__libc_±f_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

155 (
__libc_±h»ad_funùiÚs_š™
 ? 
	`PTHFCT_CALL
 (
±r_
##
FUNC
, 
ARGS
è: 
ELSE
)

	)

156 
	#__libc_±f_ÿÎ_®ways
(
FUNC
, 
ARGS
) \

157 
	`PTHFCT_CALL
 (
±r_
##
FUNC
, 
ARGS
)

	)

159 
	#PTFAVAIL
(
NAME
è(NAME !ğ
NULL
)

	)

160 
	#__libc_±f_ÿÎ
(
FUNC
, 
ARGS
, 
ELSE
) \

161 
	`__libc_maybe_ÿÎ
 (
FUNC
, 
ARGS
, 
ELSE
)

	)

162 
	#__libc_±f_ÿÎ_®ways
(
FUNC
, 
ARGS
) \

163 
FUNC
 
ARGS


	)

169 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

170 
	#__libc_lock_š™
(
NAME
è((NAMEèğ
LLL_LOCK_INITIALIZER
, 0)

	)

172 
	#__libc_lock_š™
(
NAME
) \

173 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_š™
, (&(
NAME
), 
NULL
), 0)

	)

175 #ià
defšed
 
SHARED
 && !defšed 
NOT_IN_libc


178 
	#__libc_rwlock_š™
(
NAME
) \

179 (
	`__butš_mem£t
 (&(
NAME
), '\0',  (NAME)), 0)

	)

181 
	#__libc_rwlock_š™
(
NAME
) \

182 
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_š™
, (&(
NAME
), 
NULL
), 0)

	)

186 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

187 
	#__libc_lock_š™_»cursive
(
NAME
) \

188 ((
NAME
èğ(
__libc_lock_»cursive_t
è
_LIBC_LOCK_RECURSIVE_INITIALIZER
, 0)

	)

190 
	#__libc_lock_š™_»cursive
(
NAME
) \

192 ià(
__±h»ad_mu‹x_š™
 !ğ
NULL
) \

194 
±h»ad_mu‹x©Œ_t
 
__©Œ
; \

195 
	`__±h»ad_mu‹x©Œ_š™
 (&
__©Œ
); \

196 
	`__±h»ad_mu‹x©Œ_£‰y³
 (&
__©Œ
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

197 
	`__±h»ad_mu‹x_š™
 (&(
NAME
).
mu‹x
, &
__©Œ
); \

198 
	`__±h»ad_mu‹x©Œ_de¡roy
 (&
__©Œ
); \

200 } 0)

	)

203 
	#__¹ld_lock_š™_»cursive
(
NAME
) \

205 ià(
__±h»ad_mu‹x_š™
 !ğ
NULL
) \

207 
±h»ad_mu‹x©Œ_t
 
__©Œ
; \

208 
	`__±h»ad_mu‹x©Œ_š™
 (&
__©Œ
); \

209 
	`__±h»ad_mu‹x©Œ_£‰y³
 (&
__©Œ
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

210 
	`__±h»ad_mu‹x_š™
 (&(
NAME
).
mu‹x
, &
__©Œ
); \

211 
	`__±h»ad_mu‹x©Œ_de¡roy
 (&
__©Œ
); \

213 } 0)

	)

218 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

219 
	#__libc_lock_fši
(
NAME
è((è0)

	)

221 
	#__libc_lock_fši
(
NAME
) \

222 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_de¡roy
, (&(
NAME
)), 0)

	)

224 #ià
defšed
 
SHARED
 && !defšed 
NOT_IN_libc


225 
	#__libc_rwlock_fši
(
NAME
è((è0)

	)

227 
	#__libc_rwlock_fši
(
NAME
) \

228 
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_de¡roy
, (&(
NAME
)), 0)

	)

232 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

233 
	#__libc_lock_fši_»cursive
(
NAME
è((è0)

	)

235 
	#__libc_lock_fši_»cursive
(
NAME
) \

236 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_de¡roy
, (&(
NAME
)), 0)

	)

240 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

241 
	#__libc_lock_lock
(
NAME
) \

242 ({ 
	`Îl_lock
 (
NAME
, 
LLL_PRIVATE
); 0; })

	)

244 
	#__libc_lock_lock
(
NAME
) \

245 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_lock
, (&(
NAME
)), 0)

	)

247 
	#__libc_rwlock_rdlock
(
NAME
) \

248 
	`__libc_±f_ÿÎ
 (
__±h»ad_rwlock_rdlock
, (&(
NAME
)), 0)

	)

249 
	#__libc_rwlock_w¾ock
(
NAME
) \

250 
	`__libc_±f_ÿÎ
 (
__±h»ad_rwlock_w¾ock
, (&(
NAME
)), 0)

	)

253 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

254 
	#__libc_lock_lock_»cursive
(
NAME
) \

256 *
£lf
 = 
THREAD_SELF
; \

257 ià((
NAME
).
owÃr
 !ğ
£lf
) \

259 
	`Îl_lock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

260 (
NAME
).
owÃr
 = 
£lf
; \

262 ++(
NAME
).
út
; \

263 } 0)

	)

265 
	#__libc_lock_lock_»cursive
(
NAME
) \

266 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_lock
, (&(
NAME
).
mu‹x
), 0)

	)

270 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

271 
	#__libc_lock_Œylock
(
NAME
) \

272 
	`Îl_Œylock
 (
NAME
)

	)

274 
	#__libc_lock_Œylock
(
NAME
) \

275 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_Œylock
, (&(
NAME
)), 0)

	)

277 
	#__libc_rwlock_Œyrdlock
(
NAME
) \

278 
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_Œyrdlock
, (&(
NAME
)), 0)

	)

279 
	#__libc_rwlock_Œyw¾ock
(
NAME
) \

280 
	`__libc_maybe_ÿÎ
 (
__±h»ad_rwlock_Œyw¾ock
, (&(
NAME
)), 0)

	)

283 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

284 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

286 
»suÉ
 = 0; \

287 *
£lf
 = 
THREAD_SELF
; \

288 ià((
NAME
).
owÃr
 !ğ
£lf
) \

290 ià(
	`Îl_Œylock
 ((
NAME
).
lock
) == 0) \

292 (
NAME
).
owÃr
 = 
£lf
; \

293 (
NAME
).
út
 = 1; \

296 
»suÉ
 = 
EBUSY
; \

299 ++(
NAME
).
út
; \

300 
»suÉ
; \

301 })

	)

303 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

304 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_Œylock
, (&(
NAME
)), 0)

	)

307 
	#__¹ld_lock_Œylock_»cursive
(
NAME
) \

308 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_Œylock
, (&(
NAME
).
mu‹x
), 0)

	)

311 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

312 
	#__libc_lock_uÆock
(
NAME
) \

313 
	`Îl_uÆock
 (
NAME
, 
LLL_PRIVATE
)

	)

315 
	#__libc_lock_uÆock
(
NAME
) \

316 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_uÆock
, (&(
NAME
)), 0)

	)

318 
	#__libc_rwlock_uÆock
(
NAME
) \

319 
	`__libc_±f_ÿÎ
 (
__±h»ad_rwlock_uÆock
, (&(
NAME
)), 0)

	)

322 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

324 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

326 ià(--(
NAME
).
út
 == 0) \

328 (
NAME
).
owÃr
 = 
NULL
; \

329 
	`Îl_uÆock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

331 } 0)

	)

333 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

334 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_uÆock
, (&(
NAME
)), 0)

	)

337 #ià
defšed
 
_LIBC
 && defšed 
SHARED


338 
	#__¹ld_lock_deçuÉ_lock_»cursive
(
lock
) \

339 ++((
±h»ad_mu‹x_t
 *)(
lock
))->
__d©a
.
__couÁ
;

	)

341 
	#__¹ld_lock_deçuÉ_uÆock_»cursive
(
lock
) \

342 --((
±h»ad_mu‹x_t
 *)(
lock
))->
__d©a
.
__couÁ
;

	)

344 
	#__¹ld_lock_lock_»cursive
(
NAME
) \

345 
	`GL
(
dl_¹ld_lock_»cursive
è(&(
NAME
).
mu‹x
)

	)

347 
	#__¹ld_lock_uÆock_»cursive
(
NAME
) \

348 
	`GL
(
dl_¹ld_uÆock_»cursive
è(&(
NAME
).
mu‹x
)

	)

350 
	#__¹ld_lock_lock_»cursive
(
NAME
) \

351 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_lock
, (&(
NAME
).
mu‹x
), 0)

	)

353 
	#__¹ld_lock_uÆock_»cursive
(
NAME
) \

354 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_uÆock
, (&(
NAME
).
mu‹x
), 0)

	)

358 #ià
PTHREAD_ONCE_INIT
 == 0

361 
	#__libc_Úû_defše
(
CLASS
, 
NAME
) \

362 
CLASS
 
±h»ad_Úû_t
 
NAME


	)

364 
	#__libc_Úû_defše
(
CLASS
, 
NAME
) \

365 
CLASS
 
±h»ad_Úû_t
 
NAME
 = 
PTHREAD_ONCE_INIT


	)

369 
	#__libc_Úû
(
ONCE_CONTROL
, 
INIT_FUNCTION
) \

371 ià(
	`PTFAVAIL
 (
__±h»ad_Úû
)) \

372 
	`__libc_±f_ÿÎ_®ways
 (
__±h»ad_Úû
, (&(
ONCE_CONTROL
), \

373 
INIT_FUNCTION
)); \

374 ià((
ONCE_CONTROL
è=ğ
PTHREAD_ONCE_INIT
) { \

375 
	`INIT_FUNCTION
 (); \

376 (
ONCE_CONTROL
) |= 2; \

378 } 0)

	)

381 
	#__libc_Úû_g‘
(
ONCE_CONTROL
) \

382 ((
ONCE_CONTROL
è!ğ
PTHREAD_ONCE_INIT
)

	)

388 
_±h»ad_ş—nup_push
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

389 (*
routše
è(*), *
¬g
);

390 
	`_±h»ad_ş—nup_pİ
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

391 
execu‹
);

392 
	`_±h»ad_ş—nup_push_deãr
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

393 (*
routše
è(*), *
¬g
);

394 
	`_±h»ad_ş—nup_pİ_»¡Üe
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

395 
execu‹
);

398 
	#__libc_ş—nup_»giÚ_¡¬t
(
DOIT
, 
FCT
, 
ARG
) \

399 { 
_±h»ad_ş—nup_bufãr
 
_bufãr
; \

400 
_ava
; \

401 ià(
DOIT
) { \

402 
_ava
 = 
	`PTFAVAIL
 (
_±h»ad_ş—nup_push_deãr
); \

403 ià(
_ava
) { \

404 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_push_deãr
, (&
_bufãr
, 
FCT
, \

405 
ARG
)); \

407 
_bufãr
.
__routše
 = (
FCT
); \

408 
_bufãr
.
__¬g
 = (
ARG
); \

411 
_ava
 = 0; \

412 }

	)

415 
	#__libc_ş—nup_»giÚ_’d
(
DOIT
) \

416 ià(
_ava
) { \

417 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_pİ_»¡Üe
, (&
_bufãr
, 
DOIT
));\

418 } ià(
DOIT
) \

419 
_bufãr
.
	`__routše
 (_bufãr.
__¬g
); \

420 
	}

	)
}

423 
	#__libc_ş—nup_’d
(
DOIT
) \

424 ià(
_ava
) { \

425 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_pİ_»¡Üe
, (&
_bufãr
, 
DOIT
));\

426 } ià(
DOIT
) \

427 
_bufãr
.
	`__routše
 (_bufãr.
__¬g
)

	)

431 
__ex‹º_šlše
 

432 
	$__libc_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
f
)

434 ià(
f
->
__do_™
)

435 
f
->
	`__ÿnûl_routše
 (f->
__ÿnûl_¬g
);

436 
	}
}

438 
	#__libc_ş—nup_push
(
fù
, 
¬g
) \

440 
__±h»ad_ş—nup_äame
 
__şäame
 \

441 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__libc_ş—nup_routše
))) \

442 ğ{ .
__ÿnûl_routše
 = (
fù
), .
__ÿnûl_¬g
 = (
¬g
), \

443 .
__do_™
 = 1 };

	)

445 
	#__libc_ş—nup_pİ
(
execu‹
) \

446 
__şäame
.
__do_™
 = (
execu‹
); \

447 } 0)

	)

451 
	#__libc_key_ü—‹
(
KEY
, 
DESTRUCTOR
) \

452 
	`__libc_±f_ÿÎ
 (
__±h»ad_key_ü—‹
, (
KEY
, 
DESTRUCTOR
), 1)

	)

455 
	#__libc_g‘¥ecific
(
KEY
) \

456 
	`__libc_±f_ÿÎ
 (
__±h»ad_g‘¥ecific
, (
KEY
), 
NULL
)

	)

459 
	#__libc_£t¥ecific
(
KEY
, 
VALUE
) \

460 
	`__libc_±f_ÿÎ
 (
__±h»ad_£t¥ecific
, (
KEY
, 
VALUE
), 0)

	)

466 
	#__libc_©fÜk
(
PREPARE
, 
PARENT
, 
CHILD
) \

467 
	`__»gi¡”_©fÜk
 (
PREPARE
, 
PARENT
, 
CHILD
, 
NULL
)

	)

468 
__»gi¡”_©fÜk
 ((*
__´•¬e
) (),

469 (*
__·»Á
) (),

470 (*
__chd
) (),

471 *
__dso_hªdË
);

476 
	`__±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

477 
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__mu‹x_©Œ
);

479 
	`__±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

481 
	`__±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

483 
	`__±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

485 
	`__±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
);

487 
	`__±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
);

489 
	`__±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
);

491 
	`__±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

492 
__kšd
);

494 #ifdeà
__USE_UNIX98


495 
	`__±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__rwlock
,

496 
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *
__©Œ
);

498 
	`__±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
);

500 
	`__±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
);

502 
	`__±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
);

504 
	`__±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
);

506 
	`__±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
);

508 
	`__±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
);

511 
	`__±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

512 (*
__de¡r_funùiÚ
) (*));

514 
	`__±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

515 
__cÚ¡
 *
__poš‹r
);

517 *
	`__±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
);

519 
	`__±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

520 (*
__š™_routše
) ());

522 
	`__±h»ad_©fÜk
 ((*
__´•¬e
) (),

523 (*
__·»Á
) (),

524 (*
__chd
) ());

530 #iâdeà
__NO_WEAK_PTHREAD_ALIASES


531 #ifdeà
w—k_ex‹º


532 #ià
_LIBC


533 
	~<bp-sym.h
>

535 
	#BP_SYM
(
sym
è
	)
sym

537 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_š™
))

538 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_de¡roy
))

539 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_lock
))

540 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_Œylock
))

541 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x_uÆock
))

542 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x©Œ_š™
))

543 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x©Œ_de¡roy
))

544 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_mu‹x©Œ_£‰y³
))

545 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_š™
))

546 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_de¡roy
))

547 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_rdlock
))

548 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_Œyrdlock
))

549 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_w¾ock
))

550 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_Œyw¾ock
))

551 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_rwlock_uÆock
))

552 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_key_ü—‹
))

553 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_£t¥ecific
))

554 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_g‘¥ecific
))

555 
	`w—k_ex‹º
 (
	$BP_SYM
 (
__±h»ad_Úû
))

556 
	$w—k_ex‹º
 (
__±h»ad_š™Ÿlize
)

557 
	$w—k_ex‹º
 (
__±h»ad_©fÜk
)

558 
	`w—k_ex‹º
 (
	$BP_SYM
 (
_±h»ad_ş—nup_push_deãr
))

559 
	`w—k_ex‹º
 (
	$BP_SYM
 (
_±h»ad_ş—nup_pİ_»¡Üe
))

560 
	`w—k_ex‹º
 (
	$BP_SYM
 (
±h»ad_£tÿnûl¡©e
))

562 #´agm¨
w—k
 
__±h»ad_mu‹x_š™


563 #´agm¨
w—k
 
__±h»ad_mu‹x_de¡roy


564 #´agm¨
w—k
 
__±h»ad_mu‹x_lock


565 #´agm¨
w—k
 
__±h»ad_mu‹x_Œylock


566 #´agm¨
w—k
 
__±h»ad_mu‹x_uÆock


567 #´agm¨
w—k
 
__±h»ad_mu‹x©Œ_š™


568 #´agm¨
w—k
 
__±h»ad_mu‹x©Œ_de¡roy


569 #´agm¨
w—k
 
__±h»ad_mu‹x©Œ_£‰y³


570 #´agm¨
w—k
 
__±h»ad_rwlock_de¡roy


571 #´agm¨
w—k
 
__±h»ad_rwlock_rdlock


572 #´agm¨
w—k
 
__±h»ad_rwlock_Œyrdlock


573 #´agm¨
w—k
 
__±h»ad_rwlock_w¾ock


574 #´agm¨
w—k
 
__±h»ad_rwlock_Œyw¾ock


575 #´agm¨
w—k
 
__±h»ad_rwlock_uÆock


576 #´agm¨
w—k
 
__±h»ad_key_ü—‹


577 #´agm¨
w—k
 
__±h»ad_£t¥ecific


578 #´agm¨
w—k
 
__±h»ad_g‘¥ecific


579 #´agm¨
w—k
 
__±h»ad_Úû


580 #´agm¨
w—k
 
__±h»ad_š™Ÿlize


581 #´agm¨
w—k
 
__±h»ad_©fÜk


582 #´agm¨
w—k
 
_±h»ad_ş—nup_push_deãr


583 #´agm¨
w—k
 
_±h»ad_ş—nup_pİ_»¡Üe


584 #´agm¨
w—k
 
±h»ad_£tÿnûl¡©e


	@/usr/include/endian.h

19 #iâdef 
_ENDIAN_H


20 
	#_ENDIAN_H
 1

	)

22 
	~<ã©u»s.h
>

32 
	#__LITTLE_ENDIAN
 1234

	)

33 
	#__BIG_ENDIAN
 4321

	)

34 
	#__PDP_ENDIAN
 3412

	)

37 
	~<b™s/’dŸn.h
>

41 #iâdeà
__FLOAT_WORD_ORDER


42 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

45 #ifdef 
__USE_BSD


46 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

47 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

48 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

49 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

52 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


53 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

54 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


55 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

59 #ifdeà
__USE_BSD


61 
	~<b™s/by‹sw­.h
>

63 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


64 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

65 
	#htŞe16
(
x
è(x)

	)

66 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

67 
	#Ë16toh
(
x
è(x)

	)

69 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

70 
	#htŞe32
(
x
è(x)

	)

71 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

72 
	#Ë32toh
(
x
è(x)

	)

74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è(x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è(x)

	)

79 
	#htobe16
(
x
è(x)

	)

80 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

81 
	#be16toh
(
x
è(x)

	)

82 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

84 
	#htobe32
(
x
è(x)

	)

85 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

86 
	#be32toh
(
x
è(x)

	)

87 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

89 
	#htobe64
(
x
è(x)

	)

90 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

91 
	#be64toh
(
x
è(x)

	)

92 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/gconv.h

23 #iâdeà
_GCONV_H


24 
	#_GCONV_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	#__Ãed_mb¡©e_t


	)

28 
	#__Ãed_wšt_t


	)

29 
	~<wch¬.h
>

30 
	#__Ãed_size_t


	)

31 
	#__Ãed_wch¬_t


	)

32 
	~<¡ddef.h
>

35 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

40 
	m__GCONV_OK
 = 0,

41 
	m__GCONV_NOCONV
,

42 
	m__GCONV_NODB
,

43 
	m__GCONV_NOMEM
,

45 
	m__GCONV_EMPTY_INPUT
,

46 
	m__GCONV_FULL_OUTPUT
,

47 
	m__GCONV_ILLEGAL_INPUT
,

48 
	m__GCONV_INCOMPLETE_INPUT
,

50 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

51 
	m__GCONV_INTERNAL_ERROR


58 
	m__GCONV_IS_LAST
 = 0x0001,

59 
	m__GCONV_IGNORE_ERRORS
 = 0x0002

64 
	g__gcÚv_¡•
;

65 
	g__gcÚv_¡•_d©a
;

66 
	g__gcÚv_lßded_objeù
;

67 
	g__gcÚv_Œªs_d©a
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

72 
	t__cÚ¡
 **, __const *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 (*
	t__gcÚv_Œªs_fù
è(
	t__gcÚv_¡•
 *,

85 
	t__gcÚv_¡•_d©a
 *, *,

86 
	t__cÚ¡
 *,

87 
	t__cÚ¡
 **,

88 
	t__cÚ¡
 *, **,

89 
	tsize_t
 *);

92 (*
	t__gcÚv_Œªs_cÚ‹xt_fù
è(*, 
	t__cÚ¡
 *,

93 
	t__cÚ¡
 *,

97 (*
	t__gcÚv_Œªs_qu”y_fù
è(
	t__cÚ¡
 *, __const ***,

98 
	tsize_t
 *);

101 (*
	t__gcÚv_Œªs_š™_fù
) (**, const *);

102 (*
	t__gcÚv_Œªs_’d_fù
) (*);

104 
	s__gcÚv_Œªs_d©a


107 
__gcÚv_Œªs_fù
 
__Œªs_fù
;

108 
__gcÚv_Œªs_cÚ‹xt_fù
 
__Œªs_cÚ‹xt_fù
;

109 
__gcÚv_Œªs_’d_fù
 
__Œªs_’d_fù
;

110 *
__d©a
;

111 
__gcÚv_Œªs_d©a
 *
__Ãxt
;

116 
	s__gcÚv_¡•


118 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

119 
__cÚ¡
 *
__modÇme
;

121 
__couÁ”
;

123 *
__äom_Çme
;

124 *
__to_Çme
;

126 
__gcÚv_fù
 
__fù
;

127 
__gcÚv_btowc_fù
 
__btowc_fù
;

128 
__gcÚv_š™_fù
 
__š™_fù
;

129 
__gcÚv_’d_fù
 
__’d_fù
;

133 
__mš_Ãeded_äom
;

134 
__max_Ãeded_äom
;

135 
__mš_Ãeded_to
;

136 
__max_Ãeded_to
;

139 
__¡©eful
;

141 *
__d©a
;

146 
	s__gcÚv_¡•_d©a


148 *
__outbuf
;

149 *
__outbuãnd
;

153 
__æags
;

157 
__švoÿtiÚ_couÁ”
;

161 
__š‹º®_u£
;

163 
__mb¡©e_t
 *
__¡©•
;

164 
__mb¡©e_t
 
__¡©e
;

168 
__gcÚv_Œªs_d©a
 *
__Œªs
;

173 
	s__gcÚv_šfo


175 
size_t
 
__n¡•s
;

176 
__gcÚv_¡•
 *
__¡•s
;

177 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

178 } *
	t__gcÚv_t
;

	@/usr/include/gnu/stubs-32.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub___k”Ãl_co¦


	)

11 
	#__¡ub___k”Ãl_sšl


	)

12 
	#__¡ub___k”Ãl_Æ


	)

13 
	#__¡ub_chæags


	)

14 
	#__¡ub_ç‰ach


	)

15 
	#__¡ub_fchæags


	)

16 
	#__¡ub_fd‘ach


	)

17 
	#__¡ub_g‰y


	)

18 
	#__¡ub_lchmod


	)

19 
	#__¡ub_»voke


	)

20 
	#__¡ub_£ogš


	)

21 
	#__¡ub_sig»tuº


	)

22 
	#__¡ub_s¡k


	)

23 
	#__¡ub_¡ty


	)

	@/usr/include/linux/limits.h

1 #iâdeà
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/wchar.h

24 #iâdeà
_WCHAR_H


26 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


27 
	#_WCHAR_H
 1

	)

28 
	~<ã©u»s.h
>

31 #ifdeà
_WCHAR_H


33 
	#__Ãed___FILE


	)

34 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


35 
	#__Ãed_FILE


	)

37 
	~<¡dio.h
>

39 
	#__Ãed___va_li¡


	)

40 
	~<¡d¬g.h
>

42 
	~<b™s/wch¬.h
>

45 
	#__Ãed_size_t


	)

46 
	#__Ãed_wch¬_t


	)

47 
	#__Ãed_NULL


	)

49 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


50 #undeà
__Ãed_wšt_t


51 
	#__Ãed_wšt_t


	)

52 
	~<¡ddef.h
>

55 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

56 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

61 #iâdeà
_WINT_T


66 
	#_WINT_T


	)

67 
	twšt_t
;

71 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

72 && 
defšed
 
__WINT_TYPE__


73 
__BEGIN_NAMESPACE_STD


74 
__WINT_TYPE__
 
	twšt_t
;

75 
	g__END_NAMESPACE_STD


80 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
__mb¡©e_t_defšed


81 
	#__mb¡©e_t_defšed
 1

	)

85 
	m__couÁ
;

88 #ifdeà
__WINT_TYPE__


89 
__WINT_TYPE__
 
	m__wch
;

91 
wšt_t
 
	m__wch
;

93 
	m__wchb
[4];

94 } 
	m__v®ue
;

95 } 
	t__mb¡©e_t
;

97 #undeà
__Ãed_mb¡©e_t


102 #ifdeà
_WCHAR_H


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 #ifdeà
__USE_GNU


109 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

112 #iâdeà
WCHAR_MIN


114 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

115 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

118 #iâdeà
WEOF


119 
	#WEOF
 (0xffffffffu)

	)

124 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


125 
	~<wùy³.h
>

129 
__BEGIN_DECLS


131 
__BEGIN_NAMESPACE_STD


134 
tm
;

135 
__END_NAMESPACE_STD


139 
	$__USING_NAMESPACE_STD
(
tm
)

142 
__BEGIN_NAMESPACE_STD


144 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

145 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

147 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

149 
__THROW
;

152 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

153 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

155 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

156 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

157 
__THROW
;

160 
	$wcscmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
)

161 
__THROW
 
__©Œibu‹_pu»__
;

163 
	$wc¢cmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

164 
__THROW
 
__©Œibu‹_pu»__
;

165 
__END_NAMESPACE_STD


167 #ifdeà
__USE_XOPEN2K8


169 
	$wcsÿ£cmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

172 
	$wc¢ÿ£cmp
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

173 
size_t
 
__n
è
__THROW
;

177 
	~<xloÿË.h
>

179 
	$wcsÿ£cmp_l
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

180 
__loÿË_t
 
__loc
è
__THROW
;

182 
	$wc¢ÿ£cmp_l
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

183 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

186 
__BEGIN_NAMESPACE_STD


189 
	$wcscŞl
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

193 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

194 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

195 
__END_NAMESPACE_STD


197 #ifdeà
__USE_XOPEN2K8


203 
	$wcscŞl_l
 (
__cÚ¡
 
wch¬_t
 *
__s1
, __cÚ¡ wch¬_ˆ*
__s2
,

204 
__loÿË_t
 
__loc
è
__THROW
;

209 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
,

210 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

213 
wch¬_t
 *
	$wcsdup
 (
__cÚ¡
 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

216 
__BEGIN_NAMESPACE_STD


218 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


219 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

220 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

221 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wcschr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

222 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

224 
wch¬_t
 *
	$wcschr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

225 
__THROW
 
__©Œibu‹_pu»__
;

228 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


229 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

230 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

231 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wc¤chr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

232 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

234 
wch¬_t
 *
	$wc¤chr
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

235 
__THROW
 
__©Œibu‹_pu»__
;

237 
__END_NAMESPACE_STD


239 #ifdeà
__USE_GNU


242 
wch¬_t
 *
	$wcschºul
 (
__cÚ¡
 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

243 
__THROW
 
__©Œibu‹_pu»__
;

246 
__BEGIN_NAMESPACE_STD


249 
size_t
 
	$wcsc¥n
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, __cÚ¡ wch¬_ˆ*
__»jeù
)

250 
__THROW
 
__©Œibu‹_pu»__
;

253 
size_t
 
	$wcs¥n
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, __cÚ¡ wch¬_ˆ*
__acû±
)

254 
__THROW
 
__©Œibu‹_pu»__
;

256 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


257 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, 
__cÚ¡
 wch¬_ˆ*
__acû±
)

258 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

259 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wc¥brk
 (
__cÚ¡
 
wch¬_t
 *
__wcs
,

260 
__cÚ¡
 
wch¬_t
 *
__acû±
)

261 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

263 
wch¬_t
 *
	$wc¥brk
 (
__cÚ¡
 
wch¬_t
 *
__wcs
, __cÚ¡ wch¬_ˆ*
__acû±
)

264 
__THROW
 
__©Œibu‹_pu»__
;

267 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


268 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, 
__cÚ¡
 wch¬_ˆ*
__ÃedË
)

269 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

270 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wcs¡r
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
,

271 
__cÚ¡
 
wch¬_t
 *
__ÃedË
)

272 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

274 
wch¬_t
 *
	$wcs¡r
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
, __cÚ¡ wch¬_ˆ*
__ÃedË
)

275 
__THROW
 
__©Œibu‹_pu»__
;

279 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

280 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__d–im
,

281 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

284 
size_t
 
	$wc¦’
 (
__cÚ¡
 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

285 
__END_NAMESPACE_STD


287 #ifdeà
__USE_XOPEN


289 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


290 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, 
__cÚ¡
 wch¬_ˆ*
__ÃedË
)

291 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

292 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wcswcs
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
,

293 
__cÚ¡
 
wch¬_t
 *
__ÃedË
)

294 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

296 
wch¬_t
 *
	$wcswcs
 (
__cÚ¡
 
wch¬_t
 *
__hay¡ack
, __cÚ¡ wch¬_ˆ*
__ÃedË
)

297 
__THROW
 
__©Œibu‹_pu»__
;

301 #ifdeà
__USE_XOPEN2K8


303 
size_t
 
	$wc¢Ën
 (
__cÚ¡
 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

304 
__THROW
 
__©Œibu‹_pu»__
;

308 
__BEGIN_NAMESPACE_STD


310 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


311 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

312 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

313 "C++" 
__cÚ¡
 
wch¬_t
 *
	$wmemchr
 (
__cÚ¡
 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

314 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

317 
wch¬_t
 *
	$wmemchr
 (
__cÚ¡
 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

318 
__THROW
 
__©Œibu‹_pu»__
;

322 
	$wmemcmp
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s1
,

323 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

324 
__THROW
 
__©Œibu‹_pu»__
;

327 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

328 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

332 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
, 
size_t
 
__n
)

333 
__THROW
;

336 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

337 
__END_NAMESPACE_STD


339 #ifdeà
__USE_GNU


342 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

343 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

344 
__THROW
;

348 
__BEGIN_NAMESPACE_STD


351 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

355 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

359 
	$mbsš™
 (
__cÚ¡
 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

363 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

364 
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

365 
mb¡©e_t
 *
__p
è
__THROW
;

368 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

369 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

372 
size_t
 
	$__mb¾’
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

373 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

374 
size_t
 
	$mb¾’
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

375 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

376 
__END_NAMESPACE_STD


378 #ifdeà
__USE_EXTERN_INLINES


384 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

385 
__ex‹º_šlše
 
wšt_t


386 
	`__NTH
 (
	$btowc
 (
__c
))

387 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

388 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

390 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

391 
__ex‹º_šlše
 

392 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

393 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

394 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

396 
__ex‹º_šlše
 
size_t


397 
__NTH
 (
	$mb¾’
 (
__cÚ¡
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

398 
mb¡©e_t
 *
__»¡riù
 
__ps
))

399 {  (
__ps
 !ğ
NULL


400 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

403 
__BEGIN_NAMESPACE_STD


406 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

407 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

408 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

412 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

413 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

414 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

415 
__END_NAMESPACE_STD


418 #ifdef 
__USE_XOPEN2K8


421 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

422 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

423 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

427 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

428 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

429 
size_t
 
__nwc
, size_ˆ
__Ën
,

430 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

435 #ifdeà
__USE_XOPEN


437 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

441 
	$wcswidth
 (
__cÚ¡
 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

445 
__BEGIN_NAMESPACE_STD


448 
	$wc¡od
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

449 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

450 
__END_NAMESPACE_STD


452 #ifdeà
__USE_ISOC99


453 
__BEGIN_NAMESPACE_C99


455 
	$wc¡of
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

456 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

457 
	$wc¡Şd
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

459 
__END_NAMESPACE_C99


463 
__BEGIN_NAMESPACE_STD


466 
	$wc¡Ş
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

467 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

471 
	$wc¡oul
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

472 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

473 
__THROW
;

474 
__END_NAMESPACE_STD


476 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GNUC__
 && defšed 
__USE_GNU
)

477 
__BEGIN_NAMESPACE_C99


480 
__ex‹nsiÚ__


481 
	$wc¡Şl
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

482 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

483 
__THROW
;

487 
__ex‹nsiÚ__


488 
	$wc¡ouÎ
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

489 
wch¬_t
 **
__»¡riù
 
__’d±r
,

490 
__ba£
è
__THROW
;

491 
__END_NAMESPACE_C99


494 #ià
defšed
 
__GNUC__
 && defšed 
__USE_GNU


497 
__ex‹nsiÚ__


498 
	$wc¡oq
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

499 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

500 
__THROW
;

504 
__ex‹nsiÚ__


505 
	$wc¡ouq
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

506 
wch¬_t
 **
__»¡riù
 
__’d±r
,

507 
__ba£
è
__THROW
;

510 #ifdeà
__USE_GNU


524 
	~<xloÿË.h
>

528 
	$wc¡Ş_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

529 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

530 
__loÿË_t
 
__loc
è
__THROW
;

532 
	$wc¡oul_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

533 
wch¬_t
 **
__»¡riù
 
__’d±r
,

534 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

536 
__ex‹nsiÚ__


537 
	$wc¡Şl_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

538 
wch¬_t
 **
__»¡riù
 
__’d±r
,

539 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

541 
__ex‹nsiÚ__


542 
	$wc¡ouÎ_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

543 
wch¬_t
 **
__»¡riù
 
__’d±r
,

544 
__ba£
, 
__loÿË_t
 
__loc
)

545 
__THROW
;

547 
	$wc¡od_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

548 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

549 
__THROW
;

551 
	$wc¡of_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

552 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

553 
__THROW
;

555 
	$wc¡Şd_l
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

556 
wch¬_t
 **
__»¡riù
 
__’d±r
,

557 
__loÿË_t
 
__loc
è
__THROW
;

561 #ifdef 
__USE_XOPEN2K8


564 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
è
__THROW
;

568 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
, 
size_t
 
__n
)

569 
__THROW
;

575 #ifdef 
__USE_XOPEN2K8


578 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

581 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


582 
__BEGIN_NAMESPACE_STD


585 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

592 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

593 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

599 
	`w´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

602 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

603 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
__THROW
 ;

610 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

611 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

612 
__gnuc_va_li¡
 
__¬g
)

618 
	`vw´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

619 
__gnuc_va_li¡
 
__¬g
)

623 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

624 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

625 
__gnuc_va_li¡
 
__¬g
)

626 
__THROW
 ;

633 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

634 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

640 
	`wsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

643 
	$swsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

644 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
__THROW
 ;

647 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

648 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

649 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

650 #ifdeà
__REDIRECT


654 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

655 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

656 
__isoc99_fwsÿnf
)

658 
	`__REDIRECT
 (
wsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

659 
__isoc99_wsÿnf
)

661 
	`__REDIRECT
 (
swsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

662 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

663 
__isoc99_swsÿnf
)

664 
__THROW
 ;

666 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

667 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

668 
	`__isoc99_wsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

669 
	$__isoc99_swsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

670 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

671 
__THROW
;

672 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

673 
	#wsÿnf
 
__isoc99_wsÿnf


	)

674 
	#swsÿnf
 
__isoc99_swsÿnf


	)

678 
__END_NAMESPACE_STD


681 #ifdeà
__USE_ISOC99


682 
__BEGIN_NAMESPACE_C99


687 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

688 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

689 
__gnuc_va_li¡
 
__¬g
)

695 
	`vwsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

696 
__gnuc_va_li¡
 
__¬g
)

699 
	$vswsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

700 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

701 
__gnuc_va_li¡
 
__¬g
)

702 
__THROW
 ;

704 #ià!
defšed
 
__USE_GNU
 \

705 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

706 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

707 #ifdeà
__REDIRECT


708 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

709 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

710 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

712 
	`__REDIRECT
 (
vwsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

713 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

715 
	`__REDIRECT
 (
vswsÿnf
, (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

716 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

717 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

718 
__THROW
 ;

720 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

721 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

722 
__gnuc_va_li¡
 
__¬g
);

723 
	`__isoc99_vwsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

724 
__gnuc_va_li¡
 
__¬g
);

725 
	$__isoc99_vswsÿnf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s
,

726 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

727 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

728 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

729 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

730 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

734 
__END_NAMESPACE_C99


738 
__BEGIN_NAMESPACE_STD


743 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

744 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

750 
wšt_t
 
	`g‘wch¬
 ();

757 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

758 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

764 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

772 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

773 
__FILE
 *
__»¡riù
 
__¡»am
);

779 
	`åutws
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ws
,

780 
__FILE
 *
__»¡riù
 
__¡»am
);

787 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

788 
__END_NAMESPACE_STD


791 #ifdeà
__USE_GNU


799 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

800 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

808 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

816 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

825 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

826 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

835 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

836 
__FILE
 *
__»¡riù
 
__¡»am
);

844 
	`åutws_uÆocked
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__ws
,

845 
__FILE
 *
__»¡riù
 
__¡»am
);

849 
__BEGIN_NAMESPACE_C99


853 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

854 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

855 
__cÚ¡
 
tm
 *
__»¡riù
 
__
è
__THROW
;

856 
__END_NAMESPACE_C99


858 #ifdeà
__USE_GNU


859 
	~<xloÿË.h
>

863 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

864 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

865 
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

866 
__loÿË_t
 
__loc
è
__THROW
;

875 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


876 
	#__Ãed_iswxxx


	)

877 
	~<wùy³.h
>

881 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


882 
	~<b™s/wch¬2.h
>

885 #ifdeà
__LDBL_COMPAT


886 
	~<b™s/wch¬-ldbl.h
>

889 
__END_DECLS


897 #undeà
__Ãed_mb¡©e_t


898 #undeà
__Ãed_wšt_t


	@/usr/include/xlocale.h

21 #iâdeà
_XLOCALE_H


22 
	#_XLOCALE_H
 1

	)

28 
	s__loÿË_¡ruù


31 
loÿË_d©a
 *
	m__loÿËs
[13];

34 cÚ¡ *
	m__ùy³_b
;

35 cÚ¡ *
	m__ùy³_tŞow”
;

36 cÚ¡ *
	m__ùy³_touµ”
;

39 cÚ¡ *
	m__Çmes
[13];

40 } *
	t__loÿË_t
;

43 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/bits/byteswap.h

21 #ià!
defšed
 
_BYTESWAP_H
 && !defšed 
_NETINET_IN_H
 && !defšed 
_ENDIAN_H


25 #iâdeà
_BITS_BYTESWAP_H


26 
	#_BITS_BYTESWAP_H
 1

	)

28 
	~<b™s/wÜdsize.h
>

31 
	#__bsw­_cÚ¡ªt_16
(
x
) \

32 ((((
x
è>> 8è& 0xffè| (((xè& 0xffè<< 8))

	)

34 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

35 
	#__bsw­_16
(
x
) \

36 (
__ex‹nsiÚ__
 \

37 ({ 
__v
, 
__x
 = (
x
); \

38 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

39 
__v
 = 
	`__bsw­_cÚ¡ªt_16
 (
__x
); \

41 
	`__asm__
 ("rorw $8, %w0" \

42 : "ô" (
__v
) \

43 : "0" (
__x
) \

45 
__v
; }))

	)

48 
	#__bsw­_16
(
x
) \

49 (
__ex‹nsiÚ__
 \

50 ({ 
__x
 = (
x
); 
	`__bsw­_cÚ¡ªt_16
 (__x); }))

	)

55 
	#__bsw­_cÚ¡ªt_32
(
x
) \

56 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

57 (((
x
è& 0x0000ff00è<< 8è| (((xè& 0x000000ffè<< 24))

	)

59 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

60 #ià
__WORDSIZE
 =ğ64 || (
defšed
 
__i486__
 || defšed 
__³Áium__
 \

61 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

62 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

63 || 
defšed
 
	g__k6__
 || defšed 
	g__nocÚa__
 \

64 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__geode__
 \

65 || 
defšed
 
	g__amdçm10__
)

68 
	#__bsw­_32
(
x
) \

69 (
__ex‹nsiÚ__
 \

70 ({ 
__v
, 
__x
 = (
x
); \

71 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

72 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

74 
	`__asm__
 ("bsw­ %0" : "ô" (
__v
è: "0" (
__x
)); \

75 
__v
; }))

	)

77 
	#__bsw­_32
(
x
) \

78 (
__ex‹nsiÚ__
 \

79 ({ 
__v
, 
__x
 = (
x
); \

80 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

81 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

83 
	`__asm__
 ("rorw $8, %w0;" \

86 : "ô" (
__v
) \

87 : "0" (
__x
) \

89 
__v
; }))

	)

92 
	#__bsw­_32
(
x
) \

93 (
__ex‹nsiÚ__
 \

94 ({ 
__x
 = (
x
); 
	`__bsw­_cÚ¡ªt_32
 (__x); }))

	)

98 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

100 
	#__bsw­_cÚ¡ªt_64
(
x
) \

101 ((((
x
) & 0xff00000000000000ull) >> 56) \

102 | (((
x
) & 0x00ff000000000000ull) >> 40) \

103 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

104 | (((
x
) & 0x000000ff00000000ull) >> 8) \

105 | (((
x
) & 0x00000000ff000000ull) << 8) \

106 | (((
x
) & 0x0000000000ff0000ull) << 24) \

107 | (((
x
) & 0x000000000000ff00ull) << 40) \

108 | (((
x
è& 0x00000000000000ffuÎè<< 56))

	)

110 #ià
__WORDSIZE
 == 64

111 
	#__bsw­_64
(
x
) \

112 (
__ex‹nsiÚ__
 \

113 ({ 
__v
, 
__x
 = (
x
); \

114 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

115 
__v
 = 
	`__bsw­_cÚ¡ªt_64
 (
__x
); \

117 
	`__asm__
 ("bsw­ %q0" : "ô" (
__v
è: "0" (
__x
)); \

118 
__v
; }))

	)

120 
	#__bsw­_64
(
x
) \

121 (
__ex‹nsiÚ__
 \

122 ({ uniÚ { 
__ex‹nsiÚ__
 
__Î
; \

123 
__l
[2]; } 
__w
, 
__r
; \

124 ià(
	`__butš_cÚ¡ªt_p
 (
x
)) \

125 
__r
.
__Î
 = 
	`__bsw­_cÚ¡ªt_64
 (
x
); \

128 
__w
.
__Î
 = (
x
); \

129 
__r
.
__l
[0] = 
	`__bsw­_32
 (
__w
.__l[1]); \

130 
__r
.
__l
[1] = 
	`__bsw­_32
 (
__w
.__l[0]); \

132 
__r
.
__Î
; }))

	)

	@/usr/include/bits/endian.h

3 #iâdeà
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/wchar-ldbl.h

20 #iâdeà
_WCHAR_H


24 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


25 
__BEGIN_NAMESPACE_C99


26 
__LDBL_REDIR_DECL
 (
fw´štf
);

27 
__LDBL_REDIR_DECL
 (
w´štf
);

28 
__LDBL_REDIR_DECL
 (
sw´štf
);

29 
__LDBL_REDIR_DECL
 (
vfw´štf
);

30 
__LDBL_REDIR_DECL
 (
vw´štf
);

31 
__LDBL_REDIR_DECL
 (
vsw´štf
);

32 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

33 && !
defšed
 
	g__REDIRECT
 \

34 && (
defšed
 
	g__STRICT_ANSI__
 || defšed 
	g__USE_XOPEN2K
)

35 
	$__LDBL_REDIR1_DECL
 (
fwsÿnf
, 
__Ædbl___isoc99_fwsÿnf
)

36 
	$__LDBL_REDIR1_DECL
 (
wsÿnf
, 
__Ædbl___isoc99_wsÿnf
)

37 
	$__LDBL_REDIR1_DECL
 (
swsÿnf
, 
__Ædbl___isoc99_swsÿnf
)

39 
	`__LDBL_REDIR_DECL
 (
fwsÿnf
);

40 
	`__LDBL_REDIR_DECL
 (
wsÿnf
);

41 
	`__LDBL_REDIR_DECL
 (
swsÿnf
);

43 
__END_NAMESPACE_C99


46 #ifdeà
__USE_ISOC99


47 
__BEGIN_NAMESPACE_C99


48 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd
, 
wc¡od
);

49 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

50 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

51 
	$__LDBL_REDIR1_DECL
 (
vfwsÿnf
, 
__Ædbl___isoc99_vfwsÿnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vwsÿnf
, 
__Ædbl___isoc99_vwsÿnf
)

53 
	$__LDBL_REDIR1_DECL
 (
vswsÿnf
, 
__Ædbl___isoc99_vswsÿnf
)

55 
	`__LDBL_REDIR_DECL
 (
vfwsÿnf
);

56 
	`__LDBL_REDIR_DECL
 (
vwsÿnf
);

57 
	`__LDBL_REDIR_DECL
 (
vswsÿnf
);

59 
__END_NAMESPACE_C99


62 #ifdeà
__USE_GNU


63 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd_l
, 
wc¡od_l
);

66 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


67 
	$__LDBL_REDIR_DECL
 (
__sw´štf_chk
)

68 
	$__LDBL_REDIR_DECL
 (
__vsw´štf_chk
)

69 #ià
__USE_FORTIFY_LEVEL
 > 1

70 
	$__LDBL_REDIR_DECL
 (
__fw´štf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__w´štf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vfw´štf_chk
)

73 
	$__LDBL_REDIR_DECL
 (
__vw´štf_chk
)

	@/usr/include/bits/wchar.h

20 #iâdeà
_BITS_WCHAR_H


21 
	#_BITS_WCHAR_H
 1

	)

24 #ifdeà
__WCHAR_MAX__


25 
	#__WCHAR_MAX
 
__WCHAR_MAX__


	)

27 
	#__WCHAR_MAX
 (2147483647)

	)

32 #ifdeà
__WCHAR_UNSIGNED__


33 
	#__WCHAR_MIN
 
L
'\0'

	)

37 #–ià
L
'\0' - 1 > 0

38 
	#__WCHAR_MIN
 
L
'\0'

	)

40 
	#__WCHAR_MIN
 (-
__WCHAR_MAX
 - 1)

	)

	@/usr/include/bits/wchar2.h

20 #iâdeà
_WCHAR_H


25 
wch¬_t
 *
	$__wmemıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

26 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

27 
size_t
 
__ns1
è
__THROW
;

28 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_®Ÿs
,

29 (
wch¬_t
 *
__»¡riù
 
__s1
,

30 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
),

31 
wmemıy
);

32 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_chk_w¬n
,

33 (
wch¬_t
 *
__»¡riù
 
__s1
,

34 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

35 
size_t
 
__ns1
), 
__wmemıy_chk
)

36 
	`__w¬Ç‰r
 ("wmemcpy called with†ength biggerhan size of destination "

39 
__ex‹º_®ways_šlše
 
wch¬_t
 *

40 
	`__NTH
 (
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__s2
,

41 
size_t
 
__n
))

43 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

45 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

46  
	`__wmemıy_chk
 (
__s1
, 
__s2
, 
__n
,

47 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

49 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

50  
	`__wmemıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

51 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

53  
	`__wmemıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

54 
	}
}

57 
wch¬_t
 *
	$__wmemmove_chk
 (
wch¬_t
 *
__s1
, 
__cÚ¡
 wch¬_ˆ*
__s2
,

58 
size_t
 
__n
, size_ˆ
__ns1
è
__THROW
;

59 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_®Ÿs
, (wch¬_ˆ*
__s1
,

60 
__cÚ¡
 
wch¬_t
 *
__s2
,

61 
size_t
 
__n
), 
wmemmove
);

62 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¬n
,

63 (
wch¬_t
 *
__»¡riù
 
__s1
,

64 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

65 
size_t
 
__ns1
), 
__wmemmove_chk
)

66 
	`__w¬Ç‰r
 ("wmemmove called with†ength biggerhan size of destination "

69 
__ex‹º_®ways_šlše
 
wch¬_t
 *

70 
	`__NTH
 (
	$wmemmove
 (
wch¬_t
 *
__»¡riù
 
__s1
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__s2
,

71 
size_t
 
__n
))

73 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

75 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

76  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

77 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

79 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

80  
	`__wmemmove_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

81 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

83  
	`__wmemmove_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

84 
	}
}

87 #ifdeà
__USE_GNU


88 
wch¬_t
 *
	$__wmempıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

89 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

90 
size_t
 
__ns1
è
__THROW
;

91 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_®Ÿs
,

92 (
wch¬_t
 *
__»¡riù
 
__s1
,

93 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
,

94 
size_t
 
__n
), 
wmempıy
);

95 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_chk_w¬n
,

96 (
wch¬_t
 *
__»¡riù
 
__s1
,

97 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

98 
size_t
 
__ns1
), 
__wmempıy_chk
)

99 
	`__w¬Ç‰r
 ("wmempcpy called with†ength biggerhan size of destination "

102 
__ex‹º_®ways_šlše
 
wch¬_t
 *

103 
	`__NTH
 (
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, 
__cÚ¡
 wch¬_ˆ*__»¡riù 
__s2
,

104 
size_t
 
__n
))

106 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

108 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

109  
	`__wmempıy_chk
 (
__s1
, 
__s2
, 
__n
,

110 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

112 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

113  
	`__wmempıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

114 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

116  
	`__wmempıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

117 
	}
}

121 
wch¬_t
 *
	$__wmem£t_chk
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

122 
size_t
 
__ns
è
__THROW
;

123 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_®Ÿs
, (wch¬_ˆ*
__s
, wch¬_ˆ
__c
,

124 
size_t
 
__n
), 
wmem£t
);

125 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¬n
,

126 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

127 
size_t
 
__ns
), 
__wmem£t_chk
)

128 
	`__w¬Ç‰r
 ("wmemset called with†ength biggerhan size of destination "

131 
__ex‹º_®ways_šlše
 
wch¬_t
 *

132 
	`__NTH
 (
	$wmem£t
 (
wch¬_t
 *
__»¡riù
 
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
))

134 ià(
	`__bos0
 (
__s
è!ğ(
size_t
) -1)

136 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

137  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sè/  (
wch¬_t
));

139 ià(
__n
 > 
	`__bos0
 (
__s
è/  (
wch¬_t
))

140  
	`__wmem£t_chk_w¬n
 (
__s
, 
__c
, 
__n
,

141 
	`__bos0
 (
__s
è/  (
wch¬_t
));

143  
	`__wmem£t_®Ÿs
 (
__s
, 
__c
, 
__n
);

144 
	}
}

147 
wch¬_t
 *
	$__wcsıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

149 
size_t
 
__n
è
__THROW
;

150 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsıy_®Ÿs
,

151 (
wch¬_t
 *
__»¡riù
 
__de¡
,

152 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsıy
);

154 
__ex‹º_®ways_šlše
 
wch¬_t
 *

155 
	`__NTH
 (
	$wcsıy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
))

157 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

158  
	`__wcsıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

159  
	`__wcsıy_®Ÿs
 (
__de¡
, 
__¤c
);

160 
	}
}

163 
wch¬_t
 *
	$__wııy_chk
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
,

164 
size_t
 
__de¡Ën
è
__THROW
;

165 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wııy_®Ÿs
, (wch¬_ˆ*
__de¡
,

166 
__cÚ¡
 
wch¬_t
 *
__¤c
),

167 
wııy
);

169 
__ex‹º_®ways_šlše
 
wch¬_t
 *

170 
	`__NTH
 (
	$wııy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
))

172 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

173  
	`__wııy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

174  
	`__wııy_®Ÿs
 (
__de¡
, 
__¤c
);

175 
	}
}

178 
wch¬_t
 *
	$__wc¢ıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

179 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

180 
size_t
 
__de¡Ën
è
__THROW
;

181 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_®Ÿs
,

182 (
wch¬_t
 *
__»¡riù
 
__de¡
,

183 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

184 
size_t
 
__n
), 
wc¢ıy
);

185 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_chk_w¬n
,

186 (
wch¬_t
 *
__»¡riù
 
__de¡
,

187 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

188 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wc¢ıy_chk
)

189 
	`__w¬Ç‰r
 ("wcsncpy called with†ength biggerhan size of destination "

192 
__ex‹º_®ways_šlše
 
wch¬_t
 *

193 
	`__NTH
 (
	$wc¢ıy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
, 
size_t
 
__n
))

195 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

197 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

198  
	`__wc¢ıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

199 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

200 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

201  
	`__wc¢ıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

202 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

204  
	`__wc¢ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

205 
	}
}

208 
wch¬_t
 *
	$__wınıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

209 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

210 
size_t
 
__de¡Ën
è
__THROW
;

211 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_®Ÿs
,

212 (
wch¬_t
 *
__»¡riù
 
__de¡
,

213 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

214 
size_t
 
__n
), 
wınıy
);

215 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_chk_w¬n
,

216 (
wch¬_t
 *
__»¡riù
 
__de¡
,

217 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

218 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wınıy_chk
)

219 
	`__w¬Ç‰r
 ("wcpncpy called with†ength biggerhan size of destination "

222 
__ex‹º_®ways_šlše
 
wch¬_t
 *

223 
	`__NTH
 (
	$wınıy
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
, 
size_t
 
__n
))

225 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

227 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

228  
	`__wınıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

229 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

230 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

231  
	`__wınıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

232 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

234  
	`__wınıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

235 
	}
}

238 
wch¬_t
 *
	$__wcsÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

239 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

240 
size_t
 
__de¡Ën
è
__THROW
;

241 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsÿt_®Ÿs
,

242 (
wch¬_t
 *
__»¡riù
 
__de¡
,

243 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsÿt
);

245 
__ex‹º_®ways_šlše
 
wch¬_t
 *

246 
	`__NTH
 (
	$wcsÿt
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
))

248 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

249  
	`__wcsÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

250  
	`__wcsÿt_®Ÿs
 (
__de¡
, 
__¤c
);

251 
	}
}

254 
wch¬_t
 *
	$__wc¢ÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

255 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

256 
size_t
 
__n
, size_ˆ
__de¡Ën
è
__THROW
;

257 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ÿt_®Ÿs
,

258 (
wch¬_t
 *
__»¡riù
 
__de¡
,

259 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__¤c
,

260 
size_t
 
__n
), 
wc¢ÿt
);

262 
__ex‹º_®ways_šlše
 
wch¬_t
 *

263 
	`__NTH
 (
	$wc¢ÿt
 (
wch¬_t
 *
__de¡
, 
__cÚ¡
 wch¬_ˆ*
__¤c
, 
size_t
 
__n
))

265 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

266  
	`__wc¢ÿt_chk
 (
__de¡
, 
__¤c
, 
__n
,

267 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

268  
	`__wc¢ÿt_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

269 
	}
}

272 
	$__sw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

273 
__æag
, 
size_t
 
__s_Ën
,

274 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

275 
__THROW
 ;

277 
	`__REDIRECT_NTH_LDBL
 (
__sw´štf_®Ÿs
,

278 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

279 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, ...),

280 
sw´štf
);

282 #ifdeà
__va_¬g_·ck


283 
__ex‹º_®ways_šlše
 

284 
	`__NTH
 (
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

285 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, ...))

287 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

288  
	`__sw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

289 
	`__bos
 (
__s
è/  (
wch¬_t
),

290 
__fmt
, 
	`__va_¬g_·ck
 ());

291  
	`__sw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¬g_·ck
 ());

292 
	}
}

293 #–ià!
defšed
 
__ılu¥lus


295 
	#sw´štf
(
s
, 
n
, ...) \

296 (
	`__bos
 (
s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

297 ? 
	`__sw´štf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

298 
	`__bos
 (
s
è/  (
wch¬_t
), 
__VA_ARGS__
) \

299 : 
	`sw´štf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

302 
	$__vsw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

303 
__æag
, 
size_t
 
__s_Ën
,

304 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

305 
__gnuc_va_li¡
 
__¬g
)

306 
__THROW
 ;

308 
	`__REDIRECT_NTH_LDBL
 (
__vsw´štf_®Ÿs
,

309 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

310 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
,

311 
__gnuc_va_li¡
 
__­
), 
vsw´štf
);

313 
__ex‹º_®ways_šlše
 

314 
	`__NTH
 (
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

315 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
))

317 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

318  
	`__vsw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

319 
	`__bos
 (
__s
è/  (
wch¬_t
), 
__fmt
, 
__­
);

320  
	`__vsw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
__­
);

321 
	}
}

324 #ià
__USE_FORTIFY_LEVEL
 > 1

326 
__fw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

327 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

328 
__w´štf_chk
 (
__æag
, 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

330 
__vfw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

331 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

332 
__gnuc_va_li¡
 
__­
);

333 
__vw´štf_chk
 (
__æag
, 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

334 
__gnuc_va_li¡
 
__­
);

336 #ifdeà
__va_¬g_·ck


337 
__ex‹º_®ways_šlše
 

338 
	$w´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, ...)

340  
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

341 
	}
}

343 
__ex‹º_®ways_šlše
 

344 
	$fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__cÚ¡
 
wch¬_t
 *__»¡riù 
__fmt
, ...)

346  
	`__fw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

347 
	`__va_¬g_·ck
 ());

348 
	}
}

349 #–ià!
defšed
 
__ılu¥lus


350 
	#w´štf
(...) \

351 
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

352 
	#fw´štf
(
¡»am
, ...) \

353 
	`__fw´štf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

356 
__ex‹º_®ways_šlše
 

357 
	$vw´štf
 (
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

359  
	`__vw´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

360 
	}
}

362 
__ex‹º_®ways_šlše
 

363 
	$vfw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

364 
__cÚ¡
 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

366  
	`__vfw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

367 
	}
}

371 
wch¬_t
 *
	$__fg‘ws_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

372 
__FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

373 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_®Ÿs
,

374 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

375 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws
è
__wur
;

376 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_chk_w¬n
,

377 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

378 
__FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘ws_chk
)

379 
__wur
 
	`__w¬Ç‰r
 ("fgetws called with bigger sizehan†ength "

382 
__ex‹º_®ways_šlše
 
__wur
 
wch¬_t
 *

383 
	$fg‘ws
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

385 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

387 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

388  
	`__fg‘ws_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

389 
__n
, 
__¡»am
);

391 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

392  
	`__fg‘ws_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

393 
__n
, 
__¡»am
);

395  
	`__fg‘ws_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

396 
	}
}

398 #ifdeà
__USE_GNU


399 
wch¬_t
 *
	$__fg‘ws_uÆocked_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
,

400 
__n
, 
__FILE
 *
__»¡riù
 
__¡»am
)

401 
__wur
;

402 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_®Ÿs
,

403 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

404 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws_uÆocked
)

405 
__wur
;

406 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_chk_w¬n
,

407 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

408 
__FILE
 *
__»¡riù
 
__¡»am
),

409 
__fg‘ws_uÆocked_chk
)

410 
__wur
 
	`__w¬Ç‰r
 ("fgetws_unlocked called with bigger sizehan†ength "

413 
__ex‹º_®ways_šlše
 
__wur
 
wch¬_t
 *

414 
	$fg‘ws_uÆocked
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

416 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

418 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

419  
	`__fg‘ws_uÆocked_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

420 
__n
, 
__¡»am
);

422 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

423  
	`__fg‘ws_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

424 
__n
, 
__¡»am
);

426  
	`__fg‘ws_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

427 
	}
}

431 
size_t
 
	$__wütomb_chk
 (*
__s
, 
wch¬_t
 
__wch¬
, 
mb¡©e_t
 *
__p
,

432 
size_t
 
__buæ’
è
__THROW
 
__wur
;

433 
size_t
 
	`__REDIRECT_NTH
 (
__wütomb_®Ÿs
,

434 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

435 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wütomb
è
__wur
;

437 
__ex‹º_®ways_šlše
 
__wur
 
size_t


438 
	`__NTH
 (
	$wütomb
 (*
__s
, 
wch¬_t
 
__wch¬
, 
mb¡©e_t
 *
__ps
))

443 
	#__WCHAR_MB_LEN_MAX
 16

	)

444 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__WCHAR_MB_LEN_MAX


447 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

448  
	`__wütomb_chk
 (
__s
, 
__wch¬
, 
__ps
, 
	`__bos
 (__s));

449  
	`__wütomb_®Ÿs
 (
__s
, 
__wch¬
, 
__ps
);

450 
	}
}

453 
size_t
 
	$__mb¤towcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

454 
__cÚ¡
 **
__»¡riù
 
__¤c
,

455 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

456 
size_t
 
__d¡Ën
è
__THROW
;

457 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_®Ÿs
,

458 (
wch¬_t
 *
__»¡riù
 
__d¡
,

459 
__cÚ¡
 **
__»¡riù
 
__¤c
,

460 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

461 
mb¤towcs
);

462 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_chk_w¬n
,

463 (
wch¬_t
 *
__»¡riù
 
__d¡
,

464 
__cÚ¡
 **
__»¡riù
 
__¤c
,

465 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

466 
size_t
 
__d¡Ën
), 
__mb¤towcs_chk
)

467 
	`__w¬Ç‰r
 ("mbsrtowcs called with dst buffer smallerhan†en "

470 
__ex‹º_®ways_šlše
 
size_t


471 
	`__NTH
 (
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, 
__cÚ¡
 **__»¡riù 
__¤c
,

472 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

474 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

476 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

477  
	`__mb¤towcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

478 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

480 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

481  
	`__mb¤towcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

482 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

484  
	`__mb¤towcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

485 
	}
}

488 
size_t
 
	$__wc¤tombs_chk
 (*
__»¡riù
 
__d¡
,

489 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

490 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

491 
size_t
 
__d¡Ën
è
__THROW
;

492 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_®Ÿs
,

493 (*
__»¡riù
 
__d¡
,

494 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

495 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

496 
wc¤tombs
);

497 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_chk_w¬n
,

498 (*
__»¡riù
 
__d¡
,

499 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

500 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

501 
size_t
 
__d¡Ën
), 
__wc¤tombs_chk
)

502 
	`__w¬Ç‰r
 ("wcsrtombs called with dst buffer smallerhan†en");

504 
__ex‹º_®ways_šlše
 
size_t


505 
	`__NTH
 (
	$wc¤tombs
 (*
__»¡riù
 
__d¡
, 
__cÚ¡
 
wch¬_t
 **__»¡riù 
__¤c
,

506 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

508 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

510 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

511  
	`__wc¤tombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

513 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

514  
	`__wc¤tombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

516  
	`__wc¤tombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

517 
	}
}

520 #ifdeà
__USE_GNU


521 
size_t
 
	$__mb¢¹owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

522 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

523 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

524 
size_t
 
__d¡Ën
è
__THROW
;

525 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_®Ÿs
,

526 (
wch¬_t
 *
__»¡riù
 
__d¡
,

527 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

528 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

529 
mb¢¹owcs
);

530 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_chk_w¬n
,

531 (
wch¬_t
 *
__»¡riù
 
__d¡
,

532 
__cÚ¡
 **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

533 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

534 
size_t
 
__d¡Ën
), 
__mb¢¹owcs_chk
)

535 
	`__w¬Ç‰r
 ("mbsnrtowcs called with dst buffer smallerhan†en "

538 
__ex‹º_®ways_šlše
 
size_t


539 
	`__NTH
 (
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, 
__cÚ¡
 **__»¡riù 
__¤c
,

540 
size_t
 
__nmc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

542 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

544 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

545  
	`__mb¢¹owcs_chk
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

546 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

548 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

549  
	`__mb¢¹owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

550 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

552  
	`__mb¢¹owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
);

553 
	}
}

556 
size_t
 
	$__wc¢¹ombs_chk
 (*
__»¡riù
 
__d¡
,

557 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

558 
size_t
 
__nwc
, size_ˆ
__Ën
,

559 
mb¡©e_t
 *
__»¡riù
 
__ps
, 
size_t
 
__d¡Ën
)

560 
__THROW
;

561 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_®Ÿs
,

562 (*
__»¡riù
 
__d¡
,

563 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

564 
size_t
 
__nwc
, size_ˆ
__Ën
,

565 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wc¢¹ombs
);

566 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_chk_w¬n
,

567 (*
__»¡riù
 
__d¡
,

568 
__cÚ¡
 
wch¬_t
 **
__»¡riù
 
__¤c
,

569 
size_t
 
__nwc
, size_ˆ
__Ën
,

570 
mb¡©e_t
 *
__»¡riù
 
__ps
,

571 
size_t
 
__d¡Ën
), 
__wc¢¹ombs_chk
)

572 
	`__w¬Ç‰r
 ("wcsnrtombs called with dst buffer smallerhan†en");

574 
__ex‹º_®ways_šlše
 
size_t


575 
	`__NTH
 (
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
, 
__cÚ¡
 
wch¬_t
 **__»¡riù 
__¤c
,

576 
size_t
 
__nwc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

578 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

580 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

581  
	`__wc¢¹ombs_chk
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

582 
	`__bos
 (
__d¡
));

584 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

585  
	`__wc¢¹ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

586 
	`__bos
 (
__d¡
));

588  
	`__wc¢¹ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
);

589 
	}
}

	@/usr/include/pthread.h

20 #iâdeà
_PTHREAD_H


21 
	#_PTHREAD_H
 1

	)

23 
	~<ã©u»s.h
>

24 
	~<’dŸn.h
>

25 
	~<sched.h
>

26 
	~<time.h
>

28 
	#__Ãed_sig£t_t


	)

29 
	~<sigÇl.h
>

30 
	~<b™s/±h»adty³s.h
>

31 
	~<b™s/£tjmp.h
>

32 
	~<b™s/wÜdsize.h
>

38 
	mPTHREAD_CREATE_JOINABLE
,

39 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

40 
	mPTHREAD_CREATE_DETACHED


41 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

48 
	mPTHREAD_MUTEX_TIMED_NP
,

49 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

50 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

51 
	mPTHREAD_MUTEX_ADAPTIVE_NP


52 #ifdeà
__USE_UNIX98


54 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

55 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

56 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

57 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


59 #ifdeà
__USE_GNU


61 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


66 #ifdeà
__USE_XOPEN2K


70 
	mPTHREAD_MUTEX_STALLED
,

71 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

72 
	mPTHREAD_MUTEX_ROBUST
,

73 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


78 #ifdeà
__USE_UNIX98


82 
	mPTHREAD_PRIO_NONE
,

83 
	mPTHREAD_PRIO_INHERIT
,

84 
	mPTHREAD_PRIO_PROTECT


90 #ià
__WORDSIZE
 == 64

91 
	#PTHREAD_MUTEX_INITIALIZER
 \

92 { { 0, 0, 0, 0, 0, 0, { 0, 0 } } }

	)

93 #ifdeà
__USE_GNU


94 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0, 0 } } }

	)

96 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

97 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0, 0 } } }

	)

98 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

99 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0, 0 } } }

	)

102 
	#PTHREAD_MUTEX_INITIALIZER
 \

103 { { 0, 0, 0, 0, 0, { 0 } } }

	)

104 #ifdeà
__USE_GNU


105 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0 } } }

	)

107 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

108 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0 } } }

	)

109 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

110 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0 } } }

	)

116 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


119 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

120 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

121 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

122 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


126 
	#PTHREAD_RWLOCK_INITIALIZER
 \

127 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

128 #ifdeà
__USE_GNU


129 #ià
__WORDSIZE
 == 64

130 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

132 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

134 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


135 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

136 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

137 0, 0, 0, 0 } }

	)

139 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

140 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

141 0 } }

	)

151 
	mPTHREAD_INHERIT_SCHED
,

152 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

153 
	mPTHREAD_EXPLICIT_SCHED


154 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

161 
	mPTHREAD_SCOPE_SYSTEM
,

162 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

163 
	mPTHREAD_SCOPE_PROCESS


164 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

171 
	mPTHREAD_PROCESS_PRIVATE
,

172 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

173 
	mPTHREAD_PROCESS_SHARED


174 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

180 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*è0, 0, 0 } }

	)

184 
	s_±h»ad_ş—nup_bufãr


186 (*
	m__routše
) (*);

187 *
	m__¬g
;

188 
	m__ÿnûÉy³
;

189 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

195 
	mPTHREAD_CANCEL_ENABLE
,

196 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

197 
	mPTHREAD_CANCEL_DISABLE


198 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

202 
	mPTHREAD_CANCEL_DEFERRED
,

203 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

204 
	mPTHREAD_CANCEL_ASYNCHRONOUS


205 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

207 
	#PTHREAD_CANCELED
 ((*è-1)

	)

211 
	#PTHREAD_ONCE_INIT
 0

	)

214 #ifdeà
__USE_XOPEN2K


218 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

222 
__BEGIN_DECLS


227 
±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

228 
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

229 *(*
__¡¬t_routše
) (*),

230 *
__»¡riù
 
__¬g
è
__THROW
 
__nÚnuÎ
 ((1, 3));

236 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

244 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

246 #ifdeà
__USE_GNU


249 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

257 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

258 
__cÚ¡
 
time¥ec
 *
__ab¡ime
);

265 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

269 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

272 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
è
__THROW
;

280 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

283 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

284 
__THROW
 
	`__nÚnuÎ
 ((1));

287 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__©Œ
,

288 *
__d‘ach¡©e
)

289 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

292 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

293 
__d‘ach¡©e
)

294 
__THROW
 
	`__nÚnuÎ
 ((1));

298 
	$±h»ad_©Œ_g‘gu¬dsize
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__©Œ
,

299 
size_t
 *
__gu¬dsize
)

300 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

303 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

304 
size_t
 
__gu¬dsize
)

305 
__THROW
 
	`__nÚnuÎ
 ((1));

309 
	$±h»ad_©Œ_g‘sched·¿m
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


310 
__©Œ
,

311 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

312 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

315 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

316 
__cÚ¡
 
sched_·¿m
 *
__»¡riù


317 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

320 
	$±h»ad_©Œ_g‘schedpŞicy
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


321 
__©Œ
, *
__»¡riù
 
__pŞicy
)

322 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

325 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

326 
__THROW
 
	`__nÚnuÎ
 ((1));

329 
	$±h»ad_©Œ_g‘šh”™sched
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


330 
__©Œ
, *
__»¡riù
 
__šh”™
)

331 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

334 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

335 
__šh”™
)

336 
__THROW
 
	`__nÚnuÎ
 ((1));

340 
	$±h»ad_©Œ_g‘scİe
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

341 *
__»¡riù
 
__scİe
)

342 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

345 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

346 
__THROW
 
	`__nÚnuÎ
 ((1));

349 
	$±h»ad_©Œ_g‘¡ackaddr
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


350 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

351 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

357 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

358 *
__¡ackaddr
)

359 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

362 
	$±h»ad_©Œ_g‘¡acksize
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù


363 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

364 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

369 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

370 
size_t
 
__¡acksize
)

371 
__THROW
 
	`__nÚnuÎ
 ((1));

373 #ifdeà
__USE_XOPEN2K


375 
	$±h»ad_©Œ_g‘¡ack
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

376 **
__»¡riù
 
__¡ackaddr
,

377 
size_t
 *
__»¡riù
 
__¡acksize
)

378 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

383 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

384 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

387 #ifdeà
__USE_GNU


390 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

391 
size_t
 
__ıu£tsize
,

392 
__cÚ¡
 
ıu_£t_t
 *
__ıu£t
)

393 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

397 
	$±h»ad_©Œ_g‘affš™y_Å
 (
__cÚ¡
 
±h»ad_©Œ_t
 *
__©Œ
,

398 
size_t
 
__ıu£tsize
,

399 
ıu_£t_t
 *
__ıu£t
)

400 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

406 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

407 
__THROW
 
	`__nÚnuÎ
 ((2));

415 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

416 
__cÚ¡
 
sched_·¿m
 *
__·¿m
)

417 
__THROW
 
	`__nÚnuÎ
 ((3));

420 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

421 *
__»¡riù
 
__pŞicy
,

422 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

423 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

426 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

427 
__THROW
;

430 #ifdeà
__USE_UNIX98


432 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

435 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

438 #ifdeà
__USE_GNU


443 
	$±h»ad_y›ld
 (è
__THROW
;

448 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

449 
__cÚ¡
 
ıu_£t_t
 *
__ıu£t
)

450 
__THROW
 
	`__nÚnuÎ
 ((3));

453 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

454 
ıu_£t_t
 *
__ıu£t
)

455 
__THROW
 
	`__nÚnuÎ
 ((3));

468 
	`±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

469 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

480 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

484 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

487 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

492 
	`±h»ad_‹¡ÿnûl
 ();

501 
__jmp_buf
 
__ÿnûl_jmp_buf
;

502 
__mask_was_§ved
;

503 } 
__ÿnûl_jmp_buf
[1];

504 *
__·d
[4];

505 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

508 #iâdeà
__ş—nup_fù_©Œibu‹


509 
	#__ş—nup_fù_©Œibu‹


	)

514 
	s__±h»ad_ş—nup_äame


516 (*
__ÿnûl_routše
) (*);

517 *
__ÿnûl_¬g
;

518 
__do_™
;

519 
__ÿnûl_ty³
;

522 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


523 #ifdeà
__ılu¥lus


525 şas 
	c__±h»ad_ş—nup_şass


527 (*
__ÿnûl_routše
) (*);

528 *
__ÿnûl_¬g
;

529 
__do_™
;

530 
__ÿnûl_ty³
;

532 
public
:

533 
	`__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

534 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

535 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

536 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

537 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

538 &
__ÿnûl_ty³
); 
	}
}

539 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

549 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

551 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

555 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

556 
__şäame
.
	`__£tdo™
 (
execu‹
); \

557 } 0)

	)

559 #ifdeà
__USE_GNU


563 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

565 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

566 
__şäame
.
	`__deãr
 ()

	)

571 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

572 
__şäame
.
	`__»¡Üe
 (); \

573 
__şäame
.
	`__£tdo™
 (
execu‹
); \

574 } 0)

	)

581 
__ex‹º_šlše
 

582 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

584 ià(
__äame
->
__do_™
)

585 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

586 
	}
}

595 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

597 
__±h»ad_ş—nup_äame
 
__şäame
 \

598 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

599 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

600 .
__do_™
 = 1 };

	)

604 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

605 
__şäame
.
__do_™
 = (
execu‹
); \

606 } 0)

	)

608 #ifdeà
__USE_GNU


612 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

614 
__±h»ad_ş—nup_äame
 
__şäame
 \

615 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

616 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

617 .
__do_™
 = 1 }; \

618 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

619 &
__şäame
.
__ÿnûl_ty³
)

	)

624 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

625 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

626 
__şäame
.
__do_™
 = (
execu‹
); \

627 } 0)

	)

638 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

640 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

641 (*
__ÿnûl_routše
è(*èğ(
routše
); \

642 *
__ÿnûl_¬g
 = (
¬g
); \

643 
nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

644 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

645 ià(
	`__butš_ex³ù
 (
nÙ_fœ¡_ÿÎ
, 0)) \

647 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

648 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

652 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

653 dØ{

	)

654 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

655 
__ş—nup_fù_©Œibu‹
;

659 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

662 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

663 ià(
execu‹
) \

664 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

665 } 0)

	)

666 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

667 
__ş—nup_fù_©Œibu‹
;

669 #ifdeà
__USE_GNU


673 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

675 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

676 (*
__ÿnûl_routše
è(*èğ(
routše
); \

677 *
__ÿnûl_¬g
 = (
¬g
); \

678 
nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

679 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

680 ià(
	`__butš_ex³ù
 (
nÙ_fœ¡_ÿÎ
, 0)) \

682 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

683 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

687 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

688 dØ{

	)

689 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

690 
__ş—nup_fù_©Œibu‹
;

695 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

698 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

699 ià(
execu‹
) \

700 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

701 
	}
} 0)

	)

702 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

703 
__ş—nup_fù_©Œibu‹
;

707 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

708 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

709 #iâdeà
SHARED


710 
	`__©Œibu‹__
 ((
__w—k__
))

716 
__jmp_buf_g
;

717 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROW
;

723 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

724 
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

725 
__THROW
 
	`__nÚnuÎ
 ((1));

728 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

729 
__THROW
 
	`__nÚnuÎ
 ((1));

732 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

733 
__THROW
 
	`__nÚnuÎ
 ((1));

736 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

737 
__THROW
 
	`__nÚnuÎ
 ((1));

739 #ifdeà
__USE_XOPEN2K


741 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

742 
__cÚ¡
 
time¥ec
 *
__»¡riù


743 
__ab¡ime
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

747 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

748 
__THROW
 
	`__nÚnuÎ
 ((1));

751 #ifdeà
__USE_UNIX98


753 
	$±h»ad_mu‹x_g‘´ioûšg
 (
__cÚ¡
 
±h»ad_mu‹x_t
 *

754 
__»¡riù
 
__mu‹x
,

755 *
__»¡riù
 
__´ioûšg
)

756 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

760 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

761 
__´ioûšg
,

762 *
__»¡riù
 
__Şd_ûšg
)

763 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

767 #ifdeà
__USE_XOPEN2K8


769 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

770 
__THROW
 
	`__nÚnuÎ
 ((1));

771 #ifdeà
__USE_GNU


772 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

773 
__THROW
 
	`__nÚnuÎ
 ((1));

782 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

783 
__THROW
 
	`__nÚnuÎ
 ((1));

786 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

787 
__THROW
 
	`__nÚnuÎ
 ((1));

790 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *

791 
__»¡riù
 
__©Œ
,

792 *
__»¡riù
 
__psh¬ed
)

793 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

796 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

797 
__psh¬ed
)

798 
__THROW
 
	`__nÚnuÎ
 ((1));

800 #ifdeà
__USE_UNIX98


802 
	$±h»ad_mu‹x©Œ_g‘ty³
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


803 
__©Œ
, *
__»¡riù
 
__kšd
)

804 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

809 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

810 
__THROW
 
	`__nÚnuÎ
 ((1));

813 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *

814 
__»¡riù
 
__©Œ
,

815 *
__»¡riù
 
__´ÙocŞ
)

816 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

820 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

821 
__´ÙocŞ
)

822 
__THROW
 
	`__nÚnuÎ
 ((1));

825 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *

826 
__»¡riù
 
__©Œ
,

827 *
__»¡riù
 
__´ioûšg
)

828 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

831 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

832 
__´ioûšg
)

833 
__THROW
 
	`__nÚnuÎ
 ((1));

836 #ifdeà
__USE_XOPEN2K


838 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

839 *
__robu¡Ãss
)

840 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

841 #ifdeà
__USE_GNU


842 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (
__cÚ¡
 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

843 *
__robu¡Ãss
)

844 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

848 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

849 
__robu¡Ãss
)

850 
__THROW
 
	`__nÚnuÎ
 ((1));

851 #ifdeà
__USE_GNU


852 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

853 
__robu¡Ãss
)

854 
__THROW
 
	`__nÚnuÎ
 ((1));

859 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


864 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

865 
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *
__»¡riù


866 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

869 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

870 
__THROW
 
	`__nÚnuÎ
 ((1));

873 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

874 
__THROW
 
	`__nÚnuÎ
 ((1));

877 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

878 
__THROW
 
	`__nÚnuÎ
 ((1));

880 #ifdeà
__USE_XOPEN2K


882 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

883 
__cÚ¡
 
time¥ec
 *
__»¡riù


884 
__ab¡ime
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

888 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

889 
__THROW
 
	`__nÚnuÎ
 ((1));

892 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

893 
__THROW
 
	`__nÚnuÎ
 ((1));

895 #ifdeà
__USE_XOPEN2K


897 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

898 
__cÚ¡
 
time¥ec
 *
__»¡riù


899 
__ab¡ime
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

903 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

904 
__THROW
 
	`__nÚnuÎ
 ((1));

910 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

911 
__THROW
 
	`__nÚnuÎ
 ((1));

914 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

915 
__THROW
 
	`__nÚnuÎ
 ((1));

918 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *

919 
__»¡riù
 
__©Œ
,

920 *
__»¡riù
 
__psh¬ed
)

921 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

924 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

925 
__psh¬ed
)

926 
__THROW
 
	`__nÚnuÎ
 ((1));

929 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (
__cÚ¡
 
±h»ad_rwlock©Œ_t
 *

930 
__»¡riù
 
__©Œ
,

931 *
__»¡riù
 
__´ef
)

932 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

935 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

936 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

944 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

945 
__cÚ¡
 
±h»ad_cÚd©Œ_t
 *
__»¡riù


946 
__cÚd_©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

949 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

950 
__THROW
 
	`__nÚnuÎ
 ((1));

953 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

954 
__THROW
 
	`__nÚnuÎ
 ((1));

957 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

958 
__THROW
 
	`__nÚnuÎ
 ((1));

965 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

966 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

967 
	`__nÚnuÎ
 ((1, 2));

976 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

977 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

978 
__cÚ¡
 
time¥ec
 *
__»¡riù


979 
__ab¡ime
è
	`__nÚnuÎ
 ((1, 2, 3));

984 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

985 
__THROW
 
	`__nÚnuÎ
 ((1));

988 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

989 
__THROW
 
	`__nÚnuÎ
 ((1));

992 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_cÚd©Œ_t
 *

993 
__»¡riù
 
__©Œ
,

994 *
__»¡riù
 
__psh¬ed
)

995 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

998 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

999 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1001 #ifdeà
__USE_XOPEN2K


1003 
	$±h»ad_cÚd©Œ_g‘şock
 (
__cÚ¡
 
±h»ad_cÚd©Œ_t
 *

1004 
__»¡riù
 
__©Œ
,

1005 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1006 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1009 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1010 
__şockid_t
 
__şock_id
)

1011 
__THROW
 
	`__nÚnuÎ
 ((1));

1015 #ifdeà
__USE_XOPEN2K


1020 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1021 
__THROW
 
	`__nÚnuÎ
 ((1));

1024 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1025 
__THROW
 
	`__nÚnuÎ
 ((1));

1028 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1029 
__THROW
 
	`__nÚnuÎ
 ((1));

1032 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1033 
__THROW
 
	`__nÚnuÎ
 ((1));

1036 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1037 
__THROW
 
	`__nÚnuÎ
 ((1));

1044 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1045 
__cÚ¡
 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1046 
__©Œ
, 
__couÁ
)

1047 
__THROW
 
	`__nÚnuÎ
 ((1));

1050 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1051 
__THROW
 
	`__nÚnuÎ
 ((1));

1054 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1055 
__THROW
 
	`__nÚnuÎ
 ((1));

1059 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1060 
__THROW
 
	`__nÚnuÎ
 ((1));

1063 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1064 
__THROW
 
	`__nÚnuÎ
 ((1));

1067 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (
__cÚ¡
 
±h»ad_b¬r›¿‰r_t
 *

1068 
__»¡riù
 
__©Œ
,

1069 *
__»¡riù
 
__psh¬ed
)

1070 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1073 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1074 
__psh¬ed
)

1075 
__THROW
 
	`__nÚnuÎ
 ((1));

1087 
	`±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1088 (*
__de¡r_funùiÚ
) (*))

1089 
__THROW
 
	`__nÚnuÎ
 ((1));

1092 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1095 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1098 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1099 
__cÚ¡
 *
__poš‹r
è
__THROW
 ;

1102 #ifdeà
__USE_XOPEN2K


1104 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1105 
__şockid_t
 *
__şock_id
)

1106 
__THROW
 
	`__nÚnuÎ
 ((2));

1121 
	`±h»ad_©fÜk
 ((*
__´•¬e
) (),

1122 (*
__·»Á
) (),

1123 (*
__chd
è()è
__THROW
;

1126 #ifdeà
__USE_EXTERN_INLINES


1128 
__ex‹º_šlše
 

1129 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1131  
__th»ad1
 =ğ
__th»ad2
;

1132 
	}
}

1135 
	g__END_DECLS


	@/usr/include/wctype.h

24 #iâdeà
_WCTYPE_H


26 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

29 #iâdeà
__Ãed_iswxxx


30 
	#_WCTYPE_H
 1

	)

33 
	#__Ãed_wšt_t


	)

34 
	~<¡ddef.h
>

38 #iâdeà
WEOF


39 
	#WEOF
 (0xffffffffu)

	)

42 #undeà
__Ãed_iswxxx


47 #iâdeà
__iswxxx_defšed


48 
	#__iswxxx_defšed
 1

	)

50 
__BEGIN_NAMESPACE_C99


53 
	twùy³_t
;

54 
	g__END_NAMESPACE_C99


56 #iâdeà
_ISwb™


61 
	~<’dŸn.h
>

62 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


63 
	#_ISwb™
(
b™
è(1 << (b™))

	)

65 
	#_ISwb™
(
b™
) \

66 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

67 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

68 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

69 : (è((1UL << (
b™
)è>> 24))))

	)

74 
	m__ISwuµ”
 = 0,

75 
	m__ISwlow”
 = 1,

76 
	m__ISw®pha
 = 2,

77 
	m__ISwdig™
 = 3,

78 
	m__ISwxdig™
 = 4,

79 
	m__ISw¥aû
 = 5,

80 
	m__ISw´št
 = 6,

81 
	m__ISwg¿ph
 = 7,

82 
	m__ISwbÏnk
 = 8,

83 
	m__ISwúŒl
 = 9,

84 
	m__ISwpunù
 = 10,

85 
	m__ISw®num
 = 11,

87 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

88 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

89 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

90 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

91 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

92 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

93 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

94 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

95 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

96 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

97 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

98 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

103 
__BEGIN_DECLS


105 
__BEGIN_NAMESPACE_C99


112 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

118 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

121 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

125 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

129 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

134 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

137 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

142 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

147 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

152 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

157 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

162 #ifdeà
__USE_ISOC99


163 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

172 
wùy³_t
 
	$wùy³
 (
__cÚ¡
 *
__´İ”ty
è
__THROW
;

176 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

177 
__END_NAMESPACE_C99


184 
__BEGIN_NAMESPACE_C99


187 
__cÚ¡
 
	t__št32_t
 *
	twù¿ns_t
;

188 
__END_NAMESPACE_C99


189 #ifdeà
__USE_GNU


190 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

193 
__BEGIN_NAMESPACE_C99


195 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

198 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

199 
__END_NAMESPACE_C99


201 
__END_DECLS


208 #ifdeà
_WCTYPE_H


214 
__BEGIN_DECLS


216 
__BEGIN_NAMESPACE_C99


219 
wù¿ns_t
 
	$wù¿ns
 (
__cÚ¡
 *
__´İ”ty
è
__THROW
;

222 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

223 
__END_NAMESPACE_C99


225 #ifdeà
__USE_XOPEN2K8


227 
	~<xloÿË.h
>

231 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

237 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

240 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

244 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

248 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

253 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

256 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

261 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

266 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

271 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

276 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

281 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

285 
wùy³_t
 
	$wùy³_l
 (
__cÚ¡
 *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

286 
__THROW
;

290 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

291 
__THROW
;

299 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

302 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

306 
wù¿ns_t
 
	$wù¿ns_l
 (
__cÚ¡
 *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

307 
__THROW
;

310 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

311 
__loÿË_t
 
__loÿË
è
__THROW
;

315 
__END_DECLS


	@/usr/include/bits/pthreadtypes.h

20 #iâdeà
_BITS_PTHREADTYPES_H


21 
	#_BITS_PTHREADTYPES_H
 1

	)

23 
	~<b™s/wÜdsize.h
>

25 #ià
__WORDSIZE
 == 64

26 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

27 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

28 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

29 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

30 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

31 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

32 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

33 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

34 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

36 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

37 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

38 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

39 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

40 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

41 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

42 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

43 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

44 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

50 
	t±h»ad_t
;

55 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

56 
	m__®ign
;

57 } 
	t±h»ad_©Œ_t
;

60 #ià
__WORDSIZE
 == 64

61 
	s__±h»ad_š‹º®_li¡


63 
__±h»ad_š‹º®_li¡
 *
	m__´ev
;

64 
__±h»ad_š‹º®_li¡
 *
	m__Ãxt
;

65 } 
	t__±h»ad_li¡_t
;

67 
	s__±h»ad_š‹º®_¦i¡


69 
__±h»ad_š‹º®_¦i¡
 *
	m__Ãxt
;

70 } 
	t__±h»ad_¦i¡_t
;

78 
	s__±h»ad_mu‹x_s


80 
	m__lock
;

81 
	m__couÁ
;

82 
	m__owÃr
;

83 #ià
__WORDSIZE
 == 64

84 
	m__nu£rs
;

88 
	m__kšd
;

89 #ià
__WORDSIZE
 == 64

90 
	m__¥šs
;

91 
__±h»ad_li¡_t
 
	m__li¡
;

92 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

94 
	m__nu£rs
;

95 
__ex‹nsiÚ__
 union

97 
	m__¥šs
;

98 
__±h»ad_¦i¡_t
 
	m__li¡
;

101 } 
	m__d©a
;

102 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

103 
	m__®ign
;

104 } 
	t±h»ad_mu‹x_t
;

108 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

109 
	m__®ign
;

110 } 
	t±h»ad_mu‹x©Œ_t
;

119 
	m__lock
;

120 
	m__fu‹x
;

121 
__ex‹nsiÚ__
 
	m__tÙ®_£q
;

122 
__ex‹nsiÚ__
 
	m__wakeup_£q
;

123 
__ex‹nsiÚ__
 
	m__wok’_£q
;

124 *
	m__mu‹x
;

125 
	m__nwa™”s
;

126 
	m__brßdÿ¡_£q
;

127 } 
	m__d©a
;

128 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

129 
__ex‹nsiÚ__
 
	m__®ign
;

130 } 
	t±h»ad_cÚd_t
;

134 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

135 
	m__®ign
;

136 } 
	t±h»ad_cÚd©Œ_t
;

140 
	t±h»ad_key_t
;

144 
	t±h»ad_Úû_t
;

147 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


152 #ià
__WORDSIZE
 == 64

155 
	m__lock
;

156 
	m__Ä_»ad”s
;

157 
	m__»ad”s_wakeup
;

158 
	m__wr™”_wakeup
;

159 
	m__Ä_»ad”s_queued
;

160 
	m__Ä_wr™”s_queued
;

161 
	m__wr™”
;

162 
	m__sh¬ed
;

163 
	m__·d1
;

164 
	m__·d2
;

167 
	m__æags
;

168 } 
	m__d©a
;

172 
	m__lock
;

173 
	m__Ä_»ad”s
;

174 
	m__»ad”s_wakeup
;

175 
	m__wr™”_wakeup
;

176 
	m__Ä_»ad”s_queued
;

177 
	m__Ä_wr™”s_queued
;

180 
	m__æags
;

181 
	m__sh¬ed
;

182 
	m__·d1
;

183 
	m__·d2
;

184 
	m__wr™”
;

185 } 
	m__d©a
;

187 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

188 
	m__®ign
;

189 } 
	t±h»ad_rwlock_t
;

193 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

194 
	m__®ign
;

195 } 
	t±h»ad_rwlock©Œ_t
;

199 #ifdeà
__USE_XOPEN2K


201 vŞ©
	t±h»ad_¥šlock_t
;

208 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

209 
	m__®ign
;

210 } 
	t±h»ad_b¬r›r_t
;

214 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

215 
	m__®ign
;

216 } 
	t±h»ad_b¬r›¿‰r_t
;

220 #ià
__WORDSIZE
 == 32

222 
	#__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
	`__»g·rm__
 (1)))

	)

	@/usr/include/bits/setjmp.h

20 #iâdeà
_BITS_SETJMP_H


21 
	#_BITS_SETJMP_H
 1

	)

23 #ià!
defšed
 
_SETJMP_H
 && !defšed 
_PTHREAD_H


27 
	~<b™s/wÜdsize.h
>

29 #iâdeà
_ASM


31 #ià
__WORDSIZE
 == 64

32 
	t__jmp_buf
[8];

34 
	t__jmp_buf
[6];

	@/usr/include/sched.h

20 #iâdef 
_SCHED_H


21 
	#_SCHED_H
 1

	)

23 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	#__Ãed_size_t


	)

29 
	~<¡ddef.h
>

31 
	#__Ãed_time¥ec


	)

32 
	~<time.h
>

35 
	~<b™s/sched.h
>

37 
	#sched_´iÜ™y
 
__sched_´iÜ™y


	)

40 
__BEGIN_DECLS


43 
	$sched_£¬am
 (
__pid_t
 
__pid
, 
__cÚ¡
 
sched_·¿m
 *
__·¿m
)

44 
__THROW
;

47 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

50 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

51 
__cÚ¡
 
sched_·¿m
 *
__·¿m
è
__THROW
;

54 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

57 
	$sched_y›ld
 (è
__THROW
;

60 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

63 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

66 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

69 #ifdeà
__USE_GNU


71 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

72 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

73 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

74 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

75 
ıu£
)

	)

76 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

77 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

79 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

80 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

81 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

82 
ıu£
)

	)

83 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

84 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

86 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

87 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

88 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

89 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

91 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

92 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

93 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

94 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

95 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

96 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

97 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

98 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

99 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

100 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

101 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

102 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

104 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

105 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

106 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

110 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

111 
__cÚ¡
 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

114 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

115 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

118 
__END_DECLS


	@/usr/include/signal.h

23 #iâdef 
_SIGNAL_H


25 #ià!
defšed
 
__Ãed_sig_©omic_t
 && !defšed 
__Ãed_sig£t_t


26 
	#_SIGNAL_H


	)

29 
	~<ã©u»s.h
>

31 
	g__BEGIN_DECLS


33 
	~<b™s/sig£t.h
>

37 #ià
defšed
 
__Ãed_sig_©omic_t
 || defšed 
_SIGNAL_H


38 #iâdeà
__sig_©omic_t_defšed


39 
	#__sig_©omic_t_defšed


	)

40 
__BEGIN_NAMESPACE_STD


41 
__sig_©omic_t
 
	tsig_©omic_t
;

42 
	g__END_NAMESPACE_STD


44 #undeà
__Ãed_sig_©omic_t


47 #ià
defšed
 
__Ãed_sig£t_t
 || (defšed 
_SIGNAL_H
 && defšed 
__USE_POSIX
)

48 #iâdeà
__sig£t_t_defšed


49 
	#__sig£t_t_defšed


	)

50 
__sig£t_t
 
	tsig£t_t
;

52 #undeà
__Ãed_sig£t_t


55 #ifdeà
_SIGNAL_H


57 
	~<b™s/ty³s.h
>

58 
	~<b™s/signum.h
>

60 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


61 #iâdeà
__pid_t_defšed


62 
__pid_t
 
	tpid_t
;

63 
	#__pid_t_defšed


	)

65 #ifdeà
__USE_XOPEN


67 #iâdeà
__uid_t_defšed


68 
__uid_t
 
	tuid_t
;

69 
	#__uid_t_defšed


	)

73 #ifdeà
__USE_POSIX199309


75 
	#__Ãed_time¥ec


	)

76 
	~<time.h
>

79 
	~<b™s/sigšfo.h
>

84 (*
	t__sighªdËr_t
) ();

89 
__sighªdËr_t
 
	$__sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

90 
__THROW
;

91 #ifdeà
__USE_GNU


92 
__sighªdËr_t
 
	$sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

93 
__THROW
;

99 
__BEGIN_NAMESPACE_STD


100 #ifdeà
__USE_BSD


101 
__sighªdËr_t
 
	$sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

102 
__THROW
;

105 #ifdeà
__REDIRECT_NTH


106 
__sighªdËr_t
 
	`__REDIRECT_NTH
 (
sigÇl
,

107 (
__sig
, 
__sighªdËr_t
 
__hªdËr
),

108 
__sysv_sigÇl
);

110 
	#sigÇl
 
__sysv_sigÇl


	)

113 
__END_NAMESPACE_STD


115 #ifdeà
__USE_XOPEN


118 
__sighªdËr_t
 
	$bsd_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

119 
__THROW
;

125 #ifdeà
__USE_POSIX


126 
	$kl
 (
__pid_t
 
__pid
, 
__sig
è
__THROW
;

129 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


133 
	$kÍg
 (
__pid_t
 
__pg½
, 
__sig
è
__THROW
;

136 
__BEGIN_NAMESPACE_STD


138 
	$¿i£
 (
__sig
è
__THROW
;

139 
__END_NAMESPACE_STD


141 #ifdeà
__USE_SVID


143 
__sighªdËr_t
 
	$ssigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

144 
__THROW
;

145 
	$gsigÇl
 (
__sig
è
__THROW
;

148 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN2K


150 
	`psigÇl
 (
__sig
, 
__cÚ¡
 *
__s
);

153 #ifdeà
__USE_XOPEN2K


155 
	`psigšfo
 (
__cÚ¡
 
sigšfo_t
 *
__pšfo
, __cÚ¡ *
__s
);

168 
	`__sig·u£
 (
__sig_Ü_mask
, 
__is_sig
);

170 #ifdeà
__FAVOR_BSD


173 
	$sig·u£
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

175 #ifdeà
__USE_XOPEN


176 #ifdeà
__GNUC__


177 
	$sig·u£
 (
__sig
è
	`__asm__
 ("__xpg_sigpause");

180 
	#sig·u£
(
sig
è
	`__sig·u£
 ((sig), 1)

	)

186 #ifdeà
__USE_BSD


193 
	#sigmask
(
sig
è
	`__sigmask
(sig)

	)

196 
	$sigblock
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

199 
	$sig£tmask
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

202 
	$sigg‘mask
 (è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

206 #ifdeà
__USE_MISC


207 
	#NSIG
 
_NSIG


	)

210 #ifdeà
__USE_GNU


211 
__sighªdËr_t
 
	tsighªdËr_t
;

215 #ifdeà
__USE_BSD


216 
__sighªdËr_t
 
	tsig_t
;

219 #ifdeà
__USE_POSIX


222 
	$sigem±y£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

225 
	$sigfl£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

228 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

231 
	$sigd–£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

234 
	$sigismemb”
 (
__cÚ¡
 
sig£t_t
 *
__£t
, 
__signo
)

235 
__THROW
 
	`__nÚnuÎ
 ((1));

237 #ifdeà
__USE_GNU


239 
	$sigi£m±y£t
 (
__cÚ¡
 
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

242 
	$sigªd£t
 (
sig£t_t
 *
__£t
, 
__cÚ¡
 sig£t_ˆ*
__Ëá
,

243 
__cÚ¡
 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

246 
	$sigÜ£t
 (
sig£t_t
 *
__£t
, 
__cÚ¡
 sig£t_ˆ*
__Ëá
,

247 
__cÚ¡
 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

252 
	~<b™s/sigaùiÚ.h
>

255 
	$sig´ocmask
 (
__how
, 
__cÚ¡
 
sig£t_t
 *
__»¡riù
 
__£t
,

256 
sig£t_t
 *
__»¡riù
 
__o£t
è
__THROW
;

263 
	$sigsu¥’d
 (
__cÚ¡
 
sig£t_t
 *
__£t
è
	`__nÚnuÎ
 ((1));

266 
	$sigaùiÚ
 (
__sig
, 
__cÚ¡
 
sigaùiÚ
 *
__»¡riù
 
__aù
,

267 
sigaùiÚ
 *
__»¡riù
 
__ßù
è
__THROW
;

270 
	$sig³ndšg
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

277 
	$sigwa™
 (
__cÚ¡
 
sig£t_t
 *
__»¡riù
 
__£t
, *__»¡riù 
__sig
)

278 
	`__nÚnuÎ
 ((1, 2));

280 #ifdeà
__USE_POSIX199309


285 
	$sigwa™šfo
 (
__cÚ¡
 
sig£t_t
 *
__»¡riù
 
__£t
,

286 
sigšfo_t
 *
__»¡riù
 
__šfo
è
	`__nÚnuÎ
 ((1));

293 
	$sigtimedwa™
 (
__cÚ¡
 
sig£t_t
 *
__»¡riù
 
__£t
,

294 
sigšfo_t
 *
__»¡riù
 
__šfo
,

295 
__cÚ¡
 
time¥ec
 *
__»¡riù
 
__timeout
)

296 
	`__nÚnuÎ
 ((1));

300 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, 
__cÚ¡
 
sigv®
 
__v®
)

301 
__THROW
;

306 #ifdeà
__USE_BSD


310 
__cÚ¡
 *__cÚ¡ 
_sys_sigli¡
[
_NSIG
];

311 
__cÚ¡
 *__cÚ¡ 
sys_sigli¡
[
_NSIG
];

314 
	ssigvec


316 
__sighªdËr_t
 
sv_hªdËr
;

317 
sv_mask
;

319 
sv_æags
;

320 
	#sv_Ú¡ack
 
sv_æags


	)

324 
	#SV_ONSTACK
 (1 << 0)

	)

325 
	#SV_INTERRUPT
 (1 << 1)

	)

326 
	#SV_RESETHAND
 (1 << 2)

	)

334 
	$sigvec
 (
__sig
, 
__cÚ¡
 
sigvec
 *
__vec
,

335 
sigvec
 *
__ovec
è
__THROW
;

339 
	~<b™s/sigcÚ‹xt.h
>

342 
	$sig»tuº
 (
sigcÚ‹xt
 *
__sı
è
__THROW
;

347 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


348 
	#__Ãed_size_t


	)

349 
	~<¡ddef.h
>

354 
	$sigš‹¼u±
 (
__sig
, 
__š‹¼u±
è
__THROW
;

356 
	~<b™s/sig¡ack.h
>

357 #ifdeà
__USE_XOPEN


359 
	~<sys/ucÚ‹xt.h
>

365 
	$sig¡ack
 (
sig¡ack
 *
__ss
, sig¡ack *
__oss
)

366 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

370 
	$sig®t¡ack
 (
__cÚ¡
 
sig®t¡ack
 *
__»¡riù
 
__ss
,

371 
sig®t¡ack
 *
__»¡riù
 
__oss
è
__THROW
;

375 #ifdeà
__USE_XOPEN_EXTENDED


379 
	$sighŞd
 (
__sig
è
__THROW
;

382 
	$sig»l£
 (
__sig
è
__THROW
;

385 
	$sigignÜe
 (
__sig
è
__THROW
;

388 
__sighªdËr_t
 
	$sig£t
 (
__sig
, 
__sighªdËr_t
 
__di¥
è
__THROW
;

391 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


394 
	~<b™s/±h»adty³s.h
>

395 
	~<b™s/sigth»ad.h
>

402 
	$__libc_cu¼’t_sig¹mš
 (è
__THROW
;

404 
	$__libc_cu¼’t_sig¹max
 (è
__THROW
;

408 
__END_DECLS


	@/usr/include/time.h

23 #iâdef 
_TIME_H


25 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

26 ! 
defšed
 
	g__Ãed_time¥ec
)

27 
	#_TIME_H
 1

	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


34 #ifdef 
_TIME_H


36 
	#__Ãed_size_t


	)

37 
	#__Ãed_NULL


	)

38 
	~<¡ddef.h
>

42 
	~<b™s/time.h
>

45 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


46 #iâdeà
CLK_TCK


47 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

53 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

54 
	#__şock_t_defšed
 1

	)

56 
	~<b™s/ty³s.h
>

58 
__BEGIN_NAMESPACE_STD


60 
__şock_t
 
	tşock_t
;

61 
	g__END_NAMESPACE_STD


62 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


63 
	$__USING_NAMESPACE_STD
(
şock_t
)

67 #undeà
__Ãed_şock_t


69 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

70 
	#__time_t_defšed
 1

	)

72 
	~<b™s/ty³s.h
>

74 
__BEGIN_NAMESPACE_STD


76 
__time_t
 
	ttime_t
;

77 
__END_NAMESPACE_STD


78 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC
 || defšed 
__USE_SVID


79 
	$__USING_NAMESPACE_STD
(
time_t
)

83 #undeà
__Ãed_time_t


85 #ià!
defšed
 
__şockid_t_defšed
 && \

86 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

87 
	#__şockid_t_defšed
 1

	)

89 
	~<b™s/ty³s.h
>

92 
__şockid_t
 
	tşockid_t
;

95 #undeà
__şockid_time_t


97 #ià!
defšed
 
__tim”_t_defšed
 && \

98 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

99 
	#__tim”_t_defšed
 1

	)

101 
	~<b™s/ty³s.h
>

104 
__tim”_t
 
	ttim”_t
;

107 #undeà
__Ãed_tim”_t


110 #ià!
defšed
 
__time¥ec_defšed
 && \

111 ((
defšed
 
_TIME_H
 && \

112 (
defšed
 
__USE_POSIX199309
 || defšed 
__USE_MISC
)) || \

113 
defšed
 
__Ãed_time¥ec
)

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 
__cÚ¡
 *
tm_zÚe
;

149 
__tm_gmtoff
;

150 
__cÚ¡
 *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 
__BEGIN_NAMESPACE_STD


183 
şock_t
 
	$şock
 (è
__THROW
;

186 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

189 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

190 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

193 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

199 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

200 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

201 
__cÚ¡
 
tm
 *
__»¡riù
 
__
è
__THROW
;

202 
__END_NAMESPACE_STD


204 #ifdeà
__USE_XOPEN


207 *
	$¡½time
 (
__cÚ¡
 *
__»¡riù
 
__s
,

208 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
tm
 *
__
)

209 
__THROW
;

212 #ifdeà
__USE_XOPEN2K8


215 
	~<xloÿË.h
>

217 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

218 
__cÚ¡
 *
__»¡riù
 
__fÜm©
,

219 
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

220 
__loÿË_t
 
__loc
è
__THROW
;

223 #ifdeà
__USE_GNU


224 *
	$¡½time_l
 (
__cÚ¡
 *
__»¡riù
 
__s
,

225 
__cÚ¡
 *
__»¡riù
 
__fmt
, 
tm
 *
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

230 
__BEGIN_NAMESPACE_STD


233 
tm
 *
	$gmtime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

237 
tm
 *
	$loÿÉime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

238 
__END_NAMESPACE_STD


240 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


243 
tm
 *
	$gmtime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

244 
tm
 *
__»¡riù
 
__
è
__THROW
;

248 
tm
 *
	$loÿÉime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

249 
tm
 *
__»¡riù
 
__
è
__THROW
;

252 
__BEGIN_NAMESPACE_STD


255 *
	$asùime
 (
__cÚ¡
 
tm
 *
__
è
__THROW
;

258 *
	$ùime
 (
__cÚ¡
 
time_t
 *
__tim”
è
__THROW
;

259 
__END_NAMESPACE_STD


261 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


266 *
	$asùime_r
 (
__cÚ¡
 
tm
 *
__»¡riù
 
__
,

267 *
__»¡riù
 
__buf
è
__THROW
;

270 *
	$ùime_r
 (
__cÚ¡
 
time_t
 *
__»¡riù
 
__tim”
,

271 *
__»¡riù
 
__buf
è
__THROW
;

276 *
__tzÇme
[2];

277 
__daylight
;

278 
__timezÚe
;

281 #ifdef 
__USE_POSIX


283 *
tzÇme
[2];

287 
	$tz£t
 (è
__THROW
;

290 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


291 
daylight
;

292 
timezÚe
;

295 #ifdeà
__USE_SVID


298 
	$¡ime
 (
__cÚ¡
 
time_t
 *
__wh’
è
__THROW
;

304 
	#__i¦—p
(
y—r
) \

305 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

308 #ifdeà
__USE_MISC


313 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

316 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

319 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

323 #ifdeà
__USE_POSIX199309


328 
	`Çno¦“p
 (
__cÚ¡
 
time¥ec
 *
__»que¡ed_time
,

329 
time¥ec
 *
__»maššg
);

333 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

336 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

339 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, 
__cÚ¡
 
time¥ec
 *
__
)

340 
__THROW
;

342 #ifdeà
__USE_XOPEN2K


347 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

348 
__cÚ¡
 
time¥ec
 *
__»q
,

349 
time¥ec
 *
__»m
);

352 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

357 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

358 
sigev’t
 *
__»¡riù
 
__evp
,

359 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

362 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

365 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

366 
__cÚ¡
 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

367 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

370 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

371 
__THROW
;

374 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

378 #ifdeà
__USE_XOPEN_EXTENDED


390 
g‘d©e_”r
;

399 
tm
 *
	`g‘d©e
 (
__cÚ¡
 *
__¡ršg
);

402 #ifdeà
__USE_GNU


413 
	`g‘d©e_r
 (
__cÚ¡
 *
__»¡riù
 
__¡ršg
,

414 
tm
 *
__»¡riù
 
__»sbuå
);

417 
__END_DECLS


	@/usr/include/bits/sched.h

22 #iâdeà
__Ãed_sched·¿m


24 #iâdeà
_SCHED_H


30 
	#SCHED_OTHER
 0

	)

31 
	#SCHED_FIFO
 1

	)

32 
	#SCHED_RR
 2

	)

33 #ifdeà
__USE_GNU


34 
	#SCHED_BATCH
 3

	)

37 #ifdeà
__USE_MISC


39 
	#CSIGNAL
 0x000000fà

	)

40 
	#CLONE_VM
 0x00000100

	)

41 
	#CLONE_FS
 0x00000200

	)

42 
	#CLONE_FILES
 0x00000400

	)

43 
	#CLONE_SIGHAND
 0x00000800

	)

44 
	#CLONE_PTRACE
 0x00002000

	)

45 
	#CLONE_VFORK
 0x00004000

	)

47 
	#CLONE_PARENT
 0x00008000

	)

49 
	#CLONE_THREAD
 0x00010000

	)

50 
	#CLONE_NEWNS
 0x00020000

	)

51 
	#CLONE_SYSVSEM
 0x00040000

	)

52 
	#CLONE_SETTLS
 0x00080000

	)

53 
	#CLONE_PARENT_SETTID
 0x00100000

	)

55 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

57 
	#CLONE_DETACHED
 0x00400000

	)

58 
	#CLONE_UNTRACED
 0x00800000

	)

60 
	#CLONE_CHILD_SETTID
 0x01000000

	)

62 
	#CLONE_NEWUTS
 0x04000000

	)

63 
	#CLONE_NEWIPC
 0x08000000

	)

64 
	#CLONE_NEWUSER
 0x10000000

	)

65 
	#CLONE_NEWPID
 0x20000000

	)

66 
	#CLONE_NEWNET
 0x40000000

	)

67 
	#CLONE_IO
 0x80000000

	)

71 
	ssched_·¿m


73 
	m__sched_´iÜ™y
;

76 
	g__BEGIN_DECLS


78 #ifdeà
__USE_MISC


80 
şÚe
 ((*
__â
è(*
__¬g
), *
__chd_¡ack
,

81 
__æags
, *
__¬g
, ...è
__THROW
;

84 
	$unsh¬e
 (
__æags
è
__THROW
;

87 
	$sched_g‘ıu
 (è
__THROW
;

90 
__END_DECLS


94 #ià!
defšed
 
__defšed_sched·¿m
 \

95 && (
defšed
 
__Ãed_sched·¿m
 || defšed 
_SCHED_H
)

96 
	#__defšed_sched·¿m
 1

	)

98 
	s__sched_·¿m


100 
__sched_´iÜ™y
;

102 #undeà
__Ãed_sched·¿m


106 #ià
defšed
 
_SCHED_H
 && !defšed 
__ıu_£t_t_defšed


107 
	#__ıu_£t_t_defšed


	)

109 
	#__CPU_SETSIZE
 1024

	)

110 
	#__NCPUBITS
 (8 *  (
__ıu_mask
))

	)

113 
	t__ıu_mask
;

116 
	#__CPUELT
(
ıu
è((ıuè/ 
__NCPUBITS
)

	)

117 
	#__CPUMASK
(
ıu
è((
__ıu_mask
è1 << ((ıuè% 
__NCPUBITS
))

	)

122 
__ıu_mask
 
__b™s
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

123 } 
	tıu_£t_t
;

126 #ià
	`__GNUC_PREREQ
 (2, 91)

127 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

128 dØ
	`__butš_mem£t
 (
ıu£
, '\0', 
£tsize
); 0)

	)

130 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

132 
size_t
 
__i
; \

133 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

134 
__ıu_mask
 *
__b™s
 = (
ıu£
)->__bits; \

135 
__i
 = 0; __˜< 
__imax
; ++__i) \

136 
__b™s
[
__i
] = 0; \

137 
	}
} 0)

	)

139 
	#__CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
) \

140 (
__ex‹nsiÚ__
 \

141 ({ 
size_t
 
__ıu
 = (
ıu
); \

142 
__ıu
 < 8 * (
£tsize
) \

143 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

144 |ğ
	`__CPUMASK
 (
__ıu
)) \

145 : 0; }))

	)

146 
	#__CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
) \

147 (
__ex‹nsiÚ__
 \

148 ({ 
size_t
 
__ıu
 = (
ıu
); \

149 
__ıu
 < 8 * (
£tsize
) \

150 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

151 &ğ~
	`__CPUMASK
 (
__ıu
)) \

152 : 0; }))

	)

153 
	#__CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
) \

154 (
__ex‹nsiÚ__
 \

155 ({ 
size_t
 
__ıu
 = (
ıu
); \

156 
__ıu
 < 8 * (
£tsize
) \

157 ? ((((
__cÚ¡
 
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

158 & 
	`__CPUMASK
 (
__ıu
))) != 0 \

159 : 0; }))

	)

161 
	#__CPU_COUNT_S
(
£tsize
, 
ıu£
) \

162 
	`__sched_ıucouÁ
 (
£tsize
, 
ıu£
)

	)

164 #ià
__GNUC_PREREQ
 (2, 91)

165 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

166 (
	`__butš_memcmp
 (
ıu£1
, 
ıu£2
, 
£tsize
è=ğ0)

	)

168 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

169 (
__ex‹nsiÚ__
 \

170 ({ 
__cÚ¡
 
__ıu_mask
 *
__¬r1
 = (
ıu£1
)->
__b™s
; \

171 
__cÚ¡
 
__ıu_mask
 *
__¬r2
 = (
ıu£2
)->
__b™s
; \

172 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

173 
size_t
 
__i
; \

174 
__i
 = 0; __˜< 
__imax
; ++__i) \

175 ià(
__b™s
[
__i
] != __bits[__i]) \

177 
__i
 =ğ
__imax
; }))

	)

180 
	#__CPU_OP_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, 
İ
) \

181 (
__ex‹nsiÚ__
 \

182 ({ 
ıu_£t_t
 *
__de¡
 = (
de¡£t
); \

183 
__cÚ¡
 
__ıu_mask
 *
__¬r1
 = (
¤c£t1
)->
__b™s
; \

184 
__cÚ¡
 
__ıu_mask
 *
__¬r2
 = (
¤c£t2
)->
__b™s
; \

185 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

186 
size_t
 
__i
; \

187 
__i
 = 0; __˜< 
__imax
; ++__i) \

188 ((
__ıu_mask
 *è
__de¡
->
__b™s
)[
__i
] = 
__¬r1
[__i] 
İ
 
__¬r2
[__i]; \

189 
__de¡
; }))

	)

191 
	#__CPU_ALLOC_SIZE
(
couÁ
) \

192 ((((
couÁ
è+ 
__NCPUBITS
 - 1è/ __NCPUBITSè*  (
__ıu_mask
))

	)

193 
	#__CPU_ALLOC
(
couÁ
è
	`__sched_ıu®loc
 (couÁ)

	)

194 
	#__CPU_FREE
(
ıu£t
è
	`__sched_ıuä“
 (ıu£t)

	)

196 
__BEGIN_DECLS


198 
	$__sched_ıucouÁ
 (
size_t
 
__£tsize
, cÚ¡ 
ıu_£t_t
 *
__£
)

199 
__THROW
;

200 
ıu_£t_t
 *
	$__sched_ıu®loc
 (
size_t
 
__couÁ
è
__THROW
 
__wur
;

201 
	$__sched_ıuä“
 (
ıu_£t_t
 *
__£t
è
__THROW
;

203 
__END_DECLS


	@/usr/include/bits/sigaction.h

20 #iâdeà
_SIGNAL_H


25 
	ssigaùiÚ


28 #ifdeà
__USE_POSIX199309


32 
__sighªdËr_t
 
	m§_hªdËr
;

34 (*
	m§_sigaùiÚ
è(, 
	msigšfo_t
 *, *);

36 
	m__sigaùiÚ_hªdËr
;

37 
	#§_hªdËr
 
__sigaùiÚ_hªdËr
.
§_hªdËr


	)

38 
	#§_sigaùiÚ
 
__sigaùiÚ_hªdËr
.
§_sigaùiÚ


	)

40 
__sighªdËr_t
 
	m§_hªdËr
;

44 
__sig£t_t
 
	m§_mask
;

47 
	m§_æags
;

50 (*
	m§_»¡Ü”
) ();

54 
	#SA_NOCLDSTOP
 1

	)

55 
	#SA_NOCLDWAIT
 2

	)

56 
	#SA_SIGINFO
 4

	)

58 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_MISC


59 
	#SA_ONSTACK
 0x08000000

	)

60 
	#SA_RESTART
 0x10000000

	)

61 
	#SA_NODEFER
 0x40000000

	)

63 
	#SA_RESETHAND
 0x80000000

	)

65 #ifdeà
__USE_MISC


66 
	#SA_INTERRUPT
 0x20000000

	)

69 
	#SA_NOMASK
 
SA_NODEFER


	)

70 
	#SA_ONESHOT
 
SA_RESETHAND


	)

71 
	#SA_STACK
 
SA_ONSTACK


	)

75 
	#SIG_BLOCK
 0

	)

76 
	#SIG_UNBLOCK
 1

	)

77 
	#SIG_SETMASK
 2

	)

	@/usr/include/bits/sigcontext.h

19 #iâdeà
_BITS_SIGCONTEXT_H


20 
	#_BITS_SIGCONTEXT_H
 1

	)

22 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
_SYS_UCONTEXT_H


26 
	~<b™s/wÜdsize.h
>

28 
	s_å»g


30 
	msignifiÿnd
[4];

31 
	mexpÚ’t
;

34 
	s_åx»g


36 
	msignifiÿnd
[4];

37 
	mexpÚ’t
;

38 
	m·ddšg
[3];

41 
	s_xmm»g


43 
__ušt32_t
 
	m–em’t
[4];

48 #ià
__WORDSIZE
 == 32

50 
	s_å¡©e


53 
__ušt32_t
 
	mcw
;

54 
__ušt32_t
 
	msw
;

55 
__ušt32_t
 
	mg
;

56 
__ušt32_t
 
	moff
;

57 
__ušt32_t
 
	mcs£l
;

58 
__ušt32_t
 
	md©aoff
;

59 
__ušt32_t
 
	md©a£l
;

60 
_å»g
 
	m_¡
[8];

61 
	m¡©us
;

62 
	mmagic
;

65 
__ušt32_t
 
	m_fx¤_’v
[6];

66 
__ušt32_t
 
	mmxc¤
;

67 
__ušt32_t
 
	m»£rved
;

68 
_åx»g
 
	m_fx¤_¡
[8];

69 
_xmm»g
 
	m_xmm
[8];

70 
__ušt32_t
 
	m·ddšg
[56];

73 #iâdeà
sigcÚ‹xt_¡ruù


78 
	#sigcÚ‹xt_¡ruù
 
sigcÚ‹xt


	)

81 
	ssigcÚ‹xt


83 
	mgs
, 
	m__gsh
;

84 
	mfs
, 
	m__fsh
;

85 
	mes
, 
	m__esh
;

86 
	mds
, 
	m__dsh
;

87 
	medi
;

88 
	mesi
;

89 
	mebp
;

90 
	me¥
;

91 
	mebx
;

92 
	medx
;

93 
	mecx
;

94 
	m—x
;

95 
	mŒ­no
;

96 
	m”r
;

97 
	me
;

98 
	mcs
, 
	m__csh
;

99 
	meæags
;

100 
	me¥_©_sigÇl
;

101 
	mss
, 
	m__ssh
;

102 
_å¡©e
 * 
	må¡©e
;

103 
	mŞdmask
;

104 
	mü2
;

109 
	s_å¡©e


112 
__ušt16_t
 
	mcwd
;

113 
__ušt16_t
 
	mswd
;

114 
__ušt16_t
 
	máw
;

115 
__ušt16_t
 
	mfİ
;

116 
__ušt64_t
 
	mr
;

117 
__ušt64_t
 
	mrdp
;

118 
__ušt32_t
 
	mmxc¤
;

119 
__ušt32_t
 
	mmxü_mask
;

120 
_åx»g
 
	m_¡
[8];

121 
_xmm»g
 
	m_xmm
[16];

122 
__ušt32_t
 
	m·ddšg
[24];

125 
	ssigcÚ‹xt


127 
	mr8
;

128 
	mr9
;

129 
	mr10
;

130 
	mr11
;

131 
	mr12
;

132 
	mr13
;

133 
	mr14
;

134 
	mr15
;

135 
	mrdi
;

136 
	mrsi
;

137 
	mrbp
;

138 
	mrbx
;

139 
	mrdx
;

140 
	m¿x
;

141 
	mrcx
;

142 
	mr¥
;

143 
	mr
;

144 
	meæags
;

145 
	mcs
;

146 
	mgs
;

147 
	mfs
;

148 
	m__·d0
;

149 
	m”r
;

150 
	mŒ­no
;

151 
	mŞdmask
;

152 
	mü2
;

153 
_å¡©e
 * 
	må¡©e
;

154 
	m__»£rved1
 [8];

	@/usr/include/bits/siginfo.h

20 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
__Ãed_sigšfo_t
 \

21 && !
defšed
 
	g__Ãed_sigev’t_t


25 
	~<b™s/wÜdsize.h
>

27 #ià(!
defšed
 
__have_sigv®_t
 \

28 && (
defšed
 
	g_SIGNAL_H
 || defšed 
	g__Ãed_sigšfo_t
 \

29 || 
defšed
 
	g__Ãed_sigev’t_t
))

30 
	#__have_sigv®_t
 1

	)

33 
	usigv®


35 
	msiv®_št
;

36 *
	msiv®_±r
;

37 } 
	tsigv®_t
;

40 #ià(!
defšed
 
__have_sigšfo_t
 \

41 && (
defšed
 
	g_SIGNAL_H
 || defšed 
	g__Ãed_sigšfo_t
))

42 
	#__have_sigšfo_t
 1

	)

44 
	#__SI_MAX_SIZE
 128

	)

45 #ià
__WORDSIZE
 == 64

46 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()è- 4)

	)

48 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()è- 3)

	)

51 
	ssigšfo


53 
	msi_signo
;

54 
	msi_”ºo
;

56 
	msi_code
;

60 
	m_·d
[
__SI_PAD_SIZE
];

65 
__pid_t
 
	msi_pid
;

66 
__uid_t
 
	msi_uid
;

67 } 
	m_kl
;

72 
	msi_tid
;

73 
	msi_ov”run
;

74 
sigv®_t
 
	msi_sigv®
;

75 } 
	m_tim”
;

80 
__pid_t
 
	msi_pid
;

81 
__uid_t
 
	msi_uid
;

82 
sigv®_t
 
	msi_sigv®
;

83 } 
	m_¹
;

88 
__pid_t
 
	msi_pid
;

89 
__uid_t
 
	msi_uid
;

90 
	msi_¡©us
;

91 
__şock_t
 
	msi_utime
;

92 
__şock_t
 
	msi_¡ime
;

93 } 
	m_sigchld
;

98 *
	msi_addr
;

99 } 
	m_sigçuÉ
;

104 
	msi_bªd
;

105 
	msi_fd
;

106 } 
	m_sigpŞl
;

107 } 
	m_sif›lds
;

108 } 
	tsigšfo_t
;

112 
	#si_pid
 
_sif›lds
.
_kl
.
si_pid


	)

113 
	#si_uid
 
_sif›lds
.
_kl
.
si_uid


	)

114 
	#si_tim”id
 
_sif›lds
.
_tim”
.
si_tid


	)

115 
	#si_ov”run
 
_sif›lds
.
_tim”
.
si_ov”run


	)

116 
	#si_¡©us
 
_sif›lds
.
_sigchld
.
si_¡©us


	)

117 
	#si_utime
 
_sif›lds
.
_sigchld
.
si_utime


	)

118 
	#si_¡ime
 
_sif›lds
.
_sigchld
.
si_¡ime


	)

119 
	#si_v®ue
 
_sif›lds
.
_¹
.
si_sigv®


	)

120 
	#si_št
 
_sif›lds
.
_¹
.
si_sigv®
.
siv®_št


	)

121 
	#si_±r
 
_sif›lds
.
_¹
.
si_sigv®
.
siv®_±r


	)

122 
	#si_addr
 
_sif›lds
.
_sigçuÉ
.
si_addr


	)

123 
	#si_bªd
 
_sif›lds
.
_sigpŞl
.
si_bªd


	)

124 
	#si_fd
 
_sif›lds
.
_sigpŞl
.
si_fd


	)

131 
	mSI_ASYNCNL
 = -60,

132 
	#SI_ASYNCNL
 
SI_ASYNCNL


	)

133 
	mSI_TKILL
 = -6,

134 
	#SI_TKILL
 
SI_TKILL


	)

135 
	mSI_SIGIO
,

136 
	#SI_SIGIO
 
SI_SIGIO


	)

137 
	mSI_ASYNCIO
,

138 
	#SI_ASYNCIO
 
SI_ASYNCIO


	)

139 
	mSI_MESGQ
,

140 
	#SI_MESGQ
 
SI_MESGQ


	)

141 
	mSI_TIMER
,

142 
	#SI_TIMER
 
SI_TIMER


	)

143 
	mSI_QUEUE
,

144 
	#SI_QUEUE
 
SI_QUEUE


	)

145 
	mSI_USER
,

146 
	#SI_USER
 
SI_USER


	)

147 
	mSI_KERNEL
 = 0x80

148 
	#SI_KERNEL
 
SI_KERNEL


	)

155 
	mILL_ILLOPC
 = 1,

156 
	#ILL_ILLOPC
 
ILL_ILLOPC


	)

157 
	mILL_ILLOPN
,

158 
	#ILL_ILLOPN
 
ILL_ILLOPN


	)

159 
	mILL_ILLADR
,

160 
	#ILL_ILLADR
 
ILL_ILLADR


	)

161 
	mILL_ILLTRP
,

162 
	#ILL_ILLTRP
 
ILL_ILLTRP


	)

163 
	mILL_PRVOPC
,

164 
	#ILL_PRVOPC
 
ILL_PRVOPC


	)

165 
	mILL_PRVREG
,

166 
	#ILL_PRVREG
 
ILL_PRVREG


	)

167 
	mILL_COPROC
,

168 
	#ILL_COPROC
 
ILL_COPROC


	)

169 
	mILL_BADSTK


170 
	#ILL_BADSTK
 
ILL_BADSTK


	)

176 
	mFPE_INTDIV
 = 1,

177 
	#FPE_INTDIV
 
FPE_INTDIV


	)

178 
	mFPE_INTOVF
,

179 
	#FPE_INTOVF
 
FPE_INTOVF


	)

180 
	mFPE_FLTDIV
,

181 
	#FPE_FLTDIV
 
FPE_FLTDIV


	)

182 
	mFPE_FLTOVF
,

183 
	#FPE_FLTOVF
 
FPE_FLTOVF


	)

184 
	mFPE_FLTUND
,

185 
	#FPE_FLTUND
 
FPE_FLTUND


	)

186 
	mFPE_FLTRES
,

187 
	#FPE_FLTRES
 
FPE_FLTRES


	)

188 
	mFPE_FLTINV
,

189 
	#FPE_FLTINV
 
FPE_FLTINV


	)

190 
	mFPE_FLTSUB


191 
	#FPE_FLTSUB
 
FPE_FLTSUB


	)

197 
	mSEGV_MAPERR
 = 1,

198 
	#SEGV_MAPERR
 
SEGV_MAPERR


	)

199 
	mSEGV_ACCERR


200 
	#SEGV_ACCERR
 
SEGV_ACCERR


	)

206 
	mBUS_ADRALN
 = 1,

207 
	#BUS_ADRALN
 
BUS_ADRALN


	)

208 
	mBUS_ADRERR
,

209 
	#BUS_ADRERR
 
BUS_ADRERR


	)

210 
	mBUS_OBJERR


211 
	#BUS_OBJERR
 
BUS_OBJERR


	)

217 
	mTRAP_BRKPT
 = 1,

218 
	#TRAP_BRKPT
 
TRAP_BRKPT


	)

219 
	mTRAP_TRACE


220 
	#TRAP_TRACE
 
TRAP_TRACE


	)

226 
	mCLD_EXITED
 = 1,

227 
	#CLD_EXITED
 
CLD_EXITED


	)

228 
	mCLD_KILLED
,

229 
	#CLD_KILLED
 
CLD_KILLED


	)

230 
	mCLD_DUMPED
,

231 
	#CLD_DUMPED
 
CLD_DUMPED


	)

232 
	mCLD_TRAPPED
,

233 
	#CLD_TRAPPED
 
CLD_TRAPPED


	)

234 
	mCLD_STOPPED
,

235 
	#CLD_STOPPED
 
CLD_STOPPED


	)

236 
	mCLD_CONTINUED


237 
	#CLD_CONTINUED
 
CLD_CONTINUED


	)

243 
	mPOLL_IN
 = 1,

244 
	#POLL_IN
 
POLL_IN


	)

245 
	mPOLL_OUT
,

246 
	#POLL_OUT
 
POLL_OUT


	)

247 
	mPOLL_MSG
,

248 
	#POLL_MSG
 
POLL_MSG


	)

249 
	mPOLL_ERR
,

250 
	#POLL_ERR
 
POLL_ERR


	)

251 
	mPOLL_PRI
,

252 
	#POLL_PRI
 
POLL_PRI


	)

253 
	mPOLL_HUP


254 
	#POLL_HUP
 
POLL_HUP


	)

257 #undeà
__Ãed_sigšfo_t


261 #ià(
defšed
 
_SIGNAL_H
 || defšed 
__Ãed_sigev’t_t
) \

262 && !
defšed
 
	g__have_sigev’t_t


263 
	#__have_sigev’t_t
 1

	)

266 
	#__SIGEV_MAX_SIZE
 64

	)

267 #ià
__WORDSIZE
 == 64

268 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()è- 4)

	)

270 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()è- 3)

	)

273 
	ssigev’t


275 
sigv®_t
 
	msigev_v®ue
;

276 
	msigev_signo
;

277 
	msigev_nÙify
;

281 
	m_·d
[
__SIGEV_PAD_SIZE
];

285 
__pid_t
 
	m_tid
;

289 (*
	m_funùiÚ
è(
	msigv®_t
);

290 *
	m_©Œibu‹
;

291 } 
	m_sigev_th»ad
;

292 } 
	m_sigev_un
;

293 } 
	tsigev’t_t
;

296 
	#sigev_nÙify_funùiÚ
 
_sigev_un
.
_sigev_th»ad
.
_funùiÚ


	)

297 
	#sigev_nÙify_©Œibu‹s
 
_sigev_un
.
_sigev_th»ad
.
_©Œibu‹


	)

302 
	mSIGEV_SIGNAL
 = 0,

303 
	#SIGEV_SIGNAL
 
SIGEV_SIGNAL


	)

304 
	mSIGEV_NONE
,

305 
	#SIGEV_NONE
 
SIGEV_NONE


	)

306 
	mSIGEV_THREAD
,

307 
	#SIGEV_THREAD
 
SIGEV_THREAD


	)

309 
	mSIGEV_THREAD_ID
 = 4

310 
	#SIGEV_THREAD_ID
 
SIGEV_THREAD_ID


	)

	@/usr/include/bits/signum.h

20 #ifdef 
_SIGNAL_H


23 
	#SIG_ERR
 ((
__sighªdËr_t
è-1è

	)

24 
	#SIG_DFL
 ((
__sighªdËr_t
è0è

	)

25 
	#SIG_IGN
 ((
__sighªdËr_t
è1è

	)

27 #ifdeà
__USE_UNIX98


28 
	#SIG_HOLD
 ((
__sighªdËr_t
è2è

	)

33 
	#SIGHUP
 1

	)

34 
	#SIGINT
 2

	)

35 
	#SIGQUIT
 3

	)

36 
	#SIGILL
 4

	)

37 
	#SIGTRAP
 5

	)

38 
	#SIGABRT
 6

	)

39 
	#SIGIOT
 6

	)

40 
	#SIGBUS
 7

	)

41 
	#SIGFPE
 8

	)

42 
	#SIGKILL
 9

	)

43 
	#SIGUSR1
 10

	)

44 
	#SIGSEGV
 11

	)

45 
	#SIGUSR2
 12

	)

46 
	#SIGPIPE
 13

	)

47 
	#SIGALRM
 14

	)

48 
	#SIGTERM
 15

	)

49 
	#SIGSTKFLT
 16

	)

50 
	#SIGCLD
 
SIGCHLD


	)

51 
	#SIGCHLD
 17

	)

52 
	#SIGCONT
 18

	)

53 
	#SIGSTOP
 19

	)

54 
	#SIGTSTP
 20

	)

55 
	#SIGTTIN
 21

	)

56 
	#SIGTTOU
 22

	)

57 
	#SIGURG
 23

	)

58 
	#SIGXCPU
 24

	)

59 
	#SIGXFSZ
 25

	)

60 
	#SIGVTALRM
 26

	)

61 
	#SIGPROF
 27

	)

62 
	#SIGWINCH
 28

	)

63 
	#SIGPOLL
 
SIGIO


	)

64 
	#SIGIO
 29

	)

65 
	#SIGPWR
 30

	)

66 
	#SIGSYS
 31

	)

67 
	#SIGUNUSED
 31

	)

69 
	#_NSIG
 65

	)

72 
	#SIGRTMIN
 (
	`__libc_cu¼’t_sig¹mš
 ())

	)

73 
	#SIGRTMAX
 (
	`__libc_cu¼’t_sig¹max
 ())

	)

77 
	#__SIGRTMIN
 32

	)

78 
	#__SIGRTMAX
 (
_NSIG
 - 1)

	)

	@/usr/include/bits/sigset.h

21 #iâdef 
_SIGSET_H_ty³s


22 
	#_SIGSET_H_ty³s
 1

	)

24 
	t__sig_©omic_t
;

28 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

31 
	m__v®
[
_SIGSET_NWORDS
];

32 } 
	t__sig£t_t
;

43 #ià!
defšed
 
_SIGSET_H_âs
 && defšed 
_SIGNAL_H


44 
	#_SIGSET_H_âs
 1

	)

46 #iâdeà
_EXTERN_INLINE


47 
	#_EXTERN_INLINE
 
__ex‹º_šlše


	)

51 
	#__sigmask
(
sig
) \

52 (((è1è<< (((
sig
è- 1è% (8 *  ())))

	)

55 
	#__sigwÜd
(
sig
è(((sigè- 1è/ (8 *  ()))

	)

57 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

58 
	#__sigem±y£t
(
£t
) \

59 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

60 
sig£t_t
 *
__£t
 = (
£t
); \

61 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = 0; \

62 0; }))

	)

63 
	#__sigfl£t
(
£t
) \

64 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

65 
sig£t_t
 *
__£t
 = (
£t
); \

66 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = ~0UL; \

67 0; }))

	)

69 #ifdeà
__USE_GNU


73 
	#__sigi£m±y£t
(
£t
) \

74 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

75 cÚ¡ 
sig£t_t
 *
__£t
 = (
£t
); \

76 
__»t
 = 
__£t
->
__v®
[--
__út
]; \

77 !
__»t
 && --
__út
 >= 0) \

78 
__»t
 = 
__£t
->
__v®
[
__út
]; \

79 
__»t
 =ğ0; }))

	)

80 
	#__sigªd£t
(
de¡
, 
Ëá
, 
right
) \

81 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

82 
sig£t_t
 *
__de¡
 = (
de¡
); \

83 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

84 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

85 --
__út
 >= 0) \

86 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

87 & 
__right
->
__v®
[
__út
]); \

88 0; }))

	)

89 
	#__sigÜ£t
(
de¡
, 
Ëá
, 
right
) \

90 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

91 
sig£t_t
 *
__de¡
 = (
de¡
); \

92 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

93 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

94 --
__út
 >= 0) \

95 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

96 | 
__right
->
__v®
[
__út
]); \

97 0; }))

	)

104 
__sigismemb”
 (
__cÚ¡
 
__sig£t_t
 *, );

105 
__sigadd£t
 (
__sig£t_t
 *, );

106 
__sigd–£t
 (
__sig£t_t
 *, );

108 #ifdeà
__USE_EXTERN_INLINES


109 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

110 
_EXTERN_INLINE
 \

111 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

113 
__mask
 = 
	`__sigmask
 (
__sig
); \

114 
__wÜd
 = 
	`__sigwÜd
 (
__sig
); \

115  
BODY
; \

116 }

	)

118 
__SIGSETFN
 (
__sigismemb”
, (
__£t
->
__v®
[
__wÜd
] & 
__mask
è? 1 : 0, 
__cÚ¡
)

119 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__v®
[
__wÜd
] |ğ
__mask
), 0), )

120 
__SIGSETFN
 (
__sigd–£t
, ((
__£t
->
__v®
[
__wÜd
] &ğ~
__mask
), 0), )

122 #undeà
__SIGSETFN


	@/usr/include/bits/sigstack.h

20 #iâdeà
_SIGNAL_H


26 
	ssig¡ack


28 *
	mss_¥
;

29 
	mss_Ú¡ack
;

36 
	mSS_ONSTACK
 = 1,

37 
	#SS_ONSTACK
 
SS_ONSTACK


	)

38 
	mSS_DISABLE


39 
	#SS_DISABLE
 
SS_DISABLE


	)

43 
	#MINSIGSTKSZ
 2048

	)

46 
	#SIGSTKSZ
 8192

	)

50 
	ssig®t¡ack


52 *
	mss_¥
;

53 
	mss_æags
;

54 
size_t
 
	mss_size
;

55 } 
	t¡ack_t
;

	@/usr/include/bits/sigthread.h

20 #iâdeà
_BITS_SIGTHREAD_H


21 
	#_BITS_SIGTHREAD_H
 1

	)

23 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
_PTHREAD_H


31 
	$±h»ad_sigmask
 (
__how
,

32 
__cÚ¡
 
__sig£t_t
 *
__»¡riù
 
__Ãwmask
,

33 
__sig£t_t
 *
__»¡riù
 
__Şdmask
)
__THROW
;

36 
	$±h»ad_kl
 (
±h»ad_t
 
__th»adid
, 
__signo
è
__THROW
;

	@/usr/include/bits/time.h

24 #iâdeà
__Ãed_timev®


25 #iâdeà
_BITS_TIME_H


26 
	#_BITS_TIME_H
 1

	)

34 
	#CLOCKS_PER_SEC
 1000000l

	)

36 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


39 
	~<b™s/ty³s.h
>

40 
__syscÚf
 ();

41 
	#CLK_TCK
 ((
__şock_t
è
	`__syscÚf
 (2)è

	)

44 #ifdeà
__USE_POSIX199309


46 
	#CLOCK_REALTIME
 0

	)

48 
	#CLOCK_MONOTONIC
 1

	)

50 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

52 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

55 
	#TIMER_ABSTIME
 1

	)

61 #ifdeà
__Ãed_timev®


62 #undeà
__Ãed_timev®


63 #iâdeà
_STRUCT_TIMEVAL


64 
	#_STRUCT_TIMEVAL
 1

	)

65 
	~<b™s/ty³s.h
>

69 
	stimev®


71 
__time_t
 
	mtv_£c
;

72 
__su£cÚds_t
 
	mtv_u£c
;

	@/usr/include/sys/ucontext.h

19 #iâdeà
_SYS_UCONTEXT_H


20 
	#_SYS_UCONTEXT_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	~<sigÇl.h
>

24 
	~<b™s/wÜdsize.h
>

28 
	~<b™s/sigcÚ‹xt.h
>

30 #ià
__WORDSIZE
 == 64

33 
	tg»g_t
;

36 
	#NGREG
 23

	)

39 
g»g_t
 
	tg»g£t_t
[
NGREG
];

41 #ifdeà
__USE_GNU


45 
	mREG_R8
 = 0,

46 
	#REG_R8
 
REG_R8


	)

47 
	mREG_R9
,

48 
	#REG_R9
 
REG_R9


	)

49 
	mREG_R10
,

50 
	#REG_R10
 
REG_R10


	)

51 
	mREG_R11
,

52 
	#REG_R11
 
REG_R11


	)

53 
	mREG_R12
,

54 
	#REG_R12
 
REG_R12


	)

55 
	mREG_R13
,

56 
	#REG_R13
 
REG_R13


	)

57 
	mREG_R14
,

58 
	#REG_R14
 
REG_R14


	)

59 
	mREG_R15
,

60 
	#REG_R15
 
REG_R15


	)

61 
	mREG_RDI
,

62 
	#REG_RDI
 
REG_RDI


	)

63 
	mREG_RSI
,

64 
	#REG_RSI
 
REG_RSI


	)

65 
	mREG_RBP
,

66 
	#REG_RBP
 
REG_RBP


	)

67 
	mREG_RBX
,

68 
	#REG_RBX
 
REG_RBX


	)

69 
	mREG_RDX
,

70 
	#REG_RDX
 
REG_RDX


	)

71 
	mREG_RAX
,

72 
	#REG_RAX
 
REG_RAX


	)

73 
	mREG_RCX
,

74 
	#REG_RCX
 
REG_RCX


	)

75 
	mREG_RSP
,

76 
	#REG_RSP
 
REG_RSP


	)

77 
	mREG_RIP
,

78 
	#REG_RIP
 
REG_RIP


	)

79 
	mREG_EFL
,

80 
	#REG_EFL
 
REG_EFL


	)

81 
	mREG_CSGSFS
,

82 
	#REG_CSGSFS
 
REG_CSGSFS


	)

83 
	mREG_ERR
,

84 
	#REG_ERR
 
REG_ERR


	)

85 
	mREG_TRAPNO
,

86 
	#REG_TRAPNO
 
REG_TRAPNO


	)

87 
	mREG_OLDMASK
,

88 
	#REG_OLDMASK
 
REG_OLDMASK


	)

89 
	mREG_CR2


90 
	#REG_CR2
 
REG_CR2


	)

94 
	s_libc_åx»g


96 
	msignifiÿnd
[4];

97 
	mexpÚ’t
;

98 
	m·ddšg
[3];

101 
	s_libc_xmm»g


103 
__ušt32_t
 
	m–em’t
[4];

106 
	s_libc_å¡©e


109 
__ušt16_t
 
	mcwd
;

110 
__ušt16_t
 
	mswd
;

111 
__ušt16_t
 
	máw
;

112 
__ušt16_t
 
	mfİ
;

113 
__ušt64_t
 
	mr
;

114 
__ušt64_t
 
	mrdp
;

115 
__ušt32_t
 
	mmxc¤
;

116 
__ušt32_t
 
	mmxü_mask
;

117 
_libc_åx»g
 
	m_¡
[8];

118 
_libc_xmm»g
 
	m_xmm
[16];

119 
__ušt32_t
 
	m·ddšg
[24];

123 
_libc_å¡©e
 *
	tå»g£t_t
;

128 
g»g£t_t
 
	mg»gs
;

130 
å»g£t_t
 
	må»gs
;

131 
	m__»£rved1
 [8];

132 } 
	tmcÚ‹xt_t
;

135 
	sucÚ‹xt


137 
	muc_æags
;

138 
ucÚ‹xt
 *
	muc_lšk
;

139 
¡ack_t
 
	muc_¡ack
;

140 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

141 
__sig£t_t
 
	muc_sigmask
;

142 
_libc_å¡©e
 
	m__å»gs_mem
;

143 } 
	tucÚ‹xt_t
;

148 
	tg»g_t
;

151 
	#NGREG
 19

	)

154 
g»g_t
 
	tg»g£t_t
[
NGREG
];

156 #ifdeà
__USE_GNU


160 
	mREG_GS
 = 0,

161 
	#REG_GS
 
REG_GS


	)

162 
	mREG_FS
,

163 
	#REG_FS
 
REG_FS


	)

164 
	mREG_ES
,

165 
	#REG_ES
 
REG_ES


	)

166 
	mREG_DS
,

167 
	#REG_DS
 
REG_DS


	)

168 
	mREG_EDI
,

169 
	#REG_EDI
 
REG_EDI


	)

170 
	mREG_ESI
,

171 
	#REG_ESI
 
REG_ESI


	)

172 
	mREG_EBP
,

173 
	#REG_EBP
 
REG_EBP


	)

174 
	mREG_ESP
,

175 
	#REG_ESP
 
REG_ESP


	)

176 
	mREG_EBX
,

177 
	#REG_EBX
 
REG_EBX


	)

178 
	mREG_EDX
,

179 
	#REG_EDX
 
REG_EDX


	)

180 
	mREG_ECX
,

181 
	#REG_ECX
 
REG_ECX


	)

182 
	mREG_EAX
,

183 
	#REG_EAX
 
REG_EAX


	)

184 
	mREG_TRAPNO
,

185 
	#REG_TRAPNO
 
REG_TRAPNO


	)

186 
	mREG_ERR
,

187 
	#REG_ERR
 
REG_ERR


	)

188 
	mREG_EIP
,

189 
	#REG_EIP
 
REG_EIP


	)

190 
	mREG_CS
,

191 
	#REG_CS
 
REG_CS


	)

192 
	mREG_EFL
,

193 
	#REG_EFL
 
REG_EFL


	)

194 
	mREG_UESP
,

195 
	#REG_UESP
 
REG_UESP


	)

196 
	mREG_SS


197 
	#REG_SS
 
REG_SS


	)

202 
	s_libc_å»g


204 
	msignifiÿnd
[4];

205 
	mexpÚ’t
;

208 
	s_libc_å¡©e


210 
	mcw
;

211 
	msw
;

212 
	mg
;

213 
	moff
;

214 
	mcs£l
;

215 
	md©aoff
;

216 
	md©a£l
;

217 
_libc_å»g
 
	m_¡
[8];

218 
	m¡©us
;

222 
_libc_å¡©e
 *
	tå»g£t_t
;

227 
g»g£t_t
 
	mg»gs
;

230 
å»g£t_t
 
	må»gs
;

231 
	mŞdmask
;

232 
	mü2
;

233 } 
	tmcÚ‹xt_t
;

236 
	sucÚ‹xt


238 
	muc_æags
;

239 
ucÚ‹xt
 *
	muc_lšk
;

240 
¡ack_t
 
	muc_¡ack
;

241 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

242 
__sig£t_t
 
	muc_sigmask
;

243 
_libc_å¡©e
 
	m__å»gs_mem
;

244 } 
	tucÚ‹xt_t
;

	@
1
.
1
/usr/include
154
3135
BarInfo.cpp
BarInfo.h
Chrome.cpp
Chrome.h
ChromeClient.h
Console.cpp
Console.h
ContextMenuClient.h
ContextMenuController.cpp
ContextMenuController.h
ContextMenuProvider.h
Coordinates.h
DOMSelection.cpp
DOMSelection.h
DOMTimer.cpp
DOMTimer.h
DOMWindow.cpp
DOMWindow.h
DragActions.h
DragClient.h
DragController.cpp
DragController.h
EditorClient.h
EventHandler.cpp
EventHandler.h
EventSource.cpp
EventSource.h
FocusController.cpp
FocusController.h
FocusDirection.h
Frame.cpp
Frame.h
FrameLoadRequest.h
FrameTree.cpp
FrameTree.h
FrameView.cpp
FrameView.h
Geolocation.cpp
Geolocation.h
GeolocationController.cpp
GeolocationController.h
GeolocationControllerClient.h
GeolocationError.h
GeolocationPosition.h
GeolocationPositionCache.cpp
GeolocationPositionCache.h
Geoposition.h
HaltablePlugin.h
History.cpp
History.h
Location.cpp
Location.h
MediaCanStartListener.h
MouseEventWithHitTestResults.cpp
MouseEventWithHitTestResults.h
Navigator.cpp
Navigator.h
NavigatorBase.cpp
NavigatorBase.h
OriginAccessEntry.cpp
OriginAccessEntry.h
Page.cpp
Page.h
PageGroup.cpp
PageGroup.h
PageGroupLoadDeferrer.cpp
PageGroupLoadDeferrer.h
PluginHalter.cpp
PluginHalter.h
PluginHalterClient.h
PositionCallback.h
PositionError.h
PositionErrorCallback.h
PositionOptions.h
PrintContext.cpp
PrintContext.h
Screen.cpp
Screen.h
SecurityOrigin.cpp
SecurityOrigin.h
SecurityOriginHash.h
Settings.cpp
Settings.h
SpatialNavigation.cpp
SpatialNavigation.h
UserContentURLPattern.cpp
UserContentURLPattern.h
UserScript.h
UserScriptTypes.h
UserStyleSheet.h
UserStyleSheetTypes.h
WebKitPoint.h
WindowFeatures.cpp
WindowFeatures.h
WorkerNavigator.cpp
WorkerNavigator.h
XSSAuditor.cpp
XSSAuditor.h
ZoomMode.h
/usr/include/limits.h
/usr/include/stdio.h
/usr/include/sys/utsname.h
/usr/include/bits/posix1_lim.h
/usr/include/bits/posix2_lim.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/types.h
/usr/include/bits/utsname.h
/usr/include/bits/wordsize.h
/usr/include/bits/xopen_lim.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/_G_config.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/local_lim.h
/usr/include/bits/predefs.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/typesizes.h
/usr/include/ctype.h
/usr/include/gnu/stubs.h
/usr/include/sys/cdefs.h
/usr/include/bits/libc-lock.h
/usr/include/endian.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/linux/limits.h
/usr/include/wchar.h
/usr/include/xlocale.h
/usr/include/bits/byteswap.h
/usr/include/bits/endian.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar.h
/usr/include/bits/wchar2.h
/usr/include/pthread.h
/usr/include/wctype.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/setjmp.h
/usr/include/sched.h
/usr/include/signal.h
/usr/include/time.h
/usr/include/bits/sched.h
/usr/include/bits/sigaction.h
/usr/include/bits/sigcontext.h
/usr/include/bits/siginfo.h
/usr/include/bits/signum.h
/usr/include/bits/sigset.h
/usr/include/bits/sigstack.h
/usr/include/bits/sigthread.h
/usr/include/bits/time.h
/usr/include/sys/ucontext.h
